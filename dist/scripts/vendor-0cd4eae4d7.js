/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
/*!
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * @link   http://www.phpied.com/rgb-color-parser-in-javascript/
 * @license Use it if you like it
 */
function RGBColor(t){this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in e)t==n&&(t=e[n]);for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],i=0;i<r.length;i++){var o=r[i].re,a=r[i].process,s=o.exec(t);s&&(channels=a(s),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n},this.getHelpXML=function(){for(var t=new Array,n=0;n<r.length;n++)for(var i=r[n].example,o=0;o<i.length;o++)t[t.length]=i[o];for(var a in e)t[t.length]=a;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(var n=0;n<t.length;n++)try{var l=document.createElement("li"),u=new RGBColor(t[n]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),c.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+t[n]+" -> "+u.toRGB()+" -> "+u.toHex());l.appendChild(c),l.appendChild(h),s.appendChild(l)}catch(d){}return s}}function stackBlurImage(t,e,n,r){var i=document.getElementById(t),o=i.naturalWidth,a=i.naturalHeight,s=document.getElementById(e);s.style.width=o+"px",s.style.height=a+"px",s.width=o,s.height=a;var l=s.getContext("2d");l.clearRect(0,0,o,a),l.drawImage(i,0,0),isNaN(n)||1>n||(r?stackBlurCanvasRGBA(e,0,0,o,a,n):stackBlurCanvasRGB(e,0,0,o,a,n))}function stackBlurCanvasRGBA(t,e,n,r,i,o){if(!(isNaN(o)||1>o)){o|=0;var a,s=document.getElementById(t),l=s.getContext("2d");try{try{a=l.getImageData(e,n,r,i)}catch(u){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),a=l.getImageData(e,n,r,i)}catch(u){throw alert("Cannot access local image"),new Error("unable to access local image data: "+u)}}}catch(u){throw alert("Cannot access image"),new Error("unable to access image data: "+u)}var c,h,d,f,p,g,m,v,y,w,b,x,C,_,E,T,k,S,$,M,A,R,D,O,P=a.data,H=o+o+1,L=r-1,N=i-1,I=o+1,B=I*(I+1)/2,j=new BlurStack,F=j;for(d=1;H>d;d++)if(F=F.next=new BlurStack,d==I)var V=F;F.next=j;var q=null,z=null;m=g=0;var W=mul_table[o],U=shg_table[o];for(h=0;i>h;h++){for(T=k=S=$=v=y=w=b=0,x=I*(M=P[g]),C=I*(A=P[g+1]),_=I*(R=P[g+2]),E=I*(D=P[g+3]),v+=B*M,y+=B*A,w+=B*R,b+=B*D,F=j,d=0;I>d;d++)F.r=M,F.g=A,F.b=R,F.a=D,F=F.next;for(d=1;I>d;d++)f=g+((d>L?L:d)<<2),v+=(F.r=M=P[f])*(O=I-d),y+=(F.g=A=P[f+1])*O,w+=(F.b=R=P[f+2])*O,b+=(F.a=D=P[f+3])*O,T+=M,k+=A,S+=R,$+=D,F=F.next;for(q=j,z=V,c=0;r>c;c++)P[g+3]=D=b*W>>U,0!=D?(D=255/D,P[g]=(v*W>>U)*D,P[g+1]=(y*W>>U)*D,P[g+2]=(w*W>>U)*D):P[g]=P[g+1]=P[g+2]=0,v-=x,y-=C,w-=_,b-=E,x-=q.r,C-=q.g,_-=q.b,E-=q.a,f=m+((f=c+o+1)<L?f:L)<<2,T+=q.r=P[f],k+=q.g=P[f+1],S+=q.b=P[f+2],$+=q.a=P[f+3],v+=T,y+=k,w+=S,b+=$,q=q.next,x+=M=z.r,C+=A=z.g,_+=R=z.b,E+=D=z.a,T-=M,k-=A,S-=R,$-=D,z=z.next,g+=4;m+=r}for(c=0;r>c;c++){for(k=S=$=T=y=w=b=v=0,g=c<<2,x=I*(M=P[g]),C=I*(A=P[g+1]),_=I*(R=P[g+2]),E=I*(D=P[g+3]),v+=B*M,y+=B*A,w+=B*R,b+=B*D,F=j,d=0;I>d;d++)F.r=M,F.g=A,F.b=R,F.a=D,F=F.next;for(p=r,d=1;o>=d;d++)g=p+c<<2,v+=(F.r=M=P[g])*(O=I-d),y+=(F.g=A=P[g+1])*O,w+=(F.b=R=P[g+2])*O,b+=(F.a=D=P[g+3])*O,T+=M,k+=A,S+=R,$+=D,F=F.next,N>d&&(p+=r);for(g=c,q=j,z=V,h=0;i>h;h++)f=g<<2,P[f+3]=D=b*W>>U,D>0?(D=255/D,P[f]=(v*W>>U)*D,P[f+1]=(y*W>>U)*D,P[f+2]=(w*W>>U)*D):P[f]=P[f+1]=P[f+2]=0,v-=x,y-=C,w-=_,b-=E,x-=q.r,C-=q.g,_-=q.b,E-=q.a,f=c+((f=h+I)<N?f:N)*r<<2,v+=T+=q.r=P[f],y+=k+=q.g=P[f+1],w+=S+=q.b=P[f+2],b+=$+=q.a=P[f+3],q=q.next,x+=M=z.r,C+=A=z.g,_+=R=z.b,E+=D=z.a,T-=M,k-=A,S-=R,$-=D,z=z.next,g+=r}l.putImageData(a,e,n)}}function stackBlurCanvasRGB(t,e,n,r,i,o){if(!(isNaN(o)||1>o)){o|=0;var a,s=document.getElementById(t),l=s.getContext("2d");try{try{a=l.getImageData(e,n,r,i)}catch(u){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),a=l.getImageData(e,n,r,i)}catch(u){throw alert("Cannot access local image"),new Error("unable to access local image data: "+u)}}}catch(u){throw alert("Cannot access image"),new Error("unable to access image data: "+u)}var c,h,d,f,p,g,m,v,y,w,b,x,C,_,E,T,k,S,$,M,A=a.data,R=o+o+1,D=r-1,O=i-1,P=o+1,H=P*(P+1)/2,L=new BlurStack,N=L;for(d=1;R>d;d++)if(N=N.next=new BlurStack,d==P)var I=N;N.next=L;var B=null,j=null;m=g=0;var F=mul_table[o],V=shg_table[o];for(h=0;i>h;h++){for(_=E=T=v=y=w=0,b=P*(k=A[g]),x=P*(S=A[g+1]),C=P*($=A[g+2]),v+=H*k,y+=H*S,w+=H*$,N=L,d=0;P>d;d++)N.r=k,N.g=S,N.b=$,N=N.next;for(d=1;P>d;d++)f=g+((d>D?D:d)<<2),v+=(N.r=k=A[f])*(M=P-d),y+=(N.g=S=A[f+1])*M,w+=(N.b=$=A[f+2])*M,_+=k,E+=S,T+=$,N=N.next;for(B=L,j=I,c=0;r>c;c++)A[g]=v*F>>V,A[g+1]=y*F>>V,A[g+2]=w*F>>V,v-=b,y-=x,w-=C,b-=B.r,x-=B.g,C-=B.b,f=m+((f=c+o+1)<D?f:D)<<2,_+=B.r=A[f],E+=B.g=A[f+1],T+=B.b=A[f+2],v+=_,y+=E,w+=T,B=B.next,b+=k=j.r,x+=S=j.g,C+=$=j.b,_-=k,E-=S,T-=$,j=j.next,g+=4;m+=r}for(c=0;r>c;c++){for(E=T=_=y=w=v=0,g=c<<2,b=P*(k=A[g]),x=P*(S=A[g+1]),C=P*($=A[g+2]),v+=H*k,y+=H*S,w+=H*$,N=L,d=0;P>d;d++)N.r=k,N.g=S,N.b=$,N=N.next;for(p=r,d=1;o>=d;d++)g=p+c<<2,v+=(N.r=k=A[g])*(M=P-d),y+=(N.g=S=A[g+1])*M,w+=(N.b=$=A[g+2])*M,_+=k,E+=S,T+=$,N=N.next,O>d&&(p+=r);for(g=c,B=L,j=I,h=0;i>h;h++)f=g<<2,A[f]=v*F>>V,A[f+1]=y*F>>V,A[f+2]=w*F>>V,v-=b,y-=x,w-=C,b-=B.r,x-=B.g,C-=B.b,f=c+((f=h+P)<O?f:O)*r<<2,v+=_+=B.r=A[f],y+=E+=B.g=A[f+1],w+=T+=B.b=A[f+2],B=B.next,b+=k=j.r,x+=S=j.g,C+=$=j.b,_-=k,E-=S,T-=$,j=j.next,g+=r}l.putImageData(a,e,n)}}function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}/*!
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * @link   http://www.phpied.com/rgb-color-parser-in-javascript/
 * @license Use it if you like it
 */
function RGBColor(t){this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in e)t==n&&(t=e[n]);for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],i=0;i<r.length;i++){var o=r[i].re,a=r[i].process,s=o.exec(t);s&&(channels=a(s),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n},this.getHelpXML=function(){for(var t=new Array,n=0;n<r.length;n++)for(var i=r[n].example,o=0;o<i.length;o++)t[t.length]=i[o];for(var a in e)t[t.length]=a;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(var n=0;n<t.length;n++)try{var l=document.createElement("li"),u=new RGBColor(t[n]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),c.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+t[n]+" -> "+u.toRGB()+" -> "+u.toHex());l.appendChild(c),l.appendChild(h),s.appendChild(l)}catch(d){}return s}}function stackBlurImage(t,e,n,r){var i=document.getElementById(t),o=i.naturalWidth,a=i.naturalHeight,s=document.getElementById(e);s.style.width=o+"px",s.style.height=a+"px",s.width=o,s.height=a;var l=s.getContext("2d");l.clearRect(0,0,o,a),l.drawImage(i,0,0),isNaN(n)||1>n||(r?stackBlurCanvasRGBA(e,0,0,o,a,n):stackBlurCanvasRGB(e,0,0,o,a,n))}function stackBlurCanvasRGBA(t,e,n,r,i,o){if(!(isNaN(o)||1>o)){o|=0;var a,s=document.getElementById(t),l=s.getContext("2d");try{try{a=l.getImageData(e,n,r,i)}catch(u){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),a=l.getImageData(e,n,r,i)}catch(u){throw alert("Cannot access local image"),new Error("unable to access local image data: "+u)}}}catch(u){throw alert("Cannot access image"),new Error("unable to access image data: "+u)}var c,h,d,f,p,g,m,v,y,w,b,x,C,_,E,T,k,S,$,M,A,R,D,O,P=a.data,H=o+o+1,L=r-1,N=i-1,I=o+1,B=I*(I+1)/2,j=new BlurStack,F=j;for(d=1;H>d;d++)if(F=F.next=new BlurStack,d==I)var V=F;F.next=j;var q=null,z=null;m=g=0;var W=mul_table[o],U=shg_table[o];for(h=0;i>h;h++){for(T=k=S=$=v=y=w=b=0,x=I*(M=P[g]),C=I*(A=P[g+1]),_=I*(R=P[g+2]),E=I*(D=P[g+3]),v+=B*M,y+=B*A,w+=B*R,b+=B*D,F=j,d=0;I>d;d++)F.r=M,F.g=A,F.b=R,F.a=D,F=F.next;for(d=1;I>d;d++)f=g+((d>L?L:d)<<2),v+=(F.r=M=P[f])*(O=I-d),y+=(F.g=A=P[f+1])*O,w+=(F.b=R=P[f+2])*O,b+=(F.a=D=P[f+3])*O,T+=M,k+=A,S+=R,$+=D,F=F.next;for(q=j,z=V,c=0;r>c;c++)P[g+3]=D=b*W>>U,0!=D?(D=255/D,P[g]=(v*W>>U)*D,P[g+1]=(y*W>>U)*D,P[g+2]=(w*W>>U)*D):P[g]=P[g+1]=P[g+2]=0,v-=x,y-=C,w-=_,b-=E,x-=q.r,C-=q.g,_-=q.b,E-=q.a,f=m+((f=c+o+1)<L?f:L)<<2,T+=q.r=P[f],k+=q.g=P[f+1],S+=q.b=P[f+2],$+=q.a=P[f+3],v+=T,y+=k,w+=S,b+=$,q=q.next,x+=M=z.r,C+=A=z.g,_+=R=z.b,E+=D=z.a,T-=M,k-=A,S-=R,$-=D,z=z.next,g+=4;m+=r}for(c=0;r>c;c++){for(k=S=$=T=y=w=b=v=0,g=c<<2,x=I*(M=P[g]),C=I*(A=P[g+1]),_=I*(R=P[g+2]),E=I*(D=P[g+3]),v+=B*M,y+=B*A,w+=B*R,b+=B*D,F=j,d=0;I>d;d++)F.r=M,F.g=A,F.b=R,F.a=D,F=F.next;for(p=r,d=1;o>=d;d++)g=p+c<<2,v+=(F.r=M=P[g])*(O=I-d),y+=(F.g=A=P[g+1])*O,w+=(F.b=R=P[g+2])*O,b+=(F.a=D=P[g+3])*O,T+=M,k+=A,S+=R,$+=D,F=F.next,N>d&&(p+=r);for(g=c,q=j,z=V,h=0;i>h;h++)f=g<<2,P[f+3]=D=b*W>>U,D>0?(D=255/D,P[f]=(v*W>>U)*D,P[f+1]=(y*W>>U)*D,P[f+2]=(w*W>>U)*D):P[f]=P[f+1]=P[f+2]=0,v-=x,y-=C,w-=_,b-=E,x-=q.r,C-=q.g,_-=q.b,E-=q.a,f=c+((f=h+I)<N?f:N)*r<<2,v+=T+=q.r=P[f],y+=k+=q.g=P[f+1],w+=S+=q.b=P[f+2],b+=$+=q.a=P[f+3],q=q.next,x+=M=z.r,C+=A=z.g,_+=R=z.b,E+=D=z.a,T-=M,k-=A,S-=R,$-=D,z=z.next,g+=r}l.putImageData(a,e,n)}}function stackBlurCanvasRGB(t,e,n,r,i,o){if(!(isNaN(o)||1>o)){o|=0;var a,s=document.getElementById(t),l=s.getContext("2d");try{try{a=l.getImageData(e,n,r,i)}catch(u){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),a=l.getImageData(e,n,r,i)}catch(u){throw alert("Cannot access local image"),new Error("unable to access local image data: "+u)}}}catch(u){throw alert("Cannot access image"),new Error("unable to access image data: "+u)}var c,h,d,f,p,g,m,v,y,w,b,x,C,_,E,T,k,S,$,M,A=a.data,R=o+o+1,D=r-1,O=i-1,P=o+1,H=P*(P+1)/2,L=new BlurStack,N=L;for(d=1;R>d;d++)if(N=N.next=new BlurStack,d==P)var I=N;N.next=L;var B=null,j=null;m=g=0;var F=mul_table[o],V=shg_table[o];for(h=0;i>h;h++){for(_=E=T=v=y=w=0,b=P*(k=A[g]),x=P*(S=A[g+1]),C=P*($=A[g+2]),v+=H*k,y+=H*S,w+=H*$,N=L,d=0;P>d;d++)N.r=k,N.g=S,N.b=$,N=N.next;for(d=1;P>d;d++)f=g+((d>D?D:d)<<2),v+=(N.r=k=A[f])*(M=P-d),y+=(N.g=S=A[f+1])*M,w+=(N.b=$=A[f+2])*M,_+=k,E+=S,T+=$,N=N.next;for(B=L,j=I,c=0;r>c;c++)A[g]=v*F>>V,A[g+1]=y*F>>V,A[g+2]=w*F>>V,v-=b,y-=x,w-=C,b-=B.r,x-=B.g,C-=B.b,f=m+((f=c+o+1)<D?f:D)<<2,_+=B.r=A[f],E+=B.g=A[f+1],T+=B.b=A[f+2],v+=_,y+=E,w+=T,B=B.next,b+=k=j.r,x+=S=j.g,C+=$=j.b,_-=k,E-=S,T-=$,j=j.next,g+=4;m+=r}for(c=0;r>c;c++){for(E=T=_=y=w=v=0,g=c<<2,b=P*(k=A[g]),x=P*(S=A[g+1]),C=P*($=A[g+2]),v+=H*k,y+=H*S,w+=H*$,N=L,d=0;P>d;d++)N.r=k,N.g=S,N.b=$,N=N.next;for(p=r,d=1;o>=d;d++)g=p+c<<2,v+=(N.r=k=A[g])*(M=P-d),y+=(N.g=S=A[g+1])*M,w+=(N.b=$=A[g+2])*M,_+=k,E+=S,T+=$,N=N.next,O>d&&(p+=r);for(g=c,B=L,j=I,h=0;i>h;h++)f=g<<2,A[f]=v*F>>V,A[f+1]=y*F>>V,A[f+2]=w*F>>V,v-=b,y-=x,w-=C,b-=B.r,x-=B.g,C-=B.b,f=c+((f=h+P)<O?f:O)*r<<2,v+=_+=B.r=A[f],y+=E+=B.g=A[f+1],w+=T+=B.b=A[f+2],B=B.next,b+=k=j.r,x+=S=j.g,C+=$=j.b,_-=k,E-=S,T-=$,j=j.next,g+=r}l.putImageData(a,e,n)}}function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=Q.type(t);return"function"===n||Q.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){if(Q.isFunction(e))return Q.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return Q.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(st.test(e))return Q.filter(e,t,n);e=Q.filter(e,t)}return Q.grep(t,function(t){return U.call(e,t)>=0!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=pt[t]={};return Q.each(t.match(ft)||[],function(t,n){e[n]=!0}),e}function a(){Z.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+s.uid++}function l(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(bt,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:wt.test(n)?Q.parseJSON(n):n}catch(i){}yt.set(t,e,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function h(){try{return Z.activeElement}catch(t){}}function d(t,e){return Q.nodeName(t,"table")&&Q.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function f(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=Lt.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,r=t.length;r>n;n++)vt.set(t[n],"globalEval",!e||vt.get(e[n],"globalEval"))}function m(t,e){var n,r,i,o,a,s,l,u;if(1===e.nodeType){if(vt.hasData(t)&&(o=vt.access(t),a=vt.set(e,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)Q.event.add(e,i,u[i][n])}yt.hasData(t)&&(s=yt.access(t),l=Q.extend({},s),yt.set(e,l))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Q.nodeName(t,e)?Q.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Et.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function w(e,n){var r,i=Q(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:Q.css(i[0],"display");return i.detach(),o}function b(t){var e=Z,n=jt[t];return n||(n=w(t,e),"none"!==n&&n||(Bt=(Bt||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Bt[0].contentDocument,e.write(),e.close(),n=w(t,e),Bt.detach()),jt[t]=n),n}function x(t,e,n){var r,i,o,a,s=t.style;return n=n||qt(t),n&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||Q.contains(t.ownerDocument,t)||(a=Q.style(t,e)),Vt.test(a)&&Ft.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function C(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function _(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Xt.length;i--;)if(e=Xt[i]+n,e in t)return e;return r}function E(t,e,n){var r=Wt.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function T(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Q.css(t,n+Ct[o],!0,i)),r?("content"===n&&(a-=Q.css(t,"padding"+Ct[o],!0,i)),"margin"!==n&&(a-=Q.css(t,"border"+Ct[o]+"Width",!0,i))):(a+=Q.css(t,"padding"+Ct[o],!0,i),"padding"!==n&&(a+=Q.css(t,"border"+Ct[o]+"Width",!0,i)));return a}function k(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=qt(t),a="border-box"===Q.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=x(t,e,o),(0>i||null==i)&&(i=t.style[e]),Vt.test(i))return i;r=a&&(K.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+T(t,e,n||(a?"border":"content"),r,o)+"px"}function S(t,e){for(var n,r,i,o=[],a=0,s=t.length;s>a;a++)r=t[a],r.style&&(o[a]=vt.get(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&_t(r)&&(o[a]=vt.access(r,"olddisplay",b(r.nodeName)))):(i=_t(r),"none"===n&&i||vt.set(r,"olddisplay",i?n:Q.css(r,"display"))));for(a=0;s>a;a++)r=t[a],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function $(t,e,n,r,i){return new $.prototype.init(t,e,n,r,i)}function M(){return setTimeout(function(){Kt=void 0}),Kt=Q.now()}function A(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=Ct[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function R(t,e,n){for(var r,i=(ne[e]||[]).concat(ne["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,e,t))return r}function D(t,e,n){var r,i,o,a,s,l,u,c,h=this,d={},f=t.style,p=t.nodeType&&_t(t),g=vt.get(t,"fxshow");n.queue||(s=Q._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,Q.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],u=Q.css(t,"display"),c="none"===u?vt.get(t,"olddisplay")||b(t.nodeName):u,"inline"===c&&"none"===Q.css(t,"float")&&(f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],Jt.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}d[r]=g&&g[r]||Q.style(t,r)}else u=void 0;if(Q.isEmptyObject(d))"inline"===("none"===u?b(t.nodeName):u)&&(f.display=u);else{g?"hidden"in g&&(p=g.hidden):g=vt.access(t,"fxshow",{}),o&&(g.hidden=!p),p?Q(t).show():h.done(function(){Q(t).hide()}),h.done(function(){var e;vt.remove(t,"fxshow");for(e in d)Q.style(t,e,d[e])});for(r in d)a=R(p?g[r]:0,r,h),r in g||(g[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function O(t,e){var n,r,i,o,a;for(n in t)if(r=Q.camelCase(n),i=e[r],o=t[n],Q.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),a=Q.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function P(t,e,n){var r,i,o=0,a=ee.length,s=Q.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=Kt||M(),n=Math.max(0,u.startTime+u.duration-e),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(t,[u,o,n]),1>o&&l?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Kt||M(),duration:n.duration,tweens:[],createTween:function(e,n){var r=Q.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return e?s.resolveWith(t,[u,e]):s.rejectWith(t,[u,e]),this}}),c=u.props;for(O(c,u.opts.specialEasing);a>o;o++)if(r=ee[o].call(u,t,c,u.opts))return r;return Q.map(c,R,u),Q.isFunction(u.opts.start)&&u.opts.start.call(t,u),Q.fx.timer(Q.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function H(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(ft)||[];if(Q.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function L(t,e,n,r){function i(s){var l;return o[s]=!0,Q.each(t[s]||[],function(t,s){var u=s(e,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=t===we;return i(e.dataTypes[0])||!o["*"]&&i("*")}function N(t,e){var n,r,i=Q.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&Q.extend(!0,t,r),t}function I(t,e,n){for(var r,i,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function B(t,e,n,r){var i,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function j(t,e,n,r){var i;if(Q.isArray(e))Q.each(e,function(e,i){n||Ee.test(t)?r(t,i):j(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==Q.type(e))r(t,e);else for(i in e)j(t+"["+i+"]",e[i],n,r)}function F(t){return Q.isWindow(t)?t:9===t.nodeType&&t.defaultView}var V=[],q=V.slice,z=V.concat,W=V.push,U=V.indexOf,Y={},G=Y.toString,X=Y.hasOwnProperty,K={},Z=t.document,J="2.1.4",Q=function(t,e){return new Q.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,nt=/-([\da-z])/gi,rt=function(t,e){return e.toUpperCase()};Q.fn=Q.prototype={jquery:J,constructor:Q,selector:"",length:0,toArray:function(){return q.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:q.call(this)},pushStack:function(t){var e=Q.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Q.each(this,t,e)},map:function(t){return this.pushStack(Q.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(q.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:V.sort,splice:V.splice},Q.extend=Q.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(u&&r&&(Q.isPlainObject(r)||(i=Q.isArray(r)))?(i?(i=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},a[e]=Q.extend(u,o,r)):void 0!==r&&(a[e]=r));return a},Q.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Q.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==Q.type(t)||t.nodeType||Q.isWindow(t)?!1:t.constructor&&!X.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Y[G.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Q.trim(t),t&&(1===t.indexOf("use strict")?(e=Z.createElement("script"),e.text=t,Z.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(et,"ms-").replace(nt,rt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,a=t.length,s=n(t);if(r){if(s)for(;a>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(s)for(;a>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?Q.merge(r,"string"==typeof t?[t]:t):W.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:U.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,a=t.length,s=!n;a>o;o++)r=!e(t[o],o),r!==s&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,a=t.length,s=n(t),l=[];if(s)for(;a>o;o++)i=e(t[o],o,r),null!=i&&l.push(i);else for(o in t)i=e(t[o],o,r),null!=i&&l.push(i);return z.apply([],l)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),Q.isFunction(t)?(r=q.call(arguments,2),i=function(){return t.apply(e||this,r.concat(q.call(arguments)))},i.guid=t.guid=t.guid||Q.guid++,i):void 0},now:Date.now,support:K}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()});var it=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function e(t,e,n,r){var i,o,a,s,l,u,h,f,p,g;if((e?e.ownerDocument||e:j)!==D&&R(e),e=e||D,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!r&&P){if(11!==s&&(i=yt.exec(t)))if(a=i[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&I(e,o)&&o.id===a)return n.push(o),n}else{if(i[2])return J.apply(n,e.getElementsByTagName(t)),n;if((a=i[3])&&x.getElementsByClassName)return J.apply(n,e.getElementsByClassName(a)),n}if(x.qsa&&(!H||!H.test(t))){if(f=h=B,p=e,g=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=T(t),(h=e.getAttribute("id"))?f=h.replace(bt,"\\$&"):e.setAttribute("id",f),f="[id='"+f+"'] ",l=u.length;l--;)u[l]=f+d(u[l]);p=wt.test(t)&&c(e.parentNode)||e,g=u.join(",")}if(g)try{return J.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{h||e.removeAttribute("id")}}}return S(t.replace(lt,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[B]=!0,t}function i(t){var e=D.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)C.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function d(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function f(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=V++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,l,u=[F,o];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(l=e[B]||(e[B]={}),(s=l[r])&&s[0]===F&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function g(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function m(t,e,n,r,i){for(var o,a=[],s=0,l=t.length,u=null!=e;l>s;s++)(o=t[s])&&(!n||n(o,r,i))&&(a.push(o),u&&e.push(s));return a}function v(t,e,n,i,o,a){return i&&!i[B]&&(i=v(i)),o&&!o[B]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,h,d=[],f=[],p=a.length,v=r||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?v:m(v,d,t,s,l),w=n?o||(r?t:p||i)?[]:a:y;if(n&&n(y,w,s,l),i)for(u=m(w,f),i(u,[],s,l),c=u.length;c--;)(h=u[c])&&(w[f[c]]=!(y[f[c]]=h));if(r){if(o||t){if(o){for(u=[],c=w.length;c--;)(h=w[c])&&u.push(y[c]=h);o(null,w=[],u,l)}for(c=w.length;c--;)(h=w[c])&&(u=o?tt(r,h):d[c])>-1&&(r[u]=!(a[u]=h))}}else w=m(w===a?w.splice(p,w.length):w),o?o(null,a,w,l):J.apply(a,w)})}function y(t){for(var e,n,r,i=t.length,o=C.relative[t[0].type],a=o||C.relative[" "],s=o?1:0,l=f(function(t){return t===e},a,!0),u=f(function(t){return tt(e,t)>-1},a,!0),c=[function(t,n,r){var i=!o&&(r||n!==$)||((e=n).nodeType?l(t,n,r):u(t,n,r));return e=null,i}];i>s;s++)if(n=C.relative[t[s].type])c=[f(p(c),n)];else{if(n=C.filter[t[s].type].apply(null,t[s].matches),n[B]){for(r=++s;i>r&&!C.relative[t[r].type];r++);return v(s>1&&p(c),s>1&&d(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(lt,"$1"),n,r>s&&y(t.slice(s,r)),i>r&&y(t=t.slice(r)),i>r&&d(t))}c.push(n)}return p(c)}function w(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,l,u){var c,h,d,f=0,p="0",g=r&&[],v=[],y=$,w=r||o&&C.find.TAG("*",u),b=F+=null==y?1:Math.random()||.1,x=w.length;for(u&&($=a!==D&&a);p!==x&&null!=(c=w[p]);p++){if(o&&c){for(h=0;d=t[h++];)if(d(c,a,s)){l.push(c);break}u&&(F=b)}i&&((c=!d&&c)&&f--,r&&g.push(c))}if(f+=p,i&&p!==f){for(h=0;d=n[h++];)d(g,v,a,s);if(r){if(f>0)for(;p--;)g[p]||v[p]||(v[p]=K.call(l));v=m(v)}J.apply(l,v),u&&!r&&v.length>0&&f+n.length>1&&e.uniqueSort(l)}return u&&(F=b,$=y),g};return i?r(a):a}var b,x,C,_,E,T,k,S,$,M,A,R,D,O,P,H,L,N,I,B="sizzle"+1*new Date,j=t.document,F=0,V=0,q=n(),z=n(),W=n(),U=function(t,e){return t===e&&(A=!0),0},Y=1<<31,G={}.hasOwnProperty,X=[],K=X.pop,Z=X.push,J=X.push,Q=X.slice,tt=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),dt=new RegExp(at),ft=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/[+~]/,bt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Ct=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},_t=function(){R()};try{J.apply(X=Q.call(j.childNodes),j.childNodes),X[j.childNodes.length].nodeType}catch(Et){J={apply:X.length?function(t,e){Z.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}x=e.support={},E=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},R=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:j;return r!==D&&9===r.nodeType&&r.documentElement?(D=r,O=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",_t,!1):n.attachEvent&&n.attachEvent("onunload",_t)),P=!E(r),x.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=i(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(r.getElementsByClassName),x.getById=i(function(t){return O.appendChild(t).id=B,!r.getElementsByName||!r.getElementsByName(B).length}),x.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&P){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(t){var e=t.replace(xt,Ct);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(xt,Ct);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=x.getElementsByClassName&&function(t,e){return P?e.getElementsByClassName(t):void 0},L=[],H=[],(x.qsa=vt.test(r.querySelectorAll))&&(i(function(t){O.appendChild(t).innerHTML="<a id='"+B+"'></a><select id='"+B+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&H.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||H.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+B+"-]").length||H.push("~="),t.querySelectorAll(":checked").length||H.push(":checked"),t.querySelectorAll("a#"+B+"+*").length||H.push(".#.+[+~]")}),i(function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&H.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||H.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),H.push(",.*:")})),(x.matchesSelector=vt.test(N=O.matches||O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&i(function(t){x.disconnectedMatch=N.call(t,"div"),N.call(t,"[s!='']:x"),L.push("!=",at)}),H=H.length&&new RegExp(H.join("|")),L=L.length&&new RegExp(L.join("|")),e=vt.test(O.compareDocumentPosition),I=e||vt.test(O.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return A=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===j&&I(j,t)?-1:e===r||e.ownerDocument===j&&I(j,e)?1:M?tt(M,t)-tt(M,e):0:4&n?-1:1)}:function(t,e){if(t===e)return A=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,l=[t],u=[e];if(!o||!s)return t===r?-1:e===r?1:o?-1:s?1:M?tt(M,t)-tt(M,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===j?-1:u[i]===j?1:0},r):D},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==D&&R(t),n=n.replace(ht,"='$1']"),!(!x.matchesSelector||!P||L&&L.test(n)||H&&H.test(n)))try{var r=N.call(t,n);if(r||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,D,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==D&&R(t),I(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==D&&R(t);var n=C.attrHandle[e.toLowerCase()],r=n&&G.call(C.attrHandle,e.toLowerCase())?n(t,e,!P):void 0;return void 0!==r?r:x.attributes||!P?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(A=!x.detectDuplicates,M=!x.sortStable&&t.slice(0),t.sort(U),A){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return M=null,t},_=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=_(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=_(e);return n},C=e.selectors={cacheLength:50,createPseudo:r,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,Ct),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,Ct),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&dt.test(n)&&(e=T(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,Ct).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=q[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&q(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,d,f,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(c=m[B]||(m[B]={}),u=c[t]||[],f=u[0]===F&&u[1],d=u[0]===F&&u[2],h=f&&m.childNodes[f];h=++f&&h&&h[g]||(d=f=0)||p.pop();)if(1===h.nodeType&&++d&&h===e){c[t]=[F,f,d];break}}else if(y&&(u=(e[B]||(e[B]={}))[t])&&u[0]===F)d=u[1];else for(;(h=++f&&h&&h[g]||(d=f=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++d||(y&&((h[B]||(h[B]={}))[t]=[F,d]),h!==e)););return d-=i,d===r||d%r===0&&d/r>=0}}},PSEUDO:function(t,n){var i,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[B]?o(n):o.length>1?(i=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=tt(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=k(t.replace(lt,"$1"));return i[B]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(xt,Ct),function(e){return(e.textContent||e.innerText||_(e)).indexOf(t)>-1}}),lang:r(function(t){return ft.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,Ct).toLowerCase(),function(e){var n;do if(n=P?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===O},focus:function(t){return t===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:u(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},C.pseudos.nth=C.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})C.pseudos[b]=l(b);return h.prototype=C.filters=C.pseudos,C.setFilters=new h,T=e.tokenize=function(t,n){var r,i,o,a,s,l,u,c=z[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=C.preFilter;s;){(!r||(i=ut.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ct.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(lt," ")}),s=s.slice(r.length));for(a in C.filter)!(i=pt[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):z(t,l).slice(0)},k=e.compile=function(t,e){var n,r=[],i=[],o=W[t+" "];if(!o){for(e||(e=T(t)),n=e.length;n--;)o=y(e[n]),o[B]?r.push(o):i.push(o);o=W(t,w(i,r)),o.selector=t}return o},S=e.select=function(t,e,n,r){var i,o,a,s,l,u="function"==typeof t&&t,h=!r&&T(t=u.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===e.nodeType&&P&&C.relative[o[1].type]){if(e=(C.find.ID(a.matches[0].replace(xt,Ct),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=pt.needsContext.test(t)?0:o.length;i--&&(a=o[i],!C.relative[s=a.type]);)if((l=C.find[s])&&(r=l(a.matches[0].replace(xt,Ct),wt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&d(o),!t)return J.apply(n,r),n;break}}return(u||k(t,h))(r,e,!P,n,wt.test(t)&&c(e.parentNode)||e),n},x.sortStable=B.split("").sort(U).join("")===B,x.detectDuplicates=!!A,R(),x.sortDetached=i(function(t){return 1&t.compareDocumentPosition(D.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);Q.find=it,Q.expr=it.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=it.uniqueSort,Q.text=it.getText,Q.isXMLDoc=it.isXML,Q.contains=it.contains;var ot=Q.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;Q.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?Q.find.matchesSelector(r,t)?[r]:[]:Q.find.matches(t,Q.grep(e,function(t){return 1===t.nodeType}))},Q.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(Q(t).filter(function(){for(e=0;n>e;e++)if(Q.contains(i[e],this))return!0}));for(e=0;n>e;e++)Q.find(t,i[e],r);return r=this.pushStack(n>1?Q.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&ot.test(t)?Q(t):t||[],!1).length}});var lt,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=Q.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ut.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||lt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Q?e[0]:e,Q.merge(this,Q.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Z,!0)),at.test(n[1])&&Q.isPlainObject(e))for(n in e)Q.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=Z.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Q.isFunction(t)?"undefined"!=typeof lt.ready?lt.ready(t):t(Q):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))};ct.prototype=Q.fn,lt=Q(Z);var ht=/^(?:parents|prev(?:Until|All))/,dt={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&Q(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Q.fn.extend({has:function(t){var e=Q(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Q.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=ot.test(t)||"string"!=typeof t?Q(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(t){return t?"string"==typeof t?U.call(Q(t),this[0]):U.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Q.unique(Q.merge(this.get(),Q(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Q.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Q.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Q.dir(t,"previousSibling",n)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(n,r){var i=Q.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),this.length>1&&(dt[t]||Q.unique(i),ht.test(t)&&i.reverse()),this.pushStack(i)}});var ft=/\S+/g,pt={};Q.Callbacks=function(t){t="string"==typeof t?pt[t]||o(t):Q.extend({},t);var e,n,r,i,a,s,l=[],u=!t.once&&[],c=function(o){for(e=t.memory&&o,n=!0,s=i||0,i=0,a=l.length,r=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,l&&(u?u.length&&c(u.shift()):e?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function o(e){Q.each(e,function(e,n){var r=Q.type(n);"function"===r?t.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=l.length:e&&(i=n,c(e))}return this},remove:function(){return l&&Q.each(arguments,function(t,e){for(var n;(n=Q.inArray(e,l,n))>-1;)l.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(t){return t?Q.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=e=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,e||h.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!l||n&&!u||(e=e||[],e=[t,e.slice?e.slice():e],r?u.push(e):c(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(n){Q.each(e,function(e,o){var a=Q.isFunction(t[e])&&t[e];i[o[1]](function(){var t=a&&a.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Q.extend(t,r):r}},i={};return r.pipe=r.then,Q.each(e,function(t,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=q.call(arguments),a=o.length,s=1!==a||t&&Q.isFunction(t.promise)?a:0,l=1===s?t:Q.Deferred(),u=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?q.call(arguments):i,r===e?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&Q.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,e)):--s;return s||l.resolveWith(r,o),l.promise()}});var gt;Q.fn.ready=function(t){return Q.ready.promise().done(t),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){(t===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,t!==!0&&--Q.readyWait>0||(gt.resolveWith(Z,[Q]),Q.fn.triggerHandler&&(Q(Z).triggerHandler("ready"),Q(Z).off("ready"))))}}),Q.ready.promise=function(e){return gt||(gt=Q.Deferred(),"complete"===Z.readyState?setTimeout(Q.ready):(Z.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),gt.promise(e)},Q.ready.promise();var mt=Q.access=function(t,e,n,r,i,o,a){var s=0,l=t.length,u=null==n;if("object"===Q.type(n)){i=!0;for(s in n)Q.access(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,Q.isFunction(r)||(a=!0),u&&(a?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(Q(t),n)})),e))for(;l>s;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:u?e.call(t):l?e(t[0],n):o};Q.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,Q.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,Q.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),a=this.cache[o];if(void 0===e)this.cache[o]={};else{Q.isArray(e)?r=e.concat(e.map(Q.camelCase)):(i=Q.camelCase(e),e in a?r=[e,i]:(r=i,r=r in a?[r]:r.match(ft)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(t){return!Q.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var vt=new s,yt=new s,wt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;Q.extend({hasData:function(t){return yt.hasData(t)||vt.hasData(t)},data:function(t,e,n){return yt.access(t,e,n)},removeData:function(t,e){yt.remove(t,e)},_data:function(t,e,n){return vt.access(t,e,n)},_removeData:function(t,e){vt.remove(t,e)}}),Q.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=yt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=Q.camelCase(r.slice(5)),l(o,r,i[r])));vt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){yt.set(this,t)}):mt(this,function(e){var n,r=Q.camelCase(t);if(o&&void 0===e){if(n=yt.get(o,t),void 0!==n)return n;if(n=yt.get(o,r),void 0!==n)return n;if(n=l(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,r);yt.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&yt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){yt.remove(this,t)})}}),Q.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=vt.get(t,e),n&&(!r||Q.isArray(n)?r=vt.access(t,e,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Q.queue(t,e),r=n.length,i=n.shift(),o=Q._queueHooks(t,e),a=function(){Q.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return vt.get(t,n)||vt.access(t,n,{empty:Q.Callbacks("once memory").add(function(){vt.remove(t,[e+"queue",n])})})}}),Q.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Q.queue(this[0],t):void 0===e?this:this.each(function(){var n=Q.queue(this,t,e);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=Q.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=vt.get(o[a],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],_t=function(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)},Et=/^(?:checkbox|radio)$/i;!function(){var t=Z.createDocumentFragment(),e=t.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),K.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var Tt="undefined";K.focusinBubbles="onfocusin"in t;var kt=/^key/,St=/^(?:mouse|pointer|contextmenu)|click/,$t=/^(?:focusinfocus|focusoutblur)$/,Mt=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(t,e,n,r,i){var o,a,s,l,u,c,h,d,f,p,g,m=vt.get(t);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Q.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return typeof Q!==Tt&&Q.event.triggered!==e.type?Q.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(ft)||[""],u=e.length;u--;)s=Mt.exec(e[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f&&(h=Q.event.special[f]||{},f=(i?h.delegateType:h.bindType)||f,h=Q.event.special[f]||{},c=Q.extend({type:f,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:p.join(".")},o),(d=l[f])||(d=l[f]=[],d.delegateCount=0,h.setup&&h.setup.call(t,r,p,a)!==!1||t.addEventListener&&t.addEventListener(f,a,!1)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),Q.event.global[f]=!0)},remove:function(t,e,n,r,i){var o,a,s,l,u,c,h,d,f,p,g,m=vt.hasData(t)&&vt.get(t);if(m&&(l=m.events)){for(e=(e||"").match(ft)||[""],u=e.length;u--;)if(s=Mt.exec(e[u])||[],f=g=s[1],p=(s[2]||"").split(".").sort(),f){for(h=Q.event.special[f]||{},f=(r?h.delegateType:h.bindType)||f,d=l[f]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=d.length;o--;)c=d[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));a&&!d.length&&(h.teardown&&h.teardown.call(t,p,m.handle)!==!1||Q.removeEvent(t,f,m.handle),delete l[f])}else for(f in l)Q.event.remove(t,f+e[u],n,r,!0);Q.isEmptyObject(l)&&(delete m.handle,vt.remove(t,"events"))}},trigger:function(e,n,r,i){var o,a,s,l,u,c,h,d=[r||Z],f=X.call(e,"type")?e.type:e,p=X.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!$t.test(f+Q.event.triggered)&&(f.indexOf(".")>=0&&(p=f.split("."),f=p.shift(),p.sort()),u=f.indexOf(":")<0&&"on"+f,e=e[Q.expando]?e:new Q.Event(f,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),
n=null==n?[e]:Q.makeArray(n,[e]),h=Q.event.special[f]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!Q.isWindow(r)){for(l=h.delegateType||f,$t.test(l+f)||(a=a.parentNode);a;a=a.parentNode)d.push(a),s=a;s===(r.ownerDocument||Z)&&d.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=d[o++])&&!e.isPropagationStopped();)e.type=o>1?l:h.bindType||f,c=(vt.get(a,"events")||{})[e.type]&&vt.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&Q.acceptData(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=f,i||e.isDefaultPrevented()||h._default&&h._default.apply(d.pop(),n)!==!1||!Q.acceptData(r)||u&&Q.isFunction(r[f])&&!Q.isWindow(r)&&(s=r[u],s&&(r[u]=null),Q.event.triggered=f,r[f](),Q.event.triggered=void 0,s&&(r[u]=s)),e.result}},dispatch:function(t){t=Q.event.fix(t);var e,n,r,i,o,a=[],s=q.call(arguments),l=(vt.get(this,"events")||{})[t.type]||[],u=Q.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=Q.event.handlers.call(this,t,l),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((Q.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(r=[],n=0;s>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Q(i,this).index(l)>=0:Q.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Z,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=St.test(i)?this.mouseHooks:kt.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new Q.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=Z),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Q.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=Q.extend(new Q.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,e):Q.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Q.Event=function(t,e){return this instanceof Q.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?u:c):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(t,e)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!Q.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),K.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=vt.access(r,e);i||r.addEventListener(t,n,!0),vt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=vt.access(r,e)-1;i?vt.access(r,e,i):(r.removeEventListener(t,n,!0),vt.remove(r,e))}}}),Q.fn.extend({on:function(t,e,n,r,i){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(t){return Q().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Q(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=c),this.each(function(){Q.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Q.event.trigger(t,e,n,!0):void 0}});var At=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Rt=/<([\w:]+)/,Dt=/<|&#?\w+;/,Ot=/<(?:script|style|link)/i,Pt=/checked\s*(?:[^=]|=\s*.checked.)/i,Ht=/^$|\/(?:java|ecma)script/i,Lt=/^true\/(.*)/,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,It={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};It.optgroup=It.option,It.tbody=It.tfoot=It.colgroup=It.caption=It.thead,It.th=It.td,Q.extend({clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),l=Q.contains(t.ownerDocument,t);if(!(K.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(a=v(s),o=v(t),r=0,i=o.length;i>r;r++)y(o[r],a[r]);if(e)if(n)for(o=o||v(t),a=a||v(s),r=0,i=o.length;i>r;r++)m(o[r],a[r]);else m(t,s);return a=v(s,"script"),a.length>0&&g(a,!l&&v(t,"script")),s},buildFragment:function(t,e,n,r){for(var i,o,a,s,l,u,c=e.createDocumentFragment(),h=[],d=0,f=t.length;f>d;d++)if(i=t[d],i||0===i)if("object"===Q.type(i))Q.merge(h,i.nodeType?[i]:i);else if(Dt.test(i)){for(o=o||c.appendChild(e.createElement("div")),a=(Rt.exec(i)||["",""])[1].toLowerCase(),s=It[a]||It._default,o.innerHTML=s[1]+i.replace(At,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;Q.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(e.createTextNode(i));for(c.textContent="",d=0;i=h[d++];)if((!r||-1===Q.inArray(i,r))&&(l=Q.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),l&&g(o),n))for(u=0;i=o[u++];)Ht.test(i.type||"")&&n.push(i);return c},cleanData:function(t){for(var e,n,r,i,o=Q.event.special,a=0;void 0!==(n=t[a]);a++){if(Q.acceptData(n)&&(i=n[vt.expando],i&&(e=vt.cache[i]))){if(e.events)for(r in e.events)o[r]?Q.event.remove(n,r):Q.removeEvent(n,r,e.handle);vt.cache[i]&&delete vt.cache[i]}delete yt.cache[n[yt.expando]]}}}),Q.fn.extend({text:function(t){return mt(this,function(t){return void 0===t?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=d(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?Q.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(e&&Q.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Q.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return mt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Ot.test(t)&&!It[(Rt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(At,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(Q.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Q.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=z.apply([],t);var n,r,i,o,a,s,l=0,u=this.length,c=this,h=u-1,d=t[0],g=Q.isFunction(d);if(g||u>1&&"string"==typeof d&&!K.checkClone&&Pt.test(d))return this.each(function(n){var r=c.eq(n);g&&(t[0]=d.call(this,n,r.html())),r.domManip(t,e)});if(u&&(n=Q.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Q.map(v(n,"script"),f),o=i.length;u>l;l++)a=n,l!==h&&(a=Q.clone(a,!0,!0),o&&Q.merge(i,v(a,"script"))),e.call(this[l],a,l);if(o)for(s=i[i.length-1].ownerDocument,Q.map(i,p),l=0;o>l;l++)a=i[l],Ht.test(a.type||"")&&!vt.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Nt,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(t){for(var n,r=[],i=Q(t),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Q(i[a])[e](n),W.apply(r,n.get());return this.pushStack(r)}});var Bt,jt={},Ft=/^margin/,Vt=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),qt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var e=t.getComputedStyle(a,null);n="1%"!==e.top,r="4px"===e.width,i.removeChild(o)}var n,r,i=Z.documentElement,o=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),t.getComputedStyle&&Q.extend(K,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n=a.appendChild(Z.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),i.removeChild(o),a.removeChild(n),e}}))}(),Q.swap=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i};var zt=/^(none|table(?!-c[ea]).+)/,Wt=new RegExp("^("+xt+")(.*)$","i"),Ut=new RegExp("^([+-])=("+xt+")","i"),Yt={position:"absolute",visibility:"hidden",display:"block"},Gt={letterSpacing:"0",fontWeight:"400"},Xt=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=x(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=Q.camelCase(e),l=t.style;return e=Q.cssProps[s]||(Q.cssProps[s]=_(l,s)),a=Q.cssHooks[e]||Q.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:l[e]:(o=typeof n,"string"===o&&(i=Ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||Q.cssNumber[s]||(n+="px"),K.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(l[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,a,s=Q.camelCase(e);return e=Q.cssProps[s]||(Q.cssProps[s]=_(t.style,s)),a=Q.cssHooks[e]||Q.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=x(t,e,r)),"normal"===i&&e in Gt&&(i=Gt[e]),""===n||n?(o=parseFloat(i),n===!0||Q.isNumeric(o)?o||0:i):i}}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,n,r){return n?zt.test(Q.css(t,"display"))&&0===t.offsetWidth?Q.swap(t,Yt,function(){return k(t,e,r)}):k(t,e,r):void 0},set:function(t,n,r){var i=r&&qt(t);return E(t,n,r?T(t,e,r,"border-box"===Q.css(t,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=C(K.reliableMarginRight,function(t,e){return e?Q.swap(t,{display:"inline-block"},x,[t,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+Ct[r]+e]=o[r]||o[r-2]||o[0];return i}},Ft.test(t)||(Q.cssHooks[t+e].set=E)}),Q.fn.extend({css:function(t,e){return mt(this,function(t,e,n){var r,i,o={},a=0;if(Q.isArray(e)){for(r=qt(t),i=e.length;i>a;a++)o[e[a]]=Q.css(t,e[a],!1,r);return o}return void 0!==n?Q.style(t,e,n):Q.css(t,e)},t,e,arguments.length>1)},show:function(){return S(this,!0)},hide:function(){return S(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){_t(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=$,$.prototype={constructor:$,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var t=$.propHooks[this.prop];return t&&t.get?t.get(this):$.propHooks._default.get(this)},run:function(t){var e,n=$.propHooks[this.prop];return this.pos=e=this.options.duration?Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Q.fx=$.prototype.init,Q.fx.step={};var Kt,Zt,Jt=/^(?:toggle|show|hide)$/,Qt=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[D],ne={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=Qt.exec(e),o=i&&i[3]||(Q.cssNumber[t]?"":"px"),a=(Q.cssNumber[t]||"px"!==o&&+r)&&Qt.exec(Q.css(n.elem,t)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,Q.style(n.elem,t,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};Q.Animation=Q.extend(P,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],ne[n]=ne[n]||[],ne[n].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),Q.speed=function(t,e,n){var r=t&&"object"==typeof t?Q.extend({},t):{complete:n||!n&&e||Q.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Q.isFunction(e)&&e};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.fn.extend({fadeTo:function(t,e,n,r){return this.filter(_t).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=Q.isEmptyObject(t),o=Q.speed(e,n,r),a=function(){var e=P(this,Q.extend({},t),o);(i||vt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=Q.timers,a=vt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&te.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&Q.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=vt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=Q.timers,a=r?r.length:0;for(n.finish=!0,Q.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(t,e){var n=Q.fn[e];Q.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(A(e,!0),t,r,i)}}),Q.each({slideDown:A("show"),slideUp:A("hide"),slideToggle:A("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),Q.timers=[],Q.fx.tick=function(){var t,e=0,n=Q.timers;for(Kt=Q.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Q.fx.stop(),Kt=void 0},Q.fx.timer=function(t){Q.timers.push(t),t()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Zt||(Zt=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Zt),Zt=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=Z.createElement("input"),e=Z.createElement("select"),n=e.appendChild(Z.createElement("option"));t.type="checkbox",K.checkOn=""!==t.value,K.optSelected=n.selected,e.disabled=!0,K.optDisabled=!n.disabled,t=Z.createElement("input"),t.value="t",t.type="radio",K.radioValue="t"===t.value}();var re,ie,oe=Q.expr.attrHandle;Q.fn.extend({attr:function(t,e){return mt(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})}}),Q.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===Tt?Q.prop(t,e,n):(1===o&&Q.isXMLDoc(t)||(e=e.toLowerCase(),r=Q.attrHooks[e]||(Q.expr.match.bool.test(e)?ie:re)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=Q.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void Q.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(ft);if(o&&1===t.nodeType)for(;n=o[i++];)r=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!K.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),ie={set:function(t,e,n){return e===!1?Q.removeAttr(t,n):t.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(t,e){var n=oe[e]||Q.find.attr;oe[e]=function(t,e,r){var i,o;return r||(o=oe[e],oe[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,oe[e]=o),i}});var ae=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(t,e){return mt(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Q.propFix[t]||t]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!Q.isXMLDoc(t),o&&(e=Q.propFix[e]||e,i=Q.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ae.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),K.optSelected||(Q.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var se=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(t){var e,n,r,i,o,a,s="string"==typeof t&&t,l=0,u=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(ft)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(se," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=Q.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,r,i,o,a,s=0===arguments.length||"string"==typeof t&&t,l=0,u=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(ft)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(se," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=t?Q.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(Q.isFunction(t)?function(n){Q(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=Q(this),o=t.match(ft)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===Tt||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(se," ").indexOf(e)>=0)return!0;return!1}});var le=/\r/g;Q.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=Q.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,Q(this).val()):t,null==i?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(t){return null==t?"":t+""})),e=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(le,""):null==n?"":n)}}}),Q.extend({valHooks:{option:{get:function(t){var e=Q.find.attr(t,"value");return null!=e?e:Q.trim(Q.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(K.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(e=Q(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=Q.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=Q.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(t,e){return Q.isArray(e)?t.checked=Q.inArray(Q(t).val(),e)>=0:void 0}},K.checkOn||(Q.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Q.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ue=Q.now(),ce=/\?/;Q.parseJSON=function(t){return JSON.parse(t+"")},Q.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+t),e};var he=/#.*$/,de=/([?&])_=[^&]*/,fe=/^(.*?):[ \t]*([^\r\n]*)$/gm,pe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ge=/^(?:GET|HEAD)$/,me=/^\/\//,ve=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ye={},we={},be="*/".concat("*"),xe=t.location.href,Ce=ve.exec(xe.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe,type:"GET",isLocal:pe.test(Ce[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?N(N(t,Q.ajaxSettings),e):N(Q.ajaxSettings,t)},ajaxPrefilter:H(ye),ajaxTransport:H(we),ajax:function(t,e){function n(t,e,n,a){var l,c,v,y,b,C=e;2!==w&&(w=2,s&&clearTimeout(s),r=void 0,o=a||"",x.readyState=t>0?4:0,l=t>=200&&300>t||304===t,n&&(y=I(h,x,n)),y=B(h,y,x,l),l?(h.ifModified&&(b=x.getResponseHeader("Last-Modified"),b&&(Q.lastModified[i]=b),b=x.getResponseHeader("etag"),b&&(Q.etag[i]=b)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=y.state,c=y.data,v=y.error,l=!v)):(v=C,(t||!C)&&(C="error",0>t&&(t=0))),x.status=t,x.statusText=(e||C)+"",l?p.resolveWith(d,[c,C,x]):p.rejectWith(d,[x,C,v]),x.statusCode(m),m=void 0,u&&f.trigger(l?"ajaxSuccess":"ajaxError",[x,h,l?c:v]),g.fireWith(d,[x,C]),u&&(f.trigger("ajaxComplete",[x,h]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,a,s,l,u,c,h=Q.ajaxSetup({},e),d=h.context||h,f=h.context&&(d.nodeType||d.jquery)?Q(d):Q.event,p=Q.Deferred(),g=Q.Callbacks("once memory"),m=h.statusCode||{},v={},y={},w=0,b="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!a)for(a={};e=fe.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return w||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)m[e]=[m[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||b;return r&&r.abort(e),n(0,e),this}};if(p.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||xe)+"").replace(he,"").replace(me,Ce[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=Q.trim(h.dataType||"*").toLowerCase().match(ft)||[""],null==h.crossDomain&&(l=ve.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===Ce[1]&&l[2]===Ce[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(Ce[3]||("http:"===Ce[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Q.param(h.data,h.traditional)),L(ye,h,e,x),2===w)return x;u=Q.event&&h.global,u&&0===Q.active++&&Q.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!ge.test(h.type),i=h.url,h.hasContent||(h.data&&(i=h.url+=(ce.test(i)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=de.test(i)?i.replace(de,"$1_="+ue++):i+(ce.test(i)?"&":"?")+"_="+ue++)),h.ifModified&&(Q.lastModified[i]&&x.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&x.setRequestHeader("If-None-Match",Q.etag[i])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+be+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)x.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(h.beforeSend.call(d,x,h)===!1||2===w))return x.abort();b="abort";for(c in{success:1,error:1,complete:1})x[c](h[c]);if(r=L(we,h,e,x)){x.readyState=1,u&&f.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},h.timeout));try{w=1,r.send(v,n)}catch(C){if(!(2>w))throw C;n(-1,C)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return Q.get(t,e,n,"json")},getScript:function(t,e){return Q.get(t,void 0,e,"script")}}),Q.each(["get","post"],function(t,e){Q[e]=function(t,n,r,i){return Q.isFunction(n)&&(i=i||r,r=n,n=void 0),Q.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),Q._evalUrl=function(t){return Q.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(t){var e;return Q.isFunction(t)?this.each(function(e){Q(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Q(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(Q.isFunction(t)?function(e){Q(this).wrapInner(t.call(this,e))}:function(){var e=Q(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(n){Q(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)};var _e=/%20/g,Ee=/\[\]$/,Te=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;Q.param=function(t,e){var n,r=[],i=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e);

};if(void 0===e&&(e=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){i(this.name,this.value)});else for(n in t)j(n,t[n],e,i);return r.join("&").replace(_e,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Q.prop(this,"elements");return t?Q.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Q(this).is(":disabled")&&Se.test(this.nodeName)&&!ke.test(t)&&(this.checked||!Et.test(t))}).map(function(t,e){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:n.replace(Te,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var $e=0,Me={},Ae={0:200,1223:204},Re=Q.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Me)Me[t]()}),K.cors=!!Re&&"withCredentials"in Re,K.ajax=Re=!!Re,Q.ajaxTransport(function(t){var e;return K.cors||Re&&!t.crossDomain?{send:function(n,r){var i,o=t.xhr(),a=++$e;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete Me[a],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(Ae[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Me[a]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(s){if(e)throw s}},abort:function(){e&&e()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=Q("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),Z.head.appendChild(e[0])},abort:function(){n&&n()}}}});var De=[],Oe=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=De.pop()||Q.expando+"_"+ue++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,s=e.jsonp!==!1&&(Oe.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Oe.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Oe,"$1"+i):e.jsonp!==!1&&(e.url+=(ce.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||Q.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,De.push(i)),a&&Q.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Q.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Z;var r=at.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=Q.buildFragment([t],e,i),i&&i.length&&Q(i).remove(),Q.merge([],r.childNodes))};var Pe=Q.fn.load;Q.fn.load=function(t,e,n){if("string"!=typeof t&&Pe)return Pe.apply(this,arguments);var r,i,o,a=this,s=t.indexOf(" ");return s>=0&&(r=Q.trim(t.slice(s)),t=t.slice(0,s)),Q.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&Q.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?Q("<div>").append(Q.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length};var He=t.document.documentElement;Q.offset={setOffset:function(t,e,n){var r,i,o,a,s,l,u,c=Q.css(t,"position"),h=Q(t),d={};"static"===c&&(t.style.position="relative"),s=h.offset(),o=Q.css(t,"top"),l=Q.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),Q.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(d.top=e.top-s.top+a),null!=e.left&&(d.left=e.left-s.left+i),"using"in e?e.using.call(t,d):h.css(d)}},Q.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,Q.contains(e,r)?(typeof r.getBoundingClientRect!==Tt&&(i=r.getBoundingClientRect()),n=F(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===Q.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Q.nodeName(t[0],"html")||(r=t.offset()),r.top+=Q.css(t[0],"borderTopWidth",!0),r.left+=Q.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-Q.css(n,"marginTop",!0),left:e.left-r.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||He;t&&!Q.nodeName(t,"html")&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||He})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;Q.fn[e]=function(i){return mt(this,function(e,i,o){var a=F(e);return void 0===o?a?a[n]:e[i]:void(a?a.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):e[i]=o)},e,i,arguments.length,null)}}),Q.each(["top","left"],function(t,e){Q.cssHooks[e]=C(K.pixelPosition,function(t,n){return n?(n=x(t,e),Vt.test(n)?Q(t).position()[e]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(t,e){Q.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){Q.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return mt(this,function(e,n,r){var i;return Q.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?Q.css(e,n,a):Q.style(e,n,r,a)},e,o?r:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Le=t.jQuery,Ne=t.$;return Q.noConflict=function(e){return t.$===Q&&(t.$=Ne),e&&t.jQuery===Q&&(t.jQuery=Le),Q},typeof e===Tt&&(t.jQuery=t.$=Q),Q}),/**
 * @license AngularJS v1.4.2
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(t,e){return e=e||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(t?t+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+i;return n<o.length?wt(o[n]):t}),s+="\nhttp://errors.angularjs.org/1.4.2/"+(t?t+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(wt(o[r]));return new e(s)}}function i(t){if(null==t||$(t))return!1;var e="length"in Object(t)&&t.length;return t.nodeType===Gr&&e?!0:_(t)||Br(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var r,a;if(t)if(k(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(Br(t)||i(t)){var s="object"!=typeof t;for(r=0,a=t.length;a>r;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(C(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)Cr.call(t,r)&&e.call(n,t[r],r,t);return t}function a(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function s(t){return function(e,n){t(n,e)}}function l(){return++Nr}function u(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function c(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;o>i;++i){var a=e[i];if(x(a)||k(a))for(var s=Object.keys(a),l=0,h=s.length;h>l;l++){var d=s[l],f=a[d];n&&x(f)?T(f)?t[d]=new Date(f.valueOf()):(x(t[d])||(t[d]=Br(f)?[]:{}),c(t[d],[f],!0)):t[d]=f}}return u(t,r),t}function h(t){return c(t,Ar.call(arguments,1),!1)}function d(t){return c(t,Ar.call(arguments,1),!0)}function f(t){return parseInt(t,10)}function p(t,e){return h(Object.create(t),e)}function g(){}function m(t){return t}function v(t){return function(){return t}}function y(t){return k(t.toString)&&t.toString!==Object.prototype.toString}function w(t){return"undefined"==typeof t}function b(t){return"undefined"!=typeof t}function x(t){return null!==t&&"object"==typeof t}function C(t){return null!==t&&"object"==typeof t&&!Pr(t)}function _(t){return"string"==typeof t}function E(t){return"number"==typeof t}function T(t){return"[object Date]"===Or.call(t)}function k(t){return"function"==typeof t}function S(t){return"[object RegExp]"===Or.call(t)}function $(t){return t&&t.window===t}function M(t){return t&&t.$evalAsync&&t.$watch}function A(t){return"[object File]"===Or.call(t)}function R(t){return"[object FormData]"===Or.call(t)}function D(t){return"[object Blob]"===Or.call(t)}function O(t){return"boolean"==typeof t}function P(t){return t&&k(t.then)}function H(t){return jr.test(Or.call(t))}function L(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function N(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function I(t){return xr(t.nodeName||t[0]&&t[0].nodeName)}function B(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function j(t,e,n,r){if($(t)||M(t))throw Hr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(H(e))throw Hr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e){if(t===e)throw Hr("cpi","Can't copy! Source and destination are identical.");n=n||[],r=r||[],x(t)&&(n.push(t),r.push(e));var i;if(Br(t)){e.length=0;for(var a=0;a<t.length;a++)e.push(j(t[a],null,n,r))}else{var s=e.$$hashKey;if(Br(e)?e.length=0:o(e,function(t,n){delete e[n]}),C(t))for(i in t)e[i]=j(t[i],null,n,r);else if(t&&"function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&(e[i]=j(t[i],null,n,r));else for(i in t)Cr.call(t,i)&&(e[i]=j(t[i],null,n,r));u(e,s)}}else if(e=t,x(t)){var l;if(n&&-1!==(l=n.indexOf(t)))return r[l];if(Br(t))return j(t,[],n,r);if(H(t))e=new t.constructor(t);else if(T(t))e=new Date(t.getTime());else{if(!S(t)){var c=Object.create(Pr(t));return j(t,c,n,r)}e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex}r&&(n.push(t),r.push(e))}return e}function F(t,e){if(Br(t)){e=e||[];for(var n=0,r=t.length;r>n;n++)e[n]=t[n]}else if(x(t)){e=e||{};for(var i in t)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(e[i]=t[i])}return e||t}function V(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r,i,o,a=typeof t,s=typeof e;if(a==s&&"object"==a){if(!Br(t)){if(T(t))return T(e)?V(t.getTime(),e.getTime()):!1;if(S(t))return S(e)?t.toString()==e.toString():!1;if(M(t)||M(e)||$(t)||$(e)||Br(e)||T(e)||S(e))return!1;o=mt();for(i in t)if("$"!==i.charAt(0)&&!k(t[i])){if(!V(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!(i in o||"$"===i.charAt(0)||e[i]===n||k(e[i])))return!1;return!0}if(!Br(e))return!1;if((r=t.length)==e.length){for(i=0;r>i;i++)if(!V(t[i],e[i]))return!1;return!0}}return!1}function q(t,e,n){return t.concat(Ar.call(e,n))}function z(t,e){return Ar.call(t,e||0)}function W(t,e){var n=arguments.length>2?z(arguments,2):[];return!k(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,q(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function U(t,r){var i=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=n:$(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":M(r)&&(i="$SCOPE"),i}function Y(t,e){return"undefined"==typeof t?n:(E(e)||(e=e?2:null),JSON.stringify(t,U,e))}function G(t){return _(t)?JSON.parse(t):t}function X(t,e){var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function K(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Z(t,e,n){n=n?-1:1;var r=X(e,t.getTimezoneOffset());return K(t,n*(r-t.getTimezoneOffset()))}function J(t){t=Sr(t).clone();try{t.empty()}catch(e){}var n=Sr("<div>").append(t).html();try{return t[0].nodeType===Kr?xr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+xr(e)})}catch(e){return xr(n)}}function Q(t){try{return decodeURIComponent(t)}catch(e){}}function tt(t){var e,n,r={};return o((t||"").split("&"),function(t){if(t&&(e=t.replace(/\+/g,"%20").split("="),n=Q(e[0]),b(n))){var i=b(e[1])?Q(e[1]):!0;Cr.call(r,n)?Br(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function et(t){var e=[];return o(t,function(t,n){Br(t)?o(t,function(t){e.push(rt(n,!0)+(t===!0?"":"="+rt(t,!0)))}):e.push(rt(n,!0)+(t===!0?"":"="+rt(t,!0)))}),e.length?e.join("&"):""}function nt(t){return rt(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function rt(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function it(t,e){var n,r,i=Wr.length;for(r=0;i>r;++r)if(n=Wr[r]+e,_(n=t.getAttribute(n)))return n;return null}function ot(t,e){var n,r,i={};o(Wr,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),o(Wr,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==it(n,"strict-di"),e(n,r?[r]:[],i))}function at(n,r,i){x(i)||(i={});var a={strictDi:!1};i=h(a,i);var s=function(){if(n=Sr(n),n.injector()){var t=n[0]===e?"document":J(n);throw Hr("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var o=Jt(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},l=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return t&&l.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(l,"")),t&&!u.test(t.name)?s():(t.name=t.name.replace(u,""),Lr.resumeBootstrap=function(t){return o(t,function(t){r.push(t)}),s()},void(k(Lr.resumeDeferredBootstrap)&&Lr.resumeDeferredBootstrap()))}function st(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function lt(t){var e=Lr.element(t).injector();if(!e)throw Hr("test","no injector found for element argument to getTestability");return e.get("$$testability")}function ut(t,e){return e=e||"_",t.replace(Ur,function(t,n){return(n?e:"")+t.toLowerCase()})}function ct(){var e;if(!Yr){var r=zr();$r=t.jQuery,b(r)&&($r=null===r?n:t[r]),$r&&$r.fn.on?(Sr=$r,h($r.fn,{scope:pi.scope,isolateScope:pi.isolateScope,controller:pi.controller,injector:pi.injector,inheritedData:pi.inheritedData}),e=$r.cleanData,$r.cleanData=function(t){var n;if(Ir)Ir=!1;else for(var r,i=0;null!=(r=t[i]);i++)n=$r._data(r,"events"),n&&n.$destroy&&$r(r).triggerHandler("$destroy");e(t)}):Sr=$t,Lr.element=Sr,Yr=!0}}function ht(t,e,n){if(!t)throw Hr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function dt(t,e,n){return n&&Br(t)&&(t=t[t.length-1]),ht(k(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ft(t,e){if("hasOwnProperty"===t)throw Hr("badname","hasOwnProperty is not a valid {0} name",e)}function pt(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;a>s;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&k(t)?W(o,t):t}function gt(t){var e=t[0],n=t[t.length-1],r=[e];do{if(e=e.nextSibling,!e)break;r.push(e)}while(e!==n);return Sr(r)}function mt(){return Object.create(null)}function vt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||r,e(o,"module",function(){var t={};return function(r,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return s(r,"module"),o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,e,n,r){return r||(r=i),function(){return r[n||"push"]([t,e,arguments]),c}}function e(t,e){return function(n,o){return o&&k(o)&&(o.$$moduleName=r),i.push([t,e,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var i=[],s=[],l=[],u=t("$injector","invoke","push",s),c={_invokeQueue:i,_configBlocks:s,_runBlocks:l,requires:o,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:u,run:function(t){return l.push(t),this}};return a&&u(a),c})}})}function yt(t){var e=[];return JSON.stringify(t,function(t,n){if(n=U(t,n),x(n)){if(e.indexOf(n)>=0)return"<<already seen>>";e.push(n)}return n})}function wt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?yt(t):t}function bt(e){h(e,{bootstrap:at,copy:j,extend:h,merge:d,equals:V,element:Sr,forEach:o,injector:Jt,noop:g,bind:W,toJson:Y,fromJson:G,identity:m,isUndefined:w,isDefined:b,isString:_,isFunction:k,isObject:x,isNumber:E,isElement:L,isArray:Br,version:ti,isDate:T,lowercase:xr,uppercase:_r,callbacks:{counter:0},getTestability:lt,$$minErr:r,$$csp:qr,reloadWithDebugInfo:st}),Mr=vt(t);try{Mr("ngLocale")}catch(n){Mr("ngLocale",[]).provider("$locale",De)}Mr("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:yn}),t.provider("$compile",ue).directive({a:co,input:$o,textarea:$o,form:mo,script:ba,select:_a,style:Ta,option:Ea,ngBind:Ro,ngBindHtml:Oo,ngBindTemplate:Do,ngClass:Ho,ngClassEven:No,ngClassOdd:Lo,ngCloak:Io,ngController:Bo,ngForm:vo,ngHide:pa,ngIf:Vo,ngInclude:qo,ngInit:Wo,ngNonBindable:oa,ngPluralize:ua,ngRepeat:ca,ngShow:fa,ngStyle:ga,ngSwitch:ma,ngSwitchWhen:va,ngSwitchDefault:ya,ngOptions:la,ngTransclude:wa,ngModel:na,ngList:Uo,ngChange:Po,pattern:Sa,ngPattern:Sa,required:ka,ngRequired:ka,minlength:Ma,ngMinlength:Ma,maxlength:$a,ngMaxlength:$a,ngValue:Ao,ngModelOptions:ia}).directive({ngInclude:zo}).directive(ho).directive(jo),t.provider({$anchorScroll:Qt,$animate:Mi,$$animateQueue:$i,$$AnimateRunner:Si,$browser:ae,$cacheFactory:se,$controller:pe,$document:ge,$exceptionHandler:me,$filter:Dn,$interpolate:Ae,$interval:Re,$http:ke,$httpParamSerializer:ye,$httpParamSerializerJQLike:we,$httpBackend:$e,$location:Ue,$log:Ye,$parse:dn,$rootScope:vn,$q:fn,$$q:pn,$sce:Cn,$sceDelegate:xn,$sniffer:_n,$templateCache:le,$templateRequest:En,$$testability:Tn,$timeout:kn,$window:Mn,$$rAF:mn,$$asyncCallback:ie,$$jqLite:Yt,$$HashMap:yi,$$cookieReader:Rn})}])}function xt(){return++ni}function Ct(t){return t.replace(oi,function(t,e,n,r){return r?n.toUpperCase():n}).replace(ai,"Moz$1")}function _t(t){return!ci.test(t)}function Et(t){var e=t.nodeType;return e===Gr||!e||e===Jr}function Tt(t){for(var e in ei[t.ng339])return!0;return!1}function kt(t,e){var n,r,i,a,s=e.createDocumentFragment(),l=[];if(_t(t))l.push(e.createTextNode(t));else{for(n=n||s.appendChild(e.createElement("div")),r=(hi.exec(t)||["",""])[1].toLowerCase(),i=fi[r]||fi._default,n.innerHTML=i[1]+t.replace(di,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;l=q(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(l,function(t){s.appendChild(t)}),s}function St(t,n){n=n||e;var r;return(r=ui.exec(t))?[n.createElement(r[1])]:(r=kt(t,n))?r.childNodes:[]}function $t(t){if(t instanceof $t)return t;var e;if(_(t)&&(t=Fr(t),e=!0),!(this instanceof $t)){if(e&&"<"!=t.charAt(0))throw li("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new $t(t)}e?It(this,St(t)):It(this,t)}function Mt(t){return t.cloneNode(!0)}function At(t,e){if(e||Dt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Dt(n[r])}function Rt(t,e,n,r){if(b(r))throw li("offargs","jqLite#off() does not support the `selector` argument");var i=Ot(t),a=i&&i.events,s=i&&i.handle;if(s)if(e)o(e.split(" "),function(e){if(b(n)){var r=a[e];if(B(r||[],n),r&&r.length>0)return}ii(t,e,s),delete a[e]});else for(e in a)"$destroy"!==e&&ii(t,e,s),delete a[e]}function Dt(t,e){var r=t.ng339,i=r&&ei[r];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Rt(t)),delete ei[r],t.ng339=n}}function Ot(t,e){var r=t.ng339,i=r&&ei[r];return e&&!i&&(t.ng339=r=xt(),i=ei[r]={events:{},data:{},handle:n}),i}function Pt(t,e,n){if(Et(t)){var r=b(n),i=!r&&e&&!x(e),o=!e,a=Ot(t,!i),s=a&&a.data;if(r)s[e]=n;else{if(o)return s;if(i)return s&&s[e];h(s,e)}}}function Ht(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Lt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",Fr((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Fr(e)+" "," ")))})}function Nt(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=Fr(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Fr(n))}}function It(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;n>r;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Bt(t,e){return jt(t,"$"+(e||"ngController")+"Controller")}function jt(t,e,r){t.nodeType==Jr&&(t=t.documentElement);for(var i=Br(e)?e:[e];t;){for(var o=0,a=i.length;a>o;o++)if((r=Sr.data(t,i[o]))!==n)return r;t=t.parentNode||t.nodeType===Qr&&t.host}}function Ft(t){for(At(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Vt(t,e){e||At(t);var n=t.parentNode;n&&n.removeChild(t)}function qt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):Sr(n).on("load",e)}function zt(t,e){var n=gi[e.toLowerCase()];return n&&mi[I(t)]&&n}function Wt(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&vi[e]}function Ut(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(w(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=F(i));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||i[s].call(t,n)}};return n.elem=t,n}function Yt(){this.$get=function(){return h($t,{hasClass:function(t,e){return t.attr&&(t=t[0]),Ht(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),Nt(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Lt(t,e)}})}}function Gt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"==r||"object"==r&&null!==t?t.$$hashKey=r+":"+(e||l)():r+":"+t}function Xt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Kt(t){var e=t.toString().replace(Ci,""),n=e.match(wi);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Zt(t,e,n){var r,i,a,s;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw _(n)&&n||(n=t.name||Kt(t)),_i("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=t.toString().replace(Ci,""),a=i.match(wi),o(a[1].split(bi),function(t){t.replace(xi,function(t,e,n){r.push(n)})})}t.$inject=r}}else Br(t)?(s=t.length-1,dt(t[s],"fn"),r=t.slice(0,s)):dt(t,"fn",!0);return r}function Jt(t,e){function r(t){return function(e,n){return x(e)?void o(e,s(t)):t(e,n)}}function i(t,e){if(ft(t,"service"),(k(e)||Br(e))&&(e=E.instantiate(e)),!e.$get)throw _i("pget","Provider '{0}' must define $get factory method.",t);return C[t+m]=e}function a(t,e){return function(){var n=S.invoke(e,this);if(w(n))throw _i("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function l(t,e,n){return i(t,{$get:n!==!1?a(t,e):e})}function u(t,e){return l(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return l(t,v(e),!1)}function h(t,e){ft(t,"constant"),C[t]=e,T[t]=e}function d(t,e){var n=E.get(t+m),r=n.$get;n.$get=function(){var t=S.invoke(r,n);return S.invoke(e,null,{$delegate:t})}}function f(t){var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;n>e;e++){var r=t[e],i=E.get(r[0]);i[r[1]].apply(i,r[2])}}if(!b.get(t)){b.put(t,!0);try{_(t)?(e=Mr(t),n=n.concat(f(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):k(t)?n.push(E.invoke(t)):Br(t)?n.push(E.invoke(t)):dt(t,"module")}catch(i){throw Br(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),_i("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}}),n}function p(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===g)throw _i("cdep","Circular dependency found: {0}",e+" <- "+y.join(" <- "));return t[e]}try{return y.unshift(e),t[e]=g,t[e]=n(e,r)}catch(i){throw t[e]===g&&delete t[e],i}finally{y.shift()}}function i(t,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,l,u=[],c=Jt.$$annotate(t,e,o);for(s=0,a=c.length;a>s;s++){if(l=c[s],"string"!=typeof l)throw _i("itkn","Incorrect injection token! Expected service name as string, got {0}",l);u.push(i&&i.hasOwnProperty(l)?i[l]:r(l,o))}return Br(t)&&(t=t[a]),t.apply(n,u)}function o(t,e,n){var r=Object.create((Br(t)?t[t.length-1]:t).prototype||null),o=i(t,r,e,n);return x(o)||k(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:Jt.$$annotate,has:function(e){return C.hasOwnProperty(e+m)||t.hasOwnProperty(e)}}}e=e===!0;var g={},m="Provider",y=[],b=new Xt([],!0),C={$provide:{provider:r(i),factory:r(l),service:r(u),value:r(c),constant:r(h),decorator:d}},E=C.$injector=p(C,function(t,e){throw Lr.isString(e)&&y.push(e),_i("unpr","Unknown provider: {0}",y.join(" <- "))}),T={},S=T.$injector=p(T,function(t,e){var r=E.get(t+m,e);return S.invoke(r.$get,r,n,t)});return o(f(t),function(t){t&&S.invoke(t)}),S}function Qt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===I(t)?(e=t,!0):void 0}),e}function o(){var t=s.yOffset;if(k(t))t=t();else if(L(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else E(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(t){t=_(t)?t:n.hash();var e;t?(e=l.getElementById(t))?a(e):(e=i(l.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var l=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&qt(function(){r.$evalAsync(s)})}),s}]}function te(t,e){return t||e?t?e?(Br(t)&&(t=t.join(" ")),Br(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function ee(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===Ti)return n}}function ne(t){_(t)&&(t=t.split(" "));var e=mt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function re(t){return x(t)?t:{}}function ie(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function oe(t,e,n,r){function i(t){try{t.apply(null,z(arguments,1))}finally{if(y--,0===y)for(;b.length;)try{b.pop()()}catch(e){n.error(e)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e)}function s(){u(),c()}function l(){try{return f.state}catch(t){}}function u(){x=l(),x=w(x)?null:x,V(x,$)&&(x=$),$=x}function c(){(_!==h.url()||C!==x)&&(_=h.url(),C=x,o(k,function(t){t(h.url(),x)}))}var h=this,d=(e[0],t.location),f=t.history,p=t.setTimeout,m=t.clearTimeout,v={};h.isMock=!1;var y=0,b=[];h.$$completeOutstandingRequest=i,h.$$incOutstandingRequestCount=function(){y++},h.notifyWhenNoOutstandingRequests=function(t){0===y?t():b.push(t)};var x,C,_=d.href,E=e.find("base"),T=null;u(),C=x,h.url=function(e,n,i){if(w(i)&&(i=null),d!==t.location&&(d=t.location),f!==t.history&&(f=t.history),e){var o=C===i;if(_===e&&(!r.history||o))return h;var s=_&&Ne(_)===Ne(e);return _=e,C=i,!r.history||s&&o?((!s||T)&&(T=e),n?d.replace(e):s?d.hash=a(e):d.href=e):(f[n?"replaceState":"pushState"](i,"",e),u(),C=x),h}return T||d.href.replace(/%27/g,"'")},h.state=function(){return x};var k=[],S=!1,$=null;h.onUrlChange=function(e){return S||(r.history&&Sr(t).on("popstate",s),Sr(t).on("hashchange",s),S=!0),k.push(e),e},h.$$applicationDestroyed=function(){Sr(t).off("hashchange popstate",s)},h.$$checkUrlChange=c,h.baseHref=function(){var t=E.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},h.defer=function(t,e){var n;return y++,n=p(function(){delete v[n],i(t)},e||0),v[n]=!0,n},h.defer.cancel=function(t){return v[t]?(delete v[t],m(t),i(g),!0):!1}}function ae(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new oe(t,r,e,n)}]}function se(){this.$get=function(){function t(t,n){function i(t){t!=d&&(f?f==t&&(f=t.n):f=t,o(t.n,t.p),o(t,d),d=t,d.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=h({},n,{id:t}),l={},u=n&&n.capacity||Number.MAX_VALUE,c={},d=null,f=null;return e[t]={put:function(t,e){if(!w(e)){if(u<Number.MAX_VALUE){var n=c[t]||(c[t]={key:t});i(n)}return t in l||a++,l[t]=e,a>u&&this.remove(f.key),e}},get:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;i(e)}return l[t]},remove:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;e==d&&(d=e.p),e==f&&(f=e.n),o(e.n,e.p),delete c[t]}delete l[t],a--},removeAll:function(){l={},a=0,c={},d=f=null},destroy:function(){l=null,s=null,c=null,delete e[t]},info:function(){return h({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function le(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function ue(t,r){function i(t,e,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(t,function(t,o){var a=t.match(r);if(!a)throw Ai("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o}}),i}function a(t,e){var n={isolateScope:null,bindToController:null};if(x(t.scope)&&(t.bindToController===!0?(n.bindToController=i(t.scope,e,!0),n.isolateScope={}):n.isolateScope=i(t.scope,e,!1)),x(t.bindToController)&&(n.bindToController=i(t.bindToController,e,!0)),x(n.bindToController)){var r=t.controller,o=t.controllerAs;if(!r)throw Ai("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!fe(r,o))throw Ai("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function l(t){var e=t.charAt(0);if(!e||e!==xr(e))throw Ai("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw Ai("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}var u={},c="Directive",d=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,f=/(([\w\-]+)(?:\:([^;]+))?;?)/,y=N("ngSrc,ngSrcset,src,srcset"),w=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,C=/^(on[a-z]+|formaction)$/;this.directive=function T(e,n){return ft(e,"directive"),_(e)?(l(e),ht(n,"directiveFactory"),u.hasOwnProperty(e)||(u[e]=[],t.factory(e+c,["$injector","$exceptionHandler",function(t,n){var r=[];return o(u[e],function(i,o){try{var s=t.invoke(i);k(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var l=s.$$bindings=a(s,s.name);x(l.isolateScope)&&(s.$$isolateBindings=l.isolateScope),s.$$moduleName=i.$$moduleName,r.push(s)}catch(u){n(u)}}),r}])),u[e].push(n)):o(e,s(T)),this},this.aHrefSanitizationWhitelist=function(t){return b(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var E=!0;this.debugInfoEnabled=function(t){return b(t)?(E=t,this):E},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,r,i,a,s,l,v,b,T,S,$){function A(t,e){try{t.addClass(e)}catch(n){}}function R(t,e,n,r,i){t instanceof Sr||(t=Sr(t)),o(t,function(e,n){e.nodeType==Kr&&e.nodeValue.match(/\S+/)&&(t[n]=Sr(e).wrap("<span></span>").parent()[0])});var a=O(t,e,t,n,r,i);R.$$addScopeClass(t);var s=null;return function(e,n,r){ht(e,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers,l=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=D(l));var u;if(u="html"!==s?Sr(Z(s,Sr("<div>").append(t).html())):n?pi.clone.call(t):t,o)for(var c in o)u.data("$"+c+"Controller",o[c].instance);return R.$$addScopeInfo(u,e),n&&n(u,e),a&&a(e,u,u,i),u}}function D(t){var e=t&&t[0];return e&&"foreignobject"!==I(e)&&e.toString().match(/SVG/)?"svg":"html"}function O(t,e,r,i,o,a){function s(t,r,i,o){var a,s,l,u,c,h,d,f,m;if(p){var v=r.length;for(m=new Array(v),c=0;c<g.length;c+=3)d=g[c],m[d]=r[d]}else m=r;for(c=0,h=g.length;h>c;)if(l=m[g[c++]],a=g[c++],s=g[c++],a){if(a.scope){u=t.$new(),R.$$addScopeInfo(Sr(l),u);var y=a.$$destroyBindings;y&&(a.$$destroyBindings=null,u.$on("$destroyed",y))}else u=t;f=a.transcludeOnThisElement?P(t,a.transclude,o):!a.templateOnThisElement&&o?o:!o&&e?P(t,e):null,a(s,u,l,i,f,a)}else s&&s(t,l.childNodes,n,o)}for(var l,u,c,h,d,f,p,g=[],m=0;m<t.length;m++)l=new ot,u=H(t[m],[],l,0===m?i:n,o),c=u.length?j(u,t[m],l,e,r,null,[],[],a):null,c&&c.scope&&R.$$addScopeClass(l.$$element),d=c&&c.terminal||!(h=t[m].childNodes)||!h.length?null:O(h,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||d)&&(g.push(m,c,d),f=!0,p=p||c),a=null;return f?s:null}function P(t,e,n){var r=function(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return r}function H(t,e,n,r,i){var o,a,s=t.nodeType,l=n.$attr;switch(s){case Gr:q(e,ce(I(t)),"E",r,i);for(var u,c,h,p,g,m,v=t.attributes,y=0,w=v&&v.length;w>y;y++){var b=!1,C=!1;u=v[y],c=u.name,g=Fr(u.value),p=ce(c),(m=ct.test(p))&&(c=c.replace(Ri,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var E=p.replace(/(Start|End)$/,"");W(E)&&p===E+"Start"&&(b=c,C=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),h=ce(c.toLowerCase()),l[h]=c,(m||!n.hasOwnProperty(h))&&(n[h]=g,zt(t,h)&&(n[h]=!0)),tt(t,e,g,h,m),q(e,h,"A",r,i,b,C)}if(a=t.className,x(a)&&(a=a.animVal),_(a)&&""!==a)for(;o=f.exec(a);)h=ce(o[2]),q(e,h,"C",r,i)&&(n[h]=Fr(o[3])),a=a.substr(o.index+o[0].length);break;case Kr:if(11===kr)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===Kr;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);K(e,t.nodeValue);break;case Zr:try{o=d.exec(t.nodeValue),o&&(h=ce(o[1]),q(e,h,"M",r,i)&&(n[h]=Fr(o[2])))}catch(T){}}return e.sort(G),e}function L(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Ai("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==Gr&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return Sr(r)}function N(t,e,n){return function(r,i,o,a,s){return i=L(i[0],e,n),t(r,i,o,a,s)}}function j(t,r,o,a,s,u,c,h,d){function f(t,e,n,r){t&&(n&&(t=N(t,n,r)),t.require=v.require,t.directiveName=y,(A===v||v.$$isolateScope)&&(t=nt(t,{isolateScope:!0})),c.push(t)),e&&(n&&(e=N(e,n,r)),e.require=v.require,e.directiveName=y,(A===v||v.$$isolateScope)&&(e=nt(e,{isolateScope:!0})),h.push(e))}function p(t,e,n,r){var i;if(_(e)){var o=e.match(w),a=e.substring(o[0].length),s=o[1]||o[3],l="?"===o[2];if("^^"===s?n=n.parent():(i=r&&r[a],i=i&&i.instance),!i){var u="$"+a+"Controller";i=s?n.inheritedData(u):n.data(u)}if(!i&&!l)throw Ai("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,t)}else if(Br(e)){i=[];for(var c=0,h=e.length;h>c;c++)i[c]=p(t,e[c],n,r)}return i||null}function g(t,e,n,r,i,o){var a=mt();for(var s in r){var u=r[s],c={$scope:u===A||u.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},h=u.controller;"@"==h&&(h=e[u.name]);var d=l(h,c,!0,u.controllerAs);a[u.name]=d,B||t.data("$"+u.name+"Controller",d.instance)}return a}function m(t,e,i,a,s,l){function u(t,e,r){var i;return M(t)||(r=e,e=t,t=n),B&&(i=w),r||(r=B?x.parent():x),s(t,e,i,r,O)}var d,f,m,v,y,w,b,x,C;if(r===i?(C=o,x=o.$$element):(x=Sr(i),C=new ot(x,o)),A&&(y=e.$new(!0)),s&&(b=u,b.$$boundTransclude=s),$&&(w=g(x,C,b,$,y,e)),A&&(R.$$addScopeInfo(x,y,!0,!(D&&(D===A||D===A.$$originalDirective))),R.$$addScopeClass(x,!0),y.$$isolateBindings=A.$$isolateBindings,it(e,C,y,y.$$isolateBindings,A,y)),w){var _,E,T=A||S;T&&w[T.name]&&(_=T.$$bindings.bindToController,v=w[T.name],v&&v.identifier&&_&&(E=v,l.$$destroyBindings=it(e,C,v.instance,_,T)));for(d in w){v=w[d];var k=v();k!==v.instance&&(v.instance=k,x.data("$"+d+"Controller",k),v===E&&(l.$$destroyBindings(),l.$$destroyBindings=it(e,C,k,_,T)))}}for(d=0,f=c.length;f>d;d++)m=c[d],rt(m,m.isolateScope?y:e,x,C,m.require&&p(m.directiveName,m.require,x,w),b);var O=e;for(A&&(A.template||null===A.templateUrl)&&(O=y),t&&t(O,i.childNodes,n,s),d=h.length-1;d>=0;d--)m=h[d],rt(m,m.isolateScope?y:e,x,C,m.require&&p(m.directiveName,m.require,x,w),b)}d=d||{};for(var v,y,b,C,E,T=-Number.MAX_VALUE,S=d.newScopeDirective,$=d.controllerDirectives,A=d.newIsolateScopeDirective,D=d.templateDirective,O=d.nonTlbTranscludeDirective,P=!1,I=!1,B=d.hasElementTranscludeDirective,j=o.$$element=Sr(r),V=u,q=a,W=0,G=t.length;G>W;W++){v=t[W];var K=v.$$start,Q=v.$$end;if(K&&(j=L(r,K,Q)),b=n,T>v.priority)break;if((E=v.scope)&&(v.templateUrl||(x(E)?(X("new/isolated scope",A||S,v,j),A=v):X("new/isolated scope",A,v,j)),S=S||v),y=v.name,!v.templateUrl&&v.controller&&(E=v.controller,
$=$||mt(),X("'"+y+"' controller",$[y],v,j),$[y]=v),(E=v.transclude)&&(P=!0,v.$$tlb||(X("transclusion",O,v,j),O=v),"element"==E?(B=!0,T=v.priority,b=j,j=o.$$element=Sr(e.createComment(" "+y+": "+o[y]+" ")),r=j[0],et(s,z(b),r),q=R(b,a,T,V&&V.name,{nonTlbTranscludeDirective:O})):(b=Sr(Mt(r)).contents(),j.empty(),q=R(b,a))),v.template)if(I=!0,X("template",D,v,j),D=v,E=k(v.template)?v.template(j,o):v.template,E=lt(E),v.replace){if(V=v,b=_t(E)?[]:de(Z(v.templateNamespace,Fr(E))),r=b[0],1!=b.length||r.nodeType!==Gr)throw Ai("tplrt","Template for directive '{0}' must have exactly one root element. {1}",y,"");et(s,j,r);var tt={$attr:{}},at=H(r,[],tt),st=t.splice(W+1,t.length-(W+1));A&&F(at),t=t.concat(at).concat(st),U(o,tt),G=t.length}else j.html(E);if(v.templateUrl)I=!0,X("template",D,v,j),D=v,v.replace&&(V=v),m=Y(t.splice(W,t.length-W),j,o,s,P&&q,c,h,{controllerDirectives:$,newScopeDirective:S!==v&&S,newIsolateScopeDirective:A,templateDirective:D,nonTlbTranscludeDirective:O}),G=t.length;else if(v.compile)try{C=v.compile(j,o,q),k(C)?f(null,C,K,Q):C&&f(C.pre,C.post,K,Q)}catch(ut){i(ut,J(j))}v.terminal&&(m.terminal=!0,T=Math.max(T,v.priority))}return m.scope=S&&S.scope===!0,m.transcludeOnThisElement=P,m.templateOnThisElement=I,m.transclude=q,d.hasElementTranscludeDirective=B,m}function F(t){for(var e=0,n=t.length;n>e;e++)t[e]=p(t[e],{$$isolateScope:!0})}function q(e,r,o,a,s,l,h){if(r===s)return null;var d=null;if(u.hasOwnProperty(r))for(var f,g=t.get(r+c),m=0,v=g.length;v>m;m++)try{f=g[m],(a===n||a>f.priority)&&-1!=f.restrict.indexOf(o)&&(l&&(f=p(f,{$$start:l,$$end:h})),e.push(f),d=f)}catch(y){i(y)}return d}function W(e){if(u.hasOwnProperty(e))for(var n,r=t.get(e+c),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function U(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;o(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,o){"class"==o?(A(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function Y(t,e,n,r,i,s,l,u){var c,h,d=[],f=e[0],g=t.shift(),m=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=k(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,y=g.templateNamespace;return e.empty(),a(v).then(function(a){var p,w,b,C;if(a=lt(a),g.replace){if(b=_t(a)?[]:de(Z(y,Fr(a))),p=b[0],1!=b.length||p.nodeType!==Gr)throw Ai("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);w={$attr:{}},et(r,e,p);var _=H(p,[],w);x(g.scope)&&F(_),t=_.concat(t),U(n,w)}else p=f,e.html(a);for(t.unshift(m),c=j(t,p,n,i,e,g,s,l,u),o(r,function(t,n){t==p&&(r[n]=e[0])}),h=O(e[0].childNodes,i);d.length;){var E=d.shift(),T=d.shift(),k=d.shift(),S=d.shift(),$=e[0];if(!E.$$destroyed){if(T!==f){var M=T.className;u.hasElementTranscludeDirective&&g.replace||($=Mt(p)),et(k,Sr(T),$),A(Sr($),M)}C=c.transcludeOnThisElement?P(E,c.transclude,S):S,c(h,E,$,r,C,c)}}d=null}),function(t,e,n,r,i){var o=i;e.$$destroyed||(d?d.push(e,n,r,o):(c.transcludeOnThisElement&&(o=P(e,c.transclude,i)),c(h,e,n,r,o,c)))}}function G(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function X(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw Ai("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,J(r))}function K(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&R.$$addBindingClass(e),function(t,e){var i=e.parent();r||R.$$addBindingClass(i),R.$$addBindingInfo(i,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function Z(t,n){switch(t=xr(t||"html")){case"svg":case"math":var r=e.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function Q(t,e){if("srcdoc"==e)return T.HTML;var n=I(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?T.RESOURCE_URL:void 0}function tt(t,e,n,i,o){var a=Q(t,i);o=y[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===I(t))throw Ai("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",J(t));e.push({priority:100,compile:function(){return{pre:function(t,e,l){var u=l.$$observers||(l.$$observers={});if(C.test(i))throw Ai("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[i];c!==n&&(s=c&&r(c,!0,a,o),n=c),s&&(l[i]=s(t),(u[i]||(u[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||t).$watch(s,function(t,e){"class"===i&&t!=e?l.$updateClass(t,e):l.$set(i,t)}))}}}})}}function et(t,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==a){t[i++]=r;for(var u=i,c=u+s-1,h=t.length;h>u;u++,c++)h>c?t[u]=t[c]:delete t[u];t.length-=s-1,t.context===a&&(t.context=r);break}l&&l.replaceChild(r,a);var d=e.createDocumentFragment();d.appendChild(a),Sr.hasData(a)&&(Sr(r).data(Sr(a).data()),$r?(Ir=!0,$r.cleanData([a])):delete Sr.cache[a[Sr.expando]]);for(var f=1,p=n.length;p>f;f++){var g=n[f];Sr(g).remove(),d.appendChild(g),delete n[f]}n[0]=r,n.length=1}function nt(t,e){return h(function(){return t.apply(null,arguments)},t,e)}function rt(t,e,n,r,o,a){try{t(e,n,r,o,a)}catch(s){i(s,J(n))}}function it(t,e,i,a,l,u){var c;o(a,function(o,a){var u,h,d,f,p=o.attrName,m=o.optional,v=o.mode;switch(Cr.call(e,p)||(e[p]=n),v){case"@":e[p]||m||(i[a]=n),e.$observe(p,function(t){i[a]=t}),e.$$observers[p].$$scope=t,e[p]&&(i[a]=r(e[p])(t));break;case"=":if(m&&!e[p])return;h=s(e[p]),f=h.literal?V:function(t,e){return t===e||t!==t&&e!==e},d=h.assign||function(){throw u=i[a]=h(t),Ai("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",e[p],l.name)},u=i[a]=h(t);var y=function(e){return f(e,i[a])||(f(e,u)?d(t,e=i[a]):i[a]=e),u=e};y.$stateful=!0;var w;w=o.collection?t.$watchCollection(e[p],y):t.$watch(s(e[p],y),null,h.literal),c=c||[],c.push(w);break;case"&":if(h=s(e[p]),h===g&&m)break;i[a]=function(e){return h(t,e)}}});var h=c?function(){for(var t=0,e=c.length;e>t;++t)c[t]()}:g;return u&&h!==g?(u.$on("$destroy",h),g):h}var ot=function(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t};ot.prototype={$normalize:ce,$addClass:function(t){t&&t.length>0&&S.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&S.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=he(t,e);n&&n.length&&S.addClass(this.$$element,n);var r=he(e,t);r&&r.length&&S.removeClass(this.$$element,r)},$set:function(t,e,r,a){var s,l=this.$$element[0],u=zt(l,t),c=Wt(l,t),h=t;if(u?(this.$$element.prop(t,e),a=u):c&&(this[c]=e,h=c),this[t]=e,a?this.$attr[t]=a:(a=this.$attr[t],a||(this.$attr[t]=a=ut(t,"-"))),s=I(this.$$element),"a"===s&&"href"===t||"img"===s&&"src"===t)this[t]=e=$(e,"src"===t);else if("img"===s&&"srcset"===t){for(var d="",f=Fr(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(f)?p:/(,)/,m=f.split(g),v=Math.floor(m.length/2),y=0;v>y;y++){var w=2*y;d+=$(Fr(m[w]),!0),d+=" "+Fr(m[w+1])}var b=Fr(m[2*y]).split(/\s/);d+=$(Fr(b[0]),!0),2===b.length&&(d+=" "+Fr(b[1])),this[t]=e=d}r!==!1&&(null===e||e===n?this.$$element.removeAttr(a):this.$$element.attr(a,e));var x=this.$$observers;x&&o(x[h],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=mt()),i=r[t]||(r[t]=[]);return i.push(e),v.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){B(i,e)}}};var at=r.startSymbol(),st=r.endSymbol(),lt="{{"==at||"}}"==st?m:function(t){return t.replace(/\{\{/g,at).replace(/}}/g,st)},ct=/^ngAttr[A-Z]/;return R.$$addBindingInfo=E?function(t,e){var n=t.data("$binding")||[];Br(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:g,R.$$addBindingClass=E?function(t){A(t,"ng-binding")}:g,R.$$addScopeInfo=E?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:g,R.$$addScopeClass=E?function(t,e){A(t,e?"ng-isolate-scope":"ng-scope")}:g,R}]}function ce(t){return Ct(t.replace(Ri,""))}function he(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function de(t){t=Sr(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===Zr&&Rr.call(t,e,1)}return t}function fe(t,e){if(e&&_(e))return e;if(_(t)){var n=Oi.exec(t);if(n)return n[3]}}function pe(){var t={},e=!1;this.register=function(e,n){ft(e,"controller"),x(e)?h(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(i,o){function a(t,e,n,i){if(!t||!x(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,s,l,u){var c,d,f,p;if(l=l===!0,u&&_(u)&&(p=u),_(r)){if(d=r.match(Oi),!d)throw Di("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);f=d[1],p=p||d[3],r=t.hasOwnProperty(f)?t[f]:pt(s.$scope,f,!0)||(e?pt(o,f,!0):n),dt(r,f,!0)}if(l){var g=(Br(r)?r[r.length-1]:r).prototype;c=Object.create(g||null),p&&a(s,p,c,f||r.name);var m;return m=h(function(){var t=i.invoke(r,c,s,f);return t!==c&&(x(t)||k(t))&&(c=t,p&&a(s,p,c,f||r.name)),c},{instance:c,identifier:p})}return c=i.instantiate(r,s,f),p&&a(s,p,c,f||r.name),c}}]}function ge(){this.$get=["$window",function(t){return Sr(t.document)}]}function me(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function ve(t){return x(t)?T(t)?t.toISOString():Y(t):t}function ye(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||w(t)||(Br(t)?o(t,function(t,r){e.push(rt(n)+"="+rt(ve(t)))}):e.push(rt(n)+"="+rt(ve(t))))}),e.join("&")}}}function we(){this.$get=function(){return function(t){function e(t,r,i){null===t||w(t)||(Br(t)?o(t,function(t){e(t,r+"[]")}):x(t)&&!T(t)?a(t,function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))}):n.push(rt(r)+"="+rt(ve(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function be(t,e){if(_(t)){var n=t.replace(Ii,"").trim();if(n){var r=e("Content-Type");(r&&0===r.indexOf(Pi)||xe(n))&&(t=G(n))}}return t}function xe(t){var e=t.match(Li);return e&&Ni[e[0]].test(t)}function Ce(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=mt();return _(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(xr(Fr(t.substr(0,n))),Fr(t.substr(n+1)))}):x(t)&&o(t,function(t,n){e(xr(n),Fr(t))}),r}function _e(t){var e;return function(n){if(e||(e=Ce(t)),n){var r=e[xr(n)];return void 0===r&&(r=null),r}return e}}function Ee(t,e,n,r){return k(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function Te(t){return t>=200&&300>t}function ke(){var t=this.defaults={transformResponse:[be],transformRequest:[function(t){return!x(t)||A(t)||D(t)||R(t)?t:Y(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:F(Hi),put:F(Hi),patch:F(Hi)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return b(t)?(e=!!t,this):e};var i=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,u,c,d){function f(e){function i(t){var e=h({},t);return e.data=t.data?Ee(t.data,t.headers,t.status,l.transformResponse):t.data,Te(t.status)?e:c.reject(e)}function a(t,e){var n,r={};return o(t,function(t,i){k(t)?(n=t(e),null!=n&&(r[i]=n)):r[i]=t}),r}function s(e){var n,r,i,o=t.headers,s=h({},e.headers);o=h({},o.common,o[xr(e.method)]);t:for(n in o){r=xr(n);for(i in s)if(xr(i)===r)continue t;s[n]=o[n]}return a(s,F(e))}if(!Lr.isObject(e))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var l=h({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},e);l.headers=s(e),l.method=_r(l.method),l.paramSerializer=_(l.paramSerializer)?d.get(l.paramSerializer):l.paramSerializer;var u=function(e){var r=e.headers,a=Ee(e.data,_e(r),n,e.transformRequest);return w(a)&&o(r,function(t,e){"content-type"===xr(e)&&delete r[e]}),w(e.withCredentials)&&!w(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,a).then(i,i)},f=[u,n],p=c.when(l);for(o(C,function(t){(t.request||t.requestError)&&f.unshift(t.request,t.requestError),(t.response||t.responseError)&&f.push(t.response,t.responseError)});f.length;){var g=f.shift(),v=f.shift();p=p.then(g,v)}return p.success=function(t){return dt(t,"fn"),p.then(function(e){t(e.data,e.status,e.headers,l)}),p},p.error=function(t){return dt(t,"fn"),p.then(null,function(e){t(e.data,e.status,e.headers,l)}),p},p}function p(t){o(arguments,function(t){f[t]=function(e,n){return f(h({},n||{},{method:t,url:e}))}})}function g(t){o(arguments,function(t){f[t]=function(e,n,r){return f(h({},r||{},{method:t,url:e,data:n}))}})}function m(r,i){function o(t,n,r,i){function o(){l(n,t,r,i)}p&&(Te(t)?p.put(E,[t,n,Ce(r),i]):p.remove(E)),e?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function l(t,e,n,i){e=Math.max(e,0),(Te(e)?m.resolve:m.reject)({data:t,status:e,headers:_e(n),config:r,statusText:i})}function h(t){l(t.data,t.status,F(t.headers()),t.statusText)}function d(){var t=f.pendingRequests.indexOf(r);-1!==t&&f.pendingRequests.splice(t,1)}var p,g,m=c.defer(),C=m.promise,_=r.headers,E=v(r.url,r.paramSerializer(r.params));if(f.pendingRequests.push(r),C.then(d,d),!r.cache&&!t.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(p=x(r.cache)?r.cache:x(t.cache)?t.cache:y),p&&(g=p.get(E),b(g)?P(g)?g.then(h,h):Br(g)?l(g[1],g[0],F(g[2]),g[3]):l(g,200,{},"OK"):p.put(E,C)),w(g)){var T=$n(r.url)?s()[r.xsrfCookieName||t.xsrfCookieName]:n;T&&(_[r.xsrfHeaderName||t.xsrfHeaderName]=T),a(r.method,E,i,o,_,r.timeout,r.withCredentials,r.responseType)}return C}function v(t,e){return e.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var y=l("$http");t.paramSerializer=_(t.paramSerializer)?d.get(t.paramSerializer):t.paramSerializer;var C=[];return o(i,function(t){C.unshift(_(t)?d.get(t):d.invoke(t))}),f.pendingRequests=[],p("get","delete","head","jsonp"),g("post","put","patch"),f.defaults=t,f}]}function Se(){return new t.XMLHttpRequest}function $e(){this.$get=["$browser","$window","$document",function(t,e,n){return Me(t,Se,t.defer,e.angular.callbacks,n[0])}]}function Me(t,e,r,i,a){function s(t,e,n){var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=t,r.async=!0,o=function(t){ii(r,"load",o),ii(r,"error",o),a.body.removeChild(r),r=null;var s=-1,l="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),l=t.type,s="error"===t.type?404:200),n&&n(s,l)},ri(r,"load",o),ri(r,"error",o),a.body.appendChild(r),o}return function(a,l,u,c,h,d,f,p){function m(){w&&w(),x&&x.abort()}function v(e,i,o,a,s){E!==n&&r.cancel(E),w=x=null,e(i,o,a,s),t.$$completeOutstandingRequest(g)}if(t.$$incOutstandingRequestCount(),l=l||t.url(),"jsonp"==xr(a)){var y="_"+(i.counter++).toString(36);i[y]=function(t){i[y].data=t,i[y].called=!0};var w=s(l.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(t,e){v(c,t,i[y].data,"",e),i[y]=g})}else{var x=e();x.open(a,l,!0),o(h,function(t,e){b(t)&&x.setRequestHeader(e,t)}),x.onload=function(){var t=x.statusText||"",e="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=e?200:"file"==Sn(l).protocol?404:0),v(c,n,e,x.getAllResponseHeaders(),t)};var C=function(){v(c,-1,null,null,"")};if(x.onerror=C,x.onabort=C,f&&(x.withCredentials=!0),p)try{x.responseType=p}catch(_){if("json"!==p)throw _}x.send(u)}if(d>0)var E=r(m,d);else P(d)&&d.then(m)}}function Ae(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(n){return n.replace(d,t).replace(f,e)}function s(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=Y(t)}return t}function l(o,l,d,f){function p(t){try{return t=$(t),f&&!b(t)?t:s(t)}catch(e){r(Bi.interr(o,e))}}f=!!f;for(var g,m,v,y=0,x=[],C=[],_=o.length,E=[],T=[];_>y;){if(-1==(g=o.indexOf(t,y))||-1==(m=o.indexOf(e,g+u))){y!==_&&E.push(a(o.substring(y)));break}y!==g&&E.push(a(o.substring(y,g))),v=o.substring(g+u,m),x.push(v),C.push(n(v,p)),y=m+c,T.push(E.length),E.push("")}if(d&&E.length>1&&Bi.throwNoconcat(o),!l||x.length){var S=function(t){for(var e=0,n=x.length;n>e;e++){if(f&&w(t[e]))return;E[T[e]]=t[e]}return E.join("")},$=function(t){return d?i.getTrusted(d,t):i.valueOf(t)};return h(function(t){var e=0,n=x.length,i=new Array(n);try{for(;n>e;e++)i[e]=C[e](t);return S(i)}catch(a){r(Bi.interr(o,a))}},{exp:o,expressions:x,$$watchDelegate:function(t,e){var n;return t.$watchGroup(C,function(r,i){var o=S(r);k(e)&&e.call(this,o,r!==i?n:o,t),n=o})}})}}var u=t.length,c=e.length,d=new RegExp(t.replace(/./g,o),"g"),f=new RegExp(e.replace(/./g,o),"g");return l.startSymbol=function(){return t},l.endSymbol=function(){return e},l}]}function Re(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,r){function i(i,a,s,l){var u=arguments.length>4,c=u?z(arguments,4):[],h=e.setInterval,d=e.clearInterval,f=0,p=b(l)&&!l,g=(p?r:n).defer(),m=g.promise;return s=b(s)?s:0,m.then(null,null,u?function(){i.apply(null,c)}:i),m.$$intervalId=h(function(){g.notify(f++),s>0&&f>=s&&(g.resolve(f),d(m.$$intervalId),delete o[m.$$intervalId]),p||t.$apply()},a),o[m.$$intervalId]=g,m}var o={};return i.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},i}]}function De(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(t){return 1===t?"one":"other"}}}}function Oe(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=nt(e[n]);return e.join("/")}function Pe(t,e){var n=Sn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=f(n.port)||Fi[n.protocol]||null}function He(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=Sn(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=tt(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Le(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function Ne(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Ie(t){return t.replace(/(#.+)|#$/,"$1")}function Be(t){return t.substr(0,Ne(t).lastIndexOf("/")+1)}function je(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Fe(t,e){this.$$html5=!0,e=e||"";var r=Be(t);Pe(t,this),this.$$parse=function(t){var e=Le(r,t);if(!_(e))throw Vi("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,r);He(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=et(this.$$search),e=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Oe(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,l;return(a=Le(t,i))!==n?(s=a,l=(a=Le(e,a))!==n?r+(Le("/",a)||a):t+s):(a=Le(r,i))!==n?l=r+a:r==i+"/"&&(l=r),l&&this.$$parse(l),!!l}}function Ve(t,e){var n=Be(t);Pe(t,this),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o,a=Le(t,r)||Le(n,r);w(a)||"#"!==a.charAt(0)?this.$$html5?o=a:(o="",w(a)&&(t=r,this.replace())):(o=Le(e,a),w(o)&&(o=a)),He(o,this),this.$$path=i(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var n=et(this.$$search),r=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Oe(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Ne(t)==Ne(e)?(this.$$parse(e),!0):!1}}function qe(t,e){this.$$html5=!0,Ve.apply(this,arguments);var n=Be(t);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t==Ne(r)?o=r:(a=Le(n,r))?o=t+e+a:n===r+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=et(this.$$search),r=this.$$hash?"#"+nt(this.$$hash):"";this.$$url=Oe(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+e+this.$$url}}function ze(t){return function(){return this[t]}}function We(t,e){return function(n){return w(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function Ue(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return b(e)?(t=e,this):t},this.html5Mode=function(t){return O(t)?(e.enabled=t,this):x(t)?(O(t.enabled)&&(e.enabled=t.enabled),O(t.requireBase)&&(e.requireBase=t.requireBase),O(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=u.url(),o=u.$$state;try{r.url(t,e,n),u.$$state=r.state()}catch(a){throw u.url(i),u.$$state=o,a}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c,h,d=r.baseHref(),f=r.url();if(e.enabled){if(!d&&e.requireBase)throw Vi("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=je(f)+(d||"/"),c=i.history?Fe:qe}else h=Ne(f),c=Ve;u=new c(h,"#"+t),u.$$parseLinkUrl(f,f),u.$$state=r.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var i=Sr(t.target);"a"!==I(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");x(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Sn(s.animVal).href),p.test(s)||!s||i.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(t.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Ie(u.absUrl())!=Ie(f)&&r.url(u.absUrl(),!0);var g=!0;return r.onUrlChange(function(t,e){n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;u.$$parse(t),u.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,u.absUrl()===t&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(g=!1,l(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var t=Ie(r.url()),e=Ie(u.absUrl()),o=r.state(),a=u.$$replace,c=t!==e||u.$$html5&&i.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var e=u.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,u.$$state,o).defaultPrevented;u.absUrl()===e&&(r?(u.$$parse(t),u.$$state=o):(c&&s(e,a,o===u.$$state?null:u.$$state),l(t,o)))})),u.$$replace=!1}),u}]}function Ye(){var t=!0,e=this;this.debugEnabled=function(e){return b(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||g,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Ge(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw zi("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Xe(t,e){if(t){if(t.constructor===t)throw zi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw zi("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw zi("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw zi("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Ke(t,e){if(t){if(t.constructor===t)throw zi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===Wi||t===Ui||t===Yi)throw zi("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Ze(t,e){return"undefined"!=typeof t?t:e}function Je(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function Qe(t,e){var n=t(e);return!n.$stateful}function tn(t,e){var n,r;switch(t.type){case Zi.Program:n=!0,o(t.body,function(t){tn(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Zi.Literal:t.constant=!0,t.toWatch=[];break;case Zi.UnaryExpression:tn(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Zi.BinaryExpression:tn(t.left,e),tn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Zi.LogicalExpression:tn(t.left,e),tn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Zi.ConditionalExpression:tn(t.test,e),tn(t.alternate,e),tn(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Zi.Identifier:t.constant=!1,t.toWatch=[t];break;case Zi.MemberExpression:tn(t.object,e),t.computed&&tn(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Zi.CallExpression:n=t.filter?Qe(e,t.callee.name):!1,r=[],o(t.arguments,function(t){tn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&Qe(e,t.callee.name)?r:[t];break;case Zi.AssignmentExpression:tn(t.left,e),tn(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Zi.ArrayExpression:n=!0,r=[],o(t.elements,function(t){tn(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case Zi.ObjectExpression:n=!0,r=[],o(t.properties,function(t){tn(t.value,e),n=n&&t.value.constant,t.value.constant||r.push.apply(r,t.value.toWatch)}),t.constant=n,t.toWatch=r;break;case Zi.ThisExpression:t.constant=!1,t.toWatch=[]}}function en(t){if(1==t.length){var e=t[0].expression,r=e.toWatch;return 1!==r.length?r:r[0]!==e?r:n}}function nn(t){return t.type===Zi.Identifier||t.type===Zi.MemberExpression}function rn(t){return 1===t.body.length&&nn(t.body[0].expression)?{type:Zi.AssignmentExpression,left:t.body[0].expression,right:{type:Zi.NGValueParameter},operator:"="}:void 0}function on(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Zi.Literal||t.body[0].expression.type===Zi.ArrayExpression||t.body[0].expression.type===Zi.ObjectExpression)}function an(t){return t.constant}function sn(t,e){this.astBuilder=t,this.$filter=e}function ln(t,e){this.astBuilder=t,this.$filter=e}function un(t,e,n,r){Xe(t,r);for(var i,o=e.split("."),a=0;o.length>1;a++){i=Ge(o.shift(),r);var s=Xe(t[i],r);s||(s={},t[i]=s),t=s}return i=Ge(o.shift(),r),Xe(t[i],r),t[i]=n,n}function cn(t){return"constructor"==t}function hn(t){return k(t.valueOf)?t.valueOf():Qi.call(t)}function dn(){var t=mt(),e=mt();this.$get=["$filter","$sniffer",function(r,i){function a(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=hn(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function s(t,e,r,i,o){var s,l=i.inputs;if(1===l.length){var u=a;return l=l[0],t.$watch(function(t){var e=l(t);return a(e,u)||(s=i(t,n,n,[e]),u=e&&hn(e)),s},e,r,o)}for(var c=[],h=[],d=0,f=l.length;f>d;d++)c[d]=a,h[d]=null;return t.$watch(function(t){for(var e=!1,r=0,o=l.length;o>r;r++){var u=l[r](t);(e||(e=!a(u,c[r])))&&(h[r]=u,c[r]=u&&hn(u))}return e&&(s=i(t,n,n,h)),s},e,r,o)}function l(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t,k(e)&&e.apply(this,arguments),b(t)&&r.$$postDigest(function(){b(o)&&i()})},n)}function u(t,e,n,r){function i(t){var e=!0;return o(t,function(t){b(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,r){s=t,k(e)&&e.call(this,t,n,r),i(t)&&r.$$postDigest(function(){i(s)&&a()})},n)}function c(t,e,n,r){var i;return i=t.$watch(function(t){return r(t)},function(t,n,r){k(e)&&e.apply(this,arguments),i()},n)}function h(t,e){if(!e)return t;var n=t.$$watchDelegate,r=n!==u&&n!==l,i=r?function(n,r,i,o){var a=t(n,r,i,o);return e(a,n,r)}:function(n,r,i,o){var a=t(n,r,i,o),s=e(a,n,r);return b(a)?s:a};return t.$$watchDelegate&&t.$$watchDelegate!==s?i.$$watchDelegate=t.$$watchDelegate:e.$stateful||(i.$$watchDelegate=s,i.inputs=t.inputs?t.inputs:[t]),i}var d={csp:i.csp,expensiveChecks:!1},f={csp:i.csp,expensiveChecks:!0};return function(n,i,o){var a,p,m;switch(typeof n){case"string":n=n.trim(),m=n;var v=o?e:t;if(a=v[m],!a){":"===n.charAt(0)&&":"===n.charAt(1)&&(p=!0,n=n.substring(2));var y=o?f:d,w=new Ki(y),b=new Ji(w,r,y);a=b.parse(n),a.constant?a.$$watchDelegate=c:p?a.$$watchDelegate=a.literal?u:l:a.inputs&&(a.$$watchDelegate=s),v[m]=a}return h(a,i);case"function":return h(n,i);default:return g}}}]}function fn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return gn(function(e){t.$evalAsync(e)},e)}]}function pn(){this.$get=["$browser","$exceptionHandler",function(t,e){return gn(function(e){t.defer(e)},e)}]}function gn(t,e){function i(t,e,n){function r(e){return function(n){i||(i=!0,e.call(t,n))}}var i=!1;return[r(e),r(n)]}function a(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function l(t){var r,i,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][t.status];try{k(r)?i.resolve(r(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(l){i.reject(l),e(l)}}}function u(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){l(e)}))}function c(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function h(t){var e=new c,n=0,r=Br(t)?[]:{};return o(t,function(t,i){n++,v(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}var d=r("$q",TypeError),f=function(){return new c};a.prototype={then:function(t,e,n){var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&u(this.$$state),r.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return m(e,!0,t)},function(e){return m(e,!1,t)},e)}},c.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(d("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(x(t)||k(t))&&(n=t&&t.then),k(n)?(this.promise.$$state.status=-1,n.call(t,r[0],r[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,u(this.promise.$$state))}catch(o){r[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){
this.promise.$$state.value=t,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&t(function(){for(var t,i,o=0,a=r.length;a>o;o++){i=r[o][0],t=r[o][3];try{i.notify(k(t)?t(n):n)}catch(s){e(s)}}})}};var p=function(t){var e=new c;return e.reject(t),e.promise},g=function(t,e){var n=new c;return e?n.resolve(t):n.reject(t),n.promise},m=function(t,e,n){var r=null;try{k(n)&&(r=n())}catch(i){return g(i,!1)}return P(r)?r.then(function(){return g(t,e)},function(t){return g(t,!1)}):g(t,e)},v=function(t,e,n,r){var i=new c;return i.resolve(t),i.promise.then(e,n,r)},y=v,w=function b(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}if(!k(t))throw d("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof b))return new b(t);var r=new c;return t(e,n),r.promise};return w.defer=f,w.reject=p,w.when=v,w.resolve=y,w.all=h,w}function mn(){this.$get=["$window","$timeout",function(t,e){function n(){for(var t=0;t<c.length;t++){var e=c[t];e&&(c[t]=null,e())}u=c.length=0}function r(t){var e=c.length;return u++,c.push(t),0===e&&(l=s(n)),function(){e>=0&&(c[e]=null,e=null,0===--u&&l&&(l(),l=null,c.length=0))}}var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,o=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,a=!!i,s=a?function(t){var e=i(t);return function(){o(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};r.supported=a;var l,u=0,c=[];return r}]}function vn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,u,c,h){function d(t){t.currentScope.$$destroyed=!0}function f(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(t){if(E.$$phase)throw n("inprog","{0} already in progress",E.$$phase);E.$$phase=t}function m(){E.$$phase=null}function v(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function y(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function b(){}function C(){for(;$.length;)try{$.shift()()}catch(t){u(t)}s=null}function _(){null===s&&(s=h.defer(function(){E.$apply(C)}))}f.prototype={constructor:f,$new:function(e,n){var r;return n=n||this,e?(r=new f,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!=this)&&r.$on("$destroy",d),r},$watch:function(t,e,n,r){var i=c(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var o=this,s=o.$$watchers,l={fn:e,last:b,get:i,exp:r||t,eq:!!n};return a=null,k(e)||(l.fn=g),s||(s=o.$$watchers=[]),s.unshift(l),v(this,1),function(){B(s,l)>=0&&v(o,-1),a=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,l=!1,u=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(i,i,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t,r[e]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s,l;if(!w(o)){if(x(o))if(i(o)){a!==f&&(a=f,m=a.length=0,h++),e=o.length,m!==e&&(h++,a.length=m=e);for(var u=0;e>u;u++)l=a[u],s=o[u],r=l!==l&&s!==s,r||l===s||(h++,a[u]=s)}else{a!==p&&(a=p={},m=0,h++),e=0;for(n in o)o.hasOwnProperty(n)&&(e++,s=o[n],l=a[n],n in a?(r=l!==l&&s!==s,r||l===s||(h++,a[n]=s)):(m++,a[n]=s,h++));if(m>e){h++;for(n in a)o.hasOwnProperty(n)||(m--,delete a[n])}}else a!==o&&(a=o,h++);return h}}function r(){if(g?(g=!1,e(o,o,l)):e(o,s,l),u)if(x(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)Cr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,l=this,u=e.length>1,h=0,d=c(t,n),f=[],p={},g=!0,m=0;return this.$watch(d,r)},$digest:function(){var t,r,i,o,l,c,d,f,g,v,y=e,w=this,x=[];p("$digest"),h.$$checkUrlChange(),this===E&&null!==s&&(h.defer.cancel(s),C()),a=null;do{for(c=!1,f=w;T.length;){try{v=T.shift(),v.scope.$eval(v.expression,v.locals)}catch(_){u(_)}a=null}t:do{if(o=f.$$watchers)for(l=o.length;l--;)try{if(t=o[l])if((r=t.get(f))===(i=t.last)||(t.eq?V(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(t===a){c=!1;break t}}else c=!0,a=t,t.last=t.eq?j(r,null):r,t.fn(r,i===b?r:i,f),5>y&&(g=4-y,x[g]||(x[g]=[]),x[g].push({msg:k(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:r,oldVal:i}))}catch(_){u(_)}if(!(d=f.$$watchersCount&&f.$$childHead||f!==w&&f.$$nextSibling))for(;f!==w&&!(d=f.$$nextSibling);)f=f.$parent}while(f=d);if((c||T.length)&&!y--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,x)}while(c||T.length);for(m();S.length;)try{S.shift()()}catch(_){u(_)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===E&&h.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var e in this.$$listenerCount)y(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){E.$$phase||T.length||h.defer(function(){T.length&&E.$digest()}),T.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){S.push(t)},$apply:function(t){try{return p("$apply"),this.$eval(t)}catch(e){u(e)}finally{m();try{E.$digest()}catch(e){throw u(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&$.push(e),_()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,y(i,1,t))}},$emit:function(t,e){var n,r,i,o=[],a=this,s=!1,l={name:t,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=q([l],arguments,1);do{for(n=a.$$listeners[t]||o,l.currentScope=a,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,c)}catch(h){u(h)}else n.splice(r,1),r--,i--;if(s)return l.currentScope=null,l;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(t,e){var n=this,r=n,i=n,o={name:t,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return o;for(var a,s,l,c=q([o],arguments,1);r=i;){for(o.currentScope=r,a=r.$$listeners[t]||[],s=0,l=a.length;l>s;s++)if(a[s])try{a[s].apply(null,c)}catch(h){u(h)}else a.splice(s,1),s--,l--;if(!(i=r.$$listenerCount[t]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var E=new f,T=E.$$asyncQueue=[],S=E.$$postDigestQueue=[],$=E.$$applyAsyncQueue=[];return E}]}function yn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return b(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return b(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=Sn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function wn(t){if("self"===t)return t;if(_(t)){if(t.indexOf("***")>-1)throw to("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=Vr(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(S(t))return new RegExp("^"+t.source+"$");throw to("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function bn(t){var e=[];return b(t)&&o(t,function(t){e.push(wn(t))}),e}function xn(){this.SCE_CONTEXTS=eo;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=bn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=bn(t)),e},this.$get=["$injector",function(r){function i(t,e){return"self"===t?$n(e):!!t.exec(e.href)}function o(n){var r,o,a=Sn(n.toString()),s=!1;for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!1;break}return s}function a(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var r=d.hasOwnProperty(t)?d[t]:null;if(!r)throw to("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw to("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new r(e)}function l(t){return t instanceof h?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||e===n||""===e)return e;var r=d.hasOwnProperty(t)?d[t]:null;if(r&&e instanceof r)return e.$$unwrapTrustedValue();if(t===eo.RESOURCE_URL){if(o(e))return e;throw to("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===eo.HTML)return c(e);throw to("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(t){throw to("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(c=r.get("$sanitize"));var h=a(),d={};return d[eo.HTML]=a(h),d[eo.CSS]=a(h),d[eo.URL]=a(h),d[eo.JS]=a(h),d[eo.RESOURCE_URL]=a(d[eo.URL]),{trustAs:s,getTrusted:u,valueOf:l}}]}function Cn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>kr)throw to("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=F(eo);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=m),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(eo,function(t,e){var n=xr(e);r[Ct("parse_as_"+n)]=function(e){return i(t,e)},r[Ct("get_trusted_"+n)]=function(e){return a(t,e)},r[Ct("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function _n(){this.$get=["$window","$document",function(t,e){var n,r,i={},o=f((/android (\d+)/.exec(xr((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,u=s.body&&s.body.style,c=!1,h=!1;if(u){for(var d in u)if(r=l.exec(d)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),c=!!("transition"in u||n+"Transition"in u),h=!!("animation"in u||n+"Animation"in u),!o||c&&h||(c=_(u.webkitTransition),h=_(u.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||a),hasEvent:function(t){if("input"===t&&11>=kr)return!1;if(w(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:qr(),vendorPrefix:n,transitions:c,animations:h,android:o}}]}function En(){this.$get=["$templateCache","$http","$q","$sce",function(t,e,n,r){function i(o,a){function s(t){if(!a)throw Ai("tpload","Failed to load template: {0} (HTTP status: {1} {2})",o,t.status,t.statusText);return n.reject(t)}i.totalPendingRequests++,_(o)&&t.get(o)||(o=r.getTrustedResourceUrl(o));var l=e.defaults&&e.defaults.transformResponse;Br(l)?l=l.filter(function(t){return t!==be}):l===be&&(l=null);var u={cache:t,transformResponse:l};return e.get(o,u)["finally"](function(){i.totalPendingRequests--}).then(function(e){return t.put(o,e.data),e.data},s)}return i.totalPendingRequests=0,i}]}function Tn(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=Lr.element(t).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+Vr(e)+"(\\s|\\||$)");o.test(r)&&i.push(t)}else-1!=r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function kn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,l){k(o)||(l=s,s=o,o=g);var u,c=z(arguments,3),h=b(l)&&!l,d=(h?r:n).defer(),f=d.promise;return u=e.defer(function(){try{d.resolve(o.apply(null,c))}catch(e){d.reject(e),i(e)}finally{delete a[f.$$timeoutId]}h||t.$apply()},s),f.$$timeoutId=u,a[u]=d,f}var a={};return o.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function Sn(t){var e=t;return kr&&(no.setAttribute("href",e),e=no.href),no.setAttribute("href",e),{href:no.href,protocol:no.protocol?no.protocol.replace(/:$/,""):"",host:no.host,search:no.search?no.search.replace(/^\?/,""):"",hash:no.hash?no.hash.replace(/^#/,""):"",hostname:no.hostname,port:no.port,pathname:"/"===no.pathname.charAt(0)?no.pathname:"/"+no.pathname}}function $n(t){var e=_(t)?Sn(t):t;return e.protocol===ro.protocol&&e.host===ro.host}function Mn(){this.$get=v(t)}function An(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var r=t[0]||{},i={},o="";return function(){var t,a,s,l,u,c=r.cookie||"";if(c!==o)for(o=c,t=o.split("; "),i={},s=0;s<t.length;s++)a=t[s],l=a.indexOf("="),l>0&&(u=e(a.substring(0,l)),i[u]===n&&(i[u]=e(a.substring(l+1))));return i}}function Rn(){this.$get=An}function Dn(t){function e(r,i){if(x(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Nn),e("date",Kn),e("filter",On),e("json",Zn),e("limitTo",Jn),e("lowercase",lo),e("number",In),e("orderBy",Qn),e("uppercase",uo)}function On(){return function(t,e,n){if(!i(t)){if(null==t)return t;throw r("filter")("notarray","Expected array but received: {0}",t)}var o,a,s=Ln(e);switch(s){case"function":o=e;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=Pn(e,n,a);break;default:return t}return Array.prototype.filter.call(t,o)}}function Pn(t,e,n){var r,i=x(t)&&"$"in t;return e===!0?e=V:k(e)||(e=function(t,e){return w(t)?!1:null===t||null===e?t===e:x(e)||x(t)&&!y(t)?!1:(t=xr(""+t),e=xr(""+e),-1!==t.indexOf(e))}),r=function(r){return i&&!x(r)?Hn(r,t.$,e,!1):Hn(r,t,e,n)}}function Hn(t,e,n,r,i){var o=Ln(t),a=Ln(e);if("string"===a&&"!"===e.charAt(0))return!Hn(t,e.substring(1),n,r);if(Br(t))return t.some(function(t){return Hn(t,e,n,r)});switch(o){case"object":var s;if(r){for(s in t)if("$"!==s.charAt(0)&&Hn(t[s],e,n,!0))return!0;return i?!1:Hn(t,e,n,!1)}if("object"===a){for(s in e){var l=e[s];if(!k(l)&&!w(l)){var u="$"===s,c=u?t:t[s];if(!Hn(c,l,n,u,u))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function Ln(t){return null===t?"null":typeof t}function Nn(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return w(n)&&(n=e.CURRENCY_SYM),w(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:Bn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function In(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Bn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Bn(t,e,n,r,i){if(x(t))return"";var o=0>t;t=Math.abs(t);var a=t===1/0;if(!a&&!isFinite(t))return"";var s=t+"",l="",u=!1,c=[];if(a&&(l="∞"),!a&&-1!==s.indexOf("e")){var h=s.match(/([\d\.]+)e(-?)(\d+)/);h&&"-"==h[2]&&h[3]>i+1?t=0:(l=s,u=!0)}if(a||u)i>0&&1>t&&(l=t.toFixed(i),t=parseFloat(l));else{var d=(s.split(io)[1]||"").length;w(i)&&(i=Math.min(Math.max(e.minFrac,d),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i);var f=(""+t).split(io),p=f[0];f=f[1]||"";var g,m=0,v=e.lgSize,y=e.gSize;if(p.length>=v+y)for(m=p.length-v,g=0;m>g;g++)(m-g)%y===0&&0!==g&&(l+=n),l+=p.charAt(g);for(g=m;g<p.length;g++)(p.length-g)%v===0&&0!==g&&(l+=n),l+=p.charAt(g);for(;f.length<i;)f+="0";i&&"0"!==i&&(l+=r+f.substr(0,i))}return 0===t&&(o=!1),c.push(o?e.negPre:e.posPre,l,o?e.negSuf:e.posSuf),c.join("")}function jn(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function Fn(t,e,n,r){return n=n||0,function(i){var o=i["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),jn(o,e,r)}}function Vn(t,e){return function(n,r){var i=n["get"+t](),o=_r(e?"SHORT"+t:t);return r[o][i]}}function qn(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=jn(Math[r>0?"floor":"ceil"](r/60),2)+jn(Math.abs(r%60),2)}function zn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function Wn(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Un(t){return function(e){var n=zn(e.getFullYear()),r=Wn(e),i=+r-+n,o=1+Math.round(i/6048e5);return jn(o,t)}}function Yn(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Gn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Xn(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function Kn(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=f(e[9]+e[10]),o=f(e[9]+e[11])),a.call(r,f(e[1]),f(e[2])-1,f(e[3]));var l=f(e[4]||0)-i,u=f(e[5]||0)-o,c=f(e[6]||0),h=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,l,u,c,h),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,l="",u=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,_(n)&&(n=so.test(n)?f(n):e(n)),E(n)&&(n=new Date(n)),!T(n)||!isFinite(n.getTime()))return n;for(;r;)s=ao.exec(r),s?(u=q(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=X(i,n.getTimezoneOffset()),n=Z(n,i,!0)),o(u,function(e){a=oo[e],l+=a?a(n,t.DATETIME_FORMATS,c):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Zn(){return function(t,e){return w(e)&&(e=2),Y(t,e)}}function Jn(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):f(e),isNaN(e)?t:(E(t)&&(t=t.toString()),Br(t)||_(t)?(n=!n||isNaN(n)?0:f(n),n=0>n&&n>=-t.length?t.length+n:n,e>=0?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function Qn(t){function e(e,n){return n=n?-1:1,e.map(function(e){var r=1,i=m;if(k(e))i=e;else if(_(e)&&(("+"==e.charAt(0)||"-"==e.charAt(0))&&(r="-"==e.charAt(0)?-1:1,e=e.substring(1)),""!==e&&(i=t(e),i.constant))){var o=i();i=function(t){return t[o]}}return{get:i,descending:r*n}})}function n(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function r(t,e){return"function"==typeof t.valueOf&&(t=t.valueOf(),n(t))?t:y(t)&&(t=t.toString(),n(t))?t:e}function o(t,e){var n=typeof t;return null===t?(n="string",t="null"):"string"===n?t=t.toLowerCase():"object"===n&&(t=r(t,e)),{value:t,type:n}}function a(t,e){var n=0;return t.type===e.type?t.value!==e.value&&(n=t.value<e.value?-1:1):n=t.type<e.type?-1:1,n}return function(t,n,r){function s(t,e){return{value:t,predicateValues:u.map(function(n){return o(n.get(t),e)})}}function l(t,e){for(var n=0,r=0,i=u.length;i>r&&!(n=a(t.predicateValues[r],e.predicateValues[r])*u[r].descending);++r);return n}if(!i(t))return t;Br(n)||(n=[n]),0===n.length&&(n=["+"]);var u=e(n,r),c=Array.prototype.map.call(t,s);return c.sort(l),t=c.map(function(t){return t.value})}}function tr(t){return k(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function er(t,e){t.$name=e}function nr(t,e,r,i,a){var s=this,l=[],u=s.$$parentForm=t.parent().controller("form")||fo;s.$error={},s.$$success={},s.$pending=n,s.$name=a(e.name||e.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,u.$addControl(s),s.$rollbackViewValue=function(){o(l,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){o(l,function(t){t.$commitViewValue()})},s.$addControl=function(t){ft(t.$name,"input"),l.push(t),t.$name&&(s[t.$name]=t)},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],o(s.$pending,function(e,n){s.$setValidity(n,null,t)}),o(s.$error,function(e,n){s.$setValidity(n,null,t)}),o(s.$$success,function(e,n){s.$setValidity(n,null,t)}),B(l,t)},vr({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(B(r,n),0===r.length&&delete t[e])},parentForm:u,$animate:i}),s.$setDirty=function(){i.removeClass(t,Xo),i.addClass(t,Ko),s.$dirty=!0,s.$pristine=!1,u.$setDirty()},s.$setPristine=function(){i.setClass(t,Xo,Ko+" "+po),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(l,function(t){t.$setPristine()})},s.$setUntouched=function(){o(l,function(t){t.$setUntouched()})},s.$setSubmitted=function(){i.addClass(t,po),s.$submitted=!0,u.$setSubmitted()}}function rr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function ir(t,e,n,r,i,o){or(t,e,n,r,i,o),rr(r)}function or(t,e,n,r,i,o){var a=xr(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(t){s=!0}),e.on("compositionend",function(){s=!1,l()})}var l=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var i=e.val(),l=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Fr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,l)}};if(i.hasEvent("input"))e.on("input",l);else{var u,c=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||l(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||c(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",l),r.$render=function(){e.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function ar(t,e){if(T(t))return t;if(_(t)){Eo.lastIndex=0;var n=Eo.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,u=zn(r),c=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),l=e.getMilliseconds()),new Date(r,0,u.getDate()+c,o,a,s,l)}}return 0/0}function sr(t,e){return function(n,r){var i,a;if(T(n))return n;if(_(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),yo.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function lr(t,e,r,i){return function(o,a,s,l,u,c,h){function d(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function f(t){return b(t)?T(t)?t:r(t):n}ur(o,a,s,l),or(o,a,s,l,u,c);var p,g=l&&l.$options&&l.$options.timezone;if(l.$$parserName=t,l.$parsers.push(function(t){if(l.$isEmpty(t))return null;if(e.test(t)){var i=r(t,p);return g&&(i=Z(i,g)),i}return n}),l.$formatters.push(function(t){if(t&&!T(t))throw ta("datefmt","Expected `{0}` to be a date",t);return d(t)?(p=t,p&&g&&(p=Z(p,g,!0)),h("date")(t,i,g)):(p=null,"")}),b(s.min)||s.ngMin){var m;l.$validators.min=function(t){return!d(t)||w(m)||r(t)>=m},s.$observe("min",function(t){m=f(t),l.$validate()})}if(b(s.max)||s.ngMax){var v;l.$validators.max=function(t){return!d(t)||w(v)||r(t)<=v},s.$observe("max",function(t){v=f(t),l.$validate()})}}}function ur(t,e,r,i){var o=e[0],a=i.$$hasNativeValidators=x(o.validity);a&&i.$parsers.push(function(t){var r=e.prop(br)||{};return r.badInput&&!r.typeMismatch?n:t})}function cr(t,e,r,i,o,a){if(ur(t,e,r,i),or(t,e,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:xo.test(t)?parseFloat(t):n}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!E(t))throw ta("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),b(r.min)||r.ngMin){var s;i.$validators.min=function(t){return i.$isEmpty(t)||w(s)||t>=s},r.$observe("min",function(t){b(t)&&!E(t)&&(t=parseFloat(t,10)),s=E(t)&&!isNaN(t)?t:n,i.$validate()})}if(b(r.max)||r.ngMax){var l;i.$validators.max=function(t){return i.$isEmpty(t)||w(l)||l>=t},r.$observe("max",function(t){b(t)&&!E(t)&&(t=parseFloat(t,10)),l=E(t)&&!isNaN(t)?t:n,i.$validate()})}}function hr(t,e,n,r,i,o){or(t,e,n,r,i,o),rr(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||wo.test(n)}}function dr(t,e,n,r,i,o){or(t,e,n,r,i,o),rr(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||bo.test(n)}}function fr(t,e,n,r){w(n.name)&&e.attr("name",l());var i=function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)};e.on("click",i),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)}function pr(t,e,n,i,o){var a;if(b(i)){if(a=t(i),!a.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(e)}return o}function gr(t,e,n,r,i,o,a,s){var l=pr(s,t,"ngTrueValue",n.ngTrueValue,!0),u=pr(s,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t===!1},r.$formatters.push(function(t){return V(t,l)}),r.$parsers.push(function(t){return t?l:u})}function mr(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function i(t){var e=[];return Br(t)?(o(t,function(t){e=e.concat(i(t))}),e):_(t)?t.split(" "):x(t)?(o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(a,s,l){function u(t){var e=h(t,1);l.$addClass(e)}function c(t){var e=h(t,-1);l.$removeClass(e)}function h(t,e){var n=s.data("$classCounts")||mt(),r=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),s.data("$classCounts",n),r.join(" ")}function d(t,e){var i=r(e,t),o=r(t,e);i=h(i,1),o=h(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function f(t){if(e===!0||a.$index%2===e){var n=i(t||[]);if(p){if(!V(t,p)){var r=i(p);d(r,n)}}else u(n)}p=F(t)}var p;a.$watch(l[t],f,!0),l.$observe("class",function(e){f(a.$eval(l[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(l[t]));o===e?u(s):c(s)}})}}}]}function vr(t){function e(t,e,l){e===n?r("$pending",t,l):i("$pending",t,l),O(e)?e?(h(s.$error,t,l),c(s.$$success,t,l)):(c(s.$error,t,l),h(s.$$success,t,l)):(h(s.$error,t,l),h(s.$$success,t,l)),s.$pending?(o(Qo,!0),s.$valid=s.$invalid=n,a("",null)):(o(Qo,!1),s.$valid=yr(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var u;u=s.$pending&&s.$pending[t]?n:s.$error[t]?!1:s.$$success[t]?!0:null,a(t,u),d.$setValidity(t,u,s)}function r(t,e,n){s[t]||(s[t]={}),c(s[t],e,n)}function i(t,e,r){s[t]&&h(s[t],e,r),yr(s[t])&&(s[t]=n)}function o(t,e){e&&!u[t]?(f.addClass(l,t),u[t]=!0):!e&&u[t]&&(f.removeClass(l,t),u[t]=!1)}function a(t,e){t=t?"-"+ut(t,"-"):"",o(Yo+t,e===!0),o(Go+t,e===!1)}var s=t.ctrl,l=t.$element,u={},c=t.set,h=t.unset,d=t.parentForm,f=t.$animate;u[Go]=!(u[Yo]=l.hasClass(Yo)),s.$setValidity=e}function yr(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var wr=/^\/(.+)\/([a-z]*)$/,br="validity",xr=function(t){return _(t)?t.toLowerCase():t},Cr=Object.prototype.hasOwnProperty,_r=function(t){return _(t)?t.toUpperCase():t},Er=function(t){return _(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},Tr=function(t){return _(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(xr=Er,_r=Tr);var kr,Sr,$r,Mr,Ar=[].slice,Rr=[].splice,Dr=[].push,Or=Object.prototype.toString,Pr=Object.getPrototypeOf,Hr=r("ng"),Lr=t.angular||(t.angular={}),Nr=0;kr=e.documentMode,g.$inject=[],m.$inject=[];var Ir,Br=Array.isArray,jr=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,Fr=function(t){return _(t)?t.trim():t},Vr=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},qr=function(){if(b(qr.isActive_))return qr.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return qr.isActive_=t},zr=function(){if(b(zr.name_))return zr.name_;var t,n,r,i,o=Wr.length;for(n=0;o>n;++n)if(r=Wr[n],t=e.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return zr.name_=i},Wr=["ng-","data-ng-","ng:","x-ng-"],Ur=/[A-Z]/g,Yr=!1,Gr=1,Xr=2,Kr=3,Zr=8,Jr=9,Qr=11,ti={full:"1.4.2",major:1,minor:4,dot:2,codeName:"nebular-readjustment"};$t.expando="ng339";var ei=$t.cache={},ni=1,ri=function(t,e,n){t.addEventListener(e,n,!1)},ii=function(t,e,n){t.removeEventListener(e,n,!1)};$t._data=function(t){return this.cache[t[this.expando]]||{}};var oi=/([\:\-\_]+(.))/g,ai=/^moz([A-Z])/,si={mouseleave:"mouseout",mouseenter:"mouseover"},li=r("jqLite"),ui=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ci=/<|&#?\w+;/,hi=/<([\w:]+)/,di=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,fi={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};fi.optgroup=fi.option,fi.tbody=fi.tfoot=fi.colgroup=fi.caption=fi.thead,fi.th=fi.td;var pi=$t.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),$t(t).on("load",r))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return Sr(t>=0?this[t]:this[this.length+t])},length:0,push:Dr,sort:[].sort,splice:[].splice},gi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){gi[xr(t)]=t});var mi={};o("input,select,option,textarea,button,form,details".split(","),function(t){mi[t]=!0});var vi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Pt,removeData:Dt,hasData:Tt},function(t,e){$t[e]=t}),o({data:Pt,inheritedData:jt,scope:function(t){return Sr.data(t,"$scope")||jt(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return Sr.data(t,"$isolateScope")||Sr.data(t,"$isolateScopeNoTemplate")},controller:Bt,injector:function(t){return jt(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ht,css:function(t,e,n){return e=Ct(e),b(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,r){var i=t.nodeType;

if(i!==Kr&&i!==Xr&&i!==Zr){var o=xr(e);if(gi[o]){if(!b(r))return t[e]||(t.attributes.getNamedItem(e)||g).specified?o:n;r?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if(b(r))t.setAttribute(e,r);else if(t.getAttribute){var a=t.getAttribute(e,2);return null===a?n:a}}},prop:function(t,e,n){return b(n)?void(t[e]=n):t[e]},text:function(){function t(t,e){if(w(e)){var n=t.nodeType;return n===Gr||n===Kr?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(w(e)){if(t.multiple&&"select"===I(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return w(e)?t.innerHTML:(At(t,!0),void(t.innerHTML=e))},empty:Ft},function(t,e){$t.prototype[e]=function(e,r){var i,o,a=this.length;if(t!==Ft&&(2==t.length&&t!==Ht&&t!==Bt?e:r)===n){if(x(e)){for(i=0;a>i;i++)if(t===Pt)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}for(var s=t.$dv,l=s===n?Math.min(a,1):a,u=0;l>u;u++){var c=t(this[u],e,r);s=s?s+c:c}return s}for(i=0;a>i;i++)t(this[i],e,r);return this}}),o({removeData:Dt,on:function Aa(t,e,n,r){if(b(r))throw li("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Et(t)){var i=Ot(t,!0),o=i.events,a=i.handle;a||(a=i.handle=Ut(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],l=s.length;l--;){e=s[l];var u=o[e];u||(o[e]=[],"mouseenter"===e||"mouseleave"===e?Aa(t,si[e],function(t){var n=this,r=t.relatedTarget;(!r||r!==n&&!n.contains(r))&&a(t,e)}):"$destroy"!==e&&ri(t,e,a),u=o[e]),u.push(n)}}},off:Rt,one:function(t,e,n){t=Sr(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;At(t),o(new $t(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===Gr&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Gr||n===Qr){e=new $t(e);for(var r=0,i=e.length;i>r;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===Gr){var n=t.firstChild;o(new $t(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=Sr(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Vt,detach:function(t){Vt(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new $t(e);for(var i=0,o=e.length;o>i;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:Nt,removeClass:Lt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;w(r)&&(r=!Ht(t,e)),(r?Nt:Lt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Qr?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:Mt,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,l=Ot(t),u=l&&l.events,c=u&&u[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:g,type:s,target:t},e.type&&(r=h(r,e)),i=F(c),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){$t.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;a>o;o++)w(i)?(i=t(this[o],e,n,r),b(i)&&(i=Sr(i))):It(i,t(this[o],e,n,r));return b(i)?i:this},$t.prototype.bind=$t.prototype.on,$t.prototype.unbind=$t.prototype.off}),Xt.prototype={put:function(t,e){this[Gt(t,this.nextUid)]=e},get:function(t){return this[Gt(t,this.nextUid)]},remove:function(t){var e=this[t=Gt(t,this.nextUid)];return delete this[t],e}};var yi=[function(){this.$get=[function(){return Xt}]}],wi=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,bi=/,/,xi=/^\s*(_?)(\S+?)\1\s*$/,Ci=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,_i=r("$injector");Jt.$$annotate=Zt;var Ei=r("$animate"),Ti=1,ki="ng-animate",Si=function(){this.$get=["$q","$$rAF",function(t,e){function n(){}return n.all=g,n.chain=g,n.prototype={end:g,cancel:g,resume:g,pause:g,complete:g,then:function(n,r){return t(function(t){e(function(){t()})}).then(n,r)}},n}]},$i=function(){var t=new Xt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(n,i,a){var s=t.get(n);s||(t.put(n,s={}),e.push(n)),i&&o(i.split(" "),function(t){t&&(s[t]=!0)}),a&&o(a.split(" "),function(t){t&&(s[t]=!1)}),e.length>1||r.$$postDigest(function(){o(e,function(e){var n=t.get(e);if(n){var r=ne(e.attr("class")),i="",a="";o(n,function(t,e){var n=!!r[e];t!==n&&(t?i+=(i.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){i&&Nt(t,i),a&&Lt(t,a)}),t.remove(e)}}),e.length=0})}return{enabled:g,on:g,off:g,pin:g,push:function(t,e,r,o){return o&&o(),r=r||{},r.from&&t.css(r.from),r.to&&t.css(r.to),(r.addClass||r.removeClass)&&i(t,r.addClass,r.removeClass),new n}}}]},Mi=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Ei("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+ki+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw Ei("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',ki)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=ee(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&Sr(r),i=i&&Sr(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",re(o))},move:function(n,r,i,o){return r=r&&Sr(r),i=i&&Sr(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",re(o))},leave:function(e,n){return t.push(e,"leave",re(n),function(){e.remove()})},addClass:function(e,n,r){return r=re(r),r.addClass=te(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=re(r),r.removeClass=te(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=re(i),i.addClass=te(i.addClass,n),i.removeClass=te(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=re(o),o.from=o.from?h(o.from,n):n,o.to=o.to?h(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=te(o.tempClasses,i),t.push(e,"animate",o)}}}]}],Ai=r("$compile");ue.$inject=["$provide","$$sanitizeUriProvider"];var Ri=/^((?:x|data)[\:\-_])/i,Di=r("$controller"),Oi=/^(\S+)(\s+as\s+(\w+))?$/,Pi="application/json",Hi={"Content-Type":Pi+";charset=utf-8"},Li=/^\[|^\{(?!\{)/,Ni={"[":/]$/,"{":/}$/},Ii=/^\)\]\}',?\n/,Bi=Lr.$interpolateMinErr=r("$interpolate");Bi.throwNoconcat=function(t){throw Bi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Bi.interr=function(t,e){return Bi("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var ji=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Fi={http:80,https:443,ftp:21},Vi=r("$location"),qi={$$html5:!1,$$replace:!1,absUrl:ze("$$absUrl"),url:function(t){if(w(t))return this.$$url;var e=ji.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:ze("$$protocol"),host:ze("$$host"),port:ze("$$port"),path:We("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(_(t)||E(t))t=t.toString(),this.$$search=tt(t);else{if(!x(t))throw Vi("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=j(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:w(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:We("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([qe,Ve,Fe],function(t){t.prototype=Object.create(qi),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Fe||!this.$$html5)throw Vi("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=w(e)?null:e,this}});var zi=r("$parse"),Wi=Function.prototype.call,Ui=Function.prototype.apply,Yi=Function.prototype.bind,Gi=mt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Gi[t]=!0});var Xi={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Ki=function(t){this.options=t};Ki.prototype={constructor:Ki,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=Gi[e],o=Gi[n],a=Gi[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=b(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw zi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=xr(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Xi[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Zi=function(t,e){this.lexer=t,this.options=e};Zi.Program="Program",Zi.ExpressionStatement="ExpressionStatement",Zi.AssignmentExpression="AssignmentExpression",Zi.ConditionalExpression="ConditionalExpression",Zi.LogicalExpression="LogicalExpression",Zi.BinaryExpression="BinaryExpression",Zi.UnaryExpression="UnaryExpression",Zi.CallExpression="CallExpression",Zi.MemberExpression="MemberExpression",Zi.Identifier="Identifier",Zi.Literal="Literal",Zi.ArrayExpression="ArrayExpression",Zi.Property="Property",Zi.ObjectExpression="ObjectExpression",Zi.ThisExpression="ThisExpression",Zi.NGValueParameter="NGValueParameter",Zi.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Zi.Program,body:t}},expressionStatement:function(){return{type:Zi.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:Zi.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Zi.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Zi.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Zi.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Zi.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Zi.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Zi.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Zi.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Zi.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=j(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Zi.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Zi.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Zi.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Zi.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.expression());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Zi.Identifier,name:t.text}},constant:function(){return{type:Zi.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Zi.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Zi.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Zi.ObjectExpression,properties:e}},throwError:function(t,e){throw zi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw zi("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw zi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return i?(this.tokens.shift(),i):!1},constants:{"true":{type:Zi.Literal,value:!0},"false":{type:Zi.Literal,value:!1},"null":{type:Zi.Literal,value:null},undefined:{type:Zi.Literal,value:n},"this":{type:Zi.ThisExpression}}},sn.prototype={compile:function(t,e){var r=this,i=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},tn(i,r.$filter);var a,s="";if(this.stage="assign",a=rn(i)){this.state.computing="assign";var l=this.nextId();this.recurse(a,l),s="fn.assign="+this.generateFunction("assign","s,v,l")}var u=en(i.body);r.stage="inputs",o(u,function(t,e){var n="fn"+e;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(t,i),r.return_(i),r.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(i);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",h=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",c)(this.$filter,Ge,Xe,Ke,Ze,Je,t);return this.state=this.stage=n,h.literal=on(i),h.constant=an(i),h},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,i,a,s){var l,u,c,h,d=this;if(i=i||g,!s&&b(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,r,i,a,!0));switch(t.type){case Zi.Program:o(t.body,function(e,r){d.recurse(e.expression,n,n,function(t){u=t}),r!==t.body.length-1?d.current().body.push(u,";"):d.return_(u)});break;case Zi.Literal:h=this.escape(t.value),this.assign(e,h),i(h);break;case Zi.UnaryExpression:this.recurse(t.argument,n,n,function(t){u=t}),h=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,h),i(h);break;case Zi.BinaryExpression:this.recurse(t.left,n,n,function(t){l=t}),this.recurse(t.right,n,n,function(t){u=t}),h="+"===t.operator?this.plus(l,u):"-"===t.operator?this.ifDefined(l,0)+t.operator+this.ifDefined(u,0):"("+l+")"+t.operator+"("+u+")",this.assign(e,h),i(h);break;case Zi.LogicalExpression:e=e||this.nextId(),d.recurse(t.left,e),d.if_("&&"===t.operator?e:d.not(e),d.lazyRecurse(t.right,e)),i(e);break;case Zi.ConditionalExpression:e=e||this.nextId(),d.recurse(t.test,e),d.if_(e,d.lazyRecurse(t.alternate,e),d.lazyRecurse(t.consequent,e)),i(e);break;case Zi.Identifier:e=e||this.nextId(),r&&(r.context="inputs"===d.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),Ge(t.name),d.if_("inputs"===d.stage||d.not(d.getHasOwnProperty("l",t.name)),function(){d.if_("inputs"===d.stage||"s",function(){a&&1!==a&&d.if_(d.not(d.nonComputedMember("s",t.name)),d.lazyAssign(d.nonComputedMember("s",t.name),"{}")),d.assign(e,d.nonComputedMember("s",t.name))})},e&&d.lazyAssign(e,d.nonComputedMember("l",t.name))),(d.state.expensiveChecks||cn(t.name))&&d.addEnsureSafeObject(e),i(e);break;case Zi.MemberExpression:l=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),d.recurse(t.object,l,n,function(){d.if_(d.notNull(l),function(){t.computed?(u=d.nextId(),d.recurse(t.property,u),d.addEnsureSafeMemberName(u),a&&1!==a&&d.if_(d.not(d.computedMember(l,u)),d.lazyAssign(d.computedMember(l,u),"{}")),h=d.ensureSafeObject(d.computedMember(l,u)),d.assign(e,h),r&&(r.computed=!0,r.name=u)):(Ge(t.property.name),a&&1!==a&&d.if_(d.not(d.nonComputedMember(l,t.property.name)),d.lazyAssign(d.nonComputedMember(l,t.property.name),"{}")),h=d.nonComputedMember(l,t.property.name),(d.state.expensiveChecks||cn(t.property.name))&&(h=d.ensureSafeObject(h)),d.assign(e,h),r&&(r.computed=!1,r.name=t.property.name))},function(){d.assign(e,"undefined")}),i(e)},!!a);break;case Zi.CallExpression:e=e||this.nextId(),t.filter?(u=d.filter(t.callee.name),c=[],o(t.arguments,function(t){var e=d.nextId();d.recurse(t,e),c.push(e)}),h=u+"("+c.join(",")+")",d.assign(e,h),i(e)):(u=d.nextId(),l={},c=[],d.recurse(t.callee,u,l,function(){d.if_(d.notNull(u),function(){d.addEnsureSafeFunction(u),o(t.arguments,function(t){d.recurse(t,d.nextId(),n,function(t){c.push(d.ensureSafeObject(t))})}),l.name?(d.state.expensiveChecks||d.addEnsureSafeObject(l.context),h=d.member(l.context,l.name,l.computed)+"("+c.join(",")+")"):h=u+"("+c.join(",")+")",h=d.ensureSafeObject(h),d.assign(e,h)},function(){d.assign(e,"undefined")}),i(e)}));break;case Zi.AssignmentExpression:if(u=this.nextId(),l={},!nn(t.left))throw zi("lval","Trying to assing a value to a non l-value");this.recurse(t.left,n,l,function(){d.if_(d.notNull(l.context),function(){d.recurse(t.right,u),d.addEnsureSafeObject(d.member(l.context,l.name,l.computed)),h=d.member(l.context,l.name,l.computed)+t.operator+u,d.assign(e,h),i(e||h)})},1);break;case Zi.ArrayExpression:c=[],o(t.elements,function(t){d.recurse(t,d.nextId(),n,function(t){c.push(t)})}),h="["+c.join(",")+"]",this.assign(e,h),i(h);break;case Zi.ObjectExpression:c=[],o(t.properties,function(t){d.recurse(t.value,d.nextId(),n,function(e){c.push(d.escape(t.key.type===Zi.Identifier?t.key.name:""+t.key.value)+":"+e)})}),h="{"+c.join(",")+"}",this.assign(e,h),i(h);break;case Zi.ThisExpression:this.assign(e,"s"),i("s");break;case Zi.NGValueParameter:this.assign(e,"v"),i("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(_(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(E(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw zi("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},ln.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,tn(r,n.$filter);var i,a;(i=rn(r))&&(a=this.recurse(i));var s,l=en(r.body);l&&(s=[],o(l,function(t,e){var r=n.recurse(t);t.input=r,s.push(r),t.watchId=e}));var u=[];o(r.body,function(t){u.push(n.recurse(t.expression))});var c=0===r.body.length?function(){}:1===r.body.length?u[0]:function(t,e){var n;return o(u,function(r){n=r(t,e)}),n};return a&&(c.assign=function(t,e,n){return a(t,n,e)}),s&&(c.inputs=s),c.literal=on(r),c.constant=an(r),c},recurse:function(t,e,r){var i,a,s,l=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Zi.Literal:return this.value(t.value,e);case Zi.UnaryExpression:return a=this.recurse(t.argument),this["unary"+t.operator](a,e);case Zi.BinaryExpression:return i=this.recurse(t.left),a=this.recurse(t.right),this["binary"+t.operator](i,a,e);case Zi.LogicalExpression:return i=this.recurse(t.left),a=this.recurse(t.right),this["binary"+t.operator](i,a,e);case Zi.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Zi.Identifier:return Ge(t.name,l.expression),l.identifier(t.name,l.expensiveChecks||cn(t.name),e,r,l.expression);case Zi.MemberExpression:return i=this.recurse(t.object,!1,!!r),t.computed||(Ge(t.property.name,l.expression),a=t.property.name),t.computed&&(a=this.recurse(t.property)),t.computed?this.computedMember(i,a,e,r,l.expression):this.nonComputedMember(i,a,l.expensiveChecks,e,r,l.expression);case Zi.CallExpression:return s=[],o(t.arguments,function(t){s.push(l.recurse(t))}),t.filter&&(a=this.$filter(t.callee.name)),t.filter||(a=this.recurse(t.callee,!0)),t.filter?function(t,r,i,o){for(var l=[],u=0;u<s.length;++u)l.push(s[u](t,r,i,o));var c=a.apply(n,l,o);return e?{context:n,name:n,value:c}:c}:function(t,n,r,i){var o,u=a(t,n,r,i);if(null!=u.value){Xe(u.context,l.expression),Ke(u.value,l.expression);for(var c=[],h=0;h<s.length;++h)c.push(Xe(s[h](t,n,r,i),l.expression));o=Xe(u.value.apply(u.context,c),l.expression)}return e?{value:o}:o};case Zi.AssignmentExpression:return i=this.recurse(t.left,!0,1),a=this.recurse(t.right),function(t,n,r,o){var s=i(t,n,r,o),u=a(t,n,r,o);return Xe(s.value,l.expression),s.context[s.name]=u,e?{value:u}:u};case Zi.ArrayExpression:return s=[],o(t.elements,function(t){s.push(l.recurse(t))}),function(t,n,r,i){for(var o=[],a=0;a<s.length;++a)o.push(s[a](t,n,r,i));return e?{value:o}:o};case Zi.ObjectExpression:return s=[],o(t.properties,function(t){s.push({key:t.key.type===Zi.Identifier?t.key.name:""+t.key.value,value:l.recurse(t.value)})}),function(t,n,r,i){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(t,n,r,i);return e?{value:o}:o};case Zi.ThisExpression:return function(t){return e?{value:t}:t};case Zi.NGValueParameter:return function(t,n,r,i){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=b(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=b(a)?-a:0,e?{value:a}:a}},"unary!":function(t,e){return function(n,r,i,o){var a=!t(n,r,i,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),l=e(r,i,o,a),u=Je(s,l);return n?{value:u}:u}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),l=e(r,i,o,a),u=(b(s)?s:0)-(b(l)?l:0);return n?{value:u}:u}},"binary*":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)*e(r,i,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)/e(r,i,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)%e(r,i,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)===e(r,i,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!==e(r,i,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)==e(r,i,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!=e(r,i,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<e(r,i,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>e(r,i,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<=e(r,i,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>=e(r,i,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)&&e(r,i,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)||e(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){var l=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s);return r?{value:l}:l}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,r,i,o){return function(a,s,l,u){var c=s&&t in s?s:a;i&&1!==i&&c&&!c[t]&&(c[t]={});var h=c?c[t]:n;return e&&Xe(h,o),r?{context:c,name:t,value:h}:h}},computedMember:function(t,e,n,r,i){return function(o,a,s,l){var u,c,h=t(o,a,s,l);return null!=h&&(u=e(o,a,s,l),Ge(u,i),r&&1!==r&&h&&!h[u]&&(h[u]={}),c=h[u],Xe(c,i)),n?{context:h,name:u,value:c}:c}},nonComputedMember:function(t,e,r,i,o,a){return function(s,l,u,c){var h=t(s,l,u,c);o&&1!==o&&h&&!h[e]&&(h[e]={});var d=null!=h?h[e]:n;return(r||cn(e))&&Xe(d,a),i?{context:h,name:e,value:d}:d}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}};var Ji=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new Zi(this.lexer),this.astCompiler=n.csp?new ln(this.ast,e):new sn(this.ast,e)};Ji.prototype={constructor:Ji,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var Qi=(mt(),mt(),Object.prototype.valueOf),to=r("$sce"),eo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Ai=r("$compile"),no=e.createElement("a"),ro=Sn(t.location.href);An.$inject=["$document"],Dn.$inject=["$provide"],Nn.$inject=["$locale"],In.$inject=["$locale"];var io=".",oo={yyyy:Fn("FullYear",4),yy:Fn("FullYear",2,0,!0),y:Fn("FullYear",1),MMMM:Vn("Month"),MMM:Vn("Month",!0),MM:Fn("Month",2,1),M:Fn("Month",1,1),dd:Fn("Date",2),d:Fn("Date",1),HH:Fn("Hours",2),H:Fn("Hours",1),hh:Fn("Hours",2,-12),h:Fn("Hours",1,-12),mm:Fn("Minutes",2),m:Fn("Minutes",1),ss:Fn("Seconds",2),s:Fn("Seconds",1),sss:Fn("Milliseconds",3),EEEE:Vn("Day"),EEE:Vn("Day",!0),a:Yn,Z:qn,ww:Un(2),w:Un(1),G:Gn,GG:Gn,GGG:Gn,GGGG:Xn},ao=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,so=/^\-?\d+$/;Kn.$inject=["$locale"];var lo=v(xr),uo=v(_r);Qn.$inject=["$parse"];var co=v({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Or.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),ho={};o(gi,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){
i.$set(e,!!t)})}if("multiple"!=t){var r=ce("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),ho[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(vi,function(t,e){ho[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(wr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]))}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=ce("ng-"+t);ho[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===Or.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){return e?(i.$set(a,e),void(kr&&o&&r.prop(o,i[a]))):void("href"===t&&i.$set(a,null))})}}}});var fo={$addControl:g,$$renameControl:er,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},po="ng-submitted";nr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var go=function(t){return["$timeout",function(e){var r={name:"form",restrict:t?"EAC":"E",controller:nr,compile:function(r,i){r.addClass(Xo).addClass(Yo);var o=i.name?"name":t&&i.ngForm?"ngForm":!1;return{pre:function(t,r,i,a){if(!("action"in i)){var s=function(e){t.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),e.preventDefault()};ri(r[0],"submit",s),r.on("$destroy",function(){e(function(){ii(r[0],"submit",s)},0,!1)})}var l=a.$$parentForm;o&&(un(t,a.$name,a,a.$name),i.$observe(o,function(e){a.$name!==e&&(un(t,a.$name,n,a.$name),l.$$renameControl(a,e),un(t,a.$name,a,a.$name))})),r.on("$destroy",function(){l.$removeControl(a),o&&un(t,i[o],n,a.$name),h(a,fo)})}}}};return r}]},mo=go(),vo=go(!0),yo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,wo=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,bo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,xo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Co=/^(\d{4})-(\d{2})-(\d{2})$/,_o=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Eo=/^(\d{4})-W(\d\d)$/,To=/^(\d{4})-(\d\d)$/,ko=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,So={text:ir,date:lr("date",Co,sr(Co,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":lr("datetimelocal",_o,sr(_o,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:lr("time",ko,sr(ko,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:lr("week",Eo,ar,"yyyy-Www"),month:lr("month",To,sr(To,["yyyy","MM"]),"yyyy-MM"),number:cr,url:hr,email:dr,radio:fr,checkbox:gr,hidden:g,button:g,submit:g,reset:g,file:g},$o=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(So[xr(a.type)]||So.text)(i,o,a,s[0],e,t,n,r)}}}}],Mo=/^(true|false|\d+)$/,Ao=function(){return{restrict:"A",priority:100,compile:function(t,e){return Mo.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Ro=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,r,i){t.$$addBindingInfo(r,i.ngBind),r=r[0],e.$watch(i.ngBind,function(t){r.textContent=t===n?"":t})}}}}],Do=["$interpolate","$compile",function(t,e){return{compile:function(r){return e.$$addBindingClass(r),function(r,i,o){var a=t(i.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(i,a.expressions),i=i[0],o.$observe("ngBindTemplate",function(t){i.textContent=t===n?"":t})}}}}],Oo=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){r.html(t.getTrustedHtml(o(e))||"")})}}}}],Po=v({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Ho=mr("",!0),Lo=mr("Odd",0),No=mr("Even",1),Io=tr({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),Bo=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],jo={},Fo={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=ce("ng-"+t);jo[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};Fo[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var Vo=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},t.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=gt(s.clone),t.leave(u).then(function(){u=null}),s=null))})}}}],qo=["$templateRequest","$anchorScroll","$animate",function(t,e,n){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Lr.noop,compile:function(r,i){var o=i.ngInclude||i.src,a=i.onload||"",s=i.autoscroll;return function(r,i,l,u,c){var h,d,f,p=0,g=function(){d&&(d.remove(),d=null),h&&(h.$destroy(),h=null),f&&(n.leave(f).then(function(){d=null}),d=f,f=null)};r.$watch(o,function(o){var l=function(){!b(s)||s&&!r.$eval(s)||e()},d=++p;o?(t(o,!0).then(function(t){if(d===p){var e=r.$new();u.template=t;var s=c(e,function(t){g(),n.enter(t,null,i).then(l)});h=e,f=s,h.$emit("$includeContentLoaded",o),r.$eval(a)}},function(){d===p&&(g(),r.$emit("$includeContentError",o))}),r.$emit("$includeContentRequested",o)):(g(),u.template=null)})}}}}],zo=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void t(kt(o.template,e).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],Wo=tr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Uo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,i){var a=e.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,l=s?Fr(a):a,u=function(t){if(!w(t)){var e=[];return t&&o(t.split(l),function(t){t&&e.push(s?Fr(t):t)}),e}};i.$parsers.push(u),i.$formatters.push(function(t){return Br(t)?t.join(a):n}),i.$isEmpty=function(t){return!t||!t.length}}}},Yo="ng-valid",Go="ng-invalid",Xo="ng-pristine",Ko="ng-dirty",Zo="ng-untouched",Jo="ng-touched",Qo="ng-pending",ta=new r("ngModel"),ea=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,r,i,a,s,l,u,c,h){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(r.name||"",!1)(t);var d,f=a(r.ngModel),p=f.assign,m=f,v=p,y=null,x=this;this.$$setOptions=function(t){if(x.$options=t,t&&t.getterSetter){var e=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");m=function(t){var n=f(t);return k(n)&&(n=e(t)),n},v=function(t,e){k(f(t))?n(t,{$$$p:x.$modelValue}):p(t,x.$modelValue)}}else if(!f.assign)throw ta("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,J(i))},this.$render=g,this.$isEmpty=function(t){return w(t)||""===t||null===t||t!==t};var C=i.inheritedData("$formController")||fo,_=0;vr({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:C,$animate:s}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,s.removeClass(i,Ko),s.addClass(i,Xo)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,s.removeClass(i,Xo),s.addClass(i,Ko),C.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,s.setClass(i,Zo,Jo)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,s.setClass(i,Jo,Zo)},this.$rollbackViewValue=function(){l.cancel(y),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!E(x.$modelValue)||!isNaN(x.$modelValue)){var t=x.$$lastCommittedViewValue,e=x.$$rawModelValue,r=x.$valid,i=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$runValidators(e,t,function(t){o||r===t||(x.$modelValue=t?e:n,x.$modelValue!==i&&x.$$writeModelToScope())})}},this.$$runValidators=function(t,e,r){function i(){var t=x.$$parserName||"parse";return d!==n?(d||(o(x.$validators,function(t,e){l(e,null)}),o(x.$asyncValidators,function(t,e){l(e,null)})),l(t,d),d):(l(t,null),!0)}function a(){var n=!0;return o(x.$validators,function(r,i){var o=r(t,e);n=n&&o,l(i,o)}),n?!0:(o(x.$asyncValidators,function(t,e){l(e,null)}),!1)}function s(){var r=[],i=!0;o(x.$asyncValidators,function(o,a){var s=o(t,e);if(!P(s))throw ta("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(a,n),r.push(s.then(function(){l(a,!0)},function(t){i=!1,l(a,!1)}))}),r.length?c.all(r).then(function(){u(i)},g):u(!0)}function l(t,e){h===_&&x.$setValidity(t,e)}function u(t){h===_&&r(t)}_++;var h=_;return i()&&a()?void s():void u(!1)},this.$commitViewValue=function(){var t=x.$viewValue;l.cancel(y),(x.$$lastCommittedViewValue!==t||""===t&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=t,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){x.$modelValue!==a&&x.$$writeModelToScope()}var r=x.$$lastCommittedViewValue,i=r;if(d=w(i)?n:!0)for(var o=0;o<x.$parsers.length;o++)if(i=x.$parsers[o](i),w(i)){d=!1;break}E(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=m(t));var a=x.$modelValue,s=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=i,s&&(x.$modelValue=i,e()),x.$$runValidators(i,x.$$lastCommittedViewValue,function(t){s||(x.$modelValue=t?i:n,e())})},this.$$writeModelToScope=function(){v(t,x.$modelValue),o(x.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){x.$viewValue=t,(!x.$options||x.$options.updateOnDefault)&&x.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,r=0,i=x.$options;i&&b(i.debounce)&&(n=i.debounce,E(n)?r=n:E(n[e])?r=n[e]:E(n["default"])&&(r=n["default"])),l.cancel(y),r?y=l(function(){x.$commitViewValue()},r):u.$$phase?x.$commitViewValue():t.$apply(function(){x.$commitViewValue()})},t.$watch(function(){var e=m(t);if(e!==x.$modelValue&&(x.$modelValue===x.$modelValue||e===e)){x.$modelValue=x.$$rawModelValue=e,d=n;for(var r=x.$formatters,i=r.length,o=e;i--;)o=r[i](o);x.$viewValue!==o&&(x.$viewValue=x.$$lastCommittedViewValue=o,x.$render(),x.$$runValidators(e,o,g))}return e})}],na=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ea,priority:1,compile:function(e){return e.addClass(Xo).addClass(Zo).addClass(Yo),{pre:function(t,e,n,r){var i=r[0],o=r[1]||fo;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&o.$$renameControl(i,t)}),t.$on("$destroy",function(){o.$removeControl(i)})},post:function(e,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],ra=/(\s+|^)default(\s+|$)/,ia=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var r=this;this.$options=j(t.$eval(e.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=Fr(this.$options.updateOn.replace(ra,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},oa=tr({terminal:!0,priority:1e3}),aa=r("ngOptions"),sa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,la=["$compile","$parse",function(t,n){function r(t,e,r){function o(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}function a(t){var e;if(!u&&i(t))e=t;else{e=[];for(var n in t)t.hasOwnProperty(n)&&"$"!==n.charAt(0)&&e.push(n)}return e}var s=t.match(sa);if(!s)throw aa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,J(e));var l=s[5]||s[7],u=s[6],c=/ as /.test(s[0])&&s[1],h=s[9],d=n(s[2]?s[1]:l),f=c&&n(c),p=f||d,g=h&&n(h),m=h?function(t,e){return g(r,e)}:function(t){return Gt(t)},v=function(t,e){return m(t,_(t,e))},y=n(s[2]||s[1]),w=n(s[3]||""),b=n(s[4]||""),x=n(s[8]),C={},_=u?function(t,e){return C[u]=e,C[l]=t,C}:function(t){return C[l]=t,C};return{trackBy:h,getTrackByValue:v,getWatchables:n(x,function(t){var e=[];t=t||[];for(var n=a(t),i=n.length,o=0;i>o;o++){var l=t===n?o:n[o],u=(t[l],_(t[l],l)),c=m(t[l],u);if(e.push(c),s[2]||s[1]){var h=y(r,u);e.push(h)}if(s[4]){var d=b(r,u);e.push(d)}}return e}),getOptions:function(){for(var t=[],e={},n=x(r)||[],i=a(n),s=i.length,l=0;s>l;l++){var u=n===i?l:i[l],c=n[u],d=_(c,u),f=p(r,d),g=m(f,d),C=y(r,d),E=w(r,d),T=b(r,d),k=new o(g,f,C,E,T);t.push(k),e[g]=k}return{items:t,selectValueMap:e,getOptionFromViewValue:function(t){return e[v(t)]},getViewValueFromOption:function(t){return h?Lr.copy(t.viewValue):t.viewValue}}}}}var a=e.createElement("option"),s=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(e,n,i,l){function u(t,e){t.element=e,e.disabled=t.disabled,t.value!==e.value&&(e.value=t.selectValue),t.label!==e.label&&(e.label=t.label,e.textContent=t.label)}function c(t,e,n,r){var i;return e&&xr(e.nodeName)===n?i=e:(i=r.cloneNode(!1),e?t.insertBefore(i,e):t.appendChild(i)),i}function h(t){for(var e;t;)e=t.nextSibling,Vt(t),t=e}function d(t){var e=g&&g[0],n=C&&C[0];if(e||n)for(;t&&(t===e||t===n);)t=t.nextSibling;return t}function f(){var t=_&&m.readValue();_=E.getOptions();var e={},r=n[0].firstChild;if(x&&n.prepend(g),r=d(r),_.items.forEach(function(t){var i,o,l;t.group?(i=e[t.group],i||(o=c(n[0],r,"optgroup",s),r=o.nextSibling,o.label=t.group,i=e[t.group]={groupElement:o,currentOptionElement:o.firstChild}),l=c(i.groupElement,i.currentOptionElement,"option",a),u(t,l),i.currentOptionElement=l.nextSibling):(l=c(n[0],r,"option",a),u(t,l),r=l.nextSibling)}),Object.keys(e).forEach(function(t){h(e[t].currentOptionElement)}),h(r),p.$render(),!p.$isEmpty(t)){var i=m.readValue();(E.trackBy?V(t,i):t===i)||(p.$setViewValue(i),p.$render())}}var p=l[1];if(p){for(var g,m=l[0],v=i.multiple,y=0,w=n.children(),b=w.length;b>y;y++)if(""===w[y].value){g=w.eq(y);break}var x=!!g,C=Sr(a.cloneNode(!1));C.val("?");var _,E=r(i.ngOptions,n,e),T=function(){x||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)},k=function(){x||g.remove()},S=function(){n.prepend(C),n.val("?"),C.prop("selected",!0),C.attr("selected",!0)},$=function(){C.remove()};v?(p.$isEmpty=function(t){return!t||0===t.length},m.writeValue=function(t){_.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=_.getOptionFromViewValue(t);e&&!e.disabled&&(e.element.selected=!0)})},m.readValue=function(){var t=n.val()||[],e=[];return o(t,function(t){var n=_.selectValueMap[t];n.disabled||e.push(_.getViewValueFromOption(n))}),e},E.trackBy&&e.$watchCollection(function(){return Br(p.$viewValue)?p.$viewValue.map(function(t){return E.getTrackByValue(t)}):void 0},function(){p.$render()})):(m.writeValue=function(t){var e=_.getOptionFromViewValue(t);e&&!e.disabled?n[0].value!==e.selectValue&&($(),k(),n[0].value=e.selectValue,e.element.selected=!0,e.element.setAttribute("selected","selected")):null===t||x?($(),T()):(k(),S())},m.readValue=function(){var t=_.selectValueMap[n.val()];return t&&!t.disabled?(k(),$(),_.getViewValueFromOption(t)):null},E.trackBy&&e.$watch(function(){return E.getTrackByValue(p.$viewValue)},function(){p.$render()})),x?(g.remove(),t(g)(e),g.removeClass("ng-scope")):g=Sr(a.cloneNode(!1)),f(),e.$watchCollection(E.getWatchables,f)}}}}],ua=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(t){s.text(t||"")}var c,h=l.count,d=l.$attr.when&&s.attr(l.$attr.when),f=l.offset||0,p=a.$eval(d)||{},m={},v=e.startSymbol(),y=e.endSymbol(),b=v+h+"-"+f+y,x=Lr.noop;o(l,function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+xr(n[2]);p[r]=s.attr(l.$attr[e])}}),o(p,function(t,n){m[n]=e(t.replace(r,b))}),a.$watch(h,function(e){var r=parseFloat(e),i=isNaN(r);if(i||r in p||(r=t.pluralCat(r-f)),r!==c&&!(i&&E(c)&&isNaN(c))){x();var o=m[r];w(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+d),x=g,u()):x=a.$watch(o,u),c=r}})}}}],ca=["$parse","$animate",function(t,a){var s="$$NG_REMOVED",l=r("ngRepeat"),u=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},h=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,d){var f=d.ngRepeat,p=e.createComment(" end ngRepeat: "+f+" "),g=f.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",f);var m=g[1],v=g[2],y=g[3],w=g[4];if(g=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var b=g[3]||g[1],x=g[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var C,_,E,T,k={$id:Gt};return w?C=t(w):(E=function(t,e){return Gt(e)},T=function(t){return t}),function(t,e,r,d,g){C&&(_=function(e,n,r){return x&&(k[x]=e),k[b]=n,k.$index=r,C(t,k)});var m=mt();t.$watchCollection(v,function(r){var d,v,w,C,k,S,$,M,A,R,D,O,P=e[0],H=mt();if(y&&(t[y]=r),i(r))A=r,M=_||E;else{M=_||T,A=[];for(var L in r)r.hasOwnProperty(L)&&"$"!==L.charAt(0)&&A.push(L)}for(C=A.length,D=new Array(C),d=0;C>d;d++)if(k=r===A?d:A[d],S=r[k],$=M(k,S,d),m[$])R=m[$],delete m[$],H[$]=R,D[d]=R;else{if(H[$])throw o(D,function(t){t&&t.scope&&(m[t.id]=t)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",f,$,S);D[d]={id:$,scope:n,clone:n},H[$]=!0}for(var N in m){if(R=m[N],O=gt(R.clone),a.leave(O),O[0].parentNode)for(d=0,v=O.length;v>d;d++)O[d][s]=!0;R.scope.$destroy()}for(d=0;C>d;d++)if(k=r===A?d:A[d],S=r[k],R=D[d],R.scope){w=P;do w=w.nextSibling;while(w&&w[s]);c(R)!=w&&a.move(gt(R.clone),null,Sr(P)),P=h(R),u(R.scope,d,b,S,x,k,C)}else g(function(t,e){R.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,a.enter(t,null,Sr(P)),P=n,R.clone=t,H[R.id]=R,u(R.scope,d,b,S,x,k,C)});m=H})}}}}],ha="ng-hide",da="ng-hide-animate",fa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,ha,{tempClasses:da})})}}}],pa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,ha,{tempClasses:da})})}}}],ga=tr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),ma=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,l=[],u=[],c=[],h=[],d=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;i>r;++r)t.cancel(c[r]);for(c.length=0,r=0,i=h.length;i>r;++r){var s=gt(u[r].clone);h[r].$destroy();var f=c[r]=t.leave(s);f.then(d(c,r))}u.length=0,h.length=0,(l=a.cases["!"+n]||a.cases["?"])&&o(l,function(n){n.transclude(function(r,i){h.push(i);var o=n.element;r[r.length++]=e.createComment(" end ngSwitchWhen: ");var a={clone:r};u.push(a),t.enter(r,o.parent(),o)})})})}}}],va=tr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),ya=tr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),wa=tr({restrict:"EAC",link:function(t,e,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",J(e));o(function(t){e.empty(),e.append(t)})}}),ba=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],xa={$setViewValue:g,$render:g},Ca=["$element","$scope","$attrs",function(t,r,i){var o=this,a=new Xt;o.ngModelCtrl=xa,o.unknownOption=Sr(e.createElement("option")),o.renderUnknownOption=function(e){var n="? "+Gt(e)+" ?";o.unknownOption.val(n),t.prepend(o.unknownOption),t.val(n)},r.$on("$destroy",function(){o.renderUnknownOption=g}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),t.val()},o.writeValue=function(e){o.hasOption(e)?(o.removeUnknownOption(),t.val(e),""===e&&o.emptyOption.prop("selected",!0)):null==e&&o.emptyOption?(o.removeUnknownOption(),t.val("")):o.renderUnknownOption(e)},o.addOption=function(t,e){ft(t,'"option value"'),""===t&&(o.emptyOption=e);var n=a.get(t)||0;a.put(t,n+1)},o.removeOption=function(t){var e=a.get(t);e&&(1===e?(a.remove(t),""===t&&(o.emptyOption=n)):a.put(t,e-1))},o.hasOption=function(t){return!!a.get(t)}}],_a=function(){return{restrict:"E",require:["select","?ngModel"],controller:Ca,link:function(t,e,n,r){var i=r[1];if(i){var a=r[0];if(a.ngModelCtrl=i,i.$render=function(){a.writeValue(i.$viewValue)},e.on("change",function(){t.$apply(function(){i.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var t=[];return o(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},a.writeValue=function(t){var n=new Xt(t);o(e.find("option"),function(t){t.selected=b(n.get(t.value))})};var s,l=0/0;t.$watch(function(){l!==i.$viewValue||V(s,i.$viewValue)||(s=F(i.$viewValue),i.$render()),l=i.$viewValue}),i.$isEmpty=function(t){return!t||0===t.length}}}}}},Ea=["$interpolate",function(t){function e(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,r){if(w(r.value)){var i=t(n.text(),!0);i||r.$set("value",n.text())}return function(t,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.ngModelCtrl&&(i?t.$watch(i,function(t,i){r.$set("value",t),i!==t&&s.removeOption(i),s.addOption(t,n),s.ngModelCtrl.$render(),e(n)}):(s.addOption(r.value,n),s.ngModelCtrl.$render(),e(n)),n.on("$destroy",function(){s.removeOption(r.value),s.ngModelCtrl.$render()}))}}}}],Ta=v({restrict:"E",terminal:!1}),ka=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},Sa=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(_(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,J(e));a=t||n,o.$validate()}),o.$validators.pattern=function(t){return o.$isEmpty(t)||w(a)||a.test(t)}}}}},$a=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=f(t);i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return 0>i||r.$isEmpty(e)||e.length<=i}}}}},Ma=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=f(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ct(),bt(Lr),void Sr(e).ready(function(){ot(e,at)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/**
 * @license AngularJS v1.4.2
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(t,e,n){if(!t)throw ngMinErr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function i(t,e){return t||e?t?e?(I(t)&&(t=t.join(" ")),I(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function o(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function a(t,e,n){var r="";return t=I(t)?t:t&&B(t)&&t.length?t.split(/\s+/):[],N(t,function(t,i){t&&t.length>0&&(r+=i>0?" ":"",r+=n?e+t:t+e)}),r}function s(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function l(t){if(t instanceof L)switch(t.length){case 0:return[];case 1:if(t[0].nodeType===W)return t;break;default:return L(u(t))}return t.nodeType===W?L(t):void 0}function u(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==W)return n}}function c(t,e,n){N(e,function(e){t.addClass(e,n)})}function h(t,e,n){N(e,function(e){t.removeClass(e,n)})}function d(t){return function(e,n){n.addClass&&(c(t,e,n.addClass),n.addClass=null),n.removeClass&&(h(t,e,n.removeClass),n.removeClass=null)}}function f(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||P;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=P},t.$$prepared=!0}return t}function p(t,e){g(t,e),m(t,e)}function g(t,e){e.from&&(t.css(e.from),e.from=null)}function m(t,e){e.to&&(t.css(e.to),e.to=null)}function v(t,e,n){var r=(e.addClass||"")+" "+(n.addClass||""),i=(e.removeClass||"")+" "+(n.removeClass||""),o=y(t.attr("class"),r,i);return H(e,n),e.addClass=o.addClass?o.addClass:null,e.removeClass=o.removeClass?o.removeClass:null,e}function y(t,e,n){function r(t){B(t)&&(t=t.split(" "));var e={};return N(t,function(t){t.length&&(e[t]=!0)}),e}var i=1,o=-1,a={};t=r(t),e=r(e),N(e,function(t,e){a[e]=i}),n=r(n),N(n,function(t,e){a[e]=a[e]===i?null:o});var s={addClass:"",removeClass:""};return N(a,function(e,n){var r,a;e===i?(r="addClass",a=!t[n]):e===o&&(r="removeClass",a=t[n]),a&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function w(t){return t instanceof e.element?t[0]:t}function b(t,e,n){var r=Object.create(null),i=t.getComputedStyle(e)||{};return N(n,function(t,e){var n=i[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=x(n)),0===n&&(n=null),r[e]=n}}),r}function x(t){var e=0,n=t.split(/\s*,\s*/);return N(n,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function C(t){return 0===t||null!=t}function _(t,e){var n=A,r=t+"s";return e?n+=Z:r+=" linear all",[n,r]}function E(t){return[lt,t+"s"]}function T(t,e){var n=e?st:ut;return[n,t+"s"]}function k(t,e){var n=e?"-"+e+"s":"";return $(t,[ut,n]),[ut,n]}function S(t,e){var n=e?"paused":"",r=D+nt;return $(t,[r,n]),[r,n]}function $(t,e){var n=e[0],r=e[1];t.style[n]=r}function M(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}var A,R,D,O,P=e.noop,H=e.extend,L=e.element,N=e.forEach,I=e.isArray,B=e.isString,j=e.isObject,F=e.isUndefined,V=e.isDefined,q=e.isFunction,z=e.isElement,W=1,U="ng-animate",Y="$$ngAnimateChildren",G=["$$rAF",function(t){function e(t){o.push([].concat(t)),n()}function n(){if(o.length){for(var e=[],a=0;a<o.length;a++){var s=o[a];r(s),s.length&&e.push(s)}o=e,i||t(function(){i||n()})}}function r(t){var e=t.shift();e()}var i,o=[];return e.waitUntilQuiet=function(e){i&&i(),i=t(function(){i=null,e(),n()})},e}],X=[function(){return function(t,n,r){var i=r.ngAnimateChildren;e.isString(i)&&0===i.length?n.data(Y,!0):r.$observe("ngAnimateChildren",function(t){t="on"===t||"true"===t,n.data(Y,t)})}}],K="";t.ontransitionend===n&&t.onwebkittransitionend!==n?(K="-webkit-",A="WebkitTransition",R="webkitTransitionEnd transitionend"):(A="transition",R="transitionend"),t.onanimationend===n&&t.onwebkitanimationend!==n?(K="-webkit-",D="WebkitAnimation",O="webkitAnimationEnd animationend"):(D="animation",O="animationend");var Z="Duration",J="Property",Q="Delay",tt="TimingFunction",et="IterationCount",nt="PlayState",rt=3,it=1.5,ot=1e3,at=9999,st=D+Q,lt=D+Z,ut=A+Q,ct=A+Z,ht={transitionDuration:ct,transitionDelay:ut,transitionProperty:A+J,animationDuration:lt,animationDelay:st,animationIterationCount:D+et},dt={transitionDuration:ct,transitionDelay:ut,animationDuration:lt,animationDelay:st},ft=["$animateProvider",function(t){var e=M(),n=M();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function(t,r,i,l,u,c,h){function v(t,e){var n="$$ngAnimateParentKey",r=t.parentNode,i=r[n]||(r[n]=++B);return i+"-"+t.getAttribute("class")+"-"+e}function y(n,r,i,o){var a=e.get(i);return a||(a=b(t,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),e.put(i,a),a}function x(i,o,s,l){var u;if(e.count(s)>0&&(u=n.get(s),!u)){var c=a(o,"-stagger");r.addClass(i,c),u=b(t,i,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),r.removeClass(i,c),n.put(s,u)}return u||{}}function M(t){F.push(t),h.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=j.offsetWidth+1,r=0;r<F.length;r++)F[r](t);F.length=0})}function P(t,e,n){var r=y(t,e,n,ht),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}function H(t,n){function u(){d()}function h(){d(!0)}function d(e){j||V&&F||(j=!0,F=!1,r.removeClass(t,lt),r.removeClass(t,ct),S(B,!1),k(B,!1),N(X,function(t){B.style[t[0]]=""}),L(t,n),p(t,n),n.onDone&&n.onDone(),q&&q.complete(!e))}function y(t){Et.blockTransition&&k(B,t),Et.blockKeyframeAnimation&&S(B,!!t)}function b(){return q=new i({end:u,cancel:h}),d(),{$$willAnimate:!1,start:function(){return q},end:u}}function H(){function e(){if(!j){if(y(!1),N(X,function(t){var e=t[0],n=t[1];B.style[e]=n}),L(t,n),r.addClass(t,ct),Et.recalculateTimingStyles){if(ut=B.className+" "+lt,ft=v(B,ut),Ct=P(B,ut,ft),_t=Ct.maxDelay,W=Math.max(_t,0),Y=Ct.maxDuration,0===Y)return void d();Et.hasTransitions=Ct.transitionDuration>0,Et.hasAnimations=Ct.animationDuration>0}if(Et.applyTransitionDelay||Et.applyAnimationDelay){_t="boolean"!=typeof n.delay&&C(n.delay)?parseFloat(n.delay):_t,W=Math.max(_t,0);var e;Et.applyTransitionDelay&&(Ct.transitionDelay=_t,e=T(_t),X.push(e),B.style[e[0]]=e[1]),Et.applyAnimationDelay&&(Ct.animationDelay=_t,e=T(_t,!0),X.push(e),B.style[e[0]]=e[1])}if(U=W*ot,G=Y*ot,n.easing){var s,c=n.easing;Et.hasTransitions&&(s=A+tt,X.push([s,c]),B.style[s]=c),Et.hasAnimations&&(s=D+tt,X.push([s,c]),B.style[s]=c)}Ct.transitionDuration&&u.push(R),Ct.animationDuration&&u.push(O),a=Date.now(),t.on(u.join(" "),o),l(i,U+it*G),m(t,n)}}function i(){d()}function o(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(rt));Math.max(n-a,0)>=U&&r>=Y&&(V=!0,d())}if(!j){var a,u=[],c=function(t){if(V)F&&t&&(F=!1,d());else if(F=!t,Ct.animationDuration){var e=S(B,F);F?X.push(e):s(X,e)}},h=bt>0&&(Ct.transitionDuration&&0===pt.transitionDuration||Ct.animationDuration&&0===pt.animationDuration)&&Math.max(pt.animationDelay,pt.transitionDelay);h?l(e,Math.floor(h*bt*ot),!1):e(),z.resume=function(){c(!0)},z.pause=function(){c(!1)}}}var B=w(t);n=f(n);var j,F,V,q,z,W,U,Y,G,X=[],K=t.attr("class"),Z=o(n);if(0===n.duration||!c.animations&&!c.transitions)return b();var Q=n.event&&I(n.event)?n.event.join(" "):n.event,et=Q&&n.structural,nt="",st="";et?nt=a(Q,"ng-",!0):Q&&(nt=Q),n.addClass&&(st+=a(n.addClass,"-add")),n.removeClass&&(st.length&&(st+=" "),st+=a(n.removeClass,"-remove")),n.applyClassesEarly&&st.length&&(L(t,n),st="");var lt=[nt,st].join(" ").trim(),ut=K+" "+lt,ct=a(lt,"-active"),ht=Z.to&&Object.keys(Z.to).length>0;if(!ht&&!lt)return b();var ft,pt;if(n.stagger>0){var gt=parseFloat(n.stagger);pt={transitionDelay:gt,animationDelay:gt,transitionDuration:0,animationDuration:0}}else ft=v(B,ut),pt=x(B,lt,ft,dt);r.addClass(t,lt);var mt;if(n.transitionStyle){var vt=[A,n.transitionStyle];$(B,vt),X.push(vt)}if(n.duration>=0){mt=B.style[A].length>0;var yt=_(n.duration,mt);$(B,yt),X.push(yt)}if(n.keyframeStyle){var wt=[D,n.keyframeStyle];$(B,wt),X.push(wt)}var bt=pt?n.staggerIndex>=0?n.staggerIndex:e.count(ft):0,xt=0===bt;xt&&k(B,at);var Ct=P(B,ut,ft),_t=Ct.maxDelay;W=Math.max(_t,0),Y=Ct.maxDuration;var Et={};return Et.hasTransitions=Ct.transitionDuration>0,Et.hasAnimations=Ct.animationDuration>0,Et.hasTransitionAll=Et.hasTransitions&&"all"==Ct.transitionProperty,Et.applyTransitionDuration=ht&&(Et.hasTransitions&&!Et.hasTransitionAll||Et.hasAnimations&&!Et.hasTransitions),Et.applyAnimationDuration=n.duration&&Et.hasAnimations,Et.applyTransitionDelay=C(n.delay)&&(Et.applyTransitionDuration||Et.hasTransitions),Et.applyAnimationDelay=C(n.delay)&&Et.hasAnimations,Et.recalculateTimingStyles=st.length>0,(Et.applyTransitionDuration||Et.applyAnimationDuration)&&(Y=n.duration?parseFloat(n.duration):Y,Et.applyTransitionDuration&&(Et.hasTransitions=!0,Ct.transitionDuration=Y,mt=B.style[A+J].length>0,X.push(_(Y,mt))),Et.applyAnimationDuration&&(Et.hasAnimations=!0,Ct.animationDuration=Y,X.push(E(Y)))),0!==Y||Et.recalculateTimingStyles?(null==n.duration&&Ct.transitionDuration>0&&(Et.recalculateTimingStyles=Et.recalculateTimingStyles||xt),U=W*ot,G=Y*ot,n.skipBlocking||(Et.blockTransition=Ct.transitionDuration>0,Et.blockKeyframeAnimation=Ct.animationDuration>0&&pt.animationDelay>0&&0===pt.animationDuration),g(t,n),Et.blockTransition||k(B,!1),y(Y),{$$willAnimate:!0,end:u,start:function(){return j?void 0:(z={end:u,cancel:h,resume:null,pause:null},q=new i(z),M(H),q)}}):b()}var L=d(r),B=0,j=w(u).body,F=[];return H}]}],pt=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var e="ng-animate-shim",n="ng-anchor",r="ng-anchor-out",i="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function(t,o,a,s,l,u){function c(t){return t.replace(/\bng-\S+\b/g,"")}function h(t,e){return B(t)&&(t=t.split(" ")),B(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function d(o,s,l){function u(t){var e={},n=w(t).getBoundingClientRect();return N(["width","height","top","left"],function(t){var r=n[t];switch(t){case"top":r+=g.scrollTop;break;case"left":r+=g.scrollLeft}e[t]=Math.floor(r)+"px"}),e}function d(){var e=t(y,{addClass:r,delay:!0,from:u(s)});return e.$$willAnimate?e:null}function f(t){return t.attr("class")||""}function p(){var e=c(f(l)),n=h(e,b),o=h(b,e),a=t(y,{to:u(l),addClass:i+" "+n,removeClass:r+" "+o,delay:!0});return a.$$willAnimate?a:null}function m(){y.remove(),s.removeClass(e),l.removeClass(e)}var y=L(w(s).cloneNode(!0)),b=c(f(y));s.addClass(e),l.addClass(e),y.addClass(n),v.append(y);var x,C=d();if(!C&&(x=p(),!x))return m();var _=C||x;return{start:function(){function t(){n&&n.end()}var e,n=_.start();return n.done(function(){return n=null,!x&&(x=p())?(n=x.start(),n.done(function(){n=null,m(),e.complete()}),n):(m(),void e.complete())}),e=new a({end:t,cancel:t})}}}function f(t,e,n,r){var i=p(t),o=p(e),s=[];return N(r,function(t){var e=t.out,r=t["in"],i=d(n,e,r);i&&s.push(i)}),i||o||0!==s.length?{start:function(){function t(){N(e,function(t){t.end()})}var e=[];i&&e.push(i.start()),o&&e.push(o.start()),N(s,function(t){e.push(t.start())});var n=new a({end:t,cancel:t});return a.all(e,function(t){n.complete(t)}),n}}:void 0}function p(e){var n=e.element,r=e.options||{};e.structural?(r.structural=r.applyClassesEarly=!0,r.event=e.event,"leave"===r.event&&(r.onDone=r.domOperation)):r.event=null;var i=t(n,r);return i.$$willAnimate?i:null}if(!u.animations&&!u.transitions)return P;var g=w(l).body,m=w(s),v=L(g.parentNode===m?g:m);return function(t){return t.from&&t.to?f(t.from,t.to,t.classes,t.anchors):p(t)}}]}],gt=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(e,n,r,i){function o(n){n=I(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!i[a]&&(r.push(e.get(s)),i[a]=!0)}return r}var a=d(i);return function(t,e,r,i){function s(){i.domOperation(),a(t,i)}function l(t,e,r,i,o){var a;switch(r){case"animate":a=[e,i.from,i.to,o];break;case"setClass":a=[e,g,m,o];break;case"addClass":a=[e,g,o];break;case"removeClass":a=[e,m,o];break;default:a=[e,o]}a.push(i);var s=t.apply(t,a);if(s)if(q(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(q(s))return s;return P}function u(t,e,r,i,o){var a=[];return N(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,u=function(t){a||(a=!0,(o||P)(t),i.complete(!t))};return i=new n({end:function(){u()},cancel:function(){u(!0)}}),o=l(s,t,e,r,function(t){var e=t===!1;u(e)}),i})}),a}function c(t,e,r,i,o){var a=u(t,e,r,i,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=u(t,"removeClass",r,i,"beforeRemoveClass"),l=u(t,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=u(t,"removeClass",r,i,"removeClass"),l=u(t,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(t){var e=[];return a.length&&N(a,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){N(e,function(e){t?e.cancel():e.end()})}}}3===arguments.length&&j(r)&&(i=r,r=null),i=f(i),r||(r=t.attr("class")||"",i.addClass&&(r+=" "+i.addClass),i.removeClass&&(r+=" "+i.removeClass));var h,d,g=i.addClass,m=i.removeClass,v=o(r);if(v.length){var y,w;"leave"==e?(w="leave",y="afterLeave"):(w="before"+e.charAt(0).toUpperCase()+e.substr(1),y=e),"enter"!==e&&"move"!==e&&(h=c(t,e,i,v,w)),d=c(t,e,i,v,y)}return h||d?{start:function(){function e(e){l=!0,s(),p(t,i),u.complete(e)}function r(t){l||((o||P)(t),e(t))}var o,a=[];h&&a.push(function(t){o=h(t)}),a.length?a.push(function(t){s(),t(!0)}):s(),d&&a.push(function(t){o=d(t)});var l=!1,u=new n({end:function(){r()},cancel:function(){r(!0)}});return n.chain(a,e),u}}:void 0}}]}],mt=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,r=e.event,i=e.options,o=e.classes;return t(n,r,o,i)}return function(t){if(t.from&&t.to){var r=n(t.from),i=n(t.to);if(!r&&!i)return;return{start:function(){function t(){return function(){N(o,function(t){t.end()})}}function n(t){a.complete(t)}var o=[];r&&o.push(r.start()),i&&o.push(i.start()),e.all(o,n);var a=new e({end:t(),cancel:t()});return a}}}return n(t)}}]}],vt="data-ng-animate",yt="$ngAnimatePin",wt=["$animateProvider",function(t){function e(t,e,n,r){return a[t].some(function(t){return t(e,n,r)})}function n(t,e){t=t||{};var n=(t.addClass||"").length>0,r=(t.removeClass||"").length>0;return e?n&&r:n||r}var i=1,o=2,a=this.rules={skip:[],cancel:[],join:[]};a.join.push(function(t,e,r){return!e.structural&&n(e.options)}),a.skip.push(function(t,e,r){return!e.structural&&!n(e.options)}),a.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),a.skip.push(function(t,e,n){return n.structural&&!e.structural}),a.cancel.push(function(t,e,n){return n.structural&&e.structural}),a.cancel.push(function(t,e,n){return n.state===o&&e.structural}),a.cancel.push(function(t,e,n){var r=e.options,i=n.options;return r.addClass&&r.addClass===i.removeClass||r.removeClass&&r.removeClass===i.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function(a,s,c,h,g,m,y,b,x){function C(t,e){return v(t,e,{})}function _(t,e){var n=w(t),r=[],i=U[e];return i&&N(i,function(t){t.node.contains(n)&&r.push(t.callback)}),r}function E(t,e,n,r){a(function(){N(_(e,t),function(t){t(e,n,r)})})}function T(t,r,a){function u(e,n,r,i){E(n,t,r,i),e.progress(n,r,i)}function c(e){K(t,a),p(t,a),a.domOperation(),g.complete(!e)}var h,d;t=l(t),t&&(h=w(t),d=t.parent()),a=f(a);var g=new y;if(!h)return c(),g;I(a.addClass)&&(a.addClass=a.addClass.join(" ")),I(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.from&&!j(a.from)&&(a.from=null),a.to&&!j(a.to)&&(a.to=null);var b=[h.className,a.addClass,a.removeClass].join(" ");if(!X(b))return c(),g;var x=["enter","move","leave"].indexOf(r)>=0,_=!P||O.get(h),T=!_&&D.get(h)||{},$=!!T.state;if(_||$&&T.state==i||(_=!A(t,d,r)),_)return c(),g;x&&k(t);var H={structural:x,element:t,event:r,close:c,options:a,runner:g};if($){var L=e("skip",t,H,T);if(L)return T.state===o?(c(),g):(v(t,T.options,a),T.runner);var N=e("cancel",t,H,T);if(N)T.state===o?T.runner.end():T.structural?T.close():v(t,H.options,T.options);else{var B=e("join",t,H,T);if(B){if(T.state!==o)return r=H.event=T.event,a=v(t,T.options,H.options),g;C(t,a)}}}else C(t,a);var F=H.structural;if(F||(F="animate"===H.event&&Object.keys(H.options.to||{}).length>0||n(H.options)),!F)return c(),S(t),g;x&&M(d);var V=(T.counter||0)+1;return H.counter=V,R(t,i,H),s.$$postDigest(function(){var e=D.get(h),i=!e;e=e||{};var s=t.parent()||[],l=s.length>0&&("animate"===e.event||e.structural||n(e.options));if(i||e.counter!==V||!l)return i&&(K(t,a),p(t,a)),(i||x&&e.event!==r)&&(a.domOperation(),g.end()),void(l||S(t));r=!e.structural&&n(e.options,!0)?"setClass":e.event,e.structural&&M(s),R(t,o);var d=m(t,r,e.options);d.done(function(e){c(!e);var n=D.get(h);n&&n.counter===V&&S(w(t)),u(g,r,"close",{})}),g.setHost(d),u(g,r,"start",{})}),g}function k(t){var e=w(t),n=e.querySelectorAll("["+vt+"]");N(n,function(t){var e=parseInt(t.getAttribute(vt)),n=D.get(t);switch(e){case o:n.runner.end();case i:n&&D.remove(t)}})}function S(t){var e=w(t);e.removeAttribute(vt),D.remove(e)}function $(t,e){return w(t)===w(e)}function M(t){function e(t,e){!e.structural&&n(e.options)&&(e.state===o&&e.runner.end(),S(t))}for(var r=w(t);;){if(!r||r.nodeType!==W)break;var i=D.get(r);i&&e(r,i),r=r.parentNode}}function A(t,e,n){var r,i=!1,o=!1,a=!1,s=t.data(yt);for(s&&(e=s);e&&e.length;){o||(o=$(e,c));var l=e[0];if(l.nodeType!==W)break;var u=D.get(l)||{};if(a||(a=u.structural||O.get(l)),F(r)||r===!0){var h=e.data(Y);V(h)&&(r=h)}if(a&&r===!1)break;o||(o=$(e,c),o||(s=e.data(yt),s&&(e=s))),i||(i=$(e,q)),e=e.parent()}var d=!a||r;return d&&o&&i}function R(t,e,n){n=n||{},n.state=e;var r=w(t);r.setAttribute(vt,e);var i=D.get(r),o=i?H(i,n):n;D.put(r,o)}var D=new g,O=new g,P=null,B=s.$watch(function(){return 0===b.totalPendingRequests},function(t){t&&(B(),s.$$postDigest(function(){s.$$postDigest(function(){null===P&&(P=!0)})}))}),q=L(h[0].body),U={},G=t.classNameFilter(),X=G?function(t){return G.test(t)}:function(){return!0},K=d(x);return{on:function(t,e,n){var r=u(e);U[t]=U[t]||[],U[t].push({node:r,callback:n})},off:function(t,e,n){function r(t,e,n){var r=u(e);return t.filter(function(t){var e=t.node===r&&(!n||t.callback===n);return!e})}var i=U[t];i&&(U[t]=1===arguments.length?null:r(i,e,n))},pin:function(t,e){r(z(t),"element","not an element"),r(z(e),"parentElement","not an element"),t.data(yt,e)},push:function(t,e,n,r){return n=n||{},n.domOperation=r,T(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!P;else{var r=z(t);if(r){var i=w(t),o=O.get(i);1===n?e=!o:(e=!!e,e?o&&O.remove(i):O.put(i,!0))}else e=P=!!t}return e}}}]}],bt=["$$rAF",function(t){return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}],xt=["$q","$$rAFMutex",function(t,e){function n(t){this.setHost(t),this._doneCallbacks=[],this._runInAnimationFrame=e(),this._state=0}var r=0,i=1,o=2;return n.chain=function(t,e){function n(){return r===t.length?void e(!0):void t[r](function(t){return t===!1?void e(!1):(r++,void n())})}var r=0;n()},n.all=function(t,e){function n(n){i=i&&n,++r===t.length&&e(i)}var r=0,i=!0;N(t,function(t){t.done(n)})},n.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===o?t():this._doneCallbacks.push(t)},progress:P,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===r&&(e._state=i,e._runInAnimationFrame(function(){e._resolve(t)}))},_resolve:function(t){this._state!==o&&(N(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=o)}},n}],Ct=["$animateProvider",function(t){function e(t,e){t.data(s,e)}function n(t){t.removeData(s)}function r(t){return t.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function(t,s,l,u,c){var h=[],g=d(t),m=0,v=0,y=[];return function(d,b,x){function C(t){var e="["+o+"]",n=t.hasAttribute(o)?[t]:t.querySelectorAll(e),r=[];return N(n,function(t){var e=t.getAttribute(o);e&&e.length&&r.push(t)}),r}function _(t){var e=[],n={};N(t,function(t,r){var i=t.element,a=w(i),s=t.event,l=["enter","move"].indexOf(s)>=0,u=t.structural?C(a):[];if(u.length){var c=l?"to":"from";N(u,function(t){var e=t.getAttribute(o);n[e]=n[e]||{},n[e][c]={animationID:r,element:L(t)}})}else e.push(t)});var r={},i={};return N(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var l=a?a.animationID:s.animationID,u=l.toString();return void(r[u]||(r[u]=!0,e.push(t[l])))}var c=t[a.animationID],h=t[s.animationID],d=a.animationID.toString();if(!i[d]){var f=i[d]={structural:!0,beforeStart:function(){c.beforeStart(),h.beforeStart()},close:function(){c.close(),h.close()},classes:E(c.classes,h.classes),from:c,to:h,anchors:[]};f.classes.length?e.push(f):(e.push(c),e.push(h))}i[d].anchors.push({out:a.element,"in":s.element})}),e}function E(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],r=0;r<t.length;r++){var i=t[r];if("ng-"!==i.substring(0,3))for(var o=0;o<e.length;o++)if(i===e[o]){n.push(i);break}}return n.join(" ")}function T(t){for(var e=a.length-1;e>=0;e--){var n=a[e];if(l.has(n)){var r=l.get(n),i=r(t);if(i)return i}}}function k(){d.addClass(U),O&&t.addClass(d,O)}function S(t,e){function n(t){r(t).setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function $(){var t=r(d);!t||"leave"===b&&x.$$domOperationFired||t.end()}function M(e){d.off("$destroy",$),n(d),g(d,x),p(d,x),x.domOperation(),O&&t.removeClass(d,O),d.removeClass(U),R.complete(!e)}x=f(x);var A=["enter","move","leave"].indexOf(b)>=0,R=new u({end:function(){M()},cancel:function(){M(!0)}});if(!a.length)return M(),R;e(d,R);var D=i(d.attr("class"),i(x.addClass,x.removeClass)),O=x.tempClasses;O&&(D+=" "+O,x.tempClasses=null);var P;return A||(P=m,m+=1),h.push({element:d,classes:D,event:b,classBasedIndex:P,structural:A,options:x,beforeStart:k,close:M}),d.on("$destroy",$),h.length>1?R:(s.$$postDigest(function(){v=m,m=0,y.length=0;var t=[];N(h,function(e){r(e.element)&&t.push(e)}),h.length=0,N(_(t),function(t){function e(){t.beforeStart();var e,n=t.close,i=t.anchors?t.from.element||t.to.element:t.element;if(r(i)){var o=T(t);o&&(e=o.start)}if(e){var a=e();a.done(function(t){n(!t)}),S(t,a)}else n()}t.structural?e():(y.push({node:w(t.element),fn:e}),t.classBasedIndex===v-1&&(y=y.sort(function(t,e){return e.node.contains(t.node)}).map(function(t){return t.fn}),c(y)))})}),R)}}]}];e.module("ngAnimate",[]).directive("ngAnimateChildren",X).factory("$$rAFMutex",bt).factory("$$rAFScheduler",G).factory("$$AnimateRunner",xt).provider("$$animateQueue",wt).provider("$$animation",Ct).provider("$animateCss",ft).provider("$$animateCssDriver",pt).provider("$$animateJs",gt).provider("$$animateJsDriver",mt)}(window,window.angular),/**
 * @license AngularJS v1.4.2
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(t){return e.lowercase(t.nodeName||t[0]&&t[0].nodeName)}function i(t,n,r){o.directive(t,["$parse","$swipe",function(i,o){var a=75,s=.3,l=30;return function(u,c,h){function d(t){if(!f)return!1;var e=Math.abs(t.y-f.y),r=(t.x-f.x)*n;return p&&a>e&&r>0&&r>l&&s>e/r}var f,p,g=i(h[t]),m=["touch"];e.isDefined(h.ngSwipeDisableMouse)||m.push("mouse"),o.bind(c,{start:function(t,e){f=t,p=!0},cancel:function(t){p=!1},end:function(t,e){d(t)&&u.$apply(function(){c.triggerHandler(r),g(u,{$event:e})})}},m)}}])}var o=e.module("ngTouch",[]);o.factory("$swipe",[function(){function t(t){var e=t.originalEvent||t,n=e.touches&&e.touches.length?e.touches:[e],r=e.changedTouches&&e.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function n(t,n){var r=[];return e.forEach(t,function(t){var e=i[t][n];e&&r.push(e)}),r.join(" ")}var r=10,i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(e,i,o){var a,s,l,u,c=!1;o=o||["mouse","touch"],e.on(n(o,"start"),function(e){l=t(e),c=!0,a=0,s=0,u=l,i.start&&i.start(l,e)});var h=n(o,"cancel");h&&e.on(h,function(t){c=!1,i.cancel&&i.cancel(t)}),e.on(n(o,"move"),function(e){if(c&&l){var n=t(e);if(a+=Math.abs(n.x-u.x),s+=Math.abs(n.y-u.y),u=n,!(r>a&&r>s))return s>a?(c=!1,void(i.cancel&&i.cancel(e))):(e.preventDefault(),void(i.move&&i.move(n,e)))}}),e.on(n(o,"end"),function(e){c&&(c=!1,i.end&&i.end(t(e),e))})}}}]),o.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),o.directive("ngClick",["$parse","$timeout","$rootElement",function(t,n,i){function o(t,e,n,r){return Math.abs(t-n)<m&&Math.abs(e-r)<m}function a(t,e,n){for(var r=0;r<t.length;r+=2)if(o(t[r],t[r+1],e,n))return t.splice(r,r+2),!0;return!1}function s(t){if(!(Date.now()-c>g)){var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].clientX,i=e[0].clientY;1>n&&1>i||d&&d[0]===n&&d[1]===i||(d&&(d=null),"label"===r(t.target)&&(d=[n,i]),a(h,n,i)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur&&t.target.blur()))}}function l(t){var e=t.touches&&t.touches.length?t.touches:[t],r=e[0].clientX,i=e[0].clientY;h.push(r,i),n(function(){for(var t=0;t<h.length;t+=2)if(h[t]==r&&h[t+1]==i)return void h.splice(t,t+2)},g,!1)}function u(t,e){h||(i[0].addEventListener("click",s,!0),i[0].addEventListener("touchstart",l,!0),h=[]),c=Date.now(),a(h,t,e)}var c,h,d,f=750,p=12,g=2500,m=25,v="ng-click-active";return function(n,r,i){function o(){d=!1,r.removeClass(v)}var a,s,l,c,h=t(i.ngClick),d=!1;r.on("touchstart",function(t){d=!0,a=t.target?t.target:t.srcElement,3==a.nodeType&&(a=a.parentNode),r.addClass(v),s=Date.now();var e=t.originalEvent||t,n=e.touches&&e.touches.length?e.touches:[e],i=n[0];l=i.clientX,c=i.clientY}),r.on("touchcancel",function(t){o()}),r.on("touchend",function(t){var n=Date.now()-s,h=t.originalEvent||t,g=h.changedTouches&&h.changedTouches.length?h.changedTouches:h.touches&&h.touches.length?h.touches:[h],m=g[0],v=m.clientX,y=m.clientY,w=Math.sqrt(Math.pow(v-l,2)+Math.pow(y-c,2));d&&f>n&&p>w&&(u(v,y),a&&a.blur(),e.isDefined(i.disabled)&&i.disabled!==!1||r.triggerHandler("click",[t])),o()}),r.onclick=function(t){},r.on("click",function(t,e){n.$apply(function(){h(n,{$event:e||t})})}),r.on("mousedown",function(t){r.addClass(v)}),r.on("mousemove mouseup",function(t){r.removeClass(v)})}}]),i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular),/**
 * @license AngularJS v1.4.2
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";/*
 * HTML Parser By Misko Hevery (misko@hevery.com)
 * based on:  HTML Parser By John Resig (ejohn.org)
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 *
 * // Use like so:
 * htmlParser(htmlString, {
 *     start: function(tag, attrs, unary) {},
 *     end: function(tag) {},
 *     chars: function(text) {},
 *     comment: function(text) {}
 * });
 *
 */
function r(){this.$get=["$$sanitizeUri",function(t){return function(e){var n=[];return a(e,u(n,function(e,n){return!/^unsafe/.test(t(e,n))})),n.join("")}}]}function i(t){var n=[],r=u(n,e.noop);return r.chars(t),n.join("")}function o(t,n){var r,i={},o=t.split(",");for(r=0;r<o.length;r++)i[n?e.lowercase(o[r]):o[r]]=!0;return i}function a(t,n){function r(t,r,o,a){if(r=e.lowercase(r),T[r])for(;w.last()&&k[w.last()];)i("",w.last());E[r]&&w.last()==r&&i("",r),a=x[r]||!!a,a||w.push(r);var l={};o.replace(f,function(t,e,n,r,i){var o=n||r||i||"";l[e]=s(o)}),n.start&&n.start(r,l,a)}function i(t,r){var i,o=0;if(r=e.lowercase(r))for(o=w.length-1;o>=0&&w[o]!=r;o--);if(o>=0){for(i=w.length-1;i>=o;i--)n.end&&n.end(w[i]);w.length=o}}"string"!=typeof t&&(t=null===t||"undefined"==typeof t?"":""+t);var o,a,l,u,w=[],b=t;for(w.last=function(){return w[w.length-1]};t;){if(u="",a=!0,w.last()&&$[w.last()]?(t=t.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+w.last()+"[^>]*>","i"),function(t,e){return e=e.replace(m,"$1").replace(y,"$1"),n.chars&&n.chars(s(e)),""}),i("",w.last())):(0===t.indexOf("<!--")?(o=t.indexOf("--",4),o>=0&&t.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(t.substring(4,o)),t=t.substring(o+3),a=!1)):v.test(t)?(l=t.match(v),l&&(t=t.replace(l[0],""),a=!1)):g.test(t)?(l=t.match(d),l&&(t=t.substring(l[0].length),l[0].replace(d,i),a=!1)):p.test(t)&&(l=t.match(h),l?(l[4]&&(t=t.substring(l[0].length),l[0].replace(h,r)),a=!1):(u+="<",t=t.substring(1))),a&&(o=t.indexOf("<"),u+=0>o?t:t.substring(0,o),t=0>o?"":t.substring(o),n.chars&&n.chars(s(u)))),t==b)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",t);b=t}i()}function s(t){return t?(P.innerHTML=t.replace(/</g,"&lt;"),P.textContent):""}function l(t){return t.replace(/&/g,"&amp;").replace(w,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(b,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(t,n){var r=!1,i=e.bind(t,t.push);return{start:function(t,o,a){t=e.lowercase(t),!r&&$[t]&&(r=t),r||M[t]!==!0||(i("<"),i(t),e.forEach(o,function(r,o){var a=e.lowercase(o),s="img"===t&&"src"===a||"background"===a;O[a]!==!0||A[a]===!0&&!n(r,s)||(i(" "),i(o),i('="'),i(l(r)),i('"'))}),i(a?"/>":">"))},end:function(t){t=e.lowercase(t),r||M[t]!==!0||(i("</"),i(t),i(">")),t==r&&(r=!1)},chars:function(t){r||i(l(t))}}}var c=e.$$minErr("$sanitize"),h=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,d=/^<\/\s*([\w:-]+)[^>]*>/,f=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,g=/^<\//,m=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,x=o("area,br,col,hr,img,wbr"),C=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),_=o("rp,rt"),E=e.extend({},_,C),T=e.extend({},C,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),k=e.extend({},_,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),S=o("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),$=o("script,style"),M=e.extend({},x,T,k,E,S),A=o("background,cite,href,longdesc,src,usemap,xlink:href"),R=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),D=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),O=e.extend({},A,D,R),P=document.createElement("pre");e.module("ngSanitize",[]).provider("$sanitize",r),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/i,r=/^mailto:/i;return function(o,a){function s(t){t&&f.push(i(t))}function l(t,n){f.push("<a "),e.isDefined(a)&&f.push('target="',a,'" '),f.push('href="',t.replace(/"/g,"&quot;"),'">'),s(n),f.push("</a>")}if(!o)return o;for(var u,c,h,d=o,f=[];u=d.match(n);)c=u[0],u[2]||u[4]||(c=(u[3]?"http://":"mailto:")+c),h=u.index,s(d.substr(0,h)),l(c,u[0].replace(r,"")),d=d.substring(h+u[0].length);return s(d),t(f.join(""))}}])}(window,window.angular),/**
 * State-based routing for AngularJS
 * @version v0.2.15
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function r(t,e){return B(new(B(function(){},{prototype:t})),e)}function i(t){return I(arguments,function(e){e!==t&&I(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function o(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}function a(t){if(Object.keys)return Object.keys(t);var e=[];return I(t,function(t,n){e.push(n)}),e}function s(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in t&&t[r]===e)return r;return-1}function l(t,e,n,r){var i,l=o(n,r),u={},c=[];for(var h in l)if(l[h].params&&(i=a(l[h].params),i.length))for(var d in i)s(c,i[d])>=0||(c.push(i[d]),u[i[d]]=t[i[d]]);return B({},u,e)}function u(t,e,n){if(!n){n=[];for(var r in t)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!=e[o])return!1}return!0}function c(t,e){var n={};return I(t,function(t){n[t]=e[t]}),n}function h(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return I(n,function(n){n in t&&(e[n]=t[n])}),e}function d(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in t)-1==s(n,r)&&(e[r]=t[r]);return e}function f(t,e){var n=N(t),r=n?[]:{};return I(t,function(t,i){e(t,i)&&(r[n?r.length:i]=t)}),r}function p(t,e){var n=N(t)?[]:{};return I(t,function(t,r){n[r]=e(t,r)}),n}function g(t,e){var r=1,o=2,l={},u=[],c=l,h=B(t.when(l),{$$promises:l,$$values:l});this.study=function(l){function f(t,n){if(y[n]!==o){if(v.push(n),y[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=r,H(t))m.push(n,[function(){return e.get(t)}],u);else{var i=e.annotate(t);I(i,function(t){t!==n&&l.hasOwnProperty(t)&&f(l[t],t)}),m.push(n,t,i)}v.pop(),y[n]=o}}function p(t){return L(t)&&t.then&&t.$$promises}if(!L(l))throw new Error("'invocables' must be an object");var g=a(l||{}),m=[],v=[],y={};return I(l,f),l=v=y=null,function(r,o,a){function s(){--b||(x||i(w,o.$$values),v.$$values=w,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,f.resolve(w))}function l(t){v.$$failure=t,f.reject(t)}function u(n,i,o){function u(t){h.reject(t),l(t)}function c(){if(!O(v.$$failure))try{h.resolve(e.invoke(i,a,w)),h.promise.then(function(t){w[n]=t,s()},u)}catch(t){u(t)}}var h=t.defer(),d=0;I(o,function(t){y.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(d++,y[t].then(function(e){w[t]=e,--d||c()},u))}),d||c(),y[n]=h.promise}if(p(r)&&a===n&&(a=o,o=r,r=null),r){if(!L(r))throw new Error("'locals' must be an object")}else r=c;if(o){if(!p(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=h;var f=t.defer(),v=f.promise,y=v.$$promises={},w=B({},r),b=1+m.length/3,x=!1;if(O(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&i(w,d(o.$$inheritedValues,g)),B(y,o.$$promises),o.$$values?(x=i(w,d(o.$$values,g)),v.$$inheritedValues=d(o.$$values,g),s()):(o.$$inheritedValues&&(v.$$inheritedValues=d(o.$$inheritedValues,g)),o.then(s,l));for(var C=0,_=m.length;_>C;C+=3)r.hasOwnProperty(m[C])?s():u(m[C],m[C+1],m[C+2]);return v}},this.resolve=function(t,e,n,r){return this.study(t)(e,n,r)}}function m(t,e,n){this.fromConfig=function(t,e,n){return O(t.template)?this.fromString(t.template,e):O(t.templateUrl)?this.fromUrl(t.templateUrl,e):O(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return P(t)?t(e):t},this.fromUrl=function(n,r){return P(n)&&(n=n(r)),null==n?null:t.get(n,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,r){return n.invoke(t,null,r||{params:e})}}function v(t,e,i){function o(e,n,r,i){if(m.push(e),p[e])return p[e];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(g[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return g[e]=new F.Param(e,n,r,i),g[e]}function a(t,e,n,r){var i=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return o+i[0]+e+i[1]}function s(i,o){var a,s,l,u,c;return a=i[2]||i[3],c=e.params[a],l=t.substring(d,i.index),s=o?i[4]:i[4]||("*"==i[1]?".*":null),u=F.type(s||"string")||r(F.type("string"),{pattern:new RegExp(s,e.caseInsensitive?"i":n)}),{id:a,regexp:s,segment:l,type:u,cfg:c}}e=B({params:{}},L(e)?e:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h="^",d=0,f=this.segments=[],p=i?i.params:{},g=this.params=i?i.params.$$new():new F.ParamSet,m=[];this.source=t;for(var v,y,w;(l=u.exec(t))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),h+=a(v.segment,y.type.pattern.source,y.squash,y.isOptional),f.push(v.segment),d=u.lastIndex;w=t.substring(d);var b=w.indexOf("?");if(b>=0){var x=this.sourceSearch=w.substring(b);if(w=w.substring(0,b),this.sourcePath=t.substring(0,d+b),x.length>0)for(d=0;l=c.exec(x);)v=s(l,!0),y=o(v.id,v.type,v.cfg,"search"),d=u.lastIndex}else this.sourcePath=t,this.sourceSearch="";h+=a(w)+(e.strict===!1?"/?":"")+"$",f.push(w),this.regexp=new RegExp(h,e.caseInsensitive?"i":n),this.prefix=f[0],this.$$paramNames=m}function y(t){B(this,t)}function w(){function t(t){return null!=t?t.toString().replace(/\//g,"%2F"):t}function i(t){return null!=t?t.toString().replace(/%2F/g,"/"):t}function o(){return{strict:g,caseInsensitive:d}}function l(t){return P(t)||N(t)&&P(t[t.length-1])}function u(){for(;C.length;){var t=C.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(b[t.name],h.invoke(t.def))}}function c(t){B(this,t||{})}F=this;var h,d=!1,g=!0,m=!1,b={},x=!0,C=[],_={string:{encode:t,decode:i,is:function(t){return null==t||!O(t)||"string"==typeof t},pattern:/[^\/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return O(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^\/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};w.$$getDefaultValue=function(t){if(!l(t.value))return t.value;if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(t.value)},this.caseInsensitive=function(t){return O(t)&&(d=t),d},this.strictMode=function(t){return O(t)&&(g=t),g},this.defaultSquashPolicy=function(t){if(!O(t))return m;if(t!==!0&&t!==!1&&!H(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return m=t,t},this.compile=function(t,e){return new v(t,B(o(),e))},this.isMatcher=function(t){if(!L(t))return!1;var e=!0;return I(v.prototype,function(n,r){P(n)&&(e=e&&O(t[r])&&P(t[r]))}),e},this.type=function(t,e,n){if(!O(e))return b[t];if(b.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return b[t]=new y(B({name:t},e)),n&&(C.push({name:t,def:n}),x||u()),this},I(_,function(t,e){b[e]=new y(B({name:e},t))}),b=r(b,{}),this.$get=["$injector",function(t){return h=t,x=!1,u(),I(_,function(t,e){b[e]||(b[e]=new y(t))}),this}],this.Param=function(t,e,r,i){function o(t){var e=L(t)?a(t):[],n=-1===s(e,"value")&&-1===s(e,"type")&&-1===s(e,"squash")&&-1===s(e,"array");return n&&(t={value:t}),t.$$fn=l(t.value)?t.value:function(){return t.value},t}function u(e,n,r){if(e.type&&n)throw new Error("Param '"+t+"' has two type configurations.");return n?n:e.type?e.type instanceof y?e.type:new y(e.type):"config"===r?b.any:b.string}function c(){var e={array:"search"===i?"auto":!1},n=t.match(/\[\]$/)?{array:!0}:{};return B(e,n,r).array}function d(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!O(n)||null==n)return m;if(n===!0||H(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function g(t,e,r,i){var o,a,l=[{from:"",to:r||e?n:""},{from:null,to:r||e?n:""}];return o=N(t.replace)?t.replace:[],H(i)&&o.push({from:i,to:n}),a=p(o,function(t){return t.from}),f(l,function(t){return-1===s(a,t.from)}).concat(o)}function v(){if(!h)throw new Error("Injectable functions cannot be called at configuration time");var t=h.invoke(r.$$fn);if(null!==t&&t!==n&&!C.type.is(t))throw new Error("Default value ("+t+") for parameter '"+C.id+"' is not an instance of Type ("+C.type.name+")");return t}function w(t){function e(t){return function(e){return e.from===t}}function n(t){var n=p(f(C.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),O(t)?C.type.$normalize(t):v()}function x(){return"{Param:"+t+" "+e+" squash: '"+T+"' optional: "+E+"}"}var C=this;r=o(r),e=u(r,e,i);var _=c();e=_?e.$asArray(_,"search"===i):e,"string"!==e.name||_||"path"!==i||r.value!==n||(r.value="");var E=r.value!==n,T=d(r,E),k=g(r,_,E,T);B(this,{id:t,type:e,location:i,array:_,squash:T,replace:k,isOptional:E,value:w,dynamic:n,config:r,toString:x})},c.prototype={$$new:function(){return r(this,B(new c,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,r=a(c.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),I(e,function(e){I(a(e),function(e){-1===s(t,e)&&-1===s(r,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return I(n.$$keys(),function(r){e[r]=n[r].value(t&&t[r])}),e},$$equals:function(t,e){var n=!0,r=this;return I(r.$$keys(),function(i){var o=t&&t[i],a=e&&e[i];r[i].type.equals(o,a)||(n=!1)}),n},$$validates:function(t){var r,i,o,a,s,l=this.$$keys();for(r=0;r<l.length&&(i=this[l[r]],o=t[l[r]],o!==n&&null!==o||!i.isOptional);r++){if(a=i.type.$normalize(o),!i.type.is(a))return!1;if(s=i.type.encode(a),e.isString(s)&&!i.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function b(t,r){function i(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function o(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function a(t,e,n){if(!n)return!1;var r=t.invoke(e,e,{$match:n});return O(r)?r:!0}function s(r,i,o,a){function s(t,e,n){return"/"===g?t:e?g.slice(0,-1)+t:n?g.slice(1)+t:t}function d(t){function e(t){var e=t(o,r);return e?(H(e)&&r.replace().url(e),!0):!1}if(!t||!t.defaultPrevented){{p&&r.url()===p}p=n;var i,a=u.length;for(i=0;a>i;i++)if(e(u[i]))return;c&&e(c)}}function f(){return l=l||i.$on("$locationChangeSuccess",d)}var p,g=a.baseHref(),m=r.url();return h||f(),{sync:function(){d()},listen:function(){return f()},update:function(t){return t?void(m=r.url()):void(r.url()!==m&&(r.url(m),r.replace()))},push:function(t,e,i){var o=t.format(e||{});null!==o&&e&&e["#"]&&(o+="#"+e["#"]),r.url(o),p=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var a=t.html5Mode();e.isObject(a)&&(a=a.enabled);var l=n.format(i);if(o=o||{},a||null===l||(l="#"+t.hashPrefix()+l),null!==l&&i&&i["#"]&&(l+="#"+i["#"]),l=s(l,a,o.absolute),!o.absolute||!l)return l;var u=!a&&l?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,u,l].join("")}}}var l,u=[],c=null,h=!1;this.rule=function(t){if(!P(t))throw new Error("'rule' must be a function");return u.push(t),this},this.otherwise=function(t){if(H(t)){var e=t;t=function(){return e}}else if(!P(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,e){var n,s=H(e);if(H(t)&&(t=r.compile(t)),!s&&!P(e)&&!N(e))throw new Error("invalid 'handler' in when()");var l={matcher:function(t,e){return s&&(n=r.compile(e),e=["$match",function(t){return n.format(t)}]),B(function(n,r){return a(n,e,t.exec(r.path(),r.search()))},{prefix:H(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=e,e=["$match",function(t){return o(n,t)}]),B(function(n,r){return a(n,e,t.exec(r.path()))},{prefix:i(t)})}},u={matcher:r.isMatcher(t),regex:t instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),h=t},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function x(t,i){function o(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function d(t,e){if(!t)return n;var r=H(t),i=r?t:t.name,a=o(i);if(a){if(!e)throw new Error("No reference point given for path '"+i+"'");e=d(e);for(var s=i.split("."),l=0,u=s.length,c=e;u>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;s=s.slice(l).join("."),i=c.name+(c.name&&s?".":"")+s}var h=T[i];return!h||!r&&(r||h!==t&&h.self!==t)?n:h}function f(t,e){k[t]||(k[t]=[]),k[t].push(e)}function g(t){for(var e=k[t]||[];e.length;)m(e.shift())}function m(e){e=r(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!H(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(T.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):H(e.parent)?e.parent:L(e.parent)&&H(e.parent.name)?e.parent.name:"";if(i&&!T[i])return f(i,e.self);for(var o in $)P($[o])&&(e[o]=$[o](e,$.$delegates[o]));return T[n]=e,!e[S]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){E.$current.navigable==e&&u(t,n)||E.transitionTo(e,t,{inherit:!0,location:!1})}]),g(n),e}function v(t){return t.indexOf("*")>-1}function y(t){for(var e=t.split("."),n=E.$current.name.split("."),r=0,i=e.length;i>r;r++)"*"===e[r]&&(n[r]="*");return"**"===e[0]&&(n=n.slice(s(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(s(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length?!1:n.join("")===e.join("")}function w(t,e){return H(t)&&!O(e)?$[t]:P(e)&&H(t)?($[t]&&!$.$delegates[t]&&($.$delegates[t]=$[t]),$[t]=e,this):this}function b(t,e){return L(t)?e=t:e.name=t,m(e),this}function x(t,i,o,s,h,f,g,m,w){function b(e,n,r,o){var a=t.$broadcast("$stateNotFound",e,n,r);if(a.defaultPrevented)return g.update(),M;if(!a.retry)return null;if(o.$retry)return g.update(),A;var s=E.transition=i.when(a.retry);return s.then(function(){return s!==E.transition?k:(e.options.$retry=!0,E.transitionTo(e.to,e.toParams,e.options))},function(){return M}),g.update(),s}function x(t,n,r,a,l,u){function d(){var n=[];return I(t.views,function(r,i){var a=r.resolve&&r.resolve!==t.resolve?r.resolve:{};a.$template=[function(){return o.load(i,{view:r,locals:l.globals,params:f,notify:u.notify})||""}],n.push(h.resolve(a,l.globals,l.resolve,t).then(function(n){if(P(r.controllerProvider)||N(r.controllerProvider)){var o=e.extend({},a,l.globals);n.$$controller=s.invoke(r.controllerProvider,null,o)}else n.$$controller=r.controller;n.$$state=t,n.$$controllerAs=r.controllerAs,l[i]=n}))}),i.all(n).then(function(){return l.globals})}var f=r?n:c(t.params.$$keys(),n),p={$stateParams:f};l.resolve=h.resolve(t.resolve,p,l.resolve,t);var g=[l.resolve.then(function(t){l.globals=t})];return a&&g.push(a),i.all(g).then(d).then(function(t){return l})}var k=i.reject(new Error("transition superseded")),$=i.reject(new Error("transition prevented")),M=i.reject(new Error("transition aborted")),A=i.reject(new Error("transition failed"));return _.locals={resolve:null,globals:{$stateParams:{}}},E={params:{},current:_.self,$current:_,transition:null},E.reload=function(t){return E.transitionTo(E.current,f,{reload:t||!0,inherit:!1,notify:!0})},E.go=function(t,e,n){return E.transitionTo(t,e,B({inherit:!0,relative:E.$current},n))},E.transitionTo=function(e,n,o){n=n||{},o=B({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,u=E.$current,h=E.params,p=u.path,m=d(e,o.relative),v=n["#"];if(!O(m)){var y={to:e,toParams:n,options:o},w=b(y,u.self,h,o);if(w)return w;if(e=y.to,n=y.toParams,o=y.options,m=d(e,o.relative),!O(m)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(m[S])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=l(f,n||{},E.$current,m)),!m.params.$$validates(n))return A;n=m.params.$$values(n),e=m;var T=e.path,M=0,R=T[M],D=_.locals,P=[];if(o.reload){if(H(o.reload)||L(o.reload)){if(L(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var N=o.reload===!0?p[0]:d(o.reload);if(o.reload&&!N)throw new Error("No such reload state '"+(H(o.reload)?o.reload:o.reload.name)+"'");for(;R&&R===p[M]&&R!==N;)D=P[M]=R.locals,M++,R=T[M]}}else for(;R&&R===p[M]&&R.ownParams.$$equals(n,h);)D=P[M]=R.locals,M++,R=T[M];if(C(e,n,u,h,D,o))return v&&(n["#"]=v),E.params=n,j(E.params,f),o.location&&e.navigable&&e.navigable.url&&(g.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),g.update(!0)),E.transition=null,i.when(E.current);if(n=c(e.params.$$keys(),n||{}),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,u.self,h).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,u.self,h),g.update(),$;for(var I=i.when(D),F=M;F<T.length;F++,R=T[F])D=P[F]=r(D),I=x(R,n,R===e,I,D,o);var V=E.transition=I.then(function(){var r,i,a;if(E.transition!==V)return k;for(r=p.length-1;r>=M;r--)a=p[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=M;r<T.length;r++)i=T[r],i.locals=P[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return v&&(n["#"]=v),E.transition!==V?k:(E.$current=e,E.current=e.self,E.params=n,j(E.params,f),E.transition=null,o.location&&e.navigable&&g.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,u.self,h),g.update(!0),E.current)},function(r){return E.transition!==V?k:(E.transition=null,a=t.$broadcast("$stateChangeError",e.self,n,u.self,h,r),a.defaultPrevented||g.update(),i.reject(r))});return V},E.is=function(t,e,r){r=B({relative:E.$current},r||{});var i=d(t,r.relative);return O(i)?E.$current!==i?!1:e?u(i.params.$$values(e),f):!0:n},E.includes=function(t,e,r){if(r=B({relative:E.$current},r||{}),H(t)&&v(t)){if(!y(t))return!1;t=E.$current.name}var i=d(t,r.relative);return O(i)?O(E.$current.includes[i.name])?e?u(i.params.$$values(e),f,a(e)):!0:!1:n},E.href=function(t,e,r){r=B({lossy:!0,inherit:!0,absolute:!1,relative:E.$current},r||{});var i=d(t,r.relative);if(!O(i))return null;r.inherit&&(e=l(f,e||{},E.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&o.url!==n&&null!==o.url?g.href(o.url,c(i.params.$$keys().concat("#"),e||{}),{absolute:r.absolute}):null},E.get=function(t,e){if(0===arguments.length)return p(a(T),function(t){return T[t].self});var n=d(t,e||E.$current);return n&&n.self?n.self:null},E}function C(t,e,n,r,i,o){function a(t,e,n){function r(e){return"search"!=t.params[e].location}var i=t.params.$$keys().filter(r),o=h.apply({},[t.params].concat(i)),a=new F.ParamSet(o);return a.$$equals(e,n)}return!o.reload&&t===n&&(i===n.locals||t.self.reloadOnSearch===!1&&a(n,r,e))?!0:void 0}var _,E,T={},k={},S="abstract",$={parent:function(t){if(O(t.parent)&&t.parent)return d(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?d(e[1]):_},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=B({},t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(H(e))return"^"==e.charAt(0)?i.compile(e.substring(1),n):(t.parent.navigable||_).url.concat(e,n);if(!e||i.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new F.ParamSet;return I(t.params||{},function(t,n){e[n]||(e[n]=new F.Param(n,null,t,"config"))}),e},params:function(t){return t.parent&&t.parent.params?B(t.parent.params.$$new(),t.ownParams):new F.ParamSet},views:function(t){var e={};return I(O(t.views)?t.views:{"":t},function(n,r){r.indexOf("@")<0&&(r+="@"+t.parent.name),e[r]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?B({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};_=m({name:"",url:"^",views:null,"abstract":!0}),_.navigable=null,this.decorator=w,this.state=b,this.$get=x,x.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function C(){function t(t,e){return{load:function(n,r){var i,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=B(o,r),r.view&&(i=e.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&t.$broadcast("$viewContentLoading",r),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function _(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}function E(t,n,r,i){function o(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function a(t,e){var n=function(){return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}};if(u)return{enter:function(t,e,n){var r=u.enter(t,null,e,n);r&&r.then&&r.then(n)},leave:function(t,e){var n=u.leave(t,e);n&&n.then&&n.then(e)}};if(l){var r=l&&l(e,t);return{enter:function(t,e,n){r.enter(t,null,e),n()},leave:function(t,e){r.leave(t),e()}}}return n()}var s=o(),l=s("$animator"),u=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,l){function u(){h&&(h.remove(),h=null),f&&(f.$destroy(),f=null),d&&(v.leave(d,function(){h=null}),h=d,d=null)}function c(a){var c,h=k(n,l,o,i),y=h&&t.$current&&t.$current.locals[h];if(a||y!==p){c=n.$new(),p=t.$current.locals[h];var w=s(c,function(t){v.enter(t,o,function(){f&&f.$emit("$viewContentAnimationEnded"),(e.isDefined(m)&&!m||n.$eval(m))&&r(t)}),u()});d=w,f=c,f.$emit("$viewContentLoaded"),f.$eval(g)}}var h,d,f,p,g=l.onload||"",m=l.autoscroll,v=a(l,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function T(t,e,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,a,s){var l=n.$current,u=k(i,s,a,r),c=l&&l.locals[u];if(c){a.data("$uiView",{name:u,state:c.$$state}),a.html(c.$template?c.$template:o);var h=t(a.contents());if(c.$$controller){c.$scope=i,c.$element=a;var d=e(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=d),a.data("$ngControllerController",d),a.children().data("$ngControllerController",d)}h(i)}}}}}function k(t,e,n,r){var i=r(e.uiView||e.name||"")(t),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function S(t,e){var n,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t=e+"("+r[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function $(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function M(t,n){var r=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,o,a,s){var l=S(a.uiSref,t.current.name),u=null,c=$(o)||t.$current,h="[object SVGAnimatedString]"===Object.prototype.toString.call(o.prop("href"))?"xlink:href":"href",d=null,f="A"===o.prop("tagName").toUpperCase(),p="FORM"===o[0].nodeName,g=p?"action":h,m=!0,v={relative:c,inherit:!0},y=i.$eval(a.uiSrefOpts)||{};e.forEach(r,function(t){t in y&&(v[t]=y[t])});var w=function(n){if(n&&(u=e.copy(n)),m){d=t.href(l.state,u,v);var r=s[1]||s[0];return r&&r.$$addStateInfo(l.state,u),null===d?(m=!1,!1):void a.$set(g,d)}};l.paramExpr&&(i.$watch(l.paramExpr,function(t,e){t!==u&&w(t)},!0),u=e.copy(i.$eval(l.paramExpr))),w(),p||o.bind("click",function(e){var r=e.which||e.button;if(!(r>1||e.ctrlKey||e.metaKey||e.shiftKey||o.attr("target"))){var i=n(function(){t.go(l.state,u,v)});e.preventDefault();var a=f&&!d?1:0;e.preventDefault=function(){a--<=0&&n.cancel(i)}}})}}}function A(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,r,i){function o(){a()?r.addClass(l):r.removeClass(l)}function a(){for(var t=0;t<u.length;t++)if(s(u[t].state,u[t].params))return!0;return!1}function s(e,n){return"undefined"!=typeof i.uiSrefActiveEq?t.is(e.name,n):t.includes(e.name,n)}var l,u=[];l=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(e),this.$$addStateInfo=function(e,n){var i=t.get(e,$(r));u.push({state:i||{name:e},params:n}),o()},e.$on("$stateChangeSuccess",o)}]}}function R(t){var e=function(e){return t.is(e)};return e.$stateful=!0,e}function D(t){var e=function(e){return t.includes(e)};return e.$stateful=!0,e}var O=e.isDefined,P=e.isFunction,H=e.isString,L=e.isObject,N=e.isArray,I=e.forEach,B=e.extend,j=e.copy;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",g),m.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",m);var F;v.prototype.concat=function(t,e){var n={caseInsensitive:F.caseInsensitive(),strict:F.strictMode(),squash:F.defaultSquashPolicy()};return new v(this.sourcePath+t+this.sourceSearch,B(n,e),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/g,"-")}var r=e(t).split(/-(?!\\)/),i=p(r,e);return p(i,n).reverse()}var r=this.regexp.exec(t);if(!r)return null;e=e||{};var i,o,a,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;u>i;i++){a=s[i];var h=this.params[a],d=r[i+1];for(o=0;o<h.replace;o++)h.replace[o].from===d&&(d=h.replace[o].to);d&&h.array===!0&&(d=n(d)),c[a]=h.value(d)}for(;l>i;i++)a=s[i],c[a]=this.params[a].value(e[a]);return c},v.prototype.parameters=function(t){return O(t)?this.params[t]||null:this.$$paramNames},v.prototype.validates=function(t){return this.params.$$validates(t)},v.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(t))return null;var o,a=!1,s=n.length-1,l=r.length,u=n[0];for(o=0;l>o;o++){var c=s>o,h=r[o],d=i[h],f=d.value(t[h]),g=d.isOptional&&d.type.equals(d.value(),f),m=g?d.squash:!1,v=d.type.encode(f);if(c){var y=n[o+1];if(m===!1)null!=v&&(u+=N(v)?p(v,e).join("-"):encodeURIComponent(v)),u+=y;else if(m===!0){var w=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=y.match(w)[1]}else H(m)&&(u+=m+y)}else{if(null==v||g&&m!==!1)continue;N(v)||(v=[v]),v=p(v,encodeURIComponent).join("&"+h+"="),u+=(a?"&":"?")+(h+"="+v),a=!0}}return u},y.prototype.is=function(t,e){return!0},y.prototype.encode=function(t,e){return t},y.prototype.decode=function(t,e){return t},y.prototype.equals=function(t,e){return t==e},y.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},y.prototype.$asArray=function(t,e){function r(t,e){function r(t,e){return function(){return t[e].apply(t,arguments)}}function i(t){return N(t)?t:O(t)?[t]:[]}function o(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function a(t){return!t}function s(t,e){return function(n){n=i(n);var r=p(n,t);return e===!0?0===f(r,a).length:o(r)}}function l(t){return function(e,n){var r=i(e),o=i(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!t(r[a],o[a]))return!1;return!0}}this.encode=s(r(t,"encode")),this.decode=s(r(t,"decode")),this.is=s(r(t,"is"),!0),this.equals=l(r(t,"equals")),this.pattern=t.pattern,this.$normalize=s(r(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new r(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",w),e.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),b.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",b),x.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").value("$stateParams",{}).provider("$state",x),C.$inject=[],e.module("ui.router.state").provider("$view",C),e.module("ui.router.state").provider("$uiViewScroll",_),E.$inject=["$state","$injector","$uiViewScroll","$interpolate"],T.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",E),e.module("ui.router.state").directive("uiView",T),M.$inject=["$state","$timeout"],A.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",M).directive("uiSrefActive",A).directive("uiSrefActiveEq",A),R.$inject=["$state"],D.$inject=["$state"],e.module("ui.router.state").filter("isState",R).filter("includedByState",D)}(window,window.angular),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.5
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}function n(n){n&&3===n.which||(t(i).remove(),t(o).each(function(){var r=t(this),i=e(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(i[0],n.target)||(i.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",o))))}))}function r(e){return this.each(function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof e&&r[e].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.5",a.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var o=e(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=t.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=t(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=e(r),a=i.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+s);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=r,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),function(t){t(["jquery"],function(t){return function(){function e(t,e,n){return p({type:x.error,iconClass:g().iconClasses.error,message:t,optionsOverride:n,title:e})}function n(e,n){return e||(e=g()),v=t("#"+e.containerId),v.length?v:(n&&(v=h(e)),v)}function r(t,e,n){return p({type:x.info,iconClass:g().iconClasses.info,message:t,optionsOverride:n,title:e})}function i(t){y=t}function o(t,e,n){return p({type:x.success,iconClass:g().iconClasses.success,message:t,optionsOverride:n,title:e})}function a(t,e,n){return p({type:x.warning,iconClass:g().iconClasses.warning,message:t,optionsOverride:n,title:e})}function s(t,e){var r=g();v||n(r),c(t,r,e)||u(r)}function l(e){var r=g();return v||n(r),e&&0===t(":focus",e).length?void m(e):void(v.children().length&&v.remove())}function u(e){for(var n=v.children(),r=n.length-1;r>=0;r--)c(t(n[r]),e)}function c(e,n,r){var i=r&&r.force?r.force:!1;return e&&(i||0===t(":focus",e).length)?(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){m(e)}}),!0):!1}function h(e){return v=t("<div/>").attr("id",e.containerId).addClass(e.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo(t(e.target)),v}function d(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function f(t){y&&y(t)}function p(e){function r(){a(),l(),u(),c(),h(),s()}function i(){k.hover(x,y),!_.onclick&&_.tapToDismiss&&k.click(p),_.closeButton&&A&&A.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&t.cancelBubble!==!0&&(t.cancelBubble=!0),p(!0)}),_.onclick&&k.click(function(){_.onclick(),p()})}function o(){k.hide(),k[_.showMethod]({duration:_.showDuration,easing:_.showEasing,complete:_.onShown}),_.timeOut>0&&(T=setTimeout(p,_.timeOut),R.maxHideTime=parseFloat(_.timeOut),R.hideEta=(new Date).getTime()+R.maxHideTime,_.progressBar&&(R.intervalId=setInterval(C,10)))}function a(){e.iconClass&&k.addClass(_.toastClass).addClass(E)}function s(){_.newestOnTop?v.prepend(k):v.append(k)}function l(){e.title&&(S.append(e.title).addClass(_.titleClass),k.append(S))}function u(){e.message&&($.append(e.message).addClass(_.messageClass),k.append($))}function c(){_.closeButton&&(A.addClass("toast-close-button").attr("role","button"),k.prepend(A))}function h(){_.progressBar&&(M.addClass("toast-progress"),k.prepend(M))}function d(t,e){if(t.preventDuplicates){if(e.message===w)return!0;w=e.message}return!1}function p(e){return!t(":focus",k).length||e?(clearTimeout(R.intervalId),k[_.hideMethod]({duration:_.hideDuration,easing:_.hideEasing,complete:function(){m(k),_.onHidden&&"hidden"!==D.state&&_.onHidden(),D.state="hidden",D.endTime=new Date,f(D)}})):void 0}function y(){(_.timeOut>0||_.extendedTimeOut>0)&&(T=setTimeout(p,_.extendedTimeOut),R.maxHideTime=parseFloat(_.extendedTimeOut),R.hideEta=(new Date).getTime()+R.maxHideTime)}function x(){clearTimeout(T),R.hideEta=0,k.stop(!0,!0)[_.showMethod]({duration:_.showDuration,easing:_.showEasing})}function C(){var t=(R.hideEta-(new Date).getTime())/R.maxHideTime*100;M.width(t+"%")}var _=g(),E=e.iconClass||_.iconClass;if("undefined"!=typeof e.optionsOverride&&(_=t.extend(_,e.optionsOverride),E=e.optionsOverride.iconClass||E),!d(_,e)){b++,v=n(_,!0);var T=null,k=t("<div/>"),S=t("<div/>"),$=t("<div/>"),M=t("<div/>"),A=t(_.closeHtml),R={intervalId:null,hideEta:null,maxHideTime:null},D={toastId:b,state:"visible",startTime:new Date,options:_,map:e};return r(),o(),i(),f(D),_.debug&&console&&console.log(D),k}}function g(){return t.extend({},d(),C.options)}function m(t){v||(v=n()),t.is(":visible")||(t.remove(),t=null,0===v.children().length&&(v.remove(),w=void 0))}var v,y,w,b=0,x={error:"error",info:"info",success:"success",warning:"warning"},C={clear:s,remove:l,error:e,getContainer:n,info:r,options:{},subscribe:i,success:o,version:"2.1.1",warning:a};return C}()})}("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)}),
//! license : MIT
//! momentjs.com
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return An.apply(null,arguments)}function e(t){An=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function i(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var n in e)o(e,n)&&(t[n]=e[n]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function s(t,e,n,r){return Tt(t,e,n,r,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(t){return null==t._pf&&(t._pf=l()),t._pf}function c(t){if(null==t._isValid){var e=u(t);t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=s(0/0);return null!=t?a(u(e),t):u(e).userInvalidated=!0,e}function d(t,e){var n,r,i;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=u(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Dn.length>0)for(n in Dn)r=Dn[n],i=e[r],"undefined"!=typeof i&&(t[r]=i);return t}function f(e){d(this,e),this._d=new Date(+e._d),On===!1&&(On=!0,t.updateOffset(this),On=!1)}function p(t){return t instanceof f||null!=t&&null!=t._isAMomentObject}function g(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function m(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;i>r;r++)(n&&t[r]!==e[r]||!n&&g(t[r])!==g(e[r]))&&a++;return a+o}function v(){}function y(t){return t?t.toLowerCase().replace("_","-"):t}function w(t){for(var e,n,r,i,o=0;o<t.length;){for(i=y(t[o]).split("-"),e=i.length,n=y(t[o+1]),n=n?n.split("-"):null;e>0;){if(r=b(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&m(i,n,!0)>=e-1)break;e--}o++}return null}function b(t){var e=null;if(!Pn[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Rn._abbr,require("./locale/"+t),x(e)}catch(n){}return Pn[t]}function x(t,e){var n;return t&&(n="undefined"==typeof e?_(t):C(t,e),n&&(Rn=n)),Rn._abbr}function C(t,e){return null!==e?(e.abbr=t,Pn[t]||(Pn[t]=new v),Pn[t].set(e),x(t),Pn[t]):(delete Pn[t],null)}function _(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Rn;if(!n(t)){if(e=b(t))return e;t=[t]}return w(t)}function E(t,e){var n=t.toLowerCase();Hn[n]=Hn[n+"s"]=Hn[e]=t}function T(t){return"string"==typeof t?Hn[t]||Hn[t.toLowerCase()]:void 0}function k(t){var e,n,r={};for(n in t)o(t,n)&&(e=T(n),e&&(r[e]=t[n]));return r}function S(e,n){return function(r){return null!=r?(M(this,e,r),t.updateOffset(this,n),this):$(this,e)}}function $(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function M(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function A(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=T(t),"function"==typeof this[t])return this[t](e);return this}function R(t,e,n){for(var r=""+Math.abs(t),i=t>=0;r.length<e;)r="0"+r;return(i?n?"+":"":"-")+r}function D(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(Bn[t]=i),e&&(Bn[e[0]]=function(){return R(i.apply(this,arguments),e[1],e[2])}),n&&(Bn[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function O(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function P(t){var e,n,r=t.match(Ln);for(e=0,n=r.length;n>e;e++)r[e]=Bn[r[e]]?Bn[r[e]]:O(r[e]);return function(i){var o="";for(e=0;n>e;e++)o+=r[e]instanceof Function?r[e].call(i,t):r[e];return o}}function H(t,e){return t.isValid()?(e=L(e,t.localeData()),In[e]||(In[e]=P(e)),In[e](t)):t.localeData().invalidDate()}function L(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(Nn.lastIndex=0;r>=0&&Nn.test(t);)t=t.replace(Nn,n),Nn.lastIndex=0,r-=1;return t}function N(t,e,n){tr[t]="function"==typeof e?e:function(t){return t&&n?n:e}}function I(t,e){return o(tr,t)?tr[t](e._strict,e._locale):new RegExp(B(t))}function B(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function j(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(r=function(t,n){n[e]=g(t)}),n=0;n<t.length;n++)er[t[n]]=r}function F(t,e){j(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function V(t,e,n){null!=e&&o(er,t)&&er[t](e,n._a,n,t)}function q(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function z(t){return this._months[t.month()]}function W(t){return this._monthsShort[t.month()]}function U(t,e,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=s([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function Y(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),q(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function G(e){return null!=e?(Y(this,e),t.updateOffset(this,!0),this):$(this,"Month")}function X(){return q(this.year(),this.month())}function K(t){var e,n=t._a;return n&&-2===u(t).overflow&&(e=n[rr]<0||n[rr]>11?rr:n[ir]<1||n[ir]>q(n[nr],n[rr])?ir:n[or]<0||n[or]>24||24===n[or]&&(0!==n[ar]||0!==n[sr]||0!==n[lr])?or:n[ar]<0||n[ar]>59?ar:n[sr]<0||n[sr]>59?sr:n[lr]<0||n[lr]>999?lr:-1,u(t)._overflowDayOfYear&&(nr>e||e>ir)&&(e=ir),u(t).overflow=e),t}function Z(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function J(t,e){var n=!0,r=t+"\n"+(new Error).stack;return a(function(){return n&&(Z(r),n=!1),e.apply(this,arguments)},e)}function Q(t,e){hr[t]||(Z(e),hr[t]=!0)}function tt(t){var e,n,r=t._i,i=dr.exec(r);if(i){for(u(t).iso=!0,e=0,n=fr.length;n>e;e++)if(fr[e][1].exec(r)){t._f=fr[e][0]+(i[6]||" ");break}for(e=0,n=pr.length;n>e;e++)if(pr[e][1].exec(r)){t._f+=pr[e][0];break}r.match(Zn)&&(t._f+="Z"),wt(t)}else t._isValid=!1}function et(e){var n=gr.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(tt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function nt(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return 1970>t&&s.setFullYear(t),s}function rt(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function it(t){return ot(t)?366:365}function ot(t){return t%4===0&&t%100!==0||t%400===0}function at(){return ot(this.year())}function st(t,e,n){var r,i=n-e,o=n-t.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=kt(t).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function lt(t){return st(t,this._week.dow,this._week.doy).week}function ut(){return this._week.dow}function ct(){return this._week.doy}function ht(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function dt(t){var e=st(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function ft(t,e,n,r,i){var o,a,s=rt(t,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:i,o=i-s+(s>r?7:0)-(i>s?7:0),a=7*(e-1)+(n-i)+o+1,{year:a>0?t:t-1,dayOfYear:a>0?a:it(t-1)+a}}function pt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function gt(t,e,n){return null!=t?t:null!=e?e:n}function mt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function vt(t){var e,n,r,i,o=[];if(!t._d){for(r=mt(t),t._w&&null==t._a[ir]&&null==t._a[rr]&&yt(t),t._dayOfYear&&(i=gt(t._a[nr],r[nr]),t._dayOfYear>it(i)&&(u(t)._overflowDayOfYear=!0),n=rt(i,0,t._dayOfYear),t._a[rr]=n.getUTCMonth(),t._a[ir]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=r[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[or]&&0===t._a[ar]&&0===t._a[sr]&&0===t._a[lr]&&(t._nextDay=!0,t._a[or]=0),t._d=(t._useUTC?rt:nt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[or]=24)}}function yt(t){var e,n,r,i,o,a,s;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,a=4,n=gt(e.GG,t._a[nr],st(kt(),1,4).year),r=gt(e.W,1),i=gt(e.E,1)):(o=t._locale._week.dow,a=t._locale._week.doy,n=gt(e.gg,t._a[nr],st(kt(),o,a).year),r=gt(e.w,1),null!=e.d?(i=e.d,o>i&&++r):i=null!=e.e?e.e+o:o),s=ft(n,r,i,a,o),t._a[nr]=s.year,t._dayOfYear=s.dayOfYear}function wt(e){if(e._f===t.ISO_8601)return void tt(e);e._a=[],u(e).empty=!0;var n,r,i,o,a,s=""+e._i,l=s.length,c=0;for(i=L(e._f,e._locale).match(Ln)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(I(o,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&u(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Bn[o]?(r?u(e).empty=!1:u(e).unusedTokens.push(o),V(o,r,e)):e._strict&&!r&&u(e).unusedTokens.push(o);u(e).charsLeftOver=l-c,s.length>0&&u(e).unusedInput.push(s),u(e).bigHour===!0&&e._a[or]<=12&&e._a[or]>0&&(u(e).bigHour=void 0),e._a[or]=bt(e._locale,e._a[or],e._meridiem),vt(e),K(e)}function bt(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&12>e&&(e+=12),r||12!==e||(e=0),e):e}function xt(t){var e,n,r,i,o;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(0/0));for(i=0;i<t._f.length;i++)o=0,e=d({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],wt(e),c(e)&&(o+=u(e).charsLeftOver,o+=10*u(e).unusedTokens.length,u(e).score=o,(null==r||r>o)&&(r=o,n=e));a(t,n||e)}function Ct(t){if(!t._d){var e=k(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],vt(t)}}function _t(t){var e,i=t._i,o=t._f;return t._locale=t._locale||_(t._l),null===i||void 0===o&&""===i?h({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),p(i)?new f(K(i)):(n(o)?xt(t):o?wt(t):r(i)?t._d=i:Et(t),e=new f(K(t)),e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e))}function Et(e){var o=e._i;void 0===o?e._d=new Date:r(o)?e._d=new Date(+o):"string"==typeof o?et(e):n(o)?(e._a=i(o.slice(0),function(t){return parseInt(t,10)}),vt(e)):"object"==typeof o?Ct(e):"number"==typeof o?e._d=new Date(o):t.createFromInputFallback(e)}function Tt(t,e,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,_t(o)}function kt(t,e,n,r){return Tt(t,e,n,r,!1)}function St(t,e){var r,i;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return kt();for(r=e[0],i=1;i<e.length;++i)e[i][t](r)&&(r=e[i]);return r}function $t(){var t=[].slice.call(arguments,0);return St("isBefore",t)}function Mt(){var t=[].slice.call(arguments,0);return St("isAfter",t)}function At(t){var e=k(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=_(),this._bubble()}function Rt(t){return t instanceof At}function Dt(t,e){D(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+R(~~(t/60),2)+e+R(~~t%60,2)})}function Ot(t){var e=(t||"").match(Zn)||[],n=e[e.length-1]||[],r=(n+"").match(br)||["-",0,0],i=+(60*r[1])+g(r[2]);return"+"===r[0]?i:-i}function Pt(e,n){var i,o;return n._isUTC?(i=n.clone(),o=(p(e)||r(e)?+e:+kt(e))-+i,i._d.setTime(+i._d+o),t.updateOffset(i,!1),i):kt(e).local()}function Ht(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Lt(e,n){var r,i=this._offset||0;return null!=e?("string"==typeof e&&(e=Ot(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(r=Ht(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!n||this._changeInProgress?Jt(this,Yt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Ht(this)}function Nt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function It(t){return this.utcOffset(0,t)}function Bt(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ht(this),"m")),this}function jt(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Ot(this._i)),this}function Ft(t){return t=t?kt(t).utcOffset():0,(this.utcOffset()-t)%60===0}function Vt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function qt(){if(this._a){var t=this._isUTC?s(this._a):kt(this._a);return this.isValid()&&m(this._a,t.toArray())>0}return!1}function zt(){return!this._isUTC}function Wt(){return this._isUTC}function Ut(){return this._isUTC&&0===this._offset}function Yt(t,e){var n,r,i,a=t,s=null;return Rt(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(s=xr.exec(t))?(n="-"===s[1]?-1:1,a={y:0,d:g(s[ir])*n,h:g(s[or])*n,m:g(s[ar])*n,s:g(s[sr])*n,ms:g(s[lr])*n}):(s=Cr.exec(t))?(n="-"===s[1]?-1:1,a={y:Gt(s[2],n),M:Gt(s[3],n),d:Gt(s[4],n),h:Gt(s[5],n),m:Gt(s[6],n),s:Gt(s[7],n),w:Gt(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=Kt(kt(a.from),kt(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new At(a),Rt(t)&&o(t,"_locale")&&(r._locale=t._locale),r}function Gt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Xt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Kt(t,e){var n;return e=Pt(e,t),t.isBefore(e)?n=Xt(t,e):(n=Xt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Zt(t,e){return function(n,r){var i,o;return null===r||isNaN(+r)||(Q(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Yt(n,r),Jt(this,i,t),this}}function Jt(e,n,r,i){var o=n._milliseconds,a=n._days,s=n._months;i=null==i?!0:i,o&&e._d.setTime(+e._d+o*r),a&&M(e,"Date",$(e,"Date")+a*r),s&&Y(e,$(e,"Month")+s*r),i&&t.updateOffset(e,a||s)}function Qt(t){var e=t||kt(),n=Pt(e,this).startOf("day"),r=this.diff(n,"days",!0),i=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,kt(e)))}function te(){return new f(this)}function ee(t,e){var n;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:kt(t),+this>+t):(n=p(t)?+t:+kt(t),n<+this.clone().startOf(e))}function ne(t,e){var n;return e=T("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:kt(t),+t>+this):(n=p(t)?+t:+kt(t),+this.clone().endOf(e)<n)}function re(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function ie(t,e){var n;return e=T(e||"millisecond"),"millisecond"===e?(t=p(t)?t:kt(t),+this===+t):(n=+kt(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function oe(t){return 0>t?Math.ceil(t):Math.floor(t)}function ae(t,e,n){var r,i,o=Pt(t,this),a=6e4*(o.utcOffset()-this.utcOffset());return e=T(e),"year"===e||"month"===e||"quarter"===e?(i=se(this,o),"quarter"===e?i/=3:"year"===e&&(i/=12)):(r=this-o,i="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-a)/864e5:"week"===e?(r-a)/6048e5:r),n?i:oe(i)}function se(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return 0>e-o?(n=t.clone().add(i-1,"months"),r=(e-o)/(o-n)):(n=t.clone().add(i+1,"months"),r=(e-o)/(n-o)),-(i+r)}function le(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ue(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():H(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):H(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ce(e){var n=H(this,e||t.defaultFormat);return this.localeData().postformat(n)}function he(t,e){return this.isValid()?Yt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function de(t){return this.from(kt(),t)}function fe(t,e){return this.isValid()?Yt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pe(t){return this.to(kt(),t)}function ge(t){var e;return void 0===t?this._locale._abbr:(e=_(t),null!=e&&(this._locale=e),this)}function me(){return this._locale}function ve(t){switch(t=T(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function ye(t){return t=T(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function we(){return+this._d-6e4*(this._offset||0)}function be(){return Math.floor(+this/1e3)}function xe(){return this._offset?new Date(+this):this._d}function Ce(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function _e(){return c(this)}function Ee(){return a({},u(this))}function Te(){return u(this).overflow}function ke(t,e){D(0,[t,t.length],0,e)}function Se(t,e,n){return st(kt([t,11,31+e-n]),e,n).week}function $e(t){var e=st(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Me(t){var e=st(this,1,4).year;return null==t?e:this.add(t-e,"y")}function Ae(){return Se(this.year(),1,4)}function Re(){var t=this.localeData()._week;return Se(this.year(),t.dow,t.doy)}function De(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Oe(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function Pe(t){return this._weekdays[t.day()]}function He(t){return this._weekdaysShort[t.day()]}function Le(t){return this._weekdaysMin[t.day()]}function Ne(t){var e,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=kt([2e3,1]).day(e),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Ie(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Oe(t,this.localeData()),this.add(t-e,"d")):e}function Be(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function je(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Fe(t,e){D(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Ve(t,e){return e._meridiemParse}function qe(t){return"p"===(t+"").toLowerCase().charAt(0)}function ze(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function We(t){D(0,[t,3],0,"millisecond")}function Ue(){return this._isUTC?"UTC":""}function Ye(){return this._isUTC?"Coordinated Universal Time":""}function Ge(t){return kt(1e3*t)}function Xe(){return kt.apply(null,arguments).parseZone()}function Ke(t,e,n){var r=this._calendar[t];return"function"==typeof r?r.call(e,n):r}function Ze(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e}function Je(){return this._invalidDate}function Qe(t){return this._ordinal.replace("%d",t)}function tn(t){return t}function en(t,e,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,r):i.replace(/%d/i,t)}function nn(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function rn(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function on(t,e,n,r){var i=_(),o=s().set(r,e);return i[n](o,t)}function an(t,e,n,r,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return on(t,e,n,i);var o,a=[];for(o=0;r>o;o++)a[o]=on(t,o,n,i);return a}function sn(t,e){return an(t,e,"months",12,"month")}function ln(t,e){return an(t,e,"monthsShort",12,"month")}function un(t,e){return an(t,e,"weekdays",7,"day")}function cn(t,e){return an(t,e,"weekdaysShort",7,"day")}function hn(t,e){return an(t,e,"weekdaysMin",7,"day")}function dn(){var t=this._data;return this._milliseconds=zr(this._milliseconds),this._days=zr(this._days),this._months=zr(this._months),t.milliseconds=zr(t.milliseconds),t.seconds=zr(t.seconds),t.minutes=zr(t.minutes),t.hours=zr(t.hours),t.months=zr(t.months),t.years=zr(t.years),this}function fn(t,e,n,r){var i=Yt(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function pn(t,e){return fn(this,t,e,1)}function gn(t,e){return fn(this,t,e,-1)}function mn(){var t,e,n,r=this._milliseconds,i=this._days,o=this._months,a=this._data,s=0;return a.milliseconds=r%1e3,t=oe(r/1e3),a.seconds=t%60,e=oe(t/60),a.minutes=e%60,n=oe(e/60),a.hours=n%24,i+=oe(n/24),s=oe(vn(i)),i-=oe(yn(s)),o+=oe(i/30),i%=30,s+=oe(o/12),o%=12,a.days=i,a.months=o,a.years=s,this}function vn(t){return 400*t/146097}function yn(t){return 146097*t/400}function wn(t){var e,n,r=this._milliseconds;if(t=T(t),"month"===t||"year"===t)return e=this._days+r/864e5,n=this._months+12*vn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(yn(this._months/12)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function bn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function xn(t){return function(){return this.as(t)}}function Cn(t){return t=T(t),this[t+"s"]()}function _n(t){return function(){return this._data[t]}}function En(){return oe(this.days()/7)}function Tn(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function kn(t,e,n){var r=Yt(t).abs(),i=ai(r.as("s")),o=ai(r.as("m")),a=ai(r.as("h")),s=ai(r.as("d")),l=ai(r.as("M")),u=ai(r.as("y")),c=i<si.s&&["s",i]||1===o&&["m"]||o<si.m&&["mm",o]||1===a&&["h"]||a<si.h&&["hh",a]||1===s&&["d"]||s<si.d&&["dd",s]||1===l&&["M"]||l<si.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,Tn.apply(null,c)}function Sn(t,e){return void 0===si[t]?!1:void 0===e?si[t]:(si[t]=e,!0)}function $n(t){var e=this.localeData(),n=kn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Mn(){var t=li(this.years()),e=li(this.months()),n=li(this.days()),r=li(this.hours()),i=li(this.minutes()),o=li(this.seconds()+this.milliseconds()/1e3),a=this.asSeconds();return a?(0>a?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(r||i||o?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(o?o+"S":""):"P0D"}var An,Rn,Dn=t.momentProperties=[],On=!1,Pn={},Hn={},Ln=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Nn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,In={},Bn={},jn=/\d/,Fn=/\d\d/,Vn=/\d{3}/,qn=/\d{4}/,zn=/[+-]?\d{6}/,Wn=/\d\d?/,Un=/\d{1,3}/,Yn=/\d{1,4}/,Gn=/[+-]?\d{1,6}/,Xn=/\d+/,Kn=/[+-]?\d+/,Zn=/Z|[+-]\d\d:?\d\d/gi,Jn=/[+-]?\d+(\.\d{1,3})?/,Qn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,tr={},er={},nr=0,rr=1,ir=2,or=3,ar=4,sr=5,lr=6;D("M",["MM",2],"Mo",function(){return this.month()+1}),D("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),D("MMMM",0,0,function(t){return this.localeData().months(this,t)}),E("month","M"),N("M",Wn),N("MM",Wn,Fn),N("MMM",Qn),N("MMMM",Qn),j(["M","MM"],function(t,e){e[rr]=g(t)-1}),j(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[rr]=i:u(n).invalidMonth=t});var ur="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),hr={};t.suppressDeprecationWarnings=!1;var dr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,fr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],pr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],gr=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=J("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),D(0,["YY",2],0,function(){return this.year()%100}),D(0,["YYYY",4],0,"year"),D(0,["YYYYY",5],0,"year"),D(0,["YYYYYY",6,!0],0,"year"),E("year","y"),N("Y",Kn),N("YY",Wn,Fn),N("YYYY",Yn,qn),N("YYYYY",Gn,zn),N("YYYYYY",Gn,zn),j(["YYYY","YYYYY","YYYYYY"],nr),j("YY",function(e,n){n[nr]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var mr=S("FullYear",!1);D("w",["ww",2],"wo","week"),D("W",["WW",2],"Wo","isoWeek"),E("week","w"),E("isoWeek","W"),N("w",Wn),N("ww",Wn,Fn),N("W",Wn),N("WW",Wn,Fn),F(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=g(t)});var vr={dow:0,doy:6};D("DDD",["DDDD",3],"DDDo","dayOfYear"),E("dayOfYear","DDD"),N("DDD",Un),N("DDDD",Vn),j(["DDD","DDDD"],function(t,e,n){n._dayOfYear=g(t)}),t.ISO_8601=function(){};var yr=J("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=kt.apply(null,arguments);return this>t?this:t}),wr=J("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=kt.apply(null,arguments);return t>this?this:t});Dt("Z",":"),Dt("ZZ",""),N("Z",Zn),N("ZZ",Zn),j(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Ot(t)});var br=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var xr=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Cr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Yt.fn=At.prototype;var _r=Zt(1,"add"),Er=Zt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var Tr=J("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});D(0,["gg",2],0,function(){return this.weekYear()%100}),D(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ke("gggg","weekYear"),ke("ggggg","weekYear"),ke("GGGG","isoWeekYear"),ke("GGGGG","isoWeekYear"),E("weekYear","gg"),E("isoWeekYear","GG"),N("G",Kn),N("g",Kn),N("GG",Wn,Fn),N("gg",Wn,Fn),N("GGGG",Yn,qn),N("gggg",Yn,qn),N("GGGGG",Gn,zn),N("ggggg",Gn,zn),F(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=g(t)}),F(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),D("Q",0,0,"quarter"),E("quarter","Q"),N("Q",jn),j("Q",function(t,e){e[rr]=3*(g(t)-1)}),D("D",["DD",2],"Do","date"),E("date","D"),N("D",Wn),N("DD",Wn,Fn),N("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),j(["D","DD"],ir),j("Do",function(t,e){e[ir]=g(t.match(Wn)[0],10)});var kr=S("Date",!0);D("d",0,"do","day"),D("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),D("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),D("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),D("e",0,0,"weekday"),D("E",0,0,"isoWeekday"),E("day","d"),E("weekday","e"),E("isoWeekday","E"),N("d",Wn),N("e",Wn),N("E",Wn),N("dd",Qn),N("ddd",Qn),N("dddd",Qn),F(["dd","ddd","dddd"],function(t,e,n){var r=n._locale.weekdaysParse(t);null!=r?e.d=r:u(n).invalidWeekday=t}),F(["d","e","E"],function(t,e,n,r){e[r]=g(t)});var Sr="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),$r="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mr="Su_Mo_Tu_We_Th_Fr_Sa".split("_");D("H",["HH",2],0,"hour"),D("h",["hh",2],0,function(){return this.hours()%12||12}),Fe("a",!0),Fe("A",!1),E("hour","h"),N("a",Ve),N("A",Ve),N("H",Wn),N("h",Wn),N("HH",Wn,Fn),N("hh",Wn,Fn),j(["H","HH"],or),j(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),j(["h","hh"],function(t,e,n){e[or]=g(t),u(n).bigHour=!0});var Ar=/[ap]\.?m?\.?/i,Rr=S("Hours",!0);D("m",["mm",2],0,"minute"),E("minute","m"),N("m",Wn),N("mm",Wn,Fn),j(["m","mm"],ar);var Dr=S("Minutes",!1);D("s",["ss",2],0,"second"),E("second","s"),N("s",Wn),N("ss",Wn,Fn),j(["s","ss"],sr);var Or=S("Seconds",!1);D("S",0,0,function(){return~~(this.millisecond()/100)}),D(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),We("SSS"),We("SSSS"),E("millisecond","ms"),N("S",Un,jn),N("SS",Un,Fn),N("SSS",Un,Vn),N("SSSS",Xn),j(["S","SS","SSS","SSSS"],function(t,e){e[lr]=g(1e3*("0."+t))});var Pr=S("Milliseconds",!1);D("z",0,0,"zoneAbbr"),D("zz",0,0,"zoneName");var Hr=f.prototype;Hr.add=_r,Hr.calendar=Qt,Hr.clone=te,Hr.diff=ae,Hr.endOf=ye,Hr.format=ce,Hr.from=he,Hr.fromNow=de,Hr.to=fe,Hr.toNow=pe,Hr.get=A,Hr.invalidAt=Te,Hr.isAfter=ee,Hr.isBefore=ne,Hr.isBetween=re,Hr.isSame=ie,Hr.isValid=_e,Hr.lang=Tr,Hr.locale=ge,Hr.localeData=me,Hr.max=wr,Hr.min=yr,Hr.parsingFlags=Ee,Hr.set=A,Hr.startOf=ve,Hr.subtract=Er,Hr.toArray=Ce,Hr.toDate=xe,Hr.toISOString=ue,Hr.toJSON=ue,Hr.toString=le,Hr.unix=be,Hr.valueOf=we,Hr.year=mr,Hr.isLeapYear=at,Hr.weekYear=$e,Hr.isoWeekYear=Me,Hr.quarter=Hr.quarters=De,Hr.month=G,Hr.daysInMonth=X,Hr.week=Hr.weeks=ht,Hr.isoWeek=Hr.isoWeeks=dt,Hr.weeksInYear=Re,Hr.isoWeeksInYear=Ae,Hr.date=kr,Hr.day=Hr.days=Ie,Hr.weekday=Be,Hr.isoWeekday=je,Hr.dayOfYear=pt,Hr.hour=Hr.hours=Rr,Hr.minute=Hr.minutes=Dr,Hr.second=Hr.seconds=Or,Hr.millisecond=Hr.milliseconds=Pr,Hr.utcOffset=Lt,Hr.utc=It,Hr.local=Bt,Hr.parseZone=jt,Hr.hasAlignedHourOffset=Ft,Hr.isDST=Vt,Hr.isDSTShifted=qt,Hr.isLocal=zt,Hr.isUtcOffset=Wt,Hr.isUtc=Ut,Hr.isUTC=Ut,Hr.zoneAbbr=Ue,Hr.zoneName=Ye,Hr.dates=J("dates accessor is deprecated. Use date instead.",kr),Hr.months=J("months accessor is deprecated. Use month instead",G),Hr.years=J("years accessor is deprecated. Use year instead",mr),Hr.zone=J("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Nt);var Lr=Hr,Nr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Ir={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Br="Invalid date",jr="%d",Fr=/\d{1,2}/,Vr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",
y:"a year",yy:"%d years"},qr=v.prototype;qr._calendar=Nr,qr.calendar=Ke,qr._longDateFormat=Ir,qr.longDateFormat=Ze,qr._invalidDate=Br,qr.invalidDate=Je,qr._ordinal=jr,qr.ordinal=Qe,qr._ordinalParse=Fr,qr.preparse=tn,qr.postformat=tn,qr._relativeTime=Vr,qr.relativeTime=en,qr.pastFuture=nn,qr.set=rn,qr.months=z,qr._months=ur,qr.monthsShort=W,qr._monthsShort=cr,qr.monthsParse=U,qr.week=lt,qr._week=vr,qr.firstDayOfYear=ct,qr.firstDayOfWeek=ut,qr.weekdays=Pe,qr._weekdays=Sr,qr.weekdaysMin=Le,qr._weekdaysMin=Mr,qr.weekdaysShort=He,qr._weekdaysShort=$r,qr.weekdaysParse=Ne,qr.isPM=qe,qr._meridiemParse=Ar,qr.meridiem=ze,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=J("moment.lang is deprecated. Use moment.locale instead.",x),t.langData=J("moment.langData is deprecated. Use moment.localeData instead.",_);var zr=Math.abs,Wr=xn("ms"),Ur=xn("s"),Yr=xn("m"),Gr=xn("h"),Xr=xn("d"),Kr=xn("w"),Zr=xn("M"),Jr=xn("y"),Qr=_n("milliseconds"),ti=_n("seconds"),ei=_n("minutes"),ni=_n("hours"),ri=_n("days"),ii=_n("months"),oi=_n("years"),ai=Math.round,si={s:45,m:45,h:22,d:26,M:11},li=Math.abs,ui=At.prototype;ui.abs=dn,ui.add=pn,ui.subtract=gn,ui.as=wn,ui.asMilliseconds=Wr,ui.asSeconds=Ur,ui.asMinutes=Yr,ui.asHours=Gr,ui.asDays=Xr,ui.asWeeks=Kr,ui.asMonths=Zr,ui.asYears=Jr,ui.valueOf=bn,ui._bubble=mn,ui.get=Cn,ui.milliseconds=Qr,ui.seconds=ti,ui.minutes=ei,ui.hours=ni,ui.days=ri,ui.weeks=En,ui.months=ii,ui.years=oi,ui.humanize=$n,ui.toISOString=Mn,ui.toString=Mn,ui.toJSON=Mn,ui.locale=ge,ui.localeData=me,ui.toIsoString=J("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Mn),ui.lang=Tr,D("X",0,0,"unix"),D("x",0,0,"valueOf"),N("x",Kn),N("X",Jn),j("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),j("x",function(t,e,n){n._d=new Date(g(t))}),t.version="2.10.3",e(kt),t.fn=Lr,t.min=$t,t.max=Mt,t.utc=s,t.unix=Ge,t.months=sn,t.isDate=r,t.locale=x,t.invalid=h,t.duration=Yt,t.isMoment=p,t.weekdays=un,t.parseZone=Xe,t.localeData=_,t.isDuration=Rt,t.monthsShort=ln,t.weekdaysMin=hn,t.defineLocale=C,t.weekdaysShort=cn,t.normalizeUnits=T,t.relativeTimeThreshold=Sn;var ci=t;return ci}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.jsyaml=t()}}(function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";function r(t){return function(){throw new Error("Function "+t+" is deprecated and cannot be used.")}}var i=t("./js-yaml/loader"),o=t("./js-yaml/dumper");e.exports.Type=t("./js-yaml/type"),e.exports.Schema=t("./js-yaml/schema"),e.exports.FAILSAFE_SCHEMA=t("./js-yaml/schema/failsafe"),e.exports.JSON_SCHEMA=t("./js-yaml/schema/json"),e.exports.CORE_SCHEMA=t("./js-yaml/schema/core"),e.exports.DEFAULT_SAFE_SCHEMA=t("./js-yaml/schema/default_safe"),e.exports.DEFAULT_FULL_SCHEMA=t("./js-yaml/schema/default_full"),e.exports.load=i.load,e.exports.loadAll=i.loadAll,e.exports.safeLoad=i.safeLoad,e.exports.safeLoadAll=i.safeLoadAll,e.exports.dump=o.dump,e.exports.safeDump=o.safeDump,e.exports.YAMLException=t("./js-yaml/exception"),e.exports.MINIMAL_SCHEMA=t("./js-yaml/schema/failsafe"),e.exports.SAFE_SCHEMA=t("./js-yaml/schema/default_safe"),e.exports.DEFAULT_SCHEMA=t("./js-yaml/schema/default_full"),e.exports.scan=r("scan"),e.exports.parse=r("parse"),e.exports.compose=r("compose"),e.exports.addConstructor=r("addConstructor")},{"./js-yaml/dumper":3,"./js-yaml/exception":4,"./js-yaml/loader":5,"./js-yaml/schema":7,"./js-yaml/schema/core":8,"./js-yaml/schema/default_full":9,"./js-yaml/schema/default_safe":10,"./js-yaml/schema/failsafe":11,"./js-yaml/schema/json":12,"./js-yaml/type":13}],2:[function(t,e,n){"use strict";function r(t){return"undefined"==typeof t||null===t}function i(t){return"object"==typeof t&&null!==t}function o(t){return Array.isArray(t)?t:r(t)?[]:[t]}function a(t,e){var n,r,i,o;if(e)for(o=Object.keys(e),n=0,r=o.length;r>n;n+=1)i=o[n],t[i]=e[i];return t}function s(t,e){var n,r="";for(n=0;e>n;n+=1)r+=t;return r}function l(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t}e.exports.isNothing=r,e.exports.isObject=i,e.exports.toArray=o,e.exports.repeat=s,e.exports.isNegativeZero=l,e.exports.extend=a},{}],3:[function(t,e,n){"use strict";function r(t,e){var n,r,i,o,a,s,l;if(null===e)return{};for(n={},r=Object.keys(e),i=0,o=r.length;o>i;i+=1)a=r[i],s=String(e[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),l=t.compiledTypeMap[a],l&&A.call(l.styleAliases,s)&&(s=l.styleAliases[s]),n[a]=s;return n}function i(t){var e,n,r;if(e=t.toString(16).toUpperCase(),255>=t)n="x",r=2;else if(65535>=t)n="u",r=4;else{if(!(4294967295>=t))throw new k("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+T.repeat("0",r-e.length)+e}function o(t){this.schema=t.schema||S,this.indent=Math.max(1,t.indent||2),this.skipInvalid=t.skipInvalid||!1,this.flowLevel=T.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=r(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function a(t,e){for(var n,r=T.repeat(" ",e),i=0,o=-1,a="",s=t.length;s>i;)o=t.indexOf("\n",i),-1===o?(n=t.slice(i),i=s):(n=t.slice(i,o+1),i=o+1),n.length&&"\n"!==n&&(a+=r),a+=n;return a}function s(t,e){return"\n"+T.repeat(" ",t.indent*e)}function l(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;r>n;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function u(t){this.source=t,this.result="",this.checkpoint=0}function c(t,e,n){var r,i,o,s,c,d,g,m,v,y,w,b,x,C,_,E,T,k,S,$,M;if(0===e.length)return void(t.dump="''");if(-1!==et.indexOf(e))return void(t.dump="'"+e+"'");for(r=!0,i=e.length?e.charCodeAt(0):0,o=P===i||P===e.charCodeAt(e.length-1),(q===i||U===i||Y===i||K===i)&&(r=!1),o?(r=!1,s=!1,c=!1):(s=!0,c=!0),d=!0,g=new u(e),m=!1,v=0,y=0,w=t.indent*n,b=80,40>w?b-=w:b=40,C=0;C<e.length;C++){if(x=e.charCodeAt(C),r){if(f(x))continue;r=!1}d&&x===j&&(d=!1),_=tt[x],E=p(x),(_||E)&&(x!==D&&x!==L&&x!==j?(s=!1,c=!1):x===D&&(m=!0,d=!1,C>0&&(T=e.charCodeAt(C-1),T===P&&(c=!1,s=!1)),s&&(k=C-v,v=C,k>y&&(y=k))),x!==L&&(d=!1),g.takeUpTo(C),g.escapeChar())}if(r&&l(t,e)&&(r=!1),S="",(s||c)&&($=0,e.charCodeAt(e.length-1)===D&&($+=1,e.charCodeAt(e.length-2)===D&&($+=1)),0===$?S="-":2===$&&(S="+")),c&&b>y&&(s=!1),m||(c=!1),r)t.dump=e;else if(d)t.dump="'"+e+"'";else if(s)M=h(e,b),t.dump=">"+S+"\n"+a(M,w);else if(c)S||(e=e.replace(/\n$/,"")),t.dump="|"+S+"\n"+a(e,w);else{if(!g)throw new Error("Failed to dump scalar value");g.finish(),t.dump='"'+g.result+'"'}}function h(t,e){var n,r="",i=0,o=t.length,a=/\n+$/.exec(t);for(a&&(o=a.index+1);o>i;)n=t.indexOf("\n",i),n>o||-1===n?(r&&(r+="\n\n"),r+=d(t.slice(i,o),e),i=o):(r&&(r+="\n\n"),r+=d(t.slice(i,n),e),i=n+1);return a&&"\n"!==a[0]&&(r+=a[0]),r}function d(t,e){if(""===t)return t;for(var n,r,i,o=/[^\s] [^\s]/g,a="",s=0,l=0,u=o.exec(t);u;)n=u.index,n-l>e&&(r=s!==l?s:n,a&&(a+="\n"),i=t.slice(l,r),a+=i,l=r+1),s=n+1,u=o.exec(t);return a&&(a+="\n"),a+=l!==s&&t.length-l>e?t.slice(l,s)+"\n"+t.slice(s+1):t.slice(l)}function f(t){return R!==t&&D!==t&&O!==t&&V!==t&&G!==t&&X!==t&&Z!==t&&Q!==t&&N!==t&&B!==t&&F!==t&&H!==t&&J!==t&&W!==t&&j!==t&&L!==t&&I!==t&&z!==t&&!tt[t]&&!p(t)}function p(t){return!(t>=32&&126>=t||133===t||t>=160&&55295>=t||t>=57344&&65533>=t||t>=65536&&1114111>=t)}function g(t,e,n){var r,i,o="",a=t.tag;for(r=0,i=n.length;i>r;r+=1)b(t,e,n[r],!1,!1)&&(0!==r&&(o+=", "),o+=t.dump);t.tag=a,t.dump="["+o+"]"}function m(t,e,n,r){var i,o,a="",l=t.tag;for(i=0,o=n.length;o>i;i+=1)b(t,e+1,n[i],!0,!0)&&(r&&0===i||(a+=s(t,e)),a+="- "+t.dump);t.tag=l,t.dump=a||"[]"}function v(t,e,n){var r,i,o,a,s,l="",u=t.tag,c=Object.keys(n);for(r=0,i=c.length;i>r;r+=1)s="",0!==r&&(s+=", "),o=c[r],a=n[o],b(t,e,o,!1,!1)&&(t.dump.length>1024&&(s+="? "),s+=t.dump+": ",b(t,e,a,!1,!1)&&(s+=t.dump,l+=s));t.tag=u,t.dump="{"+l+"}"}function y(t,e,n,r){var i,o,a,l,u,c,h="",d=t.tag,f=Object.keys(n);if(t.sortKeys===!0)f.sort();else if("function"==typeof t.sortKeys)f.sort(t.sortKeys);else if(t.sortKeys)throw new k("sortKeys must be a boolean or a function");for(i=0,o=f.length;o>i;i+=1)c="",r&&0===i||(c+=s(t,e)),a=f[i],l=n[a],b(t,e+1,a,!0,!0)&&(u=null!==t.tag&&"?"!==t.tag||t.dump&&t.dump.length>1024,u&&(c+=t.dump&&D===t.dump.charCodeAt(0)?"?":"? "),c+=t.dump,u&&(c+=s(t,e)),b(t,e+1,l,!0,u)&&(c+=t.dump&&D===t.dump.charCodeAt(0)?":":": ",c+=t.dump,h+=c));t.tag=d,t.dump=h||"{}"}function w(t,e,n){var r,i,o,a,s,l;for(i=n?t.explicitTypes:t.implicitTypes,o=0,a=i.length;a>o;o+=1)if(s=i[o],(s.instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof e&&e instanceof s.instanceOf)&&(!s.predicate||s.predicate(e))){if(t.tag=n?s.tag:"?",s.represent){if(l=t.styleMap[s.tag]||s.defaultStyle,"[object Function]"===M.call(s.represent))r=s.represent(e,l);else{if(!A.call(s.represent,l))throw new k("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');r=s.represent[l](e,l)}t.dump=r}return!0}return!1}function b(t,e,n,r,i){t.tag=null,t.dump=n,w(t,n,!1)||w(t,n,!0);var o=M.call(t.dump);r&&(r=0>t.flowLevel||t.flowLevel>e),(null!==t.tag&&"?"!==t.tag||2!==t.indent&&e>0)&&(i=!1);var a,s,l="[object Object]"===o||"[object Array]"===o;if(l&&(a=t.duplicates.indexOf(n),s=-1!==a),s&&t.usedDuplicates[a])t.dump="*ref_"+a;else{if(l&&s&&!t.usedDuplicates[a]&&(t.usedDuplicates[a]=!0),"[object Object]"===o)r&&0!==Object.keys(t.dump).length?(y(t,e,t.dump,i),s&&(t.dump="&ref_"+a+(0===e?"\n":"")+t.dump)):(v(t,e,t.dump),s&&(t.dump="&ref_"+a+" "+t.dump));else if("[object Array]"===o)r&&0!==t.dump.length?(m(t,e,t.dump,i),s&&(t.dump="&ref_"+a+(0===e?"\n":"")+t.dump)):(g(t,e,t.dump),s&&(t.dump="&ref_"+a+" "+t.dump));else{if("[object String]"!==o){if(t.skipInvalid)return!1;throw new k("unacceptable kind of an object to dump "+o)}"?"!==t.tag&&c(t,t.dump,e)}null!==t.tag&&"?"!==t.tag&&(t.dump="!<"+t.tag+"> "+t.dump)}return!0}function x(t,e){var n,r,i=[],o=[];for(C(t,i,o),n=0,r=o.length;r>n;n+=1)e.duplicates.push(i[o[n]]);e.usedDuplicates=new Array(r)}function C(t,e,n){{var r,i,o;M.call(t)}if(null!==t&&"object"==typeof t)if(i=e.indexOf(t),-1!==i)-1===n.indexOf(i)&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,o=t.length;o>i;i+=1)C(t[i],e,n);else for(r=Object.keys(t),i=0,o=r.length;o>i;i+=1)C(t[r[i]],e,n)}function _(t,e){e=e||{};var n=new o(e);return x(t,n),b(n,0,t,!0,!0)?n.dump+"\n":""}function E(t,e){return _(t,T.extend({schema:$},e))}var T=t("./common"),k=t("./exception"),S=t("./schema/default_full"),$=t("./schema/default_safe"),M=Object.prototype.toString,A=Object.prototype.hasOwnProperty,R=9,D=10,O=13,P=32,H=33,L=34,N=35,I=37,B=38,j=39,F=42,V=44,q=45,z=58,W=62,U=63,Y=64,G=91,X=93,K=96,Z=123,J=124,Q=125,tt={};tt[0]="\\0",tt[7]="\\a",tt[8]="\\b",tt[9]="\\t",tt[10]="\\n",tt[11]="\\v",tt[12]="\\f",tt[13]="\\r",tt[27]="\\e",tt[34]='\\"',tt[92]="\\\\",tt[133]="\\N",tt[160]="\\_",tt[8232]="\\L",tt[8233]="\\P";var et=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];u.prototype.takeUpTo=function(t){var e;if(t<this.checkpoint)throw e=new Error("position should be > checkpoint"),e.position=t,e.checkpoint=this.checkpoint,e;return this.result+=this.source.slice(this.checkpoint,t),this.checkpoint=t,this},u.prototype.escapeChar=function(){var t,e;return t=this.source.charCodeAt(this.checkpoint),e=tt[t]||i(t),this.result+=e,this.checkpoint+=1,this},u.prototype.finish=function(){this.source.length>this.checkpoint&&this.takeUpTo(this.source.length)},e.exports.dump=_,e.exports.safeDump=E},{"./common":2,"./exception":4,"./schema/default_full":9,"./schema/default_safe":10}],4:[function(t,e,n){"use strict";function r(t,e){this.name="YAMLException",this.reason=t,this.mark=e,this.message=this.toString(!1)}r.prototype.toString=function(t){var e;return e="JS-YAML: "+(this.reason||"(unknown reason)"),!t&&this.mark&&(e+=" "+this.mark.toString()),e},e.exports=r},{}],5:[function(t,e,n){"use strict";function r(t){return 10===t||13===t}function i(t){return 9===t||32===t}function o(t){return 9===t||32===t||10===t||13===t}function a(t){return 44===t||91===t||93===t||123===t||125===t}function s(t){var e;return t>=48&&57>=t?t-48:(e=32|t,e>=97&&102>=e?e-97+10:-1)}function l(t){return 120===t?2:117===t?4:85===t?8:0}function u(t){return t>=48&&57>=t?t-48:-1}function c(t){return 48===t?"\x00":97===t?"":98===t?"\b":116===t?"	":9===t?"	":110===t?"\n":118===t?"":102===t?"\f":114===t?"\r":101===t?"":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"":95===t?" ":76===t?"\u2028":80===t?"\u2029":""}function h(t){return 65535>=t?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}function d(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||z,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function f(t,e){return new F(e,new V(t.filename,t.input,t.position,t.line,t.position-t.lineStart))}function p(t,e){throw f(t,e)}function g(t,e){var n=f(t,e);if(!t.onWarning)throw n;t.onWarning.call(null,n)}function m(t,e,n,r){var i,o,a,s;if(n>e){if(s=t.input.slice(e,n),r)for(i=0,o=s.length;o>i;i+=1)a=s.charCodeAt(i),9===a||a>=32&&1114111>=a||p(t,"expected valid JSON character");t.result+=s}}function v(t,e,n){var r,i,o,a;for(j.isObject(n)||p(t,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),o=0,a=r.length;a>o;o+=1)i=r[o],W.call(e,i)||(e[i]=n[i])}function y(t,e,n,r,i){var o,a;if(r=String(r),null===e&&(e={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(i))for(o=0,a=i.length;a>o;o+=1)v(t,e,i[o]);else v(t,e,i);else e[r]=i;return e}function w(t){var e;e=t.input.charCodeAt(t.position),10===e?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):p(t,"a line break is expected"),t.line+=1,t.lineStart=t.position}function b(t,e,n){for(var o=0,a=t.input.charCodeAt(t.position);0!==a;){for(;i(a);)a=t.input.charCodeAt(++t.position);if(e&&35===a)do a=t.input.charCodeAt(++t.position);while(10!==a&&13!==a&&0!==a);if(!r(a))break;for(w(t),a=t.input.charCodeAt(t.position),o++,t.lineIndent=0;32===a;)t.lineIndent++,a=t.input.charCodeAt(++t.position)}return-1!==n&&0!==o&&t.lineIndent<n&&g(t,"deficient indentation"),o}function x(t){var e,n=t.position;return e=t.input.charCodeAt(n),45!==e&&46!==e||t.input.charCodeAt(n+1)!==e||t.input.charCodeAt(n+2)!==e||(n+=3,e=t.input.charCodeAt(n),0!==e&&!o(e))?!1:!0}function C(t,e){1===e?t.result+=" ":e>1&&(t.result+=j.repeat("\n",e-1))}function _(t,e,n){var s,l,u,c,h,d,f,p,g,v=t.kind,y=t.result;if(g=t.input.charCodeAt(t.position),o(g)||a(g)||35===g||38===g||42===g||33===g||124===g||62===g||39===g||34===g||37===g||64===g||96===g)return!1;if((63===g||45===g)&&(l=t.input.charCodeAt(t.position+1),o(l)||n&&a(l)))return!1;for(t.kind="scalar",t.result="",u=c=t.position,h=!1;0!==g;){if(58===g){if(l=t.input.charCodeAt(t.position+1),o(l)||n&&a(l))break}else if(35===g){if(s=t.input.charCodeAt(t.position-1),o(s))break}else{if(t.position===t.lineStart&&x(t)||n&&a(g))break;if(r(g)){if(d=t.line,f=t.lineStart,p=t.lineIndent,b(t,!1,-1),t.lineIndent>=e){h=!0,g=t.input.charCodeAt(t.position);continue}t.position=c,t.line=d,t.lineStart=f,t.lineIndent=p;break}}h&&(m(t,u,c,!1),C(t,t.line-d),u=c=t.position,h=!1),i(g)||(c=t.position+1),g=t.input.charCodeAt(++t.position)}return m(t,u,c,!1),t.result?!0:(t.kind=v,t.result=y,!1)}function E(t,e){var n,i,o;if(n=t.input.charCodeAt(t.position),39!==n)return!1;for(t.kind="scalar",t.result="",t.position++,i=o=t.position;0!==(n=t.input.charCodeAt(t.position));)if(39===n){if(m(t,i,t.position,!0),n=t.input.charCodeAt(++t.position),39!==n)return!0;i=o=t.position,t.position++}else r(n)?(m(t,i,o,!0),C(t,b(t,!1,e)),i=o=t.position):t.position===t.lineStart&&x(t)?p(t,"unexpected end of the document within a single quoted scalar"):(t.position++,o=t.position);p(t,"unexpected end of the stream within a single quoted scalar")}function T(t,e){var n,i,o,a,u,c;if(c=t.input.charCodeAt(t.position),34!==c)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;0!==(c=t.input.charCodeAt(t.position));){if(34===c)return m(t,n,t.position,!0),t.position++,!0;if(92===c){if(m(t,n,t.position,!0),c=t.input.charCodeAt(++t.position),r(c))b(t,!1,e);else if(256>c&&it[c])t.result+=ot[c],t.position++;else if((u=l(c))>0){for(o=u,a=0;o>0;o--)c=t.input.charCodeAt(++t.position),(u=s(c))>=0?a=(a<<4)+u:p(t,"expected hexadecimal character");t.result+=h(a),t.position++}else p(t,"unknown escape sequence");n=i=t.position}else r(c)?(m(t,n,i,!0),C(t,b(t,!1,e)),n=i=t.position):t.position===t.lineStart&&x(t)?p(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}p(t,"unexpected end of the stream within a double quoted scalar")}function k(t,e){var n,r,i,a,s,l,u,c,h,d,f,g=!0,m=t.tag,v=t.anchor;if(f=t.input.charCodeAt(t.position),91===f)a=93,u=!1,r=[];else{if(123!==f)return!1;a=125,u=!0,r={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=r),f=t.input.charCodeAt(++t.position);0!==f;){if(b(t,!0,e),f=t.input.charCodeAt(t.position),f===a)return t.position++,t.tag=m,t.anchor=v,t.kind=u?"mapping":"sequence",t.result=r,!0;g||p(t,"missed comma between flow collection entries"),h=c=d=null,s=l=!1,63===f&&(i=t.input.charCodeAt(t.position+1),o(i)&&(s=l=!0,t.position++,b(t,!0,e))),n=t.line,O(t,e,U,!1,!0),h=t.tag,c=t.result,b(t,!0,e),f=t.input.charCodeAt(t.position),!l&&t.line!==n||58!==f||(s=!0,f=t.input.charCodeAt(++t.position),b(t,!0,e),O(t,e,U,!1,!0),d=t.result),u?y(t,r,h,c,d):r.push(s?y(t,null,h,c,d):c),b(t,!0,e),f=t.input.charCodeAt(t.position),44===f?(g=!0,f=t.input.charCodeAt(++t.position)):g=!1}p(t,"unexpected end of the stream within a flow collection")}function S(t,e){var n,o,a,s,l=K,c=!1,h=e,d=0,f=!1;if(s=t.input.charCodeAt(t.position),124===s)o=!1;else{if(62!==s)return!1;o=!0}for(t.kind="scalar",t.result="";0!==s;)if(s=t.input.charCodeAt(++t.position),43===s||45===s)K===l?l=43===s?J:Z:p(t,"repeat of a chomping mode identifier");else{if(!((a=u(s))>=0))break;0===a?p(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?p(t,"repeat of an indentation width identifier"):(h=e+a-1,c=!0)}if(i(s)){do s=t.input.charCodeAt(++t.position);while(i(s));if(35===s)do s=t.input.charCodeAt(++t.position);while(!r(s)&&0!==s)}for(;0!==s;){for(w(t),t.lineIndent=0,s=t.input.charCodeAt(t.position);(!c||t.lineIndent<h)&&32===s;)t.lineIndent++,s=t.input.charCodeAt(++t.position);if(!c&&t.lineIndent>h&&(h=t.lineIndent),r(s))d++;else{if(t.lineIndent<h){l===J?t.result+=j.repeat("\n",d):l===K&&c&&(t.result+="\n");break}for(o?i(s)?(f=!0,t.result+=j.repeat("\n",d+1)):f?(f=!1,t.result+=j.repeat("\n",d+1)):0===d?c&&(t.result+=" "):t.result+=j.repeat("\n",d):c&&(t.result+=j.repeat("\n",d+1)),c=!0,d=0,n=t.position;!r(s)&&0!==s;)s=t.input.charCodeAt(++t.position);m(t,n,t.position,!1)}}return!0}function $(t,e){var n,r,i,a=t.tag,s=t.anchor,l=[],u=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=l),i=t.input.charCodeAt(t.position);0!==i&&45===i&&(r=t.input.charCodeAt(t.position+1),o(r));)if(u=!0,t.position++,b(t,!0,-1)&&t.lineIndent<=e)l.push(null),i=t.input.charCodeAt(t.position);else if(n=t.line,O(t,e,G,!1,!0),l.push(t.result),b(t,!0,-1),i=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&0!==i)p(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return u?(t.tag=a,t.anchor=s,t.kind="sequence",t.result=l,!0):!1}function M(t,e,n){var r,a,s,l,u=t.tag,c=t.anchor,h={},d=null,f=null,g=null,m=!1,v=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=h),l=t.input.charCodeAt(t.position);0!==l;){if(r=t.input.charCodeAt(t.position+1),s=t.line,63!==l&&58!==l||!o(r)){if(!O(t,n,Y,!1,!0))break;if(t.line===s){for(l=t.input.charCodeAt(t.position);i(l);)l=t.input.charCodeAt(++t.position);if(58===l)l=t.input.charCodeAt(++t.position),o(l)||p(t,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(y(t,h,d,f,null),d=f=g=null),v=!0,m=!1,a=!1,d=t.tag,f=t.result;else{if(!v)return t.tag=u,t.anchor=c,!0;p(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return t.tag=u,t.anchor=c,!0;p(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(m&&(y(t,h,d,f,null),d=f=g=null),v=!0,m=!0,a=!0):m?(m=!1,a=!0):p(t,"incomplete explicit mapping pair; a key node is missed"),t.position+=1,l=r;if((t.line===s||t.lineIndent>e)&&(O(t,e,X,!0,a)&&(m?f=t.result:g=t.result),m||(y(t,h,d,f,g),d=f=g=null),b(t,!0,-1),l=t.input.charCodeAt(t.position)),t.lineIndent>e&&0!==l)p(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return m&&y(t,h,d,f,null),v&&(t.tag=u,t.anchor=c,t.kind="mapping",t.result=h),v}function A(t){var e,n,r,i,a=!1,s=!1;if(i=t.input.charCodeAt(t.position),33!==i)return!1;if(null!==t.tag&&p(t,"duplication of a tag property"),i=t.input.charCodeAt(++t.position),60===i?(a=!0,i=t.input.charCodeAt(++t.position)):33===i?(s=!0,n="!!",i=t.input.charCodeAt(++t.position)):n="!",e=t.position,a){do i=t.input.charCodeAt(++t.position);while(0!==i&&62!==i);t.position<t.length?(r=t.input.slice(e,t.position),i=t.input.charCodeAt(++t.position)):p(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!o(i);)33===i&&(s?p(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),nt.test(n)||p(t,"named tag handle cannot contain such characters"),s=!0,e=t.position+1)),i=t.input.charCodeAt(++t.position);r=t.input.slice(e,t.position),et.test(r)&&p(t,"tag suffix cannot contain flow indicator characters")}return r&&!rt.test(r)&&p(t,"tag name cannot contain such characters: "+r),a?t.tag=r:W.call(t.tagMap,n)?t.tag=t.tagMap[n]+r:"!"===n?t.tag="!"+r:"!!"===n?t.tag="tag:yaml.org,2002:"+r:p(t,'undeclared tag handle "'+n+'"'),!0}function R(t){var e,n;if(n=t.input.charCodeAt(t.position),38!==n)return!1;for(null!==t.anchor&&p(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!o(n)&&!a(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&p(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function D(t){{var e,n,r;t.length,t.input}if(r=t.input.charCodeAt(t.position),42!==r)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!o(r)&&!a(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&p(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),t.anchorMap.hasOwnProperty(n)||p(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],b(t,!0,-1),!0}function O(t,e,n,r,i){var o,a,s,l,u,c,h,d,f=1,m=!1,v=!1;if(t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=a=s=X===n||G===n,r&&b(t,!0,-1)&&(m=!0,t.lineIndent>e?f=1:t.lineIndent===e?f=0:t.lineIndent<e&&(f=-1)),1===f)for(;A(t)||R(t);)b(t,!0,-1)?(m=!0,s=o,t.lineIndent>e?f=1:t.lineIndent===e?f=0:t.lineIndent<e&&(f=-1)):s=!1;if(s&&(s=m||i),(1===f||X===n)&&(h=U===n||Y===n?e:e+1,d=t.position-t.lineStart,1===f?s&&($(t,d)||M(t,d,h))||k(t,h)?v=!0:(a&&S(t,h)||E(t,h)||T(t,h)?v=!0:D(t)?(v=!0,(null!==t.tag||null!==t.anchor)&&p(t,"alias node should not have any properties")):_(t,h,U===n)&&(v=!0,null===t.tag&&(t.tag="?")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===f&&(v=s&&$(t,d))),null!==t.tag&&"!"!==t.tag)if("?"===t.tag){for(l=0,u=t.implicitTypes.length;u>l;l+=1)if(c=t.implicitTypes[l],c.resolve(t.result)){t.result=c.construct(t.result),t.tag=c.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else W.call(t.typeMap,t.tag)?(c=t.typeMap[t.tag],null!==t.result&&c.kind!==t.kind&&p(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+c.kind+'", not "'+t.kind+'"'),c.resolve(t.result)?(t.result=c.construct(t.result),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):p(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")):g(t,"unknown tag !<"+t.tag+">");return null!==t.tag||null!==t.anchor||v}function P(t){var e,n,a,s,l=t.position,u=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap={},t.anchorMap={};0!==(s=t.input.charCodeAt(t.position))&&(b(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==s));){for(u=!0,s=t.input.charCodeAt(++t.position),e=t.position;0!==s&&!o(s);)s=t.input.charCodeAt(++t.position);for(n=t.input.slice(e,t.position),a=[],n.length<1&&p(t,"directive name must not be less than one character in length");0!==s;){for(;i(s);)s=t.input.charCodeAt(++t.position);if(35===s){do s=t.input.charCodeAt(++t.position);while(0!==s&&!r(s));break}if(r(s))break;for(e=t.position;0!==s&&!o(s);)s=t.input.charCodeAt(++t.position);a.push(t.input.slice(e,t.position))}0!==s&&w(t),W.call(st,n)?st[n](t,n,a):g(t,'unknown document directive "'+n+'"')}return b(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,b(t,!0,-1)):u&&p(t,"directives end mark is expected"),O(t,t.lineIndent-1,X,!1,!0),b(t,!0,-1),t.checkLineBreaks&&tt.test(t.input.slice(l,t.position))&&g(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&x(t)?void(46===t.input.charCodeAt(t.position)&&(t.position+=3,b(t,!0,-1))):void(t.position<t.length-1&&p(t,"end of the stream or a document separator is expected"))}function H(t,e){t=String(t),e=e||{},0!==t.length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var n=new d(t,e);for(Q.test(n.input)&&p(n,"the stream contains non-printable characters"),n.input+="\x00";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)P(n);return n.documents}function L(t,e,n){var r,i,o=H(t,n);for(r=0,i=o.length;i>r;r+=1)e(o[r])}function N(t,e){var n=H(t,e);if(0===n.length)return void 0;if(1===n.length)return n[0];throw new F("expected a single document in the stream, but found more")}function I(t,e,n){L(t,e,j.extend({schema:q},n))}function B(t,e){return N(t,j.extend({schema:q},e))}for(var j=t("./common"),F=t("./exception"),V=t("./mark"),q=t("./schema/default_safe"),z=t("./schema/default_full"),W=Object.prototype.hasOwnProperty,U=1,Y=2,G=3,X=4,K=1,Z=2,J=3,Q=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,tt=/[\x85\u2028\u2029]/,et=/[,\[\]\{\}]/,nt=/^(?:!|!!|![a-z\-]+!)$/i,rt=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,it=new Array(256),ot=new Array(256),at=0;256>at;at++)it[at]=c(at)?1:0,ot[at]=c(at);var st={YAML:function(t,e,n){var r,i,o;null!==t.version&&p(t,"duplication of %YAML directive"),1!==n.length&&p(t,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),null===r&&p(t,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&p(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=2>o,1!==o&&2!==o&&g(t,"unsupported YAML version of the document")},TAG:function(t,e,n){var r,i;2!==n.length&&p(t,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],nt.test(r)||p(t,"ill-formed tag handle (first argument) of the TAG directive"),W.call(t.tagMap,r)&&p(t,'there is a previously declared suffix for "'+r+'" tag handle'),rt.test(i)||p(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[r]=i}};e.exports.loadAll=L,e.exports.load=N,e.exports.safeLoadAll=I,e.exports.safeLoad=B},{"./common":2,"./exception":4,"./mark":6,"./schema/default_full":9,"./schema/default_safe":10}],6:[function(t,e,n){"use strict";function r(t,e,n,r,i){this.name=t,this.buffer=e,this.position=n,this.line=r,this.column=i}var i=t("./common");r.prototype.getSnippet=function(t,e){var n,r,o,a,s;if(!this.buffer)return null;for(t=t||4,e=e||75,n="",r=this.position;r>0&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(r-=1,this.position-r>e/2-1){n=" ... ",r+=5;break}for(o="",a=this.position;a<this.buffer.length&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(a));)if(a+=1,a-this.position>e/2-1){o=" ... ",a-=5;break}return s=this.buffer.slice(r,a),i.repeat(" ",t)+n+s+o+"\n"+i.repeat(" ",t+this.position-r+n.length)+"^"},r.prototype.toString=function(t){var e,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),t||(e=this.getSnippet(),e&&(n+=":\n"+e)),n},e.exports=r},{"./common":2}],7:[function(t,e,n){"use strict";function r(t,e,n){var i=[];return t.include.forEach(function(t){n=r(t,e,n)}),t[e].forEach(function(t){n.forEach(function(e,n){e.tag===t.tag&&i.push(n)}),n.push(t)}),n.filter(function(t,e){return-1===i.indexOf(e)})}function i(){function t(t){r[t.tag]=t}var e,n,r={};for(e=0,n=arguments.length;n>e;e+=1)arguments[e].forEach(t);return r}function o(t){this.include=t.include||[],this.implicit=t.implicit||[],this.explicit=t.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&"scalar"!==t.loadKind)throw new s("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=r(this,"implicit",[]),this.compiledExplicit=r(this,"explicit",[]),this.compiledTypeMap=i(this.compiledImplicit,this.compiledExplicit)}var a=t("./common"),s=t("./exception"),l=t("./type");o.DEFAULT=null,o.create=function(){var t,e;switch(arguments.length){case 1:t=o.DEFAULT,e=arguments[0];break;case 2:t=arguments[0],e=arguments[1];break;default:throw new s("Wrong number of arguments for Schema.create function")}if(t=a.toArray(t),e=a.toArray(e),!t.every(function(t){return t instanceof o}))throw new s("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!e.every(function(t){return t instanceof l}))throw new s("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new o({include:t,explicit:e})},e.exports=o},{"./common":2,"./exception":4,"./type":13}],8:[function(t,e,n){"use strict";var r=t("../schema");e.exports=new r({include:[t("./json")]})},{"../schema":7,"./json":12}],9:[function(t,e,n){"use strict";var r=t("../schema");e.exports=r.DEFAULT=new r({include:[t("./default_safe")],explicit:[t("../type/js/undefined"),t("../type/js/regexp"),t("../type/js/function")]})},{"../schema":7,"../type/js/function":18,"../type/js/regexp":19,"../type/js/undefined":20,"./default_safe":10}],10:[function(t,e,n){"use strict";var r=t("../schema");e.exports=new r({include:[t("./core")],implicit:[t("../type/timestamp"),t("../type/merge")],explicit:[t("../type/binary"),t("../type/omap"),t("../type/pairs"),t("../type/set")]})},{"../schema":7,"../type/binary":14,"../type/merge":22,"../type/omap":24,"../type/pairs":25,"../type/set":27,"../type/timestamp":29,"./core":8}],11:[function(t,e,n){"use strict";var r=t("../schema");e.exports=new r({explicit:[t("../type/str"),t("../type/seq"),t("../type/map")]})},{"../schema":7,"../type/map":21,"../type/seq":26,"../type/str":28}],12:[function(t,e,n){"use strict";var r=t("../schema");e.exports=new r({include:[t("./failsafe")],implicit:[t("../type/null"),t("../type/bool"),t("../type/int"),t("../type/float")]})},{"../schema":7,"../type/bool":15,"../type/float":16,"../type/int":17,"../type/null":23,"./failsafe":11}],13:[function(t,e,n){
"use strict";function r(t){var e={};return null!==t&&Object.keys(t).forEach(function(n){t[n].forEach(function(t){e[String(t)]=n})}),e}function i(t,e){if(e=e||{},Object.keys(e).forEach(function(e){if(-1===a.indexOf(e))throw new o('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')}),this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.defaultStyle=e.defaultStyle||null,this.styleAliases=r(e.styleAliases||null),-1===s.indexOf(this.kind))throw new o('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var o=t("./exception"),a=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],s=["scalar","sequence","mapping"];e.exports=i},{"./exception":4}],14:[function(t,e,n){"use strict";function r(t){if(null===t)return!1;var e,n,r=0,i=t.length,o=u;for(n=0;i>n;n++)if(e=o.indexOf(t.charAt(n)),!(e>64)){if(0>e)return!1;r+=6}return r%8===0}function i(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,o=u,a=0,l=[];for(e=0;i>e;e++)e%4===0&&e&&(l.push(a>>16&255),l.push(a>>8&255),l.push(255&a)),a=a<<6|o.indexOf(r.charAt(e));return n=i%4*6,0===n?(l.push(a>>16&255),l.push(a>>8&255),l.push(255&a)):18===n?(l.push(a>>10&255),l.push(a>>2&255)):12===n&&l.push(a>>4&255),s?new s(l):l}function o(t){var e,n,r="",i=0,o=t.length,a=u;for(e=0;o>e;e++)e%3===0&&e&&(r+=a[i>>18&63],r+=a[i>>12&63],r+=a[i>>6&63],r+=a[63&i]),i=(i<<8)+t[e];return n=o%3,0===n?(r+=a[i>>18&63],r+=a[i>>12&63],r+=a[i>>6&63],r+=a[63&i]):2===n?(r+=a[i>>10&63],r+=a[i>>4&63],r+=a[i<<2&63],r+=a[64]):1===n&&(r+=a[i>>2&63],r+=a[i<<4&63],r+=a[64],r+=a[64]),r}function a(t){return s&&s.isBuffer(t)}var s=t("buffer").Buffer,l=t("../type"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new l("tag:yaml.org,2002:binary",{kind:"scalar",resolve:r,construct:i,predicate:a,represent:o})},{"../type":13,buffer:30}],15:[function(t,e,n){"use strict";function r(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)}function i(t){return"true"===t||"True"===t||"TRUE"===t}function o(t){return"[object Boolean]"===Object.prototype.toString.call(t)}var a=t("../type");e.exports=new a("tag:yaml.org,2002:bool",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"})},{"../type":13}],16:[function(t,e,n){"use strict";function r(t){if(null===t)return!1;return u.test(t)?!0:!1}function i(t){var e,n,r,i;return e=t.replace(/_/g,"").toLowerCase(),n="-"===e[0]?-1:1,i=[],0<="+-".indexOf(e[0])&&(e=e.slice(1)),".inf"===e?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?0/0:0<=e.indexOf(":")?(e.split(":").forEach(function(t){i.unshift(parseFloat(t,10))}),e=0,r=1,i.forEach(function(t){e+=t*r,r*=60}),n*e):n*parseFloat(e,10)}function o(t,e){if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(s.isNegativeZero(t))return"-0.0";return t.toString(10)}function a(t){return"[object Number]"===Object.prototype.toString.call(t)&&(0!==t%1||s.isNegativeZero(t))}var s=t("../common"),l=t("../type"),u=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");e.exports=new l("tag:yaml.org,2002:float",{kind:"scalar",resolve:r,construct:i,predicate:a,represent:o,defaultStyle:"lowercase"})},{"../common":2,"../type":13}],17:[function(t,e,n){"use strict";function r(t){return t>=48&&57>=t||t>=65&&70>=t||t>=97&&102>=t}function i(t){return t>=48&&55>=t}function o(t){return t>=48&&57>=t}function a(t){if(null===t)return!1;var e,n=t.length,a=0,s=!1;if(!n)return!1;if(e=t[a],("-"===e||"+"===e)&&(e=t[++a]),"0"===e){if(a+1===n)return!0;if(e=t[++a],"b"===e){for(a++;n>a;a++)if(e=t[a],"_"!==e){if("0"!==e&&"1"!==e)return!1;s=!0}return s}if("x"===e){for(a++;n>a;a++)if(e=t[a],"_"!==e){if(!r(t.charCodeAt(a)))return!1;s=!0}return s}for(;n>a;a++)if(e=t[a],"_"!==e){if(!i(t.charCodeAt(a)))return!1;s=!0}return s}for(;n>a;a++)if(e=t[a],"_"!==e){if(":"===e)break;if(!o(t.charCodeAt(a)))return!1;s=!0}return s?":"!==e?!0:/^(:[0-5]?[0-9])+$/.test(t.slice(a)):!1}function s(t){var e,n,r=t,i=1,o=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),e=r[0],("-"===e||"+"===e)&&("-"===e&&(i=-1),r=r.slice(1),e=r[0]),"0"===r?0:"0"===e?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach(function(t){o.unshift(parseInt(t,10))}),r=0,n=1,o.forEach(function(t){r+=t*n,n*=60}),i*r):i*parseInt(r,10)}function l(t){return"[object Number]"===Object.prototype.toString.call(t)&&0===t%1&&!u.isNegativeZero(t)}var u=t("../common"),c=t("../type");e.exports=new c("tag:yaml.org,2002:int",{kind:"scalar",resolve:a,construct:s,predicate:l,represent:{binary:function(t){return"0b"+t.toString(2)},octal:function(t){return"0"+t.toString(8)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return"0x"+t.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":2,"../type":13}],18:[function(t,e,n){"use strict";function r(t){if(null===t)return!1;try{var e="("+t+")",n=s.parse(e,{range:!0});return"Program"!==n.type||1!==n.body.length||"ExpressionStatement"!==n.body[0].type||"FunctionExpression"!==n.body[0].expression.type?!1:!0}catch(r){return!1}}function i(t){var e,n="("+t+")",r=s.parse(n,{range:!0}),i=[];if("Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"FunctionExpression"!==r.body[0].expression.type)throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(t){i.push(t.name)}),e=r.body[0].expression.body.range,new Function(i,n.slice(e[0]+1,e[1]-1))}function o(t){return t.toString()}function a(t){return"[object Function]"===Object.prototype.toString.call(t)}var s;try{s=t("esprima")}catch(l){"undefined"!=typeof window&&(s=window.esprima)}var u=t("../../type");e.exports=new u("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:r,construct:i,predicate:a,represent:o})},{"../../type":13,esprima:"esprima"}],19:[function(t,e,n){"use strict";function r(t){if(null===t)return!1;if(0===t.length)return!1;var e=t,n=/\/([gim]*)$/.exec(t),r="";if("/"===e[0]){if(n&&(r=n[1]),r.length>3)return!1;if("/"!==e[e.length-r.length-1])return!1;e=e.slice(1,e.length-r.length-1)}try{{new RegExp(e,r)}return!0}catch(i){return!1}}function i(t){var e=t,n=/\/([gim]*)$/.exec(t),r="";return"/"===e[0]&&(n&&(r=n[1]),e=e.slice(1,e.length-r.length-1)),new RegExp(e,r)}function o(t){var e="/"+t.source+"/";return t.global&&(e+="g"),t.multiline&&(e+="m"),t.ignoreCase&&(e+="i"),e}function a(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var s=t("../../type");e.exports=new s("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:r,construct:i,predicate:a,represent:o})},{"../../type":13}],20:[function(t,e,n){"use strict";function r(){return!0}function i(){return void 0}function o(){return""}function a(t){return"undefined"==typeof t}var s=t("../../type");e.exports=new s("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:r,construct:i,predicate:a,represent:o})},{"../../type":13}],21:[function(t,e,n){"use strict";var r=t("../type");e.exports=new r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}})},{"../type":13}],22:[function(t,e,n){"use strict";function r(t){return"<<"===t||null===t}var i=t("../type");e.exports=new i("tag:yaml.org,2002:merge",{kind:"scalar",resolve:r})},{"../type":13}],23:[function(t,e,n){"use strict";function r(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)}function i(){return null}function o(t){return null===t}var a=t("../type");e.exports=new a("tag:yaml.org,2002:null",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":13}],24:[function(t,e,n){"use strict";function r(t){if(null===t)return!0;var e,n,r,i,o,l=[],u=t;for(e=0,n=u.length;n>e;e+=1){if(r=u[e],o=!1,"[object Object]"!==s.call(r))return!1;for(i in r)if(a.call(r,i)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==l.indexOf(i))return!1;l.push(i)}return!0}function i(t){return null!==t?t:[]}var o=t("../type"),a=Object.prototype.hasOwnProperty,s=Object.prototype.toString;e.exports=new o("tag:yaml.org,2002:omap",{kind:"sequence",resolve:r,construct:i})},{"../type":13}],25:[function(t,e,n){"use strict";function r(t){if(null===t)return!0;var e,n,r,i,o,s=t;for(o=new Array(s.length),e=0,n=s.length;n>e;e+=1){if(r=s[e],"[object Object]"!==a.call(r))return!1;if(i=Object.keys(r),1!==i.length)return!1;o[e]=[i[0],r[i[0]]]}return!0}function i(t){if(null===t)return[];var e,n,r,i,o,a=t;for(o=new Array(a.length),e=0,n=a.length;n>e;e+=1)r=a[e],i=Object.keys(r),o[e]=[i[0],r[i[0]]];return o}var o=t("../type"),a=Object.prototype.toString;e.exports=new o("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:r,construct:i})},{"../type":13}],26:[function(t,e,n){"use strict";var r=t("../type");e.exports=new r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}})},{"../type":13}],27:[function(t,e,n){"use strict";function r(t){if(null===t)return!0;var e,n=t;for(e in n)if(a.call(n,e)&&null!==n[e])return!1;return!0}function i(t){return null!==t?t:{}}var o=t("../type"),a=Object.prototype.hasOwnProperty;e.exports=new o("tag:yaml.org,2002:set",{kind:"mapping",resolve:r,construct:i})},{"../type":13}],28:[function(t,e,n){"use strict";var r=t("../type");e.exports=new r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}})},{"../type":13}],29:[function(t,e,n){"use strict";function r(t){if(null===t)return!1;var e;return e=s.exec(t),null===e?!1:!0}function i(t){var e,n,r,i,o,a,l,u,c,h,d=0,f=null;if(e=s.exec(t),null===e)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(o=+e[4],a=+e[5],l=+e[6],e[7]){for(d=e[7].slice(0,3);d.length<3;)d+="0";d=+d}return e[9]&&(u=+e[10],c=+(e[11]||0),f=6e4*(60*u+c),"-"===e[9]&&(f=-f)),h=new Date(Date.UTC(n,r,i,o,a,l,d)),f&&h.setTime(h.getTime()-f),h}function o(t){return t.toISOString()}var a=t("../type"),s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$");e.exports=new a("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:r,construct:i,instanceOf:Date,represent:o})},{"../type":13}],30:[function(t,e,n){},{}],"/":[function(t,e,n){"use strict";var r=t("./lib/js-yaml.js");e.exports=r},{"./lib/js-yaml.js":1}]},{},[])("/")}),/**
 * @license AngularJS v1.4.2
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&s.test("."+t)}function i(t,e){if(!r(e))throw a("badmember",'Dotted member path "@{0}" is invalid.',e);for(var i=e.split("."),o=0,s=i.length;s>o&&t!==n;o++){var l=i[o];t=null!==t?t[l]:n}return t}function o(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var r in t)!t.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=t[r]);return n}var a=e.$$minErr("$resource"),s=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(r,s){function l(t){return u(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function u(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function c(e,n){this.template=e,this.defaults=p({},t.defaults,n),this.urlParams={}}function h(l,u,v,y){function w(t,e){var n={};return e=p({},u,e),f(e,function(e,r){m(e)&&(e=e()),n[r]=e&&e.charAt&&"@"==e.charAt(0)?i(t,e.substr(1)):e}),n}function b(t){return t.resource}function x(t){o(t||{},this)}var C=new c(l,y);return v=p({},t.defaults.actions,v),x.prototype.toJSON=function(){var t=p({},this);return delete t.$promise,delete t.$resolved,t},f(v,function(t,i){var l=/^(POST|PUT|PATCH)$/i.test(t.method);x[i]=function(u,c,h,v){var y,_,E,T={};switch(arguments.length){case 4:E=v,_=h;case 3:case 2:if(!m(c)){T=u,y=c,_=h;break}if(m(u)){_=u,E=c;break}_=c,E=h;case 1:m(u)?_=u:l?y=u:T=u;break;case 0:break;default:throw a("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var k=this instanceof x,S=k?y:t.isArray?[]:new x(y),$={},M=t.interceptor&&t.interceptor.response||b,A=t.interceptor&&t.interceptor.responseError||n;f(t,function(t,e){"params"!=e&&"isArray"!=e&&"interceptor"!=e&&($[e]=g(t))}),l&&($.data=y),C.setUrlParams($,p({},w(y,t.params||{}),T),t.url);var R=r($).then(function(n){var r=n.data,s=S.$promise;if(r){if(e.isArray(r)!==!!t.isArray)throw a("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",i,t.isArray?"array":"object",e.isArray(r)?"array":"object",$.method,$.url);t.isArray?(S.length=0,f(r,function(t){S.push("object"==typeof t?new x(t):t)})):(o(r,S),S.$promise=s)}return S.$resolved=!0,n.resource=S,n},function(t){return S.$resolved=!0,(E||d)(t),s.reject(t)});return R=R.then(function(t){var e=M(t);return(_||d)(e,t.headers),e},A),k?R:(S.$promise=R,S.$resolved=!1,S)},x.prototype["$"+i]=function(t,e,n){m(t)&&(n=e,e=t,t={});var r=x[i].call(this,t,this,e,n);return r.$promise||r}}),x.bind=function(t){return h(l,p({},u,t),v)},x}var d=e.noop,f=e.forEach,p=e.extend,g=e.copy,m=e.isFunction;return c.prototype={setUrlParams:function(t,n,r){var i,o,s=this,u=r||s.template,c=s.urlParams={};f(u.split(/\W/),function(t){if("hasOwnProperty"===t)throw a("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(u)&&(c[t]=!0)}),u=u.replace(/\\:/g,":"),n=n||{},f(s.urlParams,function(t,r){i=n.hasOwnProperty(r)?n[r]:s.defaults[r],e.isDefined(i)&&null!==i?(o=l(i),u=u.replace(new RegExp(":"+r+"(\\W|$)","g"),function(t,e){return o+e})):u=u.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),s.defaults.stripTrailingSlashes&&(u=u.replace(/\/+$/,"")||"/"),u=u.replace(/\/\.(?=\w+($|\?))/,"."),t.url=u.replace(/\/\\\./,"/."),f(n,function(e,n){s.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},h}]})}(window,window.angular),!function(){function t(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function e(t){return null===t?0/0:+t}function n(t){return!isNaN(t)}function r(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function i(t){return t.length}function o(t){for(var e=1;t*e%1;)e*=10;return e}function a(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function s(){this._=Object.create(null)}function l(t){return(t+="")===va||t[0]===ya?ya+t:t}function u(t){return(t+="")[0]===ya?t.slice(1):t}function c(t){return l(t)in this._}function h(t){return(t=l(t))in this._&&delete this._[t]}function d(){var t=[];for(var e in this._)t.push(u(e));return t}function f(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function m(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function v(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=wa.length;r>n;++n){var i=wa[n]+e;if(i in t)return i}}function y(){}function w(){}function b(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new s;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function x(){na.event.preventDefault()}function C(){for(var t,e=na.event;t=e.sourceEvent;)e=t;return e}function _(t){for(var e=new w,n=0,r=arguments.length;++n<r;)e[arguments[n]]=b(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=na.event;i.target=t,na.event=i,e[i.type].apply(n,r)}finally{na.event=o}}},e}function E(t){return xa(t,ka),t}function T(t){return"function"==typeof t?t:function(){return Ca(t,this)}}function k(t){return"function"==typeof t?t:function(){return _a(t,this)}}function S(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=na.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function $(t){return t.trim().replace(/\s+/g," ")}function M(t){return new RegExp("(?:^|\\s+)"+na.requote(t)+"(?:\\s+|$)","g")}function A(t){return(t+"").trim().split(/^|\s+/)}function R(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=A(t).map(D);var i=t.length;return"function"==typeof e?r:n}function D(t){var e=M(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",$(i+" "+t))):n.setAttribute("class",$(i.replace(e," ")))}}function O(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function P(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function H(t){return"function"==typeof t?t:(t=na.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function L(){var t=this.parentNode;t&&t.removeChild(this)}function N(t){return{__data__:t}}function I(t){return function(){return Ta(this,t)}}function B(e){return arguments.length||(e=t),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function j(t,e){for(var n=0,r=t.length;r>n;n++)for(var i,o=t[n],a=0,s=o.length;s>a;a++)(i=o[a])&&e(i,a,n);return t}function F(t){return xa(t,$a),t}function V(t){var e,n;return function(r,i,o){var a,s=t[o].update,l=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<l;);return a}}function q(t){var e=t.__transition__;e&&++e.active}function z(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=l(e,ia(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+na.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),l=W;s>0&&(t=t.slice(0,s));var u=Aa.get(t);return u&&(t=u,l=U),s?e?i:r:e?y:o}function W(t,e){return function(n){var r=na.event;na.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{na.event=r}}}function U(t,e){var n=W(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function Y(){var t=".dragsuppress-"+ ++Da,e="click"+t,n=na.select(sa).on("touchmove"+t,x).on("dragstart"+t,x).on("selectstart"+t,x);if(Ra){var r=aa.style,i=r[Ra];r[Ra]="none"}return function(o){if(n.on(t,null),Ra&&(r[Ra]=i),o){var a=function(){n.on(e,null)};n.on(e,function(){x(),a()},!0),setTimeout(a,0)}}}function G(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>Oa&&(sa.scrollX||sa.scrollY)){n=na.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();Oa=!(i.f||i.e),n.remove()}return Oa?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function X(){return na.event.changedTouches[0].identifier}function K(){return na.event.target}function Z(){return sa}function J(t){return t>0?1:0>t?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:-1>t?La:Math.acos(t)}function et(t){return t>1?Ba:-1>t?-Ba:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function it(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):xt(""+t,Ct,st):new st(t,e,n)}function lt(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,o=2*n-a,new vt(i(t+120),i(t),i(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):t instanceof ht?ft(t.l,t.a,t.b):ft((t=_t((t=na.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=ja)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof ut?ct(t.h,t.c,t.l):_t((t=vt(t)).r,t.g,t.b):new ht(t,e,n)}function dt(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=pt(i)*Za,r=pt(r)*Ja,o=pt(o)*Qa,new vt(mt(3.2404542*i-1.5371385*r-.4985314*o),mt(-.969266*i+1.8760108*r+.041556*o),mt(.0556434*i-.2040259*r+1.0572252*o))}function ft(t,e,n){return t>0?new ut(Math.atan2(n,e)*Fa,Math.sqrt(e*e+n*n),t):new ut(0/0,0/0,t)}function pt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):xt(""+t,vt,lt):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function wt(t){return yt(t)+""}function bt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xt(t,e,n){var r,i,o,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(Tt(i[0]),Tt(i[1]),Tt(i[2]))}return(o=ns.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,l=15&o,l=l<<4|l):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function Ct(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(i=.5>l?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=0/0,i=l>0&&1>l?0:r),new st(r,i,l)}function _t(t,e,n){t=Et(t),e=Et(e),n=Et(n);var r=gt((.4124564*t+.3575761*e+.1804375*n)/Za),i=gt((.2126729*t+.7151522*e+.072175*n)/Ja),o=gt((.0193339*t+.119192*e+.9503041*n)/Qa);return ht(116*i-16,500*(r-i),200*(i-o))}function Et(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Tt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function kt(t){return"function"==typeof t?t:function(){return t}}function St(t){return t}function $t(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),Mt(e,n,t,r)}}function Mt(t,e,n,r){function i(){var t,e=l.status;if(!e&&Rt(l)||e>=200&&300>e||304===e){try{t=n.call(o,l)}catch(r){return void a.error.call(o,r)}a.load.call(o,t)}else a.error.call(o,l)}var o={},a=na.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!sa.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(t){var e=na.event;na.event=t;try{a.progress.call(o,l)}finally{na.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(ia(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,l),l.send(null==r?null:r),o},o.abort=function(){return l.abort(),o},na.rebind(o,a,"on"),null==r?o:o.get(At(r))}function At(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Rt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Dt(){var t=Ot(),e=Pt()-t;e>24?(isFinite(e)&&(clearTimeout(as),as=setTimeout(Dt,e)),os=0):(os=1,ls(Dt))}function Ot(){var t=Date.now();for(ss=rs;ss;)t>=ss.t&&(ss.f=ss.c(t-ss.t)),ss=ss.n;return t}function Pt(){for(var t,e=rs,n=1/0;e;)e.f?e=t?t.n=e.n:rs=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return is=t,n}function Ht(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Lt(t,e){var n=Math.pow(10,3*ma(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Nt(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:St;return function(t){var n=cs.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],h=n[7],d=n[8],f=n[9],p=1,g="",m="",v=!1,y=!0;switch(d&&(d=+d.substring(1)),(u||"0"===r&&"="===a)&&(u=r="0",a="="),f){case"n":h=!0,f="g";break;case"%":p=100,m="%",f="f";break;case"p":p=100,m="%",f="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+f.toLowerCase());case"c":y=!1;case"d":v=!0,d=0;break;case"s":p=-1,f="r"}"$"===l&&(g=i[0],m=i[1]),"r"!=f||d||(f="g"),null!=d&&("g"==f?d=Math.max(1,Math.min(21,d)):("e"==f||"f"==f)&&(d=Math.max(0,Math.min(20,d)))),f=hs.get(f)||It;var w=u&&h;return function(t){var n=m;if(v&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>p){var l=na.formatPrefix(t,d);t=l.scale(t),n=l.symbol+m}else t*=p;t=f(t,d);var b,x,C=t.lastIndexOf(".");if(0>C){var _=y?t.lastIndexOf("e"):-1;0>_?(b=t,x=""):(b=t.substring(0,_),x=t.substring(_))}else b=t.substring(0,C),x=e+t.substring(C+1);!u&&h&&(b=o(b,1/0));var E=g.length+b.length+x.length+(w?0:i.length),T=c>E?new Array(E=c-E+1).join(r):"";return w&&(b=o(T+b,T.length?c-x.length:1/0)),i+=g,t=b+x,("<"===a?i+t+T:">"===a?T+i+t:"^"===a?T.substring(0,E>>=1)+i+t+T.substring(E):i+(w?t:T+t))+n}}}function It(t){return t+""}function Bt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function jt(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function i(n){return e(n=t(new fs(n-1)),1),n}function o(t,n){return e(t=new fs(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;r>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{fs=Bt;var r=new Bt;return r._=t,a(r,e,n)}finally{fs=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var l=t.utc=Ft(t);return l.floor=l,l.round=Ft(r),l.ceil=Ft(i),l.offset=Ft(o),l.range=s,t}function Ft(t){return function(e,n){try{fs=Bt;var r=new Bt;return r._=e,t(r,n)._}finally{fs=Date}}}function Vt(t){function e(t){function e(e){for(var n,i,o,a=[],s=-1,l=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=gs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=$[n])&&(n=o(e,null==i?"e"===n?" ":"0":i)),a.push(n),l=s+1);return a.push(t.slice(l,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&fs!==Bt,a=new(o?Bt:fs);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,a,s=0,l=e.length,u=n.length;l>s;){if(r>=u)return-1;if(i=e.charCodeAt(s++),37===i){if(a=e.charAt(s++),o=M[a in gs?e.charAt(s++):a],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){C.lastIndex=0;var r=C.exec(e.slice(n));return r?(t.w=_.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){b.lastIndex=0;var r=b.exec(e.slice(n));return r?(t.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){k.lastIndex=0;var r=k.exec(e.slice(n));return r?(t.m=S.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){E.lastIndex=0;var r=E.exec(e.slice(n));return r?(t.m=T.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,$.c.toString(),e,r)}function l(t,e,r){return n(t,$.x.toString(),e,r)}function u(t,e,r){return n(t,$.X.toString(),e,r)}function c(t,e,n){var r=w.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var h=t.dateTime,d=t.date,f=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{fs=Bt;var e=new fs;return e._=t,r(e)}finally{fs=Date}}var r=e(t);return n.parse=function(t){try{fs=Bt;var e=r.parse(t);return e&&e._}finally{fs=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=le;var w=na.map(),b=zt(g),x=Wt(g),C=zt(m),_=Wt(m),E=zt(v),T=Wt(v),k=zt(y),S=Wt(y);p.forEach(function(t,e){w.set(t.toLowerCase(),e)});var $={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(h),d:function(t,e){return qt(t.getDate(),e,2)},e:function(t,e){return qt(t.getDate(),e,2)},H:function(t,e){return qt(t.getHours(),e,2)},I:function(t,e){return qt(t.getHours()%12||12,e,2)},j:function(t,e){return qt(1+ds.dayOfYear(t),e,3)},L:function(t,e){return qt(t.getMilliseconds(),e,3)},m:function(t,e){return qt(t.getMonth()+1,e,2)},M:function(t,e){return qt(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return qt(t.getSeconds(),e,2)},U:function(t,e){return qt(ds.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return qt(ds.mondayOfYear(t),e,2)},x:e(d),X:e(f),y:function(t,e){return qt(t.getFullYear()%100,e,2)},Y:function(t,e){return qt(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},M={a:r,A:i,b:o,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Qt,M:re,p:c,S:ie,U:Yt,w:Ut,W:Gt,x:l,X:u,y:Kt,Y:Xt,Z:Zt,"%":se};return e}function qt(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(e)+i:i)}function zt(t){return new RegExp("^(?:"+t.map(na.requote).join("|")+")","i")}function Wt(t){for(var e=new s,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ut(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Yt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Gt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Xt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Kt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.y=Jt(+r[0]),n+r[0].length):-1}function Zt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Jt(t){return t+(t>68?1900:2e3)}function Qt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function te(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ee(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ne(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function re(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ie(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oe(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=ma(e)/60|0,i=ma(e)%60;return n+qt(r,"0",2)+qt(i,"0",2)}function se(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function le(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function ue(){}function ce(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function he(t,e){t&&xs.hasOwnProperty(t.type)&&xs[t.type](t,e)}function de(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function fe(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)de(t[n],e,1);e.polygonEnd()}function pe(){function t(t,e){t*=ja,e=e*ja/2+La/4;var n=t-r,a=n>=0?1:-1,s=a*n,l=Math.cos(e),u=Math.sin(e),c=o*u,h=i*l+c*Math.cos(s),d=c*a*Math.sin(s);_s.add(Math.atan2(d,h)),r=t,i=l,o=u}var e,n,r,i,o;Es.point=function(a,s){Es.point=t,r=(e=a)*ja,i=Math.cos(s=(n=s)*ja/2+La/4),o=Math.sin(s)},Es.lineEnd=function(){t(e,n)}}function ge(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function we(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xe(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function Ce(t,e){return ma(t[0]-e[0])<Pa&&ma(t[1]-e[1])<Pa}function _e(t,e){t*=ja;var n=Math.cos(e*=ja);Ee(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Ee(t,e,n){++Ts,Ss+=(t-Ss)/Ts,$s+=(e-$s)/Ts,Ms+=(n-Ms)/Ts}function Te(){function t(t,i){t*=ja;var o=Math.cos(i*=ja),a=o*Math.cos(t),s=o*Math.sin(t),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=n*l-r*s)*u+(u=r*a-e*l)*u+(u=e*s-n*a)*u),e*a+n*s+r*l);ks+=u,As+=u*(e+(e=a)),Rs+=u*(n+(n=s)),Ds+=u*(r+(r=l)),Ee(e,n,r)}var e,n,r;Ls.point=function(i,o){i*=ja;var a=Math.cos(o*=ja);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Ls.point=t,Ee(e,n,r)}}function ke(){Ls.point=_e}function Se(){function t(t,e){t*=ja;var n=Math.cos(e*=ja),a=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=i*l-o*s,c=o*a-r*l,h=r*s-i*a,d=Math.sqrt(u*u+c*c+h*h),f=r*a+i*s+o*l,p=d&&-tt(f)/d,g=Math.atan2(d,f);Os+=p*u,Ps+=p*c,Hs+=p*h,ks+=g,As+=g*(r+(r=a)),Rs+=g*(i+(i=s)),Ds+=g*(o+(o=l)),Ee(r,i,o)}var e,n,r,i,o;Ls.point=function(a,s){e=a,n=s,Ls.point=t,a*=ja;var l=Math.cos(s*=ja);r=l*Math.cos(a),i=l*Math.sin(a),o=Math.sin(s),Ee(r,i,o)},Ls.lineEnd=function(){t(e,n),Ls.lineEnd=ke,Ls.point=_e}}function $e(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Me(){return!0}function Ae(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Ce(n,r)){i.lineStart();for(var s=0;e>s;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var l=new De(n,t,null,!0),u=new De(n,null,l,!1);l.o=u,o.push(l),a.push(u),l=new De(r,t,null,!1),u=new De(r,null,l,!0),l.o=u,o.push(l),a.push(u)}}),a.sort(e),Re(o),Re(a),o.length){for(var s=0,l=n,u=a.length;u>s;++s)a[s].e=l=!l;for(var c,h,d=o[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;c=f.z,i.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var s=0,u=c.length;u>s;++s)i.point((h=c[s])[0],h[1]);else r(f.x,f.n.x,1,i);f=f.n}else{if(p){c=f.p.z;for(var s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1])}else r(f.x,f.p.x,-1,i);f=f.p}f=f.o,c=f.z,p=!p}while(!f.v);i.lineEnd()}}}function Re(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function De(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Oe(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);m.point(n[0],n[1])}function l(){y.point=s,m.lineStart()}function u(){y.point=a,m.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function h(){b.lineStart(),g=[]}function d(){c(g[0][0],g[0][1]),b.lineEnd();var t,e=b.clean(),n=w.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&e){t=n[0];var i,r=t.length-1,a=-1;if(r>0){for(x||(o.polygonStart(),x=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Pe))}var f,p,g,m=e(o),v=i.invert(r[0],r[1]),y={point:a,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=h,y.lineEnd=d,f=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=u,f=na.merge(f);var t=je(v,p);f.length?(x||(o.polygonStart(),x=!0),Ae(f,Le,t,n,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),f=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},w=He(),b=e(w),x=!1;return y}}function Pe(t){return t.length>1}function He(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:y,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Le(t,e){return((t=t.x)[0]<0?t[1]-Ba-Pa:Ba-t[1])-((e=e.x)[0]<0?e[1]-Ba-Pa:Ba-e[1])}function Ne(t){var e,n=0/0,r=0/0,i=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?La:-La,l=ma(o-n);ma(l-La)<Pa?(t.point(n,r=(r+a)/2>0?Ba:-Ba),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=La&&(ma(n-i)<Pa&&(n-=i*Pa),ma(o-s)<Pa&&(o-=s*Pa),r=Ie(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=0/0},clean:function(){return 2-e}}}function Ie(t,e,n,r){var i,o,a=Math.sin(t-n);return ma(a)>Pa?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function Be(t,e,n,r){var i;if(null==t)i=n*Ba,r.point(-La,i),r.point(0,i),r.point(La,i),r.point(La,0),r.point(La,-i),r.point(0,-i),r.point(-La,-i),r.point(-La,0),r.point(-La,i);else if(ma(t[0]-e[0])>Pa){var o=t[0]<e[0]?La:-La;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function je(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;_s.reset();for(var s=0,l=e.length;l>s;++s){var u=e[s],c=u.length;if(c)for(var h=u[0],d=h[0],f=h[1]/2+La/4,p=Math.sin(f),g=Math.cos(f),m=1;;){m===c&&(m=0),t=u[m];var v=t[0],y=t[1]/2+La/4,w=Math.sin(y),b=Math.cos(y),x=v-d,C=x>=0?1:-1,_=C*x,E=_>La,T=p*w;if(_s.add(Math.atan2(T*C*Math.sin(_),g*b+T*Math.cos(_))),o+=E?x+C*Na:x,E^d>=n^v>=n){var k=ve(ge(h),ge(t));be(k);var S=ve(i,k);be(S);var $=(E^x>=0?-1:1)*et(S[2]);(r>$||r===$&&(k[0]||k[1]))&&(a+=E^x>=0?1:-1)}if(!m++)break;d=v,p=w,g=b,h=t}}return(-Pa>o||Pa>o&&0>_s)^1&a}function Fe(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,d){var f,p=[h,d],g=e(h,d),m=a?g?0:i(h,d):g?i(h+(0>h?La:-La),d):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(f=r(n,p),(Ce(n,f)||Ce(p,f))&&(p[0]+=Pa,p[1]+=Pa,g=e(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),f=r(p,n),t.point(f[0],f[1])):(f=r(n,p),t.point(f[0],f[1]),t.lineEnd()),n=f;else if(s&&n&&a^g){var v;m&o||!(v=r(p,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&Ce(n,p)||t.point(p[0],p[1]),n=p,l=g,o=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function r(t,e,n){var r=ge(t),i=ge(e),a=[1,0,0],s=ve(r,i),l=me(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var h=o*l/c,d=-o*u/c,f=ve(a,s),p=we(a,h),g=we(s,d);ye(p,g);var m=f,v=me(p,m),y=me(m,m),w=v*v-y*(me(p,p)-1);if(!(0>w)){var b=Math.sqrt(w),x=we(m,(-v-b)/y);if(ye(x,p),x=xe(x),!n)return x;var C,_=t[0],E=e[0],T=t[1],k=e[1];_>E&&(C=_,_=E,E=C);var S=E-_,$=ma(S-La)<Pa,M=$||Pa>S;if(!$&&T>k&&(C=T,T=k,k=C),M?$?T+k>0^x[1]<(ma(x[0]-_)<Pa?T:k):T<=x[1]&&x[1]<=k:S>La^(_<=x[0]&&x[0]<=E)){var A=we(m,(-v+b)/y);return ye(A,p),[x,xe(A)]}}}function i(e,n){var r=a?t:La-t,i=0;return-r>e?i|=1:e>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=ma(o)>Pa,l=gn(t,6*ja);return Oe(e,n,l,a?[0,-t]:[-La,t-La])}function Ve(t,e,n,r){return function(i){var o,a=i.a,s=i.b,l=a.x,u=a.y,c=s.x,h=s.y,d=0,f=1,p=c-l,g=h-u;if(o=t-l,p||!(o>0)){if(o/=p,0>p){if(d>o)return;f>o&&(f=o)}else if(p>0){if(o>f)return;o>d&&(d=o)}if(o=n-l,p||!(0>o)){if(o/=p,0>p){if(o>f)return;o>d&&(d=o)}else if(p>0){if(d>o)return;f>o&&(f=o)}if(o=e-u,g||!(o>0)){if(o/=g,0>g){if(d>o)return;f>o&&(f=o)}else if(g>0){if(o>f)return;o>d&&(d=o)}if(o=r-u,g||!(0>o)){if(o/=g,0>g){if(o>f)return;o>d&&(d=o)}else if(g>0){if(d>o)return;f>o&&(f=o)}return d>0&&(i.a={x:l+d*p,y:u+d*g}),1>f&&(i.b={x:l+f*p,y:u+f*g}),i}}}}}}function qe(t,e,n,r){function i(r,i){return ma(r[0]-t)<Pa?i>0?0:3:ma(r[0]-n)<Pa?i>0?2:1:ma(r[1]-e)<Pa?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=m.length,r=t[1],i=0;n>i;++i)for(var o,a=1,s=m[i],l=s.length,u=s[0];l>a;++a)o=s[a],u[1]<=r?o[1]>r&&Q(u,o,t)>0&&++e:o[1]<=r&&Q(u,o,t)<0&&--e,u=o;return 0!==e}function u(o,s,l,u){var c=0,h=0;if(null==o||(c=i(o,l))!==(h=i(s,l))||a(o,s)<0^l>0){do u.point(0===c||3===c?t:n,c>1?r:e);
while((c=(c+l+4)%4)!==h)}else u.point(s[0],s[1])}function c(i,o){return i>=t&&n>=i&&o>=e&&r>=o}function h(t,e){c(t,e)&&s.point(t,e)}function d(){M.point=p,m&&m.push(v=[]),E=!0,_=!1,x=C=0/0}function f(){g&&(p(y,w),b&&_&&S.rejoin(),g.push(S.buffer())),M.point=h,_&&s.lineEnd()}function p(t,e){t=Math.max(-Is,Math.min(Is,t)),e=Math.max(-Is,Math.min(Is,e));var n=c(t,e);if(m&&v.push([t,e]),E)y=t,w=e,b=n,E=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&_)s.point(t,e);else{var r={a:{x:x,y:C},b:{x:t,y:e}};$(r)?(_||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),T=!1):n&&(s.lineStart(),s.point(t,e),T=!1)}x=t,C=e,_=n}var g,m,v,y,w,b,x,C,_,E,T,k=s,S=He(),$=Ve(t,e,n,r),M={point:h,lineStart:d,lineEnd:f,polygonStart:function(){s=S,g=[],m=[],T=!0},polygonEnd:function(){s=k,g=na.merge(g);var e=l([t,r]),n=T&&e,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),i&&Ae(g,o,e,u,s),s.polygonEnd()),g=m=v=null}};return M}}function ze(t){var e=0,n=La/3,r=sn(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*La/180,n=t[1]*La/180):[e/La*180,n/La*180]},i}function We(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,et((o-(t*t+n*n)*i*i)/(2*i))]},n}function Ue(){function t(t,e){js+=i*t-r*e,r=t,i=e}var e,n,r,i;Ws.point=function(o,a){Ws.point=t,e=r=o,n=i=a},Ws.lineEnd=function(){t(e,n)}}function Ye(t,e){Fs>t&&(Fs=t),t>qs&&(qs=t),Vs>e&&(Vs=e),e>zs&&(zs=e)}function Ge(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Xe(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=Xe(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Xe(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ke(t,e){Ss+=t,$s+=e,++Ms}function Ze(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);As+=a*(e+t)/2,Rs+=a*(n+r)/2,Ds+=a,Ke(e=t,n=r)}var e,n;Ys.point=function(r,i){Ys.point=t,Ke(e=r,n=i)}}function Je(){Ys.point=Ke}function Qe(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);As+=a*(r+t)/2,Rs+=a*(i+e)/2,Ds+=a,a=i*t-r*e,Os+=a*(r+t),Ps+=a*(i+e),Hs+=3*a,Ke(r=t,i=e)}var e,n,r,i;Ys.point=function(o,a){Ys.point=t,Ke(e=r=o,n=i=a)},Ys.lineEnd=function(){t(e,n)}}function tn(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Na)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:y};return s}function en(t){function e(t){return(s?r:n)(t)}function n(e){return on(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){w=0/0,E.point=o,e.lineStart()}function o(n,r){var o=ge([n,r]),a=t(n,r);i(w,b,y,x,C,_,w=a[0],b=a[1],y=n,x=o[0],C=o[1],_=o[2],s,e),e.point(w,b)}function a(){E.point=n,e.lineEnd()}function l(){r(),E.point=u,E.lineEnd=c}function u(t,e){o(h=t,d=e),f=w,p=b,g=x,m=C,v=_,E.point=o}function c(){i(w,b,y,x,C,_,f,p,h,g,m,v,s,e),E.lineEnd=a,a()}var h,d,f,p,g,m,v,y,w,b,x,C,_,E={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),E.lineStart=l},polygonEnd:function(){e.polygonEnd(),E.lineStart=r}};return E}function i(e,n,r,s,l,u,c,h,d,f,p,g,m,v){var y=c-e,w=h-n,b=y*y+w*w;if(b>4*o&&m--){var x=s+f,C=l+p,_=u+g,E=Math.sqrt(x*x+C*C+_*_),T=Math.asin(_/=E),k=ma(ma(_)-1)<Pa||ma(r-d)<Pa?(r+d)/2:Math.atan2(C,x),S=t(k,T),$=S[0],M=S[1],A=$-e,R=M-n,D=w*A-y*R;(D*D/b>o||ma((y*A+w*R)/b-.5)>.3||a>s*f+l*p+u*g)&&(i(e,n,r,s,l,u,$,M,k,x/=E,C/=E,_,m,v),v.point($,M),i($,M,k,x,C,_,c,h,d,f,p,g,m,v))}}var o=.5,a=Math.cos(30*ja),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function nn(t){var e=en(function(e,n){return t([e*Fa,n*Fa])});return function(t){return ln(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return t=s(t[0]*ja,t[1]*ja),[t[0]*d+l,u-t[1]*d]}function n(t){return t=s.invert((t[0]-l)/d,(u-t[1])/d),t&&[t[0]*Fa,t[1]*Fa]}function r(){s=$e(a=hn(v,y,w),o);var t=o(g,m);return l=f-t[0]*d,u=p+t[1]*d,i()}function i(){return c&&(c.valid=!1,c=null),e}var o,a,s,l,u,c,h=en(function(t,e){return t=o(t,e),[t[0]*d+l,u-t[1]*d]}),d=150,f=480,p=250,g=0,m=0,v=0,y=0,w=0,b=Ns,x=St,C=null,_=null;return e.stream=function(t){return c&&(c.valid=!1),c=ln(b(a,h(x(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(C=t,Ns):Fe((C=+t)*ja),i()):C},e.clipExtent=function(t){return arguments.length?(_=t,x=t?qe(t[0][0],t[0][1],t[1][0],t[1][1]):St,i()):_},e.scale=function(t){return arguments.length?(d=+t,r()):d},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],r()):[f,p]},e.center=function(t){return arguments.length?(g=t[0]%360*ja,m=t[1]%360*ja,r()):[g*Fa,m*Fa]},e.rotate=function(t){return arguments.length?(v=t[0]%360*ja,y=t[1]%360*ja,w=t.length>2?t[2]%360*ja:0,r()):[v*Fa,y*Fa,w*Fa]},na.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function ln(t){return on(t,function(e,n){t.point(e*ja,n*ja)})}function un(t,e){return[t,e]}function cn(t,e){return[t>La?t-Na:-La>t?t+Na:t,e]}function hn(t,e,n){return t?e||n?$e(fn(t),pn(e,n)):fn(t):e||n?pn(e,n):cn}function dn(t){return function(e,n){return e+=t,[e>La?e-Na:-La>e?e+Na:e,n]}}function fn(t){var e=dn(t);return e.invert=dn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*r+s*i;return[Math.atan2(l*o-c*a,s*r-u*i),et(c*o+l*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*o-l*a;return[Math.atan2(l*o+u*a,s*r+c*i),et(c*r-s*i)]},n}function gn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var l=a*e;null!=i?(i=mn(n,i),o=mn(n,o),(a>0?o>i:i>o)&&(i+=a*Na)):(i=t+a*Na,o=t-.5*l);for(var u,c=i;a>0?c>o:o>c;c-=l)s.point((u=xe([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function mn(t,e){var n=ge(e);n[0]-=t,be(n);var r=tt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Pa)%(2*Math.PI)}function vn(t,e,n){var r=na.range(t,e-Pa,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function yn(t,e,n){var r=na.range(t,e-Pa,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function wn(t){return t.source}function bn(t){return t.target}function xn(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),l=i*Math.cos(t),u=i*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),d=2*Math.asin(Math.sqrt(ot(r-e)+i*a*ot(n-t))),f=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*f,n=Math.sin(d-t)*f,r=n*l+e*c,i=n*u+e*h,a=n*o+e*s;return[Math.atan2(i,r)*Fa,Math.atan2(a,Math.sqrt(r*r+i*i))*Fa]}:function(){return[t*Fa,e*Fa]};return p.distance=d,p}function Cn(){function t(t,i){var o=Math.sin(i*=ja),a=Math.cos(i),s=ma((t*=ja)-e),l=Math.cos(s);Gs+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*l)*s),n*o+r*a*l),e=t,n=o,r=a}var e,n,r;Xs.point=function(i,o){e=i*ja,n=Math.sin(o*=ja),r=Math.cos(o),Xs.point=t},Xs.lineEnd=function(){Xs.point=Xs.lineEnd=y}}function _n(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function En(t,e){function n(t,e){a>0?-Ba+Pa>e&&(e=-Ba+Pa):e>Ba-Pa&&(e=Ba-Pa);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(La/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=J(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Ba]},n):kn}function Tn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return ma(i)<Pa?un:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-J(i)*Math.sqrt(t*t+n*n)]},n)}function kn(t,e){return[t,Math.log(Math.tan(La/4+e/2))]}function Sn(t){var e,n=an(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=La*r(),l=i();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function $n(t,e){return[Math.log(Math.tan(La/4+e/2)),-t]}function Mn(t){return t[0]}function An(t){return t[1]}function Rn(t){for(var e=t.length,n=[0,1],r=2,i=2;e>i;i++){for(;r>1&&Q(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Dn(t,e){return t[0]-e[0]||t[1]-e[1]}function On(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Pn(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,l=t[1],u=n[1],c=e[1]-l,h=r[1]-u,d=(s*(l-u)-h*(i-o))/(h*a-s*c);return[i+d*a,l+d*c]}function Hn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Ln(){rr(this),this.edge=this.site=this.circle=null}function Nn(t){var e=sl.pop()||new Ln;return e.site=t,e}function In(t){Gn(t),il.remove(t),sl.push(t),rr(t)}function Bn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];In(t);for(var l=o;l.circle&&ma(n-l.circle.x)<Pa&&ma(r-l.circle.cy)<Pa;)o=l.P,s.unshift(l),In(l),l=o;s.unshift(l),Gn(l);for(var u=a;u.circle&&ma(n-u.circle.x)<Pa&&ma(r-u.circle.cy)<Pa;)a=u.N,s.push(u),In(u),u=a;s.push(u),Gn(u);var c,h=s.length;for(c=1;h>c;++c)u=s[c],l=s[c-1],tr(u.edge,l.site,u.site,i);l=s[0],u=s[h-1],u.edge=Jn(l.site,u.site,null,i),Yn(l),Yn(u)}function jn(t){for(var e,n,r,i,o=t.x,a=t.y,s=il._;s;)if(r=Fn(s,a)-o,r>Pa)s=s.L;else{if(i=o-Vn(s,a),!(i>Pa)){r>-Pa?(e=s.P,n=s):i>-Pa?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=Nn(t);if(il.insert(e,l),e||n){if(e===n)return Gn(e),n=Nn(e.site),il.insert(l,n),l.edge=n.edge=Jn(e.site,l.site),Yn(e),void Yn(n);if(!n)return void(l.edge=Jn(e.site,l.site));Gn(e),Gn(n);var u=e.site,c=u.x,h=u.y,d=t.x-c,f=t.y-h,p=n.site,g=p.x-c,m=p.y-h,v=2*(d*m-f*g),y=d*d+f*f,w=g*g+m*m,b={x:(m*y-f*w)/v+c,y:(d*w-g*y)/v+h};tr(n.edge,u,p,b),l.edge=Jn(u,t,null,b),n.edge=Jn(t,p,null,b),Yn(e),Yn(n)}}function Fn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n.x,l=n.y,u=l-e;if(!u)return s;var c=s-r,h=1/o-1/u,d=c/u;return h?(-d+Math.sqrt(d*d-2*h*(c*c/(-2*u)-l+u/2+i-o/2)))/h+r:(r+s)/2}function Vn(t,e){var n=t.N;if(n)return Fn(n,e);var r=t.site;return r.y===e?r.x:1/0}function qn(t){this.site=t,this.edges=[]}function zn(t){for(var e,n,r,i,o,a,s,l,u,c,h=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],g=rl,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(s=o.edges,l=s.length,a=0;l>a;)c=s[a].end(),r=c.x,i=c.y,u=s[++a%l].start(),e=u.x,n=u.y,(ma(r-e)>Pa||ma(i-n)>Pa)&&(s.splice(a,0,new er(Qn(o.site,c,ma(r-h)<Pa&&p-i>Pa?{x:h,y:ma(e-h)<Pa?n:p}:ma(i-p)<Pa&&d-r>Pa?{x:ma(n-p)<Pa?e:d,y:p}:ma(r-d)<Pa&&i-f>Pa?{x:d,y:ma(e-d)<Pa?n:f}:ma(i-f)<Pa&&r-h>Pa?{x:ma(n-f)<Pa?e:h,y:f}:null),o.site,null)),++l)}function Wn(t,e){return e.angle-t.angle}function Un(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,u=r.y-s,c=o.x-a,h=o.y-s,d=2*(l*h-u*c);if(!(d>=-Ha)){var f=l*l+u*u,p=c*c+h*h,g=(h*f-u*p)/d,m=(l*p-c*f)/d,h=m+s,v=ll.pop()||new Un;v.arc=t,v.site=i,v.x=g+a,v.y=h+Math.sqrt(g*g+m*m),v.cy=h,t.circle=v;for(var y=null,w=al._;w;)if(v.y<w.y||v.y===w.y&&v.x<=w.x){if(!w.L){y=w.P;break}w=w.L}else{if(!w.R){y=w;break}w=w.R}al.insert(y,v),y||(ol=v)}}}}function Gn(t){var e=t.circle;e&&(e.P||(ol=e.N),al.remove(e),ll.push(e),rr(e),t.circle=null)}function Xn(t){for(var e,n=nl,r=Ve(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!Kn(e,t)||!r(e)||ma(e.a.x-e.b.x)<Pa&&ma(e.a.y-e.b.y)<Pa)&&(e.a=e.b=null,n.splice(i,1))}function Kn(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,d=c.x,f=c.y,p=h.x,g=h.y,m=(d+p)/2,v=(f+g)/2;if(g===f){if(a>m||m>=s)return;if(d>p){if(o){if(o.y>=u)return}else o={x:m,y:l};n={x:m,y:u}}else{if(o){if(o.y<l)return}else o={x:m,y:u};n={x:m,y:l}}}else if(r=(d-p)/(g-f),i=v-r*m,-1>r||r>1)if(d>p){if(o){if(o.y>=u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(g>f){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Zn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Jn(t,e,n,r){var i=new Zn(t,e);return nl.push(i),n&&tr(i,t,e,n),r&&tr(i,e,t,r),rl[t.i].edges.push(new er(i,t,e)),rl[e.i].edges.push(new er(i,e,t)),i}function Qn(t,e,n){var r=new Zn(t,null);return r.a=e,r.b=n,nl.push(r),r}function tr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function er(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function nr(){this._=null}function rr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ir(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function or(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ar(t){for(;t.L;)t=t.L;return t}function sr(t,e){var n,r,i,o=t.sort(lr).pop();for(nl=[],rl=new Array(t.length),il=new nr,al=new nr;;)if(i=ol,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(rl[o.i]=new qn(o),jn(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Bn(i.arc)}e&&(Xn(e),zn(e));var a={cells:rl,edges:nl};return il=al=nl=rl=null,a}function lr(t,e){return e.y-t.y||e.x-t.x}function ur(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function cr(t){return t.x}function hr(t){return t.y}function dr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function fr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),l=e.nodes;l[0]&&fr(t,l[0],n,r,a,s),l[1]&&fr(t,l[1],a,r,i,s),l[2]&&fr(t,l[2],n,s,a,o),l[3]&&fr(t,l[3],a,s,i,o)}}function pr(t,e,n,r,i,o,a){var s,l=1/0;return function u(t,c,h,d,f){if(!(c>o||h>a||r>d||i>f)){if(p=t.point){var p,g=e-p[0],m=n-p[1],v=g*g+m*m;if(l>v){var y=Math.sqrt(l=v);r=e-y,i=n-y,o=e+y,a=n+y,s=p}}for(var w=t.nodes,b=.5*(c+d),x=.5*(h+f),C=e>=b,_=n>=x,E=_<<1|C,T=E+4;T>E;++E)if(t=w[3&E])switch(3&E){case 0:u(t,c,h,b,x);break;case 1:u(t,b,h,d,x);break;case 2:u(t,c,x,b,f);break;case 3:u(t,b,x,d,f)}}}(t,r,i,o,a),s}function gr(t,e){t=na.rgb(t),e=na.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+bt(Math.round(n+o*t))+bt(Math.round(r+a*t))+bt(Math.round(i+s*t))}}function mr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=wr(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function vr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yr(t,e){var n,r,i,o=cl.lastIndex=hl.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=cl.exec(t))&&(r=hl.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:vr(n,r)})),o=hl.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;e>r;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function wr(t,e){for(var n,r=na.interpolators.length;--r>=0&&!(n=na.interpolators[r](t,e)););return n}function br(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)r.push(wr(t[n],e[n]));for(;o>n;++n)i[n]=t[n];for(;a>n;++n)i[n]=e[n];return function(t){for(n=0;s>n;++n)i[n]=r[n](t);return i}}function xr(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Cr(t){return function(e){return 1-t(1-e)}}function _r(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Er(t){return t*t}function Tr(t){return t*t*t}function kr(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function Sr(t){return function(e){return Math.pow(e,t)}}function $r(t){return 1-Math.cos(t*Ba)}function Mr(t){return Math.pow(2,10*(t-1))}function Ar(t){return 1-Math.sqrt(1-t*t)}function Rr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Na*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Na/e)}}function Dr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Or(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Pr(t,e){t=na.hcl(t),e=na.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ct(n+o*t,r+a*t,i+s*t)+""}}function Hr(t,e){t=na.hsl(t),e=na.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return lt(n+o*t,r+a*t,i+s*t)+""}}function Lr(t,e){t=na.lab(t),e=na.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return dt(n+o*t,r+a*t,i+s*t)+""}}function Nr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Ir(t){var e=[t.a,t.b],n=[t.c,t.d],r=jr(e),i=Br(e,n),o=jr(Fr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Fa,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Fa:0}function Br(t,e){return t[0]*e[0]+t[1]*e[1]}function jr(t){var e=Math.sqrt(Br(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Fr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Vr(t,e){var n,r=[],i=[],o=na.transform(t),a=na.transform(e),s=o.translate,l=a.translate,u=o.rotate,c=a.rotate,h=o.skew,d=a.skew,f=o.scale,p=a.scale;return s[0]!=l[0]||s[1]!=l[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:vr(s[0],l[0])},{i:3,x:vr(s[1],l[1])})):r.push(l[0]||l[1]?"translate("+l+")":""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:vr(u,c)})):c&&r.push(r.pop()+"rotate("+c+")"),h!=d?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:vr(h,d)}):d&&r.push(r.pop()+"skewX("+d+")"),f[0]!=p[0]||f[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:vr(f[0],p[0])},{i:n-2,x:vr(f[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function qr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function zr(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Wr(t){for(var e=t.source,n=t.target,r=Yr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Ur(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Yr(t,e){if(t===e)return t;for(var n=Ur(t),r=Ur(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Gr(t){t.fixed|=2}function Xr(t){t.fixed&=-7}function Kr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Zr(t){t.fixed&=-5}function Jr(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,l=-1;++l<s;)o=a[l],null!=o&&(Jr(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,i+=u*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function Qr(t,e){return na.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=oi,t}function ti(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function ei(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function ni(t){return t.children}function ri(t){return t.value}function ii(t,e){return e.value-t.value}function oi(t){return na.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ai(t){return t.x}function si(t){return t.y}function li(t,e,n){t.y0=e,t.y=n}function ui(t){return na.range(t.length)}function ci(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function hi(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function di(t){return t.reduce(fi,0)}function fi(t,e){return t+e[1]}function pi(t,e){return gi(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function gi(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function mi(t){return[na.min(t),na.max(t)]}function vi(t,e){return t.value-e.value}function yi(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function wi(t,e){t._pack_next=e,e._pack_prev=t}function bi(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function xi(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(u=n.length)){var n,r,i,o,a,s,l,u,c=1/0,h=-(1/0),d=1/0,f=-(1/0);if(n.forEach(Ci),r=n[0],r.x=-r.r,r.y=0,e(r),u>1&&(i=n[1],i.x=i.r,i.y=0,e(i),u>2))for(o=n[2],Ti(r,i,o),e(o),yi(r,o),r._pack_prev=o,yi(o,i),i=r._pack_next,a=3;u>a;a++){Ti(r,i,o=n[a]);var p=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(bi(s,o)){p=1;break}if(1==p)for(l=r._pack_prev;l!==s._pack_prev&&!bi(l,o);l=l._pack_prev,m++);p?(m>g||g==m&&i.r<r.r?wi(r,i=s):wi(r=l,i),a--):(yi(r,o),i=o,e(o))}var v=(c+h)/2,y=(d+f)/2,w=0;for(a=0;u>a;a++)o=n[a],o.x-=v,o.y-=y,w=Math.max(w,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=w,n.forEach(_i)}}function Ci(t){t._pack_next=t._pack_prev=t}function _i(t){delete t._pack_next,delete t._pack_prev}function Ei(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Ei(i[o],e,n,r)}function Ti(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o;a*=a,r*=r;var l=.5+(r-a)/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+l*i+u*o,n.y=t.y+l*o-u*i}else n.x=t.x+r,n.y=t.y}function ki(t,e){return t.parent==e.parent?1:2}function Si(t){var e=t.children;return e.length?e[0]:t.t}function $i(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Mi(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Ai(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Ri(t,e,n){return t.a.parent===e.parent?t.a:n}function Di(t){return 1+na.max(t,function(t){return t.y})}function Oi(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Pi(t){var e=t.children;return e&&e.length?Pi(e[0]):t}function Hi(t){var e,n=t.children;return n&&(e=n.length)?Hi(n[e-1]):t}function Li(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ni(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Ii(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Bi(t){return t.rangeExtent?t.rangeExtent():Ii(t.range())}function ji(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Fi(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function Vi(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Cl}function qi(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=na.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function zi(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?qi:ji,l=r?zr:qr;return a=i(t,e,l,n),s=i(e,t,l,wr),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Nr)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return Gi(t,e)},o.tickFormat=function(e,n){return Xi(t,e,n)},o.nice=function(e){return Ui(t,e),i()},o.copy=function(){return zi(t,e,n,r)},i()}function Wi(t,e){return na.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ui(t,e){return Fi(t,Vi(Yi(t,e)[2]))}function Yi(t,e){null==e&&(e=10);var n=Ii(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Gi(t,e){return na.range.apply(na,Yi(t,e))}function Xi(t,e,n){var r=Yi(t,e);if(n){var i=cs.exec(n);if(i.shift(),"s"===i[8]){var o=na.formatPrefix(Math.max(ma(r[0]),ma(r[1])));return i[7]||(i[7]="."+Ki(o.scale(r[2]))),i[8]="f",n=na.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+Zi(i[8],r)),n=i.join("")}else n=",."+Ki(r[2])+"f";return na.format(n)}function Ki(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Zi(t,e){var n=Ki(e[2]);return t in _l?Math.abs(n-Ki(Math.max(ma(e[0]),ma(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Ji(t,e,n,r){function i(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=Fi(r.map(i),n?Math:Tl);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=Ii(r),a=[],s=t[0],l=t[1],u=Math.floor(i(s)),c=Math.ceil(i(l)),h=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var d=1;h>d;d++)a.push(o(u)*d);a.push(o(u))}else for(a.push(o(u));u++<c;)for(var d=h-1;d>0;d--)a.push(o(u)*d);for(u=0;a[u]<s;u++);for(c=a.length;a[c-1]>l;c--);a=a.slice(u,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return El;arguments.length<2?e=El:"function"!=typeof e&&(e=na.format(e));var r,s=Math.max(.1,t/a.ticks().length),l=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(l(i(t)+r))<=s?e(t):""}},a.copy=function(){return Ji(t.copy(),e,n,r)},Wi(a,t)}function Qi(t,e,n){function r(e){return t(i(e))}var i=to(e),o=to(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Gi(n,t)},r.tickFormat=function(t,e){return Xi(n,t,e)},r.nice=function(t){return r.domain(Ui(n,t))},r.exponent=function(a){return arguments.length?(i=to(e=a),o=to(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return Qi(t.copy(),e,n)},Wi(r,t)}function to(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function eo(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):0/0))-1)%o.length]}function r(e,n){return na.range(t.length).map(function(t){return e+n*t})}var i,o,a;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new s;for(var o,a=-1,l=r.length;++a<l;)i.has(o=r[a])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return o=r(l+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return o=r(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],h=i[1-u],d=(h-c)/(t.length-s+2*l);return o=r(c+d*l,d),u&&o.reverse(),a=d*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],h=i[1-u],d=Math.floor((h-c)/(t.length-s+2*l));return o=r(c+Math.round((h-c-(t.length-s)*d)/2),d),u&&o.reverse(),a=Math.round(d*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Ii(e.a[0])},n.copy=function(){return eo(t,e)},n.domain(t)}function no(r,i){function o(){var t=0,e=i.length;for(s=[];++t<e;)s[t-1]=na.quantile(r,t/e);return a}function a(t){return isNaN(t=+t)?void 0:i[na.bisect(s,t)]}var s;return a.domain=function(i){return arguments.length?(r=i.map(e).filter(n).sort(t),o()):r},a.range=function(t){return arguments.length?(i=t,o()):i},a.quantiles=function(){return s},a.invertExtent=function(t){return t=i.indexOf(t),0>t?[0/0,0/0]:[t>0?s[t-1]:r[0],t<s.length?s[t]:r[r.length-1]]},a.copy=function(){return no(r,i)},o()}function ro(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/o+t,[e,e+1/o]},r.copy=function(){return ro(t,e,n)},i()}function io(t,e){function n(n){return n>=n?e[na.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return io(t,e)},n}function oo(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Gi(t,e)},e.tickFormat=function(e,n){return Xi(t,e,n)},e.copy=function(){return oo(t)},e}function ao(){return 0}function so(t){return t.innerRadius}function lo(t){return t.outerRadius}function uo(t){return t.startAngle}function co(t){return t.endAngle}function ho(t){return t&&t.padAngle}function fo(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function po(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),l=s*a,u=-s*o,c=t[0]+l,h=t[1]+u,d=e[0]+l,f=e[1]+u,p=(c+d)/2,g=(h+f)/2,m=d-c,v=f-h,y=m*m+v*v,w=n-r,b=c*f-d*h,x=(0>v?-1:1)*Math.sqrt(w*w*y-b*b),C=(b*v-m*x)/y,_=(-b*m-v*x)/y,E=(b*v+m*x)/y,T=(-b*m+v*x)/y,k=C-p,S=_-g,$=E-p,M=T-g;return k*k+S*S>$*$+M*M&&(C=E,_=T),[[C-l,_-u],[C*n/w,_*n/w]]}function go(t){function e(e){function a(){u.push("M",o(t(c),s))}for(var l,u=[],c=[],h=-1,d=e.length,f=kt(n),p=kt(r);++h<d;)i.call(this,l=e[h],h)?c.push([+f.call(this,l,h),+p.call(this,l,h)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=Mn,r=An,i=Me,o=mo,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Rl.get(t)||mo).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function mo(t){return t.join("L")}function vo(t){return mo(t)+"Z"}function yo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);

return n>1&&i.push("H",r[0]),i.join("")}function wo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function bo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function xo(t,e){return t.length<4?mo(t):t[1]+Eo(t.slice(1,-1),To(t,e))}function Co(t,e){return t.length<3?mo(t):t[0]+Eo((t.push(t[0]),t),To([t[t.length-2]].concat(t,[t[1]]),e))}function _o(t,e){return t.length<3?mo(t):t[0]+Eo(t,To(t,e))}function Eo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return mo(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],l=2),e.length>1){s=e[1],o=t[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],s=e[u],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function To(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function ko(t){if(t.length<3)return mo(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",Ao(Pl,a),",",Ao(Pl,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Ro(l,a,s);return t.pop(),l.push("L",r),l.join("")}function So(t){if(t.length<4)return mo(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(Ao(Pl,o)+","+Ao(Pl,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Ro(n,o,a);return n.join("")}function $o(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[Ao(Pl,a),",",Ao(Pl,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Ro(e,a,s);return e.join("")}function Mo(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,u=-1;++u<=n;)r=t[u],i=u/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*l);return ko(t)}function Ao(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Ro(t,e,n){t.push("C",Ao(Dl,e),",",Ao(Dl,n),",",Ao(Ol,e),",",Ao(Ol,n),",",Ao(Pl,e),",",Ao(Pl,n))}function Do(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Oo(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Do(i,o);++e<n;)r[e]=(a+(a=Do(i=o,o=t[e+1])))/2;return r[e]=a,r}function Po(t){for(var e,n,r,i,o=[],a=Oo(t),s=-1,l=t.length-1;++s<l;)e=Do(t[s],t[s+1]),ma(e)<Pa?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Ho(t){return t.length<3?mo(t):t[0]+Eo(t,Po(t))}function Lo(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]-Ba,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function No(t){function e(e){function l(){g.push("M",s(t(v),h),c,u(t(m.reverse()),h),"Z")}for(var d,f,p,g=[],m=[],v=[],y=-1,w=e.length,b=kt(n),x=kt(i),C=n===r?function(){return f}:kt(r),_=i===o?function(){return p}:kt(o);++y<w;)a.call(this,d=e[y],y)?(m.push([f=+b.call(this,d,y),p=+x.call(this,d,y)]),v.push([+C.call(this,d,y),+_.call(this,d,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=Mn,r=Mn,i=0,o=An,a=Me,s=mo,l=s.key,u=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=Rl.get(t)||mo).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Io(t){return t.radius}function Bo(t){return[t.x,t.y]}function jo(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Ba;return[n*Math.cos(r),n*Math.sin(r)]}}function Fo(){return 64}function Vo(){return"circle"}function qo(t){var e=Math.sqrt(t/La);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function zo(t,e,n){return xa(t,jl),t.namespace=e,t.id=n,t}function Wo(t,e,n,r){var i=t.id,o=t.namespace;return j(t,"function"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function Uo(t){return null==t&&(t=""),function(){this.textContent=t}}function Yo(t){return null==t?"__transition__":"__transition_"+t+"__"}function Go(t,e,n,r,i){var o=t[n]||(t[n]={active:0,count:0}),a=o[r];if(!a){var l=i.time;a=o[r]={tween:new s,time:l,delay:i.delay,duration:i.duration,ease:i.ease},i=null,++o.count,na.timer(function(i){function s(n){return o.active>r?c(!1):(o.active=r,a.event&&a.event.start.call(t,f,e),a.tween.forEach(function(n,r){(r=r.call(t,f,e))&&m.push(r)}),d=a.ease,h=a.duration,void na.timer(function(){return g.c=u(n||1)?Me:u,1},0,l))}function u(e){if(o.active!==r)return c(!1);for(var n=e/h,i=d(n),a=m.length;a>0;)m[--a].call(t,i);return n>=1?c(!0):void 0}function c(i){return a.event&&a.event[i?"end":"interrupt"].call(t,f,e),--o.count?delete o[r]:delete t[n],1}var h,d,f=t.__data__,p=a.delay,g=ss,m=[];return g.t=p+l,i>=p?s(i-p):void(g.c=s)},0,l)}}function Xo(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function Ko(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function Zo(t){return t.toISOString()}function Jo(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,o=na.bisect(Xl,i);return o==Xl.length?[e.year,Yi(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/Xl[o-1]<Xl[o]/i?o-1:o]:[Jl,Yi(t,n)[2]]}return r.invert=function(e){return Qo(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Qo)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Qo(+n+1),e).length}var o=r.domain(),a=Ii(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(Fi(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Qo(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Qo(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Ii(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Qo(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Jo(t.copy(),e,n)},Wi(r,t)}function Qo(t){return new Date(t)}function ta(t){return JSON.parse(t.responseText)}function ea(t){var e=oa.createRange();return e.selectNode(oa.body),e.createContextualFragment(t.responseText)}var na={version:"3.5.0"};Date.now||(Date.now=function(){return+new Date});var ra=[].slice,ia=function(t){return ra.call(t)},oa=document,aa=oa.documentElement,sa=window;try{ia(aa.childNodes)[0].nodeType}catch(la){ia=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{oa.createElement("div").style.setProperty("opacity",0,"")}catch(ua){var ca=sa.Element.prototype,ha=ca.setAttribute,da=ca.setAttributeNS,fa=sa.CSSStyleDeclaration.prototype,pa=fa.setProperty;ca.setAttribute=function(t,e){ha.call(this,t,e+"")},ca.setAttributeNS=function(t,e,n){da.call(this,t,e,n+"")},fa.setProperty=function(t,e,n){pa.call(this,t,e+"",n)}}na.ascending=t,na.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},na.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},na.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},na.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},na.sum=function(t,e){var r,i=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)n(r=+t[a])&&(i+=r);else for(;++a<o;)n(r=+e.call(t,t[a],a))&&(i+=r);return i},na.mean=function(t,r){var i,o=0,a=t.length,s=-1,l=a;if(1===arguments.length)for(;++s<a;)n(i=e(t[s]))?o+=i:--l;else for(;++s<a;)n(i=e(r.call(t,t[s],s)))?o+=i:--l;return l?o/l:void 0},na.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},na.median=function(r,i){var o,a=[],s=r.length,l=-1;if(1===arguments.length)for(;++l<s;)n(o=e(r[l]))&&a.push(o);else for(;++l<s;)n(o=e(i.call(r,r[l],l)))&&a.push(o);return a.length?na.quantile(a.sort(t),.5):void 0};var ga=r(t);na.bisectLeft=ga.left,na.bisect=na.bisectRight=ga.right,na.bisector=function(e){return r(1===e.length?function(n,r){return t(e(n),r)}:e)},na.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,2>o&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},na.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},na.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(0>r?0:r);r>n;)o[n]=[e=i,i=t[++n]];return o},na.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=na.min(arguments,i),n=new Array(e);++t<e;)for(var r,o=-1,a=n[t]=new Array(r);++o<r;)a[o]=arguments[o][t];return n},na.transpose=function(t){return na.zip.apply(na,t)},na.keys=function(t){var e=[];for(var n in t)e.push(n);return e},na.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},na.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},na.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n};var ma=Math.abs;na.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],a=o(ma(n)),s=-1;if(t*=a,e*=a,n*=a,0>n)for(;(r=t+n*++s)>e;)i.push(r/a);else for(;(r=t+n*++s)<e;)i.push(r/a);return i},na.map=function(t,e){var n=new s;if(t instanceof s)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var va="__proto__",ya="\x00";a(s,{has:c,get:function(t){return this._[l(t)]},set:function(t,e){return this._[l(t)]=e},remove:h,keys:d,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:u(e),value:this._[e]});return t},size:f,empty:p,forEach:function(t){for(var e in this._)t.call(this,u(e),this._[e])}}),na.nest=function(){function t(e,a,l){if(l>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var u,c,h,d,f=-1,p=a.length,g=o[l++],m=new s;++f<p;)(d=m.get(u=g(c=a[f])))?d.push(c):m.set(u,[c]);return e?(c=e(),h=function(n,r){c.set(n,t(e,r,l))}):(c={},h=function(n,r){c[n]=t(e,r,l)}),m.forEach(h),c}function e(t,n){if(n>=o.length)return t;var r=[],i=a[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(na.map,n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},na.set=function(t){var e=new g;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},a(g,{has:c,add:function(t){return this._[l(t+="")]=!0,t},remove:h,values:d,size:f,empty:p,forEach:function(t){for(var e in this._)t.call(this,u(e))}}),na.behavior={},na.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=m(t,e,e[n]);return t};var wa=["webkit","ms","moz","Moz","o","O"];na.dispatch=function(){for(var t=new w,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=b(t);return t},w.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},na.event=null,na.requote=function(t){return t.replace(ba,"\\$&")};var ba=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,xa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ca=function(t,e){return e.querySelector(t)},_a=function(t,e){return e.querySelectorAll(t)},Ea=aa.matches||aa[v(aa,"matchesSelector")],Ta=function(t,e){return Ea.call(t,e)};"function"==typeof Sizzle&&(Ca=function(t,e){return Sizzle(t,e)[0]||null},_a=Sizzle,Ta=Sizzle.matchesSelector),na.selection=function(){return Ma};var ka=na.selection.prototype=[];ka.select=function(t){var e,n,r,i,o=[];t=T(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return E(o)},ka.selectAll=function(t){var e,n,r=[];t=k(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(e=ia(t.call(n,n.__data__,s,i))),e.parentNode=n);return E(r)};var Sa={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};na.ns={prefix:Sa,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),Sa.hasOwnProperty(n)?{space:Sa[n],local:t}:t}},ka.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=na.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(S(e,t[e]));return this}return this.each(S(t,e))},ka.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=A(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!M(t[i]).test(e))return!1;return!0}for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},ka.style=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(n in t)this.each(O(n,t[n],e));return this}if(2>r)return sa.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(O(t,e,n))},ka.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(P(e,t[e]));return this}return this.each(P(t,e))},ka.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},ka.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},ka.append=function(t){return t=H(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},ka.insert=function(t,e){return t=H(t),e=T(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},ka.remove=function(){return this.each(L)},ka.data=function(t,e){function n(t,n){var r,i,o,a=t.length,h=n.length,d=Math.min(a,h),f=new Array(h),p=new Array(h),g=new Array(a);if(e){var m,v=new s,y=new Array(a);for(r=-1;++r<a;)v.has(m=e.call(i=t[r],i.__data__,r))?g[r]=i:v.set(m,i),y[r]=m;for(r=-1;++r<h;)(i=v.get(m=e.call(n,o=n[r],r)))?i!==!0&&(f[r]=i,i.__data__=o):p[r]=N(o),v.set(m,!0);for(r=-1;++r<a;)v.get(y[r])!==!0&&(g[r]=t[r])}else{for(r=-1;++r<d;)i=t[r],o=n[r],i?(i.__data__=o,f[r]=i):p[r]=N(o);for(;h>r;++r)p[r]=N(n[r]);for(;a>r;++r)g[r]=t[r]}p.update=f,p.parentNode=f.parentNode=g.parentNode=t.parentNode,l.push(p),u.push(f),c.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var l=F([]),u=E([]),c=E([]);if("function"==typeof t)for(;++o<a;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],t);return u.enter=function(){return l},u.exit=function(){return c},u},ka.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},ka.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=I(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;l>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return E(i)},ka.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},ka.sort=function(t){t=B.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},ka.each=function(t){return j(this,function(e,n,r){t.call(e,e.__data__,n,r)})},ka.call=function(t){var e=ia(arguments);return t.apply(e[0]=this,e),this},ka.empty=function(){return!this.node()},ka.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},ka.size=function(){var t=0;return j(this,function(){++t}),t};var $a=[];na.selection.enter=F,na.selection.enter.prototype=$a,$a.append=ka.append,$a.empty=ka.empty,$a.node=ka.node,$a.call=ka.call,$a.size=ka.size,$a.select=function(t){for(var e,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(e.push(r[u]=n=t.call(i.parentNode,o.__data__,u,s)),n.__data__=o.__data__):e.push(null)}return E(a)},$a.insert=function(t,e){return arguments.length<2&&(e=V(this)),ka.insert.call(this,t,e)},ka.transition=function(t){for(var e,n,r=Ll||++Fl,i=Yo(t),o=[],a=Nl||{time:Date.now(),ease:kr,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(n=u[c])&&Go(n,c,i,r,a),e.push(n)}return zo(o,i,r)},ka.interrupt=function(t){var e=Yo(t);return this.each(function(){var t=this[e];t&&++t.active})},na.select=function(t){var e=["string"==typeof t?Ca(t,oa):t];return e.parentNode=aa,E([e])},na.selectAll=function(t){var e=ia("string"==typeof t?_a(t,oa):t);return e.parentNode=aa,E([e])};var Ma=na.select(aa);ka.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(z(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(z(t,e,n))};var Aa=na.map({mouseenter:"mouseover",mouseleave:"mouseout"});Aa.forEach(function(t){"on"+t in oa&&Aa.remove(t)});var Ra="onselectstart"in oa?null:v(aa.style,"userSelect"),Da=0;na.mouse=function(t){return G(t,C())};var Oa=/WebKit/.test(sa.navigator.userAgent)?-1:0;na.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=C().changedTouches),e)for(var r,i=0,o=e.length;o>i;++i)if((r=e[i]).identifier===n)return G(t,r)},na.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(t,e,i,o,a){return function(){function s(){var t,n,r=e(d,g);r&&(t=r[0]-w[0],n=r[1]-w[1],p|=t|n,w=r,f({type:"drag",x:r[0]+u[0],y:r[1]+u[1],dx:t,dy:n}))}function l(){e(d,g)&&(v.on(o+m,null).on(a+m,null),y(p&&na.event.target===h),f({type:"dragend"}))}var u,c=this,h=na.event.target,d=c.parentNode,f=n.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=na.select(i()).on(o+m,s).on(a+m,l),y=Y(),w=e(d,g);r?(u=r.apply(c,arguments),u=[u.x-w[0],u.y-w[1]]):u=[0,0],f({type:"dragstart"})}}var n=_(t,"drag","dragstart","dragend"),r=null,i=e(y,na.mouse,Z,"mousemove","mouseup"),o=e(X,na.touch,K,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},na.rebind(t,n,"on")},na.touches=function(t,e){return arguments.length<2&&(e=C().touches),e?ia(e).map(function(e){var n=G(t,e);return n.identifier=e.identifier,n}):[]};var Pa=1e-6,Ha=Pa*Pa,La=Math.PI,Na=2*La,Ia=Na-Pa,Ba=La/2,ja=La/180,Fa=180/La,Va=Math.SQRT2,qa=2,za=4;na.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=rt(g),a=o/(qa*d)*(n*it(Va*e+g)-nt(g));return[r+a*u,i+a*c,o*n/rt(Va*e+g)]}return[r+t*u,i+t*c,o*Math.exp(Va*e)]}var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],l=e[2],u=a-r,c=s-i,h=u*u+c*c,d=Math.sqrt(h),f=(l*l-o*o+za*h)/(2*o*qa*d),p=(l*l-o*o-za*h)/(2*l*qa*d),g=Math.log(Math.sqrt(f*f+1)-f),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(l/o))/Va;return n.duration=1e3*y,n},na.behavior.zoom=function(){function t(t){t.on(A,c).on(Ya+".zoom",d).on("dblclick.zoom",f).on(O,h)}function e(t){return[(t[0]-T.x)/T.k,(t[1]-T.y)/T.k]}function n(t){return[t[0]*T.k+T.x,t[1]*T.k+T.y]}function r(t){T.k=Math.max(S[0],Math.min(S[1],t))}function i(t,e){e=n(e),T.x+=t[0]-e[0],T.y+=t[1]-e[1]}function o(e,n,o,a){e.__chart__={x:T.x,y:T.y,k:T.k},r(Math.pow(2,a)),i(g=n,o),e=na.select(e),$>0&&(e=e.transition().duration($)),e.call(t.event)}function a(){b&&b.domain(w.range().map(function(t){return(t-T.x)/T.k}).map(w.invert)),E&&E.domain(C.range().map(function(t){return(t-T.y)/T.k}).map(C.invert))}function s(t){M++||t({type:"zoomstart"})}function l(t){a(),t({type:"zoom",scale:T.k,translate:[T.x,T.y]})}function u(t){--M||t({type:"zoomend"}),g=null}function c(){function t(){c=1,i(na.mouse(r),d),l(a)}function n(){h.on(R,null).on(D,null),f(c&&na.event.target===o),u(a)}var r=this,o=na.event.target,a=P.of(r,arguments),c=0,h=na.select(sa).on(R,t).on(D,n),d=e(na.mouse(r)),f=Y();q(r),s(a)}function h(){function t(){var t=na.touches(p);return f=T.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=e(t))}),t}function n(){var e=na.event.target;na.select(e).on(b,a).on(C,d),_.push(e);for(var n=na.event.changedTouches,r=0,i=n.length;i>r;++r)m[n[r].identifier]=null;var s=t(),l=Date.now();if(1===s.length){if(500>l-y){var u=s[0];o(p,u,m[u.identifier],Math.floor(Math.log(T.k)/Math.LN2)+1),x()}y=l}else if(s.length>1){var u=s[0],c=s[1],h=u[0]-c[0],f=u[1]-c[1];v=h*h+f*f}}function a(){var t,e,n,o,a=na.touches(p);q(p);for(var s=0,u=a.length;u>s;++s,o=null)if(n=a[s],o=m[n.identifier]){if(e)break;t=n,e=o}if(o){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],r(h*f)}y=null,i(t,e),l(g)}function d(){if(na.event.touches.length){for(var e=na.event.changedTouches,n=0,r=e.length;r>n;++n)delete m[e[n].identifier];for(var i in m)return void t()}na.selectAll(_).on(w,null),E.on(A,c).on(O,h),k(),u(g)}var f,p=this,g=P.of(p,arguments),m={},v=0,w=".zoom-"+na.event.changedTouches[0].identifier,b="touchmove"+w,C="touchend"+w,_=[],E=na.select(p),k=Y();n(),s(g),E.on(A,null).on(O,n)}function d(){var t=P.of(this,arguments);v?clearTimeout(v):(p=e(g=m||na.mouse(this)),q(this),s(t)),v=setTimeout(function(){v=null,u(t)},50),x(),r(Math.pow(2,.002*Wa())*T.k),i(g,p),l(t)}function f(){var t=na.mouse(this),n=Math.log(T.k)/Math.LN2;o(this,t,e(t),na.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var p,g,m,v,y,w,b,C,E,T={x:0,y:0,k:1},k=[960,500],S=Ua,$=250,M=0,A="mousedown.zoom",R="mousemove.zoom",D="mouseup.zoom",O="touchstart.zoom",P=_(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=P.of(this,arguments),e=T;Ll?na.select(this).transition().each("start.zoom",function(){T=this.__chart__||{x:0,y:0,k:1},s(t)}).tween("zoom:zoom",function(){var n=k[0],r=k[1],i=g?g[0]:n/2,o=g?g[1]:r/2,a=na.interpolateZoom([(i-T.x)/T.k,(o-T.y)/T.k,n/T.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),s=n/r[2];this.__chart__=T={x:i-r[0]*s,y:o-r[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){u(t)}).each("end.zoom",function(){u(t)}):(this.__chart__=T,s(t),l(t),u(t))})},t.translate=function(e){return arguments.length?(T={x:+e[0],y:+e[1],k:T.k},a(),t):[T.x,T.y]},t.scale=function(e){return arguments.length?(T={x:T.x,y:T.y,k:+e},a(),t):T.k},t.scaleExtent=function(e){return arguments.length?(S=null==e?Ua:[+e[0],+e[1]],t):S},t.center=function(e){return arguments.length?(m=e&&[+e[0],+e[1]],t):m},t.size=function(e){return arguments.length?(k=e&&[+e[0],+e[1]],t):k},t.duration=function(e){return arguments.length?($=+e,t):$},t.x=function(e){return arguments.length?(b=e,w=e.copy(),T={x:0,y:0,k:1},t):b},t.y=function(e){return arguments.length?(E=e,C=e.copy(),T={x:0,y:0,k:1},t):E},na.rebind(t,P,"on")};var Wa,Ua=[0,1/0],Ya="onwheel"in oa?(Wa=function(){return-na.event.deltaY*(na.event.deltaMode?120:1)},"wheel"):"onmousewheel"in oa?(Wa=function(){return na.event.wheelDelta},"mousewheel"):(Wa=function(){return-na.event.detail},"MozMousePixelScroll");na.color=at,at.prototype.toString=function(){return this.rgb()+""},na.hsl=st;var Ga=st.prototype=new at;Ga.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Ga.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Ga.rgb=function(){return lt(this.h,this.s,this.l)},na.hcl=ut;var Xa=ut.prototype=new at;Xa.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+Ka*(arguments.length?t:1)))},Xa.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-Ka*(arguments.length?t:1)))},Xa.rgb=function(){return ct(this.h,this.c,this.l).rgb()},na.lab=ht;var Ka=18,Za=.95047,Ja=1,Qa=1.08883,ts=ht.prototype=new at;ts.brighter=function(t){return new ht(Math.min(100,this.l+Ka*(arguments.length?t:1)),this.a,this.b)},ts.darker=function(t){return new ht(Math.max(0,this.l-Ka*(arguments.length?t:1)),this.a,this.b)},ts.rgb=function(){return dt(this.l,this.a,this.b)},na.rgb=vt;var es=vt.prototype=new at;es.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&i>e&&(e=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new vt(i,i,i)},es.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},es.hsl=function(){return Ct(this.r,this.g,this.b)},es.toString=function(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)};var ns=na.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ns.forEach(function(t,e){ns.set(t,yt(e))}),na.functor=kt,na.xhr=$t(St),na.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=Mt(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=u)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u>c;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,i,o={},a={},s=[],u=t.length,c=0,h=0;(r=n())!==a;){for(var d=[];r!==o&&r!==a;)d.push(r),r=n();e&&null==(d=e(d,h++))||s.push(d)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new g,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(a).join(t)].concat(e.map(function(e){return i.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},na.csv=na.dsv(",","text/csv"),na.tsv=na.dsv("	","text/tab-separated-values");var rs,is,os,as,ss,ls=sa[v(sa,"requestAnimationFrame")]||function(t){setTimeout(t,17)};na.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};is?is.n=o:rs=o,is=o,os||(as=clearTimeout(as),os=1,ls(Dt))},na.timer.flush=function(){Ot(),Pt()},na.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var us=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(Lt);na.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=na.round(t,Ht(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),us[8+n/3]};var cs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,hs=na.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){
return t.toFixed(e)},r:function(t,e){return(t=na.round(t,Ht(t,e))).toFixed(Math.max(0,Math.min(20,Ht(t*(1+1e-15),e))))}}),ds=na.time={},fs=Date;Bt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ps.setUTCDate.apply(this._,arguments)},setDay:function(){ps.setUTCDay.apply(this._,arguments)},setFullYear:function(){ps.setUTCFullYear.apply(this._,arguments)},setHours:function(){ps.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ps.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ps.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ps.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ps.setUTCSeconds.apply(this._,arguments)},setTime:function(){ps.setTime.apply(this._,arguments)}};var ps=Date.prototype;ds.year=jt(function(t){return t=ds.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),ds.years=ds.year.range,ds.years.utc=ds.year.utc.range,ds.day=jt(function(t){var e=new fs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),ds.days=ds.day.range,ds.days.utc=ds.day.utc.range,ds.dayOfYear=function(t){var e=ds.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=ds[t]=jt(function(t){return(t=ds.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=ds.year(t).getDay();return Math.floor((ds.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});ds[t+"s"]=n.range,ds[t+"s"].utc=n.utc.range,ds[t+"OfYear"]=function(t){var n=ds.year(t).getDay();return Math.floor((ds.dayOfYear(t)+(n+e)%7)/7)}}),ds.week=ds.sunday,ds.weeks=ds.sunday.range,ds.weeks.utc=ds.sunday.utc.range,ds.weekOfYear=ds.sundayOfYear;var gs={"-":"",_:" ",0:"0"},ms=/^\s*\d+/,vs=/^%/;na.locale=function(t){return{numberFormat:Nt(t),timeFormat:Vt(t)}};var ys=na.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});na.format=ys.numberFormat,na.geo={},ue.prototype={s:0,t:0,add:function(t){ce(t,this.t,ws),ce(ws.s,this.s,this),this.s?this.t+=ws.t:this.s=ws.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ws=new ue;na.geo.stream=function(t,e){t&&bs.hasOwnProperty(t.type)?bs[t.type](t,e):he(t,e)};var bs={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)he(n[r].geometry,e)}},xs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){de(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)de(n[r],e,0)},Polygon:function(t,e){fe(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fe(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)he(n[r],e)}};na.geo.area=function(t){return Cs=0,na.geo.stream(t,Es),Cs};var Cs,_s=new ue,Es={sphere:function(){Cs+=4*La},point:y,lineStart:y,lineEnd:y,polygonStart:function(){_s.reset(),Es.lineStart=pe},polygonEnd:function(){var t=2*_s;Cs+=0>t?4*La+t:t,Es.lineStart=Es.lineEnd=Es.point=y}};na.geo.bounds=function(){function t(t,e){w.push(b=[c=t,d=t]),h>e&&(h=e),e>f&&(f=e)}function e(e,n){var r=ge([e*ja,n*ja]);if(v){var i=ve(v,r),o=[i[1],-i[0],0],a=ve(o,i);be(a),a=xe(a);var l=e-p,u=l>0?1:-1,g=a[0]*Fa*u,m=ma(l)>180;if(m^(g>u*p&&u*e>g)){var y=a[1]*Fa;y>f&&(f=y)}else if(g=(g+360)%360-180,m^(g>u*p&&u*e>g)){var y=-a[1]*Fa;h>y&&(h=y)}else h>n&&(h=n),n>f&&(f=n);m?p>e?s(c,e)>s(c,d)&&(d=e):s(e,d)>s(c,d)&&(c=e):d>=c?(c>e&&(c=e),e>d&&(d=e)):e>p?s(c,e)>s(c,d)&&(d=e):s(e,d)>s(c,d)&&(c=e)}else t(e,n);v=r,p=e}function n(){x.point=e}function r(){b[0]=c,b[1]=d,x.point=t,v=null}function i(t,n){if(v){var r=t-p;y+=ma(r)>180?r+(r>0?360:-360):r}else g=t,m=n;Es.point(t,n),e(t,n)}function o(){Es.lineStart()}function a(){i(g,m),Es.lineEnd(),ma(y)>Pa&&(c=-(d=180)),b[0]=c,b[1]=d,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,d,f,p,g,m,v,y,w,b,x={point:t,lineStart:n,lineEnd:r,polygonStart:function(){x.point=i,x.lineStart=o,x.lineEnd=a,y=0,Es.polygonStart()},polygonEnd:function(){Es.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=r,0>_s?(c=-(d=180),h=-(f=90)):y>Pa?f=90:-Pa>y&&(h=-90),b[0]=c,b[1]=d}};return function(t){f=d=-(c=h=1/0),w=[],na.geo.stream(t,x);var e=w.length;if(e){w.sort(l);for(var n,r=1,i=w[0],o=[i];e>r;++r)n=w[r],u(n[0],i)||u(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,p=-(1/0),e=o.length-1,r=0,i=o[e];e>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>p&&(p=a,c=n[0],d=i[1])}return w=b=null,c===1/0||h===1/0?[[0/0,0/0],[0/0,0/0]]:[[c,h],[d,f]]}}(),na.geo.centroid=function(t){Ts=ks=Ss=$s=Ms=As=Rs=Ds=Os=Ps=Hs=0,na.geo.stream(t,Ls);var e=Os,n=Ps,r=Hs,i=e*e+n*n+r*r;return Ha>i&&(e=As,n=Rs,r=Ds,Pa>ks&&(e=Ss,n=$s,r=Ms),i=e*e+n*n+r*r,Ha>i)?[0/0,0/0]:[Math.atan2(n,e)*Fa,et(r/Math.sqrt(i))*Fa]};var Ts,ks,Ss,$s,Ms,As,Rs,Ds,Os,Ps,Hs,Ls={sphere:y,point:_e,lineStart:Te,lineEnd:ke,polygonStart:function(){Ls.lineStart=Se},polygonEnd:function(){Ls.lineStart=Te}},Ns=Oe(Me,Ne,Be,[-La,-La/2]),Is=1e9;na.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(s){return arguments.length?(o=qe(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(na.geo.conicEqualArea=function(){return ze(We)}).raw=We,na.geo.albers=function(){return na.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},na.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=na.geo.albers(),a=na.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=na.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var u=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*u,h-.238*u],[c+.455*u,h+.238*u]]).stream(l).point,r=a.translate([c-.307*u,h+.201*u]).clipExtent([[c-.425*u+Pa,h+.12*u+Pa],[c-.214*u-Pa,h+.234*u-Pa]]).stream(l).point,i=s.translate([c-.205*u,h+.212*u]).clipExtent([[c-.214*u+Pa,h+.166*u+Pa],[c-.115*u-Pa,h+.234*u-Pa]]).stream(l).point,t},t.scale(1070)};var Bs,js,Fs,Vs,qs,zs,Ws={point:y,lineStart:y,lineEnd:y,polygonStart:function(){js=0,Ws.lineStart=Ue},polygonEnd:function(){Ws.lineStart=Ws.lineEnd=Ws.point=y,Bs+=ma(js/2)}},Us={point:Ye,lineStart:y,lineEnd:y,polygonStart:y,polygonEnd:y},Ys={point:Ke,lineStart:Ze,lineEnd:Je,polygonStart:function(){Ys.lineStart=Qe},polygonEnd:function(){Ys.point=Ke,Ys.lineStart=Ze,Ys.lineEnd=Je}};na.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),na.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return Bs=0,na.geo.stream(t,i(Ws)),Bs},t.centroid=function(t){return Ss=$s=Ms=As=Rs=Ds=Os=Ps=Hs=0,na.geo.stream(t,i(Ys)),Hs?[Os/Hs,Ps/Hs]:Ds?[As/Ds,Rs/Ds]:Ms?[Ss/Ms,$s/Ms]:[0/0,0/0]},t.bounds=function(t){return qs=zs=-(Fs=Vs=1/0),na.geo.stream(t,i(Us)),[[Fs,Vs],[qs,zs]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||nn(t):St,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new Ge:new tn(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(na.geo.albersUsa()).context(null)},na.geo.transform=function(t){return{stream:function(e){var n=new rn(e);for(var r in t)n[r]=t[r];return n}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},na.geo.projection=an,na.geo.projectionMutator=sn,(na.geo.equirectangular=function(){return an(un)}).raw=un.invert=un,na.geo.rotation=function(t){function e(e){return e=t(e[0]*ja,e[1]*ja),e[0]*=Fa,e[1]*=Fa,e}return t=hn(t[0]%360*ja,t[1]*ja,t.length>2?t[2]*ja:0),e.invert=function(e){return e=t.invert(e[0]*ja,e[1]*ja),e[0]*=Fa,e[1]*=Fa,e},e},cn.invert=un,na.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=hn(-t[0]*ja,-t[1]*ja,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Fa,t[1]*=Fa}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=gn((e=+r)*ja,i*ja),t):e},t.precision=function(r){return arguments.length?(n=gn(e*ja,(i=+r)*ja),t):i},t.angle(90)},na.geo.distance=function(t,e){var n,r=(e[0]-t[0])*ja,i=t[1]*ja,o=e[1]*ja,a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=u*c-l*h*s)*n),l*c+u*h*s)},na.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return na.range(Math.ceil(o/m)*m,i,m).map(d).concat(na.range(Math.ceil(u/v)*v,l,v).map(f)).concat(na.range(Math.ceil(r/p)*p,n,p).filter(function(t){return ma(t%m)>Pa}).map(c)).concat(na.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ma(t%v)>Pa}).map(h))}var n,r,i,o,a,s,l,u,c,h,d,f,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(o).concat(f(l).slice(1),d(i).reverse().slice(1),f(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],u=+e[0][1],l=+e[1][1],o>i&&(e=o,o=i,i=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[o,u],[i,l]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=vn(s,a,90),h=yn(r,n,y),d=vn(u,l,90),f=yn(o,i,y),t):y},t.majorExtent([[-180,-90+Pa],[180,90-Pa]]).minorExtent([[-180,-80-Pa],[180,80+Pa]])},na.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=wn,i=bn;return t.distance=function(){return na.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},na.geo.interpolate=function(t,e){return xn(t[0]*ja,t[1]*ja,e[0]*ja,e[1]*ja)},na.geo.length=function(t){return Gs=0,na.geo.stream(t,Xs),Gs};var Gs,Xs={sphere:y,point:y,lineStart:Cn,lineEnd:y,polygonStart:y,polygonEnd:y},Ks=_n(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(na.geo.azimuthalEqualArea=function(){return an(Ks)}).raw=Ks;var Zs=_n(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},St);(na.geo.azimuthalEquidistant=function(){return an(Zs)}).raw=Zs,(na.geo.conicConformal=function(){return ze(En)}).raw=En,(na.geo.conicEquidistant=function(){return ze(Tn)}).raw=Tn;var Js=_n(function(t){return 1/t},Math.atan);(na.geo.gnomonic=function(){return an(Js)}).raw=Js,kn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ba]},(na.geo.mercator=function(){return Sn(kn)}).raw=kn;var Qs=_n(function(){return 1},Math.asin);(na.geo.orthographic=function(){return an(Qs)}).raw=Qs;var tl=_n(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(na.geo.stereographic=function(){return an(tl)}).raw=tl,$n.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ba]},(na.geo.transverseMercator=function(){var t=Sn($n),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=$n,na.geom={},na.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=kt(n),o=kt(r),a=t.length,s=[],l=[];for(e=0;a>e;e++)s.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Dn),e=0;a>e;e++)l.push([s[e][0],-s[e][1]]);var u=Rn(s),c=Rn(l),h=c[0]===u[0],d=c[c.length-1]===u[u.length-1],f=[];for(e=u.length-1;e>=0;--e)f.push(t[s[u[e]][2]]);for(e=+h;e<c.length-d;++e)f.push(t[s[c[e]][2]]);return f}var n=Mn,r=An;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},na.geom.polygon=function(t){return xa(t,el),t};var el=na.geom.polygon.prototype=[];el.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},el.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},el.clip=function(t){for(var e,n,r,i,o,a,s=Hn(t),l=-1,u=this.length-Hn(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,i=this[l],o=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],On(a,c,i)?(On(o,c,i)||t.push(Pn(o,a,c,i)),t.push(a)):On(o,c,i)&&t.push(Pn(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var nl,rl,il,ol,al,sl=[],ll=[];qn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Wn),e.length},er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nr.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ar(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ir(this,n),t=n,n=t.U),n.C=!1,r.C=!0,or(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(or(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ir(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?ar(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,ir(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,or(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ir(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,or(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ir(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,or(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},na.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return sr(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site,c=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=r&&u.x<=o&&u.y>=i&&u.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Pa)*Pa,y:Math.round(a(t,e)/Pa)*Pa,i:e}})}var r=Mn,i=An,o=r,a=i,s=ul;return t?e(t):(e.links=function(t){return sr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return sr(n(t)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(Wn),l=-1,u=s.length,c=s[u-1].edge,h=c.l===a?c.r:c.l;++l<u;)i=c,o=h,c=s[l].edge,h=c.l===a?c.r:c.l,r<o.i&&r<h.i&&ur(a,o,h)<0&&e.push([t[r],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=kt(r=t),e):r},e.y=function(t){return arguments.length?(a=kt(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?ul:t,e):s===ul?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ul?null:s&&s[1]},e)};var ul=[[-1e6,-1e6],[1e6,1e6]];na.geom.delaunay=function(t){return na.geom.voronoi().triangles(t)},na.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(ma(l-n)+ma(c-r)<.01)u(t,e,n,r,i,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,u(t,h,l,c,i,o,a,s),u(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else u(t,e,n,r,i,o,a,s)}function u(t,e,n,r,i,a,s,l){var u=.5*(i+s),c=.5*(a+l),h=n>=u,d=r>=c,f=d<<1|h;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=dr()),h?i=u:s=u,d?a=c:l=c,o(t,e,n,r,i,a,s,l)}var c,h,d,f,p,g,m,v,y,w=kt(s),b=kt(l);if(null!=e)g=e,m=n,v=r,y=i;else if(v=y=-(g=m=1/0),h=[],d=[],p=t.length,a)for(f=0;p>f;++f)c=t[f],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),h.push(c.x),d.push(c.y);else for(f=0;p>f;++f){var x=+w(c=t[f],f),C=+b(c,f);g>x&&(g=x),m>C&&(m=C),x>v&&(v=x),C>y&&(y=C),h.push(x),d.push(C)}var _=v-g,E=y-m;_>E?y=m+_:v=g+E;var T=dr();if(T.add=function(t){o(T,t,+w(t,++f),+b(t,f),g,m,v,y)},T.visit=function(t){fr(t,T,g,m,v,y)},T.find=function(t){return pr(T,t[0],t[1],g,m,v,y)},f=-1,null==e){for(;++f<p;)o(T,t[f],h[f],d[f],g,m,v,y);--f}else t.forEach(T.add);return h=d=t=c=null,T}var a,s=Mn,l=An;return(a=arguments.length)?(s=cr,l=hr,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(l=t,o):l},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},na.interpolateRgb=gr,na.interpolateObject=mr,na.interpolateNumber=vr,na.interpolateString=yr;var cl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hl=new RegExp(cl.source,"g");na.interpolate=wr,na.interpolators=[function(t,e){var n=typeof e;return("string"===n?ns.has(e)||/^(#|rgb\(|hsl\()/.test(e)?gr:yr:e instanceof at?gr:Array.isArray(e)?br:"object"===n&&isNaN(e)?mr:vr)(t,e)}],na.interpolateArray=br;var dl=function(){return St},fl=na.map({linear:dl,poly:Sr,quad:function(){return Er},cubic:function(){return Tr},sin:function(){return $r},exp:function(){return Mr},circle:function(){return Ar},elastic:Rr,back:Dr,bounce:function(){return Or}}),pl=na.map({"in":St,out:Cr,"in-out":_r,"out-in":function(t){return _r(Cr(t))}});na.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=fl.get(n)||dl,r=pl.get(r)||St,xr(r(n.apply(null,ra.call(arguments,1))))},na.interpolateHcl=Pr,na.interpolateHsl=Hr,na.interpolateLab=Lr,na.interpolateRound=Nr,na.transform=function(t){var e=oa.createElementNS(na.ns.prefix.svg,"g");return(na.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Ir(n?n.matrix:gl)})(t)},Ir.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gl={a:1,b:0,c:0,d:1,e:0,f:0};na.interpolateTransform=Vr,na.layout={},na.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Wr(t[n]));return e}},na.layout.chord=function(){function t(){var t,u,h,d,f,p={},g=[],m=na.range(o),v=[];for(n=[],r=[],t=0,d=-1;++d<o;){for(u=0,f=-1;++f<o;)u+=i[d][f];g.push(u),v.push(na.range(o)),t+=u}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(Na-c*o)/t,u=0,d=-1;++d<o;){for(h=u,f=-1;++f<o;){var y=m[d],w=v[y][f],b=i[y][w],x=u,C=u+=b*t;p[y+"-"+w]={index:y,subindex:w,startAngle:x,endAngle:C,value:b}}r[y]={index:y,startAngle:h,endAngle:u,value:(u-h)/t},u+=c}for(d=-1;++d<o;)for(f=d-1;++f<o;){var _=p[d+"-"+f],E=p[f+"-"+d];(_.value||E.value)&&n.push(_.value<E.value?{source:E,target:_}:{source:_,target:E})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,u):i},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=r=null,u):a},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},na.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,l=o*o+a*a;if(l>s*s/m){if(p>l){var u=e.charge/l;t.px-=o*u,t.py-=a*u}return!0}if(e.point&&l&&p>l){var u=e.pointCharge/l;t.px-=o*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=na.event.x,t.py=na.event.y,s.resume()}var n,r,i,o,a,s={},l=na.dispatch("start","tick","end"),u=[1,1],c=.9,h=ml,d=vl,f=-30,p=yl,g=.1,m=.64,v=[],y=[];return s.tick=function(){if((r*=.99)<.005)return l.end({type:"end",alpha:r=0}),!0;var e,n,s,h,d,p,m,w,b,x=v.length,C=y.length;for(n=0;C>n;++n)s=y[n],h=s.source,d=s.target,w=d.x-h.x,b=d.y-h.y,(p=w*w+b*b)&&(p=r*o[n]*((p=Math.sqrt(p))-i[n])/p,w*=p,b*=p,d.x-=w*(m=h.weight/(d.weight+h.weight)),d.y-=b*m,h.x+=w*(m=1-m),h.y+=b*m);if((m=r*g)&&(w=u[0]/2,b=u[1]/2,n=-1,m))for(;++n<x;)s=v[n],s.x+=(w-s.x)*m,s.y+=(b-s.y)*m;if(f)for(Jr(e=na.geom.quadtree(v),r,a),n=-1;++n<x;)(s=v[n]).fixed||e.visit(t(s));for(n=-1;++n<x;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);l.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(u=t,s):u},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(m=t*t,s):Math.sqrt(m)},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(l.start({type:"start",alpha:r=t}),na.timer(s.tick)),s):r},s.start=function(){function t(t,r){if(!n){for(n=new Array(l),s=0;l>s;++s)n[s]=[];for(s=0;u>s;++s){var i=y[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[e],s=-1,u=a.length;++s<u;)if(!isNaN(o=a[s][t]))return o;return Math.random()*r}var e,n,r,l=v.length,c=y.length,p=u[0],g=u[1];for(e=0;l>e;++e)(r=v[e]).index=e,r.weight=0;for(e=0;c>e;++e)r=y[e],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(e=0;l>e;++e)r=v[e],isNaN(r.x)&&(r.x=t("x",p)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof h)for(e=0;c>e;++e)i[e]=+h.call(this,y[e],e);else for(e=0;c>e;++e)i[e]=h;if(o=[],"function"==typeof d)for(e=0;c>e;++e)o[e]=+d.call(this,y[e],e);else for(e=0;c>e;++e)o[e]=d;if(a=[],"function"==typeof f)for(e=0;l>e;++e)a[e]=+f.call(this,v[e],e);else for(e=0;l>e;++e)a[e]=f;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=na.behavior.drag().origin(St).on("dragstart.force",Gr).on("drag.force",e).on("dragend.force",Xr)),arguments.length?void this.on("mouseover.force",Kr).on("mouseout.force",Zr).call(n):n},na.rebind(s,l,"on")};var ml=20,vl=1,yl=1/0;na.layout.hierarchy=function(){function t(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(u=n.call(t,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=u}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return ei(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),s}var e=ii,n=ni,r=ri;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(ti(e,function(t){t.children&&(t.value=0)}),ei(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},na.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,l,u=-1;for(r=e.value?r/e.value:0;++u<a;)t(s=o[u],n,l=s.value*r,i),n+=l}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=na.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},Qr(n,r)},na.layout.pie=function(){function t(a){var s,l=a.length,u=a.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),h=("function"==typeof i?i.apply(this,arguments):i)-c,d=Math.min(Math.abs(h)/l,+("function"==typeof o?o.apply(this,arguments):o)),f=d*(0>h?-1:1),p=(h-l*f)/na.sum(u),g=na.range(l),m=[];return null!=n&&g.sort(n===wl?function(t,e){return u[e]-u[t]}:function(t,e){return n(a[t],a[e])}),g.forEach(function(t){m[t]={data:a[t],value:s=u[t],startAngle:c,endAngle:c+=s*p+f,padAngle:d}}),m}var e=Number,n=wl,r=0,i=Na,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var wl={};na.layout.stack=function(){function t(s,l){if(!(d=s.length))return s;var u=s.map(function(n,r){return e.call(t,n,r)}),c=u.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,c,l);u=na.permute(u,h),c=na.permute(c,h);var d,f,p,g,m=r.call(t,c,l),v=u[0].length;for(p=0;v>p;++p)for(i.call(t,u[0][p],g=m[p],c[0][p][1]),f=1;d>f;++f)i.call(t,u[f][p],g+=c[f-1][p][1],c[f][p][1]);return s}var e=St,n=ui,r=ci,i=li,o=ai,a=si;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:bl.get(e)||ui,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:xl.get(e)||ci,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var bl=na.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(hi),o=t.map(di),a=na.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,l=0,u=[],c=[];for(e=0;r>e;++e)n=a[e],l>s?(s+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return na.range(t.length).reverse()},"default":ui}),xl=na.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,r,i,o,a,s,l,u,c=t.length,h=t[0],d=h.length,f=[];for(f[0]=l=u=0,n=1;d>n;++n){for(e=0,i=0;c>e;++e)i+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];c>e;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>r;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}f[n]=l-=i?o/i*s:0,u>l&&(u=l)}for(n=0;d>n;++n)f[n]-=u;return f},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:ci});na.layout.histogram=function(){function t(t,o){for(var a,s,l=[],u=t.map(n,this),c=r.call(this,u,o),h=i.call(this,c,u,o),o=-1,d=u.length,f=h.length-1,p=e?1:1/d;++o<f;)a=l[o]=[],a.dx=h[o+1]-(a.x=h[o]),a.y=0;if(f>0)for(o=-1;++o<d;)s=u[o],s>=c[0]&&s<=c[1]&&(a=l[na.bisect(h,s,1,f)-1],a.y+=p,a.push(t[o]));return l}var e=!0,n=Number,r=mi,i=pi;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=kt(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return gi(t,e)}:kt(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},na.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],l=i[0],u=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,ei(s,function(t){t.r=+c(t.value)}),ei(s,xi),r){var h=r*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;ei(s,function(t){t.r+=h}),ei(s,xi),ei(s,function(t){t.r-=h})}return Ei(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var e,n=na.layout.hierarchy().sort(vi),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},Qr(t,n)},na.layout.tree=function(){function t(t,i){var c=a.call(this,t,i),h=c[0],d=e(h);if(ei(d,n),d.parent.m=-d.z,ti(d,r),u)ti(h,o);else{var f=h,p=h,g=h;ti(h,function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=s(f,p)/2-f.x,v=l[0]/(p.x+s(p,f)/2+m),y=l[1]/(g.depth||1);ti(h,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:e,
children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Ai(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,o=t,a=e,l=i.parent.children[0],u=i.m,c=o.m,h=a.m,d=l.m;a=$i(a),i=Si(i),a&&i;)l=Si(l),o=$i(o),o.a=t,r=a.z+h-i.z-u+s(a._,i._),r>0&&(Mi(Ri(a,t,n),t,r),u+=r,c+=r),h+=a.m,u+=i.m,d+=l.m,c+=o.m;a&&!$i(o)&&(o.t=a,o.m+=h-c),i&&!Si(l)&&(l.t=i,l.m+=u-d,n=t)}return n}function o(t){t.x*=l[0],t.y=t.depth*l[1]}var a=na.layout.hierarchy().sort(null).value(null),s=ki,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?o:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:o,t):u?l:null},Qr(t,a)},na.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),l=s[0],u=0;ei(l,function(t){var e=t.children;e&&e.length?(t.x=Oi(e),t.y=Di(e)):(t.x=a?u+=n(t,a):0,t.y=0,a=t)});var c=Pi(l),h=Hi(l),d=c.x-n(c,h)/2,f=h.x+n(h,c)/2;return ei(l,i?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-d)/(f-d)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),s}var e=na.layout.hierarchy().sort(null).value(null),n=ki,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},Qr(t,e)},na.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,l,u=h(n),c=[],d=o.slice(),p=1/0,g="slice"===f?u.dx:"dice"===f?u.dy:"slice-dice"===f?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(d,u.dx*u.dy/n.value),c.area=0;(l=d.length)>0;)c.push(a=d[l-1]),c.area+=a.area,"squarify"!==f||(s=r(c,g))<=p?(d.pop(),p=s):(c.area-=c.pop().area,i(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,g,u,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=h(e),s=r.slice(),l=[];for(t(s,a.dx*a.dy/e.value),l.area=0;o=s.pop();)l.push(o),l.area+=o.area,null!=o.z&&(i(l,o.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*p/r,r/(e*o*p)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=t[o],i.x=s,i.y=u,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?l(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=t[o],i.x=s,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?l(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=u[0],o.dy=u[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),d&&(a=i),i}var a,s=na.layout.hierarchy(),l=Math.round,u=[1,1],c=null,h=Li,d=!1,f="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(u=t,o):u},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Li(e):Ni(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Ni(e,t)}if(!arguments.length)return c;var r;return h=null==(c=t)?Li:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(d=t,a=null,o):d},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(f=t+"",o):f},Qr(o,s)},na.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=na.random.normal.apply(na,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=na.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},na.scale={};var Cl={floor:St,ceil:St};na.scale.linear=function(){return zi([0,1],[0,1],wr,!1)};var _l={s:1,g:1,p:1,r:1,e:1};na.scale.log=function(){return Ji(na.scale.linear().domain([0,1]),10,!0,[1,10])};var El=na.format(".0e"),Tl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};na.scale.pow=function(){return Qi(na.scale.linear(),1,[0,1])},na.scale.sqrt=function(){return na.scale.pow().exponent(.5)},na.scale.ordinal=function(){return eo([],{t:"range",a:[[]]})},na.scale.category10=function(){return na.scale.ordinal().range(kl)},na.scale.category20=function(){return na.scale.ordinal().range(Sl)},na.scale.category20b=function(){return na.scale.ordinal().range($l)},na.scale.category20c=function(){return na.scale.ordinal().range(Ml)};var kl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(wt),Sl=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(wt),$l=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(wt),Ml=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(wt);na.scale.quantile=function(){return no([],[])},na.scale.quantize=function(){return ro(0,1,[0,1])},na.scale.threshold=function(){return io([.5],[0,1])},na.scale.identity=function(){return oo([0,1])},na.svg={},na.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Ba,h=s.apply(this,arguments)-Ba,d=Math.abs(h-c),f=c>h?0:1;if(t>u&&(p=u,u=t,t=p),d>=Ia)return e(u,f)+(t?e(t,1-f):"")+"Z";var p,g,m,v,y,w,b,x,C,_,E,T,k=0,S=0,$=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=o===Al?Math.sqrt(t*t+u*u):+o.apply(this,arguments),f||(S*=-1),u&&(S=et(m/u*Math.sin(v))),t&&(k=et(m/t*Math.sin(v)))),u){y=u*Math.cos(c+S),w=u*Math.sin(c+S),b=u*Math.cos(h-S),x=u*Math.sin(h-S);var M=Math.abs(h-c-2*S)<=La?0:1;if(S&&fo(y,w,b,x)===f^M){var A=(c+h)/2;y=u*Math.cos(A),w=u*Math.sin(A),b=x=null}}else y=w=0;if(t){C=t*Math.cos(h-k),_=t*Math.sin(h-k),E=t*Math.cos(c+k),T=t*Math.sin(c+k);var R=Math.abs(c-h+2*k)<=La?0:1;if(k&&fo(C,_,E,T)===1-f^R){var D=(c+h)/2;C=t*Math.cos(D),_=t*Math.sin(D),E=T=null}}else C=_=0;if((p=Math.min(Math.abs(u-t)/2,+i.apply(this,arguments)))>.001){g=u>t^f?0:1;var O=null==E?[C,_]:null==b?[y,w]:Pn([y,w],[E,T],[b,x],[C,_]),P=y-O[0],H=w-O[1],L=b-O[0],N=x-O[1],I=1/Math.sin(Math.acos((P*L+H*N)/(Math.sqrt(P*P+H*H)*Math.sqrt(L*L+N*N)))/2),B=Math.sqrt(O[0]*O[0]+O[1]*O[1]);if(null!=b){var j=Math.min(p,(u-B)/(I+1)),F=po(null==E?[C,_]:[E,T],[y,w],u,j,f),V=po([b,x],[C,_],u,j,f);p===j?$.push("M",F[0],"A",j,",",j," 0 0,",g," ",F[1],"A",u,",",u," 0 ",1-f^fo(F[1][0],F[1][1],V[1][0],V[1][1]),",",f," ",V[1],"A",j,",",j," 0 0,",g," ",V[0]):$.push("M",F[0],"A",j,",",j," 0 1,",g," ",V[0])}else $.push("M",y,",",w);if(null!=E){var q=Math.min(p,(t-B)/(I-1)),z=po([y,w],[E,T],t,-q,f),W=po([C,_],null==b?[y,w]:[b,x],t,-q,f);p===q?$.push("L",W[0],"A",q,",",q," 0 0,",g," ",W[1],"A",t,",",t," 0 ",f^fo(W[1][0],W[1][1],z[1][0],z[1][1]),",",1-f," ",z[1],"A",q,",",q," 0 0,",g," ",z[0]):$.push("L",W[0],"A",q,",",q," 0 0,",g," ",z[0])}else $.push("L",C,",",_)}else $.push("M",y,",",w),null!=b&&$.push("A",u,",",u," 0 ",M,",",f," ",b,",",x),$.push("L",C,",",_),null!=E&&$.push("A",t,",",t," 0 ",R,",",1-f," ",E,",",T);return $.push("Z"),$.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=so,r=lo,i=ao,o=Al,a=uo,s=co,l=ho;return t.innerRadius=function(e){return arguments.length?(n=kt(e),t):n},t.outerRadius=function(e){return arguments.length?(r=kt(e),t):r},t.cornerRadius=function(e){return arguments.length?(i=kt(e),t):i},t.padRadius=function(e){return arguments.length?(o=e==Al?Al:kt(e),t):o},t.startAngle=function(e){return arguments.length?(a=kt(e),t):a},t.endAngle=function(e){return arguments.length?(s=kt(e),t):s},t.padAngle=function(e){return arguments.length?(l=kt(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Ba;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Al="auto";na.svg.line=function(){return go(St)};var Rl=na.map({linear:mo,"linear-closed":vo,step:yo,"step-before":wo,"step-after":bo,basis:ko,"basis-open":So,"basis-closed":$o,bundle:Mo,cardinal:_o,"cardinal-open":xo,"cardinal-closed":Co,monotone:Ho});Rl.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Dl=[0,2/3,1/3,0],Ol=[0,1/3,2/3,0],Pl=[0,1/6,2/3,1/6];na.svg.line.radial=function(){var t=go(Lo);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},wo.reverse=bo,bo.reverse=wo,na.svg.area=function(){return No(St)},na.svg.area.radial=function(){var t=No(Lo);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},na.svg.chord=function(){function t(t,s){var l=e(this,o,t,s),u=e(this,a,t,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,u)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+i(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=l.call(t,i,r)-Ba,c=u.call(t,i,r)-Ba;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>La)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=wn,a=bn,s=Io,l=uo,u=co;return t.radius=function(e){return arguments.length?(s=kt(e),t):s},t.source=function(e){return arguments.length?(o=kt(e),t):o},t.target=function(e){return arguments.length?(a=kt(e),t):a},t.startAngle=function(e){return arguments.length?(l=kt(e),t):l},t.endAngle=function(e){return arguments.length?(u=kt(e),t):u},t},na.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=wn,n=bn,r=Bo;return t.source=function(n){return arguments.length?(e=kt(n),t):e},t.target=function(e){return arguments.length?(n=kt(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},na.svg.diagonal.radial=function(){var t=na.svg.diagonal(),e=Bo,n=t.projection;return t.projection=function(t){return arguments.length?n(jo(e=t)):e},t},na.svg.symbol=function(){function t(t,r){return(Hl.get(e.call(this,t,r))||qo)(n.call(this,t,r))}var e=Vo,n=Fo;return t.type=function(n){return arguments.length?(e=kt(n),t):e},t.size=function(e){return arguments.length?(n=kt(e),t):n},t};var Hl=na.map({circle:qo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Bl)),n=e*Bl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Il),n=e*Il/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Il),n=e*Il/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});na.svg.symbolTypes=Hl.keys();var Ll,Nl,Il=Math.sqrt(3),Bl=Math.tan(30*ja),jl=[],Fl=0;jl.call=ka.call,jl.empty=ka.empty,jl.node=ka.node,jl.size=ka.size,na.transition=function(t){return arguments.length?Ll?t.transition():t:Ma.transition()},na.transition.prototype=jl,jl.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=T(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(r=u[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Go(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return zo(a,o,i)},jl.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,l=[];t=k(t);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],d=-1,f=h.length;++d<f;)if(r=h[d]){o=r[s][a],n=t.call(r,r.__data__,d,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Go(i,p,s,a,o),e.push(i)}return zo(l,s,a)},jl.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=I(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]);for(var n=this[o],s=0,l=n.length;l>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return zo(i,this.namespace,this.id)},jl.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):j(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},jl.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?Vr:wr,s=na.ns.qualify(t);return Wo(this,"attr."+t,e,s.local?o:i)},jl.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=na.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},jl.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(e){return null==e?r:(e+="",function(){var r,i=sa.getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=wr(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return Wo(this,"style."+t,e,i)},jl.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,sa.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},jl.text=function(t){return Wo(this,"text",t,Uo)},jl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},jl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=na.ease.apply(na,arguments)),j(this,function(r){r[n][e].ease=t}))},jl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:j(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},jl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:j(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},jl.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Nl,o=Ll;Ll=n,j(this,function(e,i,o){Nl=e[r][n],t.call(e,e.__data__,i,o)}),Nl=i,Ll=o}else j(this,function(i){var o=i[r][n];(o.event||(o.event=na.dispatch("start","end","interrupt"))).on(t,e)});return this},jl.transition=function(){for(var t,e,n,r,i=this.id,o=++Fl,a=this.namespace,s=[],l=0,u=this.length;u>l;l++){s.push(t=[]);for(var e=this[l],c=0,h=e.length;h>c;c++)(n=e[c])&&(r=n[a][i],Go(n,c,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return zo(s,a,o)},na.svg.axis=function(){function t(t){t.each(function(){var t,u=na.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),d=null==l?h.ticks?h.ticks.apply(h,s):h.domain():l,f=null==e?h.tickFormat?h.tickFormat.apply(h,s):St:e,p=u.selectAll(".tick").data(d,h),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Pa),m=na.transition(p.exit()).style("opacity",Pa).remove(),v=na.transition(p.order()).style("opacity",1),y=Math.max(i,0)+a,w=Bi(h),b=u.selectAll(".domain").data([0]),x=(b.enter().append("path").attr("class","domain"),na.transition(b));g.append("line"),g.append("text");var C,_,E,T,k=g.select("line"),S=v.select("line"),$=p.select("text").text(f),M=g.select("text"),A=v.select("text"),R="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=Xo,C="x",E="y",_="x2",T="y2",$.attr("dy",0>R?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+w[0]+","+R*o+"V0H"+w[1]+"V"+R*o)):(t=Ko,C="y",E="x",_="y2",T="x2",$.attr("dy",".32em").style("text-anchor",0>R?"end":"start"),x.attr("d","M"+R*o+","+w[0]+"H0V"+w[1]+"H"+R*o)),k.attr(T,R*i),M.attr(E,R*y),S.attr(_,0).attr(T,R*i),A.attr(C,0).attr(E,R*y),h.rangeBand){var D=h,O=D.rangeBand()/2;c=h=function(t){return D(t)+O}}else c.rangeBand?c=h:m.call(t,h,c);g.call(t,c,h),v.call(t,h,h)})}var e,n=na.scale.linear(),r=Vl,i=6,o=6,a=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in ql?e+"":Vl,t):r},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var Vl="bottom",ql={top:1,right:1,bottom:1,left:1};na.svg.brush=function(){function t(o){o.each(function(){var o=na.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(p,St);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return zl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var c,h=na.transition(o),d=na.transition(a);l&&(c=Bi(l),d.attr("x",c[0]).attr("width",c[1]-c[0]),n(h)),u&&(c=Bi(u),d.attr("y",c[0]).attr("height",c[1]-c[0]),r(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){32==na.event.keyCode&&($||(y=null,A[0]-=c[1],A[1]-=h[1],$=2),x())}function p(){32==na.event.keyCode&&2==$&&(A[0]+=c[1],A[1]+=h[1],$=0,x())}function g(){var t=na.mouse(b),i=!1;w&&(t[0]+=w[0],t[1]+=w[1]),$||(na.event.altKey?(y||(y=[(c[0]+c[1])/2,(h[0]+h[1])/2]),A[0]=c[+(t[0]<y[0])],A[1]=h[+(t[1]<y[1])]):y=null),k&&m(t,l,0)&&(n(E),i=!0),S&&m(t,u,1)&&(r(E),i=!0),i&&(e(E),_({type:"brush",mode:$?"move":"resize"}))}function m(t,e,n){var r,i,s=Bi(e),l=s[0],u=s[1],p=A[n],g=n?h:c,m=g[1]-g[0];return $&&(l-=p,u-=m+p),r=(n?f:d)?Math.max(l,Math.min(u,t[n])):t[n],$?i=(r+=p)+m:(y&&(p=Math.max(l,Math.min(u,2*y[n]-r))),r>p?(i=r,r=p):i=p),g[0]!=r||g[1]!=i?(n?a=null:o=null,g[0]=r,g[1]=i,!0):void 0}function v(){g(),E.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),na.select("body").style("cursor",null),R.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),M(),_({type:"brushend"})}var y,w,b=this,C=na.select(na.event.target),_=s.of(b,arguments),E=na.select(b),T=C.datum(),k=!/^(n|s)$/.test(T)&&l,S=!/^(e|w)$/.test(T)&&u,$=C.classed("extent"),M=Y(),A=na.mouse(b),R=na.select(sa).on("keydown.brush",i).on("keyup.brush",p);if(na.event.changedTouches?R.on("touchmove.brush",g).on("touchend.brush",v):R.on("mousemove.brush",g).on("mouseup.brush",v),E.interrupt().selectAll("*").interrupt(),$)A[0]=c[0]-A[0],A[1]=h[0]-A[1];else if(T){var D=+/w$/.test(T),O=+/^n/.test(T);w=[c[1-D]-A[0],h[1-O]-A[1]],A[0]=c[D],A[1]=h[O]}else na.event.altKey&&(y=A.slice());E.style("pointer-events","none").selectAll(".resize").style("display",null),na.select("body").style("cursor",C.style("cursor")),_({type:"brushstart"}),g()}var o,a,s=_(t,"brushstart","brush","brushend"),l=null,u=null,c=[0,0],h=[0,0],d=!0,f=!0,p=Wl[0];return t.event=function(t){t.each(function(){var t=s.of(this,arguments),e={x:c,y:h,i:o,j:a},n=this.__chart__||e;this.__chart__=e,Ll?na.select(this).transition().each("start.brush",function(){o=n.i,a=n.j,c=n.x,h=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=br(c,e.x),r=br(h,e.y);return o=a=null,function(i){c=e.x=n(i),h=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,p=Wl[!l<<1|!u],t):l},t.y=function(e){return arguments.length?(u=e,p=Wl[!l<<1|!u],t):u},t.clamp=function(e){return arguments.length?(l&&u?(d=!!e[0],f=!!e[1]):l?d=!!e:u&&(f=!!e),t):l&&u?[d,f]:l?d:u?f:null},t.extent=function(e){var n,r,i,s,d;return arguments.length?(l&&(n=e[0],r=e[1],u&&(n=n[0],r=r[0]),o=[n,r],l.invert&&(n=l(n),r=l(r)),n>r&&(d=n,n=r,r=d),(n!=c[0]||r!=c[1])&&(c=[n,r])),u&&(i=e[0],s=e[1],l&&(i=i[1],s=s[1]),a=[i,s],u.invert&&(i=u(i),s=u(s)),i>s&&(d=i,i=s,s=d),(i!=h[0]||s!=h[1])&&(h=[i,s])),t):(l&&(o?(n=o[0],r=o[1]):(n=c[0],r=c[1],l.invert&&(n=l.invert(n),r=l.invert(r)),n>r&&(d=n,n=r,r=d))),u&&(a?(i=a[0],s=a[1]):(i=h[0],s=h[1],u.invert&&(i=u.invert(i),s=u.invert(s)),i>s&&(d=i,i=s,s=d))),l&&u?[[n,i],[r,s]]:l?[n,r]:u&&[i,s])},t.clear=function(){return t.empty()||(c=[0,0],h=[0,0],o=a=null),t},t.empty=function(){return!!l&&c[0]==c[1]||!!u&&h[0]==h[1]},na.rebind(t,s,"on")};var zl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ul=ds.format=ys.timeFormat,Yl=Ul.utc,Gl=Yl("%Y-%m-%dT%H:%M:%S.%LZ");Ul.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Zo:Gl,Zo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Zo.toString=Gl.toString,ds.second=jt(function(t){return new fs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),ds.seconds=ds.second.range,ds.seconds.utc=ds.second.utc.range,ds.minute=jt(function(t){return new fs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),ds.minutes=ds.minute.range,ds.minutes.utc=ds.minute.utc.range,ds.hour=jt(function(t){var e=t.getTimezoneOffset()/60;return new fs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),ds.hours=ds.hour.range,ds.hours.utc=ds.hour.utc.range,ds.month=jt(function(t){return t=ds.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),ds.months=ds.month.range,ds.months.utc=ds.month.utc.range;var Xl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Kl=[[ds.second,1],[ds.second,5],[ds.second,15],[ds.second,30],[ds.minute,1],[ds.minute,5],[ds.minute,15],[ds.minute,30],[ds.hour,1],[ds.hour,3],[ds.hour,6],[ds.hour,12],[ds.day,1],[ds.day,2],[ds.week,1],[ds.month,1],[ds.month,3],[ds.year,1]],Zl=Ul.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Me]]),Jl={range:function(t,e,n){return na.range(Math.ceil(t/n)*n,+e,n).map(Qo)},floor:St,ceil:St};Kl.year=ds.year,ds.scale=function(){return Jo(na.scale.linear(),Kl,Zl)};var Ql=Kl.map(function(t){return[t[0].utc,t[1]]}),tu=Yl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Me]]);Ql.year=ds.year.utc,ds.scale.utc=function(){return Jo(na.scale.linear(),Ql,tu)},na.text=$t(function(t){return t.responseText}),na.json=function(t,e){return Mt(t,"application/json",ta,e)},na.html=function(t,e){return Mt(t,"text/html",ea,e)},na.xml=$t(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(na):"object"==typeof module&&module.exports&&(module.exports=na),this.d3=na}(),function(t){"use strict";function e(t){this.owner=t}function n(t,e){if(Object.create)e.prototype=Object.create(t.prototype);else{var n=function(){};n.prototype=t.prototype,e.prototype=new n}return e.prototype.constructor=e,e}function r(t){var e=this.internal=new i(this);e.loadConfig(t),e.beforeInit(t),e.init(),e.afterInit(t),function n(t,e,r){Object.keys(t).forEach(function(i){e[i]=t[i].bind(r),Object.keys(t[i]).length>0&&n(t[i],e[i],r)})}(s,this,this)}function i(e){var n=this;n.d3=t.d3?t.d3:"undefined"!=typeof require?require("d3"):void 0,n.api=e,n.config=n.getDefaultConfig(),n.data={},n.cache={},n.axes={}}function o(t){e.call(this,t)}function a(t,e){function n(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+b)+", 0)"})}function r(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})}function i(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function o(t){var e,n,r=[];if(t.ticks)return t.ticks.apply(t,f);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)r.push(e);return r.length>0&&r[0]>0&&r.unshift(r[0]-(r[1]-r[0])),r}function a(){var t,n=g.copy();return e.isCategory&&(t=g.domain(),n.domain([t[0],t[1]-1])),n}function s(t){var e=d?d(t):t;return"undefined"!=typeof e?e:""}function l(t){if(T)return T;var e={h:11.5,w:5.5};return t.select("text").text(s).each(function(t){var n=this.getBoundingClientRect(),r=s(t),i=n.height,o=r?n.width/r.length:void 0;i&&o&&(e.h=i,e.w=o)}).text(""),T=e,e}function u(n){return e.withoutTransition?n:t.transition(n)}function c(d){d.each(function(){function d(t,n){function r(t,e){o=void 0;for(var s=1;s<e.length;s++)if(" "===e.charAt(s)&&(o=s),i=e.substr(0,s+1),a=U.w*i.length,a>n)return r(t.concat(e.substr(0,o?o:s)),e.slice(o?o+1:s));return t.concat(e)}var i,o,a,l=s(t),u=[];return"[object Array]"===Object.prototype.toString.call(l)?l:((!n||0>=n)&&(n=X?95:e.isCategory?Math.ceil(R(D[1])-R(D[0]))-12:110),r(u,l+""))}function f(t,e){var n=U.h;return 0===e&&(n="left"===m||"right"===m?-((Y[t.index]-1)*(U.h/2)-3):".71em"),n}function x(t){var e=g(t)+(p?0:b);return N[0]<e&&e<N[1]?v:0}function C(t){return t?t>0?"start":"end":"middle"}function _(t){return t?"rotate("+t+")":""}function E(t){return t?8*Math.sin(Math.PI*(t/180)):0}function T(t){return t?11.5-2.5*(t/15)*(t>0?1:-1):G}var k,S,$,M=c.g=t.select(this),A=this.__chart__||g,R=this.__chart__=a(),D=w?w:o(R),O=M.selectAll(".tick").data(D,R),P=O.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),H=O.exit().remove(),L=u(O).style("opacity",1),N=g.rangeExtent?g.rangeExtent():i(g.range()),I=M.selectAll(".domain").data([0]),B=(I.enter().append("path").attr("class","domain"),u(I));P.append("line"),P.append("text");var j=P.select("line"),F=L.select("line"),V=P.select("text"),q=L.select("text");e.isCategory?(b=Math.ceil((R(1)-R(0))/2),S=p?0:b,$=p?b:0):b=S=0;var z,W,U=l(M.select(".tick")),Y=[],G=Math.max(v,0)+y,X="left"===m||"right"===m;z=O.select("text"),W=z.selectAll("tspan").data(function(t,n){var r=e.tickMultiline?d(t,e.tickWidth):[].concat(s(t));return Y[n]=r.length,r.map(function(t){return{index:n,splitted:t}})}),W.enter().append("tspan"),W.exit().remove(),W.text(function(t){return t.splitted});var K=e.tickTextRotate;switch(m){case"bottom":k=n,j.attr("y2",v),V.attr("y",G),F.attr("x1",S).attr("x2",S).attr("y2",x),q.attr("x",0).attr("y",T(K)).style("text-anchor",C(K)).attr("transform",_(K)),W.attr("x",0).attr("dy",f).attr("dx",E(K)),B.attr("d","M"+N[0]+","+h+"V0H"+N[1]+"V"+h);break;case"top":k=n,j.attr("y2",-v),V.attr("y",-G),F.attr("x2",0).attr("y2",-v),q.attr("x",0).attr("y",-G),z.style("text-anchor","middle"),W.attr("x",0).attr("dy","0em"),B.attr("d","M"+N[0]+","+-h+"V0H"+N[1]+"V"+-h);break;case"left":k=r,j.attr("x2",-v),V.attr("x",-G),F.attr("x2",-v).attr("y1",$).attr("y2",$),q.attr("x",-G).attr("y",b),z.style("text-anchor","end"),W.attr("x",-G).attr("dy",f),B.attr("d","M"+-h+","+N[0]+"H0V"+N[1]+"H"+-h);break;case"right":k=r,j.attr("x2",v),V.attr("x",G),F.attr("x2",v).attr("y2",0),q.attr("x",G).attr("y",0),z.style("text-anchor","start"),W.attr("x",G).attr("dy",f),B.attr("d","M"+h+","+N[0]+"H0V"+N[1]+"H"+h)}if(R.rangeBand){var Z=R,J=Z.rangeBand()/2;A=R=function(t){return Z(t)+J}}else A.rangeBand?A=R:H.call(k,R);P.call(k,A),L.call(k,R)})}var h,d,f,p,g=t.scale.linear(),m="bottom",v=6,y=3,w=null,b=0,x=!0;return e=e||{},h=e.withOuterTick?6:0,c.scale=function(t){return arguments.length?(g=t,c):g},c.orient=function(t){return arguments.length?(m=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",c):m},c.tickFormat=function(t){return arguments.length?(d=t,c):d},c.tickCentered=function(t){return arguments.length?(p=t,c):p},c.tickOffset=function(){return b},c.tickInterval=function(){var t,n;return e.isCategory?t=2*b:(n=c.g.select("path.domain").node().getTotalLength()-2*h,t=n/c.g.selectAll("line").size()),t===1/0?0:t},c.ticks=function(){return arguments.length?(f=arguments,c):f},c.tickCulling=function(t){return arguments.length?(x=t,c):x},c.tickValues=function(t){if("function"==typeof t)w=function(){return t(g.domain())};else{if(!arguments.length)return w;w=t}return c},c}var s,l,u,c={version:"0.4.11-rc4"};c.generate=function(t){return new r(t)},c.chart={fn:r.prototype,internal:{fn:i.prototype,axis:{fn:o.prototype}}},s=c.chart.fn,l=c.chart.internal.fn,u=c.chart.internal.axis.fn,l.beforeInit=function(){},l.afterInit=function(){},l.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},l.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),
t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=n.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=n.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?"left":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},l.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},l.initWithData=function(t){var e,n,r=this,i=r.d3,a=r.config,s=!0;r.axis=new o(r),r.initPie&&r.initPie(),r.initBrush&&r.initBrush(),r.initZoom&&r.initZoom(),r.selectChart=a.bindto?"function"==typeof a.bindto.node?a.bindto:i.select(a.bindto):i.selectAll([]),r.selectChart.empty()&&(r.selectChart=i.select(document.createElement("div")).style("opacity",0),r.observeInserted(r.selectChart),s=!1),r.selectChart.html("").classed("c3",!0),r.data.xs={},r.data.targets=r.convertDataToTargets(t),a.data_filter&&(r.data.targets=r.data.targets.filter(a.data_filter)),a.data_hide&&r.addHiddenTargetIds(a.data_hide===!0?r.mapToIds(r.data.targets):a.data_hide),a.legend_hide&&r.addHiddenLegendIds(a.legend_hide===!0?r.mapToIds(r.data.targets):a.legend_hide),r.hasType("gauge")&&(a.legend_show=!1),r.updateSizes(),r.updateScales(),r.x.domain(i.extent(r.getXDomain(r.data.targets))),r.y.domain(r.getYDomain(r.data.targets,"y")),r.y2.domain(r.getYDomain(r.data.targets,"y2")),r.subX.domain(r.x.domain()),r.subY.domain(r.y.domain()),r.subY2.domain(r.y2.domain()),r.orgXDomain=r.x.domain(),r.brush&&r.brush.scale(r.subX),a.zoom_enabled&&r.zoom.scale(r.x),r.svg=r.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return a.onmouseover.call(r)}).on("mouseleave",function(){return a.onmouseout.call(r)}),e=r.svg.append("defs"),r.clipChart=r.appendClip(e,r.clipId),r.clipXAxis=r.appendClip(e,r.clipIdForXAxis),r.clipYAxis=r.appendClip(e,r.clipIdForYAxis),r.clipGrid=r.appendClip(e,r.clipIdForGrid),r.clipSubchart=r.appendClip(e,r.clipIdForSubchart),r.updateSvgSize(),n=r.main=r.svg.append("g").attr("transform",r.getTranslate("main")),r.initSubchart&&r.initSubchart(),r.initTooltip&&r.initTooltip(),r.initLegend&&r.initLegend(),r.initTitle&&r.initTitle(),n.append("text").attr("class",h.text+" "+h.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),r.initRegion(),r.initGrid(),n.append("g").attr("clip-path",r.clipPath).attr("class",h.chart),a.grid_lines_front&&r.initGridLines(),r.initEventRect(),r.initChartElements(),n.insert("rect",a.zoom_privileged?null:"g."+h.regions).attr("class",h.zoomRect).attr("width",r.width).attr("height",r.height).style("opacity",0).on("dblclick.zoom",null),a.axis_x_extent&&r.brush.extent(r.getDefaultExtent()),r.axis.init(),r.updateTargets(r.data.targets),s&&(r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),r.bindResize(),r.api.element=r.selectChart.node()},l.smoothLines=function(t,e){var n=this;"grid"===e&&t.each(function(){var t=n.d3.select(this),e=t.attr("x1"),r=t.attr("x2"),i=t.attr("y1"),o=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(r),y1:Math.ceil(i),y2:Math.ceil(o)})})},l.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,r=t.legend?t.getLegendWidth():0,i=t.isLegendRight||t.isLegendInset?0:n,o=t.hasArcType(),a=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!o?e.subchart_size_height+a:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+i+t.getCurrentPaddingBottom(),left:s+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:a+s+i+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:0/0,bottom:20+i,left:t.rotated_padding_left}:{top:t.currentHeight-s-i,right:0/0,bottom:a+i,left:t.margin.left},t.margin3={top:0,right:0/0,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,r),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?r+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},l.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},l.showTargets=function(){var t=this;t.svg.selectAll("."+h.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},l.redraw=function(t,e){var n,r,i,o,a,s,l,u,c,d,f,p,g,m,v,y,w,b,x,_,E,T,k,S,$,M,A,R,D,O=this,P=O.main,H=O.d3,L=O.config,N=O.getShapeIndices(O.isAreaType),I=O.getShapeIndices(O.isBarType),B=O.getShapeIndices(O.isLineType),j=O.hasArcType(),F=O.filterTargetsToShow(O.data.targets),V=O.xv.bind(O);if(t=t||{},n=C(t,"withY",!0),r=C(t,"withSubchart",!0),i=C(t,"withTransition",!0),s=C(t,"withTransform",!1),l=C(t,"withUpdateXDomain",!1),u=C(t,"withUpdateOrgXDomain",!1),c=C(t,"withTrimXDomain",!0),g=C(t,"withUpdateXAxis",l),d=C(t,"withLegend",!1),f=C(t,"withEventRect",!0),p=C(t,"withDimension",!0),o=C(t,"withTransitionForExit",i),a=C(t,"withTransitionForAxis",i),x=i?L.transition_duration:0,_=o?x:0,E=a?x:0,e=e||O.axis.generateTransitions(E),d&&L.legend_show?O.updateLegend(O.mapToIds(O.data.targets),t,e):p&&O.updateDimension(!0),O.isCategorized()&&0===F.length&&O.x.domain([0,O.axes.x.selectAll(".tick").size()]),F.length?(O.updateXDomain(F,l,u,c),L.axis_x_tick_values||(S=O.axis.updateXAxisTickValues(F))):(O.xAxis.tickValues([]),O.subXAxis.tickValues([])),L.zoom_rescale&&!t.flow&&(A=O.x.orgDomain()),O.y.domain(O.getYDomain(F,"y",A)),O.y2.domain(O.getYDomain(F,"y2",A)),!L.axis_y_tick_values&&L.axis_y_tick_count&&O.yAxis.tickValues(O.axis.generateTickValues(O.y.domain(),L.axis_y_tick_count)),!L.axis_y2_tick_values&&L.axis_y2_tick_count&&O.y2Axis.tickValues(O.axis.generateTickValues(O.y2.domain(),L.axis_y2_tick_count)),O.axis.redraw(e,j),O.axis.updateLabels(i),(l||g)&&F.length)if(L.axis_x_tick_culling&&S){for($=1;$<S.length;$++)if(S.length/$<L.axis_x_tick_culling_max){M=$;break}O.svg.selectAll("."+h.axisX+" .tick text").each(function(t){var e=S.indexOf(t);e>=0&&H.select(this).style("display",e%M?"none":"block")})}else O.svg.selectAll("."+h.axisX+" .tick text").style("display","block");m=O.generateDrawArea?O.generateDrawArea(N,!1):void 0,v=O.generateDrawBar?O.generateDrawBar(I):void 0,y=O.generateDrawLine?O.generateDrawLine(B,!1):void 0,w=O.generateXYForText(N,I,B,!0),b=O.generateXYForText(N,I,B,!1),n&&(O.subY.domain(O.getYDomain(F,"y")),O.subY2.domain(O.getYDomain(F,"y2"))),O.updateXgridFocus(),P.select("text."+h.text+"."+h.empty).attr("x",O.width/2).attr("y",O.height/2).text(L.data_empty_label_text).transition().style("opacity",F.length?0:1),O.updateGrid(x),O.updateRegion(x),O.updateBar(_),O.updateLine(_),O.updateArea(_),O.updateCircle(),O.hasDataLabel()&&O.updateText(_),O.redrawTitle&&O.redrawTitle(),O.redrawArc&&O.redrawArc(x,_,s),O.redrawSubchart&&O.redrawSubchart(r,e,x,_,N,I,B),P.selectAll("."+h.selectedCircles).filter(O.isBarType.bind(O)).selectAll("circle").remove(),L.interaction_enabled&&!t.flow&&f&&(O.redrawEventRect(),O.updateZoom&&O.updateZoom()),O.updateCircleY(),R=(O.config.axis_rotated?O.circleY:O.circleX).bind(O),D=(O.config.axis_rotated?O.circleX:O.circleY).bind(O),t.flow&&(k=O.generateFlow({targets:F,flow:t.flow,duration:t.flow.duration,drawBar:v,drawLine:y,drawArea:m,cx:R,cy:D,xv:V,xForText:w,yForText:b})),(x||k)&&O.isTabVisible()?H.transition().duration(x).each(function(){var e=[];[O.redrawBar(v,!0),O.redrawLine(y,!0),O.redrawArea(m,!0),O.redrawCircle(R,D,!0),O.redrawText(w,b,t.flow,!0),O.redrawRegion(!0),O.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),T=O.generateWait(),e.forEach(function(t){T.add(t)})}).call(T,function(){k&&k(),L.onrendered&&L.onrendered.call(O)}):(O.redrawBar(v),O.redrawLine(y),O.redrawArea(m),O.redrawCircle(R,D),O.redrawText(w,b,t.flow),O.redrawRegion(),O.redrawGrid(),L.onrendered&&L.onrendered.call(O)),O.mapToIds(O.data.targets).forEach(function(t){O.withoutFadeIn[t]=!0})},l.updateAndRedraw=function(t){var e,n=this,r=n.config;t=t||{},t.withTransition=C(t,"withTransition",!0),t.withTransform=C(t,"withTransform",!1),t.withLegend=C(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=C(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&r.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?r.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},l.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},l.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},l.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},l.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||x(e.data_xs))},l.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},l.getTranslate=function(t){var e,n,r=this,i=r.config;return"main"===t?(e=y(r.margin.left),n=y(r.margin.top)):"context"===t?(e=y(r.margin2.left),n=y(r.margin2.top)):"legend"===t?(e=r.margin3.left,n=r.margin3.top):"x"===t?(e=0,n=i.axis_rotated?0:r.height):"y"===t?(e=0,n=i.axis_rotated?r.height:0):"y2"===t?(e=i.axis_rotated?0:r.width,n=i.axis_rotated?1:0):"subx"===t?(e=0,n=i.axis_rotated?0:r.height2):"arc"===t&&(e=r.arcWidth/2,n=r.arcHeight/2),"translate("+e+","+n+")"},l.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},l.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},l.opacityForCircle=function(t){var e=this.config.point_show?1:0;return d(t.value)?this.isScatterType(t)?.5:e:0},l.opacityForText=function(){return this.hasDataLabel()?1:0},l.xx=function(t){return t?this.x(t.x):null},l.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},l.yv=function(t){var e=this,n=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(n(t.value))},l.subxx=function(t){return t?this.subX(t.x):null},l.transformMain=function(t,e){var n,r,i,o=this;e&&e.axisX?n=e.axisX:(n=o.main.select("."+h.axisX),t&&(n=n.transition())),e&&e.axisY?r=e.axisY:(r=o.main.select("."+h.axisY),t&&(r=r.transition())),e&&e.axisY2?i=e.axisY2:(i=o.main.select("."+h.axisY2),t&&(i=i.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),r.attr("transform",o.getTranslate("y")),i.attr("transform",o.getTranslate("y2")),o.main.select("."+h.chartArcs).attr("transform",o.getTranslate("arc"))},l.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},l.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+h.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},l.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},l.observeInserted=function(e){var n,r=this;return"undefined"==typeof MutationObserver?void t.console.error("MutationObserver not defined."):(n=new MutationObserver(function(i){i.forEach(function(i){"childList"===i.type&&i.previousSibling&&(n.disconnect(),r.intervalForObserveInserted=t.setInterval(function(){e.node().parentNode&&(t.clearInterval(r.intervalForObserveInserted),r.updateDimension(),r.brush&&r.brush.update(),r.config.oninit.call(r),r.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})}),void n.observe(e.node(),{attributes:!0,childList:!0,characterData:!0}))},l.bindResize=function(){var e=this,n=e.config;if(e.resizeFunction=e.generateResize(),e.resizeFunction.add(function(){n.onresize.call(e)}),n.resize_auto&&e.resizeFunction.add(function(){void 0!==e.resizeTimeout&&t.clearTimeout(e.resizeTimeout),e.resizeTimeout=t.setTimeout(function(){delete e.resizeTimeout,e.api.flush()},100)}),e.resizeFunction.add(function(){n.onresized.call(e)}),t.attachEvent)t.attachEvent("onresize",e.resizeFunction);else if(t.addEventListener)t.addEventListener("resize",e.resizeFunction,!1);else{var r=t.onresize;r?r.add&&r.remove||(r=e.generateResize(),r.add(t.onresize)):r=e.generateResize(),r.add(e.resizeFunction),t.onresize=r}},l.generateResize=function(){function t(){e.forEach(function(t){t()})}var e=[];return t.add=function(t){e.push(t)},t.remove=function(t){for(var n=0;n<e.length;n++)if(e[n]===t){e.splice(n,1);break}},t},l.endall=function(t,e){var n=0;t.each(function(){++n}).each("end",function(){--n||e.apply(this,arguments)})},l.generateWait=function(){var t=[],e=function(e,n){var r=setInterval(function(){var e=0;t.forEach(function(t){if(t.empty())return void(e+=1);try{t.transition()}catch(n){e+=1}}),e===t.length&&(clearInterval(r),n&&n())},10)};return e.add=function(e){t.push(e)},e},l.parseDate=function(e){var n,r=this;return e instanceof Date?n=e:"string"==typeof e?n=r.dataTimeFormat(r.config.data_xFormat).parse(e):"number"!=typeof e||isNaN(e)||(n=new Date(+e)),(!n||isNaN(+n))&&t.console.error("Failed to parse x '"+e+"' to Date object"),n},l.isTabVisible=function(){var t;return"undefined"!=typeof document.hidden?t="hidden":"undefined"!=typeof document.mozHidden?t="mozHidden":"undefined"!=typeof document.msHidden?t="msHidden":"undefined"!=typeof document.webkitHidden&&(t="webkitHidden"),document[t]?!1:!0},l.getDefaultConfig=function(){var t={bindto:"#chart",size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:{},pie_expand_duration:50,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,spline_interpolation_type:"cardinal",regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,r){return this.getTooltipContent?this.getTooltipContent(t,e,n,r):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_author:void 0,title_source:void 0,title_spacing:5,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this),t},l.additionalConfig={},l.loadConfig=function(t){function e(){var t=r.shift();return t&&n&&"object"==typeof n&&t in n?(n=n[t],e()):t?void 0:n}var n,r,i,o=this.config;Object.keys(o).forEach(function(a){n=t,r=a.split("_"),i=e(),m(i)&&(o[a]=i)})},l.getScale=function(t,e,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},l.getX=function(t,e,n,r){var i,o=this,a=o.getScale(t,e,o.isTimeSeries()),s=n?a.domain(n):a;o.isCategorized()?(r=r||function(){return 0},a=function(t,e){var n=s(t)+r(t);return e?n:Math.ceil(n)}):a=function(t,e){var n=s(t);return e?n:Math.ceil(n)};for(i in s)a[i]=s[i];return a.orgDomain=function(){return s.domain()},o.isCategorized()&&(a.domain=function(t){return arguments.length?(s.domain(t),a):(t=this.orgDomain(),[t[0],t[1]+1])}),a},l.getY=function(t,e,n){var r=this.getScale(t,e,this.isTimeSeriesY());return n&&r.domain(n),r},l.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},l.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},l.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,n?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,n?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,n?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,n?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,t.y2AxisTickValues,e.axis_y2_tick_outer),n||(t.brush&&t.brush.scale(t.subX),e.zoom_enabled&&t.zoom.scale(t.x)),t.updateArc&&t.updateArc()},l.getYDomainMin=function(t){var e,n,r,i,o,a,s=this,l=s.config,u=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(a=s.hasNegativeValueInTargets(t),e=0;e<l.data_groups.length;e++)if(i=l.data_groups[e].filter(function(t){return u.indexOf(t)>=0}),0!==i.length)for(r=i[0],a&&c[r]&&c[r].forEach(function(t,e){c[r][e]=0>t?t:0}),n=1;n<i.length;n++)o=i[n],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(r)||!c[r]||a&&+t>0||(c[r][e]+=+t)});return s.d3.min(Object.keys(c).map(function(t){return s.d3.min(c[t])}))},l.getYDomainMax=function(t){var e,n,r,i,o,a,s=this,l=s.config,u=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(a=s.hasPositiveValueInTargets(t),e=0;e<l.data_groups.length;e++)if(i=l.data_groups[e].filter(function(t){return u.indexOf(t)>=0}),0!==i.length)for(r=i[0],a&&c[r]&&c[r].forEach(function(t,e){c[r][e]=t>0?t:0}),n=1;n<i.length;n++)o=i[n],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(r)||!c[r]||a&&0>+t||(c[r][e]+=+t)});return s.d3.max(Object.keys(c).map(function(t){return s.d3.max(c[t])}))},l.getYDomain=function(t,e,n){var r,i,o,a,s,l,u,c,h,f,p,g=this,m=g.config,v=t.filter(function(t){return g.axis.getId(t.id)===e}),y=n?g.filterByXDomain(v,n):v,b="y2"===e?m.axis_y2_min:m.axis_y_min,C="y2"===e?m.axis_y2_max:m.axis_y_max,_=g.getYDomainMin(y),E=g.getYDomainMax(y),T="y2"===e?m.axis_y2_center:m.axis_y_center,k=g.hasType("bar",y)&&m.bar_zerobased||g.hasType("area",y)&&m.area_zerobased,S="y2"===e?m.axis_y2_inverted:m.axis_y_inverted,$=g.hasDataLabel()&&m.axis_rotated,M=g.hasDataLabel()&&!m.axis_rotated;return _=d(b)?b:d(C)?C>_?_:C-10:_,E=d(C)?C:d(b)?E>b?E:b+10:E,0===y.length?"y2"===e?g.y2.domain():g.y.domain():(isNaN(_)&&(_=0),isNaN(E)&&(E=_),_===E&&(0>_?E=0:_=0),f=_>=0&&E>=0,p=0>=_&&0>=E,(d(b)&&f||d(C)&&p)&&(k=!1),k&&(f&&(_=0),p&&(E=0)),i=Math.abs(E-_),o=a=s=.1*i,"undefined"!=typeof T&&(l=Math.max(Math.abs(_),Math.abs(E)),E=T+l,_=T-l),$?(u=g.getDataLabelLength(_,E,"width"),c=w(g.y.range()),h=[u[0]/c,u[1]/c],a+=i*(h[1]/(1-h[0]-h[1])),s+=i*(h[0]/(1-h[0]-h[1]))):M&&(u=g.getDataLabelLength(_,E,"height"),a+=g.axis.convertPixelsToAxisPadding(u[1],i),s+=g.axis.convertPixelsToAxisPadding(u[0],i)),"y"===e&&x(m.axis_y_padding)&&(a=g.axis.getPadding(m.axis_y_padding,"top",a,i),s=g.axis.getPadding(m.axis_y_padding,"bottom",s,i)),"y2"===e&&x(m.axis_y2_padding)&&(a=g.axis.getPadding(m.axis_y2_padding,"top",a,i),s=g.axis.getPadding(m.axis_y2_padding,"bottom",s,i)),k&&(f&&(s=_),p&&(a=-E)),r=[_-s,E+a],S?r.reverse():r)},l.getXDomainMin=function(t){var e=this,n=e.config;return m(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},l.getXDomainMax=function(t){var e=this,n=e.config;return m(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},l.getXDomainPadding=function(t){var e,n,r,i,o=this,a=o.config,s=t[1]-t[0];return o.isCategorized()?n=0:o.hasType("bar")?(e=o.getMaxDataCount(),n=e>1?s/(e-1)/2:.5):n=.01*s,"object"==typeof a.axis_x_padding&&x(a.axis_x_padding)?(r=d(a.axis_x_padding.left)?a.axis_x_padding.left:n,i=d(a.axis_x_padding.right)?a.axis_x_padding.right:n):r=i="number"==typeof a.axis_x_padding?a.axis_x_padding:n,{left:r,right:i}},l.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],r=n[0],i=n[1],o=e.getXDomainPadding(n),a=0,s=0;return r-i!==0||e.isCategorized()||(e.isTimeSeries()?(r=new Date(.5*r.getTime()),i=new Date(1.5*i.getTime())):(r=0===r?1:.5*r,i=0===i?-1:1.5*i)),(r||0===r)&&(a=e.isTimeSeries()?new Date(r.getTime()-o.left):r-o.left),(i||0===i)&&(s=e.isTimeSeries()?new Date(i.getTime()+o.right):i+o.right),[a,s]},l.updateXDomain=function(t,e,n,r,i){var o=this,a=o.config;return n&&(o.x.domain(i?i:o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),e&&(o.x.domain(i?i:!o.brush||o.brush.empty()?o.orgXDomain:o.brush.extent()),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent()),r&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},l.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],r=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),r<=t[1]&&(t[0]=+t[0]-(t[1]-r),t[1]=r),t},l.isX=function(t){var e=this,n=e.config;return n.data_x&&t===n.data_x||x(n.data_xs)&&_(n.data_xs,t)},l.isNotX=function(t){return!this.isX(t)},l.getXKey=function(t){var e=this,n=e.config;return n.data_x?n.data_x:x(n.data_xs)?n.data_xs[t]:null},l.getXValuesOfXKey=function(t,e){var n,r=this,i=e&&x(e)?r.mapToIds(e):[];return i.forEach(function(e){r.getXKey(e)===t&&(n=r.data.xs[e])}),n},l.getIndexByX=function(t){var e=this,n=e.filterByX(e.data.targets,t);return n.length?n[0].index:null},l.getXValue=function(t,e){var n=this;return t in n.data.xs&&n.data.xs[t]&&d(n.data.xs[t][e])?n.data.xs[t][e]:e},l.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},l.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},l.addXs=function(t){var e=this;Object.keys(t).forEach(function(n){e.config.data_xs[n]=t[n]})},l.hasMultipleX=function(t){return this.d3.set(Object.keys(t).map(function(e){return t[e]})).size()>1},l.isMultipleX=function(){return x(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},l.addName=function(t){var e,n=this;return t&&(e=n.config.data_names[t.id],t.name=void 0!==e?e:t.id),t},l.getValueOnIndex=function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},l.updateTargetX=function(t,e){var n=this;t.forEach(function(t){t.values.forEach(function(r,i){r.x=n.generateTargetX(e[i],t.id,i)}),n.data.xs[t.id]=e})},l.updateTargetXs=function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},l.generateTargetX=function(t,e,n){var r,i=this;return r=i.isTimeSeries()?i.parseDate(t?t:i.getXValue(e,n)):i.isCustomX()&&!i.isCategorized()?d(t)?+t:i.getXValue(e,n):n},l.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},l.updateXs=function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},l.getPrevX=function(t){var e=this.xs[t-1];return"undefined"!=typeof e?e:null},l.getNextX=function(t){var e=this.xs[t+1];return"undefined"!=typeof e?e:null},l.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})},l.getMaxDataCountTarget=function(t){var e,n=t.length,r=0;return n>1?t.forEach(function(t){t.values.length>r&&(e=t,r=t.values.length)}):e=n?t[0]:null,e},l.getEdgeX=function(t){var e=this;return t.length?[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},l.mapToIds=function(t){return t.map(function(t){return t.id})},l.mapToTargetIds=function(t){var e=this;return t?[].concat(t):e.mapToIds(e.data.targets)},l.hasTarget=function(t,e){var n,r=this.mapToIds(t);for(n=0;n<r.length;n++)if(r[n]===e)return!0;return!1},l.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},l.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},l.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},l.mapTargetsToUniqueXs=function(t){var e=this,n=e.d3.set(e.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return n=n.map(e.isTimeSeries()?function(t){return new Date(+t)}:function(t){return+t}),n.sort(function(t,e){return e>t?-1:t>e?1:t>=e?0:0/0})},l.addHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.concat(t)},l.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},l.addHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.concat(t)},l.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},l.getValuesAsIdKeyed=function(t){var e={};return t.forEach(function(t){e[t.id]=[],t.values.forEach(function(n){e[t.id].push(n.value)})}),e},l.checkValueInTargets=function(t,e){var n,r,i,o=Object.keys(t);for(n=0;n<o.length;n++)for(i=t[o[n]].values,r=0;r<i.length;r++)if(e(i[r].value))return!0;return!1},l.hasNegativeValueInTargets=function(t){
return this.checkValueInTargets(t,function(t){return 0>t})},l.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return t>0})},l.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},l.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},l.orderTargets=function(t){var e=this,n=e.config,r=e.isOrderAsc(),i=e.isOrderDesc();return r||i?t.sort(function(t,e){var n=function(t,e){return t+Math.abs(e.value)},i=t.values.reduce(n,0),o=e.values.reduce(n,0);return r?o-i:i-o}):f(n.data_order)&&t.sort(n.data_order),t},l.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e===0})},l.filterRemoveNull=function(t){return t.filter(function(t){return d(t.value)})},l.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},l.hasDataLabel=function(){var t=this.config;return"boolean"==typeof t.data_labels&&t.data_labels?!0:"object"==typeof t.data_labels&&x(t.data_labels)?!0:!1},l.getDataLabelLength=function(t,e,n){var r=this,i=[0,0],o=1.3;return r.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return r.dataLabelFormat(t.id)(t)}).each(function(t,e){i[e]=this.getBoundingClientRect()[n]*o}).remove(),i},l.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},l.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},l.findSameXOfValues=function(t,e){var n,r=t[e].x,i=[];for(n=e-1;n>=0&&r===t[n].x;n--)i.push(t[n]);for(n=e;n<t.length&&r===t[n].x;n++)i.push(t[n]);return i},l.findClosestFromTargets=function(t,e){var n,r=this;return n=t.map(function(t){return r.findClosest(t.values,e)}),r.findClosest(n,e)},l.findClosest=function(t,e){var n,r=this,i=r.config.point_sensitivity;return t.filter(function(t){return t&&r.isBarType(t.id)}).forEach(function(t){var e=r.main.select("."+h.bars+r.getTargetSelectorSuffix(t.id)+" ."+h.bar+"-"+t.index).node();!n&&r.isWithinBar(e)&&(n=t)}),t.filter(function(t){return t&&!r.isBarType(t.id)}).forEach(function(t){var o=r.dist(t,e);i>o&&(i=o,n=t)}),n},l.dist=function(t,e){var n=this,r=n.config,i=r.axis_rotated?1:0,o=r.axis_rotated?0:1,a=n.circleY(t,t.index),s=n.x(t.x);return Math.sqrt(Math.pow(s-e[i],2)+Math.pow(a-e[o],2))},l.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;e>0;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},l.updateDataAttributes=function(t,e){var n=this,r=n.config,i=r["data_"+t];return"undefined"==typeof e?i:(Object.keys(e).forEach(function(t){i[t]=e[t]}),n.redraw({withLegend:!0}),i)},l.convertUrlToData=function(t,e,n,r){var i=this,o=e?e:"csv";i.d3.xhr(t,function(t,e){var a;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");a="json"===o?i.convertJsonToData(JSON.parse(e.response),n):"tsv"===o?i.convertTsvToData(e.response):i.convertCsvToData(e.response),r.call(i,a)})},l.convertXsvToData=function(t,e){var n,r=e.parseRows(t);return 1===r.length?(n=[{}],r[0].forEach(function(t){n[0][t]=null})):n=e.parse(t),n},l.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},l.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},l.convertJsonToData=function(t,e){var n,r,i=this,o=[];return e?(e.x?(n=e.value.concat(e.x),i.config.data_x=e.x):n=e.value,o.push(n),t.forEach(function(t){var e=[];n.forEach(function(n){var r=g(t[n])?null:t[n];e.push(r)}),o.push(e)}),r=i.convertRowsToData(o)):(Object.keys(t).forEach(function(e){o.push([e].concat(t[e]))}),r=i.convertColumnsToData(o)),r},l.convertRowsToData=function(t){var e,n,r=t[0],i={},o=[];for(e=1;e<t.length;e++){for(i={},n=0;n<t[e].length;n++){if(g(t[e][n]))throw new Error("Source data is missing a component at ("+e+","+n+")!");i[r[n]]=t[e][n]}o.push(i)}return o},l.convertColumnsToData=function(t){var e,n,r,i=[];for(e=0;e<t.length;e++)for(r=t[e][0],n=1;n<t[e].length;n++){if(g(i[n-1])&&(i[n-1]={}),g(t[e][n]))throw new Error("Source data is missing a component at ("+e+","+n+")!");i[n-1][r]=t[e][n]}return i},l.convertDataToTargets=function(t,e){var n,r=this,i=r.config,o=r.d3.keys(t[0]).filter(r.isNotX,r),a=r.d3.keys(t[0]).filter(r.isX,r);return o.forEach(function(n){var o=r.getXKey(n);r.isCustomX()||r.isTimeSeries()?a.indexOf(o)>=0?r.data.xs[n]=(e&&r.data.xs[n]?r.data.xs[n]:[]).concat(t.map(function(t){return t[o]}).filter(d).map(function(t,e){return r.generateTargetX(t,n,e)})):i.data_x?r.data.xs[n]=r.getOtherTargetXs():x(i.data_xs)&&(r.data.xs[n]=r.getXValuesOfXKey(o,r.data.targets)):r.data.xs[n]=t.map(function(t,e){return e})}),o.forEach(function(t){if(!r.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),n=o.map(function(e,n){var o=i.data_idConverter(e);return{id:o,id_org:e,values:t.map(function(t,a){var s=r.getXKey(e),l=t[s],u=r.generateTargetX(l,e,a),c=null===t[e]||isNaN(t[e])?null:+t[e];return r.isCustomX()&&r.isCategorized()&&0===n&&l&&(0===a&&(i.axis_x_categories=[]),i.axis_x_categories.push(l)),(g(t[e])||r.data.xs[e].length<=a)&&(u=void 0),{x:u,value:c,id:o}}).filter(function(t){return m(t.x)})}}),n.forEach(function(t){var e;i.data_xSort&&(t.values=t.values.sort(function(t,e){var n=t.x||0===t.x?t.x:1/0,r=e.x||0===e.x?e.x:1/0;return n-r})),e=0,t.values.forEach(function(t){t.index=e++}),r.data.xs[t.id].sort(function(t,e){return t-e})}),r.hasNegativeValue=r.hasNegativeValueInTargets(n),r.hasPositiveValue=r.hasPositiveValueInTargets(n),i.data_type&&r.setTargetType(r.mapToIds(n).filter(function(t){return!(t in i.data_types)}),i.data_type),n.forEach(function(t){r.addCache(t.id_org,t)}),n},l.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach(function(t){var r=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,r)}),n.data.targets.forEach(function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id){e.values=t[n].values,t.splice(n,1);break}}),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},l.loadFromArgs=function(t){var e=this;t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.keys,function(n){e.load(e.convertDataToTargets(n),t)}):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},l.unload=function(t,e){var n=this;return e||(e=function(){}),t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}),t&&0!==t.length?(n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),void t.forEach(function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+h.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter(function(e){return e.id!==t})})):void e()},l.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},l.initEventRect=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.eventRects).style("fill-opacity",0)},l.redrawEventRect=function(){var t,e,n=this,r=n.config,i=n.isMultipleX(),o=n.main.select("."+h.eventRects).style("cursor",r.zoom_enabled?r.axis_rotated?"ns-resize":"ew-resize":null).classed(h.eventRectsMultiple,i).classed(h.eventRectsSingle,!i);o.selectAll("."+h.eventRect).remove(),n.eventRect=o.selectAll("."+h.eventRect),i?(t=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(t.enter()),n.updateEventRect(t)):(e=n.getMaxDataCountTarget(n.data.targets),o.datum(e?e.values:[]),n.eventRect=o.selectAll("."+h.eventRect),t=n.eventRect.data(function(t){return t}),n.generateEventRectsForSingleX(t.enter()),n.updateEventRect(t),t.exit().remove())},l.updateEventRect=function(t){var e,n,r,i,o,a,s=this,l=s.config;t=t||s.eventRect.data(function(t){return t}),s.isMultipleX()?(e=0,n=0,r=s.width,i=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(o=s.getEventRectWidth(),a=function(t){return s.x(t.x)-o/2}):(s.updateXs(),o=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index);return null===e&&null===n?l.axis_rotated?s.height:s.width:(null===e&&(e=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(e))/2))},a=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index),r=s.data.xs[t.id][t.index];return null===e&&null===n?0:(null===e&&(e=s.x.domain()[0]),(s.x(r)+s.x(e))/2)}),e=l.axis_rotated?0:a,n=l.axis_rotated?a:0,r=l.axis_rotated?s.width:o,i=l.axis_rotated?o:s.height),t.attr("class",s.classEvent.bind(s)).attr("x",e).attr("y",n).attr("width",r).attr("height",i)},l.generateEventRectsForSingleX=function(t){var e=this,n=e.d3,r=e.config;t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",r.data_selection_enabled&&r.data_selection_grouped?"pointer":null).on("mouseover",function(t){var n=t.index;e.dragging||e.flowing||e.hasArcType()||(r.point_focus_expand_enabled&&e.expandCircles(n,null,!0),e.expandBars(n,null,!0),e.main.selectAll("."+h.shape+"-"+n).each(function(t){r.data_onmouseover.call(e.api,t)}))}).on("mouseout",function(t){var n=t.index;e.config&&(e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars(),e.main.selectAll("."+h.shape+"-"+n).each(function(t){r.data_onmouseout.call(e.api,t)})))}).on("mousemove",function(t){var i,o=t.index,a=e.svg.select("."+h.eventRect+"-"+o);e.dragging||e.flowing||e.hasArcType()||(e.isStepType(t)&&"step-after"===e.config.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,o))&&(o-=1),i=e.filterTargetsToShow(e.data.targets).map(function(t){return e.addName(e.getValueOnIndex(t.values,o))}),r.tooltip_grouped&&(e.showTooltip(i,this),e.showXGridFocus(i)),(!r.tooltip_grouped||r.data_selection_enabled&&!r.data_selection_grouped)&&e.main.selectAll("."+h.shape+"-"+o).each(function(){n.select(this).classed(h.EXPANDED,!0),r.data_selection_enabled&&a.style("cursor",r.data_selection_grouped?"pointer":null),r.tooltip_grouped||(e.hideXGridFocus(),e.hideTooltip(),r.data_selection_grouped||(e.unexpandCircles(o),e.unexpandBars(o)))}).filter(function(t){return e.isWithinShape(this,t)}).each(function(t){r.data_selection_enabled&&(r.data_selection_grouped||r.data_selection_isselectable(t))&&a.style("cursor","pointer"),r.tooltip_grouped||(e.showTooltip([t],this),e.showXGridFocus([t]),r.point_focus_expand_enabled&&e.expandCircles(o,t.id,!0),e.expandBars(o,t.id,!0))}))}).on("click",function(t){var i=t.index;if(!e.hasArcType()&&e.toggleShape){if(e.cancelClick)return void(e.cancelClick=!1);e.isStepType(t)&&"step-after"===r.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,i))&&(i-=1),e.main.selectAll("."+h.shape+"-"+i).each(function(t){(r.data_selection_grouped||e.isWithinShape(this,t))&&(e.toggleShape(this,t,i),e.config.data_onclick.call(e.api,t,this))})}}).call(r.data_selection_draggable&&e.drag?n.behavior.drag().origin(Object).on("drag",function(){e.drag(n.mouse(this))}).on("dragstart",function(){e.dragstart(n.mouse(this))}).on("dragend",function(){e.dragend()}):function(){})},l.generateEventRectsForMultipleXs=function(t){function e(){n.svg.select("."+h.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var n=this,r=n.d3,i=n.config;t.append("rect").attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).attr("class",h.eventRect).on("mouseout",function(){n.config&&(n.hasArcType()||e())}).on("mousemove",function(){var t,o,a,s,l=n.filterTargetsToShow(n.data.targets);if(!n.dragging&&!n.hasArcType(l)){if(t=r.mouse(this),o=n.findClosestFromTargets(l,t),!n.mouseover||o&&o.id===n.mouseover.id||(i.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),!o)return void e();a=n.isScatterType(o)||!i.tooltip_grouped?[o]:n.filterByX(l,o.x),s=a.map(function(t){return n.addName(t)}),n.showTooltip(s,this),i.point_focus_expand_enabled&&n.expandCircles(o.index,o.id,!0),n.expandBars(o.index,o.id,!0),n.showXGridFocus(s),(n.isBarType(o.id)||n.dist(o,t)<i.point_sensitivity)&&(n.svg.select("."+h.eventRect).style("cursor","pointer"),n.mouseover||(i.data_onmouseover.call(n.api,o),n.mouseover=o))}}).on("click",function(){var t,e,o=n.filterTargetsToShow(n.data.targets);n.hasArcType(o)||(t=r.mouse(this),e=n.findClosestFromTargets(o,t),e&&(n.isBarType(e.id)||n.dist(e,t)<i.point_sensitivity)&&n.main.selectAll("."+h.shapes+n.getTargetSelectorSuffix(e.id)).selectAll("."+h.shape+"-"+e.index).each(function(){(i.data_selection_grouped||n.isWithinShape(this,e))&&(n.toggleShape(this,e,e.index),n.config.data_onclick.call(n.api,e,this))}))}).call(i.data_selection_draggable&&n.drag?r.behavior.drag().origin(Object).on("drag",function(){n.drag(r.mouse(this))}).on("dragstart",function(){n.dragstart(r.mouse(this))}).on("dragend",function(){n.dragend()}):function(){})},l.dispatchEvent=function(e,n,r){var i=this,o="."+h.eventRect+(i.isMultipleX()?"":"-"+n),a=i.main.select(o).node(),s=a.getBoundingClientRect(),l=s.left+(r?r[0]:0),u=s.top+(r?r[1]:0),c=document.createEvent("MouseEvents");c.initMouseEvent(e,!0,!0,t,0,l,u,l,u,!1,!1,!1,!1,0,null),a.dispatchEvent(c)},l.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},l.getCurrentHeight=function(){var t=this,e=t.config,n=e.size_height?e.size_height:t.getParentHeight();return n>0?n:320/(t.hasType("gauge")?2:1)},l.getCurrentPaddingTop=function(){var t=this,e=t.config,n=d(e.padding_top)?e.padding_top:0;return t.title&&t.title.node()&&(n+=t.getTitlePadding()),n},l.getCurrentPaddingBottom=function(){var t=this.config;return d(t.padding_bottom)?t.padding_bottom:0},l.getCurrentPaddingLeft=function(t){var e=this,n=e.config;return d(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(v(e.getAxisWidthByAxisId("x",t)),40):1:!n.axis_y_show||n.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:v(e.getAxisWidthByAxisId("y",t))},l.getCurrentPaddingRight=function(){var t=this,e=t.config,n=10,r=t.isLegendRight?t.getLegendWidth()+20:0;return d(e.padding_right)?e.padding_right+1:e.axis_rotated?n+r:!e.axis_y2_show||e.axis_y2_inner?2+r+(t.axis.getY2AxisLabelPosition().isOuter?20:0):v(t.getAxisWidthByAxisId("y2"))+r},l.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(r){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},l.getParentWidth=function(){return this.getParentRectValue("width")},l.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},l.getSvgLeft=function(t){var e=this,n=e.config,r=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,i=n.axis_rotated?h.axisX:h.axisY,o=e.main.select("."+i).node(),a=o&&r?o.getBoundingClientRect():{right:0},s=e.selectChart.node().getBoundingClientRect(),l=e.hasArcType(),u=a.right-s.left-(l?0:e.getCurrentPaddingLeft(t));return u>0?u:0},l.getAxisWidthByAxisId=function(t,e){var n=this,r=n.axis.getLabelPositionById(t);return n.axis.getMaxTickWidth(t,e)+(r.isInner?20:40)},l.getHorizontalAxisHeight=function(t){var e=this,n=e.config,r=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(r=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),r+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},l.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},l.getShapeIndices=function(t){var e,n,r=this,i=r.config,o={},a=0;return r.filterTargetsToShow(r.data.targets.filter(t,r)).forEach(function(t){for(e=0;e<i.data_groups.length;e++)if(!(i.data_groups[e].indexOf(t.id)<0))for(n=0;n<i.data_groups[e].length;n++)if(i.data_groups[e][n]in o){o[t.id]=o[i.data_groups[e][n]];break}g(o[t.id])&&(o[t.id]=a++)}),o.__max__=a-1,o},l.getShapeX=function(t,e,n,r){var i=this,o=r?i.subX:i.x;return function(r){var i=r.id in n?n[r.id]:0;return r.x||0===r.x?o(r.x)-t*(e/2-i):0}},l.getShapeY=function(t){var e=this;return function(n){var r=t?e.getSubYScale(n.id):e.getYScale(n.id);return r(n.value)}},l.getShapeOffset=function(t,e,n){var r=this,i=r.orderTargets(r.filterTargetsToShow(r.data.targets.filter(t,r))),o=i.map(function(t){return t.id});return function(t,a){var s=n?r.getSubYScale(t.id):r.getYScale(t.id),l=s(0),u=l;return i.forEach(function(n){var i=r.isStepType(t)?r.convertValuesToStep(n.values):n.values;n.id!==t.id&&e[n.id]===e[t.id]&&o.indexOf(n.id)<o.indexOf(t.id)&&(("undefined"==typeof i[a]||+i[a].x!==+t.x)&&(a=-1,i.forEach(function(e,n){e.x===t.x&&(a=n)})),a in i&&i[a].value*t.value>=0&&(u+=s(i[a].value)-l))}),u}},l.isWithinShape=function(t,e){var n,r=this,i=r.d3.select(t);return r.isTargetToShow(e.id)?"circle"===t.nodeName?n=r.isStepType(e)?r.isWithinStep(t,r.getYScale(e.id)(e.value)):r.isWithinCircle(t,1.5*r.pointSelectR(e)):"path"===t.nodeName&&(n=i.classed(h.bar)?r.isWithinBar(t):!0):n=!1,n},l.getInterpolate=function(t){var e=this,n=e.isInterpolationType(e.config.spline_interpolation_type)?e.config.spline_interpolation_type:"cardinal";return e.isSplineType(t)?n:e.isStepType(t)?e.config.line_step_type:"linear"},l.initLine=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.chartLines)},l.updateTargetsForLine=function(t){var e,n,r=this,i=r.config,o=r.classChartLine.bind(r),a=r.classLines.bind(r),s=r.classAreas.bind(r),l=r.classCircles.bind(r),u=r.classFocus.bind(r);e=r.main.select("."+h.chartLines).selectAll("."+h.chartLine).data(t).attr("class",function(t){return o(t)+u(t)}),n=e.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",a),n.append("g").attr("class",s),n.append("g").attr("class",function(t){return r.generateClass(h.selectedCircles,t.id)}),n.append("g").attr("class",l).style("cursor",function(t){return i.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(t){r.main.selectAll("."+h.selectedCircles+r.getTargetSelectorSuffix(t.id)).selectAll("."+h.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},l.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+h.lines).selectAll("."+h.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},l.redrawLine=function(t,e){return[(e?this.mainLine.transition():this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},l.generateDrawLine=function(t,e){var n=this,r=n.config,i=n.d3.svg.line(),o=n.generateGetLinePoints(t,e),a=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},l=function(t,e){return r.data_groups.length>0?o(t,e)[0][1]:a.call(n,t.id)(t.value)};return i=r.axis_rotated?i.x(l).y(s):i.x(s).y(l),r.line_connectNull||(i=i.defined(function(t){return null!=t.value})),function(t){var o,s=r.line_connectNull?n.filterRemoveNull(t.values):t.values,l=e?n.x:n.subX,u=a.call(n,t.id),c=0,h=0;return n.isLineType(t)?r.data_regions[t.id]?o=n.lineWithRegions(s,l,u,r.data_regions[t.id]):(n.isStepType(t)&&(s=n.convertValuesToStep(s)),o=i.interpolate(n.getInterpolate(t))(s)):(s[0]&&(c=l(s[0].x),h=u(s[0].value)),o=r.axis_rotated?"M "+h+" "+c:"M "+c+" "+h),o?o:"M 0 0"}},l.generateGetLinePoints=function(t,e){var n=this,r=n.config,i=t.__max__+1,o=n.getShapeX(0,i,t,!!e),a=n.getShapeY(!!e),s=n.getShapeOffset(n.isLineType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var i=l.call(n,t.id)(0),u=s(t,e)||i,c=o(t),h=a(t);return r.axis_rotated&&(0<t.value&&i>h||t.value<0&&h>i)&&(h=i),[[c,h-(i-u)],[c,h-(i-u)],[c,h-(i-u)],[c,h-(i-u)]]}},l.lineWithRegions=function(t,e,n,r){function i(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}function o(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}var a,s,l,u,c,h,d,f,p,v,y,w,b=this,x=b.config,C=-1,_="M",E=b.isCategorized()?.5:0,T=[];if(m(r))for(a=0;a<r.length;a++)T[a]={},T[a].start=g(r[a].start)?t[0].x:b.isTimeSeries()?b.parseDate(r[a].start):r[a].start,T[a].end=g(r[a].end)?t[t.length-1].x:b.isTimeSeries()?b.parseDate(r[a].end):r[a].end;for(y=x.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},w=x.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},l=b.isTimeSeries()?function(t,r,i,a){var s,l=t.x.getTime(),u=r.x-t.x,h=new Date(l+u*i),d=new Date(l+u*(i+a));return s=x.axis_rotated?[[n(c(i)),e(h)],[n(c(i+a)),e(d)]]:[[e(h),n(c(i))],[e(d),n(c(i+a))]],o(s)}:function(t,r,i,a){var s;return s=x.axis_rotated?[[n(c(i),!0),e(u(i))],[n(c(i+a),!0),e(u(i+a))]]:[[e(u(i),!0),n(c(i))],[e(u(i+a),!0),n(c(i+a))]],o(s)},a=0;a<t.length;a++){if(g(T)||!i(t[a].x,T))_+=" "+y(t[a])+" "+w(t[a]);else for(u=b.getScale(t[a-1].x+E,t[a].x+E,b.isTimeSeries()),c=b.getScale(t[a-1].value,t[a].value),h=e(t[a].x)-e(t[a-1].x),d=n(t[a].value)-n(t[a-1].value),f=Math.sqrt(Math.pow(h,2)+Math.pow(d,2)),p=2/f,v=2*p,s=p;1>=s;s+=v)_+=l(t[a-1],t[a],s,p);C=t[a].x}return _},l.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+h.areas).selectAll("."+h.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},l.redrawArea=function(t,e){return[(e?this.mainArea.transition():this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},l.generateDrawArea=function(t,e){var n=this,r=n.config,i=n.d3.svg.area(),o=n.generateGetAreaPoints(t,e),a=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},l=function(t,e){return r.data_groups.length>0?o(t,e)[0][1]:a.call(n,t.id)(n.getAreaBaseValue(t.id))},u=function(t,e){return r.data_groups.length>0?o(t,e)[1][1]:a.call(n,t.id)(t.value)};return i=r.axis_rotated?i.x0(l).x1(u).y(s):i.x(s).y0(l).y1(u),r.line_connectNull||(i=i.defined(function(t){return null!==t.value})),function(t){var e,o=r.line_connectNull?n.filterRemoveNull(t.values):t.values,a=0,s=0;return n.isAreaType(t)?(n.isStepType(t)&&(o=n.convertValuesToStep(o)),e=i.interpolate(n.getInterpolate(t))(o)):(o[0]&&(a=n.x(o[0].x),s=n.getYScale(t.id)(o[0].value)),e=r.axis_rotated?"M "+s+" "+a:"M "+a+" "+s),e?e:"M 0 0"}},l.getAreaBaseValue=function(){return 0},l.generateGetAreaPoints=function(t,e){var n=this,r=n.config,i=t.__max__+1,o=n.getShapeX(0,i,t,!!e),a=n.getShapeY(!!e),s=n.getShapeOffset(n.isAreaType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var i=l.call(n,t.id)(0),u=s(t,e)||i,c=o(t),h=a(t);return r.axis_rotated&&(0<t.value&&i>h||t.value<0&&h>i)&&(h=i),[[c,u],[c,h-(i-u)],[c,h-(i-u)],[c,u]]}},l.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+h.circles).selectAll("."+h.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},l.redrawCircle=function(t,e,n){var r=this.main.selectAll("."+h.selectedCircle);return[(n?this.mainCircle.transition():this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?r.transition():r).attr("cx",t).attr("cy",e)]},l.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},l.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,n){return e(t,n)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},l.getCircles=function(t,e){var n=this;return(e?n.main.selectAll("."+h.circles+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+h.circle+(d(t)?"-"+t:""))},l.expandCircles=function(t,e,n){var r=this,i=r.pointExpandedR.bind(r);n&&r.unexpandCircles(),r.getCircles(t,e).classed(h.EXPANDED,!0).attr("r",i)},l.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(h.EXPANDED)}).classed(h.EXPANDED,!1).attr("r",n)},l.pointR=function(t){var e=this,n=e.config;return e.isStepType(t)?0:f(n.point_r)?n.point_r(t):n.point_r},l.pointExpandedR=function(t){var e=this,n=e.config;return n.point_focus_expand_enabled?n.point_focus_expand_r?n.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},l.pointSelectR=function(t){var e=this,n=e.config;return n.point_select_r?n.point_select_r:4*e.pointR(t)},l.isWithinCircle=function(t,e){var n=this.d3,r=n.mouse(t),i=n.select(t),o=+i.attr("cx"),a=+i.attr("cy");return Math.sqrt(Math.pow(o-r[0],2)+Math.pow(a-r[1],2))<e},l.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},l.initBar=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.chartBars)},l.updateTargetsForBar=function(t){var e,n,r=this,i=r.config,o=r.classChartBar.bind(r),a=r.classBars.bind(r),s=r.classFocus.bind(r);e=r.main.select("."+h.chartBars).selectAll("."+h.chartBar).data(t).attr("class",function(t){return o(t)+s(t)}),n=e.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",a).style("cursor",function(t){return i.data_selection_isselectable(t)?"pointer":null})},l.updateBar=function(t){var e=this,n=e.barData.bind(e),r=e.classBar.bind(e),i=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+h.bars).selectAll("."+h.bar).data(n),e.mainBar.enter().append("path").attr("class",r).style("stroke",o).style("fill",o),e.mainBar.style("opacity",i),e.mainBar.exit().transition().duration(t).style("opacity",0).remove()},l.redrawBar=function(t,e){return[(e?this.mainBar.transition():this.mainBar).attr("d",t).style("fill",this.color).style("opacity",1)]},l.getBarW=function(t,e){var n=this,r=n.config,i="number"==typeof r.bar_width?r.bar_width:e?t.tickInterval()*r.bar_width_ratio/e:0;return r.bar_width_max&&i>r.bar_width_max?r.bar_width_max:i},l.getBars=function(t,e){var n=this;return(e?n.main.selectAll("."+h.bars+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+h.bar+(d(t)?"-"+t:""))},l.expandBars=function(t,e,n){var r=this;n&&r.unexpandBars(),r.getBars(t,e).classed(h.EXPANDED,!0)},l.unexpandBars=function(t){var e=this;e.getBars(t).classed(h.EXPANDED,!1)},l.generateDrawBar=function(t,e){var n=this,r=n.config,i=n.generateGetBarPoints(t,e);return function(t,e){var n=i(t,e),o=r.axis_rotated?1:0,a=r.axis_rotated?0:1,s="M "+n[0][o]+","+n[0][a]+" L"+n[1][o]+","+n[1][a]+" L"+n[2][o]+","+n[2][a]+" L"+n[3][o]+","+n[3][a]+" z";return s}},l.generateGetBarPoints=function(t,e){var n=this,r=e?n.subXAxis:n.xAxis,i=t.__max__+1,o=n.getBarW(r,i),a=n.getShapeX(o,i,t,!!e),s=n.getShapeY(!!e),l=n.getShapeOffset(n.isBarType,t,!!e),u=e?n.getSubYScale:n.getYScale;return function(t,e){var r=u.call(n,t.id)(0),i=l(t,e)||r,c=a(t),h=s(t);return n.config.axis_rotated&&(0<t.value&&r>h||t.value<0&&h>r)&&(h=r),[[c,i],[c,h-(r-i)],[c+o,h-(r-i)],[c+o,i]]}},l.isWithinBar=function(t){var e=this.d3.mouse(t),n=t.getBoundingClientRect(),r=t.pathSegList.getItem(0),i=t.pathSegList.getItem(1),o=Math.min(r.x,i.x),a=Math.min(r.y,i.y),s=n.width,l=n.height,u=2,c=o-u,h=o+s+u,d=a+l+u,f=a-u;return c<e[0]&&e[0]<h&&f<e[1]&&e[1]<d},l.initText=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.chartTexts),t.mainText=t.d3.selectAll([])},l.updateTargetsForText=function(t){var e,n,r=this,i=r.classChartText.bind(r),o=r.classTexts.bind(r),a=r.classFocus.bind(r);e=r.main.select("."+h.chartTexts).selectAll("."+h.chartText).data(t).attr("class",function(t){return i(t)+a(t)}),n=e.enter().append("g").attr("class",i).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o)},l.updateText=function(t){var e=this,n=e.config,r=e.barOrLineData.bind(e),i=e.classText.bind(e);e.mainText=e.main.selectAll("."+h.texts).selectAll("."+h.text).data(r),e.mainText.enter().append("text").attr("class",i).attr("text-anchor",function(t){return n.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return e.color(t)}).style("fill-opacity",0),e.mainText.text(function(t,n,r){return e.dataLabelFormat(t.id)(t.value,t.id,n,r)}),e.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},l.redrawText=function(t,e,n,r){return[(r?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},l.getTextRect=function(t,e,n){var r,i=this.d3.select("body").append("div").classed("c3",!0),o=i.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a=this.d3.select(n).style("font");return o.selectAll(".dummy").data([t]).enter().append("text").classed(e?e:"",!0).style("font",a).text(t).each(function(){r=this.getBoundingClientRect()}),i.remove(),r},l.generateXYForText=function(t,e,n,r){var i=this,o=i.generateGetAreaPoints(t,!1),a=i.generateGetBarPoints(e,!1),s=i.generateGetLinePoints(n,!1),l=r?i.getXForText:i.getYForText;return function(t,e){var n=i.isAreaType(t)?o:i.isBarType(t)?a:s;return l.call(i,n(t,e),t,this)}},l.getXForText=function(t,e,n){var r,i,o=this,a=n.getBoundingClientRect();return o.config.axis_rotated?(i=o.isBarType(e)?4:6,r=t[2][1]+i*(e.value<0?-1:1)):r=o.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(r>o.width?r=o.width-a.width:0>r&&(r=4)),r},l.getYForText=function(t,e,n){var r,i=this,o=n.getBoundingClientRect();return i.config.axis_rotated?r=(t[0][0]+t[2][0]+.6*o.height)/2:(r=t[2][1],e.value<0||0===e.value&&!i.hasPositiveValue?(r+=o.height,i.isBarType(e)&&i.isSafari()?r-=3:!i.isBarType(e)&&i.isChrome()&&(r+=3)):r+=i.isBarType(e)?-3:-6),null!==e.value||i.config.axis_rotated||(r<o.height?r=o.height:r>this.height&&(r=this.height-4)),r},l.setTargetType=function(t,e){var n=this,r=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===r.data_types[t],r.data_types[t]=e}),t||(r.data_type=e)},l.hasType=function(t,e){var n=this,r=n.config.data_types,i=!1;return e=e||n.data.targets,e&&e.length?e.forEach(function(e){var n=r[e.id];(n&&n.indexOf(t)>=0||!n&&"line"===t)&&(i=!0)}):Object.keys(r).length?Object.keys(r).forEach(function(e){r[e]===t&&(i=!0)}):i=n.config.data_type===t,i},l.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},l.isLineType=function(t){var e=this.config,n=p(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},l.isStepType=function(t){var e=p(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},l.isSplineType=function(t){var e=p(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},l.isAreaType=function(t){var e=p(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},l.isBarType=function(t){var e=p(t)?t:t.id;return"bar"===this.config.data_types[e]},l.isScatterType=function(t){var e=p(t)?t:t.id;return"scatter"===this.config.data_types[e]},l.isPieType=function(t){var e=p(t)?t:t.id;return"pie"===this.config.data_types[e]},l.isGaugeType=function(t){var e=p(t)?t:t.id;return"gauge"===this.config.data_types[e]},l.isDonutType=function(t){var e=p(t)?t:t.id;return"donut"===this.config.data_types[e]},
l.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},l.lineData=function(t){return this.isLineType(t)?[t]:[]},l.arcData=function(t){return this.isArcType(t.data)?[t]:[]},l.barData=function(t){return this.isBarType(t)?t.values:[]},l.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},l.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},l.isInterpolationType=function(t){return["linear","linear-closed","basis","basis-open","basis-closed","bundle","cardinal","cardinal-open","cardinal-closed","monotone"].indexOf(t)>=0},l.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",h.grid),e.grid_x_show&&t.grid.append("g").attr("class",h.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",h.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",h.xgridFocus).append("line").attr("class",h.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},l.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",h.grid+" "+h.gridLines),t.gridLines.append("g").attr("class",h.xgridLines),t.gridLines.append("g").attr("class",h.ygridLines),t.xgridLines=e.selectAll([])},l.updateXGrid=function(t){var e=this,n=e.config,r=e.d3,i=e.generateGridData(n.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgrid=e.main.select("."+h.xgrids).selectAll("."+h.xgrid).data(i),e.xgrid.enter().append("line").attr("class",h.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},l.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+h.ygrids).selectAll("."+h.ygrid).data(n),t.ygrid.enter().append("line").attr("class",h.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},l.gridTextAnchor=function(t){return t.position?t.position:"end"},l.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},l.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},l.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},l.updateGrid=function(t){var e,n,r,i=this,o=i.main,a=i.config;i.grid.style("visibility",i.hasArcType()?"hidden":"visible"),o.select("line."+h.xgridFocus).style("visibility","hidden"),a.grid_x_show&&i.updateXGrid(),i.xgridLines=o.select("."+h.xgridLines).selectAll("."+h.xgridLine).data(a.grid_x_lines),e=i.xgridLines.enter().append("g").attr("class",function(t){return h.xgridLine+(t["class"]?" "+t["class"]:"")}),e.append("line").style("opacity",0),e.append("text").attr("text-anchor",i.gridTextAnchor).attr("transform",a.axis_rotated?"":"rotate(-90)").attr("dx",i.gridTextDx).attr("dy",-5).style("opacity",0),i.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),a.grid_y_show&&i.updateYGrid(),i.ygridLines=o.select("."+h.ygridLines).selectAll("."+h.ygridLine).data(a.grid_y_lines),n=i.ygridLines.enter().append("g").attr("class",function(t){return h.ygridLine+(t["class"]?" "+t["class"]:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor",i.gridTextAnchor).attr("transform",a.axis_rotated?"rotate(-90)":"").attr("dx",i.gridTextDx).attr("dy",-5).style("opacity",0),r=i.yv.bind(i),i.ygridLines.select("line").transition().duration(t).attr("x1",a.axis_rotated?r:0).attr("x2",a.axis_rotated?r:i.width).attr("y1",a.axis_rotated?0:r).attr("y2",a.axis_rotated?i.height:r).style("opacity",1),i.ygridLines.select("text").transition().duration(t).attr("x",a.axis_rotated?i.xGridTextX.bind(i):i.yGridTextX.bind(i)).attr("y",r).text(function(t){return t.text}).style("opacity",1),i.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},l.redrawGrid=function(t){var e=this,n=e.config,r=e.xv.bind(e),i=e.xgridLines.select("line"),o=e.xgridLines.select("text");return[(t?i.transition():i).attr("x1",n.axis_rotated?0:r).attr("x2",n.axis_rotated?e.width:r).attr("y1",n.axis_rotated?r:0).attr("y2",n.axis_rotated?r:e.height).style("opacity",1),(t?o.transition():o).attr("x",n.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",r).text(function(t){return t.text}).style("opacity",1)]},l.showXGridFocus=function(t){var e=this,n=e.config,r=t.filter(function(t){return t&&d(t.value)}),i=e.main.selectAll("line."+h.xgridFocus),o=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(i.style("visibility","visible").data([r[0]]).attr(n.axis_rotated?"y1":"x1",o).attr(n.axis_rotated?"y2":"x2",o),e.smoothLines(i,"grid")))},l.hideXGridFocus=function(){this.main.select("line."+h.xgridFocus).style("visibility","hidden")},l.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+h.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},l.generateGridData=function(t,e){var n,r,i,o,a=this,s=[],l=a.main.select("."+h.axisX).selectAll(".tick").size();if("year"===t)for(n=a.getXDomain(),r=n[0].getFullYear(),i=n[1].getFullYear(),o=r;i>=o;o++)s.push(new Date(o+"-01-01 00:00:00"));else s=e.ticks(10),s.length>l&&(s=s.filter(function(t){return(""+t).indexOf(".")<0}));return s},l.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e["class"]===t["class"])&&(n=!0)}),n}:function(){return!0}},l.removeGridLines=function(t,e){var n=this,r=n.config,i=n.getGridFilterToRemove(t),o=function(t){return!i(t)},a=e?h.xgridLines:h.ygridLines,s=e?h.xgridLine:h.ygridLine;n.main.select("."+a).selectAll("."+s).filter(i).transition().duration(r.transition_duration).style("opacity",0).remove(),e?r.grid_x_lines=r.grid_x_lines.filter(o):r.grid_y_lines=r.grid_y_lines.filter(o)},l.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",h.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&p(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!==0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},l.getTooltipContent=function(t,e,n,r){var i,o,a,s,l,u,c=this,h=c.config,d=h.tooltip_format_title||e,f=h.tooltip_format_name||function(t){return t},p=h.tooltip_format_value||n,g=c.isOrderAsc();if(0===h.data_groups.length)t.sort(function(t,e){return g?t.value-e.value:e.value-t.value});else{var m=c.orderTargets(c.data.targets).map(function(t){return t.id});t.sort(function(t,e){return t.value>0&&e.value>0?g?m.indexOf(t.id)-m.indexOf(e.id):m.indexOf(e.id)-m.indexOf(t.id):g?t.value-e.value:e.value-t.value})}for(o=0;o<t.length;o++)if(t[o]&&(t[o].value||0===t[o].value)&&(i||(a=d?d(t[o].x):t[o].x,i="<table class='"+c.CLASS.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),s=p(t[o].value,t[o].ratio,t[o].id,t[o].index),void 0!==s)){if(null===t[o].name)continue;l=f(t[o].name,t[o].ratio,t[o].id,t[o].index),u=c.levelColor?c.levelColor(t[o].value):r(t[o].id),i+="<tr class='"+c.CLASS.tooltipName+"-"+c.getTargetSelectorSuffix(t[o].id)+"'>",i+="<td class='name'><span style='background-color:"+u+"'></span>"+l+"</td>",i+="<td class='value'>"+s+"</td>",i+="</tr>"}return i+"</table>"},l.tooltipPosition=function(t,e,n,r){var i,o,a,s,l,u=this,c=u.config,h=u.d3,d=u.hasArcType(),f=h.mouse(r);return d?(o=(u.width-(u.isLegendRight?u.getLegendWidth():0))/2+f[0],s=u.height/2+f[1]+20):(i=u.getSvgLeft(!0),c.axis_rotated?(o=i+f[0]+100,a=o+e,l=u.currentWidth-u.getCurrentPaddingRight(),s=u.x(t[0].x)+20):(o=i+u.getCurrentPaddingLeft(!0)+u.x(t[0].x)+20,a=o+e,l=i+u.currentWidth-u.getCurrentPaddingRight(),s=f[1]+15),a>l&&(o-=a-l+20),s+n>u.currentHeight&&(s-=n+30)),0>s&&(s=0),{top:s,left:o}},l.showTooltip=function(t,e){var n,r,i,o=this,a=o.config,s=o.hasArcType(),u=t.filter(function(t){return t&&d(t.value)}),c=a.tooltip_position||l.tooltipPosition;0!==u.length&&a.tooltip_show&&(o.tooltip.html(a.tooltip_contents.call(o,t,o.axis.getXAxisTickFormat(),o.getYFormat(s),o.color)).style("display","block"),n=o.tooltip.property("offsetWidth"),r=o.tooltip.property("offsetHeight"),i=c.call(this,u,n,r,e),o.tooltip.style("top",i.top+"px").style("left",i.left+"px"))},l.hideTooltip=function(){this.tooltip.style("display","none")},l.initLegend=function(){var t=this;return t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),t.config.legend_show?void t.updateLegendWithDefaults():(t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets)))},l.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},l.updateSizeForLegend=function(t,e){var n=this,r=n.config,i={top:n.isLegendTop?n.getCurrentPaddingTop()+r.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-r.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+r.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-r.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?i.top:n.currentHeight-t,right:0/0,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?i.left:0}},l.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},l.updateLegendStep=function(t){this.legendStep=t},l.updateLegendItemWidth=function(t){this.legendItemWidth=t},l.updateLegendItemHeight=function(t){this.legendItemHeight=t},l.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},l.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},l.opacityForLegend=function(t){return t.classed(h.legendItemHidden)?null:1},l.opacityForUnfocusedLegend=function(t){return t.classed(h.legendItemHidden)?null:.3},l.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+h.legendItem).filter(function(e){return t.indexOf(e)>=0}).classed(h.legendItemFocused,e).transition().duration(100).style("opacity",function(){var t=e?n.opacityForLegend:n.opacityForUnfocusedLegend;return t.call(n,n.d3.select(this))})},l.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+h.legendItem).classed(h.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},l.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},l.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&b(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},l.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},l.updateLegend=function(t,e,n){function r(t,e){return E.legendItemTextBox[e]||(E.legendItemTextBox[e]=E.getTextRect(t.textContent,h.legendItem,t)),E.legendItemTextBox[e]}function i(e,n,i){function o(t,e){e||(a=(p-D-f)/2,A>a&&(a=(p-f)/2,D=0,I++)),N[t]=I,L[I]=E.isLegendInset?10:a,O[t]=D,D+=f}var a,s,l=0===i,u=i===t.length-1,c=r(e,n),h=c.width+R+(!u||E.isLegendRight||E.isLegendInset?S:0)+T.legend_padding,d=c.height+k,f=E.isLegendRight||E.isLegendInset?d:h,p=E.isLegendRight||E.isLegendInset?E.getLegendHeight():E.getLegendWidth();return l&&(D=0,I=0,$=0,M=0),T.legend_show&&!E.isLegendToShow(n)?void(P[n]=H[n]=N[n]=O[n]=0):(P[n]=h,H[n]=d,(!$||h>=$)&&($=h),(!M||d>=M)&&(M=d),s=E.isLegendRight||E.isLegendInset?M:$,void(T.legend_equally?(Object.keys(P).forEach(function(t){P[t]=$}),Object.keys(H).forEach(function(t){H[t]=M}),a=(p-s*t.length)/2,A>a?(D=0,I=0,t.forEach(function(t){o(t)})):o(n,!0)):o(n)))}var o,a,s,l,u,c,d,f,p,g,v,y,w,b,x,_,E=this,T=E.config,k=4,S=10,$=0,M=0,A=10,R=T.legend_item_tile_width+5,D=0,O={},P={},H={},L=[0],N={},I=0;t=t.filter(function(t){return!m(T.data_names[t])||null!==T.data_names[t]}),e=e||{},v=C(e,"withTransition",!0),y=C(e,"withTransitionForTransform",!0),E.isLegendInset&&(I=T.legend_inset_step?T.legend_inset_step:t.length,E.updateLegendStep(I)),E.isLegendRight?(o=function(t){return $*N[t]},l=function(t){return L[N[t]]+O[t]}):E.isLegendInset?(o=function(t){return $*N[t]+10},l=function(t){return L[N[t]]+O[t]}):(o=function(t){return L[N[t]]+O[t]},l=function(t){return M*N[t]}),a=function(t,e){return o(t,e)+4+T.legend_item_tile_width},u=function(t,e){return l(t,e)+9},s=function(t,e){return o(t,e)},c=function(t,e){return l(t,e)-5},d=function(t,e){return o(t,e)-2},f=function(t,e){return o(t,e)-2+T.legend_item_tile_width},p=function(t,e){return l(t,e)+4},g=E.legend.selectAll("."+h.legendItem).data(t).enter().append("g").attr("class",function(t){return E.generateClass(h.legendItem,t)}).style("visibility",function(t){return E.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){T.legend_item_onclick?T.legend_item_onclick.call(E,t):E.d3.event.altKey?(E.api.hide(),E.api.show(t)):(E.api.toggle(t),E.isTargetToShow(t)?E.api.focus(t):E.api.revert())}).on("mouseover",function(t){T.legend_item_onmouseover?T.legend_item_onmouseover.call(E,t):(E.d3.select(this).classed(h.legendItemFocused,!0),!E.transiting&&E.isTargetToShow(t)&&E.api.focus(t))}).on("mouseout",function(t){T.legend_item_onmouseout?T.legend_item_onmouseout.call(E,t):(E.d3.select(this).classed(h.legendItemFocused,!1),E.api.revert())}),g.append("text").text(function(t){return m(T.data_names[t])?T.data_names[t]:t}).each(function(t,e){i(this,t,e)}).style("pointer-events","none").attr("x",E.isLegendRight||E.isLegendInset?a:-200).attr("y",E.isLegendRight||E.isLegendInset?-200:u),g.append("rect").attr("class",h.legendItemEvent).style("fill-opacity",0).attr("x",E.isLegendRight||E.isLegendInset?s:-200).attr("y",E.isLegendRight||E.isLegendInset?-200:c),g.append("line").attr("class",h.legendItemTile).style("stroke",E.color).style("pointer-events","none").attr("x1",E.isLegendRight||E.isLegendInset?d:-200).attr("y1",E.isLegendRight||E.isLegendInset?-200:p).attr("x2",E.isLegendRight||E.isLegendInset?f:-200).attr("y2",E.isLegendRight||E.isLegendInset?-200:p).attr("stroke-width",T.legend_item_tile_height),_=E.legend.select("."+h.legendBackground+" rect"),E.isLegendInset&&$>0&&0===_.size()&&(_=E.legend.insert("g","."+h.legendItem).attr("class",h.legendBackground).append("rect")),w=E.legend.selectAll("text").data(t).text(function(t){return m(T.data_names[t])?T.data_names[t]:t}).each(function(t,e){i(this,t,e)}),(v?w.transition():w).attr("x",a).attr("y",u),b=E.legend.selectAll("rect."+h.legendItemEvent).data(t),(v?b.transition():b).attr("width",function(t){return P[t]}).attr("height",function(t){return H[t]}).attr("x",s).attr("y",c),x=E.legend.selectAll("line."+h.legendItemTile).data(t),(v?x.transition():x).style("stroke",E.color).attr("x1",d).attr("y1",p).attr("x2",f).attr("y2",p),_&&(v?_.transition():_).attr("height",E.getLegendHeight()-12).attr("width",$*(I+1)+10),E.legend.selectAll("."+h.legendItem).classed(h.legendItemHidden,function(t){return!E.isTargetToShow(t)}),E.updateLegendItemWidth($),E.updateLegendItemHeight(M),E.updateLegendStep(I),E.updateSizes(),E.updateScales(),E.updateSvgSize(),E.transformAll(y,n),E.legendHasRendered=!0},l.initTitle=function(){var t=this;t.title=t.svg.append("text").attr("class",t.CLASS.title),t.titleText=t.title.append("tspan").text(t.config.title_text).attr("class",t.CLASS.titleText),t.config.title_author&&(t.titleAuthor=t.title.append("tspan").text(t.config.title_author).attr("class",t.CLASS.titleAuthor).attr("dx",t.config.title_spacing)),t.config.title_source&&(t.titleSource=t.title.append("tspan").text(t.config.title_source).attr("class",t.CLASS.titleSource).attr("dx",t.config.title_spacing))},l.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},l.xForTitle=function(){var t,e=this,n=e.config,r=n.title_position||"left";return t=r.indexOf("right")>=0?e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width-n.title_padding.right:r.indexOf("center")>=0?(e.currentWidth-e.getTextRect(e.title.node().textContent,e.CLASS.title,e.title.node()).width)/2:n.title_padding.left},l.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},l.getTitlePadding=function(){var t=this;return t.yForTitle()+t.config.title_padding.bottom},n(e,o),o.prototype.init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",h.axis+" "+h.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",h.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",h.axis+" "+h.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",h.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",h.axis+" "+h.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",h.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},o.prototype.getXAxis=function(t,e,n,r,i,o,s){var l=this.owner,u=l.config,c={isCategory:l.isCategorized(),withOuterTick:i,tickMultiline:u.axis_x_tick_multiline,tickWidth:u.axis_x_tick_width,tickTextRotate:s?0:u.axis_x_tick_rotate,withoutTransition:o},h=a(l.d3,c).scale(t).orient(e);return l.isTimeSeries()&&r&&"function"!=typeof r&&(r=r.map(function(t){return l.parseDate(t)})),h.tickFormat(n).tickValues(r),l.isCategorized()&&(h.tickCentered(u.axis_x_tick_centered),b(u.axis_x_tick_culling)&&(u.axis_x_tick_culling=!1)),h},o.prototype.updateXAxisTickValues=function(t,e){var n,r=this.owner,i=r.config;return(i.axis_x_tick_fit||i.axis_x_tick_count)&&(n=this.generateTickValues(r.mapTargetsToUniqueXs(t),i.axis_x_tick_count,r.isTimeSeries())),e?e.tickValues(n):(r.xAxis.tickValues(n),r.subXAxis.tickValues(n)),n},o.prototype.getYAxis=function(t,e,n,r,i,o){var s={withOuterTick:i,withoutTransition:o},l=this.owner,u=l.d3,c=l.config,h=a(u,s).scale(t).orient(e).tickFormat(n);return l.isTimeSeriesY()?h.ticks(u.time[c.axis_y_tick_time_value],c.axis_y_tick_time_interval):h.tickValues(r),h},o.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},o.prototype.getXAxisTickFormat=function(){var t=this.owner,e=t.config,n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return 0>t?t.toFixed(0):t};return e.axis_x_tick_format&&(f(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),f(n)?function(e){return n.call(t,e)}:n},o.prototype.getTickValues=function(t,e){return t?t:e?e.tickValues():void 0},o.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},o.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},o.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},o.prototype.getLabelOptionByAxisId=function(t){var e,n=this.owner,r=n.config;return"y"===t?e=r.axis_y_label:"y2"===t?e=r.axis_y2_label:"x"===t&&(e=r.axis_x_label),e},o.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return p(e)?e:e?e.text:null},o.prototype.setLabelText=function(t,e){var n=this.owner,r=n.config,i=this.getLabelOptionByAxisId(t);p(i)?"y"===t?r.axis_y_label=e:"y2"===t?r.axis_y2_label=e:"x"===t&&(r.axis_x_label=e):i&&(i.text=e)},o.prototype.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),r=n&&"object"==typeof n&&n.position?n.position:e;return{isInner:r.indexOf("inner")>=0,isOuter:r.indexOf("outer")>=0,isLeft:r.indexOf("left")>=0,isCenter:r.indexOf("center")>=0,isRight:r.indexOf("right")>=0,isTop:r.indexOf("top")>=0,isMiddle:r.indexOf("middle")>=0,isBottom:r.indexOf("bottom")>=0}},o.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},o.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},o.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},o.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},o.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},o.prototype.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},o.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},o.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},o.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-this.getMaxTickWidth("x"):n.isInner?"-0.5em":e.axis_x_height?e.axis_x_height-10:"3em"},o.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},o.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},o.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},o.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},o.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},o.prototype.getMaxTickWidth=function(t,e){var n,r,i,o,a,s=this.owner,l=s.config,u=0;return e&&s.currentMaxTickWidths[t]?s.currentMaxTickWidths[t]:(s.svg&&(n=s.filterTargetsToShow(s.data.targets),"y"===t?(r=s.y.copy().domain(s.getYDomain(n,"y")),i=this.getYAxis(r,s.yOrient,l.axis_y_tick_format,s.yAxisTickValues,!1,!0)):"y2"===t?(r=s.y2.copy().domain(s.getYDomain(n,"y2")),i=this.getYAxis(r,s.y2Orient,l.axis_y2_tick_format,s.y2AxisTickValues,!1,!0)):(r=s.x.copy().domain(s.getXDomain(n)),i=this.getXAxis(r,s.xOrient,s.xAxisTickFormat,s.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,i)),o=s.d3.select("body").append("div").classed("c3",!0),a=o.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a.append("g").call(i).each(function(){s.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();u<t.width&&(u=t.width)}),o.remove()})),s.currentMaxTickWidths[t]=0>=u?s.currentMaxTickWidths[t]:u,s.currentMaxTickWidths[t])},o.prototype.updateLabels=function(t){var e=this.owner,n=e.main.select("."+h.axisX+" ."+h.axisXLabel),r=e.main.select("."+h.axisY+" ."+h.axisYLabel),i=e.main.select("."+h.axisY2+" ."+h.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},o.prototype.getPadding=function(t,e,n,r){var i="number"==typeof t?t:t[e];return d(i)?"ratio"===t.unit?t[e]*r:this.convertPixelsToAxisPadding(i,r):n},o.prototype.convertPixelsToAxisPadding=function(t,e){var n=this.owner,r=n.config.axis_rotated?n.width:n.height;return e*(t/r)},o.prototype.generateTickValues=function(t,e,n){var r,i,o,a,s,l,u,c=t;if(e)if(r=f(e)?e():e,1===r)c=[t[0]];else if(2===r)c=[t[0],t[t.length-1]];else if(r>2){for(a=r-2,i=t[0],o=t[t.length-1],s=(o-i)/(a+1),c=[i],l=0;a>l;l++)u=+i+s*(l+1),c.push(n?new Date(u):u);c.push(o)}return n||(c=c.sort(function(t,e){return t-e})),c},o.prototype.generateTransitions=function(t){var e=this.owner,n=e.axes;return{axisX:t?n.x.transition().duration(t):n.x,axisY:t?n.y.transition().duration(t):n.y,axisY2:t?n.y2.transition().duration(t):n.y2,axisSubX:t?n.subx.transition().duration(t):n.subx}},o.prototype.redraw=function(t,e){var n=this.owner;n.axes.x.style("opacity",e?0:1),n.axes.y.style("opacity",e?0:1),n.axes.y2.style("opacity",e?0:1),n.axes.subx.style("opacity",e?0:1),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)},l.getClipPath=function(e){var n=t.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(n?"":document.URL.split("#")[0])+"#"+e+")"},l.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},l.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},l.getAxisClipY=function(t){return t?-20:-this.margin.top},l.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},l.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},l.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},l.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},l.getAxisClipWidth=function(t){var e=this,n=Math.max(30,e.margin.left),r=Math.max(30,e.margin.right);return t?e.width+2+n+r:e.margin.left+20},l.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},l.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},l.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},l.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},l.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},l.initPie=function(){var t=this,e=t.d3,n=t.config;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),n.data_order||t.pie.sort(null)},l.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},l.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},l.updateAngle=function(t){var e,n,r=this,i=r.config,o=!1,a=0,s=i.gauge_min,l=i.gauge_max;return r.pie(r.filterTargetsToShow(r.data.targets)).forEach(function(e){o||e.data.id!==t.data.id||(o=!0,t=e,t.index=a),a++}),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),r.isGaugeType(t.data)&&(e=Math.PI/(l-s),n=t.value<s?0:t.value<l?t.value-s:l-s,t.startAngle=-1*(Math.PI/2),t.endAngle=t.startAngle+e*n),o?t:null},l.getSvgArc=function(){var t=this,e=t.d3.svg.arc().outerRadius(t.radius).innerRadius(t.innerRadius),n=function(n,r){var i;return r?e(n):(i=t.updateAngle(n),i?e(i):"M 0 0")};return n.centroid=e.centroid,n},l.getSvgArcExpanded=function(t){var e=this,n=e.d3.svg.arc().outerRadius(e.radiusExpanded*(t?t:1)).innerRadius(e.innerRadius);return function(t){var r=e.updateAngle(t);return r?n(r):"M 0 0"}},l.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},l.transformForArcLabel=function(t){var e,n,r,i,o,a=this,s=a.updateAngle(t),l="";return s&&!a.hasType("gauge")&&(e=this.svgArc.centroid(s),n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?0:e[1],i=Math.sqrt(n*n+r*r),o=a.radius&&i?(36/a.radius>.375?1.175-36/a.radius:.8)*a.radius/i:0,l="translate("+n*o+","+r*o+")"),l},l.getArcRatio=function(t){var e=this,n=e.hasType("gauge")?Math.PI:2*Math.PI;return t?(t.endAngle-t.startAngle)/n:null},l.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},l.textForArcLabel=function(t){var e,n,r,i,o,a=this;return a.shouldShowArcLabel()?(e=a.updateAngle(t),n=e?e.value:null,r=a.getArcRatio(e),i=t.data.id,a.hasType("gauge")||a.meetsArcLabelThreshold(r)?(o=a.getArcLabelFormat(),o?o(n,r,i):a.defaultArcValueFormat(n,r)):""):""},l.expandArc=function(e){var n,r=this;return r.transiting?void(n=t.setInterval(function(){r.transiting||(t.clearInterval(n),r.legend.selectAll(".c3-legend-item-focused").size()>0&&r.expandArc(e))},10)):(e=r.mapToTargetIds(e),void r.svg.selectAll(r.selectorTargets(e,"."+h.chartArc)).each(function(t){r.shouldExpand(t.data.id)&&r.d3.select(this).selectAll("path").transition().duration(r.expandDuration(t.data.id)).attr("d",r.svgArcExpanded).transition().duration(2*r.expandDuration(t.data.id)).attr("d",r.svgArcExpandedSub).each(function(t){
r.isDonutType(t.data)})}))},l.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+h.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+h.arc).style("opacity",1))},l.expandDuration=function(t){var e=this,n=e.config;return e.isDonutType(t)?n.donut_expand_duration:e.isGaugeType(t)?n.gauge_expand_duration:e.isPieType(t)?n.pie_expand_duration:50},l.shouldExpand=function(t){var e=this,n=e.config;return e.isDonutType(t)&&n.donut_expand||e.isGaugeType(t)&&n.gauge_expand||e.isPieType(t)&&n.pie_expand},l.shouldShowArcLabel=function(){var t=this,e=t.config,n=!0;return t.hasType("donut")?n=e.donut_label_show:t.hasType("pie")&&(n=e.pie_label_show),n},l.meetsArcLabelThreshold=function(t){var e=this,n=e.config,r=e.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold;return t>=r},l.getArcLabelFormat=function(){var t=this,e=t.config,n=e.pie_label_format;return t.hasType("gauge")?n=e.gauge_label_format:t.hasType("donut")&&(n=e.donut_label_format),n},l.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},l.updateTargetsForArc=function(t){var e,n,r=this,i=r.main,o=r.classChartArc.bind(r),a=r.classArcs.bind(r),s=r.classFocus.bind(r);e=i.select("."+h.chartArcs).selectAll("."+h.chartArc).data(r.pie(t)).attr("class",function(t){return o(t)+s(t.data)}),n=e.enter().append("g").attr("class",o),n.append("g").attr("class",a),n.append("text").attr("dy",r.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},l.initArc=function(){var t=this;t.arcs=t.main.select("."+h.chart).append("g").attr("class",h.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",h.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},l.redrawArc=function(t,e,n){var r,i=this,o=i.d3,a=i.config,s=i.main;r=s.selectAll("."+h.arcs).selectAll("."+h.arc).data(i.arcData.bind(i)),r.enter().append("path").attr("class",i.classArc.bind(i)).style("fill",function(t){return i.color(t.data)}).style("cursor",function(t){return a.interaction_enabled&&a.data_selection_isselectable(t)?"pointer":null}).style("opacity",0).each(function(t){i.isGaugeType(t.data)&&(t.startAngle=t.endAngle=-1*(Math.PI/2)),this._current=t}),r.attr("transform",function(t){return!i.isGaugeType(t.data)&&n?"scale(0)":""}).style("opacity",function(t){return t===this._current?0:1}).on("mouseover",a.interaction_enabled?function(t){var e,n;i.transiting||(e=i.updateAngle(t),e&&(n=i.convertToArcData(e),i.expandArc(e.data.id),i.api.focus(e.data.id),i.toggleFocusLegend(e.data.id,!0),i.config.data_onmouseover(n,this)))}:null).on("mousemove",a.interaction_enabled?function(t){var e,n,r=i.updateAngle(t);r&&(e=i.convertToArcData(r),n=[e],i.showTooltip(n,this))}:null).on("mouseout",a.interaction_enabled?function(t){var e,n;i.transiting||(e=i.updateAngle(t),e&&(n=i.convertToArcData(e),i.unexpandArc(e.data.id),i.api.revert(),i.revertLegend(),i.hideTooltip(),i.config.data_onmouseout(n,this)))}:null).on("click",a.interaction_enabled?function(t,e){var n,r=i.updateAngle(t);r&&(n=i.convertToArcData(r),i.toggleShape&&i.toggleShape(this,n,e),i.config.data_onclick.call(i.api,n,this))}:null).each(function(){i.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e,n=i.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=o.interpolate(this._current,n),this._current=e(0),function(n){var r=e(n);return r.data=t.data,i.getArc(r,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return i.levelColor?i.levelColor(t.data.values[0].value):i.color(t.data.id)}).style("opacity",1).call(i.endall,function(){i.transiting=!1}),r.exit().transition().duration(e).style("opacity",0).remove(),s.selectAll("."+h.chartArc).select("text").style("opacity",0).attr("class",function(t){return i.isGaugeType(t.data)?h.gaugeValue:""}).text(i.textForArcLabel.bind(i)).attr("transform",i.transformForArcLabel.bind(i)).style("font-size",function(t){return i.isGaugeType(t.data)?Math.round(i.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return i.isTargetToShow(t.data.id)&&i.isArcType(t.data)?1:0}),s.select("."+h.chartArcsTitle).style("opacity",i.hasType("donut")||i.hasType("gauge")?1:0),i.hasType("gauge")&&(i.arcs.select("."+h.chartArcsBackground).attr("d",function(){var t={data:[{value:a.gauge_max}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return i.getArc(t,!0,!0)}),i.arcs.select("."+h.chartArcsGaugeUnit).attr("dy",".75em").text(a.gauge_label_show?a.gauge_units:""),i.arcs.select("."+h.chartArcsGaugeMin).attr("dx",-1*(i.innerRadius+(i.radius-i.innerRadius)/2)+"px").attr("dy","1.2em").text(a.gauge_label_show?a.gauge_min:""),i.arcs.select("."+h.chartArcsGaugeMax).attr("dx",i.innerRadius+(i.radius-i.innerRadius)/2+"px").attr("dy","1.2em").text(a.gauge_label_show?a.gauge_max:""))},l.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",h.chartArcsBackground),t.append("text").attr("class",h.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",h.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",h.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},l.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},l.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",h.regions)},l.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+h.regions).selectAll("."+h.region).data(n.regions),e.mainRegion.enter().append("g").attr("class",e.classRegion.bind(e)).append("rect").style("fill-opacity",0),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},l.redrawRegion=function(t){var e=this,n=e.mainRegion.selectAll("rect"),r=e.regionX.bind(e),i=e.regionY.bind(e),o=e.regionWidth.bind(e),a=e.regionHeight.bind(e);return[(t?n.transition():n).attr("x",r).attr("y",i).attr("width",o).attr("height",a).style("fill-opacity",function(t){return d(t.opacity)?t.opacity:.1})]},l.regionX=function(t){var e,n=this,r=n.config,i="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?r.axis_rotated&&"start"in t?i(t.start):0:r.axis_rotated?0:"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},l.regionY=function(t){var e,n=this,r=n.config,i="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?r.axis_rotated?0:"end"in t?i(t.end):0:r.axis_rotated&&"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},l.regionWidth=function(t){var e,n=this,r=n.config,i=n.regionX(t),o="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?r.axis_rotated&&"end"in t?o(t.end):n.width:r.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width,i>e?0:e-i},l.regionHeight=function(t){var e,n=this,r=n.config,i=this.regionY(t),o="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?r.axis_rotated?n.height:"start"in t?o(t.start):n.height:r.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height,i>e?0:e-i},l.isRegionOnX=function(t){return!t.axis||"x"===t.axis},l.drag=function(t){var e,n,r,i,o,a,s,l,u=this,c=u.config,d=u.main,f=u.d3;u.hasArcType()||c.data_selection_enabled&&(!c.zoom_enabled||u.zoom.altDomain)&&c.data_selection_multiple&&(e=u.dragStart[0],n=u.dragStart[1],r=t[0],i=t[1],o=Math.min(e,r),a=Math.max(e,r),s=c.data_selection_grouped?u.margin.top:Math.min(n,i),l=c.data_selection_grouped?u.height:Math.max(n,i),d.select("."+h.dragarea).attr("x",o).attr("y",s).attr("width",a-o).attr("height",l-s),d.selectAll("."+h.shapes).selectAll("."+h.shape).filter(function(t){return c.data_selection_isselectable(t)}).each(function(t,e){var n,r,i,c,d,p,g=f.select(this),m=g.classed(h.SELECTED),v=g.classed(h.INCLUDED),y=!1;if(g.classed(h.circle))n=1*g.attr("cx"),r=1*g.attr("cy"),d=u.togglePoint,y=n>o&&a>n&&r>s&&l>r;else{if(!g.classed(h.bar))return;p=E(this),n=p.x,r=p.y,i=p.width,c=p.height,d=u.togglePath,y=!(n>a||o>n+i||r>l||s>r+c)}y^v&&(g.classed(h.INCLUDED,!v),g.classed(h.SELECTED,!m),d.call(u,!m,g,t,e))}))},l.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+h.chart).append("rect").attr("class",h.dragarea).style("opacity",.1),e.dragging=!0)},l.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+h.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+h.shape).classed(h.INCLUDED,!1),t.dragging=!1)},l.selectPoint=function(t,e,n){var r=this,i=r.config,o=(i.axis_rotated?r.circleY:r.circleX).bind(r),a=(i.axis_rotated?r.circleX:r.circleY).bind(r),s=r.pointSelectR.bind(r);i.data_onselected.call(r.api,e,t.node()),r.main.select("."+h.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+h.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return r.generateClass(h.selectedCircle,n)}).attr("cx",o).attr("cy",a).attr("stroke",function(){return r.color(e)}).attr("r",function(t){return 1.4*r.pointSelectR(t)}).transition().duration(100).attr("r",s)},l.unselectPoint=function(t,e,n){var r=this;r.config.data_onunselected.call(r.api,e,t.node()),r.main.select("."+h.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+h.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},l.togglePoint=function(t,e,n,r){t?this.selectPoint(e,n,r):this.unselectPoint(e,n,r)},l.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),t.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(e)).brighter(.75)})},l.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),t.transition().duration(100).style("fill",function(){return n.color(e)})},l.togglePath=function(t,e,n,r){t?this.selectPath(e,n,r):this.unselectPath(e,n,r)},l.getToggle=function(t,e){var n,r=this;return"circle"===t.nodeName?n=r.isStepType(e)?function(){}:r.togglePoint:"path"===t.nodeName&&(n=r.togglePath),n},l.toggleShape=function(t,e,n){var r=this,i=r.d3,o=r.config,a=i.select(t),s=a.classed(h.SELECTED),l=r.getToggle(t,e).bind(r);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||r.main.selectAll("."+h.shapes+(o.data_selection_grouped?r.getTargetSelectorSuffix(e.id):"")).selectAll("."+h.shape).each(function(t,e){var n=i.select(this);n.classed(h.SELECTED)&&l(!1,n.classed(h.SELECTED,!1),t,e)}),a.classed(h.SELECTED,!s),l(!s,a,e,n))},l.initBrush=function(){var t=this,e=t.d3;t.brush=e.svg.brush().on("brush",function(){t.redrawForBrush()}),t.brush.update=function(){return t.context&&t.context.select("."+h.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},l.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context")),r=e.subchart_show?"visible":"hidden";n.style("visibility",r),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",h.chart),n.select("."+h.chart).append("g").attr("class",h.chartBars),n.select("."+h.chart).append("g").attr("class",h.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",h.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",h.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?r:"hidden")},l.updateTargetsForSubchart=function(t){var e,n,r,i,o=this,a=o.context,s=o.config,l=o.classChartBar.bind(o),u=o.classBars.bind(o),c=o.classChartLine.bind(o),d=o.classLines.bind(o),f=o.classAreas.bind(o);s.subchart_show&&(i=a.select("."+h.chartBars).selectAll("."+h.chartBar).data(t).attr("class",l),r=i.enter().append("g").style("opacity",0).attr("class",l),r.append("g").attr("class",u),n=a.select("."+h.chartLines).selectAll("."+h.chartLine).data(t).attr("class",c),e=n.enter().append("g").style("opacity",0).attr("class",c),e.append("g").attr("class",d),e.append("g").attr("class",f),a.selectAll("."+h.brush+" rect").attr(s.axis_rotated?"width":"height",s.axis_rotated?o.width2:o.height2))},l.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+h.bars).selectAll("."+h.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},l.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition().duration(n):this.contextBar).attr("d",t).style("opacity",1)},l.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+h.lines).selectAll("."+h.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},l.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition().duration(n):this.contextLine).attr("d",t).style("opacity",1)},l.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+h.areas).selectAll("."+h.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},l.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition().duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},l.redrawSubchart=function(t,e,n,r,i,o,a){var s,l,u,c=this,h=c.d3,d=c.config;c.context.style("visibility",d.subchart_show?"visible":"hidden"),d.subchart_show&&(h.event&&"zoom"===h.event.type&&c.brush.extent(c.x.orgDomain()).update(),t&&(c.brush.empty()||c.brush.extent(c.x.orgDomain()).update(),s=c.generateDrawArea(i,!0),l=c.generateDrawBar(o,!0),u=c.generateDrawLine(a,!0),c.updateBarForSubchart(n),c.updateLineForSubchart(n),c.updateAreaForSubchart(n),c.redrawBarForSubchart(l,n,n),c.redrawLineForSubchart(u,n,n),c.redrawAreaForSubchart(s,n,n)))},l.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},l.transformContext=function(t,e){var n,r=this;e&&e.axisSubX?n=e.axisSubX:(n=r.context.select("."+h.axisX),t&&(n=n.transition())),r.context.attr("transform",r.getTranslate("context")),n.attr("transform",r.getTranslate("subx"))},l.getDefaultExtent=function(){var t=this,e=t.config,n=f(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},l.initZoom=function(){var t,e=this,n=e.d3,r=e.config;e.zoom=n.behavior.zoom().on("zoomstart",function(){t=n.event.sourceEvent,e.zoom.altDomain=n.event.sourceEvent.altKey?e.x.orgDomain():null,r.zoom_onzoomstart.call(e.api,n.event.sourceEvent)}).on("zoom",function(){e.redrawForZoom.call(e)}).on("zoomend",function(){var i=n.event.sourceEvent;i&&t.clientX===i.clientX&&t.clientY===i.clientY||(e.redrawEventRect(),e.updateZoom(),r.zoom_onzoomend.call(e.api,e.x.orgDomain()))}),e.zoom.scale=function(t){return r.axis_rotated?this.y(t):this.x(t)},e.zoom.orgScaleExtent=function(){var t=r.zoom_extent?r.zoom_extent:[1,10];return[t[0],Math.max(e.getMaxDataCount()/t[1],t[1])]},e.zoom.updateScaleExtent=function(){var t=w(e.x.orgDomain())/w(e.getZoomDomain()),n=this.orgScaleExtent();return this.scaleExtent([n[0]*t,n[1]*t]),this}},l.getZoomDomain=function(){var t=this,e=t.config,n=t.d3,r=n.min([t.orgXDomain[0],e.zoom_x_min]),i=n.max([t.orgXDomain[1],e.zoom_x_max]);return[r,i]},l.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+h.zoomRect).call(e).on("dblclick.zoom",null),t.main.selectAll("."+h.eventRect).call(e).on("dblclick.zoom",null)},l.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,r=t.zoom,i=t.x;if(n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&r.altDomain)return i.domain(r.altDomain),void r.scale(i).updateScaleExtent();t.isCategorized()&&i.orgDomain()[0]===t.orgXDomain[0]&&i.domain([t.orgXDomain[0]-1e-10,i.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),n.zoom_onzoom.call(t.api,i.orgDomain())}},l.generateColor=function(){var t=this,e=t.config,n=t.d3,r=e.data_colors,i=x(e.color_pattern)?e.color_pattern:n.scale.category10().range(),o=e.data_color,a=[];return function(t){var e,n=t.id||t.data&&t.data.id||t;return r[n]instanceof Function?e=r[n](t):r[n]?e=r[n]:(a.indexOf(n)<0&&a.push(n),e=i[a.indexOf(n)%i.length],r[n]=e),o instanceof Function?o(e,t):e}},l.generateLevelColor=function(){var t=this,e=t.config,n=e.color_pattern,r=e.color_threshold,i="value"===r.unit,o=r.values&&r.values.length?r.values:[],a=r.max||100;return x(e.color_threshold)?function(t){var e,r,s=n[n.length-1];for(e=0;e<o.length;e++)if(r=i?t:100*t/a,r<o[e]){s=n[e];break}return s}:null},l.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,r=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,i,o){var a="y2"===e.axis.getId(o)?r:n;return a.call(e,t,i)}},l.yFormat=function(t){var e=this,n=e.config,r=n.axis_y_tick_format?n.axis_y_tick_format:e.defaultValueFormat;return r(t)},l.y2Format=function(t){var e=this,n=e.config,r=n.axis_y2_tick_format?n.axis_y2_tick_format:e.defaultValueFormat;return r(t)},l.defaultValueFormat=function(t){return d(t)?+t:""},l.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},l.dataLabelFormat=function(t){var e,n=this,r=n.config.data_labels,i=function(t){return d(t)?+t:""};return e="function"==typeof r.format?r.format:"object"==typeof r.format?r.format[t]?r.format[t]===!0?i:r.format[t]:function(){return""}:i},l.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},l.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},l.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n};var h=l.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",titleText:"c3-title-text",titleAuthor:"c3-title-author",titleSource:"c3-title-source",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};l.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},l.classText=function(t){return this.generateClass(h.text,t.index)},l.classTexts=function(t){return this.generateClass(h.texts,t.id)},l.classShape=function(t){return this.generateClass(h.shape,t.index)},l.classShapes=function(t){return this.generateClass(h.shapes,t.id)},l.classLine=function(t){return this.classShape(t)+this.generateClass(h.line,t.id)},l.classLines=function(t){return this.classShapes(t)+this.generateClass(h.lines,t.id)},l.classCircle=function(t){return this.classShape(t)+this.generateClass(h.circle,t.index)},l.classCircles=function(t){return this.classShapes(t)+this.generateClass(h.circles,t.id)},l.classBar=function(t){return this.classShape(t)+this.generateClass(h.bar,t.index)},l.classBars=function(t){return this.classShapes(t)+this.generateClass(h.bars,t.id)},l.classArc=function(t){return this.classShape(t.data)+this.generateClass(h.arc,t.data.id)},l.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(h.arcs,t.data.id)},l.classArea=function(t){return this.classShape(t)+this.generateClass(h.area,t.id)},l.classAreas=function(t){return this.classShapes(t)+this.generateClass(h.areas,t.id)},l.classRegion=function(t,e){return this.generateClass(h.region,e)+" "+("class"in t?t["class"]:"")},l.classEvent=function(t){return this.generateClass(h.eventRect,t.index)},l.classTarget=function(t){var e=this,n=e.config.data_classes[t],r="";return n&&(r=" "+h.target+"-"+n),e.generateClass(h.target,t)+r},l.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},l.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?h.focused:"")},l.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?h.defocused:"")},l.classChartText=function(t){return h.chartText+this.classTarget(t.id)},l.classChartLine=function(t){return h.chartLine+this.classTarget(t.id)},l.classChartBar=function(t){return h.chartBar+this.classTarget(t.id)},l.classChartArc=function(t){return h.chartArc+this.classTarget(t.data.id)},l.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},l.selectorTarget=function(t,e){return(e||"")+"."+h.target+this.getTargetSelectorSuffix(t)},l.selectorTargets=function(t,e){var n=this;return t=t||[],t.length?t.map(function(t){return n.selectorTarget(t,e)}):null},l.selectorLegend=function(t){return"."+h.legendItem+this.getTargetSelectorSuffix(t)},l.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null};var d=l.isValue=function(t){return t||0===t},f=l.isFunction=function(t){return"function"==typeof t},p=l.isString=function(t){return"string"==typeof t},g=l.isUndefined=function(t){return"undefined"==typeof t},m=l.isDefined=function(t){return"undefined"!=typeof t},v=l.ceil10=function(t){return 10*Math.ceil(t/10)},y=l.asHalfPixel=function(t){return Math.ceil(t)+.5},w=l.diffDomain=function(t){return t[1]-t[0]},b=l.isEmpty=function(t){return"undefined"==typeof t||null===t||p(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length},x=l.notEmpty=function(t){return!l.isEmpty(t)},C=l.getOption=function(t,e,n){return m(t[e])?t[e]:n},_=l.hasValue=function(t,e){var n=!1;return Object.keys(t).forEach(function(r){t[r]===e&&(n=!0)}),n},E=l.getPathBox=function(t){var e=t.getBoundingClientRect(),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)],r=n[0].x,i=Math.min(n[0].y,n[1].y);return{x:r,y:i,width:e.width,height:e.height}};s.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(h.focused,!0).classed(h.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})},s.defocus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),e.classed(h.focused,!1).classed(h.defocused,!0),n.hasArcType()&&n.unexpandArc(t),n.toggleFocusLegend(t,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(e){return t.indexOf(e)<0}),n.defocusedTargetIds=t},s.revert=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t)),e.classed(h.focused,!1).classed(h.defocused,!1),n.hasArcType()&&n.unexpandArc(t),n.config.legend_show&&(n.showLegend(t.filter(n.isLegendToShow.bind(n))),n.legend.selectAll(n.selectorLegends(t)).filter(function(){return n.d3.select(this).classed(h.legendItemFocused)}).classed(h.legendItemFocused,!1)),n.focusedTargetIds=[],n.defocusedTargetIds=[]},s.show=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.removeHiddenTargetIds(t),n=r.svg.selectAll(r.selectorTargets(t)),n.transition().style("opacity",1,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&r.showLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},s.hide=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.addHiddenTargetIds(t),n=r.svg.selectAll(r.selectorTargets(t)),n.transition().style("opacity",0,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",0)}),e.withLegend&&r.hideLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},s.toggle=function(t,e){var n=this,r=this.internal;r.mapToTargetIds(t).forEach(function(t){r.isTargetToShow(t)?n.hide(t,e):n.show(t,e)})},s.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},s.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},s.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},s.zoom.max=function(t){var e=this.internal,n=e.config,r=e.d3;return 0===t||t?void(n.zoom_x_max=r.max([e.orgXDomain[1],t])):n.zoom_x_max},s.zoom.min=function(t){var e=this.internal,n=e.config,r=e.d3;return 0===t||t?void(n.zoom_x_min=r.min([e.orgXDomain[0],t])):n.zoom_x_min},s.zoom.range=function(t){return arguments.length?(m(t.max)&&this.domain.max(t.max),void(m(t.min)&&this.domain.min(t.min))):{max:this.domain.max(),min:this.domain.min()}},s.load=function(t){var e=this.internal,n=e.config;return t.xs&&e.addXs(t.xs),"classes"in t&&Object.keys(t.classes).forEach(function(e){n.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){n.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){n.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds)?void e.load(e.getCaches(t.cacheIds),t.done):void("unload"in t?e.unload(e.mapToTargetIds("boolean"==typeof t.unload&&t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t))},s.unload=function(t){var e=this.internal;t=t||{},t instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},s.flow=function(t){var e,n,r,i,o,a,s,l,u=this.internal,c=[],h=u.getMaxDataCount(),f=0,p=0;if(t.json)n=u.convertJsonToData(t.json,t.keys);else if(t.rows)n=u.convertRowsToData(t.rows);else{if(!t.columns)return;n=u.convertColumnsToData(t.columns)}e=u.convertDataToTargets(n,!0),u.data.targets.forEach(function(t){var n,r,i=!1;for(n=0;n<e.length;n++)if(t.id===e[n].id){for(i=!0,t.values[t.values.length-1]&&(p=t.values[t.values.length-1].index+1),f=e[n].values.length,r=0;f>r;r++)e[n].values[r].index=p+r,u.isTimeSeries()||(e[n].values[r].x=p+r);t.values=t.values.concat(e[n].values),e.splice(n,1);break}i||c.push(t.id)}),u.data.targets.forEach(function(t){var e,n;for(e=0;e<c.length;e++)if(t.id===c[e])for(p=t.values[t.values.length-1].index+1,n=0;f>n;n++)t.values.push({id:t.id,index:p+n,x:u.isTimeSeries()?u.getOtherTargetX(p+n):p+n,value:null})}),u.data.targets.length&&e.forEach(function(t){var e,n=[];for(e=u.data.targets[0].values[0].index;p>e;e++)n.push({id:t.id,index:e,x:u.isTimeSeries()?u.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=p,u.isTimeSeries()||(t.x+=p)}),t.values=n.concat(t.values)}),u.data.targets=u.data.targets.concat(e),r=u.getMaxDataCount(),o=u.data.targets[0],a=o.values[0],m(t.to)?(f=0,l=u.isTimeSeries()?u.parseDate(t.to):t.to,o.values.forEach(function(t){t.x<l&&f++})):m(t.length)&&(f=t.length),h?1===h&&u.isTimeSeries()&&(s=(o.values[o.values.length-1].x-a.x)/2,i=[new Date(+a.x-s),new Date(+a.x+s)],u.updateXDomain(null,!0,!0,!1,i)):(s=u.isTimeSeries()?o.values.length>1?o.values[o.values.length-1].x-a.x:a.x-u.getXDomain(u.data.targets)[0]:1,i=[a.x-s,a.x],u.updateXDomain(null,!0,!0,!1,i)),u.updateTargets(u.data.targets),u.redraw({flow:{index:a.index,length:f,duration:d(t.duration)?t.duration:u.config.transition_duration,done:t.done,orgDataCount:h},withLegend:!0,withTransition:h>1,withTrimXDomain:!1,withUpdateXAxis:!0})},l.generateFlow=function(t){var e=this,n=e.config,r=e.d3;return function(){var i,o,a,s=t.targets,l=t.flow,u=t.drawBar,c=t.drawLine,d=t.drawArea,f=t.cx,p=t.cy,g=t.xv,m=t.xForText,v=t.yForText,y=t.duration,b=1,x=l.index,C=l.length,_=e.getValueOnIndex(e.data.targets[0].values,x),E=e.getValueOnIndex(e.data.targets[0].values,x+C),T=e.x.domain(),k=l.duration||y,S=l.done||function(){},$=e.generateWait(),M=e.xgrid||r.selectAll([]),A=e.xgridLines||r.selectAll([]),R=e.mainRegion||r.selectAll([]),D=e.mainText||r.selectAll([]),O=e.mainBar||r.selectAll([]),P=e.mainLine||r.selectAll([]),H=e.mainArea||r.selectAll([]),L=e.mainCircle||r.selectAll([]);e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,C)}),a=e.updateXDomain(s,!0,!0),e.updateXGrid&&e.updateXGrid(!0),l.orgDataCount?i=1===l.orgDataCount||_.x===E.x?e.x(T[0])-e.x(a[0]):e.isTimeSeries()?e.x(T[0])-e.x(a[0]):e.x(_.x)-e.x(E.x):1!==e.data.targets[0].values.length?i=e.x(T[0])-e.x(a[0]):e.isTimeSeries()?(_=e.getValueOnIndex(e.data.targets[0].values,0),E=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),i=e.x(_.x)-e.x(E.x)):i=w(a)/2,b=w(T)/w(a),o="translate("+i+",0) scale("+b+",1)",e.hideXGridFocus(),r.transition().ease("linear").duration(k).each(function(){$.add(e.axes.x.transition().call(e.xAxis)),$.add(O.transition().attr("transform",o)),$.add(P.transition().attr("transform",o)),$.add(H.transition().attr("transform",o)),$.add(L.transition().attr("transform",o)),$.add(D.transition().attr("transform",o)),$.add(R.filter(e.isRegionOnX).transition().attr("transform",o)),$.add(M.transition().attr("transform",o)),$.add(A.transition().attr("transform",o))}).call($,function(){var t,r=[],i=[],o=[];if(C){for(t=0;C>t;t++)r.push("."+h.shape+"-"+(x+t)),i.push("."+h.text+"-"+(x+t)),o.push("."+h.eventRect+"-"+(x+t));e.svg.selectAll("."+h.shapes).selectAll(r).remove(),e.svg.selectAll("."+h.texts).selectAll(i).remove(),
e.svg.selectAll("."+h.eventRects).selectAll(o).remove(),e.svg.select("."+h.xgrid).remove()}M.attr("transform",null).attr(e.xgridAttr),A.attr("transform",null),A.select("line").attr("x1",n.axis_rotated?0:g).attr("x2",n.axis_rotated?e.width:g),A.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",g),O.attr("transform",null).attr("d",u),P.attr("transform",null).attr("d",c),H.attr("transform",null).attr("d",d),L.attr("transform",null).attr("cx",f).attr("cy",p),D.attr("transform",null).attr("x",m).attr("y",v).style("fill-opacity",e.opacityForText.bind(e)),R.attr("transform",null),R.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),n.interaction_enabled&&e.redrawEventRect(),S(),e.flowing=!1})}},s.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+h.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+h.shape).filter(function(){return n.select(this).classed(h.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},s.select=function(t,e,n){var r=this.internal,i=r.d3,o=r.config;o.data_selection_enabled&&r.main.selectAll("."+h.shapes).selectAll("."+h.shape).each(function(a,s){var l=i.select(this),u=a.data?a.data.id:a.id,c=r.getToggle(this,a).bind(r),d=o.data_selection_grouped||!t||t.indexOf(u)>=0,f=!e||e.indexOf(s)>=0,p=l.classed(h.SELECTED);l.classed(h.line)||l.classed(h.area)||(d&&f?o.data_selection_isselectable(a)&&!p&&c(!0,l.classed(h.SELECTED,!0),a,s):m(n)&&n&&p&&c(!1,l.classed(h.SELECTED,!1),a,s))})},s.unselect=function(t,e){var n=this.internal,r=n.d3,i=n.config;i.data_selection_enabled&&n.main.selectAll("."+h.shapes).selectAll("."+h.shape).each(function(o,a){var s=r.select(this),l=o.data?o.data.id:o.id,u=n.getToggle(this,o).bind(n),c=i.data_selection_grouped||!t||t.indexOf(l)>=0,d=!e||e.indexOf(a)>=0,f=s.classed(h.SELECTED);s.classed(h.line)||s.classed(h.area)||c&&d&&i.data_selection_isselectable(o)&&f&&u(!1,s.classed(h.SELECTED,!1),o,a)})},s.transform=function(t,e){var n=this.internal,r=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,r)},l.transformTo=function(t,e,n){var r=this,i=!r.hasArcType(),o=n||{withTransitionForAxis:i};o.withTransitionForTransform=!1,r.transiting=!1,r.setTargetType(t,e),r.updateTargets(r.data.targets),r.updateAndRedraw(o)},s.groups=function(t){var e=this.internal,n=e.config;return g(t)?n.data_groups:(n.data_groups=t,e.redraw(),n.data_groups)},s.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},s.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t?t:[]))},s.xgrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!0)},s.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},s.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t?t:[]))},s.ygrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!1)},s.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions},s.regions.add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},s.regions.remove=function(t){var e,n,r,i=this.internal,o=i.config;return t=t||{},e=i.getOption(t,"duration",o.transition_duration),n=i.getOption(t,"classes",[h.region]),r=i.main.select("."+h.regions).selectAll(n.map(function(t){return"."+t})),(e?r.transition().duration(e):r).style("opacity",0).remove(),o.regions=o.regions.filter(function(t){var e=!1;return t["class"]?(t["class"].split(" ").forEach(function(t){n.indexOf(t)>=0&&(e=!0)}),!e):!0}),o.regions},s.data=function(t){var e=this.internal.data.targets;return"undefined"==typeof t?e:e.filter(function(e){return[].concat(t).indexOf(e.id)>=0})},s.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},s.data.values=function(t){var e,n=null;return t&&(e=this.data(t),n=e[0]?e[0].values.map(function(t){return t.value}):null),n},s.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},s.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},s.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},s.category=function(t,e){var n=this.internal,r=n.config;return arguments.length>1&&(r.axis_x_categories[t]=e,n.redraw()),r.axis_x_categories[t]},s.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},s.color=function(t){var e=this.internal;return e.color(t)},s.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},s.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},s.axis=function(){},s.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(n){e.axis.setLabelText(n,t[n])}),e.axis.updateLabels())},s.axis.max=function(t){var e=this.internal,n=e.config;return arguments.length?("object"==typeof t?(d(t.x)&&(n.axis_x_max=t.x),d(t.y)&&(n.axis_y_max=t.y),d(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max}},s.axis.min=function(t){var e=this.internal,n=e.config;return arguments.length?("object"==typeof t?(d(t.x)&&(n.axis_x_min=t.x),d(t.y)&&(n.axis_y_min=t.y),d(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min}},s.axis.range=function(t){return arguments.length?(m(t.max)&&this.axis.max(t.max),void(m(t.min)&&this.axis.min(t.min))):{max:this.axis.max(),min:this.axis.min()}},s.legend=function(){},s.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},s.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},s.resize=function(t){var e=this.internal,n=e.config;n.size_width=t?t.width:null,n.size_height=t?t.height:null,this.flush()},s.flush=function(){var t=this.internal;t.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},s.destroy=function(){var e=this.internal;if(t.clearInterval(e.intervalForObserveInserted),void 0!==e.resizeTimeout&&t.clearTimeout(e.resizeTimeout),t.detachEvent)t.detachEvent("onresize",e.resizeFunction);else if(t.removeEventListener)t.removeEventListener("resize",e.resizeFunction);else{var n=t.onresize;n&&n.add&&n.remove&&n.remove(e.resizeFunction)}return e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},s.tooltip=function(){},s.tooltip.show=function(t){var e,n,r=this.internal;t.mouse&&(n=t.mouse),t.data?r.isMultipleX()?(n=[r.x(t.data.x),r.getYScale(t.data.id)(t.data.value)],e=null):e=d(t.data.index)?t.data.index:r.getIndexByX(t.data.x):"undefined"!=typeof t.x?e=r.getIndexByX(t.x):"undefined"!=typeof t.index&&(e=t.index),r.dispatchEvent("mouseover",e,n),r.dispatchEvent("mousemove",e,n),r.config.tooltip_onshow.call(r,t.data)},s.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)};var T;l.isSafari=function(){var e=t.navigator.userAgent;return e.indexOf("Safari")>=0&&e.indexOf("Chrome")<0},l.isChrome=function(){var e=t.navigator.userAgent;return e.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),"function"==typeof define&&define.amd?define("c3",["d3"],function(){return c}):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=c:t.c3=c}(window),/*!
	Papa Parse
	v4.1.1
	https://github.com/mholt/PapaParse
*/
function(t){"use strict";function e(e,n){if(n=n||{},n.worker&&_.WORKERS_SUPPORTED){var r=c();return r.userStep=n.step,r.userChunk=n.chunk,r.userComplete=n.complete,r.userError=n.error,n.step=v(n.step),n.chunk=v(n.chunk),n.complete=v(n.complete),n.error=v(n.error),delete n.worker,void r.postMessage({input:e,config:n,workerId:r.id})}var s=null;return"string"==typeof e?s=n.download?new i(n):new a(n):(t.File&&e instanceof File||e instanceof Object)&&(s=new o(n)),s.stream(e)}function n(t,e){function n(){"object"==typeof e&&("string"==typeof e.delimiter&&1==e.delimiter.length&&-1==_.BAD_DELIMITERS.indexOf(e.delimiter)&&(l=e.delimiter),("boolean"==typeof e.quotes||e.quotes instanceof Array)&&(s=e.quotes),"string"==typeof e.newline&&(u=e.newline))}function r(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function i(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var r=t instanceof Array&&t.length>0,i=!(e[0]instanceof Array);if(r){for(var a=0;a<t.length;a++)a>0&&(n+=l),n+=o(t[a],a);e.length>0&&(n+=u)}for(var s=0;s<e.length;s++){for(var c=r?t.length:e[s].length,h=0;c>h;h++){h>0&&(n+=l);var d=r&&i?t[h]:h;n+=o(e[s][d],h)}s<e.length-1&&(n+=u)}return n}function o(t,e){if("undefined"==typeof t||null===t)return"";t=t.toString().replace(/"/g,'""');var n="boolean"==typeof s&&s||s instanceof Array&&s[e]||a(t,_.BAD_DELIMITERS)||t.indexOf(l)>-1||" "==t.charAt(0)||" "==t.charAt(t.length-1);return n?'"'+t+'"':t}function a(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}var s=!1,l=",",u="\r\n";if(n(),"string"==typeof t&&(t=JSON.parse(t)),t instanceof Array){if(!t.length||t[0]instanceof Array)return i(null,t);if("object"==typeof t[0])return i(r(t[0]),t)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),t.data instanceof Array&&(t.fields||(t.fields=t.data[0]instanceof Array?t.fields:r(t.data[0])),t.data[0]instanceof Array||"object"==typeof t.data[0]||(t.data=[t.data])),i(t.fields||[],t.data||[]);throw"exception: Unable to serialize unrecognized input"}function r(e){function n(t){var e=g(t);e.chunkSize=parseInt(e.chunkSize),this._handle=new s(e),this._handle.streamer=this,this._config=e}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this._completeResults={data:[],errors:[],meta:{}},n.call(this,e),this.parseChunk=function(e){var n=this._partialLine+e;this._partialLine="";var r=this._handle.parse(n,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var i=r.meta.cursor;this._finished||(this._partialLine=n.substring(i-this._baseIndex),this._baseIndex=i),r&&r.data&&(this._rowCount+=r.data.length);var o=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(w)t.postMessage({results:r,workerId:_.WORKER_ID,finished:o});else if(v(this._config.chunk)){if(this._config.chunk(r,this._handle),this._paused)return;r=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),!o||!v(this._config.complete)||r&&r.meta.aborted||this._config.complete(this._completeResults),o||r&&r.meta.paused||this._nextChunk(),r}},this._sendError=function(e){v(this._config.error)?this._config.error(e):w&&this._config.error&&t.postMessage({workerId:_.WORKER_ID,error:e,finished:!1})}}function i(t){function e(t){var e=t.getResponseHeader("Content-Range");return parseInt(e.substr(e.lastIndexOf("/")+1))}t=t||{},t.chunkSize||(t.chunkSize=_.RemoteChunkSize),r.call(this,t);var n;this._nextChunk=w?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(n=new XMLHttpRequest,w||(n.onload=m(this._chunkLoaded,this),n.onerror=m(this._chunkError,this)),n.open("GET",this._input,!w),this._config.chunkSize){var t=this._start+this._config.chunkSize-1;n.setRequestHeader("Range","bytes="+this._start+"-"+t),n.setRequestHeader("If-None-Match","webkit-no-cache")}try{n.send()}catch(e){this._chunkError(e.message)}w&&0==n.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4==n.readyState){if(n.status<200||n.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>e(n),this.parseChunk(n.responseText)}},this._chunkError=function(t){var e=n.statusText||t;this._sendError(e)}}function o(t){t=t||{},t.chunkSize||(t.chunkSize=_.LocalChunkSize),r.call(this,t);var e,n,i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?(e=new FileReader,e.onload=m(this._chunkLoaded,this),e.onerror=m(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,r)}var o=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function a(t){t=t||{},r.call(this,t);var e,n;this.stream=function(t){return e=t,n=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,e=t?n.substr(0,t):n;return n=t?n.substr(t):"",this._finished=!n,this.parseChunk(e)}}}function s(t){function e(){if(x&&d&&(u("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+_.DefaultDelimiter+"'"),d=!1),t.skipEmptyLines)for(var e=0;e<x.data.length;e++)1==x.data[e].length&&""==x.data[e][0]&&x.data.splice(e--,1);return n()&&r(),i()}function n(){return t.header&&0==b.length}function r(){if(x){for(var t=0;n()&&t<x.data.length;t++)for(var e=0;e<x.data[t].length;e++)b.push(x.data[t][e]);x.data.splice(0,1)}}function i(){if(!x||!t.header&&!t.dynamicTyping)return x;for(var e=0;e<x.data.length;e++){for(var n={},r=0;r<x.data[e].length;r++){if(t.dynamicTyping){var i=x.data[e][r];x.data[e][r]="true"==i||"TRUE"==i?!0:"false"==i||"FALSE"==i?!1:s(i)}t.header&&(r>=b.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(x.data[e][r])):n[b[r]]=x.data[e][r])}t.header&&(x.data[e]=n,r>b.length?u("FieldMismatch","TooManyFields","Too many fields: expected "+b.length+" fields but parsed "+r,e):r<b.length&&u("FieldMismatch","TooFewFields","Too few fields: expected "+b.length+" fields but parsed "+r,e))}return t.header&&x.meta&&(x.meta.fields=b),x}function o(e){for(var n,r,i,o=[",","	","|",";",_.RECORD_SEP,_.UNIT_SEP],a=0;a<o.length;a++){var s=o[a],u=0,c=0;i=void 0;for(var h=new l({delimiter:s,preview:10}).parse(e),d=0;d<h.data.length;d++){var f=h.data[d].length;c+=f,"undefined"!=typeof i?f>1&&(u+=Math.abs(f-i),i=f):i=f}c/=h.data.length,("undefined"==typeof r||r>u)&&c>1.99&&(r=u,n=s)}return t.delimiter=n,{successful:!!n,bestDelimiter:n}}function a(t){t=t.substr(0,1048576);var e=t.split("\r");if(1==e.length)return"\n";for(var n=0,r=0;r<e.length;r++)"\n"==e[r][0]&&n++;return n>=e.length/2?"\r\n":"\r"}function s(t){var e=f.test(t);return e?parseFloat(t):t}function u(t,e,n,r){x.errors.push({type:t,code:e,message:n,row:r})}var c,h,d,f=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,p=this,m=0,y=!1,w=!1,b=[],x={data:[],errors:[],meta:{}};if(v(t.step)){var C=t.step;t.step=function(r){if(x=r,n())e();else{if(e(),0==x.data.length)return;m+=r.data.length,t.preview&&m>t.preview?h.abort():C(x,p)}}}this.parse=function(n,r,i){if(t.newline||(t.newline=a(n)),d=!1,!t.delimiter){var s=o(n);s.successful?t.delimiter=s.bestDelimiter:(d=!0,t.delimiter=_.DefaultDelimiter),x.meta.delimiter=t.delimiter}var u=g(t);return t.preview&&t.header&&u.preview++,c=n,h=new l(u),x=h.parse(c,r,i),e(),y?{meta:{paused:!0}}:x||{meta:{paused:!1}}},this.paused=function(){return y},this.pause=function(){y=!0,h.abort(),c=c.substr(h.getCharIndex())},this.resume=function(){y=!1,p.streamer.parseChunk(c)},this.aborted=function(){return w},this.abort=function(){w=!0,h.abort(),x.meta.aborted=!0,v(t.complete)&&t.complete(x),c=""}}function l(t){t=t||{};var e=t.delimiter,n=t.newline,r=t.comments,i=t.step,o=t.preview,a=t.fastMode;if(("string"!=typeof e||_.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),r===e)throw"Comment character same as delimiter";r===!0?r="#":("string"!=typeof r||_.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var s=0,l=!1;this.parse=function(t,u,c){function h(t){x.push(t),E=s}function d(e){return c?p():(e||(e=t.substr(s)),_.push(e),s=m,h(_),b&&g(),p())}function f(e){s=e,h(_),_=[],$=t.indexOf(n,s)}function p(t){return{data:x,errors:C,meta:{delimiter:e,linebreak:n,aborted:l,truncated:!!t,cursor:E+(u||0)}}}function g(){i(p()),x=[],C=[]}if("string"!=typeof t)throw"Input must be a string";var m=t.length,v=e.length,y=n.length,w=r.length,b="function"==typeof i;s=0;var x=[],C=[],_=[],E=0;if(!t)return p();if(a||a!==!1&&-1===t.indexOf('"')){for(var T=t.split(n),k=0;k<T.length;k++){var _=T[k];if(s+=_.length,k!==T.length-1)s+=n.length;else if(c)return p();if(!r||_.substr(0,w)!=r){if(b){if(x=[],h(_.split(e)),g(),l)return p()}else h(_.split(e));if(o&&k>=o)return x=x.slice(0,o),p(!0)}}return p()}for(var S=t.indexOf(e,s),$=t.indexOf(n,s);;)if('"'!=t[s])if(r&&0===_.length&&t.substr(s,w)===r){if(-1==$)return p();s=$+y,$=t.indexOf(n,s),S=t.indexOf(e,s)}else if(-1!==S&&($>S||-1===$))_.push(t.substring(s,S)),s=S+v,S=t.indexOf(e,s);else{if(-1===$)break;if(_.push(t.substring(s,$)),f($+y),b&&(g(),l))return p();if(o&&x.length>=o)return p(!0)}else{var M=s;for(s++;;){var M=t.indexOf('"',M+1);if(-1===M)return c||C.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:x.length,index:s}),d();if(M===m-1){var A=t.substring(s,M).replace(/""/g,'"');return d(A)}if('"'!=t[M+1]){if(t[M+1]==e){_.push(t.substring(s,M).replace(/""/g,'"')),s=M+1+v,S=t.indexOf(e,s),$=t.indexOf(n,s);break}if(t.substr(M+1,y)===n){if(_.push(t.substring(s,M).replace(/""/g,'"')),f(M+1+y),S=t.indexOf(e,s),b&&(g(),l))return p();if(o&&x.length>=o)return p(!0);break}}else M++}}return d()},this.abort=function(){l=!0},this.getCharIndex=function(){return s}}function u(){var t=document.getElementsByTagName("script");return t.length?t[t.length-1].src:""}function c(){if(!_.WORKERS_SUPPORTED)return!1;if(!b&&null===_.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=new t.Worker(_.SCRIPT_PATH||y);return e.onmessage=h,e.id=C++,x[e.id]=e,e}function h(t){var e=t.data,n=x[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var i=function(){r=!0,d(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},o={abort:i,pause:f,resume:f};if(v(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:[e.results.data[a]],errors:e.results.errors,meta:e.results.meta},o),!r);a++);delete e.results}else v(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!r&&d(e.workerId,e.results)}function d(t,e){var n=x[t];v(n.userComplete)&&n.userComplete(e),n.terminate(),delete x[t]}function f(){throw"Not implemented."}function p(e){var n=e.data;if("undefined"==typeof _.WORKER_ID&&n&&(_.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:_.WORKER_ID,results:_.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=_.parse(n.input,n.config);r&&t.postMessage({workerId:_.WORKER_ID,results:r,finished:!0})}}function g(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=g(t[n]);return e}function m(t,e){return function(){t.apply(e,arguments)}}function v(t){return"function"==typeof t}var y,w=!t.document&&!!t.postMessage,b=!1,x={},C=0,_={};if(_.parse=e,_.unparse=n,_.RECORD_SEP=String.fromCharCode(30),_.UNIT_SEP=String.fromCharCode(31),_.BYTE_ORDER_MARK="\ufeff",_.BAD_DELIMITERS=["\r","\n",'"',_.BYTE_ORDER_MARK],_.WORKERS_SUPPORTED=!!t.Worker,_.SCRIPT_PATH=null,_.LocalChunkSize=10485760,_.RemoteChunkSize=5242880,_.DefaultDelimiter=",",_.Parser=l,_.ParserHandle=s,_.NetworkStreamer=i,_.FileStreamer=o,_.StringStreamer=a,"undefined"!=typeof module&&module.exports?module.exports=_:v(t.define)&&t.define.amd?t.define(function(){return _}):t.Papa=_,t.jQuery){var E=t.jQuery;E.fn.parse=function(e){function n(){if(0==a.length)return void(v(e.complete)&&e.complete());var t=a[0];if(v(e.before)){var n=e.before(t.file,t.inputElem);if("object"==typeof n){if("abort"==n.action)return void r("AbortError",t.file,t.inputElem,n.reason);if("skip"==n.action)return void i();"object"==typeof n.config&&(t.instanceConfig=E.extend(t.instanceConfig,n.config))}else if("skip"==n)return void i()}var o=t.instanceConfig.complete;t.instanceConfig.complete=function(e){v(o)&&o(e,t.file,t.inputElem),i()},_.parse(t.file,t.instanceConfig)}function r(t,n,r,i){v(e.error)&&e.error({name:t},n,r,i)}function i(){a.splice(0,1),n()}var o=e.config||{},a=[];return this.each(function(e){var n="INPUT"==E(this).prop("tagName").toUpperCase()&&"file"==E(this).attr("type").toLowerCase()&&t.FileReader;if(!n||!this.files||0==this.files.length)return!0;for(var r=0;r<this.files.length;r++)a.push({file:this.files[r],inputElem:this,instanceConfig:E.extend({},o)})}),n(),this}}w?t.onmessage=p:_.WORKERS_SUPPORTED&&(y=u(),document.body?document.addEventListener("DOMContentLoaded",function(){b=!0},!0):b=!0),i.prototype=Object.create(r.prototype),i.prototype.constructor=i,o.prototype=Object.create(r.prototype),o.prototype.constructor=o,a.prototype=Object.create(a.prototype),a.prototype.constructor=a}("undefined"!=typeof window?window:this),/*
 * A colorselector for Twitter Bootstrap which lets you select a color from a predefined set of colors only.
 * https://github.com/flaute/bootstrap-colorselector
 *
 * Copyright (C) 2014 Flaute
 *
 * Licensed under the MIT license
 */
function(t){"use strict";var e=function(e,n){this.options=n,this.$select=t(e),this._init()};e.prototype={constructor:e,_init:function(){var e=this.options.callback,n=this.$select.val(),r=this.$select.find("option:selected").data("color"),i=t("<ul>").addClass("dropdown-menu").addClass("dropdown-caret"),o=t("<div>").addClass("dropdown").addClass("dropdown-colorselector"),a=t("<span>").addClass("btn-colorselector").css("background-color",r),s=t("<a>").attr("data-toggle","dropdown").addClass("dropdown-toggle").attr("href","#").append(a);t("option",this.$select).each(function(){var e=t(this),r=e.attr("value"),o=e.data("color"),a=e.text(),s=t("<a>").addClass("color-btn");(e.prop("selected")===!0||n===o)&&s.addClass("selected"),s.css("background-color",o),s.attr("href","#").attr("data-color",o).attr("data-value",r).attr("title",a),i.append(t("<li>").append(s))}),o.append(s),o.append(i),this.$select.hide(),this.$selector=t(o).insertAfter(this.$select),this.$select.on("change",function(){var n=t(this).val(),r=t(this).find("option[value='"+n+"']").data("color"),i=t(this).find("option[value='"+n+"']").text();t(this).next().find("ul").find("li").find(".selected").removeClass("selected"),t(this).next().find("ul").find("li").find("a[data-color='"+r+"']").addClass("selected"),t(this).next().find(".btn-colorselector").css("background-color",r),e(n,r,i)}),i.on("click.colorselector",t.proxy(this._clickColor,this))},_clickColor:function(e){var n=t(e.target);return n.is(".color-btn")?(this.$select.val(n.data("value")).change(),e.preventDefault(),!0):!1},setColor:function(e){var n=t(this.$selector).find("li").find("a[data-color='"+e+"']").data("value");this.setValue(n)},setValue:function(t){this.$select.val(t).change()}},t.fn.colorselector=function(n){var r=Array.apply(null,arguments);return r.shift(),this.each(function(){var i=t(this),o=i.data("colorselector"),a=t.extend({},t.fn.colorselector.defaults,i.data(),"object"==typeof n&&n);o||i.data("colorselector",o=new e(this,a)),"string"==typeof n&&o[n].apply(o,r)})},t.fn.colorselector.defaults={callback:function(t,e,n){},colorsPerRow:8},t.fn.colorselector.Constructor=e}(jQuery,window,document);/*!

StackBlur - a fast almost Gaussian Blur For Canvas

Version: 	0.5
Author:		Mario Klingemann
Contact: 	mario@quasimondo.com
Website:	http://www.quasimondo.com/StackBlurForCanvas
Twitter:	@quasimondo

In case you find this class useful - especially in commercial projects -
I am not totally unhappy for a small donation to my PayPal account
mario@quasimondo.de

Or support me on flattr: 
https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript

Copyright (c) 2010 Mario Klingemann

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
*/
var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];/*!
 * canvg.js - Javascript SVG parser and renderer on Canvas
 * MIT Licensed 
 * Gabe Lerner (gabelerner@gmail.com)
 * http://code.google.com/p/canvg/
 *
 * Requires: rgbcolor.js - http://www.phpied.com/rgb-color-parser-in-javascript/
 */
!function(){function t(){var t={};return t.FRAMERATE=30,t.MAX_VIRTUAL_PIXELS=3e4,t.init=function(e){var n=0;t.UniqueId=function(){return n++,"canvg"+n},t.Definitions={},t.Styles={},t.Animations=[],t.Images=[],t.ctx=e,t.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(t){return null!=t&&"number"==typeof t?t:"x"==t?this.width():"y"==t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},t.init(),t.ImagesLoaded=function(){for(var e=0;e<t.Images.length;e++)if(!t.Images[e].loaded)return!1;return!0},t.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},t.compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},t.ajax=function(t){var e;return e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e?(e.open("GET",t,!1),e.send(null),e.responseText):null},t.parseXml=function(t){if(window.DOMParser){var e=new DOMParser;return e.parseFromString(t,"text/xml")}t=t.replace(/<!DOCTYPE svg[^>]*>/,"");var n=new ActiveXObject("Microsoft.XMLDOM");return n.async="false",n.loadXML(t),n},t.Property=function(t,e){this.name=t,this.value=e},t.Property.prototype.getValue=function(){return this.value},t.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},t.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);return(this.value+"").match(/%$/)&&(t/=100),t},t.Property.prototype.valueOrDefault=function(t){return this.hasValue()?this.value:t},t.Property.prototype.numValueOrDefault=function(t){return this.hasValue()?this.numValue():t},t.Property.prototype.addOpacity=function(e){var n=this.value;if(null!=e&&""!=e&&"string"==typeof this.value){var r=new RGBColor(this.value);r.ok&&(n="rgba("+r.r+", "+r.g+", "+r.b+", "+e+")")}return new t.Property(this.name,n)},t.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=this.value),t.Definitions[e]},t.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},t.Property.prototype.getFillStyleDefinition=function(e,n){var r=this.getDefinition();if(null!=r&&r.createGradient)return r.createGradient(t.ctx,e,n);if(null!=r&&r.createPattern){if(r.getHrefAttribute().hasValue()){var i=r.attribute("patternTransform");r=r.getHrefAttribute().getDefinition(),i.hasValue()&&(r.attribute("patternTransform",!0).value=i.value)}return r.createPattern(t.ctx,e)}return null},t.Property.prototype.getDPI=function(t){return 96},t.Property.prototype.getEM=function(e){var n=12,r=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);return r.hasValue()&&(n=r.toPixels(e)),n},t.Property.prototype.getUnits=function(){var t=this.value+"";return t.replace(/[0-9\.\-]/g,"")},t.Property.prototype.toPixels=function(e,n){if(!this.hasValue())return 0;var r=this.value+"";if(r.match(/em$/))return this.numValue()*this.getEM(e);if(r.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(r.match(/px$/))return this.numValue();if(r.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(r.match(/pc$/))return 15*this.numValue();if(r.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(r.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(r.match(/in$/))return this.numValue()*this.getDPI(e);if(r.match(/%$/))return this.numValue()*t.ViewPort.ComputeSize(e);var i=this.numValue();return n&&1>i?i*t.ViewPort.ComputeSize(e):i},t.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/s$/)?1e3*this.numValue():(t.match(/ms$/),this.numValue())},t.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/deg$/)?this.numValue()*(Math.PI/180):t.match(/grad$/)?this.numValue()*(Math.PI/200):t.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},t.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,n,r,i,o,a){var s=null!=a?this.Parse(a):this.CreateFont("","","","","",t.ctx.font);return{fontFamily:o||s.fontFamily,fontSize:i||s.fontSize,fontStyle:e||s.fontStyle,fontWeight:r||s.fontWeight,fontVariant:n||s.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var e=this;this.Parse=function(n){for(var r={},i=t.trim(t.compressSpaces(n||"")).split(" "),o={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},a="",s=0;s<i.length;s++)o.fontStyle||-1==e.Styles.indexOf(i[s])?o.fontVariant||-1==e.Variants.indexOf(i[s])?o.fontWeight||-1==e.Weights.indexOf(i[s])?o.fontSize?"inherit"!=i[s]&&(a+=i[s]):("inherit"!=i[s]&&(r.fontSize=i[s].split("/")[0]),o.fontStyle=o.fontVariant=o.fontWeight=o.fontSize=!0):("inherit"!=i[s]&&(r.fontWeight=i[s]),o.fontStyle=o.fontVariant=o.fontWeight=!0):("inherit"!=i[s]&&(r.fontVariant=i[s]),o.fontStyle=o.fontVariant=!0):("inherit"!=i[s]&&(r.fontStyle=i[s]),o.fontStyle=!0);return""!=a&&(r.fontFamily=a),r}},t.ToNumberArray=function(e){for(var n=t.trim(t.compressSpaces((e||"").replace(/,/g," "))).split(" "),r=0;r<n.length;r++)n[r]=parseFloat(n[r]);return n},t.Point=function(t,e){this.x=t,this.y=e},t.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},t.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],n=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=n},t.CreatePoint=function(e){var n=t.ToNumberArray(e);return new t.Point(n[0],n[1])},t.CreatePath=function(e){for(var n=t.ToNumberArray(e),r=[],i=0;i<n.length;i+=2)r.push(new t.Point(n[i],n[i+1]));return r},t.BoundingBox=function(t,e,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,n,r,i,o){var a=t+2/3*(n-t),s=e+2/3*(r-e),l=a+1/3*(i-t),u=s+1/3*(o-e);this.addBezierCurve(t,e,a,l,s,u,i,o)},this.addBezierCurve=function(t,e,n,r,o,a,s,l){var u=[t,e],c=[n,r],h=[o,a],d=[s,l];for(this.addPoint(u[0],u[1]),this.addPoint(d[0],d[1]),i=0;i<=1;i++){var f=function(t){return Math.pow(1-t,3)*u[i]+3*Math.pow(1-t,2)*t*c[i]+3*(1-t)*Math.pow(t,2)*h[i]+Math.pow(t,3)*d[i]},p=6*u[i]-12*c[i]+6*h[i],g=-3*u[i]+9*c[i]-9*h[i]+3*d[i],m=3*c[i]-3*u[i];if(0!=g){var v=Math.pow(p,2)-4*m*g;if(!(0>v)){var y=(-p+Math.sqrt(v))/(2*g);y>0&&1>y&&(0==i&&this.addX(f(y)),1==i&&this.addY(f(y)));var w=(-p-Math.sqrt(v))/(2*g);w>0&&1>w&&(0==i&&this.addX(f(w)),1==i&&this.addY(f(w)))}}else{if(0==p)continue;var b=-m/p;b>0&&1>b&&(0==i&&this.addX(f(b)),1==i&&this.addY(f(b)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(n,r)},t.Transform=function(e){var n=this;this.Type={},this.Type.translate=function(e){this.p=t.CreatePoint(e),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var n=t.ToNumberArray(e);this.angle=new t.Property("angle",n[0]),this.cx=n[1]||0,this.cy=n[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=t.CreatePoint(e),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=t.ToNumberArray(e),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=n.Type.matrix,this.base(e),this.angle=new t.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=n.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=n.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;e>=0;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)};for(var r=t.trim(t.compressSpaces(e)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<r.length;i++){var o=t.trim(r[i].split("(")[0]),a=r[i].split("(")[1].replace(")",""),s=new this.Type[o](a);s.type=o,this.transforms.push(s)}},t.AspectRatio=function(e,n,r,i,o,a,s,l,u,c){n=t.compressSpaces(n),n=n.replace(/^defer\s/,"");var h=n.split(" ")[0]||"xMidYMid",d=n.split(" ")[1]||"meet",f=r/i,p=o/a,g=Math.min(f,p),m=Math.max(f,p);"meet"==d&&(i*=g,a*=g),"slice"==d&&(i*=m,a*=m),u=new t.Property("refX",u),c=new t.Property("refY",c),u.hasValue()&&c.hasValue()?e.translate(-g*u.toPixels("x"),-g*c.toPixels("y")):(h.match(/^xMid/)&&("meet"==d&&g==p||"slice"==d&&m==p)&&e.translate(r/2-i/2,0),h.match(/YMid$/)&&("meet"==d&&g==f||"slice"==d&&m==f)&&e.translate(0,o/2-a/2),h.match(/^xMax/)&&("meet"==d&&g==p||"slice"==d&&m==p)&&e.translate(r-i,0),h.match(/YMax$/)&&("meet"==d&&g==f||"slice"==d&&m==f)&&e.translate(0,o-a)),"none"==h?e.scale(f,p):"meet"==d?e.scale(g,g):"slice"==d&&e.scale(m,m),e.translate(null==s?0:-s,null==l?0:-l)},t.Element={},t.EmptyProperty=new t.Property("EMPTY",""),t.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(e,n){var r=this.attributes[e];return null!=r?r:(1==n&&(r=new t.Property(e,""),this.attributes[e]=r),r||t.EmptyProperty)},this.getHrefAttribute=function(){for(var e in this.attributes)if(e.match(/:href$/))return this.attributes[e];return t.EmptyProperty},this.style=function(e,n){var r=this.styles[e];if(null!=r)return r;var i=this.attribute(e);if(null!=i&&i.hasValue())return this.styles[e]=i,i;var o=this.parent;if(null!=o){var a=o.style(e);if(null!=a&&a.hasValue())return a}return 1==n&&(r=new t.Property(e,""),this.styles[e]=r),r||t.EmptyProperty},this.render=function(t){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(t.save(),this.attribute("mask").hasValue()){var e=this.attribute("mask").getDefinition();null!=e&&e.apply(t,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(t,this)}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}},this.setContext=function(t){},this.clearContext=function(t){},this.renderChildren=function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},this.addChild=function(e,n){var r=e;n&&(r=t.CreateElement(e)),r.parent=this,this.children.push(r)},null!=e&&1==e.nodeType){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1==r.nodeType&&this.addChild(r,!0),this.captureTextNodes&&3==r.nodeType){var i=r.nodeValue||r.text||"";""!=t.trim(t.compressSpaces(i))&&this.addChild(new t.Element.tspan(r),!1)}}for(var n=0;n<e.attributes.length;n++){var o=e.attributes[n];this.attributes[o.nodeName]=new t.Property(o.nodeName,o.nodeValue)}var a=t.Styles[e.nodeName];if(null!=a)for(var s in a)this.styles[s]=a[s];if(this.attribute("class").hasValue())for(var l=t.compressSpaces(this.attribute("class").value).split(" "),u=0;u<l.length;u++){if(a=t.Styles["."+l[u]],null!=a)for(var s in a)this.styles[s]=a[s];if(a=t.Styles[e.nodeName+"."+l[u]],null!=a)for(var s in a)this.styles[s]=a[s]}if(this.attribute("id").hasValue()){var a=t.Styles["#"+this.attribute("id").value];if(null!=a)for(var s in a)this.styles[s]=a[s]}if(this.attribute("style").hasValue())for(var a=this.attribute("style").value.split(";"),n=0;n<a.length;n++)if(""!=t.trim(a[n])){var c=a[n].split(":"),s=t.trim(c[0]),h=t.trim(c[1]);this.styles[s]=new t.Property(s,h)}this.attribute("id").hasValue()&&null==t.Definitions[this.attribute("id").value]&&(t.Definitions[this.attribute("id").value]=this)}},t.Element.RenderedElementBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.setContext=function(e){if(this.style("fill").isUrlDefinition()){var n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=n&&(e.fillStyle=n)}else if(this.style("fill").hasValue()){var r=this.style("fill");"currentColor"==r.value&&(r.value=this.style("color").value),e.fillStyle="none"==r.value?"rgba(0,0,0,0)":r.value}if(this.style("fill-opacity").hasValue()){var r=new t.Property("fill",e.fillStyle);r=r.addOpacity(this.style("fill-opacity").value),e.fillStyle=r.value}if(this.style("stroke").isUrlDefinition()){var n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=n&&(e.strokeStyle=n)}else if(this.style("stroke").hasValue()){var i=this.style("stroke");"currentColor"==i.value&&(i.value=this.style("color").value),e.strokeStyle="none"==i.value?"rgba(0,0,0,0)":i.value}if(this.style("stroke-opacity").hasValue()){var i=new t.Property("stroke",e.strokeStyle);i=i.addOpacity(this.style("stroke-opacity").value),e.strokeStyle=i.value}if(this.style("stroke-width").hasValue()){var o=this.style("stroke-width").toPixels();e.lineWidth=0==o?.001:o}if(this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()){var a=t.ToNumberArray(this.style("stroke-dasharray").value);"undefined"!=typeof e.setLineDash?e.setLineDash(a):"undefined"!=typeof e.webkitLineDash?e.webkitLineDash=a:"undefined"!=typeof e.mozDash&&(e.mozDash=a);var s=this.style("stroke-dashoffset").numValueOrDefault(1);"undefined"!=typeof e.lineDashOffset?e.lineDashOffset=s:"undefined"!=typeof e.webkitLineDashOffset?e.webkitLineDashOffset=s:"undefined"!=typeof e.mozDashOffset&&(e.mozDashOffset=s)}if("undefined"!=typeof e.font&&(e.font=t.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var l=new t.Transform(this.attribute("transform").value);l.apply(e)}if(this.style("clip-path").hasValue()){var u=this.style("clip-path").getDefinition();null!=u&&u.apply(e)}this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},t.Element.RenderedElementBase.prototype=new t.Element.ElementBase,t.Element.PathElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new t.BoundingBox},this.renderChildren=function(e){this.path(e),t.Mouse.checkPath(this,e),""!=e.fillStyle&&(this.attribute("fill-rule").hasValue()?e.fill(this.attribute("fill-rule").value):e.fill()),""!=e.strokeStyle&&e.stroke();var n=this.getMarkers();if(null!=n){if(this.style("marker-start").isUrlDefinition()){var r=this.style("marker-start").getDefinition();r.render(e,n[0][0],n[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var r=this.style("marker-mid").getDefinition(),i=1;i<n.length-1;i++)r.render(e,n[i][0],n[i][1]);if(this.style("marker-end").isUrlDefinition()){var r=this.style("marker-end").getDefinition();r.render(e,n[n.length-1][0],n[n.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},t.Element.PathElementBase.prototype=new t.Element.RenderedElementBase,t.Element.svg=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),t.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var n=t.ViewPort.width(),r=t.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){n=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");var i=0,o=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(i=-this.attribute("refX").toPixels("x"),o=-this.attribute("refY").toPixels("y")),e.beginPath(),e.moveTo(i,o),e.lineTo(n,o),e.lineTo(n,r),e.lineTo(i,r),e.closePath(),e.clip()}if(t.ViewPort.SetCurrent(n,r),this.attribute("viewBox").hasValue()){var a=t.ToNumberArray(this.attribute("viewBox").value),s=a[0],l=a[1];n=a[2],r=a[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,t.ViewPort.width(),n,t.ViewPort.height(),r,s,l,this.attribute("refX").value,this.attribute("refY").value),t.ViewPort.RemoveCurrent(),t.ViewPort.SetCurrent(a[2],a[3])}}},t.Element.svg.prototype=new t.Element.RenderedElementBase,t.Element.rect=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y"),a=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=a),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(a=s),a=Math.min(a,i/2),s=Math.min(s,o/2),null!=e&&(e.beginPath(),e.moveTo(n+a,r),e.lineTo(n+i-a,r),e.quadraticCurveTo(n+i,r,n+i,r+s),e.lineTo(n+i,r+o-s),e.quadraticCurveTo(n+i,r+o,n+i-a,r+o),e.lineTo(n+a,r+o),e.quadraticCurveTo(n,r+o,n,r+o-s),e.lineTo(n,r+s),e.quadraticCurveTo(n,r,n+a,r),e.closePath()),new t.BoundingBox(n,r,n+i,r+o)}},t.Element.rect.prototype=new t.Element.PathElementBase,t.Element.circle=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=this.attribute("cx").toPixels("x"),r=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(n,r,i,0,2*Math.PI,!0),e.closePath()),new t.BoundingBox(n-i,r-i,n+i,r+i)}},t.Element.circle.prototype=new t.Element.PathElementBase,t.Element.ellipse=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=4*((Math.sqrt(2)-1)/3),r=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),o=this.attribute("cx").toPixels("x"),a=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(o,a-i),e.bezierCurveTo(o+n*r,a-i,o+r,a-n*i,o+r,a),e.bezierCurveTo(o+r,a+n*i,o+n*r,a+i,o,a+i),e.bezierCurveTo(o-n*r,a+i,o-r,a+n*i,o-r,a),e.bezierCurveTo(o-r,a-n*i,o-n*r,a-i,o,a-i),e.closePath()),new t.BoundingBox(o-r,a-i,o+r,a+i)}},t.Element.ellipse.prototype=new t.Element.PathElementBase,t.Element.line=function(e){this.base=t.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new t.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new t.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var n=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(n[0].x,n[0].y),e.lineTo(n[1].x,n[1].y)),new t.BoundingBox(n[0].x,n[0].y,n[1].x,n[1].y)},this.getMarkers=function(){var t=this.getPoints(),e=t[0].angleTo(t[1]);return[[t[0],e],[t[1],e]]}},t.Element.line.prototype=new t.Element.PathElementBase,t.Element.polyline=function(e){this.base=t.Element.PathElementBase,this.base(e),this.points=t.CreatePath(this.attribute("points").value),this.path=function(e){var n=new t.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var r=1;r<this.points.length;r++)n.addPoint(this.points[r].x,this.points[r].y),null!=e&&e.lineTo(this.points[r].x,this.points[r].y);return n},this.getMarkers=function(){for(var t=[],e=0;e<this.points.length-1;e++)t.push([this.points[e],this.points[e].angleTo(this.points[e+1])]);return t.push([this.points[this.points.length-1],t[t.length-1][1]]),t}},t.Element.polyline.prototype=new t.Element.PathElementBase,t.Element.polygon=function(e){this.base=t.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(t){var e=this.basePath(t);return null!=t&&(t.lineTo(this.points[0].x,this.points[0].y),t.closePath()),e}},t.Element.polygon.prototype=new t.Element.polyline,t.Element.path=function(e){this.base=t.Element.PathElementBase,this.base(e);var n=this.attribute("d").value;n=n.replace(/,/gm," "),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),n=n.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([0-9])([+\-])/gm,"$1 $2"),n=n.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),n=n.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=t.compressSpaces(n),n=t.trim(n),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new t.Point(0,0),this.control=new t.Point(0,0),this.current=new t.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new t.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase())return this.current;var e=new t.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return e},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}}(n),this.path=function(e){var n=this.PathParser;n.reset();var r=new t.BoundingBox;for(null!=e&&e.beginPath();!n.isEnd();)switch(n.nextCommand(),n.command){case"M":case"m":var i=n.getAsCurrentPoint();for(n.addMarker(i),r.addPoint(i.x,i.y),null!=e&&e.moveTo(i.x,i.y),n.start=n.current;!n.isCommandOrEnd();){var i=n.getAsCurrentPoint();n.addMarker(i,n.start),r.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"L":case"l":for(;!n.isCommandOrEnd();){var o=n.current,i=n.getAsCurrentPoint();n.addMarker(i,o),r.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"H":case"h":for(;!n.isCommandOrEnd();){var a=new t.Point((n.isRelativeCommand()?n.current.x:0)+n.getScalar(),n.current.y);n.addMarker(a,n.current),n.current=a,r.addPoint(n.current.x,n.current.y),null!=e&&e.lineTo(n.current.x,n.current.y)}break;case"V":case"v":for(;!n.isCommandOrEnd();){var a=new t.Point(n.current.x,(n.isRelativeCommand()?n.current.y:0)+n.getScalar());n.addMarker(a,n.current),n.current=a,r.addPoint(n.current.x,n.current.y),null!=e&&e.lineTo(n.current.x,n.current.y)}break;case"C":case"c":for(;!n.isCommandOrEnd();){var s=n.current,l=n.getPoint(),u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,l),r.addBezierCurve(s.x,s.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"S":case"s":for(;!n.isCommandOrEnd();){var s=n.current,l=n.getReflectedControlPoint(),u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,l),r.addBezierCurve(s.x,s.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"Q":case"q":for(;!n.isCommandOrEnd();){var s=n.current,u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,u),r.addQuadraticCurve(s.x,s.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y)}break;case"T":case"t":for(;!n.isCommandOrEnd();){var s=n.current,u=n.getReflectedControlPoint();n.control=u;var c=n.getAsCurrentPoint();n.addMarker(c,u,u),r.addQuadraticCurve(s.x,s.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y)}break;case"A":case"a":for(;!n.isCommandOrEnd();){var s=n.current,h=n.getScalar(),d=n.getScalar(),f=n.getScalar()*(Math.PI/180),p=n.getScalar(),g=n.getScalar(),c=n.getAsCurrentPoint(),m=new t.Point(Math.cos(f)*(s.x-c.x)/2+Math.sin(f)*(s.y-c.y)/2,-Math.sin(f)*(s.x-c.x)/2+Math.cos(f)*(s.y-c.y)/2),v=Math.pow(m.x,2)/Math.pow(h,2)+Math.pow(m.y,2)/Math.pow(d,2);v>1&&(h*=Math.sqrt(v),d*=Math.sqrt(v));var y=(p==g?-1:1)*Math.sqrt((Math.pow(h,2)*Math.pow(d,2)-Math.pow(h,2)*Math.pow(m.y,2)-Math.pow(d,2)*Math.pow(m.x,2))/(Math.pow(h,2)*Math.pow(m.y,2)+Math.pow(d,2)*Math.pow(m.x,2)));isNaN(y)&&(y=0);var w=new t.Point(y*h*m.y/d,y*-d*m.x/h),b=new t.Point((s.x+c.x)/2+Math.cos(f)*w.x-Math.sin(f)*w.y,(s.y+c.y)/2+Math.sin(f)*w.x+Math.cos(f)*w.y),x=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},C=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(x(t)*x(e))},_=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(C(t,e))},E=_([1,0],[(m.x-w.x)/h,(m.y-w.y)/d]),T=[(m.x-w.x)/h,(m.y-w.y)/d],k=[(-m.x-w.x)/h,(-m.y-w.y)/d],S=_(T,k);C(T,k)<=-1&&(S=Math.PI),C(T,k)>=1&&(S=0);var $=1-g?1:-1,M=E+$*(S/2),A=new t.Point(b.x+h*Math.cos(M),b.y+d*Math.sin(M));if(n.addMarkerAngle(A,M-$*Math.PI/2),n.addMarkerAngle(c,M-$*Math.PI),r.addPoint(c.x,c.y),null!=e){var C=h>d?h:d,R=h>d?1:h/d,D=h>d?d/h:1;e.translate(b.x,b.y),e.rotate(f),e.scale(R,D),e.arc(0,0,C,E,E+S,1-g),e.scale(1/R,1/D),e.rotate(-f),e.translate(-b.x,-b.y)}}break;case"Z":case"z":null!=e&&e.closePath(),n.current=n.start}return r},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),n=[],r=0;r<t.length;r++)n.push([t[r],e[r]]);return n}},t.Element.path.prototype=new t.Element.PathElementBase,t.Element.pattern=function(e){this.base=t.Element.ElementBase,this.base(e),this.createPattern=function(e,n){var r=this.attribute("width").toPixels("x",!0),i=this.attribute("height").toPixels("y",!0),o=new t.Element.svg;o.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),o.attributes.width=new t.Property("width",r+"px"),o.attributes.height=new t.Property("height",i+"px"),o.attributes.transform=new t.Property("transform",this.attribute("patternTransform").value),o.children=this.children;var a=document.createElement("canvas");a.width=r,a.height=i;var s=a.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&s.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var l=-1;1>=l;l++)for(var u=-1;1>=u;u++)s.save(),s.translate(l*a.width,u*a.height),o.render(s),s.restore();var c=e.createPattern(a,"repeat");return c}},t.Element.pattern.prototype=new t.Element.ElementBase,t.Element.marker=function(e){this.base=t.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,n,r){e.translate(n.x,n.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(r),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var i=new t.Element.svg;i.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new t.Property("refX",this.attribute("refX").value),i.attributes.refY=new t.Property("refY",this.attribute("refY").value),i.attributes.width=new t.Property("width",this.attribute("markerWidth").value),i.attributes.height=new t.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new t.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new t.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-r),e.translate(-n.x,-n.y)}},t.Element.marker.prototype=new t.Element.ElementBase,t.Element.defs=function(e){this.base=t.Element.ElementBase,this.base(e),this.render=function(t){}},t.Element.defs.prototype=new t.Element.ElementBase,t.Element.GradientBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var n=0;n<this.children.length;n++){var r=this.children[n];"stop"==r.type&&this.stops.push(r)}this.getGradient=function(){},this.createGradient=function(e,n,r){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition());var o=function(e){if(r.hasValue()){var n=new t.Property("color",e);return n.addOpacity(r.value).value}return e},a=this.getGradient(e,n);if(null==a)return o(i.stops[i.stops.length-1].color);for(var s=0;s<i.stops.length;s++)a.addColorStop(i.stops[s].offset,o(i.stops[s].color));if(this.attribute("gradientTransform").hasValue()){var l=t.ViewPort.viewPorts[0],u=new t.Element.rect;u.attributes.x=new t.Property("x",-t.MAX_VIRTUAL_PIXELS/3),u.attributes.y=new t.Property("y",-t.MAX_VIRTUAL_PIXELS/3),u.attributes.width=new t.Property("width",t.MAX_VIRTUAL_PIXELS),u.attributes.height=new t.Property("height",t.MAX_VIRTUAL_PIXELS);var c=new t.Element.g;c.attributes.transform=new t.Property("transform",this.attribute("gradientTransform").value),
c.children=[u];var h=new t.Element.svg;h.attributes.x=new t.Property("x",0),h.attributes.y=new t.Property("y",0),h.attributes.width=new t.Property("width",l.width),h.attributes.height=new t.Property("height",l.height),h.children=[c];var d=document.createElement("canvas");d.width=l.width,d.height=l.height;var f=d.getContext("2d");return f.fillStyle=a,h.render(f),f.createPattern(d,"no-repeat")}return a}},t.Element.GradientBase.prototype=new t.Element.ElementBase,t.Element.linearGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.getGradient=function(t,e){var n=e.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var r="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),i="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),o="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),a="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return r==o&&i==a?null:t.createLinearGradient(r,i,o,a)}},t.Element.linearGradient.prototype=new t.Element.GradientBase,t.Element.radialGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.getGradient=function(t,e){var n=e.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var r="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),i="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),o=r,a=i;this.attribute("fx").hasValue()&&(o="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(a="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var s="objectBoundingBox"==this.gradientUnits?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return t.createRadialGradient(o,a,0,r,i,s)}},t.Element.radialGradient.prototype=new t.Element.GradientBase,t.Element.stop=function(e){this.base=t.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var n=this.style("stop-color");this.style("stop-opacity").hasValue()&&(n=n.addOpacity(this.style("stop-opacity").value)),this.color=n.value},t.Element.stop.prototype=new t.Element.ElementBase,t.Element.AnimateBase=function(e){this.base=t.Element.ElementBase,this.base(e),t.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var t=this.attribute("attributeType").value,e=this.attribute("attributeName").value;return"CSS"==t?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(t){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value)return"remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed?!1:(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+t;var e=!1;if(this.begin<this.duration){var n=this.calcValue();if(this.attribute("type").hasValue()){var r=this.attribute("type").value;n=r+"("+n+")"}this.getProperty().value=n,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var n=e.progress*(this.values.value.length-1),r=Math.floor(n),i=Math.ceil(n);e.from=new t.Property("from",parseFloat(this.values.value[r])),e.to=new t.Property("to",parseFloat(this.values.value[i])),e.progress=(n-r)/(i-r)}else e.from=this.from,e.to=this.to;return e}},t.Element.AnimateBase.prototype=new t.Element.ElementBase,t.Element.animate=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var t=this.progress(),e=t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress;return e+this.initialUnits}},t.Element.animate.prototype=new t.Element.AnimateBase,t.Element.animateColor=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var t=this.progress(),e=new RGBColor(t.from.value),n=new RGBColor(t.to.value);if(e.ok&&n.ok){var r=e.r+(n.r-e.r)*t.progress,i=e.g+(n.g-e.g)*t.progress,o=e.b+(n.b-e.b)*t.progress;return"rgb("+parseInt(r,10)+","+parseInt(i,10)+","+parseInt(o,10)+")"}return this.attribute("from").value}},t.Element.animateColor.prototype=new t.Element.AnimateBase,t.Element.animateTransform=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),n=t.ToNumberArray(e.from.value),r=t.ToNumberArray(e.to.value),i="",o=0;o<n.length;o++)i+=n[o]+(r[o]-n[o])*e.progress+" ";return i}},t.Element.animateTransform.prototype=new t.Element.animate,t.Element.font=function(e){this.base=t.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var n=0;n<this.children.length;n++){var r=this.children[n];"font-face"==r.type?(this.fontFace=r,r.style("font-family").hasValue()&&(t.Definitions[r.style("font-family").value]=this)):"missing-glyph"==r.type?this.missingGlyph=r:"glyph"==r.type&&(""!=r.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[r.unicode]&&(this.glyphs[r.unicode]=[]),this.glyphs[r.unicode][r.arabicForm]=r):this.glyphs[r.unicode]=r)}},t.Element.font.prototype=new t.Element.ElementBase,t.Element.fontface=function(e){this.base=t.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},t.Element.fontface.prototype=new t.Element.ElementBase,t.Element.missingglyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=0},t.Element.missingglyph.prototype=new t.Element.path,t.Element.glyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},t.Element.glyph.prototype=new t.Element.path,t.Element.text=function(e){this.captureTextNodes=!0,this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.style("dominant-baseline").hasValue()&&(t.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(t.textBaseline=this.style("alignment-baseline").value)},this.getBoundingBox=function(){return new t.BoundingBox(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"),0,0)},this.renderChildren=function(t){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.x+=this.getAnchorDelta(t,this,0);for(var e=0;e<this.children.length;e++)this.renderChild(t,this,e)},this.getAnchorDelta=function(t,e,n){var r=this.style("text-anchor").valueOrDefault("start");if("start"!=r){for(var i=0,o=n;o<e.children.length;o++){var a=e.children[o];if(o>n&&a.attribute("x").hasValue())break;i+=a.measureTextRecursive(t)}return-1*("end"==r?i:i/2)}return 0},this.renderChild=function(t,e,n){var r=e.children[n];r.attribute("x").hasValue()?r.x=r.attribute("x").toPixels("x")+this.getAnchorDelta(t,e,n):(this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),r.attribute("dx").hasValue()&&(this.x+=r.attribute("dx").toPixels("x")),r.x=this.x),this.x=r.x+r.measureText(t),r.attribute("y").hasValue()?r.y=r.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),r.attribute("dy").hasValue()&&(this.y+=r.attribute("dy").toPixels("y")),r.y=this.y),this.y=r.y,r.render(t);for(var n=0;n<r.children.length;n++)this.renderChild(t,r,n)}},t.Element.text.prototype=new t.Element.RenderedElementBase,t.Element.TextElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getGlyph=function(t,e,n){var r=e[n],i=null;if(t.isArabic){var o="isolated";(0==n||" "==e[n-1])&&n<e.length-2&&" "!=e[n+1]&&(o="terminal"),n>0&&" "!=e[n-1]&&n<e.length-2&&" "!=e[n+1]&&(o="medial"),n>0&&" "!=e[n-1]&&(n==e.length-1||" "==e[n+1])&&(o="initial"),"undefined"!=typeof t.glyphs[r]&&(i=t.glyphs[r][o],null==i&&"glyph"==t.glyphs[r].type&&(i=t.glyphs[r]))}else i=t.glyphs[r];return null==i&&(i=t.missingGlyph),i},this.renderChildren=function(e){var n=this.parent.style("font-family").getDefinition();if(null==n)""!=e.fillStyle&&e.fillText(t.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(t.compressSpaces(this.getText()),this.x,this.y);else{var r=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(t.Font.Parse(t.ctx.font).fontStyle),o=this.getText();n.isRTL&&(o=o.split("").reverse().join(""));for(var a=t.ToNumberArray(this.parent.attribute("dx").value),s=0;s<o.length;s++){var l=this.getGlyph(n,o,s),u=r/n.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(u,-u);var c=e.lineWidth;e.lineWidth=e.lineWidth*n.fontFace.unitsPerEm/r,"italic"==i&&e.transform(1,0,.4,1,0,0),l.render(e),"italic"==i&&e.transform(1,0,-.4,1,0,0),e.lineWidth=c,e.scale(1/u,-1/u),e.translate(-this.x,-this.y),this.x+=r*(l.horizAdvX||n.horizAdvX)/n.fontFace.unitsPerEm,"undefined"==typeof a[s]||isNaN(a[s])||(this.x+=a[s])}}},this.getText=function(){},this.measureTextRecursive=function(t){for(var e=this.measureText(t),n=0;n<this.children.length;n++)e+=this.children[n].measureTextRecursive(t);return e},this.measureText=function(e){var n=this.parent.style("font-family").getDefinition();if(null!=n){var r=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),i=0,o=this.getText();n.isRTL&&(o=o.split("").reverse().join(""));for(var a=t.ToNumberArray(this.parent.attribute("dx").value),s=0;s<o.length;s++){var l=this.getGlyph(n,o,s);i+=(l.horizAdvX||n.horizAdvX)*r/n.fontFace.unitsPerEm,"undefined"==typeof a[s]||isNaN(a[s])||(i+=a[s])}return i}var u=t.compressSpaces(this.getText());if(!e.measureText)return 10*u.length;e.save(),this.setContext(e);var c=e.measureText(u).width;return e.restore(),c}},t.Element.TextElementBase.prototype=new t.Element.RenderedElementBase,t.Element.tspan=function(e){this.captureTextNodes=!0,this.base=t.Element.TextElementBase,this.base(e),this.text=e.nodeValue||e.text||"",this.getText=function(){return this.text}},t.Element.tspan.prototype=new t.Element.TextElementBase,t.Element.tref=function(e){this.base=t.Element.TextElementBase,this.base(e),this.getText=function(){var t=this.getHrefAttribute().getDefinition();return null!=t?t.children[0].getText():void 0}},t.Element.tref.prototype=new t.Element.TextElementBase,t.Element.a=function(e){this.base=t.Element.TextElementBase,this.base(e),this.hasText=!0;for(var n=0;n<e.childNodes.length;n++)3!=e.childNodes[n].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var n=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);t.Mouse.checkBoundingBox(this,new t.BoundingBox(this.x,this.y-n.toPixels("y"),this.x+this.measureText(e),this.y))}else{var r=new t.Element.g;r.children=this.children,r.parent=this,r.render(e)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){t.ctx.canvas.style.cursor="pointer"}},t.Element.a.prototype=new t.Element.TextElementBase,t.Element.image=function(e){this.base=t.Element.RenderedElementBase,this.base(e);var n=this.getHrefAttribute().value,r=n.match(/\.svg$/);if(t.Images.push(this),this.loaded=!1,r)this.img=t.ajax(n),this.loaded=!0;else{this.img=document.createElement("img");var i=this;this.img.onload=function(){i.loaded=!0},this.img.onerror=function(){"undefined"!=typeof console&&(console.log('ERROR: image "'+n+'" not found'),i.loaded=!0)},this.img.src=n}this.renderChildren=function(e){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y");0!=o&&0!=a&&(e.save(),r?e.drawSvg(this.img,n,i,o,a):(e.translate(n,i),t.AspectRatio(e,this.attribute("preserveAspectRatio").value,o,this.img.width,a,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new t.BoundingBox(e,n,e+r,n+i)}},t.Element.image.prototype=new t.Element.RenderedElementBase,t.Element.g=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new t.BoundingBox,n=0;n<this.children.length;n++)e.addBoundingBox(this.children[n].getBoundingBox());return e}},t.Element.g.prototype=new t.Element.RenderedElementBase,t.Element.symbol=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){if(this.baseSetContext(e),this.attribute("viewBox").hasValue()){var n=t.ToNumberArray(this.attribute("viewBox").value),r=n[0],i=n[1];width=n[2],height=n[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,r,i),t.ViewPort.SetCurrent(n[2],n[3])}}},t.Element.symbol.prototype=new t.Element.RenderedElementBase,t.Element.style=function(e){this.base=t.Element.ElementBase,this.base(e);for(var n="",r=0;r<e.childNodes.length;r++)n+=e.childNodes[r].nodeValue;n=n.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),n=t.compressSpaces(n);for(var i=n.split("}"),r=0;r<i.length;r++)if(""!=t.trim(i[r]))for(var o=i[r].split("{"),a=o[0].split(","),s=o[1].split(";"),l=0;l<a.length;l++){var u=t.trim(a[l]);if(""!=u){for(var c={},h=0;h<s.length;h++){var d=s[h].indexOf(":"),f=s[h].substr(0,d),p=s[h].substr(d+1,s[h].length-d);null!=f&&null!=p&&(c[t.trim(f)]=new t.Property(t.trim(f),t.trim(p)))}if(t.Styles[u]=c,"@font-face"==u)for(var g=c["font-family"].value.replace(/"/g,""),m=c.src.value.split(","),v=0;v<m.length;v++)if(m[v].indexOf('format("svg")')>0)for(var y=m[v].indexOf("url"),w=m[v].indexOf(")",y),b=m[v].substr(y+5,w-y-6),x=t.parseXml(t.ajax(b)),C=x.getElementsByTagName("font"),_=0;_<C.length;_++){var E=t.CreateElement(C[_]);t.Definitions[g]=E}}}},t.Element.style.prototype=new t.Element.ElementBase,t.Element.use=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var t=this.getHrefAttribute().getDefinition();return this.attribute("width").hasValue()&&(t.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(t.attribute("height",!0).value=this.attribute("height").value),t},this.path=function(t){var e=this.getDefinition();null!=e&&e.path(t)},this.getBoundingBox=function(){var t=this.getDefinition();return null!=t?t.getBoundingBox():void 0},this.renderChildren=function(t){var e=this.getDefinition();if(null!=e){var n=e.parent;e.parent=null,e.render(t),e.parent=n}}},t.Element.use.prototype=new t.Element.RenderedElementBase,t.Element.mask=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e,n){var r=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y");if(0==o&&0==a){for(var s=new t.BoundingBox,l=0;l<this.children.length;l++)s.addBoundingBox(this.children[l].getBoundingBox());var r=Math.floor(s.x1),i=Math.floor(s.y1),o=Math.floor(s.width()),a=Math.floor(s.height())}var u=n.attribute("mask").value;n.attribute("mask").value="";var c=document.createElement("canvas");c.width=r+o,c.height=i+a;var h=c.getContext("2d");this.renderChildren(h);var d=document.createElement("canvas");d.width=r+o,d.height=i+a;var f=d.getContext("2d");n.render(f),f.globalCompositeOperation="destination-in",f.fillStyle=h.createPattern(c,"no-repeat"),f.fillRect(0,0,r+o,i+a),e.fillStyle=f.createPattern(d,"no-repeat"),e.fillRect(0,0,r+o,i+a),n.attribute("mask").value=u},this.render=function(t){}},t.Element.mask.prototype=new t.Element.ElementBase,t.Element.clipPath=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e){for(var n=0;n<this.children.length;n++){var r=this.children[n];if("undefined"!=typeof r.path){var i=null;r.attribute("transform").hasValue()&&(i=new t.Transform(r.attribute("transform").value),i.apply(e)),r.path(e),e.clip(),i&&i.unapply(e)}}},this.render=function(t){}},t.Element.clipPath.prototype=new t.Element.ElementBase,t.Element.filter=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e){var n=e.getBoundingBox(),r=Math.floor(n.x1),i=Math.floor(n.y1),o=Math.floor(n.width()),a=Math.floor(n.height()),s=e.style("filter").value;e.style("filter").value="";for(var l=0,u=0,c=0;c<this.children.length;c++){var h=this.children[c].extraFilterDistance||0;l=Math.max(l,h),u=Math.max(u,h)}var d=document.createElement("canvas");d.width=o+2*l,d.height=a+2*u;var f=d.getContext("2d");f.translate(-r+l,-i+u),e.render(f);for(var c=0;c<this.children.length;c++)this.children[c].apply(f,0,0,o+2*l,a+2*u);t.drawImage(d,0,0,o+2*l,a+2*u,r-l,i-u,o+2*l,a+2*u),e.style("filter",!0).value=s},this.render=function(t){}},t.Element.filter.prototype=new t.Element.ElementBase,t.Element.feMorphology=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e,n,r,i){}},t.Element.feMorphology.prototype=new t.Element.ElementBase,t.Element.feColorMatrix=function(e){function n(t,e,n,r,i,o){return t[n*r*4+4*e+o]}function r(t,e,n,r,i,o,a){t[n*r*4+4*e+o]=a}this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e,i,o,a){for(var s=t.getImageData(0,0,o,a),i=0;a>i;i++)for(var e=0;o>e;e++){var l=n(s.data,e,i,o,a,0),u=n(s.data,e,i,o,a,1),c=n(s.data,e,i,o,a,2),h=(l+u+c)/3;r(s.data,e,i,o,a,0,h),r(s.data,e,i,o,a,1,h),r(s.data,e,i,o,a,2,h)}t.clearRect(0,0,o,a),t.putImageData(s,0,0)}},t.Element.feColorMatrix.prototype=new t.Element.ElementBase,t.Element.feGaussianBlur=function(e){this.base=t.Element.ElementBase,this.base(e),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(e,n,r,i,o){return"undefined"==typeof stackBlurCanvasRGBA?void("undefined"!=typeof console&&console.log("ERROR: StackBlur.js must be included for blur to work")):(e.canvas.id=t.UniqueId(),e.canvas.style.display="none",document.body.appendChild(e.canvas),stackBlurCanvasRGBA(e.canvas.id,n,r,i,o,this.blurRadius),void document.body.removeChild(e.canvas))}},t.Element.feGaussianBlur.prototype=new t.Element.ElementBase,t.Element.title=function(t){},t.Element.title.prototype=new t.Element.ElementBase,t.Element.desc=function(t){},t.Element.desc.prototype=new t.Element.ElementBase,t.Element.MISSING=function(t){"undefined"!=typeof console&&console.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")},t.Element.MISSING.prototype=new t.Element.ElementBase,t.CreateElement=function(e){var n=e.nodeName.replace(/^[^:]+:/,"");n=n.replace(/\-/g,"");var r=null;return r="undefined"!=typeof t.Element[n]?new t.Element[n](e):new t.Element.MISSING(e),r.type=e.nodeName,r},t.load=function(e,n){t.loadXml(e,t.ajax(n))},t.loadXml=function(e,n){t.loadXmlDoc(e,t.parseXml(n))},t.loadXmlDoc=function(e,n){t.init(e);var r=function(t){for(var n=e.canvas;n;)t.x-=n.offsetLeft,t.y-=n.offsetTop,n=n.offsetParent;return window.scrollX&&(t.x+=window.scrollX),window.scrollY&&(t.y+=window.scrollY),t};1!=t.opts.ignoreMouse&&(e.canvas.onclick=function(e){var n=r(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onclick(n.x,n.y)},e.canvas.onmousemove=function(e){var n=r(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onmousemove(n.x,n.y)});var i=t.CreateElement(n.documentElement);i.root=!0;var o=!0,a=function(){t.ViewPort.Clear(),e.canvas.parentNode&&t.ViewPort.SetCurrent(e.canvas.parentNode.clientWidth,e.canvas.parentNode.clientHeight),1!=t.opts.ignoreDimensions&&(i.style("width").hasValue()&&(e.canvas.width=i.style("width").toPixels("x"),e.canvas.style.width=e.canvas.width+"px"),i.style("height").hasValue()&&(e.canvas.height=i.style("height").toPixels("y"),e.canvas.style.height=e.canvas.height+"px"));var r=e.canvas.clientWidth||e.canvas.width,a=e.canvas.clientHeight||e.canvas.height;if(1==t.opts.ignoreDimensions&&i.style("width").hasValue()&&i.style("height").hasValue()&&(r=i.style("width").toPixels("x"),a=i.style("height").toPixels("y")),t.ViewPort.SetCurrent(r,a),null!=t.opts.offsetX&&(i.attribute("x",!0).value=t.opts.offsetX),null!=t.opts.offsetY&&(i.attribute("y",!0).value=t.opts.offsetY),null!=t.opts.scaleWidth&&null!=t.opts.scaleHeight){var s=1,l=1,u=t.ToNumberArray(i.attribute("viewBox").value);i.attribute("width").hasValue()?s=i.attribute("width").toPixels("x")/t.opts.scaleWidth:isNaN(u[2])||(s=u[2]/t.opts.scaleWidth),i.attribute("height").hasValue()?l=i.attribute("height").toPixels("y")/t.opts.scaleHeight:isNaN(u[3])||(l=u[3]/t.opts.scaleHeight),i.attribute("width",!0).value=t.opts.scaleWidth,i.attribute("height",!0).value=t.opts.scaleHeight,i.attribute("viewBox",!0).value="0 0 "+r*s+" "+a*l,i.attribute("preserveAspectRatio",!0).value="none"}1!=t.opts.ignoreClear&&e.clearRect(0,0,r,a),i.render(e),o&&(o=!1,"function"==typeof t.opts.renderCallback&&t.opts.renderCallback(n))},s=!0;t.ImagesLoaded()&&(s=!1,a()),t.intervalID=setInterval(function(){var e=!1;if(s&&t.ImagesLoaded()&&(s=!1,e=!0),1!=t.opts.ignoreMouse&&(e|=t.Mouse.hasEvents()),1!=t.opts.ignoreAnimation)for(var n=0;n<t.Animations.length;n++)e|=t.Animations[n].update(1e3/t.FRAMERATE);"function"==typeof t.opts.forceRedraw&&1==t.opts.forceRedraw()&&(e=!0),e&&(a(),t.Mouse.runEvents())},1e3/t.FRAMERATE)},t.stop=function(){t.intervalID&&clearInterval(t.intervalID)},t.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){t.onclick&&t.onclick()}})},this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){t.onmousemove&&t.onmousemove()}})},this.eventElements=[],this.checkPath=function(t,e){for(var n=0;n<this.events.length;n++){var r=this.events[n];e.isPointInPath&&e.isPointInPath(r.x,r.y)&&(this.eventElements[n]=t)}},this.checkBoundingBox=function(t,e){for(var n=0;n<this.events.length;n++){var r=this.events[n];e.isPointInBox(r.x,r.y)&&(this.eventElements[n]=t)}},this.runEvents=function(){t.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var n=this.events[e],r=this.eventElements[e];r;)n.run(r),r=r.parent;this.events=[],this.eventElements=[]}},t}this.canvg=function(e,n,r){if(null!=e||null!=n||null!=r){r=r||{},"string"==typeof e&&(e=document.getElementById(e)),null!=e.svg&&e.svg.stop();var i=t();(1!=e.childNodes.length||"OBJECT"!=e.childNodes[0].nodeName)&&(e.svg=i),i.opts=r;var o=e.getContext("2d");"undefined"!=typeof n.documentElement?i.loadXmlDoc(o,n):"<"==n.substr(0,1)?i.loadXml(o,n):i.load(o,n)}else for(var a=document.getElementsByTagName("svg"),s=0;s<a.length;s++){var l=a[s],u=document.createElement("canvas");u.width=l.clientWidth,u.height=l.clientHeight,l.parentNode.insertBefore(u,l),l.parentNode.removeChild(l);var c=document.createElement("div");c.appendChild(l),canvg(u,c.innerHTML)}}}(),"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,e,n,r,i){canvg(this.canvas,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:e,offsetY:n,scaleWidth:r,scaleHeight:i})});/*!

StackBlur - a fast almost Gaussian Blur For Canvas

Version: 	0.5
Author:		Mario Klingemann
Contact: 	mario@quasimondo.com
Website:	http://www.quasimondo.com/StackBlurForCanvas
Twitter:	@quasimondo

In case you find this class useful - especially in commercial projects -
I am not totally unhappy for a small donation to my PayPal account
mario@quasimondo.de

Or support me on flattr: 
https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript

Copyright (c) 2010 Mario Klingemann

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
*/
var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];/*!
 * canvg.js - Javascript SVG parser and renderer on Canvas
 * MIT Licensed 
 * Gabe Lerner (gabelerner@gmail.com)
 * http://code.google.com/p/canvg/
 *
 * Requires: rgbcolor.js - http://www.phpied.com/rgb-color-parser-in-javascript/
 */
!function(){function t(){var t={};return t.FRAMERATE=30,t.MAX_VIRTUAL_PIXELS=3e4,t.init=function(e){var n=0;t.UniqueId=function(){return n++,"canvg"+n},t.Definitions={},t.Styles={},t.Animations=[],t.Images=[],t.ctx=e,t.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(t){return null!=t&&"number"==typeof t?t:"x"==t?this.width():"y"==t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},t.init(),t.ImagesLoaded=function(){for(var e=0;e<t.Images.length;e++)if(!t.Images[e].loaded)return!1;return!0},t.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},t.compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},t.ajax=function(t){var e;return e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e?(e.open("GET",t,!1),e.send(null),e.responseText):null},t.parseXml=function(t){if(window.DOMParser){var e=new DOMParser;return e.parseFromString(t,"text/xml")}t=t.replace(/<!DOCTYPE svg[^>]*>/,"");var n=new ActiveXObject("Microsoft.XMLDOM");return n.async="false",n.loadXML(t),n},t.Property=function(t,e){this.name=t,this.value=e},t.Property.prototype.getValue=function(){return this.value},t.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},t.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);return(this.value+"").match(/%$/)&&(t/=100),t},t.Property.prototype.valueOrDefault=function(t){return this.hasValue()?this.value:t},t.Property.prototype.numValueOrDefault=function(t){return this.hasValue()?this.numValue():t},t.Property.prototype.addOpacity=function(e){var n=this.value;if(null!=e&&""!=e&&"string"==typeof this.value){var r=new RGBColor(this.value);r.ok&&(n="rgba("+r.r+", "+r.g+", "+r.b+", "+e+")")}return new t.Property(this.name,n)},t.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=this.value),t.Definitions[e]},t.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},t.Property.prototype.getFillStyleDefinition=function(e,n){var r=this.getDefinition();if(null!=r&&r.createGradient)return r.createGradient(t.ctx,e,n);if(null!=r&&r.createPattern){if(r.getHrefAttribute().hasValue()){var i=r.attribute("patternTransform");r=r.getHrefAttribute().getDefinition(),i.hasValue()&&(r.attribute("patternTransform",!0).value=i.value)}return r.createPattern(t.ctx,e)}return null},t.Property.prototype.getDPI=function(){return 96},t.Property.prototype.getEM=function(e){var n=12,r=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);return r.hasValue()&&(n=r.toPixels(e)),n},t.Property.prototype.getUnits=function(){var t=this.value+"";return t.replace(/[0-9\.\-]/g,"")},t.Property.prototype.toPixels=function(e,n){if(!this.hasValue())return 0;var r=this.value+"";if(r.match(/em$/))return this.numValue()*this.getEM(e);if(r.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(r.match(/px$/))return this.numValue();if(r.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(r.match(/pc$/))return 15*this.numValue();if(r.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(r.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(r.match(/in$/))return this.numValue()*this.getDPI(e);if(r.match(/%$/))return this.numValue()*t.ViewPort.ComputeSize(e);var i=this.numValue();return n&&1>i?i*t.ViewPort.ComputeSize(e):i},t.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/s$/)?1e3*this.numValue():(t.match(/ms$/),this.numValue())},t.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/deg$/)?this.numValue()*(Math.PI/180):t.match(/grad$/)?this.numValue()*(Math.PI/200):t.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},t.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,n,r,i,o,a){var s=null!=a?this.Parse(a):this.CreateFont("","","","","",t.ctx.font);return{fontFamily:o||s.fontFamily,fontSize:i||s.fontSize,fontStyle:e||s.fontStyle,fontWeight:r||s.fontWeight,fontVariant:n||s.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var e=this;this.Parse=function(n){for(var r={},i=t.trim(t.compressSpaces(n||"")).split(" "),o={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},a="",s=0;s<i.length;s++)o.fontStyle||-1==e.Styles.indexOf(i[s])?o.fontVariant||-1==e.Variants.indexOf(i[s])?o.fontWeight||-1==e.Weights.indexOf(i[s])?o.fontSize?"inherit"!=i[s]&&(a+=i[s]):("inherit"!=i[s]&&(r.fontSize=i[s].split("/")[0]),o.fontStyle=o.fontVariant=o.fontWeight=o.fontSize=!0):("inherit"!=i[s]&&(r.fontWeight=i[s]),o.fontStyle=o.fontVariant=o.fontWeight=!0):("inherit"!=i[s]&&(r.fontVariant=i[s]),o.fontStyle=o.fontVariant=!0):("inherit"!=i[s]&&(r.fontStyle=i[s]),o.fontStyle=!0);return""!=a&&(r.fontFamily=a),r}},t.ToNumberArray=function(e){for(var n=t.trim(t.compressSpaces((e||"").replace(/,/g," "))).split(" "),r=0;r<n.length;r++)n[r]=parseFloat(n[r]);return n},t.Point=function(t,e){this.x=t,this.y=e},t.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},t.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],n=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=n},t.CreatePoint=function(e){var n=t.ToNumberArray(e);return new t.Point(n[0],n[1])},t.CreatePath=function(e){for(var n=t.ToNumberArray(e),r=[],i=0;i<n.length;i+=2)r.push(new t.Point(n[i],n[i+1]));return r},t.BoundingBox=function(t,e,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,n,r,i,o){var a=t+2/3*(n-t),s=e+2/3*(r-e),l=a+1/3*(i-t),u=s+1/3*(o-e);this.addBezierCurve(t,e,a,l,s,u,i,o)},this.addBezierCurve=function(t,e,n,r,o,a,s,l){var u=[t,e],c=[n,r],h=[o,a],d=[s,l];for(this.addPoint(u[0],u[1]),this.addPoint(d[0],d[1]),i=0;1>=i;i++){var f=function(t){return Math.pow(1-t,3)*u[i]+3*Math.pow(1-t,2)*t*c[i]+3*(1-t)*Math.pow(t,2)*h[i]+Math.pow(t,3)*d[i]},p=6*u[i]-12*c[i]+6*h[i],g=-3*u[i]+9*c[i]-9*h[i]+3*d[i],m=3*c[i]-3*u[i];if(0!=g){var v=Math.pow(p,2)-4*m*g;if(!(0>v)){var y=(-p+Math.sqrt(v))/(2*g);y>0&&1>y&&(0==i&&this.addX(f(y)),1==i&&this.addY(f(y)));var w=(-p-Math.sqrt(v))/(2*g);w>0&&1>w&&(0==i&&this.addX(f(w)),1==i&&this.addY(f(w)))}}else{if(0==p)continue;var b=-m/p;b>0&&1>b&&(0==i&&this.addX(f(b)),1==i&&this.addY(f(b)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(n,r)},t.Transform=function(e){var n=this;this.Type={},this.Type.translate=function(e){this.p=t.CreatePoint(e),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var n=t.ToNumberArray(e);this.angle=new t.Property("angle",n[0]),this.cx=n[1]||0,this.cy=n[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=t.CreatePoint(e),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=t.ToNumberArray(e),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=n.Type.matrix,this.base(e),this.angle=new t.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=n.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=n.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;e>=0;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)};for(var r=t.trim(t.compressSpaces(e)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<r.length;i++){var o=t.trim(r[i].split("(")[0]),a=r[i].split("(")[1].replace(")",""),s=new this.Type[o](a);s.type=o,this.transforms.push(s)}},t.AspectRatio=function(e,n,r,i,o,a,s,l,u,c){n=t.compressSpaces(n),n=n.replace(/^defer\s/,"");var h=n.split(" ")[0]||"xMidYMid",d=n.split(" ")[1]||"meet",f=r/i,p=o/a,g=Math.min(f,p),m=Math.max(f,p);"meet"==d&&(i*=g,a*=g),"slice"==d&&(i*=m,a*=m),u=new t.Property("refX",u),c=new t.Property("refY",c),u.hasValue()&&c.hasValue()?e.translate(-g*u.toPixels("x"),-g*c.toPixels("y")):(h.match(/^xMid/)&&("meet"==d&&g==p||"slice"==d&&m==p)&&e.translate(r/2-i/2,0),h.match(/YMid$/)&&("meet"==d&&g==f||"slice"==d&&m==f)&&e.translate(0,o/2-a/2),h.match(/^xMax/)&&("meet"==d&&g==p||"slice"==d&&m==p)&&e.translate(r-i,0),h.match(/YMax$/)&&("meet"==d&&g==f||"slice"==d&&m==f)&&e.translate(0,o-a)),"none"==h?e.scale(f,p):"meet"==d?e.scale(g,g):"slice"==d&&e.scale(m,m),e.translate(null==s?0:-s,null==l?0:-l)},t.Element={},t.EmptyProperty=new t.Property("EMPTY",""),t.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(e,n){var r=this.attributes[e];return null!=r?r:(1==n&&(r=new t.Property(e,""),this.attributes[e]=r),r||t.EmptyProperty)},this.getHrefAttribute=function(){for(var e in this.attributes)if(e.match(/:href$/))return this.attributes[e];return t.EmptyProperty},this.style=function(e,n){var r=this.styles[e];if(null!=r)return r;var i=this.attribute(e);if(null!=i&&i.hasValue())return this.styles[e]=i,i;var o=this.parent;if(null!=o){var a=o.style(e);if(null!=a&&a.hasValue())return a}return 1==n&&(r=new t.Property(e,""),this.styles[e]=r),r||t.EmptyProperty},this.render=function(t){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(t.save(),this.attribute("mask").hasValue()){var e=this.attribute("mask").getDefinition();null!=e&&e.apply(t,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(t,this)}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}},this.setContext=function(){},this.clearContext=function(){},this.renderChildren=function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},this.addChild=function(e,n){var r=e;n&&(r=t.CreateElement(e)),r.parent=this,this.children.push(r)},null!=e&&1==e.nodeType){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1==r.nodeType&&this.addChild(r,!0),this.captureTextNodes&&3==r.nodeType){var i=r.nodeValue||r.text||"";""!=t.trim(t.compressSpaces(i))&&this.addChild(new t.Element.tspan(r),!1)}}for(var n=0;n<e.attributes.length;n++){var o=e.attributes[n];this.attributes[o.nodeName]=new t.Property(o.nodeName,o.nodeValue)}var a=t.Styles[e.nodeName];if(null!=a)for(var s in a)this.styles[s]=a[s];if(this.attribute("class").hasValue())for(var l=t.compressSpaces(this.attribute("class").value).split(" "),u=0;u<l.length;u++){if(a=t.Styles["."+l[u]],null!=a)for(var s in a)this.styles[s]=a[s];if(a=t.Styles[e.nodeName+"."+l[u]],null!=a)for(var s in a)this.styles[s]=a[s]}if(this.attribute("id").hasValue()){var a=t.Styles["#"+this.attribute("id").value];if(null!=a)for(var s in a)this.styles[s]=a[s]}if(this.attribute("style").hasValue())for(var a=this.attribute("style").value.split(";"),n=0;n<a.length;n++)if(""!=t.trim(a[n])){var c=a[n].split(":"),s=t.trim(c[0]),h=t.trim(c[1]);this.styles[s]=new t.Property(s,h)}this.attribute("id").hasValue()&&null==t.Definitions[this.attribute("id").value]&&(t.Definitions[this.attribute("id").value]=this)}},t.Element.RenderedElementBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.setContext=function(e){if(this.style("fill").isUrlDefinition()){var n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=n&&(e.fillStyle=n)}else if(this.style("fill").hasValue()){var r=this.style("fill");"currentColor"==r.value&&(r.value=this.style("color").value),e.fillStyle="none"==r.value?"rgba(0,0,0,0)":r.value}if(this.style("fill-opacity").hasValue()){var r=new t.Property("fill",e.fillStyle);r=r.addOpacity(this.style("fill-opacity").value),e.fillStyle=r.value}if(this.style("stroke").isUrlDefinition()){var n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=n&&(e.strokeStyle=n)}else if(this.style("stroke").hasValue()){var i=this.style("stroke");"currentColor"==i.value&&(i.value=this.style("color").value),e.strokeStyle="none"==i.value?"rgba(0,0,0,0)":i.value}if(this.style("stroke-opacity").hasValue()){var i=new t.Property("stroke",e.strokeStyle);i=i.addOpacity(this.style("stroke-opacity").value),e.strokeStyle=i.value}if(this.style("stroke-width").hasValue()){var o=this.style("stroke-width").toPixels();e.lineWidth=0==o?.001:o}if(this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()){var a=t.ToNumberArray(this.style("stroke-dasharray").value);"undefined"!=typeof e.setLineDash?e.setLineDash(a):"undefined"!=typeof e.webkitLineDash?e.webkitLineDash=a:"undefined"!=typeof e.mozDash&&(e.mozDash=a);var s=this.style("stroke-dashoffset").numValueOrDefault(1);"undefined"!=typeof e.lineDashOffset?e.lineDashOffset=s:"undefined"!=typeof e.webkitLineDashOffset?e.webkitLineDashOffset=s:"undefined"!=typeof e.mozDashOffset&&(e.mozDashOffset=s)}if("undefined"!=typeof e.font&&(e.font=t.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var l=new t.Transform(this.attribute("transform").value);l.apply(e)}if(this.style("clip-path").hasValue()){var u=this.style("clip-path").getDefinition();null!=u&&u.apply(e)}this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},t.Element.RenderedElementBase.prototype=new t.Element.ElementBase,t.Element.PathElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new t.BoundingBox},this.renderChildren=function(e){this.path(e),t.Mouse.checkPath(this,e),""!=e.fillStyle&&(this.attribute("fill-rule").hasValue()?e.fill(this.attribute("fill-rule").value):e.fill()),""!=e.strokeStyle&&e.stroke();var n=this.getMarkers();if(null!=n){if(this.style("marker-start").isUrlDefinition()){var r=this.style("marker-start").getDefinition();r.render(e,n[0][0],n[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var r=this.style("marker-mid").getDefinition(),i=1;i<n.length-1;i++)r.render(e,n[i][0],n[i][1]);if(this.style("marker-end").isUrlDefinition()){var r=this.style("marker-end").getDefinition();r.render(e,n[n.length-1][0],n[n.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},t.Element.PathElementBase.prototype=new t.Element.RenderedElementBase,t.Element.svg=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),t.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var n=t.ViewPort.width(),r=t.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){n=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");var i=0,o=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(i=-this.attribute("refX").toPixels("x"),o=-this.attribute("refY").toPixels("y")),e.beginPath(),e.moveTo(i,o),e.lineTo(n,o),e.lineTo(n,r),e.lineTo(i,r),e.closePath(),e.clip()}if(t.ViewPort.SetCurrent(n,r),this.attribute("viewBox").hasValue()){var a=t.ToNumberArray(this.attribute("viewBox").value),s=a[0],l=a[1];n=a[2],r=a[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,t.ViewPort.width(),n,t.ViewPort.height(),r,s,l,this.attribute("refX").value,this.attribute("refY").value),t.ViewPort.RemoveCurrent(),t.ViewPort.SetCurrent(a[2],a[3])}}},t.Element.svg.prototype=new t.Element.RenderedElementBase,t.Element.rect=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y"),a=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=a),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(a=s),a=Math.min(a,i/2),s=Math.min(s,o/2),null!=e&&(e.beginPath(),e.moveTo(n+a,r),e.lineTo(n+i-a,r),e.quadraticCurveTo(n+i,r,n+i,r+s),e.lineTo(n+i,r+o-s),e.quadraticCurveTo(n+i,r+o,n+i-a,r+o),e.lineTo(n+a,r+o),e.quadraticCurveTo(n,r+o,n,r+o-s),e.lineTo(n,r+s),e.quadraticCurveTo(n,r,n+a,r),e.closePath()),new t.BoundingBox(n,r,n+i,r+o)}},t.Element.rect.prototype=new t.Element.PathElementBase,t.Element.circle=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=this.attribute("cx").toPixels("x"),r=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(n,r,i,0,2*Math.PI,!0),e.closePath()),new t.BoundingBox(n-i,r-i,n+i,r+i)}},t.Element.circle.prototype=new t.Element.PathElementBase,t.Element.ellipse=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=4*((Math.sqrt(2)-1)/3),r=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),o=this.attribute("cx").toPixels("x"),a=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(o,a-i),e.bezierCurveTo(o+n*r,a-i,o+r,a-n*i,o+r,a),e.bezierCurveTo(o+r,a+n*i,o+n*r,a+i,o,a+i),e.bezierCurveTo(o-n*r,a+i,o-r,a+n*i,o-r,a),e.bezierCurveTo(o-r,a-n*i,o-n*r,a-i,o,a-i),e.closePath()),new t.BoundingBox(o-r,a-i,o+r,a+i)}},t.Element.ellipse.prototype=new t.Element.PathElementBase,t.Element.line=function(e){this.base=t.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new t.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new t.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var n=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(n[0].x,n[0].y),e.lineTo(n[1].x,n[1].y)),new t.BoundingBox(n[0].x,n[0].y,n[1].x,n[1].y)},this.getMarkers=function(){var t=this.getPoints(),e=t[0].angleTo(t[1]);return[[t[0],e],[t[1],e]]}},t.Element.line.prototype=new t.Element.PathElementBase,t.Element.polyline=function(e){this.base=t.Element.PathElementBase,this.base(e),this.points=t.CreatePath(this.attribute("points").value),this.path=function(e){var n=new t.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var r=1;r<this.points.length;r++)n.addPoint(this.points[r].x,this.points[r].y),null!=e&&e.lineTo(this.points[r].x,this.points[r].y);return n},this.getMarkers=function(){for(var t=[],e=0;e<this.points.length-1;e++)t.push([this.points[e],this.points[e].angleTo(this.points[e+1])]);return t.push([this.points[this.points.length-1],t[t.length-1][1]]),t}},t.Element.polyline.prototype=new t.Element.PathElementBase,t.Element.polygon=function(e){this.base=t.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(t){var e=this.basePath(t);return null!=t&&(t.lineTo(this.points[0].x,this.points[0].y),t.closePath()),e}},t.Element.polygon.prototype=new t.Element.polyline,t.Element.path=function(e){this.base=t.Element.PathElementBase,this.base(e);var n=this.attribute("d").value;n=n.replace(/,/gm," "),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),n=n.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([0-9])([+\-])/gm,"$1 $2"),n=n.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),n=n.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=t.compressSpaces(n),n=t.trim(n),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new t.Point(0,0),this.control=new t.Point(0,0),this.current=new t.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new t.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase())return this.current;var e=new t.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return e},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}}(n),this.path=function(e){var n=this.PathParser;n.reset();var r=new t.BoundingBox;for(null!=e&&e.beginPath();!n.isEnd();)switch(n.nextCommand(),n.command){case"M":case"m":var i=n.getAsCurrentPoint();for(n.addMarker(i),r.addPoint(i.x,i.y),null!=e&&e.moveTo(i.x,i.y),n.start=n.current;!n.isCommandOrEnd();){var i=n.getAsCurrentPoint();n.addMarker(i,n.start),r.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"L":case"l":for(;!n.isCommandOrEnd();){var o=n.current,i=n.getAsCurrentPoint();n.addMarker(i,o),r.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"H":case"h":for(;!n.isCommandOrEnd();){var a=new t.Point((n.isRelativeCommand()?n.current.x:0)+n.getScalar(),n.current.y);n.addMarker(a,n.current),n.current=a,r.addPoint(n.current.x,n.current.y),null!=e&&e.lineTo(n.current.x,n.current.y)}break;case"V":case"v":for(;!n.isCommandOrEnd();){var a=new t.Point(n.current.x,(n.isRelativeCommand()?n.current.y:0)+n.getScalar());n.addMarker(a,n.current),n.current=a,r.addPoint(n.current.x,n.current.y),null!=e&&e.lineTo(n.current.x,n.current.y)}break;case"C":case"c":for(;!n.isCommandOrEnd();){var s=n.current,l=n.getPoint(),u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,l),r.addBezierCurve(s.x,s.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"S":case"s":for(;!n.isCommandOrEnd();){var s=n.current,l=n.getReflectedControlPoint(),u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,l),r.addBezierCurve(s.x,s.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"Q":case"q":for(;!n.isCommandOrEnd();){var s=n.current,u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,u),r.addQuadraticCurve(s.x,s.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y)}break;case"T":case"t":for(;!n.isCommandOrEnd();){var s=n.current,u=n.getReflectedControlPoint();n.control=u;var c=n.getAsCurrentPoint();n.addMarker(c,u,u),r.addQuadraticCurve(s.x,s.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y)}break;case"A":case"a":for(;!n.isCommandOrEnd();){var s=n.current,h=n.getScalar(),d=n.getScalar(),f=n.getScalar()*(Math.PI/180),p=n.getScalar(),g=n.getScalar(),c=n.getAsCurrentPoint(),m=new t.Point(Math.cos(f)*(s.x-c.x)/2+Math.sin(f)*(s.y-c.y)/2,-Math.sin(f)*(s.x-c.x)/2+Math.cos(f)*(s.y-c.y)/2),v=Math.pow(m.x,2)/Math.pow(h,2)+Math.pow(m.y,2)/Math.pow(d,2);v>1&&(h*=Math.sqrt(v),d*=Math.sqrt(v));var y=(p==g?-1:1)*Math.sqrt((Math.pow(h,2)*Math.pow(d,2)-Math.pow(h,2)*Math.pow(m.y,2)-Math.pow(d,2)*Math.pow(m.x,2))/(Math.pow(h,2)*Math.pow(m.y,2)+Math.pow(d,2)*Math.pow(m.x,2)));isNaN(y)&&(y=0);var w=new t.Point(y*h*m.y/d,y*-d*m.x/h),b=new t.Point((s.x+c.x)/2+Math.cos(f)*w.x-Math.sin(f)*w.y,(s.y+c.y)/2+Math.sin(f)*w.x+Math.cos(f)*w.y),x=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},C=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(x(t)*x(e))},_=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(C(t,e))},E=_([1,0],[(m.x-w.x)/h,(m.y-w.y)/d]),T=[(m.x-w.x)/h,(m.y-w.y)/d],k=[(-m.x-w.x)/h,(-m.y-w.y)/d],S=_(T,k);C(T,k)<=-1&&(S=Math.PI),C(T,k)>=1&&(S=0);var $=1-g?1:-1,M=E+$*(S/2),A=new t.Point(b.x+h*Math.cos(M),b.y+d*Math.sin(M));if(n.addMarkerAngle(A,M-$*Math.PI/2),n.addMarkerAngle(c,M-$*Math.PI),r.addPoint(c.x,c.y),null!=e){var C=h>d?h:d,R=h>d?1:h/d,D=h>d?d/h:1;e.translate(b.x,b.y),e.rotate(f),e.scale(R,D),e.arc(0,0,C,E,E+S,1-g),e.scale(1/R,1/D),e.rotate(-f),e.translate(-b.x,-b.y)}}break;case"Z":case"z":null!=e&&e.closePath(),n.current=n.start}return r},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),n=[],r=0;r<t.length;r++)n.push([t[r],e[r]]);return n}},t.Element.path.prototype=new t.Element.PathElementBase,t.Element.pattern=function(e){this.base=t.Element.ElementBase,this.base(e),this.createPattern=function(e){var n=this.attribute("width").toPixels("x",!0),r=this.attribute("height").toPixels("y",!0),i=new t.Element.svg;i.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),i.attributes.width=new t.Property("width",n+"px"),i.attributes.height=new t.Property("height",r+"px"),i.attributes.transform=new t.Property("transform",this.attribute("patternTransform").value),i.children=this.children;var o=document.createElement("canvas");o.width=n,o.height=r;var a=o.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&a.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var s=-1;1>=s;s++)for(var l=-1;1>=l;l++)a.save(),a.translate(s*o.width,l*o.height),i.render(a),a.restore();var u=e.createPattern(o,"repeat");return u}},t.Element.pattern.prototype=new t.Element.ElementBase,t.Element.marker=function(e){this.base=t.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,n,r){e.translate(n.x,n.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(r),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var i=new t.Element.svg;i.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new t.Property("refX",this.attribute("refX").value),i.attributes.refY=new t.Property("refY",this.attribute("refY").value),i.attributes.width=new t.Property("width",this.attribute("markerWidth").value),i.attributes.height=new t.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new t.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new t.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-r),e.translate(-n.x,-n.y)}},t.Element.marker.prototype=new t.Element.ElementBase,t.Element.defs=function(e){this.base=t.Element.ElementBase,this.base(e),this.render=function(){}},t.Element.defs.prototype=new t.Element.ElementBase,t.Element.GradientBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var n=0;n<this.children.length;n++){var r=this.children[n];"stop"==r.type&&this.stops.push(r)}this.getGradient=function(){},this.createGradient=function(e,n,r){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition());var o=function(e){if(r.hasValue()){var n=new t.Property("color",e);return n.addOpacity(r.value).value}return e},a=this.getGradient(e,n);if(null==a)return o(i.stops[i.stops.length-1].color);for(var s=0;s<i.stops.length;s++)a.addColorStop(i.stops[s].offset,o(i.stops[s].color));if(this.attribute("gradientTransform").hasValue()){var l=t.ViewPort.viewPorts[0],u=new t.Element.rect;u.attributes.x=new t.Property("x",-t.MAX_VIRTUAL_PIXELS/3),u.attributes.y=new t.Property("y",-t.MAX_VIRTUAL_PIXELS/3),u.attributes.width=new t.Property("width",t.MAX_VIRTUAL_PIXELS),u.attributes.height=new t.Property("height",t.MAX_VIRTUAL_PIXELS);var c=new t.Element.g;c.attributes.transform=new t.Property("transform",this.attribute("gradientTransform").value),c.children=[u];

var h=new t.Element.svg;h.attributes.x=new t.Property("x",0),h.attributes.y=new t.Property("y",0),h.attributes.width=new t.Property("width",l.width),h.attributes.height=new t.Property("height",l.height),h.children=[c];var d=document.createElement("canvas");d.width=l.width,d.height=l.height;var f=d.getContext("2d");return f.fillStyle=a,h.render(f),f.createPattern(d,"no-repeat")}return a}},t.Element.GradientBase.prototype=new t.Element.ElementBase,t.Element.linearGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.getGradient=function(t,e){var n=e.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var r="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),i="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),o="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),a="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return r==o&&i==a?null:t.createLinearGradient(r,i,o,a)}},t.Element.linearGradient.prototype=new t.Element.GradientBase,t.Element.radialGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.getGradient=function(t,e){var n=e.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var r="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),i="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),o=r,a=i;this.attribute("fx").hasValue()&&(o="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(a="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var s="objectBoundingBox"==this.gradientUnits?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return t.createRadialGradient(o,a,0,r,i,s)}},t.Element.radialGradient.prototype=new t.Element.GradientBase,t.Element.stop=function(e){this.base=t.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var n=this.style("stop-color");this.style("stop-opacity").hasValue()&&(n=n.addOpacity(this.style("stop-opacity").value)),this.color=n.value},t.Element.stop.prototype=new t.Element.ElementBase,t.Element.AnimateBase=function(e){this.base=t.Element.ElementBase,this.base(e),t.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var t=this.attribute("attributeType").value,e=this.attribute("attributeName").value;return"CSS"==t?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(t){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value)return"remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed?!1:(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+t;var e=!1;if(this.begin<this.duration){var n=this.calcValue();if(this.attribute("type").hasValue()){var r=this.attribute("type").value;n=r+"("+n+")"}this.getProperty().value=n,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var n=e.progress*(this.values.value.length-1),r=Math.floor(n),i=Math.ceil(n);e.from=new t.Property("from",parseFloat(this.values.value[r])),e.to=new t.Property("to",parseFloat(this.values.value[i])),e.progress=(n-r)/(i-r)}else e.from=this.from,e.to=this.to;return e}},t.Element.AnimateBase.prototype=new t.Element.ElementBase,t.Element.animate=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var t=this.progress(),e=t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress;return e+this.initialUnits}},t.Element.animate.prototype=new t.Element.AnimateBase,t.Element.animateColor=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var t=this.progress(),e=new RGBColor(t.from.value),n=new RGBColor(t.to.value);if(e.ok&&n.ok){var r=e.r+(n.r-e.r)*t.progress,i=e.g+(n.g-e.g)*t.progress,o=e.b+(n.b-e.b)*t.progress;return"rgb("+parseInt(r,10)+","+parseInt(i,10)+","+parseInt(o,10)+")"}return this.attribute("from").value}},t.Element.animateColor.prototype=new t.Element.AnimateBase,t.Element.animateTransform=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),n=t.ToNumberArray(e.from.value),r=t.ToNumberArray(e.to.value),i="",o=0;o<n.length;o++)i+=n[o]+(r[o]-n[o])*e.progress+" ";return i}},t.Element.animateTransform.prototype=new t.Element.animate,t.Element.font=function(e){this.base=t.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var n=0;n<this.children.length;n++){var r=this.children[n];"font-face"==r.type?(this.fontFace=r,r.style("font-family").hasValue()&&(t.Definitions[r.style("font-family").value]=this)):"missing-glyph"==r.type?this.missingGlyph=r:"glyph"==r.type&&(""!=r.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[r.unicode]&&(this.glyphs[r.unicode]=[]),this.glyphs[r.unicode][r.arabicForm]=r):this.glyphs[r.unicode]=r)}},t.Element.font.prototype=new t.Element.ElementBase,t.Element.fontface=function(e){this.base=t.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},t.Element.fontface.prototype=new t.Element.ElementBase,t.Element.missingglyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=0},t.Element.missingglyph.prototype=new t.Element.path,t.Element.glyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},t.Element.glyph.prototype=new t.Element.path,t.Element.text=function(e){this.captureTextNodes=!0,this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.style("dominant-baseline").hasValue()&&(t.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(t.textBaseline=this.style("alignment-baseline").value)},this.getBoundingBox=function(){return new t.BoundingBox(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"),0,0)},this.renderChildren=function(t){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.x+=this.getAnchorDelta(t,this,0);for(var e=0;e<this.children.length;e++)this.renderChild(t,this,e)},this.getAnchorDelta=function(t,e,n){var r=this.style("text-anchor").valueOrDefault("start");if("start"!=r){for(var i=0,o=n;o<e.children.length;o++){var a=e.children[o];if(o>n&&a.attribute("x").hasValue())break;i+=a.measureTextRecursive(t)}return-1*("end"==r?i:i/2)}return 0},this.renderChild=function(t,e,n){var r=e.children[n];r.attribute("x").hasValue()?r.x=r.attribute("x").toPixels("x")+this.getAnchorDelta(t,e,n):(this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),r.attribute("dx").hasValue()&&(this.x+=r.attribute("dx").toPixels("x")),r.x=this.x),this.x=r.x+r.measureText(t),r.attribute("y").hasValue()?r.y=r.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),r.attribute("dy").hasValue()&&(this.y+=r.attribute("dy").toPixels("y")),r.y=this.y),this.y=r.y,r.render(t);for(var n=0;n<r.children.length;n++)this.renderChild(t,r,n)}},t.Element.text.prototype=new t.Element.RenderedElementBase,t.Element.TextElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getGlyph=function(t,e,n){var r=e[n],i=null;if(t.isArabic){var o="isolated";(0==n||" "==e[n-1])&&n<e.length-2&&" "!=e[n+1]&&(o="terminal"),n>0&&" "!=e[n-1]&&n<e.length-2&&" "!=e[n+1]&&(o="medial"),n>0&&" "!=e[n-1]&&(n==e.length-1||" "==e[n+1])&&(o="initial"),"undefined"!=typeof t.glyphs[r]&&(i=t.glyphs[r][o],null==i&&"glyph"==t.glyphs[r].type&&(i=t.glyphs[r]))}else i=t.glyphs[r];return null==i&&(i=t.missingGlyph),i},this.renderChildren=function(e){var n=this.parent.style("font-family").getDefinition();if(null==n)""!=e.fillStyle&&e.fillText(t.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(t.compressSpaces(this.getText()),this.x,this.y);else{var r=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(t.Font.Parse(t.ctx.font).fontStyle),o=this.getText();n.isRTL&&(o=o.split("").reverse().join(""));for(var a=t.ToNumberArray(this.parent.attribute("dx").value),s=0;s<o.length;s++){var l=this.getGlyph(n,o,s),u=r/n.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(u,-u);var c=e.lineWidth;e.lineWidth=e.lineWidth*n.fontFace.unitsPerEm/r,"italic"==i&&e.transform(1,0,.4,1,0,0),l.render(e),"italic"==i&&e.transform(1,0,-.4,1,0,0),e.lineWidth=c,e.scale(1/u,-1/u),e.translate(-this.x,-this.y),this.x+=r*(l.horizAdvX||n.horizAdvX)/n.fontFace.unitsPerEm,"undefined"==typeof a[s]||isNaN(a[s])||(this.x+=a[s])}}},this.getText=function(){},this.measureTextRecursive=function(t){for(var e=this.measureText(t),n=0;n<this.children.length;n++)e+=this.children[n].measureTextRecursive(t);return e},this.measureText=function(e){var n=this.parent.style("font-family").getDefinition();if(null!=n){var r=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),i=0,o=this.getText();n.isRTL&&(o=o.split("").reverse().join(""));for(var a=t.ToNumberArray(this.parent.attribute("dx").value),s=0;s<o.length;s++){var l=this.getGlyph(n,o,s);i+=(l.horizAdvX||n.horizAdvX)*r/n.fontFace.unitsPerEm,"undefined"==typeof a[s]||isNaN(a[s])||(i+=a[s])}return i}var u=t.compressSpaces(this.getText());if(!e.measureText)return 10*u.length;e.save(),this.setContext(e);var c=e.measureText(u).width;return e.restore(),c}},t.Element.TextElementBase.prototype=new t.Element.RenderedElementBase,t.Element.tspan=function(e){this.captureTextNodes=!0,this.base=t.Element.TextElementBase,this.base(e),this.text=e.nodeValue||e.text||"",this.getText=function(){return this.text}},t.Element.tspan.prototype=new t.Element.TextElementBase,t.Element.tref=function(e){this.base=t.Element.TextElementBase,this.base(e),this.getText=function(){var t=this.getHrefAttribute().getDefinition();return null!=t?t.children[0].getText():void 0}},t.Element.tref.prototype=new t.Element.TextElementBase,t.Element.a=function(e){this.base=t.Element.TextElementBase,this.base(e),this.hasText=!0;for(var n=0;n<e.childNodes.length;n++)3!=e.childNodes[n].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var n=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);t.Mouse.checkBoundingBox(this,new t.BoundingBox(this.x,this.y-n.toPixels("y"),this.x+this.measureText(e),this.y))}else{var r=new t.Element.g;r.children=this.children,r.parent=this,r.render(e)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){t.ctx.canvas.style.cursor="pointer"}},t.Element.a.prototype=new t.Element.TextElementBase,t.Element.image=function(e){this.base=t.Element.RenderedElementBase,this.base(e);var n=this.getHrefAttribute().value,r=n.match(/\.svg$/);if(t.Images.push(this),this.loaded=!1,r)this.img=t.ajax(n),this.loaded=!0;else{this.img=document.createElement("img");var i=this;this.img.onload=function(){i.loaded=!0},this.img.onerror=function(){"undefined"!=typeof console&&(console.log('ERROR: image "'+n+'" not found'),i.loaded=!0)},this.img.src=n}this.renderChildren=function(e){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y");0!=o&&0!=a&&(e.save(),r?e.drawSvg(this.img,n,i,o,a):(e.translate(n,i),t.AspectRatio(e,this.attribute("preserveAspectRatio").value,o,this.img.width,a,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new t.BoundingBox(e,n,e+r,n+i)}},t.Element.image.prototype=new t.Element.RenderedElementBase,t.Element.g=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new t.BoundingBox,n=0;n<this.children.length;n++)e.addBoundingBox(this.children[n].getBoundingBox());return e}},t.Element.g.prototype=new t.Element.RenderedElementBase,t.Element.symbol=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){if(this.baseSetContext(e),this.attribute("viewBox").hasValue()){var n=t.ToNumberArray(this.attribute("viewBox").value),r=n[0],i=n[1];width=n[2],height=n[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,r,i),t.ViewPort.SetCurrent(n[2],n[3])}}},t.Element.symbol.prototype=new t.Element.RenderedElementBase,t.Element.style=function(e){this.base=t.Element.ElementBase,this.base(e);for(var n="",r=0;r<e.childNodes.length;r++)n+=e.childNodes[r].nodeValue;n=n.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),n=t.compressSpaces(n);for(var i=n.split("}"),r=0;r<i.length;r++)if(""!=t.trim(i[r]))for(var o=i[r].split("{"),a=o[0].split(","),s=o[1].split(";"),l=0;l<a.length;l++){var u=t.trim(a[l]);if(""!=u){for(var c={},h=0;h<s.length;h++){var d=s[h].indexOf(":"),f=s[h].substr(0,d),p=s[h].substr(d+1,s[h].length-d);null!=f&&null!=p&&(c[t.trim(f)]=new t.Property(t.trim(f),t.trim(p)))}if(t.Styles[u]=c,"@font-face"==u)for(var g=c["font-family"].value.replace(/"/g,""),m=c.src.value.split(","),v=0;v<m.length;v++)if(m[v].indexOf('format("svg")')>0)for(var y=m[v].indexOf("url"),w=m[v].indexOf(")",y),b=m[v].substr(y+5,w-y-6),x=t.parseXml(t.ajax(b)),C=x.getElementsByTagName("font"),_=0;_<C.length;_++){var E=t.CreateElement(C[_]);t.Definitions[g]=E}}}},t.Element.style.prototype=new t.Element.ElementBase,t.Element.use=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var t=this.getHrefAttribute().getDefinition();return this.attribute("width").hasValue()&&(t.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(t.attribute("height",!0).value=this.attribute("height").value),t},this.path=function(t){var e=this.getDefinition();null!=e&&e.path(t)},this.getBoundingBox=function(){var t=this.getDefinition();return null!=t?t.getBoundingBox():void 0},this.renderChildren=function(t){var e=this.getDefinition();if(null!=e){var n=e.parent;e.parent=null,e.render(t),e.parent=n}}},t.Element.use.prototype=new t.Element.RenderedElementBase,t.Element.mask=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e,n){var r=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y");if(0==o&&0==a){for(var s=new t.BoundingBox,l=0;l<this.children.length;l++)s.addBoundingBox(this.children[l].getBoundingBox());var r=Math.floor(s.x1),i=Math.floor(s.y1),o=Math.floor(s.width()),a=Math.floor(s.height())}var u=n.attribute("mask").value;n.attribute("mask").value="";var c=document.createElement("canvas");c.width=r+o,c.height=i+a;var h=c.getContext("2d");this.renderChildren(h);var d=document.createElement("canvas");d.width=r+o,d.height=i+a;var f=d.getContext("2d");n.render(f),f.globalCompositeOperation="destination-in",f.fillStyle=h.createPattern(c,"no-repeat"),f.fillRect(0,0,r+o,i+a),e.fillStyle=f.createPattern(d,"no-repeat"),e.fillRect(0,0,r+o,i+a),n.attribute("mask").value=u},this.render=function(){}},t.Element.mask.prototype=new t.Element.ElementBase,t.Element.clipPath=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e){for(var n=0;n<this.children.length;n++){var r=this.children[n];if("undefined"!=typeof r.path){var i=null;r.attribute("transform").hasValue()&&(i=new t.Transform(r.attribute("transform").value),i.apply(e)),r.path(e),e.clip(),i&&i.unapply(e)}}},this.render=function(){}},t.Element.clipPath.prototype=new t.Element.ElementBase,t.Element.filter=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e){var n=e.getBoundingBox(),r=Math.floor(n.x1),i=Math.floor(n.y1),o=Math.floor(n.width()),a=Math.floor(n.height()),s=e.style("filter").value;e.style("filter").value="";for(var l=0,u=0,c=0;c<this.children.length;c++){var h=this.children[c].extraFilterDistance||0;l=Math.max(l,h),u=Math.max(u,h)}var d=document.createElement("canvas");d.width=o+2*l,d.height=a+2*u;var f=d.getContext("2d");f.translate(-r+l,-i+u),e.render(f);for(var c=0;c<this.children.length;c++)this.children[c].apply(f,0,0,o+2*l,a+2*u);t.drawImage(d,0,0,o+2*l,a+2*u,r-l,i-u,o+2*l,a+2*u),e.style("filter",!0).value=s},this.render=function(){}},t.Element.filter.prototype=new t.Element.ElementBase,t.Element.feMorphology=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(){}},t.Element.feMorphology.prototype=new t.Element.ElementBase,t.Element.feColorMatrix=function(e){function n(t,e,n,r,i,o){return t[n*r*4+4*e+o]}function r(t,e,n,r,i,o,a){t[n*r*4+4*e+o]=a}this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e,i,o,a){for(var s=t.getImageData(0,0,o,a),i=0;a>i;i++)for(var e=0;o>e;e++){var l=n(s.data,e,i,o,a,0),u=n(s.data,e,i,o,a,1),c=n(s.data,e,i,o,a,2),h=(l+u+c)/3;r(s.data,e,i,o,a,0,h),r(s.data,e,i,o,a,1,h),r(s.data,e,i,o,a,2,h)}t.clearRect(0,0,o,a),t.putImageData(s,0,0)}},t.Element.feColorMatrix.prototype=new t.Element.ElementBase,t.Element.feGaussianBlur=function(e){this.base=t.Element.ElementBase,this.base(e),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(e,n,r,i,o){return"undefined"==typeof stackBlurCanvasRGBA?void("undefined"!=typeof console&&console.log("ERROR: StackBlur.js must be included for blur to work")):(e.canvas.id=t.UniqueId(),e.canvas.style.display="none",document.body.appendChild(e.canvas),stackBlurCanvasRGBA(e.canvas.id,n,r,i,o,this.blurRadius),void document.body.removeChild(e.canvas))}},t.Element.feGaussianBlur.prototype=new t.Element.ElementBase,t.Element.title=function(){},t.Element.title.prototype=new t.Element.ElementBase,t.Element.desc=function(){},t.Element.desc.prototype=new t.Element.ElementBase,t.Element.MISSING=function(t){"undefined"!=typeof console&&console.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")},t.Element.MISSING.prototype=new t.Element.ElementBase,t.CreateElement=function(e){var n=e.nodeName.replace(/^[^:]+:/,"");n=n.replace(/\-/g,"");var r=null;return r="undefined"!=typeof t.Element[n]?new t.Element[n](e):new t.Element.MISSING(e),r.type=e.nodeName,r},t.load=function(e,n){t.loadXml(e,t.ajax(n))},t.loadXml=function(e,n){t.loadXmlDoc(e,t.parseXml(n))},t.loadXmlDoc=function(e,n){t.init(e);var r=function(t){for(var n=e.canvas;n;)t.x-=n.offsetLeft,t.y-=n.offsetTop,n=n.offsetParent;return window.scrollX&&(t.x+=window.scrollX),window.scrollY&&(t.y+=window.scrollY),t};1!=t.opts.ignoreMouse&&(e.canvas.onclick=function(e){var n=r(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onclick(n.x,n.y)},e.canvas.onmousemove=function(e){var n=r(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onmousemove(n.x,n.y)});var i=t.CreateElement(n.documentElement);i.root=!0;var o=!0,a=function(){t.ViewPort.Clear(),e.canvas.parentNode&&t.ViewPort.SetCurrent(e.canvas.parentNode.clientWidth,e.canvas.parentNode.clientHeight),1!=t.opts.ignoreDimensions&&(i.style("width").hasValue()&&(e.canvas.width=i.style("width").toPixels("x"),e.canvas.style.width=e.canvas.width+"px"),i.style("height").hasValue()&&(e.canvas.height=i.style("height").toPixels("y"),e.canvas.style.height=e.canvas.height+"px"));var r=e.canvas.clientWidth||e.canvas.width,a=e.canvas.clientHeight||e.canvas.height;if(1==t.opts.ignoreDimensions&&i.style("width").hasValue()&&i.style("height").hasValue()&&(r=i.style("width").toPixels("x"),a=i.style("height").toPixels("y")),t.ViewPort.SetCurrent(r,a),null!=t.opts.offsetX&&(i.attribute("x",!0).value=t.opts.offsetX),null!=t.opts.offsetY&&(i.attribute("y",!0).value=t.opts.offsetY),null!=t.opts.scaleWidth&&null!=t.opts.scaleHeight){var s=1,l=1,u=t.ToNumberArray(i.attribute("viewBox").value);i.attribute("width").hasValue()?s=i.attribute("width").toPixels("x")/t.opts.scaleWidth:isNaN(u[2])||(s=u[2]/t.opts.scaleWidth),i.attribute("height").hasValue()?l=i.attribute("height").toPixels("y")/t.opts.scaleHeight:isNaN(u[3])||(l=u[3]/t.opts.scaleHeight),i.attribute("width",!0).value=t.opts.scaleWidth,i.attribute("height",!0).value=t.opts.scaleHeight,i.attribute("viewBox",!0).value="0 0 "+r*s+" "+a*l,i.attribute("preserveAspectRatio",!0).value="none"}1!=t.opts.ignoreClear&&e.clearRect(0,0,r,a),i.render(e),o&&(o=!1,"function"==typeof t.opts.renderCallback&&t.opts.renderCallback(n))},s=!0;t.ImagesLoaded()&&(s=!1,a()),t.intervalID=setInterval(function(){var e=!1;if(s&&t.ImagesLoaded()&&(s=!1,e=!0),1!=t.opts.ignoreMouse&&(e|=t.Mouse.hasEvents()),1!=t.opts.ignoreAnimation)for(var n=0;n<t.Animations.length;n++)e|=t.Animations[n].update(1e3/t.FRAMERATE);"function"==typeof t.opts.forceRedraw&&1==t.opts.forceRedraw()&&(e=!0),e&&(a(),t.Mouse.runEvents())},1e3/t.FRAMERATE)},t.stop=function(){t.intervalID&&clearInterval(t.intervalID)},t.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){t.onclick&&t.onclick()}})},this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){t.onmousemove&&t.onmousemove()}})},this.eventElements=[],this.checkPath=function(t,e){for(var n=0;n<this.events.length;n++){var r=this.events[n];e.isPointInPath&&e.isPointInPath(r.x,r.y)&&(this.eventElements[n]=t)}},this.checkBoundingBox=function(t,e){for(var n=0;n<this.events.length;n++){var r=this.events[n];e.isPointInBox(r.x,r.y)&&(this.eventElements[n]=t)}},this.runEvents=function(){t.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var n=this.events[e],r=this.eventElements[e];r;)n.run(r),r=r.parent;this.events=[],this.eventElements=[]}},t}this.canvg=function(e,n,r){if(null!=e||null!=n||null!=r){r=r||{},"string"==typeof e&&(e=document.getElementById(e)),null!=e.svg&&e.svg.stop();var i=t();(1!=e.childNodes.length||"OBJECT"!=e.childNodes[0].nodeName)&&(e.svg=i),i.opts=r;var o=e.getContext("2d");"undefined"!=typeof n.documentElement?i.loadXmlDoc(o,n):"<"==n.substr(0,1)?i.loadXml(o,n):i.load(o,n)}else for(var a=document.getElementsByTagName("svg"),s=0;s<a.length;s++){var l=a[s],u=document.createElement("canvas");u.width=l.clientWidth,u.height=l.clientHeight,l.parentNode.insertBefore(u,l),l.parentNode.removeChild(l);var c=document.createElement("div");c.appendChild(l),canvg(u,c.innerHTML)}}}(),"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,e,n,r,i){canvg(this.canvas,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:e,offsetY:n,scaleWidth:r,scaleHeight:i})}),/*
 * jQuery MiniColors: A tiny color picker built on jQuery
 *
 * Copyright Cory LaViska for A Beautiful Site, LLC. (http://www.abeautifulsite.net/)
 *
 * Licensed under the MIT license: http://opensource.org/licenses/MIT
 *
 */
jQuery&&function(t){function e(e,n){var r=t('<div class="minicolors" />'),i=t.minicolors.defaults;e.data("minicolors-initialized")||(n=t.extend(!0,{},i,n),r.addClass("minicolors-theme-"+n.theme).toggleClass("minicolors-with-opacity",n.opacity).toggleClass("minicolors-no-data-uris",n.dataUris!==!0),void 0!==n.position&&t.each(n.position.split(" "),function(){r.addClass("minicolors-position-"+this)}),e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",n).prop("size",7).wrap(r).after('<div class="minicolors-panel minicolors-slider-'+n.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),n.inline||(e.after('<span class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-swatch").on("click",function(t){t.preventDefault(),e.focus()})),e.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),n.inline&&e.parent().addClass("minicolors-inline"),s(e,!1),e.data("minicolors-initialized",!0))}function n(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function r(t){var e=t.parent(),n=e.find(".minicolors-panel"),r=t.data("minicolors-settings");!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(i(),e.addClass("minicolors-focus"),n.stop(!0,!0).fadeIn(r.showSpeed,function(){r.show&&r.show.call(t.get(0))}))}function i(){t(".minicolors-focus").each(function(){var e=t(this),n=e.find(".minicolors-input"),r=e.find(".minicolors-panel"),i=n.data("minicolors-settings");r.fadeOut(i.hideSpeed,function(){i.hide&&i.hide.call(n.get(0)),e.removeClass("minicolors-focus")})})}function o(t,e,n){var r,i,o,s,l=t.parents(".minicolors").find(".minicolors-input"),u=l.data("minicolors-settings"),c=t.find("[class$=-picker]"),h=t.offset().left,d=t.offset().top,f=Math.round(e.pageX-h),p=Math.round(e.pageY-d),g=n?u.animationSpeed:0;e.originalEvent.changedTouches&&(f=e.originalEvent.changedTouches[0].pageX-h,p=e.originalEvent.changedTouches[0].pageY-d),0>f&&(f=0),0>p&&(p=0),f>t.width()&&(f=t.width()),p>t.height()&&(p=t.height()),t.parent().is(".minicolors-slider-wheel")&&c.parent().is(".minicolors-grid")&&(r=75-f,i=75-p,o=Math.sqrt(r*r+i*i),s=Math.atan2(i,r),0>s&&(s+=2*Math.PI),o>75&&(o=75,f=75-75*Math.cos(s),p=75-75*Math.sin(s)),f=Math.round(f),p=Math.round(p)),t.is(".minicolors-grid")?c.stop(!0).animate({top:p+"px",left:f+"px"},g,u.animationEasing,function(){a(l,t)}):c.stop(!0).animate({top:p+"px"},g,u.animationEasing,function(){a(l,t)})}function a(t,e){function n(t,e){var n,r;return t.length&&e?(n=t.offset().left,r=t.offset().top,{x:n-e.offset().left+t.outerWidth()/2,y:r-e.offset().top+t.outerHeight()/2}):null}var r,i,o,a,s,u,c,d=t.val(),p=t.attr("data-opacity"),g=t.parent(),v=t.data("minicolors-settings"),y=g.find(".minicolors-swatch"),w=g.find(".minicolors-grid"),b=g.find(".minicolors-slider"),x=g.find(".minicolors-opacity-slider"),C=w.find("[class$=-picker]"),_=b.find("[class$=-picker]"),E=x.find("[class$=-picker]"),T=n(C,w),k=n(_,b),S=n(E,x);if(e.is(".minicolors-grid, .minicolors-slider")){switch(v.control){case"wheel":a=w.width()/2-T.x,s=w.height()/2-T.y,u=Math.sqrt(a*a+s*s),c=Math.atan2(s,a),0>c&&(c+=2*Math.PI),u>75&&(u=75,T.x=69-75*Math.cos(c),T.y=69-75*Math.sin(c)),i=f(u/.75,0,100),r=f(180*c/Math.PI,0,360),o=f(100-Math.floor(k.y*(100/b.height())),0,100),d=m({h:r,s:i,b:o}),b.css("backgroundColor",m({h:r,s:i,b:100}));break;case"saturation":r=f(parseInt(T.x*(360/w.width()),10),0,360),i=f(100-Math.floor(k.y*(100/b.height())),0,100),o=f(100-Math.floor(T.y*(100/w.height())),0,100),d=m({h:r,s:i,b:o}),b.css("backgroundColor",m({h:r,s:100,b:o})),g.find(".minicolors-grid-inner").css("opacity",i/100);break;case"brightness":r=f(parseInt(T.x*(360/w.width()),10),0,360),i=f(100-Math.floor(T.y*(100/w.height())),0,100),o=f(100-Math.floor(k.y*(100/b.height())),0,100),d=m({h:r,s:i,b:o}),b.css("backgroundColor",m({h:r,s:i,b:100})),g.find(".minicolors-grid-inner").css("opacity",1-o/100);break;default:r=f(360-parseInt(k.y*(360/b.height()),10),0,360),i=f(Math.floor(T.x*(100/w.width())),0,100),o=f(100-Math.floor(T.y*(100/w.height())),0,100),d=m({h:r,s:i,b:o}),w.css("backgroundColor",m({h:r,s:100,b:100}))}t.val(h(d,v.letterCase))}e.is(".minicolors-opacity-slider")&&(p=v.opacity?parseFloat(1-S.y/x.height()).toFixed(2):1,v.opacity&&t.attr("data-opacity",p)),y.find("SPAN").css({backgroundColor:d,opacity:p}),l(t,d,p)}function s(t,e){var n,r,i,o,a,s,u,c=t.parent(),p=t.data("minicolors-settings"),g=c.find(".minicolors-swatch"),y=c.find(".minicolors-grid"),w=c.find(".minicolors-slider"),b=c.find(".minicolors-opacity-slider"),x=y.find("[class$=-picker]"),C=w.find("[class$=-picker]"),_=b.find("[class$=-picker]");switch(n=h(d(t.val(),!0),p.letterCase),n||(n=h(d(p.defaultValue,!0),p.letterCase)),r=v(n),e||t.val(n),p.opacity&&(i=""===t.attr("data-opacity")?1:f(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(i)&&(i=1),t.attr("data-opacity",i),g.find("SPAN").css("opacity",i),a=f(b.height()-b.height()*i,0,b.height()),_.css("top",a+"px")),g.find("SPAN").css("backgroundColor",n),p.control){case"wheel":s=f(Math.ceil(.75*r.s),0,y.height()/2),u=r.h*Math.PI/180,o=f(75-Math.cos(u)*s,0,y.width()),a=f(75-Math.sin(u)*s,0,y.height()),x.css({top:a+"px",left:o+"px"}),a=150-r.b/(100/y.height()),""===n&&(a=0),C.css("top",a+"px"),w.css("backgroundColor",m({h:r.h,s:r.s,b:100}));break;case"saturation":o=f(5*r.h/12,0,150),a=f(y.height()-Math.ceil(r.b/(100/y.height())),0,y.height()),x.css({top:a+"px",left:o+"px"}),a=f(w.height()-r.s*(w.height()/100),0,w.height()),C.css("top",a+"px"),w.css("backgroundColor",m({h:r.h,s:100,b:r.b})),c.find(".minicolors-grid-inner").css("opacity",r.s/100);break;case"brightness":o=f(5*r.h/12,0,150),a=f(y.height()-Math.ceil(r.s/(100/y.height())),0,y.height()),x.css({top:a+"px",left:o+"px"}),a=f(w.height()-r.b*(w.height()/100),0,w.height()),C.css("top",a+"px"),w.css("backgroundColor",m({h:r.h,s:r.s,b:100})),c.find(".minicolors-grid-inner").css("opacity",1-r.b/100);break;default:o=f(Math.ceil(r.s/(100/y.width())),0,y.width()),a=f(y.height()-Math.ceil(r.b/(100/y.height())),0,y.height()),x.css({top:a+"px",left:o+"px"}),a=f(w.height()-r.h/(360/w.height()),0,w.height()),C.css("top",a+"px"),y.css("backgroundColor",m({h:r.h,s:100,b:100}))}t.data("minicolors-initialized")&&l(t,n,i)}function l(t,e,n){var r=t.data("minicolors-settings"),i=t.data("minicolors-lastChange");i&&i.hex===e&&i.opacity===n||(t.data("minicolors-lastChange",{hex:e,opacity:n}),r.change&&(r.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout(function(){r.change.call(t.get(0),e,n)},r.changeDelay))):r.change.call(t.get(0),e,n)),t.trigger("change").trigger("input"))}function u(e){var n=d(t(e).val(),!0),r=w(n),i=t(e).attr("data-opacity");return r?(void 0!==i&&t.extend(r,{a:parseFloat(i)}),r):null}function c(e,n){var r=d(t(e).val(),!0),i=w(r),o=t(e).attr("data-opacity");return i?(void 0===o&&(o=1),n?"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(o)+")":"rgb("+i.r+", "+i.g+", "+i.b+")"):null}function h(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function d(t,e){return t=t.replace(/[^A-F0-9]/gi,""),3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t)}function f(t,e,n){return e>t&&(t=e),t>n&&(t=n),t}function p(t){var e={},n=Math.round(t.h),r=Math.round(255*t.s/100),i=Math.round(255*t.b/100);if(0===r)e.r=e.g=e.b=i;else{var o=i,a=(255-r)*i/255,s=(o-a)*(n%60)/60;360===n&&(n=0),60>n?(e.r=o,e.b=a,e.g=a+s):120>n?(e.g=o,e.b=a,e.r=o-s):180>n?(e.g=o,e.r=a,e.b=a+s):240>n?(e.b=o,e.r=a,e.g=o-s):300>n?(e.b=o,e.g=a,e.r=a+s):360>n?(e.r=o,e.g=a,e.b=o-s):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}function g(e){var n=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(n,function(t,e){1===e.length&&(n[t]="0"+e)}),"#"+n.join("")}function m(t){return g(p(t))}function v(t){var e=y(w(t));return 0===e.s&&(e.h=360),e}function y(t){var e={h:0,s:0,b:0},n=Math.min(t.r,t.g,t.b),r=Math.max(t.r,t.g,t.b),i=r-n;return e.b=r,e.s=0!==r?255*i/r:0,e.h=0!==e.s?t.r===r?(t.g-t.b)/i:t.g===r?2+(t.b-t.r)/i:4+(t.r-t.g)/i:-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e}function w(t){return t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16),{r:t>>16,g:(65280&t)>>8,b:255&t}}t.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},t.extend(t.fn,{minicolors:function(o,a){switch(o){case"destroy":return t(this).each(function(){n(t(this))}),t(this);case"hide":return i(),t(this);case"opacity":return void 0===a?t(this).attr("data-opacity"):(t(this).each(function(){s(t(this).attr("data-opacity",a))}),t(this));case"rgbObject":return u(t(this),"rgbaObject"===o);case"rgbString":case"rgbaString":return c(t(this),"rgbaString"===o);case"settings":return void 0===a?t(this).data("minicolors-settings"):(t(this).each(function(){var e=t(this).data("minicolors-settings")||{};n(t(this)),t(this).minicolors(t.extend(!0,e,a))}),t(this));case"show":return r(t(this).eq(0)),t(this);case"value":return void 0===a?t(this).val():(t(this).each(function(){s(t(this).val(a))}),t(this));default:return"create"!==o&&(a=o),t(this).each(function(){e(t(this),a)}),t(this)}}}),t(document).on("mousedown.minicolors touchstart.minicolors",function(e){t(e.target).parents().add(e.target).hasClass("minicolors")||i()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(e){var n=t(this);e.preventDefault(),t(document).data("minicolors-target",n),o(n,e,!0)}).on("mousemove.minicolors touchmove.minicolors",function(e){var n=t(document).data("minicolors-target");n&&o(n,e)}).on("mouseup.minicolors touchend.minicolors",function(){t(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(e){var n=t(this).parent().find(".minicolors-input");e.preventDefault(),r(n)}).on("focus.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&r(e)}).on("blur.minicolors",".minicolors-input",function(){var e=t(this),n=e.data("minicolors-settings");e.data("minicolors-initialized")&&(e.val(d(e.val(),!0)),""===e.val()&&e.val(d(n.defaultValue,!0)),e.val(h(e.val(),n.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(e){var n=t(this);if(n.data("minicolors-initialized"))switch(e.keyCode){case 9:i();break;case 13:case 27:i(),n.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&s(e,!0)}).on("paste.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&setTimeout(function(){s(e,!0)},1)})}(jQuery),angular.module("minicolors",[]),angular.module("minicolors").provider("minicolors",function(){this.defaults={theme:"bootstrap",position:"top left",defaultValue:"",animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,show:null,showSpeed:100},this.$get=function(){return this}}),angular.module("minicolors").directive("minicolors",["minicolors","$timeout",function(t,e){return{require:"?ngModel",restrict:"A",priority:1,link:function(n,r,i,o){var a=!1,s=function(){var e=angular.extend({},t.defaults,n.$eval(i.minicolors));return e};o.$render=function(){e(function(){var t=o.$viewValue;r.minicolors("value",t)},0,!1)};var l=function(){if(o){var t=s();return t.change=function(t){n.$apply(function(){o.$setViewValue(t)})},r.minicolors("destroy"),r.minicolors(t),a?void 0:(e(function(){var t=o.$viewValue;r.minicolors("value",t)},0),void(a=!0))}};l(),n.$watch(s,l,!0)}}}]),function(exports){exports.stringify=function(t){return JSON.stringify(t,function(t,e){return e instanceof Function||"function"==typeof e?e.toString():e instanceof RegExp?"_PxEgEr_"+e:e})},exports.parse=function(str,date2obj){var iso8061=date2obj?/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/:!1;return JSON.parse(str,function(key,value){var prefix;return"string"!=typeof value?value:value.length<8?value:(prefix=value.substring(0,8),iso8061&&value.match(iso8061)?new Date(value):"function"===prefix?eval("("+value+")"):"_PxEgEr_"===prefix?eval(value.slice(8)):value)})},exports.clone=function(t,e){return exports.parse(exports.stringify(t),e)}}("undefined"==typeof exports?window.JSONfn={}:exports);/** @preserve
 * jsPDF - PDF Document creation from JavaScript
 * Version 1.0.272-git Built on 2014-09-29T15:09
 *                           CommitID d4770725ca
 *
 * Copyright (c) 2010-2014 James Hall, https://github.com/MrRio/jsPDF
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, willow-systems.com
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth,
 */
var jsPDF=function(t){"use strict";function e(e){var n={};this.subscribe=function(t,e,r){if("function"!=typeof e)return!1;n.hasOwnProperty(t)||(n[t]={});var i=Math.random().toString(35);return n[t][i]=[e,!!r],i},this.unsubscribe=function(t){for(var e in n)if(n[e][t])return delete n[e][t],!0;return!1},this.publish=function(r){if(n.hasOwnProperty(r)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var a in n[r]){var s=n[r][a];try{s[0].apply(e,i)}catch(l){t.console&&console.error("jsPDF PubSub Error",l.message,l)}s[1]&&o.push(a)}o.length&&o.forEach(this.unsubscribe)}}}function n(o,a,s,l){var u={};"object"==typeof o&&(u=o,o=u.orientation,a=u.unit||a,s=u.format||s,l=u.compress||u.compressPdf||l),a=a||"mm",s=s||"a4",o=(""+(o||"P")).toLowerCase();var c,h,d,f,p,g,m,v,y,w=((""+s).toLowerCase(),!!l&&"function"==typeof Uint8Array),b=u.textColor||"0 g",x=u.drawColor||"0 G",C=u.fontSize||16,_=u.lineHeight||1.15,E=u.lineWidth||.200025,T=2,k=!1,S=[],$={},M={},A=0,R=[],D={},O=[],P=0,H=0,L=0,N={title:"",subject:"",author:"",keywords:"",creator:""},I={},B=new e(I),j=function(t){return t.toFixed(2)},F=function(t){return t.toFixed(3)},V=function(t){return("0"+parseInt(t)).slice(-2)},q=function(t){k?R[f].push(t):(L+=t.length+1,O.push(t))},z=function(){return T++,S[T]=L,q(T+" 0 obj"),T},W=function(t){q("stream"),q(t),q("endstream")},U=function(){var e,r,i,o,a,s,l,u,c;for(l=t.adler32cs||n.adler32cs,w&&"undefined"==typeof l&&(w=!1),e=1;A>=e;e++){if(z(),u=(p=D[e].width)*h,c=(g=D[e].height)*h,q("<</Type /Page"),q("/Parent 1 0 R"),q("/Resources 2 0 R"),q("/MediaBox [0 0 "+j(u)+" "+j(c)+"]"),q("/Contents "+(T+1)+" 0 R>>"),q("endobj"),r=R[e].join("\n"),z(),w){for(i=[],o=r.length;o--;)i[o]=r.charCodeAt(o);s=l.from(r),a=new Deflater(6),a.append(new Uint8Array(i)),r=a.flush(),i=new Uint8Array(r.length+6),i.set(new Uint8Array([120,156])),i.set(r,2),i.set(new Uint8Array([255&s,s>>8&255,s>>16&255,s>>24&255]),r.length+2),r=String.fromCharCode.apply(null,i),q("<</Length "+r.length+" /Filter [/FlateDecode]>>")}else q("<</Length "+r.length+">>");W(r),q("endobj")}S[1]=L,q("1 0 obj"),q("<</Type /Pages");var d="/Kids [";for(o=0;A>o;o++)d+=3+2*o+" 0 R ";q(d+"]"),q("/Count "+A),q(">>"),q("endobj")},Y=function(t){t.objectNumber=z(),q("<</BaseFont/"+t.PostScriptName+"/Type/Font"),"string"==typeof t.encoding&&q("/Encoding/"+t.encoding),q("/Subtype/Type1>>"),q("endobj")},G=function(){for(var t in $)$.hasOwnProperty(t)&&Y($[t])},X=function(){B.publish("putXobjectDict")},K=function(){q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),q("/Font <<");for(var t in $)$.hasOwnProperty(t)&&q("/"+t+" "+$[t].objectNumber+" 0 R");q(">>"),q("/XObject <<"),X(),q(">>")},Z=function(){G(),B.publish("putResources"),S[2]=L,q("2 0 obj"),q("<<"),K(),q(">>"),q("endobj"),B.publish("postPutResources")},J=function(t,e,n){M.hasOwnProperty(e)||(M[e]={}),M[e][n]=t},Q=function(t,e,n,r){var i="F"+(Object.keys($).length+1).toString(10),o=$[i]={id:i,PostScriptName:t,fontName:e,fontStyle:n,encoding:r,metadata:{}};return J(i,e,n),B.publish("addFont",o),i},tt=function(){for(var t="helvetica",e="times",n="courier",r="normal",i="bold",o="italic",a="bolditalic",s="StandardEncoding",l=[["Helvetica",t,r],["Helvetica-Bold",t,i],["Helvetica-Oblique",t,o],["Helvetica-BoldOblique",t,a],["Courier",n,r],["Courier-Bold",n,i],["Courier-Oblique",n,o],["Courier-BoldOblique",n,a],["Times-Roman",e,r],["Times-Bold",e,i],["Times-Italic",e,o],["Times-BoldItalic",e,a]],u=0,c=l.length;c>u;u++){var h=Q(l[u][0],l[u][1],l[u][2],s),d=l[u][0].split("-");J(h,d[0],d[1]||"")}B.publish("addFonts",{fonts:$,dictionary:M})},et=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(n){var r=n.stack||"";~r.indexOf(" at ")&&(r=r.split(" at ")[1]);var i="Error in function "+r.split("\n")[0].split("<")[0]+": "+n.message;if(!t.console)throw new Error(i);t.console.error(i,n),t.alert&&alert(i)}},e.foo.bar=e,e.foo},nt=function(t,e){var n,r,i,o,a,s,l,u,h;if(e=e||{},i=e.sourceEncoding||"Unicode",a=e.outputEncoding,(e.autoencode||a)&&$[c].metadata&&$[c].metadata[i]&&$[c].metadata[i].encoding&&(o=$[c].metadata[i].encoding,!a&&$[c].encoding&&(a=$[c].encoding),!a&&o.codePages&&(a=o.codePages[0]),"string"==typeof a&&(a=o[a]),a)){for(l=!1,s=[],n=0,r=t.length;r>n;n++)u=a[t.charCodeAt(n)],s.push(u?String.fromCharCode(u):t[n]),s[n].charCodeAt(0)>>8&&(l=!0);t=s.join("")}for(n=t.length;void 0===l&&0!==n;)t.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return t;for(s=e.noBOM?[]:[254,255],n=0,r=t.length;r>n;n++){if(u=t.charCodeAt(n),h=u>>8,h>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(h),s.push(u-(h<<8))}return String.fromCharCode.apply(void 0,s)},rt=function(t,e){return nt(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},it=function(){q("/Producer (jsPDF "+n.version+")");for(var t in N)N.hasOwnProperty(t)&&N[t]&&q("/"+t.substr(0,1).toUpperCase()+t.substr(1)+" ("+rt(N[t])+")");var e=new Date,r=e.getTimezoneOffset(),i=0>r?"+":"-",o=Math.floor(Math.abs(r/60)),a=Math.abs(r%60),s=[i,V(o),"'",V(a),"'"].join("");q(["/CreationDate (D:",e.getFullYear(),V(e.getMonth()+1),V(e.getDate()),V(e.getHours()),V(e.getMinutes()),V(e.getSeconds()),s,")"].join(""))},ot=function(){switch(q("/Type /Catalog"),q("/Pages 1 0 R"),v||(v="fullwidth"),v){case"fullwidth":q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":q("/OpenAction [3 0 R /Fit]");break;case"original":q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var t=""+v;"%"===t.substr(t.length-1)&&(v=parseInt(v)/100),"number"==typeof v&&q("/OpenAction [3 0 R /XYZ null null "+j(v)+"]")}switch(y||(y="continuous"),y){case"continuous":q("/PageLayout /OneColumn");break;case"single":q("/PageLayout /SinglePage");break;case"two":case"twoleft":q("/PageLayout /TwoColumnLeft");break;case"tworight":q("/PageLayout /TwoColumnRight")}m&&q("/PageMode /"+m),B.publish("putCatalog")},at=function(){q("/Size "+(T+1)),q("/Root "+T+" 0 R"),q("/Info "+(T-1)+" 0 R")},st=function(t,e){var n="string"==typeof e&&e.toLowerCase();if("string"==typeof t){var r=t.toLowerCase();i.hasOwnProperty(r)&&(t=i[r][0]/h,e=i[r][1]/h)}if(Array.isArray(t)&&(e=t[1],t=t[0]),n){switch(n.substr(0,1)){case"l":e>t&&(n="s");break;case"p":t>e&&(n="s")}"s"===n&&(d=t,t=e,e=d)}k=!0,R[++A]=[],D[A]={width:Number(t)||p,height:Number(e)||g},ut(A)},lt=function(){st.apply(this,arguments),q(j(E*h)+" w"),q(x),0!==P&&q(P+" J"),0!==H&&q(H+" j"),B.publish("addPage",{pageNumber:A})},ut=function(t){t>0&&A>=t&&(f=t,p=D[t].width,g=D[t].height)},ct=function(t,e){var n;t=void 0!==t?t:$[c].fontName,e=void 0!==e?e:$[c].fontStyle;try{n=M[t][e]}catch(r){}if(!n)throw new Error("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts.");return n},ht=function(){k=!1,T=2,O=[],S=[],q("%PDF-"+r),U(),Z(),z(),q("<<"),it(),q(">>"),q("endobj"),z(),q("<<"),ot(),q(">>"),q("endobj");var t,e=L,n="0000000000";for(q("xref"),q("0 "+(T+1)),q(n+" 65535 f "),t=1;T>=t;t++)q((n+S[t]).slice(-10)+" 00000 n ");return q("trailer"),q("<<"),at(),q(">>"),q("startxref"),q(e),q("%%EOF"),k=!0,O.join("\n")},dt=function(t){var e="S";return"F"===t?e="f":"FD"===t||"DF"===t?e="B":("f"===t||"f*"===t||"B"===t||"B*"===t)&&(e=t),e},ft=function(){for(var t=ht(),e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);e--;)r[e]=t.charCodeAt(e);return n},pt=function(){return new Blob([ft()],{type:"application/pdf"})},gt=et(function(e,n){var r="dataur"===(""+e).substr(0,6)?"data:application/pdf;base64,"+btoa(ht()):0;switch(e){case void 0:return ht();case"save":if(navigator.getUserMedia&&(void 0===t.URL||void 0===t.URL.createObjectURL))return I.output("dataurlnewwindow");saveAs(pt(),n),"function"==typeof saveAs.unload&&t.setTimeout&&setTimeout(saveAs.unload,911);break;case"arraybuffer":return ft();case"blob":return pt();case"bloburi":case"bloburl":return t.URL&&t.URL.createObjectURL(pt())||void 0;case"datauristring":case"dataurlstring":return r;case"dataurlnewwindow":var i=t.open(r);if(i||"undefined"==typeof safari)return i;case"datauri":case"dataurl":return t.document.location.href=r;default:throw new Error('Output type "'+e+'" is not supported.')}});switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=96/72;break;case"pc":h=12;break;case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}I.internal={pdfEscape:rt,getStyle:dt,getFont:function(){return $[ct.apply(I,arguments)]},getFontSize:function(){return C},getLineHeight:function(){return C*_},write:function(t){q(1===arguments.length?t:Array.prototype.join.call(arguments," "))},getCoordinateString:function(t){return j(t*h)},getVerticalCoordinateString:function(t){return j((g-t)*h)},collections:{},newObject:z,putStream:W,events:B,scaleFactor:h,pageSize:{get width(){return p},get height(){return g}},output:function(t,e){return gt(t,e)},getNumberOfPages:function(){return R.length-1},pages:R},I.addPage=function(){return lt.apply(this,arguments),this},I.setPage=function(){return ut.apply(this,arguments),this},I.setDisplayMode=function(t,e,n){return v=t,y=e,m=n,this},I.text=function(t,e,n,r,i){function o(t){return t=t.split("	").join(Array(u.TabLen||9).join(" ")),rt(t,r)}"number"==typeof t&&(d=n,n=e,e=t,t=d),"string"==typeof t&&t.match(/[\n\r]/)&&(t=t.split(/\r\n|\r|\n/g)),"number"==typeof r&&(i=r,r=null);var a,s="",l="Td";if(i){i*=Math.PI/180;var f=Math.cos(i),p=Math.sin(i);s=[j(f),j(p),j(-1*p),j(f),""].join(" "),l="Tm"}if(r=r||{},"noBOM"in r||(r.noBOM=!0),"autoencode"in r||(r.autoencode=!0),"string"==typeof t)t=o(t);else{if(!(t instanceof Array))throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');for(var m=t.concat(),v=[],y=m.length;y--;)v.push(o(m.shift()));var w=Math.ceil((g-n)*h/(C*_));w>=0&&w<v.length+1&&(a=v.splice(w-1)),t=v.join(") Tj\nT* (")}return q("BT\n/"+c+" "+C+" Tf\n"+C*_+" TL\n"+b+"\n"+s+j(e*h)+" "+j((g-n)*h)+" "+l+"\n("+t+") Tj\nET"),a&&(this.addPage(),this.text(a,e,1.7*C/h)),this},I.lstext=function(t,e,n,r){for(var i=0,o=t.length;o>i;i++,e+=r)this.text(t[i],e,n)},I.line=function(t,e,n,r){return this.lines([[n-t,r-e]],t,e)},I.clip=function(){q("W"),q("S")},I.lines=function(t,e,n,r,i,o){var a,s,l,u,c,f,p,m,v,y,w;for("number"==typeof t&&(d=n,n=e,e=t,t=d),r=r||[1,1],q(F(e*h)+" "+F((g-n)*h)+" m "),a=r[0],s=r[1],u=t.length,y=e,w=n,l=0;u>l;l++)c=t[l],2===c.length?(y=c[0]*a+y,w=c[1]*s+w,q(F(y*h)+" "+F((g-w)*h)+" l")):(f=c[0]*a+y,p=c[1]*s+w,m=c[2]*a+y,v=c[3]*s+w,y=c[4]*a+y,w=c[5]*s+w,q(F(f*h)+" "+F((g-p)*h)+" "+F(m*h)+" "+F((g-v)*h)+" "+F(y*h)+" "+F((g-w)*h)+" c"));return o&&q(" h"),null!==i&&q(dt(i)),this},I.rect=function(t,e,n,r,i){dt(i);return q([j(t*h),j((g-e)*h),j(n*h),j(-r*h),"re"].join(" ")),null!==i&&q(dt(i)),this},I.triangle=function(t,e,n,r,i,o,a){return this.lines([[n-t,r-e],[i-n,o-r],[t-i,e-o]],t,e,[1,1],a,!0),this},I.roundedRect=function(t,e,n,r,i,o,a){var s=4/3*(Math.SQRT2-1);return this.lines([[n-2*i,0],[i*s,0,i,o-o*s,i,o],[0,r-2*o],[0,o*s,-(i*s),o,-i,o],[-n+2*i,0],[-(i*s),0,-i,-(o*s),-i,-o],[0,-r+2*o],[0,-(o*s),i*s,-o,i,-o]],t+i,e,[1,1],a),this},I.ellipse=function(t,e,n,r,i){var o=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return q([j((t+n)*h),j((g-e)*h),"m",j((t+n)*h),j((g-(e-a))*h),j((t+o)*h),j((g-(e-r))*h),j(t*h),j((g-(e-r))*h),"c"].join(" ")),q([j((t-o)*h),j((g-(e-r))*h),j((t-n)*h),j((g-(e-a))*h),j((t-n)*h),j((g-e)*h),"c"].join(" ")),q([j((t-n)*h),j((g-(e+a))*h),j((t-o)*h),j((g-(e+r))*h),j(t*h),j((g-(e+r))*h),"c"].join(" ")),q([j((t+o)*h),j((g-(e+r))*h),j((t+n)*h),j((g-(e+a))*h),j((t+n)*h),j((g-e)*h),"c"].join(" ")),null!==i&&q(dt(i)),this},I.circle=function(t,e,n,r){return this.ellipse(t,e,n,n,r)},I.setProperties=function(t){for(var e in N)N.hasOwnProperty(e)&&t[e]&&(N[e]=t[e]);return this},I.setFontSize=function(t){return C=t,this},I.setFont=function(t,e){return c=ct(t,e),this},I.setFontStyle=I.setFontType=function(t){return c=ct(void 0,t),this},I.getFontList=function(){var t,e,n,r={};for(t in M)if(M.hasOwnProperty(t)){r[t]=n=[];for(e in M[t])M[t].hasOwnProperty(e)&&n.push(e)}return r},I.setLineWidth=function(t){return q((t*h).toFixed(2)+" w"),this},I.setDrawColor=function(t,e,n,r){var i;return i=void 0===e||void 0===r&&t===e===n?"string"==typeof t?t+" G":j(t/255)+" G":void 0===r?"string"==typeof t?[t,e,n,"RG"].join(" "):[j(t/255),j(e/255),j(n/255),"RG"].join(" "):"string"==typeof t?[t,e,n,r,"K"].join(" "):[j(t),j(e),j(n),j(r),"K"].join(" "),q(i),this},I.setFillColor=function(t,e,n,r){var i;return i=void 0===e||void 0===r&&t===e===n?"string"==typeof t?t+" g":j(t/255)+" g":void 0===r?"string"==typeof t?[t,e,n,"rg"].join(" "):[j(t/255),j(e/255),j(n/255),"rg"].join(" "):"string"==typeof t?[t,e,n,r,"k"].join(" "):[j(t),j(e),j(n),j(r),"k"].join(" "),q(i),this},I.setTextColor=function(t,e,n){if("string"==typeof t&&/^#[0-9A-Fa-f]{6}$/.test(t)){var r=parseInt(t.substr(1),16);t=r>>16&255,e=r>>8&255,n=255&r}return b=0===t&&0===e&&0===n||"undefined"==typeof e?F(t/255)+" g":[F(t/255),F(e/255),F(n/255),"rg"].join(" "),this},I.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},I.setLineCap=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return P=e,q(e+" J"),this},I.setLineJoin=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return H=e,q(e+" j"),this},I.output=gt,I.save=function(t){I.output("save",t)};for(var mt in n.API)n.API.hasOwnProperty(mt)&&("events"===mt&&n.API.events.length?!function(t,e){var n,r,i;for(i=e.length-1;-1!==i;i--)n=e[i][0],r=e[i][1],t.subscribe.apply(t,[n].concat("function"==typeof r?[r]:r))}(B,n.API.events):I[mt]=n.API[mt]);return tt(),c="F1",lt(s,o),B.publish("initialized"),I}var r="1.3",i={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};return n.API={events:[]},n.version="1.0.272-debug 2014-09-29T15:09:diegocr","function"==typeof define&&define.amd?define("jsPDF",function(){return n}):t.jsPDF=n,n}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this);/**
 * jsPDF addHTML PlugIn
 * Copyright (c) 2014 Diego Casorran
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
!function(t){"use strict";t.addHTML=function(t,e,n,r,i){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof e&&(r=e,i=n),"function"==typeof r&&(i=r,r=null);var o=this.internal,a=o.scaleFactor,s=o.pageSize.width,l=o.pageSize.height;if(r=r||{},r.onrendered=function(t){e=parseInt(e)||0,n=parseInt(n)||0;var o=r.dim||{},u=o.h||0,c=o.w||Math.min(s,t.width/a)-e,h="JPEG";if(r.format&&(h=r.format),t.height>l&&r.pagesplit){var d=function(){for(var r=0;;){var o=document.createElement("canvas");o.width=Math.min(s*a,t.width),o.height=Math.min(l*a,t.height-r);var u=o.getContext("2d");u.drawImage(t,0,r,t.width,o.height,0,0,o.width,o.height);var d=[o,e,r?0:n,o.width/a,o.height/a,h,null,"SLOW"];if(this.addImage.apply(this,d),r+=o.height,r>=t.height)break;this.addPage()}i(c,r,null,d)}.bind(this);if("CANVAS"===t.nodeName){var f=new Image;f.onload=d,f.src=t.toDataURL("image/png"),t=f}else d()}else{var p=Math.random().toString(35),g=[t,e,n,c,u,h,p,"SLOW"];this.addImage.apply(this,g),i(c,u,p,g)}}.bind(this),"undefined"!=typeof html2canvas&&!r.rstz)return html2canvas(t,r);if("undefined"!=typeof rasterizeHTML){var u="drawDocument";return"string"==typeof t&&(u=/^http/.test(t)?"drawURL":"drawHTML"),r.width=r.width||s*a,rasterizeHTML[u](t,void 0,r).then(function(t){r.onrendered(t.image)},function(t){i(null,t)})}return null}}(jsPDF.API),function(t){"use strict";var e="addImage_",n=["jpeg","jpg","png"],r=function(t){var e=this.internal.newObject(),n=this.internal.write,i=this.internal.putStream;if(t.n=e,n("<</Type /XObject"),n("/Subtype /Image"),n("/Width "+t.w),n("/Height "+t.h),t.cs===this.color_spaces.INDEXED?n("/ColorSpace [/Indexed /DeviceRGB "+(t.pal.length/3-1)+" "+("smask"in t?e+2:e+1)+" 0 R]"):(n("/ColorSpace /"+t.cs),t.cs===this.color_spaces.DEVICE_CMYK&&n("/Decode [1 0 1 0 1 0 1 0]")),n("/BitsPerComponent "+t.bpc),"f"in t&&n("/Filter /"+t.f),"dp"in t&&n("/DecodeParms <<"+t.dp+">>"),"trns"in t&&t.trns.constructor==Array){for(var o="",a=0,s=t.trns.length;s>a;a++)o+=t.trns[a]+" "+t.trns[a]+" ";n("/Mask ["+o+"]")}if("smask"in t&&n("/SMask "+(e+1)+" 0 R"),n("/Length "+t.data.length+">>"),i(t.data),n("endobj"),"smask"in t){var l="/Predictor 15 /Colors 1 /BitsPerComponent "+t.bpc+" /Columns "+t.w,u={w:t.w,h:t.h,cs:"DeviceGray",bpc:t.bpc,dp:l,data:t.smask};"f"in t&&(u.f=t.f),r.call(this,u)}t.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),n("<< /Length "+t.pal.length+">>"),i(this.arrayBufferToBinaryString(new Uint8Array(t.pal))),n("endobj"))},i=function(){var t=this.internal.collections[e+"images"];for(var n in t)r.call(this,t[n])},o=function(){var t,n=this.internal.collections[e+"images"],r=this.internal.write;for(var i in n)t=n[i],r("/I"+t.i,t.n,"0","R")},a=function(e){return e&&"string"==typeof e&&(e=e.toUpperCase()),e in t.image_compression?e:t.image_compression.NONE},s=function(){var t=this.internal.collections[e+"images"];return t||(this.internal.collections[e+"images"]=t={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o)),t},l=function(t){var e=0;return t&&(e=Object.keys?Object.keys(t).length:function(t){var e=0;for(var n in t)t.hasOwnProperty(n)&&e++;return e}(t)),e},u=function(t){return"undefined"==typeof t||null===t},c=function(e){return"string"==typeof e&&t.sHashCode(e)},h=function(t){return-1===n.indexOf(t)},d=function(e){return"function"!=typeof t["process"+e.toUpperCase()]},f=function(t){return"object"==typeof t&&1===t.nodeType},p=function(t,e,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(!n&&0===r.indexOf("data:image/"))return r;!e&&/\.png(?:[?#].*)?$/i.test(r)&&(e="png")}if("CANVAS"===t.nodeName)var i=t;else{var i=document.createElement("canvas");i.width=t.clientWidth||t.width,i.height=t.clientHeight||t.height;var o=i.getContext("2d");if(!o)throw"addImage requires canvas to be supported by browser.";if(n){var a,s,l,u,c,h,d,f,p=Math.PI/180;"object"==typeof n&&(a=n.x,s=n.y,l=n.bg,n=n.angle),f=n*p,u=Math.abs(Math.cos(f)),c=Math.abs(Math.sin(f)),h=i.width,d=i.height,i.width=d*c+h*u,i.height=d*u+h*c,isNaN(a)&&(a=i.width/2),isNaN(s)&&(s=i.height/2),o.clearRect(0,0,i.width,i.height),o.fillStyle=l||"white",o.fillRect(0,0,i.width,i.height),o.save(),o.translate(a,s),o.rotate(f),o.drawImage(t,-(h/2),-(d/2)),o.rotate(-f),o.translate(-a,-s),o.restore()}else o.drawImage(t,0,0,i.width,i.height)}return i.toDataURL("png"==(""+e).toLowerCase()?"image/png":"image/jpeg")},g=function(t,e){var n;if(e)for(var r in e)if(t===e[r].alias){n=e[r];break}return n},m=function(t,e,n){return t||e||(t=-96,e=-96),0>t&&(t=-1*n.w*72/t/this.internal.scaleFactor),0>e&&(e=-1*n.h*72/e/this.internal.scaleFactor),0===t&&(t=e*n.w/n.h),0===e&&(e=t*n.h/n.w),[t,e]},v=function(t,e,n,r,i,o,a){var s=m.call(this,n,r,i),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;n=s[0],r=s[1],a[o]=i,this.internal.write("q",l(n),"0 0",l(r),l(t),u(e+r),"cm /I"+i.i,"Do Q")};t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPERATION:"Seperation",DEVICE_N:"DeviceN"},t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},t.sHashCode=function(t){return Array.prototype.reduce&&t.split("").reduce(function(t,e){return t=(t<<5)-t+e.charCodeAt(0),t&t},0)},t.isString=function(t){return"string"==typeof t},t.extractInfoFromBase64DataURI=function(t){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(t)},t.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},t.isArrayBuffer=function(t){return this.supportsArrayBuffer()?t instanceof ArrayBuffer:!1},t.isArrayBufferView=function(t){return this.supportsArrayBuffer()?"undefined"==typeof Uint32Array?!1:t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array:!1},t.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;e>r;r++)n[r]=t.charCodeAt(r);return n},t.arrayBufferToBinaryString=function(t){this.isArrayBuffer(t)&&(t=new Uint8Array(t));for(var e="",n=t.byteLength,r=0;n>r;r++)e+=String.fromCharCode(t[r]);return e},t.arrayBufferToBase64=function(t){for(var e,n,r,i,o,a="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=new Uint8Array(t),u=l.byteLength,c=u%3,h=u-c,d=0;h>d;d+=3)o=l[d]<<16|l[d+1]<<8|l[d+2],e=(16515072&o)>>18,n=(258048&o)>>12,r=(4032&o)>>6,i=63&o,a+=s[e]+s[n]+s[r]+s[i];return 1==c?(o=l[h],e=(252&o)>>2,n=(3&o)<<4,a+=s[e]+s[n]+"=="):2==c&&(o=l[h]<<8|l[h+1],e=(64512&o)>>10,n=(1008&o)>>4,r=(15&o)<<2,a+=s[e]+s[n]+s[r]+"="),a},t.createImageInfo=function(t,e,n,r,i,o,a,s,l,u,c,h){var d={alias:s,w:e,h:n,cs:r,bpc:i,i:a,data:t};return o&&(d.f=o),l&&(d.dp=l),u&&(d.trns=u),c&&(d.pal=c),h&&(d.smask=h),d},t.addImage=function(t,e,r,i,o,m,y,w,b){if("string"!=typeof e){var x=m;m=o,o=i,i=r,r=e,e=x}if("object"==typeof t&&!f(t)&&"imageData"in t){var C=t;t=C.imageData,e=C.format||e,r=C.x||r||0,i=C.y||i||0,o=C.w||o,m=C.h||m,y=C.alias||y,w=C.compression||w,b=C.rotation||C.angle||b}if(isNaN(r)||isNaN(i))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var _,E=s.call(this);if(!(_=g(t,E))){var T;if(f(t)&&(t=p(t,e,b)),u(y)&&(y=c(t)),!(_=g(y,E))){if(this.isString(t)){var k=this.extractInfoFromBase64DataURI(t);k?(e=k[2],t=atob(k[3])):137===t.charCodeAt(0)&&80===t.charCodeAt(1)&&78===t.charCodeAt(2)&&71===t.charCodeAt(3)&&(e="png")}if(e=(e||"JPEG").toLowerCase(),h(e))throw new Error("addImage currently only supports formats "+n+", not '"+e+"'");if(d(e))throw new Error("please ensure that the plugin for '"+e+"' support is added");if(this.supportsArrayBuffer()&&(T=t,t=this.binaryStringToUint8Array(t)),_=this["process"+e.toUpperCase()](t,l(E),y,a(w),T),!_)throw new Error("An unkwown error occurred whilst processing the image")}}return v.call(this,r,i,o,m,_,_.i,E),this};var y=function(t){var e,n,r;if(255===!t.charCodeAt(0)||216===!t.charCodeAt(1)||255===!t.charCodeAt(2)||224===!t.charCodeAt(3)||!t.charCodeAt(6)==="J".charCodeAt(0)||!t.charCodeAt(7)==="F".charCodeAt(0)||!t.charCodeAt(8)==="I".charCodeAt(0)||!t.charCodeAt(9)==="F".charCodeAt(0)||0===!t.charCodeAt(10))throw new Error("getJpegSize requires a binary string jpeg file");for(var i=256*t.charCodeAt(4)+t.charCodeAt(5),o=4,a=t.length;a>o;){if(o+=i,255!==t.charCodeAt(o))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(o+1)||193===t.charCodeAt(o+1)||194===t.charCodeAt(o+1)||195===t.charCodeAt(o+1)||196===t.charCodeAt(o+1)||197===t.charCodeAt(o+1)||198===t.charCodeAt(o+1)||199===t.charCodeAt(o+1))return n=256*t.charCodeAt(o+5)+t.charCodeAt(o+6),e=256*t.charCodeAt(o+7)+t.charCodeAt(o+8),r=t.charCodeAt(o+9),[e,n,r];o+=2,i=256*t.charCodeAt(o)+t.charCodeAt(o+1)}},w=function(t){var e=t[0]<<8|t[1];if(65496!==e)throw new Error("Supplied data is not a JPEG");for(var n,r,i,o,a=t.length,s=(t[4]<<8)+t[5],l=4;a>l;){if(l+=s,n=b(t,l),s=(n[2]<<8)+n[3],(192===n[1]||194===n[1])&&255===n[0]&&s>7)return n=b(t,l+5),r=(n[2]<<8)+n[3],i=(n[0]<<8)+n[1],o=n[4],{width:r,height:i,numcomponents:o};l+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")},b=function(t,e){return t.subarray(e,e+5)};t.processJPEG=function(t,e,n,r,i){var o,a=this.color_spaces.DEVICE_RGB,s=this.decode.DCT_DECODE,l=8;return this.isString(t)?(o=y(t),this.createImageInfo(t,o[0],o[1],1==o[3]?this.color_spaces.DEVICE_GRAY:a,l,s,e,n)):(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)?(o=w(t),t=i||this.arrayBufferToBinaryString(t),this.createImageInfo(t,o.width,o.height,1==o.numcomponents?this.color_spaces.DEVICE_GRAY:a,l,s,e,n)):null)},t.processJPG=function(){return this.processJPEG.apply(this,arguments)}}(jsPDF.API),function(t){"use strict";t.autoPrint=function(){var t;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+t+" 0 R")}),this}}(jsPDF.API),/** ====================================================================
 * jsPDF Cell plugin
 * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
 *               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Hall, james@parall.ax
 *               2014 Diego Casorran, https://github.com/diegocr
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(t){"use strict";var e,n,r,i,o=3,a=13,s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},l=1,u=function(t,e,n,r,i){s={x:t,y:e,w:n,h:r,ln:i}},c=function(){return s},h={left:0,top:0,bottom:0};t.setHeaderFunction=function(t){i=t},t.getTextDimensions=function(t){e=this.internal.getFont().fontName,n=this.table_font_size||this.internal.getFontSize(),r=this.internal.getFont().fontStyle;var i,o,a=19.049976/25.4;return o=document.createElement("font"),o.id="jsPDFCell",o.style.fontStyle=r,o.style.fontName=e,o.style.fontSize=n+"pt",o.textContent=t,document.body.appendChild(o),i={w:(o.offsetWidth+1)*a,h:(o.offsetHeight+1)*a},document.body.removeChild(o),i},t.cellAddPage=function(){var t=this.margins||h;this.addPage(),u(t.left,t.top,void 0,void 0),l+=1},t.cellInitialize=function(){s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},l=1},t.cell=function(t,e,n,r,i,s,l){var d=c();if(void 0!==d.ln)if(d.ln===s)t=d.x+d.w,e=d.y;else{var f=this.margins||h;d.y+d.h+r+a>=this.internal.pageSize.height-f.bottom&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(s,!0)),e=c().y+c().h}if(void 0!==i[0])if(this.printingHeaderRow?this.rect(t,e,n,r,"FD"):this.rect(t,e,n,r),"right"===l){if(i instanceof Array)for(var p=0;p<i.length;p++){var g=i[p],m=this.getStringUnitWidth(g)*this.internal.getFontSize();this.text(g,t+n-m-o,e+this.internal.getLineHeight()*(p+1))}}else this.text(i,t+o,e+this.internal.getLineHeight());return u(t,e,n,r,s),this},t.arrayMax=function(t,e){var n,r,i,o=t[0];for(n=0,r=t.length;r>n;n+=1)i=t[n],e?-1===e(o,i)&&(o=i):i>o&&(o=i);return o},t.table=function(e,n,r,i,o){if(!r)throw"No data for PDF table";var a,u,c,d,f,p,g,m,v,y,w=[],b=[],x={},C={},_=[],E=[],T=!1,k=!0,S=12,$=h;if($.width=this.internal.pageSize.width,o&&(o.autoSize===!0&&(T=!0),o.printHeaders===!1&&(k=!1),o.fontSize&&(S=o.fontSize),o.margins&&($=o.margins)),this.lnMod=0,s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},l=1,this.printHeaders=k,this.margins=$,this.setFontSize(S),this.table_font_size=S,void 0===i||null===i)w=Object.keys(r[0]);else if(i[0]&&"string"!=typeof i[0]){var M=19.049976/25.4;for(u=0,c=i.length;c>u;u+=1)a=i[u],w.push(a.name),b.push(a.prompt),C[a.name]=a.width*M}else w=i;if(T)for(y=function(t){return t[a]},u=0,c=w.length;c>u;u+=1){for(a=w[u],x[a]=r.map(y),_.push(this.getTextDimensions(b[u]||a).w),p=x[a],g=0,d=p.length;d>g;g+=1)f=p[g],_.push(this.getTextDimensions(f).w);C[a]=t.arrayMax(_)}if(k){var A=this.calculateLineHeight(w,C,b.length?b:w);for(u=0,c=w.length;c>u;u+=1)a=w[u],E.push([e,n,C[a],A,String(b.length?b[u]:a)]);this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}for(u=0,c=r.length;c>u;u+=1){var A;for(m=r[u],A=this.calculateLineHeight(w,C,m),g=0,v=w.length;v>g;g+=1)a=w[g],this.cell(e,n,C[a],A,m[a],u+2,a.align)}return this.lastCellPos=s,this.table_x=e,this.table_y=n,this},t.calculateLineHeight=function(t,e,n){for(var r,i=0,a=0;a<t.length;a++){r=t[a],n[r]=this.splitTextToSize(String(n[r]),e[r]-o);var s=this.internal.getLineHeight()*n[r].length+o;s>i&&(i=s)}return i},t.setTableHeaderRow=function(t){this.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var n,r,o,a;if(this.printingHeaderRow=!0,void 0!==i){var s=i(this,l);u(s[0],s[1],s[2],s[3],-1)}this.setFontStyle("bold");var c=[];for(o=0,a=this.tableHeaderRow.length;a>o;o+=1)this.setFillColor(200,200,200),n=this.tableHeaderRow[o],e&&(n[1]=this.margins&&this.margins.top||0,c.push(n)),r=[].concat(n),this.cell.apply(this,r.concat(t));c.length>0&&this.setTableHeaderRow(c),this.setFontStyle("normal"),this.printingHeaderRow=!1}}(jsPDF.API),/** @preserve
 * jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser
 * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Daniel Husar, https://github.com/danielhusar
 *               2014 Wolfgang Gassler, https://github.com/woolfg
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(t){var e,n,r,i,o,a,s,l,u,c,h,d,f,p,g,m,v,y,w;e=function(){function t(){}return function(e){return t.prototype=e,new t}}(),u=function(t){var e,n,r,i,o,a,s;for(n=0,r=t.length,e=void 0,i=!1,a=!1;!i&&n!==r;)e=t[n]=t[n].trimLeft(),e&&(i=!0),n++;for(n=r-1;r&&!a&&-1!==n;)e=t[n]=t[n].trimRight(),e&&(a=!0),n--;for(o=/\s+$/g,s=!0,n=0;n!==r;)e=t[n].replace(/\s+/g," "),s&&(e=e.trimLeft()),e&&(s=o.test(e)),t[n]=e,n++;return t},c=function(t,e,n,r){return this.pdf=t,this.x=e,this.y=n,this.settings=r,this.watchFunctions=[],this.init(),this},h=function(t){var e,n,i;for(e=void 0,i=t.split(","),n=i.shift();!e&&n;)e=r[n.trim().toLowerCase()],n=i.shift();return e},d=function(t){t="auto"===t?"0px":t,t.indexOf("em")>-1&&!isNaN(Number(t.replace("em","")))&&(t=18.719*Number(t.replace("em",""))+"px"),t.indexOf("pt")>-1&&!isNaN(Number(t.replace("pt","")))&&(t=1.333*Number(t.replace("pt",""))+"px");var e,n,r;return n=void 0,e=16,(r=f[t])?r:(r={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:t}],r!==n?f[t]=r/e:(r=parseFloat(t))?f[t]=r/e:(r=t.match(/([\d\.]+)(px)/),f[t]=3===r.length?parseFloat(r[1])/e:1))},l=function(t){var e,n,r;return r=function(t){var e;return e=function(t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle?t.currentStyle:t.style}(t),function(t){return t=t.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()}),e[t]}}(t),e={},n=void 0,e["font-family"]=h(r("font-family"))||"times",e["font-style"]=i[r("font-style")]||"normal",e["text-align"]=TextAlignMap[r("text-align")]||"left",n=o[r("font-weight")]||"normal","bold"===n&&(e["font-style"]="normal"===e["font-style"]?n:n+e["font-style"]),e["font-size"]=d(r("font-size"))||1,e["line-height"]=d(r("line-height"))||1,e.display="inline"===r("display")?"inline":"block",n="block"===e.display,e["margin-top"]=n&&d(r("margin-top"))||0,e["margin-bottom"]=n&&d(r("margin-bottom"))||0,e["padding-top"]=n&&d(r("padding-top"))||0,e["padding-bottom"]=n&&d(r("padding-bottom"))||0,e["margin-left"]=n&&d(r("margin-left"))||0,e["margin-right"]=n&&d(r("margin-right"))||0,e["padding-left"]=n&&d(r("padding-left"))||0,e["padding-right"]=n&&d(r("padding-right"))||0,e["float"]=a[r("cssFloat")]||"none",e.clear=s[r("clear")]||"none",e},p=function(t,e,n){var r,i,o,a,s;if(o=!1,i=void 0,a=void 0,s=void 0,r=n["#"+t.id])if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;if(r=n[t.nodeName],!o&&r)if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;return o},w=function(t,e){var n,r,i,o,a,s,l,u,c,h;for(n=[],r=[],i=0,h=t.rows[0].cells.length,u=t.clientWidth;h>i;)c=t.rows[0].cells[i],r[i]={name:c.textContent.toLowerCase().replace(/\s+/g,""),prompt:c.textContent.replace(/\r?\n/g,""),width:c.clientWidth/u*e.pdf.internal.pageSize.width},i++;for(i=1;i<t.rows.length;){for(s=t.rows[i],a={},o=0;o<s.cells.length;)a[r[o].name]=s.cells[o].textContent.replace(/\r?\n/g,""),o++;n.push(a),i++}return l={rows:n,headers:r}};var b={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},x=1;n=function(t,e,r){var i,o,a,s,u,c,h,d,f;for(o=t.childNodes,i=void 0,a=l(t),u="block"===a.display,u&&(e.setBlockBoundary(),e.setBlockStyle(a)),h=19.049976/25.4,s=0,c=o.length;c>s;){if(i=o[s],"object"==typeof i){if(e.executeWatchFunctions(i),1===i.nodeType&&"HEADER"===i.nodeName){var m=i,v=e.pdf.margins_doc.top;e.pdf.internal.events.subscribe("addPage",function(t){e.y=v,n(m,e,r),e.pdf.margins_doc.top=e.y+10,e.y+=10},!1)}if(8===i.nodeType&&"#comment"===i.nodeName)~i.textContent.indexOf("ADD_PAGE")&&(e.pdf.addPage(),e.y=e.pdf.margins_doc.top);else if(1!==i.nodeType||b[i.nodeName])if(3===i.nodeType){var y=i.nodeValue;if(i.nodeValue&&"LI"===i.parentNode.nodeName)if("OL"===i.parentNode.parentNode.nodeName)y=x++ +". "+y;else{var C=16*a["font-size"],_=2;C>20&&(_=3),f=function(t,e){this.pdf.circle(t,e,_,"FD")}}e.addText(y,a)}else"string"==typeof i&&e.addText(i,a);else{var E;if("IMG"===i.nodeName){var T=i.getAttribute("src");E=g[e.pdf.sHashCode(T)||T]}if(E){e.pdf.internal.pageSize.height-e.pdf.margins_doc.bottom<e.y+i.height&&e.y>e.pdf.margins_doc.top&&(e.pdf.addPage(),e.y=e.pdf.margins_doc.top,e.executeWatchFunctions(i));var k=l(i),S=e.x,$=12/e.pdf.internal.scaleFactor,M=(k["margin-left"]+k["padding-left"])*$,A=(k["margin-right"]+k["padding-right"])*$,R=(k["margin-top"]+k["padding-top"])*$,D=(k["margin-bottom"]+k["padding-bottom"])*$;S+=void 0!==k["float"]&&"right"===k["float"]?e.settings.width-i.width-A:M,e.pdf.addImage(E,S,e.y+R,i.width,i.height),E=void 0,"right"===k["float"]||"left"===k["float"]?(e.watchFunctions.push(function(t,n,r,i){return e.y>=n?(e.x+=t,e.settings.width+=r,!0):i&&1===i.nodeType&&!b[i.nodeName]&&e.x+i.width>e.pdf.margins_doc.left+e.pdf.margins_doc.width?(e.x+=t,e.y=n,e.settings.width+=r,!0):!1}.bind(this,"left"===k["float"]?-i.width-M-A:0,e.y+i.height+R+D,i.width)),e.watchFunctions.push(function(t,n,r){return e.y<t&&n===e.pdf.internal.getNumberOfPages()?1===r.nodeType&&"both"===l(r).clear?(e.y=t,!0):!1:!0}.bind(this,e.y+i.height,e.pdf.internal.getNumberOfPages())),e.settings.width-=i.width+M+A,"left"===k["float"]&&(e.x+=i.width+M+A)):e.y+=i.height+D}else if("TABLE"===i.nodeName)d=w(i,e),e.y+=10,e.pdf.table(e.x,e.y,d.rows,d.headers,{autoSize:!1,printHeaders:!0,margins:e.pdf.margins_doc}),e.y=e.pdf.lastCellPos.y+e.pdf.lastCellPos.h+20;else if("OL"===i.nodeName||"UL"===i.nodeName)x=1,p(i,e,r)||n(i,e,r),e.y+=10;else if("LI"===i.nodeName){var O=e.x;e.x+="UL"===i.parentNode.nodeName?22:10,e.y+=3,p(i,e,r)||n(i,e,r),e.x=O}else"BR"===i.nodeName?e.y+=a["font-size"]*e.pdf.internal.scaleFactor:p(i,e,r)||n(i,e,r)}}s++}return u?e.setBlockBoundary(f):void 0},g={},m=function(t,e,n,r){function i(){e.pdf.internal.events.publish("imagesLoaded"),r(a)}function o(t,n,r){if(t){var o=new Image;a=++u,o.crossOrigin="",o.onerror=o.onload=function(){if(o.complete&&(0===o.src.indexOf("data:image/")&&(o.width=n||o.width||0,o.height=r||o.height||0),o.width+o.height)){var a=e.pdf.sHashCode(t)||t;g[a]=g[a]||o}--u||i()},o.src=t}}for(var a,s=t.getElementsByTagName("img"),l=s.length,u=0;l--;)o(s[l].getAttribute("src"),s[l].width,s[l].height);return u||i()},v=function(t,e,r){var i=t.getElementsByTagName("footer");if(i.length>0){i=i[0];var o=e.pdf.internal.write,a=e.y;e.pdf.internal.write=function(){},n(i,e,r);var s=Math.ceil(e.y-a)+5;e.y=a,e.pdf.internal.write=o,e.pdf.margins_doc.bottom+=s;for(var l=function(t){var o=void 0!==t?t.pageNumber:1,a=e.y;e.y=e.pdf.internal.pageSize.height-e.pdf.margins_doc.bottom,e.pdf.margins_doc.bottom-=s;for(var l=i.getElementsByTagName("span"),u=0;u<l.length;++u)(" "+l[u].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1&&(l[u].innerHTML=o),(" "+l[u].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&(l[u].innerHTML="###jsPDFVarTotalPages###");n(i,e,r),e.pdf.margins_doc.bottom+=s,e.y=a},u=i.getElementsByTagName("span"),c=0;c<u.length;++c)(" "+u[c].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&e.pdf.internal.events.subscribe("htmlRenderingFinished",e.pdf.putTotalPages.bind(e.pdf,"###jsPDFVarTotalPages###"),!0);e.pdf.internal.events.subscribe("addPage",l,!1),l(),b.FOOTER=1}},y=function(t,e,r,i,o,a){if(!e)return!1;"string"==typeof e||e.parentNode||(e=""+e.innerHTML),"string"==typeof e&&(e=function(t){var e,n,r,i;return r="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),i="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",n=document.createElement("div"),n.style.cssText=i,n.innerHTML='<iframe style="height:1px;width:1px" name="'+r+'" />',document.body.appendChild(n),e=window.frames[r],e.document.body.innerHTML=t,e.document.body}(e.replace(/<\/?script[^>]*?>/gi,"")));var s,l=new c(t,r,i,o);return m.call(this,e,l,o.elementHandlers,function(t){v(e,l,o.elementHandlers),n(e,l,o.elementHandlers),l.pdf.internal.events.publish("htmlRenderingFinished"),s=l.dispose(),"function"==typeof a?a(s):t&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),s||{x:l.x,y:l.y}},c.prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},c.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},c.prototype.executeWatchFunctions=function(t){var e=!1,n=[];if(this.watchFunctions.length>0){for(var r=0;r<this.watchFunctions.length;++r)this.watchFunctions[r](t)===!0?e=!0:n.push(this.watchFunctions[r]);this.watchFunctions=n}return e},c.prototype.splitFragmentsIntoLines=function(t,n){var r,i,o,a,s,l,u,c,h,d,f,p,g,m,v;for(i=12,f=this.pdf.internal.scaleFactor,s={},o=void 0,d=void 0,a=void 0,l=void 0,v=void 0,h=void 0,c=void 0,u=void 0,p=[],g=[p],r=0,m=this.settings.width;t.length;)if(l=t.shift(),v=n.shift(),l)if(o=v["font-family"],d=v["font-style"],a=s[o+d],a||(a=this.pdf.internal.getFont(o,d).metadata.Unicode,s[o+d]=a),h={widths:a.widths,kerning:a.kerning,fontSize:v["font-size"]*i,textIndent:r},c=this.pdf.getStringUnitWidth(l,h)*h.fontSize/f,r+c>m){for(u=this.pdf.splitTextToSize(l,m,h),p.push([u.shift(),v]);u.length;)p=[[u.shift(),v]],g.push(p);r=this.pdf.getStringUnitWidth(p[0][0],h)*h.fontSize/f}else p.push([l,v]),r+=c;if(void 0!==v["text-align"]&&("center"===v["text-align"]||"right"===v["text-align"]||"justify"===v["text-align"]))for(var y=0;y<g.length;++y){var w=this.pdf.getStringUnitWidth(g[y][0][0],h)*h.fontSize/f;y>0&&(g[y][0][1]=e(g[y][0][1]));var b=m-w;if("right"===v["text-align"])g[y][0][1]["margin-left"]=b;else if("center"===v["text-align"])g[y][0][1]["margin-left"]=b/2;else if("justify"===v["text-align"]){var x=g[y][0][0].split(" ").length-1;g[y][0][1]["word-spacing"]=b/x,y===g.length-1&&(g[y][0][1]["word-spacing"]=0)}}return g},c.prototype.RenderTextFragment=function(t,e){var n,r,i;i=0,n=12,this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),i=Math.max(i,e["line-height"],e["font-size"]),this.pdf.internal.write(0,(-1*n*i).toFixed(2),"Td")),r=this.pdf.internal.getFont(e["font-family"],e["font-style"]),void 0!==e["word-spacing"]&&e["word-spacing"]>0&&this.pdf.internal.write(e["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+r.id,(n*e["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(t)+") Tj"),void 0!==e["word-spacing"]&&this.pdf.internal.write(0,"Tw")},c.prototype.renderParagraph=function(t){var e,n,r,i,o,a,s,l,c,h,d,f,p,g,m;if(i=u(this.paragraph.text),g=this.paragraph.style,e=this.paragraph.blockstyle,p=this.paragraph.blockstyle||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e},i.join("").trim()){l=this.splitFragmentsIntoLines(i,g),s=void 0,c=void 0,n=12,r=n/this.pdf.internal.scaleFactor,f=(Math.max((e["margin-top"]||0)-(p["margin-bottom"]||0),0)+(e["padding-top"]||0))*r,d=((e["margin-bottom"]||0)+(e["padding-bottom"]||0))*r,h=this.pdf.internal.write,o=void 0,a=void 0,this.y+=f,h("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var v=0;l.length;){for(s=l.shift(),c=0,o=0,a=s.length;o!==a;)s[o][0].trim()&&(c=Math.max(c,s[o][1]["line-height"],s[o][1]["font-size"]),m=7*s[o][1]["font-size"]),o++;var y=0;for(void 0!==s[0][1]["margin-left"]&&s[0][1]["margin-left"]>0&&(wantedIndent=this.pdf.internal.getCoordinateString(s[0][1]["margin-left"]),y=wantedIndent-v,v=wantedIndent),h(y,(-1*n*c).toFixed(2),"Td"),o=0,a=s.length;o!==a;)s[o][0]&&this.RenderTextFragment(s[o][0],s[o][1]),o++;if(this.y+=c*r,this.executeWatchFunctions(s[0][1])&&l.length>0){var w=[],b=[];l.forEach(function(t){for(var e=0,n=t.length;e!==n;)t[e][0]&&(w.push(t[e][0]+" "),b.push(t[e][1])),++e}),l=this.splitFragmentsIntoLines(u(w),b),h("ET","Q"),h("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return t&&"function"==typeof t&&t.call(this,this.x-9,this.y-m/2),h("ET","Q"),this.y+=d}},c.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},c.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},c.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},r={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},o={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},i={normal:"normal",italic:"italic",oblique:"italic"},TextAlignMap={left:"left",right:"right",center:"center",justify:"justify"},a={none:"none",right:"right",left:"left"},s={none:"none",both:"both"},f={normal:1},t.fromHTML=function(t,e,n,r,i,o){"use strict";return this.margins_doc=o||{top:0,bottom:0},r||(r={}),r.elementHandlers||(r.elementHandlers={}),y(this,t,isNaN(e)?4:e,isNaN(n)?4:n,r,i)}}(jsPDF.API),/** ==================================================================== 
 * jsPDF JavaScript plugin
 * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(t){"use strict";var e,n,r;t.addJS=function(t){return r=t,this.internal.events.subscribe("postPutResources",function(t){e=this.internal.newObject(),this.internal.write("<< /Names [(EmbeddedJS) "+(e+1)+" 0 R] >>","endobj"),n=this.internal.newObject(),this.internal.write("<< /S /JavaScript /JS (",r,") >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==e&&void 0!==n&&this.internal.write("/Names <</JavaScript "+e+" 0 R>>")}),this}}(jsPDF.API),/**@preserve
 *  ==================================================================== 
 * jsPDF PNG PlugIn
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(t){"use strict";var e=function(){return"function"!=typeof PNG||"function"!=typeof FlateStream},n=function(e){return e!==t.image_compression.NONE&&r()},r=function(){var t="function"==typeof Deflater;if(!t)throw new Error("requires deflate.js for compression");return t},i=function(e,n,r,i){var l=5,f=c;switch(i){case t.image_compression.FAST:l=3,f=u;break;case t.image_compression.MEDIUM:l=6,f=h;break;case t.image_compression.SLOW:l=9,f=d}e=s(e,n,r,f);var p=new Uint8Array(o(l)),g=a(e),m=new Deflater(l),v=m.append(e),y=m.flush(),w=p.length+v.length+y.length,b=new Uint8Array(w+4);return b.set(p),b.set(v,p.length),b.set(y,p.length+v.length),b[w++]=g>>>24&255,b[w++]=g>>>16&255,b[w++]=g>>>8&255,b[w++]=255&g,t.arrayBufferToBinaryString(b)},o=function(t,e){var n=8,r=Math.LOG2E*Math.log(32768)-8,i=r<<4|n,o=i<<8,a=Math.min(3,(e-1&255)>>1);return o|=a<<6,o|=0,o+=31-o%31,[i,255&o&255]},a=function(t,e){for(var n,r=1,i=65535&r,o=r>>>16&65535,a=t.length,s=0;a>0;){n=a>e?e:a,a-=n;do i+=t[s++],o+=i;while(--n);i%=65521,o%=65521}return(o<<16|i)>>>0},s=function(t,e,n,r){for(var i,o,a,s=t.length/e,l=new Uint8Array(t.length+s),u=p(),c=0;s>c;c++){if(a=c*e,i=t.subarray(a,a+e),r)l.set(r(i,n,o),a+c);else{for(var h=0,d=u.length,f=[];d>h;h++)f[h]=u[h](i,n,o);var m=g(f.concat());l.set(f[m],a+c)}o=i}return l},l=function(t,e,n){var r=Array.apply([],t);return r.unshift(0),r},u=function(t,e,n){var r,i=[],o=0,a=t.length;for(i[0]=1;a>o;o++)r=t[o-e]||0,i[o+1]=t[o]-r+256&255;return i},c=function(t,e,n){var r,i=[],o=0,a=t.length;for(i[0]=2;a>o;o++)r=n&&n[o]||0,i[o+1]=t[o]-r+256&255;return i},h=function(t,e,n){var r,i,o=[],a=0,s=t.length;for(o[0]=3;s>a;a++)r=t[a-e]||0,i=n&&n[a]||0,o[a+1]=t[a]+256-(r+i>>>1)&255;return o},d=function(t,e,n){var r,i,o,a,s=[],l=0,u=t.length;for(s[0]=4;u>l;l++)r=t[l-e]||0,i=n&&n[l]||0,o=n&&n[l-e]||0,a=f(r,i,o),s[l+1]=t[l]-a+256&255;return s},f=function(t,e,n){var r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),a=Math.abs(r-n);return o>=i&&a>=i?t:a>=o?e:n},p=function(){return[l,u,c,h,d]},g=function(t){for(var e,n,r,i=0,o=t.length;o>i;)e=m(t[i].slice(1)),(n>e||!n)&&(n=e,r=i),i++;return r},m=function(t){for(var e=0,n=t.length,r=0;n>e;)r+=Math.abs(t[e++]);return r};t.processPNG=function(t,r,o,a,s){var l,u,c,h,d,f,p=this.color_spaces.DEVICE_RGB,g=this.decode.FLATE_DECODE,m=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if(e())throw new Error("PNG support requires png.js and zlib.js");if(l=new PNG(t),t=l.imgData,m=l.bits,p=l.colorSpace,h=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits)for(var v,y,w=window["Uint"+l.pixelBitlength+"Array"],b=new w(l.decodePixels().buffer),x=b.length,C=new Uint8Array(x*l.colors),_=new Uint8Array(x),E=l.pixelBitlength-l.bits,T=0,k=0;x>T;T++){for(v=b[T],y=0;E>y;)C[k++]=v>>>y&255,y+=l.bits;_[T]=v>>>y&255}if(16===l.bits){for(var v,b=new Uint32Array(l.decodePixels().buffer),x=b.length,C=new Uint8Array(x*(32/l.pixelBitlength)*l.colors),_=new Uint8Array(x*(32/l.pixelBitlength)),S=l.colors>1,T=0,k=0,$=0;x>T;)v=b[T++],C[k++]=v>>>0&255,S&&(C[k++]=v>>>16&255,v=b[T++],C[k++]=v>>>0&255),_[$++]=v>>>16&255;m=8}n(a)?(t=i(C,l.width*l.colors,l.colors,a),f=i(_,l.width,1,a)):(t=C,f=_,g=null)}if(3===l.colorType&&(p=this.color_spaces.INDEXED,d=l.palette,l.transparency.indexed)){for(var M=l.transparency.indexed,A=0,T=0,x=M.length;x>T;++T)A+=M[T];if(A/=255,A===x-1&&-1!==M.indexOf(0))c=[M.indexOf(0)];else if(A!==x){for(var b=l.decodePixels(),_=new Uint8Array(b.length),T=0,x=b.length;x>T;T++)_[T]=M[b[T]];f=i(_,l.width,1)}}return u=g===this.decode.FLATE_DECODE?"/Predictor 15 /Colors "+h+" /BitsPerComponent "+m+" /Columns "+l.width:"/Colors "+h+" /BitsPerComponent "+m+" /Columns "+l.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(f&&this.isArrayBuffer(f)||this.isArrayBufferView(f))&&(f=this.arrayBufferToBinaryString(f)),this.createImageInfo(t,l.width,l.height,p,m,g,r,o,u,c,d,f)}throw new Error("Unsupported PNG image data, try using JPEG instead.")}}(jsPDF.API),function(t){"use strict";t.addSVG=function(t,e,n,r,i){function o(t,e){var n=e.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(e.createTextNode(t)),e.getElementsByTagName("head")[0].appendChild(n)}function a(t){var e="childframe",n=t.createElement("iframe");return o(".jsPDF_sillysvg_iframe {display:none;position:absolute;}",t),n.name=e,n.setAttribute("width",0),n.setAttribute("height",0),n.setAttribute("frameborder","0"),n.setAttribute("scrolling","no"),n.setAttribute("seamless","seamless"),n.setAttribute("class","jsPDF_sillysvg_iframe"),t.body.appendChild(n),n}function s(t,e){var n=(e.contentWindow||e.contentDocument).document;return n.write(t),n.close(),n.getElementsByTagName("svg")[0]}function l(t){for(var e=parseFloat(t[1]),n=parseFloat(t[2]),r=[],i=3,o=t.length;o>i;)"c"===t[i]?(r.push([parseFloat(t[i+1]),parseFloat(t[i+2]),parseFloat(t[i+3]),parseFloat(t[i+4]),parseFloat(t[i+5]),parseFloat(t[i+6])]),i+=7):"l"===t[i]?(r.push([parseFloat(t[i+1]),parseFloat(t[i+2])]),i+=3):i+=1;return[e,n,r]}var u;if(e===u||n===u)throw new Error("addSVG needs values for 'x' and 'y'");var c=a(document),h=s(t,c),d=[1,1],f=parseFloat(h.getAttribute("width")),p=parseFloat(h.getAttribute("height"));f&&p&&(r&&i?d=[r/f,i/p]:r?d=[r/f,r/f]:i&&(d=[i/p,i/p]));var g,m,v,y,w=h.childNodes;for(g=0,m=w.length;m>g;g++)v=w[g],v.tagName&&"PATH"===v.tagName.toUpperCase()&&(y=l(v.getAttribute("d").split(" ")),y[0]=y[0]*d[0]+e,y[1]=y[1]*d[1]+n,this.lines.call(this,y[2],y[0],y[1],d));return this}}(jsPDF.API),function(t){"use strict";var e=t.getCharWidthsArray=function(t,e){e||(e={});var n,r,i,o=e.widths?e.widths:this.internal.getFont().metadata.Unicode.widths,a=o.fof?o.fof:1,s=e.kerning?e.kerning:this.internal.getFont().metadata.Unicode.kerning,l=s.fof?s.fof:1,u=0,c=o[0]||a,h=[];for(n=0,r=t.length;r>n;n++)i=t.charCodeAt(n),h.push((o[i]||c)/a+(s[i]&&s[i][u]||0)/l),u=i;return h},n=function(t){for(var e=t.length,n=0;e;)e--,n+=t[e];return n},r=t.getStringUnitWidth=function(t,r){return n(e.call(this,t,r))},i=function(t,e,n,r){for(var i=[],o=0,a=t.length,s=0;o!==a&&s+e[o]<n;)s+=e[o],o++;i.push(t.slice(0,o));var l=o;for(s=0;o!==a;)s+e[o]>r&&(i.push(t.slice(l,o)),s=0,l=o),s+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},o=function(t,o,a){a||(a={});var s,l,u,c,h,d,f=[],p=[f],g=a.textIndent||0,m=0,v=0,y=t.split(" "),w=e(" ",a)[0];if(d=-1===a.lineIndent?y[0].length+2:a.lineIndent||0){var b=Array(d).join(" "),x=[];y.map(function(t){t=t.split(/\s*\n/),t.length>1?x=x.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):x.push(t[0])}),y=x,d=r(b,a)}for(u=0,c=y.length;c>u;u++){var C=0;if(s=y[u],d&&"\n"==s[0]&&(s=s.substr(1),C=1),l=e(s,a),v=n(l),g+m+v>o||C){if(v>o){for(h=i(s,l,o-(g+m),o),f.push(h.shift()),f=[h.pop()];h.length;)p.push([h.shift()]);v=n(l.slice(s.length-f[0].length))}else f=[s];p.push(f),g=v+d,m=w}else f.push(s),g+=m+v,m=w}if(d)var _=function(t,e){return(e?b:"")+t.join(" ")};else var _=function(t){return t.join(" ")};return p.map(_)};t.splitTextToSize=function(t,e,n){n||(n={});var r,i=n.fontSize||this.internal.getFontSize(),a=function(t){var e={0:1},n={};if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var r=this.internal.getFont(t.fontName,t.fontStyle),i="Unicode";return r.metadata[i]?{widths:r.metadata[i].widths||e,kerning:r.metadata[i].kerning||n}:{widths:e,kerning:n}}.call(this,n);r=Array.isArray(t)?t:t.split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var l,u,c=[];for(l=0,u=r.length;u>l;l++)c=c.concat(o(r[l],s,a));return c}}(jsPDF.API),function(t){"use strict";var e=function(t){for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i=0;i<n.length;i++)r[n[i]]=e[i];var o,a,s,l,u,c={},h=1,d=c,f=[],p="",g="",m=t.length-1;for(i=1;i!=m;)u=t[i],i+=1,"'"==u?a?(l=a.join(""),a=o):a=[]:a?a.push(u):"{"==u?(f.push([d,l]),d={},l=o):"}"==u?(s=f.pop(),s[0][s[1]]=d,l=o,d=s[0]):"-"==u?h=-1:l===o?r.hasOwnProperty(u)?(p+=r[u],l=parseInt(p,16)*h,h=1,p=""):p+=u:r.hasOwnProperty(u)?(g+=r[u],d[l]=parseInt(g,16)*h,h=1,l=o,g=""):g+=u;return c},n={codePages:["WinAnsiEncoding"],WinAnsiEncoding:e("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},r={Unicode:{Courier:n,"Courier-Bold":n,"Courier-BoldOblique":n,"Courier-Oblique":n,Helvetica:n,"Helvetica-Bold":n,"Helvetica-BoldOblique":n,"Helvetica-Oblique":n,"Times-Roman":n,"Times-Bold":n,"Times-BoldItalic":n,"Times-Italic":n}},i={Unicode:{"Courier-Oblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":e("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":e("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":e("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":e("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFonts",function(t){var e,n,o,a,s,l="Unicode";for(n in t.fonts)t.fonts.hasOwnProperty(n)&&(e=t.fonts[n],o=i[l][e.PostScriptName],o&&(a=e.metadata[l]?e.metadata[l]:e.metadata[l]={},a.widths=o.widths,a.kerning=o.kerning),s=r[l][e.PostScriptName],s&&(a=e.metadata[l]?e.metadata[l]:e.metadata[l]={},a.encoding=s,s.codePages&&s.codePages.length&&(e.encoding=s.codePages[0])))}])}(jsPDF.API),/** ==================================================================== 
 * jsPDF total_pages plugin
 * Copyright (c) 2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(t){"use strict";t.putTotalPages=function(t){for(var e=new RegExp(t,"g"),n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(e,this.internal.getNumberOfPages());return this}}(jsPDF.API),/* Blob.js
 * A Blob implementation.
 * 2014-07-24
 *
 * By Eli Grey, http://eligrey.com
 * By Devin Samarin, https://github.com/dsamarin
 * License: X11/MIT
 *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md
 */
/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(e){}var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},i=n.prototype,o=r.prototype,a=t.FileReaderSync,s=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,c=t.URL||t.webkitURL||t,h=c.createObjectURL,d=c.revokeObjectURL,f=c,p=t.btoa,g=t.atob,m=t.ArrayBuffer,v=t.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(r.fake=o.fake=!0;u--;)s.prototype[l[u]]=u+1;return c.createObjectURL||(f=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(y),n.origin=e&&e[1])),n}),f.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof r?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):h?h.call(c,t):void 0},f.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&d&&d.call(c,t)},i.append=function(t){var n=this.data;if(v&&(t instanceof m||t instanceof v)){for(var i="",o=new v(t),l=0,u=o.length;u>l;l++)i+=String.fromCharCode(o[l]);n.push(i)}else if("Blob"===e(t)||"File"===e(t)){if(!a)throw new s("NOT_READABLE_ERR");var c=new a;n.push(c.readAsBinaryString(t))}else t instanceof r?"base64"===t.encoding&&g?n.push(g(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},i.getBlob=function(t){return arguments.length||(t=null),new r(this.data.join(""),t,"raw")},i.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var i=arguments.length;return 3>i&&(n=null),new r(this.data.slice(t,i>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(t);t.Blob=function(t,e){var r=e?e.type||"":"",i=new n;if(t)for(var o=0,a=t.length;a>o;o++)i.append(t[o]);return i.getBlob(r)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);/* FileSaver.js
 * A saveAs() FileSaver implementation.
 * 2014-08-29
 *
 * By Eli Grey, http://eligrey.com
 * License: X11/MIT
 *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md
 */
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(n){var r=e.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)},a=t.webkitRequestFileSystem,s=t.requestFileSystem||a||t.mozRequestFileSystem,l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",c=0,h=10,d=function(e){var r=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};t.chrome?r():setTimeout(r,h)},f=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(o){l(o)}}},p=function(e,l){var h,p,g,m=this,v=e.type,y=!1,w=function(){f(m,"writestart progress write writeend".split(" "))},b=function(){if((y||!h)&&(h=n().createObjectURL(e)),p)p.location.href=h;else{var r=t.open(h,"_blank");void 0==r&&"undefined"!=typeof safari&&(t.location.href=h)}m.readyState=m.DONE,w(),d(h)},x=function(t){return function(){return m.readyState!==m.DONE?t.apply(this,arguments):void 0}},C={create:!0,exclusive:!1};return m.readyState=m.INIT,l||(l="download"),i?(h=n().createObjectURL(e),r.href=h,r.download=l,o(r),m.readyState=m.DONE,w(),void d(h)):(t.chrome&&v&&v!==u&&(g=e.slice||e.webkitSlice,e=g.call(e,0,e.size,u),y=!0),a&&"download"!==l&&(l+=".download"),(v===u||a)&&(p=t),s?(c+=e.size,void s(t.TEMPORARY,c,x(function(t){t.root.getDirectory("saved",C,x(function(t){var n=function(){t.getFile(l,C,x(function(t){t.createWriter(x(function(n){n.onwriteend=function(e){p.location.href=t.toURL(),m.readyState=m.DONE,f(m,"writeend",e),d(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&b()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=m["on"+t]}),n.write(e),m.abort=function(){n.abort(),m.readyState=m.DONE},m.readyState=m.WRITING}),b)}),b)};t.getFile(l,{create:!1},x(function(t){t.remove(),n()}),x(function(t){t.code===t.NOT_FOUND_ERR?n():b()}))}),b)}),b)):void b())},g=p.prototype,m=function(t,e){return new p(t,e)};return g.abort=function(){var t=this;t.readyState=t.DONE,f(t,"abort")},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,m}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&null!==module?module.exports=saveAs:("undefined"!=typeof define,1),/*
 * Copyright (c) 2012 chick307 <chick307@gmail.com>
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
void function(t,e){"object"==typeof module?module.exports=e():t.adler32cs=e()}(jsPDF,function(){var t="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,e=null,n=function(){if(!t)return function(){return!1};try{var n=require("buffer");"function"==typeof n.Buffer&&(e=n.Buffer)}catch(r){}return function(t){return t instanceof ArrayBuffer||null!==e&&t instanceof e}}(),r=function(){return null!==e?function(t){return new e(t,"utf8").toString("binary")}:function(t){return unescape(encodeURIComponent(t))}}(),i=65521,o=function(t,e){for(var n=65535&t,r=t>>>16,o=0,a=e.length;a>o;o++)n=(n+(255&e.charCodeAt(o)))%i,r=(r+n)%i;return(r<<16|n)>>>0},a=function(t,e){for(var n=65535&t,r=t>>>16,o=0,a=e.length;a>o;o++)n=(n+e[o])%i,r=(r+n)%i;return(r<<16|n)>>>0},s={},l=s.Adler32=function(){var e=function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(t=null==t?1:+t))throw new Error("First arguments needs to be a finite number.");this.checksum=t>>>0},i=e.prototype={};return i.constructor=e,e.from=function(t){return t.prototype=i,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");this.checksum=o(1,t.toString())}),e.fromUtf8=function(t){return t.prototype=i,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");var n=r(t.toString());this.checksum=o(1,n)}),t&&(e.fromBuffer=function(t){return t.prototype=i,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!n(t))throw new Error("First argument needs to be ArrayBuffer.");var r=new Uint8Array(t);return this.checksum=a(1,r)})),i.update=function(t){if(null==t)throw new Error("First argument needs to be a string.");return t=t.toString(),this.checksum=o(this.checksum,t)},i.updateUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=r(t.toString());return this.checksum=o(this.checksum,e)},t&&(i.updateBuffer=function(t){if(!n(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=a(this.checksum,e)}),i.clone=function(){return new l(this.checksum)},e}();return s.from=function(t){if(null==t)throw new Error("First argument needs to be a string.");return o(1,t.toString())},s.fromUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=r(t.toString());return o(1,e)},t&&(s.fromBuffer=function(t){if(!n(t))throw new Error("First argument need to be ArrayBuffer.");var e=new Uint8Array(t);return a(1,e)}),s});/*
 Deflate.js - https://github.com/gildas-lormeau/zip.js
 Copyright (c) 2013 Gildas Lormeau. All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 1. Redistributions of source code must retain the above copyright notice,
 this list of conditions and the following disclaimer.

 2. Redistributions in binary form must reproduce the above copyright 
 notice, this list of conditions and the following disclaimer in 
 the documentation and/or other materials provided with the distribution.

 3. The names of the authors may not be used to endorse or promote products
 derived from this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
 INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
 INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
 INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
 OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
var Deflater=function(t){function e(){function t(t){var e,n,i,o,a,l,u=r.dyn_tree,c=r.stat_desc.static_tree,h=r.stat_desc.extra_bits,d=r.stat_desc.extra_base,p=r.stat_desc.max_length,g=0;for(o=0;s>=o;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;f>e;e++)n=t.heap[e],o=u[2*u[2*n+1]+1]+1,o>p&&(o=p,g++),u[2*n+1]=o,n>r.max_code||(t.bl_count[o]++,a=0,n>=d&&(a=h[n-d]),l=u[2*n],t.opt_len+=l*(o+a),c&&(t.static_len+=l*(c[2*n+1]+a)));if(0!==g){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(o=p;0!==o;o--)for(n=t.bl_count[o];0!==n;)i=t.heap[--e],i>r.max_code||(u[2*i+1]!=o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}function e(t,e){var n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1}function n(t,n,r){var i,o,a,l=[],u=0;for(i=1;s>=i;i++)l[i]=u=u+r[i-1]<<1;for(o=0;n>=o;o++)a=t[2*o+1],0!==a&&(t[2*o]=e(l[a]++,a))}var r=this;r.build_tree=function(e){var i,o,a,s=r.dyn_tree,l=r.stat_desc.static_tree,u=r.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=f,i=0;u>i;i++)0!==s[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):s[2*i+1]=0;for(;e.heap_len<2;)a=e.heap[++e.heap_len]=2>c?++c:0,s[2*a]=1,e.depth[a]=0,e.opt_len--,l&&(e.static_len-=l[2*a+1]);for(r.max_code=c,i=Math.floor(e.heap_len/2);i>=1;i--)e.pqdownheap(s,i);a=u;do i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],e.pqdownheap(s,1),o=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=o,s[2*a]=s[2*i]+s[2*o],e.depth[a]=Math.max(e.depth[i],e.depth[o])+1,s[2*i+1]=s[2*o+1]=a,e.heap[1]=a++,e.pqdownheap(s,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],t(e),n(s,r.max_code,e.bl_count)}}function n(t,e,n,r,i){var o=this;o.static_tree=t,o.extra_bits=e,o.extra_base=n,o.elems=r,o.max_length=i}function r(t,e,n,r,i){var o=this;o.good_length=t,o.max_lazy=e,o.nice_length=n,o.max_chain=r,o.func=i}function i(t,e,n,r){var i=t[2*e],o=t[2*n];return o>i||i==o&&r[e]<=r[n]}function o(){function t(){var t;for(At=2*kt,Dt[Pt-1]=0,t=0;Pt-1>t;t++)Dt[t]=0;Yt=j[Gt].max_lazy,Kt=j[Gt].good_length,Zt=j[Gt].nice_length,Ut=j[Gt].max_chain,Vt=0,It=0,zt=0,Bt=Wt=tt-1,Ft=0,Ot=0}function r(){var t;for(t=0;d>t;t++)Jt[2*t]=0;for(t=0;l>t;t++)Qt[2*t]=0;for(t=0;u>t;t++)te[2*t]=0;Jt[2*p]=1,ee.opt_len=ee.static_len=0,se=ue=0}function o(){ne.dyn_tree=Jt,ne.stat_desc=n.static_l_desc,re.dyn_tree=Qt,re.stat_desc=n.static_d_desc,ie.dyn_tree=te,ie.stat_desc=n.static_bl_desc,he=0,de=0,ce=8,r()}function a(t,e){var n,r,i=-1,o=t[1],a=0,s=7,l=4;for(0===o&&(s=138,l=3),t[2*(e+1)+1]=65535,n=0;e>=n;n++)r=o,o=t[2*(n+1)+1],++a<s&&r==o||(l>a?te[2*r]+=a:0!==r?(r!=i&&te[2*r]++,te[2*m]++):10>=a?te[2*v]++:te[2*y]++,a=0,i=r,0===o?(s=138,l=3):r==o?(s=6,l=3):(s=7,l=4))}function s(){var t;for(a(Jt,ne.max_code),a(Qt,re.max_code),ie.build_tree(ee),t=u-1;t>=3&&0===te[2*e.bl_order[t]+1];t--);return ee.opt_len+=3*(t+1)+5+5+4,t}function c(t){ee.pending_buf[ee.pending++]=t}function f(t){c(255&t),c(t>>>8&255)}function g(t){c(t>>8&255),c(255&t&255)}function P(t,e){var n,r=e;de>w-r?(n=t,he|=n<<de&65535,f(he),he=n>>>w-de,de+=r-w):(he|=t<<de&65535,de+=r)}function rt(t,e){var n=2*t;P(65535&e[n],65535&e[n+1])}function it(t,e){var n,r,i=-1,o=t[1],a=0,s=7,l=4;for(0===o&&(s=138,l=3),n=0;e>=n;n++)if(r=o,o=t[2*(n+1)+1],!(++a<s&&r==o)){if(l>a){do rt(r,te);while(0!==--a)}else 0!==r?(r!=i&&(rt(r,te),a--),rt(m,te),P(a-3,2)):10>=a?(rt(v,te),P(a-3,3)):(rt(y,te),P(a-11,7));a=0,i=r,0===o?(s=138,l=3):r==o?(s=6,l=3):(s=7,l=4)}}function ot(t,n,r){var i;for(P(t-257,5),P(n-1,5),P(r-4,4),i=0;r>i;i++)P(te[2*e.bl_order[i]+1],3);it(Jt,t-1),it(Qt,n-1)}function at(){16==de?(f(he),he=0,de=0):de>=8&&(c(255&he),he>>>=8,de-=8)}function st(){P(J<<1,3),rt(p,n.static_ltree),at(),9>1+ce+10-de&&(P(J<<1,3),rt(p,n.static_ltree),at()),ce=7}function lt(t,n){var r,i,o;if(ee.pending_buf[le+2*se]=t>>>8&255,ee.pending_buf[le+2*se+1]=255&t,ee.pending_buf[oe+se]=255&n,se++,0===t?Jt[2*n]++:(ue++,t--,Jt[2*(e._length_code[n]+h+1)]++,Qt[2*e.d_code(t)]++),0===(8191&se)&&Gt>2){for(r=8*se,i=Vt-It,o=0;l>o;o++)r+=Qt[2*o]*(5+e.extra_dbits[o]);if(r>>>=3,ue<Math.floor(se/2)&&r<Math.floor(i/2))return!0}return se==ae-1}function ut(t,n){var r,i,o,a,s=0;if(0!==se)do r=ee.pending_buf[le+2*s]<<8&65280|255&ee.pending_buf[le+2*s+1],i=255&ee.pending_buf[oe+s],s++,0===r?rt(i,t):(o=e._length_code[i],rt(o+h+1,t),a=e.extra_lbits[o],0!==a&&(i-=e.base_length[o],P(i,a)),r--,o=e.d_code(r),rt(o,n),a=e.extra_dbits[o],0!==a&&(r-=e.base_dist[o],P(r,a)));while(se>s);rt(p,t),ce=t[2*p+1]}function ct(){de>8?f(he):de>0&&c(255&he),he=0,de=0}function ht(t,e,n){ct(),ce=8,n&&(f(e),f(~e)),ee.pending_buf.set(Mt.subarray(t,t+e),ee.pending),ee.pending+=e}function dt(t,e,n){P((Z<<1)+(n?1:0),3),ht(t,e,!0)}function ft(t,e,i){var o,a,l=0;Gt>0?(ne.build_tree(ee),re.build_tree(ee),l=s(),o=ee.opt_len+3+7>>>3,a=ee.static_len+3+7>>>3,o>=a&&(o=a)):o=a=e+5,o>=e+4&&-1!=t?dt(t,e,i):a==o?(P((J<<1)+(i?1:0),3),ut(n.static_ltree,n.static_dtree)):(P((Q<<1)+(i?1:0),3),ot(ne.max_code+1,re.max_code+1,l+1),ut(Jt,Qt)),r(),i&&ct()}function pt(t){ft(It>=0?It:-1,Vt-It,t),It=Vt,xt.flush_pending()}function gt(){var t,e,n,r;do{if(r=At-zt-Vt,0===r&&0===Vt&&0===zt)r=kt;else if(-1==r)r--;else if(Vt>=kt+kt-nt){Mt.set(Mt.subarray(kt,kt+kt),0),qt-=kt,Vt-=kt,It-=kt,t=Pt,n=t;do e=65535&Dt[--n],Dt[n]=e>=kt?e-kt:0;while(0!==--t);t=kt,n=t;do e=65535&Rt[--n],Rt[n]=e>=kt?e-kt:0;while(0!==--t);r+=kt}if(0===xt.avail_in)return;t=xt.read_buf(Mt,Vt+zt,r),zt+=t,zt>=tt&&(Ot=255&Mt[Vt],Ot=(Ot<<Nt^255&Mt[Vt+1])&Lt)}while(nt>zt&&0!==xt.avail_in)}function mt(t){var e,n=65535;for(n>_t-5&&(n=_t-5);;){if(1>=zt){if(gt(),0===zt&&t==E)return V;if(0===zt)break}if(Vt+=zt,zt=0,e=It+n,(0===Vt||Vt>=e)&&(zt=Vt-e,Vt=e,pt(!1),0===xt.avail_out))return V;if(Vt-It>=kt-nt&&(pt(!1),0===xt.avail_out))return V}return pt(t==S),0===xt.avail_out?t==S?z:V:t==S?W:q}function vt(t){var e,n,r=Ut,i=Vt,o=Wt,a=Vt>kt-nt?Vt-(kt-nt):0,s=Zt,l=$t,u=Vt+et,c=Mt[i+o-1],h=Mt[i+o];Wt>=Kt&&(r>>=2),s>zt&&(s=zt);do if(e=t,Mt[e+o]==h&&Mt[e+o-1]==c&&Mt[e]==Mt[i]&&Mt[++e]==Mt[i+1]){i+=2,e++;do;while(Mt[++i]==Mt[++e]&&Mt[++i]==Mt[++e]&&Mt[++i]==Mt[++e]&&Mt[++i]==Mt[++e]&&Mt[++i]==Mt[++e]&&Mt[++i]==Mt[++e]&&Mt[++i]==Mt[++e]&&Mt[++i]==Mt[++e]&&u>i);if(n=et-(u-i),i=u-et,n>o){if(qt=t,o=n,n>=s)break;c=Mt[i+o-1],h=Mt[i+o]}}while((t=65535&Rt[t&l])>a&&0!==--r);return zt>=o?o:zt}function yt(t){for(var e,n=0;;){if(nt>zt){if(gt(),nt>zt&&t==E)return V;if(0===zt)break}if(zt>=tt&&(Ot=(Ot<<Nt^255&Mt[Vt+(tt-1)])&Lt,n=65535&Dt[Ot],Rt[Vt&$t]=Dt[Ot],Dt[Ot]=Vt),0!==n&&kt-nt>=(Vt-n&65535)&&Xt!=C&&(Bt=vt(n)),Bt>=tt)if(e=lt(Vt-qt,Bt-tt),zt-=Bt,Yt>=Bt&&zt>=tt){Bt--;do Vt++,Ot=(Ot<<Nt^255&Mt[Vt+(tt-1)])&Lt,n=65535&Dt[Ot],Rt[Vt&$t]=Dt[Ot],Dt[Ot]=Vt;while(0!==--Bt);Vt++}else Vt+=Bt,Bt=0,Ot=255&Mt[Vt],Ot=(Ot<<Nt^255&Mt[Vt+1])&Lt;else e=lt(0,255&Mt[Vt]),zt--,Vt++;if(e&&(pt(!1),0===xt.avail_out))return V}return pt(t==S),0===xt.avail_out?t==S?z:V:t==S?W:q}function wt(t){for(var e,n,r=0;;){if(nt>zt){if(gt(),nt>zt&&t==E)return V;if(0===zt)break}if(zt>=tt&&(Ot=(Ot<<Nt^255&Mt[Vt+(tt-1)])&Lt,r=65535&Dt[Ot],Rt[Vt&$t]=Dt[Ot],Dt[Ot]=Vt),Wt=Bt,jt=qt,Bt=tt-1,0!==r&&Yt>Wt&&kt-nt>=(Vt-r&65535)&&(Xt!=C&&(Bt=vt(r)),5>=Bt&&(Xt==x||Bt==tt&&Vt-qt>4096)&&(Bt=tt-1)),Wt>=tt&&Wt>=Bt){n=Vt+zt-tt,e=lt(Vt-1-jt,Wt-tt),zt-=Wt-1,Wt-=2;do++Vt<=n&&(Ot=(Ot<<Nt^255&Mt[Vt+(tt-1)])&Lt,r=65535&Dt[Ot],Rt[Vt&$t]=Dt[Ot],Dt[Ot]=Vt);while(0!==--Wt);if(Ft=0,Bt=tt-1,Vt++,e&&(pt(!1),0===xt.avail_out))return V}else if(0!==Ft){if(e=lt(0,255&Mt[Vt-1]),e&&pt(!1),Vt++,zt--,0===xt.avail_out)return V}else Ft=1,Vt++,zt--}return 0!==Ft&&(e=lt(0,255&Mt[Vt-1]),Ft=0),pt(t==S),0===xt.avail_out?t==S?z:V:t==S?W:q}function bt(e){return e.total_in=e.total_out=0,e.msg=null,ee.pending=0,ee.pending_out=0,Ct=G,Tt=E,o(),t(),$}var xt,Ct,_t,Et,Tt,kt,St,$t,Mt,At,Rt,Dt,Ot,Pt,Ht,Lt,Nt,It,Bt,jt,Ft,Vt,qt,zt,Wt,Ut,Yt,Gt,Xt,Kt,Zt,Jt,Qt,te,ee=this,ne=new e,re=new e,ie=new e;ee.depth=[];var oe,ae,se,le,ue,ce,he,de;ee.bl_count=[],ee.heap=[],Jt=[],Qt=[],te=[],ee.pqdownheap=function(t,e){for(var n=ee.heap,r=n[e],o=e<<1;o<=ee.heap_len&&(o<ee.heap_len&&i(t,n[o+1],n[o],ee.depth)&&o++,!i(t,r,n[o],ee.depth));)n[e]=n[o],e=o,o<<=1;n[e]=r},ee.deflateInit=function(t,e,n,r,i,o){return r||(r=K),i||(i=L),o||(o=_),t.msg=null,e==b&&(e=6),1>i||i>H||r!=K||9>n||n>15||0>e||e>9||0>o||o>C?R:(t.dstate=ee,St=n,kt=1<<St,$t=kt-1,Ht=i+7,Pt=1<<Ht,Lt=Pt-1,Nt=Math.floor((Ht+tt-1)/tt),Mt=new Uint8Array(2*kt),Rt=[],Dt=[],ae=1<<i+6,ee.pending_buf=new Uint8Array(4*ae),_t=4*ae,le=Math.floor(ae/2),oe=3*ae,Gt=e,Xt=o,Et=255&r,bt(t))},ee.deflateEnd=function(){return Ct!=Y&&Ct!=G&&Ct!=X?R:(ee.pending_buf=null,Dt=null,Rt=null,Mt=null,ee.dstate=null,Ct==G?D:$)},ee.deflateParams=function(t,e,n){var r=$;return e==b&&(e=6),0>e||e>9||0>n||n>C?R:(j[Gt].func!=j[e].func&&0!==t.total_in&&(r=t.deflate(T)),Gt!=e&&(Gt=e,Yt=j[Gt].max_lazy,Kt=j[Gt].good_length,Zt=j[Gt].nice_length,Ut=j[Gt].max_chain),Xt=n,r)},ee.deflateSetDictionary=function(t,e,n){var r,i=n,o=0;if(!e||Ct!=Y)return R;if(tt>i)return $;for(i>kt-nt&&(i=kt-nt,o=n-i),Mt.set(e.subarray(o,o+i),0),Vt=i,It=i,Ot=255&Mt[0],Ot=(Ot<<Nt^255&Mt[1])&Lt,r=0;i-tt>=r;r++)Ot=(Ot<<Nt^255&Mt[r+(tt-1)])&Lt,Rt[r&$t]=Dt[Ot],Dt[Ot]=r;return $},ee.deflate=function(t,e){var n,r,i,o,a;if(e>S||0>e)return R;if(!t.next_out||!t.next_in&&0!==t.avail_in||Ct==X&&e!=S)return t.msg=F[A-R],R;if(0===t.avail_out)return t.msg=F[A-O],O;if(xt=t,o=Tt,Tt=e,Ct==Y&&(r=K+(St-8<<4)<<8,i=(Gt-1&255)>>1,i>3&&(i=3),r|=i<<6,0!==Vt&&(r|=U),r+=31-r%31,Ct=G,g(r)),0!==ee.pending){if(xt.flush_pending(),0===xt.avail_out)return Tt=-1,$}else if(0===xt.avail_in&&o>=e&&e!=S)return xt.msg=F[A-O],O;if(Ct==X&&0!==xt.avail_in)return t.msg=F[A-O],O;if(0!==xt.avail_in||0!==zt||e!=E&&Ct!=X){switch(a=-1,j[Gt].func){case N:a=mt(e);break;case I:a=yt(e);break;case B:a=wt(e)}if((a==z||a==W)&&(Ct=X),a==V||a==z)return 0===xt.avail_out&&(Tt=-1),$;if(a==q){if(e==T)st();else if(dt(0,0,!1),e==k)for(n=0;Pt>n;n++)Dt[n]=0;if(xt.flush_pending(),0===xt.avail_out)return Tt=-1,$}}return e!=S?$:M}}function a(){var t=this;t.next_in_index=0,t.next_out_index=0,t.avail_in=0,t.total_in=0,t.avail_out=0,t.total_out=0}var s=15,l=30,u=19,c=29,h=256,d=h+1+c,f=2*d+1,p=256,g=7,m=16,v=17,y=18,w=16,b=-1,x=1,C=2,_=0,E=0,T=1,k=3,S=4,$=0,M=1,A=2,R=-2,D=-3,O=-5,P=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];e._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],e.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],e.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],e.d_code=function(t){return 256>t?P[t]:P[256+(t>>>7)]},e.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],e.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],e.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],e.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],n.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],n.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],n.static_l_desc=new n(n.static_ltree,e.extra_lbits,h+1,d,s),n.static_d_desc=new n(n.static_dtree,e.extra_dbits,0,l,s),n.static_bl_desc=new n(null,e.extra_blbits,0,u,g);var H=9,L=8,N=0,I=1,B=2,j=[new r(0,0,0,0,N),new r(4,4,8,4,I),new r(4,5,16,8,I),new r(4,6,32,32,I),new r(4,4,16,16,B),new r(8,16,32,32,B),new r(8,16,128,128,B),new r(8,32,128,256,B),new r(32,128,258,1024,B),new r(32,258,258,4096,B)],F=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],V=0,q=1,z=2,W=3,U=32,Y=42,G=113,X=666,K=8,Z=0,J=1,Q=2,tt=3,et=258,nt=et+tt+1;return a.prototype={deflateInit:function(t,e){var n=this;return n.dstate=new o,e||(e=s),n.dstate.deflateInit(n,t,e)},deflate:function(t){var e=this;return e.dstate?e.dstate.deflate(e,t):R},deflateEnd:function(){var t=this;if(!t.dstate)return R;var e=t.dstate.deflateEnd();return t.dstate=null,e},deflateParams:function(t,e){var n=this;return n.dstate?n.dstate.deflateParams(n,t,e):R},deflateSetDictionary:function(t,e){var n=this;return n.dstate?n.dstate.deflateSetDictionary(n,t,e):R},read_buf:function(t,e,n){var r=this,i=r.avail_in;return i>n&&(i=n),0===i?0:(r.avail_in-=i,t.set(r.next_in.subarray(r.next_in_index,r.next_in_index+i),e),r.next_in_index+=i,r.total_in+=i,i)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}},function(t){var e=this,n=new a,r=512,i=E,o=new Uint8Array(r);"undefined"==typeof t&&(t=b),n.deflateInit(t),n.next_out=o,e.append=function(t,e){var a,s,l=[],u=0,c=0,h=0;if(t.length){n.next_in_index=0,n.next_in=t,n.avail_in=t.length;do{if(n.next_out_index=0,n.avail_out=r,a=n.deflate(i),a!=$)throw"deflating: "+n.msg;n.next_out_index&&l.push(n.next_out_index==r?new Uint8Array(o):new Uint8Array(o.subarray(0,n.next_out_index))),h+=n.next_out_index,e&&n.next_in_index>0&&n.next_in_index!=u&&(e(n.next_in_index),u=n.next_in_index)}while(n.avail_in>0||0===n.avail_out);return s=new Uint8Array(h),l.forEach(function(t){s.set(t,c),c+=t.length}),s}},e.flush=function(){var t,e,i=[],a=0,s=0;do{if(n.next_out_index=0,n.avail_out=r,t=n.deflate(S),t!=M&&t!=$)throw"deflating: "+n.msg;r-n.avail_out>0&&i.push(new Uint8Array(o.subarray(0,n.next_out_index))),s+=n.next_out_index}while(n.avail_in>0||0===n.avail_out);return n.deflateEnd(),e=new Uint8Array(s),i.forEach(function(t){e.set(t,a),a+=t.length}),e}}}(this);/*
# PNG.js
# Copyright (c) 2011 Devon Govett
# MIT LICENSE
# 
# Permission is hereby granted, free of charge, to any person obtaining a copy of this 
# software and associated documentation files (the "Software"), to deal in the Software 
# without restriction, including without limitation the rights to use, copy, modify, merge, 
# publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons 
# to whom the Software is furnished to do so, subject to the following conditions:
# 
# The above copyright notice and this permission notice shall be included in all copies or 
# substantial portions of the Software.
# 
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING 
# BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, 
# DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
!function(t){var e;e=function(){function e(t){var e,n,r,i,o,a,s,l,u,c,h,d,f,p,g;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(e=this.readUInt32(),c=function(){var t,e;for(e=[],s=t=0;4>t;s=++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,a.delay=1e3*o/i,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,e-=4),t=(null!=a?a.data:void 0)||this.imgData,s=f=0;e>=0?e>f:f>e;s=e>=0?++f:--f)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if(h=r-this.transparency.indexed.length,h>0)for(s=p=0;h>=0?h>p:p>h;s=h>=0?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":d=this.read(e),l=d.indexOf(0),u=String.fromCharCode.apply(String,d.slice(0,l)),this.text[u]=String.fromCharCode.apply(String,d.slice(l+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(g=this.colorType)||6===g,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}var n,r,i,o,a,s,l,u;e.load=function(t,n,r){var i;return"function"==typeof n&&(r=n),i=new XMLHttpRequest,i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){var t,o;return t=new Uint8Array(i.response||i.mozResponseArrayBuffer),o=new e(t),"function"==typeof(null!=n?n.getContext:void 0)&&o.render(n),"function"==typeof r?r(o):void 0},i.send(null)},o=0,i=1,a=2,r=0,n=1,e.prototype.read=function(t){var e,n,r;for(r=[],e=n=0;t>=0?t>n:n>t;e=t>=0?++n:--n)r.push(this.data[this.pos++]);return r},e.prototype.readUInt32=function(){var t,e,n,r;return t=this.data[this.pos++]<<24,e=this.data[this.pos++]<<16,n=this.data[this.pos++]<<8,r=this.data[this.pos++],t|e|n|r},e.prototype.readUInt16=function(){var t,e;return t=this.data[this.pos++]<<8,e=this.data[this.pos++],t|e},e.prototype.decodePixels=function(t){var e,n,r,i,o,a,s,l,u,c,h,d,f,p,g,m,v,y,w,b,x,C,_;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);for(t=new FlateStream(t),t=t.getBytes(),d=this.pixelBitlength/8,m=d*this.width,f=new Uint8Array(m*this.height),a=t.length,g=0,p=0,n=0;a>p;){switch(t[p++]){case 0:for(i=w=0;m>w;i=w+=1)f[n++]=t[p++];break;case 1:for(i=b=0;m>b;i=b+=1)e=t[p++],o=d>i?0:f[n-d],f[n++]=(e+o)%256;break;case 2:for(i=x=0;m>x;i=x+=1)e=t[p++],r=(i-i%d)/d,v=g&&f[(g-1)*m+r*d+i%d],f[n++]=(v+e)%256;break;case 3:for(i=C=0;m>C;i=C+=1)e=t[p++],r=(i-i%d)/d,o=d>i?0:f[n-d],v=g&&f[(g-1)*m+r*d+i%d],f[n++]=(e+Math.floor((o+v)/2))%256;break;case 4:for(i=_=0;m>_;i=_+=1)e=t[p++],r=(i-i%d)/d,o=d>i?0:f[n-d],0===g?v=y=0:(v=f[(g-1)*m+r*d+i%d],y=r&&f[(g-1)*m+(r-1)*d+i%d]),s=o+v-y,l=Math.abs(s-o),c=Math.abs(s-v),h=Math.abs(s-y),u=c>=l&&h>=l?o:h>=c?v:y,f[n++]=(e+u)%256;break;default:throw new Error("Invalid filter algorithm: "+t[p-1])}g++}return f},e.prototype.decodePalette=function(){var t,e,n,r,i,o,a,s,l,u;for(r=this.palette,a=this.transparency.indexed||[],o=new Uint8Array((a.length||0)+r.length),i=0,n=r.length,t=0,e=s=0,l=r.length;l>s;e=s+=3)o[i++]=r[e],o[i++]=r[e+1],o[i++]=r[e+2],o[i++]=null!=(u=a[t++])?u:255;return o},e.prototype.copyToImageData=function(t,e){var n,r,i,o,a,s,l,u,c,h,d;if(r=this.colors,c=null,n=this.hasAlphaChannel,this.palette.length&&(c=null!=(d=this._decodedPalette)?d:this._decodedPalette=this.decodePalette(),r=4,n=!0),i=t.data||t,u=i.length,a=c||e,o=s=0,1===r)for(;u>o;)l=c?4*e[o/4]:s,h=a[l++],i[o++]=h,i[o++]=h,i[o++]=h,i[o++]=n?a[l++]:255,s=l;else for(;u>o;)l=c?4*e[o/4]:s,i[o++]=a[l++],i[o++]=a[l++],i[o++]=a[l++],i[o++]=n?a[l++]:255,s=l},e.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{l=t.document.createElement("canvas"),u=l.getContext("2d")}catch(c){return-1}return s=function(t){var e;return u.width=t.width,u.height=t.height,u.clearRect(0,0,t.width,t.height),u.putImageData(t,0,0),e=new Image,e.src=l.toDataURL(),e},e.prototype.decodeFrames=function(t){var e,n,r,i,o,a,l,u;if(this.animation){for(l=this.animation.frames,u=[],n=o=0,a=l.length;a>o;n=++o)e=l[n],r=t.createImageData(e.width,e.height),i=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(r,i),e.imageData=r,u.push(e.image=s(r));return u}},e.prototype.renderFrame=function(t,e){var n,o,s;return o=this.animation.frames,n=o[e],s=o[e-1],0===e&&t.clearRect(0,0,this.width,this.height),(null!=s?s.disposeOp:void 0)===i?t.clearRect(s.xOffset,s.yOffset,s.width,s.height):(null!=s?s.disposeOp:void 0)===a&&t.putImageData(s.imageData,s.xOffset,s.yOffset),n.blendOp===r&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},e.prototype.animate=function(t){var e,n,r,i,o,a,s=this;return n=0,a=this.animation,i=a.numFrames,r=a.frames,o=a.numPlays,(e=function(){var a,l;return a=n++%i,l=r[a],s.renderFrame(t,a),i>1&&o>n/i?s.animation._timeout=setTimeout(e,l.delay):void 0})()},e.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},e.prototype.render=function(t){var e,n;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(n=e.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),e.putImageData(n,0,0))},e}(),t.PNG=e}("undefined"!=typeof window&&window||this);/*
 * Extracted from pdf.js
 * https://github.com/andreasgal/pdf.js
 *
 * Copyright (c) 2011 Mozilla Foundation
 *
 * Contributors: Andreas Gal <gal@mozilla.com>
 *               Chris G Jones <cjones@mozilla.com>
 *               Shaon Barman <shaon.barman@gmail.com>
 *               Vivien Nicolas <21@vingtetun.org>
 *               Justin D'Arcangelo <justindarc@gmail.com>
 *               Yury Delendik
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.
 */
var DecodeStream=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,n=e?e.byteLength:0;if(n>t)return e;for(var r=512;t>r;)r<<=1;for(var i=new Uint8Array(r),o=0;n>o;++o)i[o]=e[o];return this.buffer=i},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var n=e+t;!this.eof&&this.bufferLength<n;)this.readBlock();var r=this.bufferLength;n>r&&(n=r)}else{for(;!this.eof;)this.readBlock();var n=this.bufferLength}return this.pos=n,this.buffer.subarray(e,n)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,n){for(var r=t+e;this.bufferLength<=r&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,n)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),FlateStream=function(){function t(t){throw new Error(t)}function e(e){var n=0,r=e[n++],i=e[n++];(-1==r||-1==i)&&t("Invalid header in flate stream"),8!=(15&r)&&t("Unknown compression method in flate stream"),((r<<8)+i)%31!=0&&t("Bad FCHECK in flate stream"),32&i&&t("FDICT bit set in flate stream"),this.bytes=e,this.bytesPos=n,this.codeSize=0,this.codeBuf=0,DecodeStream.call(this)}if("undefined"==typeof Uint32Array)return void 0;var n=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),r=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),i=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),o=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],a=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return e.prototype=Object.create(DecodeStream.prototype),e.prototype.getBits=function(e){for(var n,r=this.codeSize,i=this.codeBuf,o=this.bytes,a=this.bytesPos;e>r;)"undefined"==typeof(n=o[a++])&&t("Bad encoding in flate stream"),i|=n<<r,r+=8;return n=i&(1<<e)-1,this.codeBuf=i>>e,this.codeSize=r-=e,this.bytesPos=a,n},e.prototype.getCode=function(e){for(var n=e[0],r=e[1],i=this.codeSize,o=this.codeBuf,a=this.bytes,s=this.bytesPos;r>i;){var l;"undefined"==typeof(l=a[s++])&&t("Bad encoding in flate stream"),o|=l<<i,i+=8}var u=n[o&(1<<r)-1],c=u>>16,h=65535&u;return(0==i||c>i||0==c)&&t("Bad encoding in flate stream"),this.codeBuf=o>>c,this.codeSize=i-c,this.bytesPos=s,h},e.prototype.generateHuffmanTable=function(t){for(var e=t.length,n=0,r=0;e>r;++r)t[r]>n&&(n=t[r]);for(var i=1<<n,o=new Uint32Array(i),a=1,s=0,l=2;n>=a;++a,s<<=1,l<<=1)for(var u=0;e>u;++u)if(t[u]==a){for(var c=0,h=s,r=0;a>r;++r)c=c<<1|1&h,h>>=1;for(var r=c;i>r;r+=l)o[r]=a<<16|u;++s}return[o,n]},e.prototype.readBlock=function(){function e(t,e,n,r,i){for(var o=t.getBits(n)+r;o-->0;)e[_++]=i}var s=this.getBits(3);if(1&s&&(this.eof=!0),s>>=1,0==s){var l,u=this.bytes,c=this.bytesPos;"undefined"==typeof(l=u[c++])&&t("Bad block header in flate stream");var h=l;"undefined"==typeof(l=u[c++])&&t("Bad block header in flate stream"),h|=l<<8,"undefined"==typeof(l=u[c++])&&t("Bad block header in flate stream");var d=l;"undefined"==typeof(l=u[c++])&&t("Bad block header in flate stream"),d|=l<<8,d!=(65535&~h)&&t("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var f=this.bufferLength,p=this.ensureBuffer(f+h),g=f+h;this.bufferLength=g;for(var m=f;g>m;++m){if("undefined"==typeof(l=u[c++])){this.eof=!0;break}p[m]=l}return void(this.bytesPos=c)}var v,y;if(1==s)v=o,y=a;else if(2==s){for(var w=this.getBits(5)+257,b=this.getBits(5)+1,x=this.getBits(4)+4,C=Array(n.length),_=0;x>_;)C[n[_++]]=this.getBits(3);for(var E=this.generateHuffmanTable(C),T=0,_=0,k=w+b,S=new Array(k);k>_;){var $=this.getCode(E);16==$?e(this,S,2,3,T):17==$?e(this,S,3,3,T=0):18==$?e(this,S,7,11,T=0):S[_++]=T=$}v=this.generateHuffmanTable(S.slice(0,w)),y=this.generateHuffmanTable(S.slice(w,k))}else t("Unknown block type in flate stream");for(var p=this.buffer,M=p?p.length:0,A=this.bufferLength;;){var R=this.getCode(v);if(256>R)A+1>=M&&(p=this.ensureBuffer(A+1),M=p.length),p[A++]=R;else{if(256==R)return void(this.bufferLength=A);R-=257,R=r[R];var D=R>>16;D>0&&(D=this.getBits(D));var T=(65535&R)+D;R=this.getCode(y),R=i[R],D=R>>16,D>0&&(D=this.getBits(D));var O=(65535&R)+D;A+T>=M&&(p=this.ensureBuffer(A+T),M=p.length);for(var P=0;T>P;++P,++A)p[A]=p[A-O]}}},e}();!function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";"undefined"==typeof t.btoa&&(t.btoa=function(t){var n,r,i,o,a,s,l,u,c=0,h=0,d="",f=[];if(!t)return t;do n=t.charCodeAt(c++),r=t.charCodeAt(c++),i=t.charCodeAt(c++),u=n<<16|r<<8|i,o=u>>18&63,a=u>>12&63,s=u>>6&63,l=63&u,f[h++]=e.charAt(o)+e.charAt(a)+e.charAt(s)+e.charAt(l);while(c<t.length);d=f.join("");var p=t.length%3;return(p?d.slice(0,p-3):d)+"===".slice(p||3)}),"undefined"==typeof t.atob&&(t.atob=function(t){var n,r,i,o,a,s,l,u,c=0,h=0,d="",f=[];if(!t)return t;t+="";do o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),s=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=o<<18|a<<12|s<<6|l,n=u>>16&255,r=u>>8&255,i=255&u,f[h++]=64==s?String.fromCharCode(n):64==l?String.fromCharCode(n,r):String.fromCharCode(n,r,i);while(c<t.length);return d=f.join("")}),Array.prototype.map||(Array.prototype.map=function(t){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,r=new Array(n),i=arguments.length>1?arguments[1]:void 0,o=0;n>o;o++)o in e&&(r[o]=t.call(i,e[o],o,e));return r}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){"use strict";if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;for(var n=Object(this),r=n.length>>>0,i=0;r>i;i++)i in n&&t.call(e,n[i],i,n)}),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError;var o,a,s=[];for(o in i)t.call(i,o)&&s.push(o);if(e)for(a=0;r>a;a++)t.call(i,n[a])&&s.push(n[a]);return s}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this),/**
 * An Angular module that gives you access to the browsers local storage
 * @version v0.2.2 - 2015-05-29
 * @link https://github.com/grevory/angular-local-storage
 * @author grevory <greg@gregpike.ca>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(t,e,n){"use strict";var r=e.isDefined,i=e.isUndefined,o=e.isNumber,a=e.isObject,s=e.isArray,l=e.extend,u=e.toJson,c=e.module("LocalStorageModule",[]);c.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(t){return this.prefix=t,this},this.setStorageType=function(t){return this.storageType=t,this},this.setStorageCookie=function(t,e){return this.cookie.expiry=t,this.cookie.path=e,this},this.setStorageCookieDomain=function(t){return this.cookie.domain=t,this},this.setNotify=function(t,e){return this.notify={setItem:t,removeItem:e},this},this.$get=["$rootScope","$window","$document","$parse",function(t,e,n,c){var h,d=this,f=d.prefix,p=d.cookie,g=d.notify,m=d.storageType;n?n[0]&&(n=n[0]):n=document,"."!==f.substr(-1)&&(f=f?f+".":"");var v=function(t){return f+t},y=function(){try{var n=m in e&&null!==e[m],r=v("__"+Math.round(1e7*Math.random()));return n&&(h=e[m],h.setItem(r,""),h.removeItem(r)),n}catch(i){return m="cookie",t.$broadcast("LocalStorageModule.notification.error",i.message),!1}}(),w=function(e,n){if(n=i(n)?null:u(n),!y||"cookie"===d.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:"cookie"}),T(e,n);try{h&&h.setItem(v(e),n),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:d.storageType})}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.message),T(e,n)}return!0},b=function(e){if(!y||"cookie"===d.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),k(e);var n=h?h.getItem(v(e)):null;if(!n||"null"===n)return null;try{return JSON.parse(n)}catch(r){return n}},x=function(){var e,n;for(e=0;e<arguments.length;e++)if(n=arguments[e],y&&"cookie"!==d.storageType)try{h.removeItem(v(n)),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:d.storageType})}catch(r){t.$broadcast("LocalStorageModule.notification.error",r.message),S(n)}else y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"cookie"}),S(n)},C=function(){if(!y)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var e=f.length,n=[];for(var r in h)if(r.substr(0,e)===f)try{n.push(r.substr(e))}catch(i){return t.$broadcast("LocalStorageModule.notification.error",i.Description),[]}return n},_=function(e){var n=f?new RegExp("^"+f):new RegExp,r=e?new RegExp(e):new RegExp;if(!y||"cookie"===d.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),$();var i=f.length;for(var o in h)if(n.test(o)&&r.test(o.substr(i)))try{x(o.substr(i))}catch(a){return t.$broadcast("LocalStorageModule.notification.error",a.message),$()}return!0},E=function(){try{return e.navigator.cookieEnabled||"cookie"in n&&(n.cookie.length>0||(n.cookie="test").indexOf.call(n.cookie,"test")>-1)}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.message),!1}}(),T=function(e,r,l){if(i(r))return!1;if((s(r)||a(r))&&(r=u(r)),!E)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var c="",h=new Date,d="";if(null===r?(h.setTime(h.getTime()+-864e5),c="; expires="+h.toGMTString(),r=""):o(l)&&0!==l?(h.setTime(h.getTime()+24*l*60*60*1e3),c="; expires="+h.toGMTString()):0!==p.expiry&&(h.setTime(h.getTime()+24*p.expiry*60*60*1e3),c="; expires="+h.toGMTString()),e){var f="; path="+p.path;p.domain&&(d="; domain="+p.domain),n.cookie=v(e)+"="+encodeURIComponent(r)+c+f+d}}catch(g){return t.$broadcast("LocalStorageModule.notification.error",g.message),!1}return!0},k=function(e){if(!E)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var r=n.cookie&&n.cookie.split(";")||[],i=0;i<r.length;i++){for(var o=r[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(v(e)+"=")){var a=decodeURIComponent(o.substring(f.length+e.length+1,o.length));try{return JSON.parse(a)}catch(s){return a}}}return null},S=function(t){T(t,null)},$=function(){for(var t=null,e=f.length,r=n.cookie.split(";"),i=0;i<r.length;i++){for(t=r[i];" "===t.charAt(0);)t=t.substring(1,t.length);var o=t.substring(e,t.indexOf("="));S(o)}},M=function(){return m},A=function(t,e,n,i){i=i||e;var o=b(i);return null===o&&r(n)?o=n:a(o)&&a(n)&&(o=l(n,o)),c(e).assign(t,o),t.$watch(e,function(t){w(i,t)},a(t[e]))},R=function(){for(var t=0,n=e[m],r=0;r<n.length;r++)0===n.key(r).indexOf(f)&&t++;return t};return{isSupported:y,getStorageType:M,set:w,add:w,get:b,keys:C,remove:x,clearAll:_,bind:A,deriveKey:v,length:R,cookie:{isSupported:E,set:T,add:T,get:k,remove:S,clearAll:$}}}]})}(window,window.angular),/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.12.1 - 2015-02-20
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(t,e,n){function r(t){for(var e in t)if(void 0!==o.style[e])return t[e]}var i=function(r,o,a){a=a||{};var s=t.defer(),l=i[a.animation?"animationEndEventName":"transitionEndEventName"],u=function(t){n.$apply(function(){r.unbind(l,u),s.resolve(r)})};return l&&r.bind(l,u),e(function(){angular.isString(o)?r.addClass(o):angular.isFunction(o)?o(r):angular.isObject(o)&&r.css(o),l||s.resolve(r)}),s.promise.cancel=function(){l&&r.unbind(l,u),s.reject("Transition cancelled")},s.promise},o=document.createElement("trans"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=r(a),i.animationEndEventName=r(s),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(t){return{link:function(e,n,r){function i(e){function r(){u===i&&(u=void 0)}var i=t(n,e);return u&&u.cancel(),u=i,i.then(r,r),i}function o(){c?(c=!1,a()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(a))}function a(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function s(){if(c)c=!1,l(),n.css({height:0});else{n.css({height:n[0].scrollHeight+"px"});{n[0].offsetWidth}n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(l)}}function l(){n.removeClass("collapsing"),n.addClass("collapse")}var u,c=!0;e.$watch(r.collapse,function(t){t?s():o()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(t){t!==r&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(n){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,r){r.addGroup(t),t.$watch("isOpen",function(e){e&&r.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,r,i){r.setHeading(i(t,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,r){t.$watch(function(){return r[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e,this.close=t.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(t){return{require:"alert",link:function(e,n,r,i){t(function(){i.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,r){var i=r[0],o=r[1];o.$render=function(){e.toggleClass(i.activeClass,angular.equals(o.$modelValue,t.$eval(n.btnRadio)))},e.bind(i.toggleEvent,function(){var r=e.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&t.$apply(function(){o.$setViewValue(r?null:t.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,n,r){function i(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(e,n){var r=t.$eval(e);return angular.isDefined(r)?r:n}var s=r[0],l=r[1];l.$render=function(){e.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},e.bind(s.toggleEvent,function(){t.$apply(function(){l.$setViewValue(e.hasClass(s.activeClass)?o():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(t,e,n,r){function i(){o();var e=+t.interval;!isNaN(e)&&e>0&&(s=n(a,e))}function o(){s&&(n.cancel(s),s=null)}function a(){var e=+t.interval;l&&!isNaN(e)&&e>0?t.next():t.pause()}var s,l,u=this,c=u.slides=t.slides=[],h=-1;u.currentSlide=null;var d=!1;u.select=t.select=function(n,o){function a(){if(!d){if(u.currentSlide&&angular.isString(o)&&!t.noTransition&&n.$element){n.$element.addClass(o);{n.$element[0].offsetWidth}angular.forEach(c,function(t){angular.extend(t,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(n,{direction:o,active:!0,entering:!0}),angular.extend(u.currentSlide||{},{direction:o,leaving:!0}),t.$currentTransition=r(n.$element,{}),function(e,n){t.$currentTransition.then(function(){s(e,n)},function(){s(e,n)})}(n,u.currentSlide)}else s(n,u.currentSlide);u.currentSlide=n,h=l,i()}}function s(e,n){angular.extend(e,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),t.$currentTransition=null}var l=c.indexOf(n);void 0===o&&(o=l>h?"next":"prev"),n&&n!==u.currentSlide&&(t.$currentTransition?(t.$currentTransition.cancel(),e(a)):a())},t.$on("$destroy",function(){d=!0}),u.indexOfSlide=function(t){return c.indexOf(t)},t.next=function(){var e=(h+1)%c.length;return t.$currentTransition?void 0:u.select(c[e],"next")},t.prev=function(){var e=0>h-1?c.length-1:h-1;return t.$currentTransition?void 0:u.select(c[e],"prev")},t.isActive=function(t){return u.currentSlide===t},t.$watch("interval",i),t.$on("$destroy",o),t.play=function(){l||(l=!0,i())},t.pause=function(){t.noPause||(l=!1,o())},u.addSlide=function(e,n){e.$element=n,c.push(e),1===c.length||e.active?(u.select(c[c.length-1]),1==c.length&&t.play()):e.active=!1},u.removeSlide=function(t){var e=c.indexOf(t);c.splice(e,1),c.length>0&&t.active?u.select(e>=c.length?c[e-1]:c[e]):h>e&&h--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(t,e,n,r){r.addSlide(t,e),t.$on("$destroy",function(){r.removeSlide(t)}),t.$watch("active",function(e){e&&r.select(t)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(t,e){function n(t){var n=[],r=t.split("");return angular.forEach(i,function(e,i){var o=t.indexOf(i);if(o>-1){t=t.split(""),r[o]="("+e.regex+")",t[o]="$";for(var a=o+1,s=o+i.length;s>a;a++)r[a]="",t[a]="$";t=t.join(""),n.push({index:o,apply:e.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:e(n,"index")}}function r(t,e,n){return 1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(e,i){if(!angular.isString(e)||!i)return e;i=t.DATETIME_FORMATS[i]||i,this.parsers[i]||(this.parsers[i]=n(i));var o=this.parsers[i],a=o.regex,s=o.map,l=e.match(a);if(l&&l.length){for(var u,c={year:1900,month:0,date:1,hours:0},h=1,d=l.length;d>h;h++){var f=s[h-1];f.apply&&f.apply.call(c,l[h])}return r(c.year,c.month,c.date)&&(u=new Date(c.year,c.month,c.date,c.hours)),u}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function r(t){return"static"===(n(t,"position")||"static")}var i=function(e){for(var n=t[0],i=e.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(e){var n=this.offset(e),r={top:0,left:0},o=i(e[0]);o!=t[0]&&(r=this.offset(angular.element(o)),r.top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft);var a=e[0].getBoundingClientRect();return{width:a.width||e.prop("offsetWidth"),height:a.height||e.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:r.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,r){var i,o,a,s,l=n.split("-"),u=l[0],c=l[1]||"center";i=r?this.offset(t):this.position(t),o=e.prop("offsetWidth"),a=e.prop("offsetHeight");var h={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},d={center:function(){return i.top+i.height/2-a/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(u){case"right":s={top:d[c](),left:h[u]()};break;case"left":s={top:d[c](),left:i.left-o};break;case"bottom":s={top:d[u](),left:h[c]()};break;default:s={top:i.top-a,left:h[c]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(t,e,n,r,i,o,a,s){var l=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){l[n]=angular.isDefined(e[n])?8>i?r(e[n])(t.$parent):t.$parent.$eval(e[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(r){e[r]?t.$parent.$watch(n(e[r]),function(t){l[r]=t?new Date(t):null,l.refreshView()}):l[r]=s[r]?new Date(s[r]):null}),t.datepickerMode=t.datepickerMode||s.datepickerMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(e.initDate)?t.$parent.$eval(e.initDate):new Date,t.isActive=function(e){return 0===l.compare(e.date,l.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(t){u=t,u.$render=function(){l.render()}},this.render=function(){if(u.$modelValue){var t=new Date(u.$modelValue),e=!isNaN(t);e?this.activeDate=t:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",e)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=u.$modelValue?new Date(u.$modelValue):null;u.$setValidity("date-disabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=u.$modelValue?new Date(u.$modelValue):null;return{date:t,label:a(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===l.minMode){var n=u.$modelValue?new Date(u.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=e,t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=l.activeDate.getFullYear()+t*(l.step.years||0),n=l.activeDate.getMonth()+t*(l.step.months||0);l.activeDate.setFullYear(e,n,1),l.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===l.maxMode&&1===e||t.datepickerMode===l.minMode&&-1===e||(t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){i(function(){l.element[0].focus()},0,!1)};t.$on("datepicker.focus",c),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),e.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;t.select(l.activeDate),c()}else!e.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,e),l.refreshView()):(t.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,e,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,n,r,i){function o(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?l[e]:29}function a(t,e){var n=new Array(e),r=new Date(t),i=0;for(r.setHours(12);e>i;)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}function s(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}e.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),o=new Date(n,r,1),l=i.startingDay-o.getDay(),u=l>0?7-l:-l,c=new Date(o);u>0&&c.setDate(-u+1);for(var h=a(c,42),d=0;42>d;d++)h[d]=angular.extend(i.createDateObject(h[d],i.formatDay),{secondary:h[d].getMonth()!==r,uid:e.uniqueId+"-"+d});e.labels=new Array(7);for(var f=0;7>f;f++)e.labels[f]={abbr:t(h[f].date,i.formatDayHeader),full:t(h[f].date,"EEEE")};if(e.title=t(i.activeDate,i.formatDayTitle),e.rows=i.split(h,7),e.showWeeks){e.weekNumbers=[];for(var p=s(e.rows[0][0].date),g=e.rows.length;e.weekNumbers.push(p++)<g;);}},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},i.handleKeyDown=function(t,e){var n=i.activeDate.getDate();if("left"===t)n-=1;else if("up"===t)n-=7;else if("right"===t)n+=1;else if("down"===t)n+=7;else if("pageup"===t||"pagedown"===t){var r=i.activeDate.getMonth()+("pageup"===t?-1:1);i.activeDate.setMonth(r,1),n=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),n)}else"home"===t?n=1:"end"===t&&(n=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(n)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=new Array(12),r=i.activeDate.getFullYear(),o=0;12>o;o++)n[o]=angular.extend(i.createDateObject(new Date(r,o,1),i.formatMonth),{uid:e.uniqueId+"-"+o});e.title=t(i.activeDate,i.formatMonthTitle),e.rows=i.split(n,3)},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},i.handleKeyDown=function(t,e){var n=i.activeDate.getMonth();if("left"===t)n-=1;else if("up"===t)n-=3;else if("right"===t)n+=1;else if("down"===t)n+=3;else if("pageup"===t||"pagedown"===t){var r=i.activeDate.getFullYear()+("pageup"===t?-1:1);i.activeDate.setFullYear(r)}else"home"===t?n=0:"end"===t&&(n=11);i.activeDate.setMonth(n)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,n,r){function i(t){return parseInt((t-1)/o,10)*o+1}var o=r.yearRange;r.step={years:o},r.element=e,r._refreshView=function(){for(var e=new Array(o),n=0,a=i(r.activeDate.getFullYear());o>n;n++)e[n]=angular.extend(r.createDateObject(new Date(a+n,0,1),r.formatYear),{uid:t.uniqueId+"-"+n});t.title=[e[0].label,e[o-1].label].join(" - "),t.rows=r.split(e,5)},r.compare=function(t,e){return t.getFullYear()-e.getFullYear()},r.handleKeyDown=function(t,e){var n=r.activeDate.getFullYear();"left"===t?n-=1:"up"===t?n-=5:"right"===t?n+=1:"down"===t?n+=5:"pageup"===t||"pagedown"===t?n+=("pageup"===t?-1:1)*r.step.years:"home"===t?n=i(r.activeDate.getFullYear()):"end"===t&&(n=i(r.activeDate.getFullYear())+o-1),r.activeDate.setFullYear(n)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(t,e,n,r,i,o,a){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(s,l,u,c){function h(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function d(t){if(t){if(angular.isDate(t)&&!isNaN(t))return c.$setValidity("date",!0),t;if(angular.isString(t)){var e=o.parse(t,f)||new Date(t);return isNaN(e)?void c.$setValidity("date",!1):(c.$setValidity("date",!0),e)}return void c.$setValidity("date",!1)}return c.$setValidity("date",!0),null}var f,p=angular.isDefined(u.closeOnDateSelection)?s.$parent.$eval(u.closeOnDateSelection):a.closeOnDateSelection,g=angular.isDefined(u.datepickerAppendToBody)?s.$parent.$eval(u.datepickerAppendToBody):a.appendToBody;s.showButtonBar=angular.isDefined(u.showButtonBar)?s.$parent.$eval(u.showButtonBar):a.showButtonBar,s.getText=function(t){return s[t+"Text"]||a[t+"Text"]},u.$observe("datepickerPopup",function(t){f=t||a.datepickerPopup,c.$render()});var m=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");m.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(m.children()[0]);u.datepickerOptions&&angular.forEach(s.$parent.$eval(u.datepickerOptions),function(t,e){v.attr(h(e),t)}),s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(t){if(u[t]){var n=e(u[t]);if(s.$parent.$watch(n,function(e){s.watchData[t]=e}),v.attr(h(t),"watchData."+t),"datepickerMode"===t){var r=n.assign;s.$watch("watchData."+t,function(t,e){t!==e&&r(s.$parent,t)})}}}),u.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.$parsers.unshift(d),s.dateSelection=function(t){angular.isDefined(t)&&(s.date=t),c.$setViewValue(s.date),c.$render(),p&&(s.isOpen=!1,l[0].focus())},l.bind("input change keyup",function(){s.$apply(function(){s.date=c.$modelValue})}),c.$render=function(){var t=c.$viewValue?i(c.$viewValue,f):"";l.val(t),s.date=d(c.$modelValue)};var y=function(t){s.isOpen&&t.target!==l[0]&&s.$apply(function(){s.isOpen=!1})},w=function(t,e){s.keydown(t)};l.bind("keydown",w),s.keydown=function(t){27===t.which?(t.preventDefault(),t.stopPropagation(),s.close()):40!==t.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(t){t?(s.$broadcast("datepicker.focus"),s.position=g?r.offset(l):r.position(l),s.position.top=s.position.top+l.prop("offsetHeight"),n.bind("click",y)):n.unbind("click",y)}),s.select=function(t){if("today"===t){var e=new Date;angular.isDate(c.$modelValue)?(t=new Date(c.$modelValue),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}s.dateSelection(t)},s.close=function(){s.isOpen=!1,l[0].focus()};var b=t(m)(s);m.remove(),g?n.find("body").append(b):l.after(b),s.$on("$destroy",function(){b.remove(),l.unbind("keydown",w),n.unbind("click",y)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e,n){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(t){var e=null;this.open=function(i){e||(t.bind("click",n),t.bind("keydown",r)),e&&e!==i&&(e.isOpen=!1),e=i},this.close=function(i){e===i&&(e=null,t.unbind("click",n),t.unbind("keydown",r))};var n=function(t){if(e){var n=e.getToggleElement();t&&n&&n[0].contains(t.target)||e.$apply(function(){e.isOpen=!1})}},r=function(t){27===t.which&&(e.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(t,e,n,r,i,o){var a,s=this,l=t.$new(),u=r.openClass,c=angular.noop,h=e.onToggle?n(e.onToggle):angular.noop;this.init=function(r){s.$element=r,e.isOpen&&(a=n(e.isOpen),c=a.assign,t.$watch(a,function(t){l.isOpen=!!t}))},this.toggle=function(t){return l.isOpen=arguments.length?!!t:!l.isOpen},this.isOpen=function(){return l.isOpen},l.getToggleElement=function(){return s.toggleElement},l.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},l.$watch("isOpen",function(e,n){o[e?"addClass":"removeClass"](s.$element,u),e?(l.focusToggleElement(),i.open(l)):i.close(l),c(t,e),angular.isDefined(e)&&e!==n&&h(t,{open:!!e})}),t.$on("$locationChangeSuccess",function(){l.isOpen=!1}),t.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(t,e,n,r){r.init(e)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,e,n,r){if(r){r.toggleElement=e;var i=function(i){i.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){r.toggle()})};e.bind("click",i),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(r.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,r=0;r<t.length;r++)if(e==t[r].key){n=r;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$timeout",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(e,n,r){e.backdropClass=r.backdropClass||"",e.animate=!1,t(function(){e.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(t,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(n,r,i){r.addClass(i.windowClass||""),n.size=i.size,e(function(){n.animate=!0,r[0].querySelectorAll("[autofocus]").length||r[0].focus()}),n.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,r,i){i(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(t,e,n,r,i,o){function a(){for(var t=-1,e=f.keys(),n=0;n<e.length;n++)f.get(e[n]).value.backdrop&&(t=n);return t}function s(t){var e=n.find("body").eq(0),r=f.get(t).value;f.remove(t),u(r.modalDomEl,r.modalScope,300,function(){r.modalScope.$destroy(),e.toggleClass(d,f.length()>0),l()})}function l(){if(c&&-1==a()){var t=h;u(c,h,150,function(){t.$destroy(),t=null}),c=void 0,h=void 0}}function u(n,r,i,o){function a(){a.done||(a.done=!0,n.remove(),o&&o())}r.animate=!1;var s=t.transitionEndEventName;if(s){var l=e(a,i);n.bind(s,function(){e.cancel(l),a(),r.$apply()})}else e(a)}var c,h,d="modal-open",f=o.createNew(),p={};return i.$watch(a,function(t){h&&(h.index=t)}),n.bind("keydown",function(t){var e;27===t.which&&(e=f.top(),e&&e.value.keyboard&&(t.preventDefault(),i.$apply(function(){p.dismiss(e.key,"escape key press")})))}),p.open=function(t,e){f.add(t,{deferred:e.deferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var o=n.find("body").eq(0),s=a();if(s>=0&&!c){h=i.$new(!0),h.index=s;var l=angular.element("<div modal-backdrop></div>");l.attr("backdrop-class",e.backdropClass),c=r(l)(h),o.append(c)}var u=angular.element("<div modal-window></div>");u.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:f.length()-1,animate:"animate"}).html(e.content);var p=r(u)(e.scope);f.top().value.modalDomEl=p,o.append(p),o.addClass(d)},p.close=function(t,e){var n=f.get(t);n&&(n.value.deferred.resolve(e),s(t))},p.dismiss=function(t,e){var n=f.get(t);n&&(n.value.deferred.reject(e),s(t))},p.dismissAll=function(t){for(var e=this.getTop();e;)this.dismiss(e.key,t),e=this.getTop()},p.getTop=function(){return f.top()},p}]).provider("$modal",function(){var t={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(e,n,r,i,o,a,s){function l(t){return t.template?r.when(t.template):i.get(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl,{cache:o}).then(function(t){return t.data})}function u(t){var n=[];return angular.forEach(t,function(t){(angular.isFunction(t)||angular.isArray(t))&&n.push(r.when(e.invoke(t)))}),n}var c={};return c.open=function(e){var i=r.defer(),o=r.defer(),c={result:i.promise,opened:o.promise,close:function(t){s.close(c,t)},dismiss:function(t){s.dismiss(c,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var h=r.all([l(e)].concat(u(e.resolve)));return h.then(function(t){var r=(e.scope||n).$new();r.$close=c.close,r.$dismiss=c.dismiss;var o,l={},u=1;e.controller&&(l.$scope=r,l.$modalInstance=c,angular.forEach(e.resolve,function(e,n){l[n]=t[u++]}),o=a(e.controller,l),e.controllerAs&&(r[e.controllerAs]=o)),s.open(c,{scope:r,deferred:i,content:t[0],backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(t){i.reject(t)}),h.then(function(){o.resolve(!0)},function(){o.reject(!1)}),c},c}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,n){var r=this,i={$setViewValue:angular.noop},o=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(o,a){i=o,this.config=a,i.$render=function(){r.render()},e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){r.itemsPerPage=parseInt(e,10),t.totalPages=r.calculateTotalPages()}):this.itemsPerPage=a.itemsPerPage},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(i.$viewValue,10)||1},t.selectPage=function(e){t.page!==e&&e>0&&e<=t.totalPages&&(i.$setViewValue(e),i.$render())},t.getText=function(e){return t[e+"Text"]||r.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages},t.$watch("totalItems",function(){t.totalPages=r.calculateTotalPages()}),t.$watch("totalPages",function(e){o(t.$parent,e),t.page>e?t.selectPage(e):i.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,r,i,o){function a(t,e,n){return{number:t,text:e,active:n}}function s(t,e){var n=[],r=1,i=e,o=angular.isDefined(c)&&e>c;o&&(h?(r=Math.max(t-Math.floor(c/2),1),i=r+c-1,i>e&&(i=e,r=i-c+1)):(r=(Math.ceil(t/c)-1)*c+1,i=Math.min(r+c-1,e)));for(var s=r;i>=s;s++){var l=a(s,s,s===t);n.push(l)}if(o&&!h){if(r>1){var u=a(r-1,"...",!1);n.unshift(u)}if(e>i){var d=a(i+1,"...",!1);n.push(d)}}return n}var l=o[0],u=o[1];if(u){var c=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):e.maxSize,h=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):e.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):e.boundaryLinks,
n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):e.directionLinks,l.init(u,e),i.maxSize&&n.$parent.$watch(t(i.maxSize),function(t){c=parseInt(t,10),l.render()});var d=l.render;l.render=function(){d(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,r,i){var o=i[0],a=i[1];a&&(e.align=angular.isDefined(r.align)?e.$parent.$eval(r.align):t.align,o.init(a,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(t){angular.extend(r,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(i,o,a,s,l,u){return function(i,c,h){function d(t){var e=t||f.trigger||h,r=n[e]||e;return{show:e,hide:r}}var f=angular.extend({},e,r),p=t(i),g=u.startSymbol(),m=u.endSymbol(),v="<div "+p+'-popup title="'+g+"title"+m+'" content="'+g+"content"+m+'" placement="'+g+"placement"+m+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(t,e){var n=o(v);return function(t,e,r){function o(){M.isOpen?h():u()}function u(){(!$||t.$eval(r[c+"Enable"]))&&(y(),M.popupDelay?T||(T=a(p,M.popupDelay,!1),T.then(function(t){t()})):p()())}function h(){t.$apply(function(){g()})}function p(){return T=null,E&&(a.cancel(E),E=null),M.content?(m(),C.css({top:0,left:0,display:"block"}),M.$digest(),A(),M.isOpen=!0,M.$digest(),A):angular.noop}function g(){M.isOpen=!1,a.cancel(T),T=null,M.animation?E||(E=a(v,500)):v()}function m(){C&&v(),_=M.$new(),C=n(_,function(t){k?s.find("body").append(t):e.after(t)})}function v(){E=null,C&&(C.remove(),C=null),_&&(_.$destroy(),_=null)}function y(){w(),b()}function w(){var t=r[c+"Placement"];M.placement=angular.isDefined(t)?t:f.placement}function b(){var t=r[c+"PopupDelay"],e=parseInt(t,10);M.popupDelay=isNaN(e)?f.popupDelay:e}function x(){var t=r[c+"Trigger"];R(),S=d(t),S.show===S.hide?e.bind(S.show,o):(e.bind(S.show,u),e.bind(S.hide,h))}var C,_,E,T,k=angular.isDefined(f.appendToBody)?f.appendToBody:!1,S=d(void 0),$=angular.isDefined(r[c+"Enable"]),M=t.$new(!0),A=function(){var t=l.positionElements(e,C,M.placement,k);t.top+="px",t.left+="px",C.css(t)};M.isOpen=!1,r.$observe(i,function(t){M.content=t,!t&&M.isOpen&&g()}),r.$observe(c+"Title",function(t){M.title=t});var R=function(){e.unbind(S.show,u),e.unbind(S.hide,h)};x();var D=t.$eval(r[c+"Animation"]);M.animation=angular.isDefined(D)?!!D:f.animation;var O=t.$eval(r[c+"AppendToBody"]);k=angular.isDefined(O)?O:k,k&&t.$on("$locationChangeSuccess",function(){M.isOpen&&g()}),t.$on("$destroy",function(){a.cancel(E),a.cancel(T),R(),v(),M=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,n){var r=this,i=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max,this.addBar=function(e,n){i||n.css({transition:"none"}),this.bars.push(e),e.$watch("value",function(n){e.percent=+(100*n/t.max).toFixed(2)}),e.$on("$destroy",function(){n=null,r.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,r){r.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,r){r.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var o=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(r.$setViewValue(e),r.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=r.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},e.addTab=function(t){n.push(t),1===n.length?t.active=!0:t.active&&e.select(t)},e.removeTab=function(t){var i=n.indexOf(t);if(t.active&&n.length>1&&!r){var o=i==n.length-1?i-1:i+1;e.select(n[o])}n.splice(i,1)};var r;t.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(e,n,r){return function(e,n,i,o){e.$watch("active",function(t){t&&o.select(e)}),e.disabled=!1,i.disabled&&e.$parent.$watch(t(i.disabled),function(t){e.disabled=!!t}),e.select=function(){e.disabled||(e.active=!0)},o.addTab(e),e.$on("$destroy",function(){o.removeTab(e)}),e.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e,n,r){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,r){var i=e.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){t(e)?i.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,n,r,i,o){function a(){var e=parseInt(t.hours,10),n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===g[1]&&(e+=12)),e):void 0}function s(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t}function u(t){c(),p.$setViewValue(new Date(f)),h(t)}function c(){p.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function h(e){var n=f.getHours(),r=f.getMinutes();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:l(n),t.minutes="m"===e?r:l(r),t.meridian=f.getHours()<12?g[0]:g[1]}function d(t){var e=new Date(f.getTime()+6e4*t);f.setHours(e.getHours(),e.getMinutes()),u()}var f=new Date,p={$setViewValue:angular.noop},g=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){p=n,p.$render=this.render;var i=r.eq(0),a=r.eq(1),s=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,a),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):o.readonlyInput,this.setupInputEvents(i,a)};var m=o.hourStep;e.hourStep&&t.$parent.$watch(n(e.hourStep),function(t){m=parseInt(t,10)});var v=o.minuteStep;e.minuteStep&&t.$parent.$watch(n(e.minuteStep),function(t){v=parseInt(t,10)}),t.showMeridian=o.showMeridian,e.showMeridian&&t.$parent.$watch(n(e.showMeridian),function(e){if(t.showMeridian=!!e,p.$error.time){var n=a(),r=s();angular.isDefined(n)&&angular.isDefined(r)&&(f.setHours(n),u())}else h()}),this.setupMousewheelEvents=function(e,n){var r=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(r(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){t.$apply(r(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()})},this.setupInputEvents=function(e,n){if(t.readonlyInput)return t.updateHours=angular.noop,void(t.updateMinutes=angular.noop);var r=function(e,n){p.$setViewValue(null),p.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n)};t.updateHours=function(){var t=a();angular.isDefined(t)?(f.setHours(t),u("h")):r(!0)},e.bind("blur",function(e){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=l(t.hours)})}),t.updateMinutes=function(){var t=s();angular.isDefined(t)?(f.setMinutes(t),u("m")):r(void 0,!0)},n.bind("blur",function(e){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=l(t.minutes)})})},this.render=function(){var t=p.$modelValue?new Date(p.$modelValue):null;isNaN(t)?(p.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(f=t),c(),h())},t.incrementHours=function(){d(60*m)},t.decrementHours=function(){d(60*-m)},t.incrementMinutes=function(){d(v)},t.decrementMinutes=function(){d(-v)},t.toggleMeridian=function(){d(720*(f.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(t,e,n,r){var i=r[0],o=r[1];o&&i.init(o,e.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(e);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:t(r[4]),viewMapper:t(r[2]||r[1]),modelMapper:t(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,n,r,i,o,a){var s=[9,13,27,38,40];return{require:"ngModel",link:function(l,u,c,h){var d,f=l.$eval(c.typeaheadMinLength)||1,p=l.$eval(c.typeaheadWaitMs)||0,g=l.$eval(c.typeaheadEditable)!==!1,m=e(c.typeaheadLoading).assign||angular.noop,v=e(c.typeaheadOnSelect),y=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,w=c.typeaheadAppendToBody?l.$eval(c.typeaheadAppendToBody):!1,b=l.$eval(c.typeaheadFocusFirst)!==!1,x=e(c.ngModel).assign,C=a.parse(c.typeahead),_=l.$new();l.$on("$destroy",function(){_.$destroy()});var E="typeahead-"+_.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":E});var T=angular.element("<div typeahead-popup></div>");T.attr({id:E,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&T.attr("template-url",c.typeaheadTemplateUrl);var k=function(){_.matches=[],_.activeIdx=-1,u.attr("aria-expanded",!1)},S=function(t){return E+"-option-"+t};_.$watch("activeIdx",function(t){0>t?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",S(t))});var $=function(t){var e={$viewValue:t};m(l,!0),n.when(C.source(l,e)).then(function(n){var r=t===h.$viewValue;if(r&&d)if(n.length>0){_.activeIdx=b?0:-1,_.matches.length=0;for(var i=0;i<n.length;i++)e[C.itemName]=n[i],_.matches.push({id:S(i),label:C.viewMapper(_,e),model:n[i]});_.query=t,_.position=w?o.offset(u):o.position(u),_.position.top=_.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else k();r&&m(l,!1)},function(){k(),m(l,!1)})};k(),_.query=void 0;var M,A=function(t){M=r(function(){$(t)},p)},R=function(){M&&r.cancel(M)};h.$parsers.unshift(function(t){return d=!0,t&&t.length>=f?p>0?(R(),A(t)):$(t):(m(l,!1),R(),k()),g?t:t?void h.$setValidity("editable",!1):(h.$setValidity("editable",!0),t)}),h.$formatters.push(function(t){var e,n,r={};return y?(r.$model=t,y(l,r)):(r[C.itemName]=t,e=C.viewMapper(l,r),r[C.itemName]=void 0,n=C.viewMapper(l,r),e!==n?e:t)}),_.select=function(t){var e,n,i={};i[C.itemName]=n=_.matches[t].model,e=C.modelMapper(l,i),x(l,e),h.$setValidity("editable",!0),v(l,{$item:n,$model:e,$label:C.viewMapper(l,i)}),k(),r(function(){u[0].focus()},0,!1)},u.bind("keydown",function(t){0!==_.matches.length&&-1!==s.indexOf(t.which)&&(-1!=_.activeIdx||13!==t.which&&9!==t.which)&&(t.preventDefault(),40===t.which?(_.activeIdx=(_.activeIdx+1)%_.matches.length,_.$digest()):38===t.which?(_.activeIdx=(_.activeIdx>0?_.activeIdx:_.matches.length)-1,_.$digest()):13===t.which||9===t.which?_.$apply(function(){_.select(_.activeIdx)}):27===t.which&&(t.stopPropagation(),k(),_.$digest()))}),u.bind("blur",function(t){d=!1});var D=function(t){u[0]!==t.target&&(k(),_.$digest())};i.bind("click",D),l.$on("$destroy",function(){i.unbind("click",D),w&&O.remove()});var O=t(T)(_);w?i.find("body").append(O):u.after(O)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(t,e,n,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,o,a){var s=r(a.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";t.get(s,{cache:e}).success(function(t){o.replaceWith(n(t.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n?(""+e).replace(new RegExp(t(n),"gi"),"<strong>$&</strong>"):e}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n');

}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),/*!
 * angular-aside - v1.1.2
 * https://github.com/dbtek/angular-aside
 * 2015-03-04
 * Copyright (c) 2015 İsmail Demirbilek
 * License: MIT
 */
function(){angular.module("ngAside",["ui.bootstrap.modal"])}(),function(){function t(t){var e=this.defaults={placement:"left"},n={open:function(n){var r=angular.extend({},e,n);-1===["left","right","bottom","top"].indexOf(r.placement)&&(r.placement=e.placement);var i=-1===["left","right"].indexOf(r.placement)?"vertical":"horizontal";return r.windowClass="ng-aside "+i+" "+r.placement+(r.windowClass?" "+r.windowClass:""),delete r.placement,t.open(r)}},r=angular.extend({},t,n);return r}angular.module("ngAside").factory("$aside",t),t.$inject=["$modal"]}(),/*!
 * angular-translate - v2.7.2 - 2015-06-01
 * http://github.com/angular-translate/angular-translate
 * Copyright (c) 2015 ; Licensed MIT
 */
function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),r=function(){var r=t.preferredLanguage();angular.isString(r)?t.use(r):n.put(e,t.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e))["catch"](r):r():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(){"use strict";var t,e,n=null,r=!1,i=!1;e={sanitize:function(t,e){return"text"===e&&(t=a(t)),t},escape:function(t,e){return"text"===e&&(t=o(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=s(t,a)),t},escapeParameters:function(t,e){return"params"===e&&(t=s(t,o)),t}},e.escaped=e.escapeParameters,this.addStrategy=function(t,n){return e[t]=n,this},this.removeStrategy=function(t){return delete e[t],this},this.useStrategy=function(t){return r=!0,n=t,this},this.$get=["$injector","$log",function(o,a){var s=function(t,n,r){return angular.forEach(r,function(r){if(angular.isFunction(r))t=r(t,n);else{if(!angular.isFunction(e[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");t=e[r](t,n)}}),t},l=function(){r||i||(a.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),i=!0)};return o.has("$sanitize")&&(t=o.get("$sanitize")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,r){if(n||l(),arguments.length<3&&(r=n),!r)return t;var i=angular.isArray(r)?r:[r];return s(t,e,i)}}}];var o=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},a=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},s=function(t,e){if(angular.isObject(t)){var n=angular.isArray(t)?[]:{};return angular.forEach(t,function(t,r){n[r]=s(t,e)}),n}return angular.isNumber(t)?t:e(t)}}function n(t,e,n,r){"use strict";var i,o,a,s,l,u,c,h,d,f,p,g,m,v,y,w={},b=[],x=t,C=[],_="translate-cloak",E=!1,T=!1,k=".",S=0,$=!0,M="default",A={"default":function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():e}},R="2.7.2",D=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var t,n,i=e.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(t=0;t<i.languages.length;t++)if(n=i.languages[t],n&&n.length)return n;for(t=0;t<o.length;t++)if(n=i[o[t]],n&&n.length)return n;return null};D.displayName="angular-translate/service: getFirstBrowserLanguage";var O=function(){var t=D()||"";return A[M]&&(t=A[M](t)),t};O.displayName="angular-translate/service: getLocale";var P=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},H=function(){return this.toString().replace(/^\s+|\s+$/g,"")},L=function(t){for(var e=[],n=angular.lowercase(t),r=0,i=b.length;i>r;r++)e.push(angular.lowercase(b[r]));if(P(e,n)>-1)return t;if(o){var a;for(var s in o){var l=!1,u=Object.prototype.hasOwnProperty.call(o,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===t.slice(0,s.length-1)),(u||l)&&(a=o[s],P(e,angular.lowercase(a))>-1))return a}}if(t){var c=t.split("_");if(c.length>1&&P(e,angular.lowercase(c[0]))>-1)return c[0]}return t},N=function(t,e){if(!t&&!e)return w;if(t&&!e){if(angular.isString(t))return w[t]}else angular.isObject(w[t])||(w[t]={}),angular.extend(w[t],I(e));return this};this.translations=N,this.cloakClassName=function(t){return t?(_=t,this):_};var I=function(t,e,n,r){var i,o,a,s;e||(e=[]),n||(n={});for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s=t[i],angular.isObject(s)?I(s,e.concat(i),n,i):(o=e.length?""+e.join(k)+k+i:i,e.length&&i===r&&(a=""+e.join(k),n[a]="@:"+o),n[o]=s));return n};I.displayName="flatObject",this.addInterpolation=function(t){return C.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return f=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return B(t),this};var B=function(t){return t&&(i=t),i};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(m=t,this):m},this.translationNotFoundIndicatorRight=function(t){return t?(v=t,this):v},this.fallbackLanguage=function(t){return j(t),this};var j=function(t){return t?(angular.isString(t)?(s=!0,a=[t]):angular.isArray(t)&&(s=!1,a=t),angular.isString(i)&&P(a,i)<0&&a.push(i),this):s?a[0]:a};this.use=function(t){if(t){if(!w[t]&&!p)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return l=t,this}return l};var F=function(t){return t?(x=t,this):h?h+x:x};this.storageKey=F,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return p=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return c=t,this},this.storagePrefix=function(t){return t?(h=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return d=t,this},this.usePostCompiling=function(t){return E=!!t,this},this.forceAsyncReload=function(t){return T=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},M=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():O();return i=b.length?L(e):e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(b=t,e&&(o=e),this):b},this.useLoaderCache=function(t){return t===!1?y=void 0:t===!0?y=!0:"undefined"==typeof t?y="$translationCache":t&&(y=t),this},this.directivePriority=function(t){return void 0===t?S:(S=t,this)},this.statefulFilter=function(t){return void 0===t?$:($=t,this)},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,r){var o,h,b,k=e.get(f||"$translateDefaultInterpolation"),M=!1,A={},D={},O=function(t,e,n,s){if(angular.isArray(t)){var u=function(t){for(var i={},o=[],a=function(t){var o=r.defer(),a=function(e){i[t]=e,o.resolve([t,e])};return O(t,e,n,s).then(a,a),o.promise},l=0,u=t.length;u>l;l++)o.push(a(t[l]));return r.all(o).then(function(){return i})};return u(t)}var d=r.defer();t&&(t=H.apply(t));var f=function(){var t=i?D[i]:D[l];if(h=0,c&&!t){var e=o.get(x);if(t=D[e],a&&a.length){var n=P(a,e);h=0===n?1:0,P(a,i)<0&&a.push(i)}}return t}();if(f){var p=function(){tt(t,e,n,s).then(d.resolve,d.reject)};p.displayName="promiseResolved",f["finally"](p,d.reject)}else tt(t,e,n,s).then(d.resolve,d.reject);return d.promise},V=function(t){return m&&(t=[m,t].join(" ")),v&&(t=[t,v].join(" ")),t},q=function(t){l=t,n.$emit("$translateChangeSuccess",{language:t}),c&&o.put(O.storageKey(),l),k.setLocale(l);var e=function(t,e){A[e].setLocale(l)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(A,e),n.$emit("$translateChangeEnd",{language:t})},z=function(t){if(!t)throw"No language key specified for loading.";var i=r.defer();n.$emit("$translateLoadingStart",{language:t}),M=!0;var o=y;"string"==typeof o&&(o=e.get(o));var a=angular.extend({},g,{key:t,$http:angular.extend({},{cache:o},g.$http)}),s=function(e){var r={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(r,I(t))}):angular.extend(r,I(e)),M=!1,i.resolve({key:t,table:r}),n.$emit("$translateLoadingEnd",{language:t})};s.displayName="onLoaderSuccess";var l=function(t){n.$emit("$translateLoadingError",{language:t}),i.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return l.displayName="onLoaderError",e.get(p)(a).then(s,l),i.promise};if(c&&(o=e.get(c),!o.get||!o.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(C.length){var W=function(t){var n=e.get(t);n.setLocale(i||l),A[n.getInterpolationIdentifier()]=n};W.displayName="interpolationFactoryAdder",angular.forEach(C,W)}var U=function(t){var e=r.defer();if(Object.prototype.hasOwnProperty.call(w,t))e.resolve(w[t]);else if(D[t]){var n=function(t){N(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",D[t].then(n,e.reject)}else e.reject();return e.promise},Y=function(t,e,n,i){var o=r.defer(),a=function(r){if(Object.prototype.hasOwnProperty.call(r,e)){i.setLocale(t);var a=r[e];"@:"===a.substr(0,2)?Y(t,a.substr(2),n,i).then(o.resolve,o.reject):o.resolve(i.interpolate(r[e],n)),i.setLocale(l)}else o.reject()};return a.displayName="fallbackTranslationResolver",U(t).then(a,o.reject),o.promise},G=function(t,e,n,r){var i,o=w[t];if(o&&Object.prototype.hasOwnProperty.call(o,e)){if(r.setLocale(t),i=r.interpolate(o[e],n),"@:"===i.substr(0,2))return G(t,i.substr(2),n,r);r.setLocale(l)}return i},X=function(t,n){if(d){var r=e.get(d)(t,l,n);return void 0!==r?r:t}return t},K=function(t,e,n,i,o){var s=r.defer();if(t<a.length){var l=a[t];Y(l,e,n,i).then(s.resolve,function(){K(t+1,e,n,i,o).then(s.resolve)})}else s.resolve(o?o:X(e,n));return s.promise},Z=function(t,e,n,r){var i;if(t<a.length){var o=a[t];i=G(o,e,n,r),i||(i=Z(t+1,e,n,r))}return i},J=function(t,e,n,r){return K(b>0?b:h,t,e,n,r)},Q=function(t,e,n){return Z(b>0?b:h,t,e,n)},tt=function(t,e,n,i){var o=r.defer(),s=l?w[l]:w,u=n?A[n]:k;if(s&&Object.prototype.hasOwnProperty.call(s,t)){var c=s[t];"@:"===c.substr(0,2)?O(c.substr(2),e,n,i).then(o.resolve,o.reject):o.resolve(u.interpolate(c,e))}else{var h;d&&!M&&(h=X(t,e)),l&&a&&a.length?J(t,e,u,i).then(function(t){o.resolve(t)},function(t){o.reject(V(t))}):d&&!M&&h?o.resolve(i?i:h):i?o.resolve(i):o.reject(V(t))}return o.promise},et=function(t,e,n){var r,i=l?w[l]:w,o=k;if(A&&Object.prototype.hasOwnProperty.call(A,n)&&(o=A[n]),i&&Object.prototype.hasOwnProperty.call(i,t)){var s=i[t];r="@:"===s.substr(0,2)?et(s.substr(2),e,n):o.interpolate(s,e)}else{var u;d&&!M&&(u=X(t,e)),l&&a&&a.length?(h=0,r=Q(t,e,o)):r=d&&!M&&u?u:V(t)}return r},nt=function(t){u===t&&(u=void 0),D[t]=void 0};if(O.preferredLanguage=function(t){return t&&B(t),i},O.cloakClassName=function(){return _},O.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(j(t),p&&a&&a.length)for(var e=0,n=a.length;n>e;e++)D[a[e]]||(D[a[e]]=z(a[e]));O.use(O.use())}return s?a[0]:a},O.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=P(a,t);e>-1&&(b=e)}else b=0},O.proposedLanguage=function(){return u},O.storage=function(){return o},O.use=function(t){if(!t)return l;var e=r.defer();n.$emit("$translateChangeStart",{language:t});var i=L(t);return i&&(t=i),!T&&w[t]||!p||D[t]?u===t&&D[t]?D[t].then(function(t){return e.resolve(t.key),t},function(t){return e.reject(t),r.reject(t)}):(e.resolve(t),q(t)):(u=t,D[t]=z(t).then(function(t){return N(t.key,t.table),e.resolve(t.key),q(t.key),t},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),r.reject(t)}),D[t]["finally"](function(){nt(t)})),e.promise},O.storageKey=function(){return F()},O.isPostCompilingEnabled=function(){return E},O.isForceAsyncReloadEnabled=function(){return T},O.refresh=function(t){function e(){o.resolve(),n.$emit("$translateRefreshEnd",{language:t})}function i(){o.reject(),n.$emit("$translateRefreshEnd",{language:t})}if(!p)throw new Error("Couldn't refresh translation table, no loader registered!");var o=r.defer();if(n.$emit("$translateRefreshStart",{language:t}),t)if(w[t]){var s=function(n){N(n.key,n.table),t===l&&q(l),e()};s.displayName="refreshPostProcessor",z(t).then(s,i)}else i();else{var u=[],c={};if(a&&a.length)for(var h=0,d=a.length;d>h;h++)u.push(z(a[h])),c[a[h]]=!0;l&&!c[l]&&u.push(z(l));var f=function(t){w={},angular.forEach(t,function(t){N(t.key,t.table)}),l&&q(l),e()};f.displayName="refreshPostProcessor",r.all(u).then(f,i)}return o.promise},O.instant=function(t,e,n){if(null===t||angular.isUndefined(t))return t;if(angular.isArray(t)){for(var r={},o=0,s=t.length;s>o;o++)r[t[o]]=O.instant(t[o],e,n);return r}if(angular.isString(t)&&t.length<1)return t;t&&(t=H.apply(t));var u,c=[];i&&c.push(i),l&&c.push(l),a&&a.length&&(c=c.concat(a));for(var h=0,f=c.length;f>h;h++){var p=c[h];if(w[p]&&("undefined"!=typeof w[p][t]?u=et(t,e,n):(m||v)&&(u=V(t))),"undefined"!=typeof u)break}return u||""===u||(u=k.interpolate(t,e),d&&!M&&(u=X(t,e))),u},O.versionInfo=function(){return R},O.loaderCache=function(){return y},O.directivePriority=function(){return S},O.statefulFilter=function(){return $},p&&(angular.equals(w,{})&&O.use(O.use()),a&&a.length))for(var rt=function(t){return N(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},it=0,ot=a.length;ot>it;it++){var at=a[it];(T||!w[at])&&(D[at]=z(at).then(rt))}return O}]}function r(t,e){"use strict";var n,r={},i="default";return r.setLocale=function(t){n=t},r.getInterpolationIdentifier=function(){return i},r.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},r.interpolate=function(n,r){r=r||{},r=e.sanitize(r,"params");var i=t(n)(r);return i=e.sanitize(i,"text")},r}function i(t,e,n,r,i,o){"use strict";var a=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(e,s){var l=s.translateValues?s.translateValues:void 0,u=s.translateInterpolation?s.translateInterpolation:void 0,c=e[0].outerHTML.match(/translate-value-+/i),h="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",d="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(e,f,p){e.interpolateParams={},e.preText="",e.postText="";var g={},m=function(t,n,r){if(n.translateValues&&angular.extend(t,i(n.translateValues)(e.$parent)),c)for(var o in r)if(Object.prototype.hasOwnProperty.call(n,o)&&"translateValue"===o.substr(0,14)&&"translateValues"!==o){var a=angular.lowercase(o.substr(14,1))+o.substr(15);t[a]=r[o]}},v=function(t){if(angular.isFunction(v._unwatchOld)&&(v._unwatchOld(),v._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var r=a.apply(f.text()).match(h);if(angular.isArray(r)){e.preText=r[1],e.postText=r[3],g.translate=n(r[2])(e.$parent);var i=f.text().match(d);angular.isArray(i)&&i[2]&&i[2].length&&(v._unwatchOld=e.$watch(i[2],function(t){g.translate=t,_()}))}else g.translate=f.text().replace(/^\s+|\s+$/g,"")}else g.translate=t;_()},y=function(t){p.$observe(t,function(e){g[t]=e,_()})};m(e.interpolateParams,p,s);var w=!0;p.$observe("translate",function(t){"undefined"==typeof t?v(""):""===t&&w||(g.translate=t,_()),w=!1});for(var b in p)p.hasOwnProperty(b)&&"translateAttr"===b.substr(0,13)&&y(b);if(p.$observe("translateDefault",function(t){e.defaultText=t}),l&&p.$observe("translateValues",function(t){t&&e.$parent.$watch(function(){angular.extend(e.interpolateParams,i(t)(e.$parent))})}),c){var x=function(t){p.$observe(t,function(n){var r=angular.lowercase(t.substr(14,1))+t.substr(15);e.interpolateParams[r]=n})};for(var C in p)Object.prototype.hasOwnProperty.call(p,C)&&"translateValue"===C.substr(0,14)&&"translateValues"!==C&&x(C)}var _=function(){for(var t in g)g.hasOwnProperty(t)&&void 0!==g[t]&&E(t,g[t],e,e.interpolateParams,e.defaultText)},E=function(e,n,r,i,o){n?t(n,i,u,o).then(function(t){T(t,r,!0,e)},function(t){T(t,r,!1,e)}):T(n,r,!1,e)},T=function(e,n,i,o){if("translate"===o){i||"undefined"==typeof n.defaultText||(e=n.defaultText),f.html(n.preText+e+n.postText);var a=t.isPostCompilingEnabled(),l="undefined"!=typeof s.translateCompile,u=l&&"false"!==s.translateCompile;(a&&!l||u)&&r(f.contents())(n)}else{i||"undefined"==typeof n.defaultText||(e=n.defaultText);var c=p.$attr[o];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),f.attr(c,e)}};(l||c||p.translateDefault)&&e.$watch("interpolateParams",_,!0);var k=o.$on("$translateChangeSuccess",_);f.text().length?v(p.translate?p.translate:""):p.translate&&v(p.translate),_(),e.$on("$destroy",k)}}}}function o(t,e){"use strict";return{compile:function(n){var r=function(){n.addClass(e.cloakClassName())},i=function(){n.removeClass(e.cloakClassName())},o=t.$on("$translateChangeEnd",function(){i(),o(),o=null});return r(),function(t,n,o){o.translateCloak&&o.translateCloak.length&&o.$observe("translateCloak",function(t){e(t).then(i,r)})}}}}function a(t,e){"use strict";var n=function(n,r,i){return angular.isObject(r)||(r=t(r)(this)),e.instant(n,r,i)};return e.statefulFilter()&&(n.$stateful=!0),n}function s(t){"use strict";return t("translations")}return angular.module("pascalprecht.translate",["ng"]).run(t),t.$inject=["$translate"],t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",e),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.$inject=["$interpolate","$translateSanitization"],r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",o),o.$inject=["$rootScope","$translate"],o.displayName="translateCloakDirective",angular.module("pascalprecht.translate").filter("translate",a),a.$inject=["$parse","$translate"],a.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",s),s.$inject=["$cacheFactory"],s.displayName="$translationCache","pascalprecht.translate"}),/*!
 * angular-translate - v2.7.2 - 2015-06-01
 * http://github.com/angular-translate/angular-translate
 * Copyright (c) 2015 ; Licensed MIT
 */
function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t,e){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var r=function(r){if(!r||!angular.isString(r.prefix)||!angular.isString(r.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var i=t.defer();return e(angular.extend({url:[r.prefix,n.key,r.suffix].join(""),method:"GET",params:""},n.$http)).success(function(t){i.resolve(t)}).error(function(){i.reject(n.key)}),i.promise},i=t.defer(),o=[],a=n.files.length,s=0;a>s;s++)o.push(r({prefix:n.files[s].prefix,key:n.key,suffix:n.files[s].suffix}));return t.all(o).then(function(t){for(var e=t.length,n={},r=0;e>r;r++)for(var o in t[r])n[o]=t[r][o];i.resolve(n)},function(t){i.reject(t)}),i.promise}}return angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",t),t.$inject=["$q","$http"],t.displayName="$translateStaticFilesLoader","pascalprecht.translate"}),/**
 * @license AngularJS v1.4.2
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(t){var e;if(e=t.match(u)){var n=new Date(0),r=0,o=0;return e[9]&&(r=i(e[9]+e[10]),o=i(e[9]+e[11])),n.setUTCFullYear(i(e[1]),i(e[2])-1,i(e[3])),n.setUTCHours(i(e[4]||0)-r,i(e[5]||0)-o,i(e[6]||0),i(e[7]||0)),n}return t}function i(t){return parseInt(t,10)}function o(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function a(t,r,i,o){function a(t,n,r,i){return e.isFunction(t)?t:function(){return e.isNumber(t)?[t,n,r,i]:[200,t,n,r]}}function u(t,a,s,u,c,m,v){function y(t){return e.isString(t)||e.isFunction(t)||t instanceof RegExp?t:e.toJson(t)}function w(e){function i(){var n=e.response(t,a,s,c);b.$$respHeaders=n[2],u(g(n[0]),g(n[1]),b.getAllResponseHeaders(),g(n[3]||""))}function l(){for(var t=0,e=f.length;e>t;t++)if(f[t]===i){f.splice(t,1),u(-1,n,"");break}}return!o&&m&&(m.then?m.then(l):r(l,m)),i}var b=new l,x=d[0],C=!1;if(x&&x.match(t,a)){if(!x.matchData(s))throw new Error("Expected "+x+" with different data\nEXPECTED: "+y(x.data)+"\nGOT:      "+s);if(!x.matchHeaders(c))throw new Error("Expected "+x+" with different headers\nEXPECTED: "+y(x.headers)+"\nGOT:      "+y(c));if(d.shift(),x.response)return void f.push(w(x));C=!0}for(var _,E=-1;_=h[++E];)if(_.match(t,a,s,c||{})){if(_.response)(o?o.defer:p)(w(_));else{if(!_.passThrough)throw new Error("No response defined !");i(t,a,s,u,c,m,v)}return}throw new Error(C?"No response defined !":"Unexpected request: "+t+" "+a+"\n"+(x?"Expected "+x:"No more request expected"))}function c(t){e.forEach(["GET","DELETE","JSONP","HEAD"],function(e){u[t+e]=function(r,i){return u[t](e,r,n,i)}}),e.forEach(["PUT","POST","PATCH"],function(e){u[t+e]=function(n,r,i){return u[t](e,n,r,i)}})}var h=[],d=[],f=[],p=e.bind(f,f.push),g=e.copy;return u.when=function(t,e,r,i){var l=new s(t,e,r,i),u={respond:function(t,e,r,i){return l.passThrough=n,l.response=a(t,e,r,i),u}};return o&&(u.passThrough=function(){return l.response=n,l.passThrough=!0,u}),h.push(l),u},c("when"),u.expect=function(t,e,n,r){var i=new s(t,e,n,r),o={respond:function(t,e,n,r){return i.response=a(t,e,n,r),o}};return d.push(i),o},c("expect"),u.flush=function(n,r){if(r!==!1&&t.$digest(),!f.length)throw new Error("No pending request to flush !");if(e.isDefined(n)&&null!==n)for(;n--;){if(!f.length)throw new Error("No more pending request to flush !");f.shift()()}else for(;f.length;)f.shift()();u.verifyNoOutstandingExpectation(r)},u.verifyNoOutstandingExpectation=function(e){if(e!==!1&&t.$digest(),d.length)throw new Error("Unsatisfied requests: "+d.join(", "))},u.verifyNoOutstandingRequest=function(){if(f.length)throw new Error("Unflushed requests: "+f.length)},u.resetExpectations=function(){d.length=0,f.length=0},u}function s(t,n,r,i){this.data=r,this.headers=i,this.match=function(n,r,i,o){return t!=n?!1:this.matchUrl(r)?e.isDefined(i)&&!this.matchData(i)?!1:e.isDefined(o)&&!this.matchHeaders(o)?!1:!0:!1},this.matchUrl=function(t){return n?e.isFunction(n.test)?n.test(t):e.isFunction(n)?n(t):n==t:!0},this.matchHeaders=function(t){return e.isUndefined(i)?!0:e.isFunction(i)?i(t):e.equals(i,t)},this.matchData=function(t){return e.isUndefined(r)?!0:r&&e.isFunction(r.test)?r.test(t):r&&e.isFunction(r)?r(t):r&&!e.isString(r)?e.equals(e.fromJson(e.toJson(r)),e.fromJson(t)):r==t},this.toString=function(){return t+" "+n}}function l(){l.$$lastInstance=this,this.open=function(t,e,n){this.$$method=t,this.$$url=e,this.$$async=n,this.$$reqHeaders={},this.$$respHeaders={}},this.send=function(t){this.$$data=t},this.setRequestHeader=function(t,e){this.$$reqHeaders[t]=e},this.getResponseHeader=function(t){var r=this.$$respHeaders[t];return r?r:(t=e.lowercase(t),(r=this.$$respHeaders[t])?r:(r=n,e.forEach(this.$$respHeaders,function(n,i){r||e.lowercase(i)!=t||(r=n)}),r))},this.getAllResponseHeaders=function(){var t=[];return e.forEach(this.$$respHeaders,function(e,n){t.push(n+": "+e)}),t.join("\n")},this.abort=e.noop}e.mock={},e.mock.$BrowserProvider=function(){this.$get=function(){return new e.mock.$Browser}},e.mock.$Browser=function(){var t=this;this.isMock=!0,t.$$url="http://server/",t.$$lastUrl=t.$$url,t.pollFns=[],t.$$completeOutstandingRequest=e.noop,t.$$incOutstandingRequestCount=e.noop,t.onUrlChange=function(e){return t.pollFns.push(function(){(t.$$lastUrl!==t.$$url||t.$$state!==t.$$lastState)&&(t.$$lastUrl=t.$$url,t.$$lastState=t.$$state,e(t.$$url,t.$$state))}),e},t.$$applicationDestroyed=e.noop,t.$$checkUrlChange=e.noop,t.deferredFns=[],t.deferredNextId=0,t.defer=function(e,n){return n=n||0,t.deferredFns.push({time:t.defer.now+n,fn:e,id:t.deferredNextId}),t.deferredFns.sort(function(t,e){return t.time-e.time}),t.deferredNextId++},t.defer.now=0,t.defer.cancel=function(r){var i;return e.forEach(t.deferredFns,function(t,e){t.id===r&&(i=e)}),i!==n?(t.deferredFns.splice(i,1),!0):!1},t.defer.flush=function(n){if(e.isDefined(n))t.defer.now+=n;else{if(!t.deferredFns.length)throw new Error("No deferred tasks to be flushed");t.defer.now=t.deferredFns[t.deferredFns.length-1].time}for(;t.deferredFns.length&&t.deferredFns[0].time<=t.defer.now;)t.deferredFns.shift().fn()},t.$$baseHref="/",t.baseHref=function(){return this.$$baseHref}},e.mock.$Browser.prototype={poll:function(){e.forEach(this.pollFns,function(t){t()})},url:function(t,n,r){return e.isUndefined(r)&&(r=null),t?(this.$$url=t,this.$$state=e.copy(r),this):this.$$url},state:function(){return this.$$state},notifyWhenNoOutstandingRequests:function(t){t()}},e.mock.$ExceptionHandlerProvider=function(){var t;this.mode=function(e){switch(e){case"log":case"rethrow":var n=[];t=function(t){if(n.push(1==arguments.length?t:[].slice.call(arguments,0)),"rethrow"===e)throw t},t.errors=n;break;default:throw new Error("Unknown mode '"+e+"', only 'log'/'rethrow' modes are allowed!")}},this.$get=function(){return t},this.mode("rethrow")},e.mock.$LogProvider=function(){function t(t,e,n){return t.concat(Array.prototype.slice.call(e,n))}var n=!0;this.debugEnabled=function(t){return e.isDefined(t)?(n=t,this):n},this.$get=function(){var r={log:function(){r.log.logs.push(t([],arguments,0))},warn:function(){r.warn.logs.push(t([],arguments,0))},info:function(){r.info.logs.push(t([],arguments,0))},error:function(){r.error.logs.push(t([],arguments,0))},debug:function(){n&&r.debug.logs.push(t([],arguments,0))}};return r.reset=function(){r.log.logs=[],r.info.logs=[],r.warn.logs=[],r.error.logs=[],r.debug.logs=[]},r.assertEmpty=function(){var t=[];if(e.forEach(["error","warn","info","log","debug"],function(n){e.forEach(r[n].logs,function(r){e.forEach(r,function(e){t.push("MOCK $log ("+n+"): "+String(e)+"\n"+(e.stack||""))})})}),t.length)throw t.unshift("Expected $log to be empty! Either a message was logged unexpectedly, or an expected log message was not checked and removed:"),t.push(""),new Error(t.join("\n---------\n"))},r.reset(),r}},e.mock.$IntervalProvider=function(){this.$get=["$browser","$rootScope","$q","$$q",function(t,r,i,o){var a=[],s=0,l=0,u=function(u,c,h,d){function f(){if(y.notify(m++),h>0&&m>=h){var i;y.resolve(m),e.forEach(a,function(t,e){t.id===w.$$intervalId&&(i=e)}),i!==n&&a.splice(i,1)}v?t.defer.flush():r.$apply()}var p=arguments.length>4,g=p?Array.prototype.slice.call(arguments,4):[],m=0,v=e.isDefined(d)&&!d,y=(v?o:i).defer(),w=y.promise;return h=e.isDefined(h)?h:0,w.then(null,null,p?function(){u.apply(null,g)}:u),w.$$intervalId=s,a.push({nextTime:l+c,delay:c,fn:f,id:s,deferred:y}),a.sort(function(t,e){return t.nextTime-e.nextTime}),s++,w};return u.cancel=function(t){if(!t)return!1;var r;return e.forEach(a,function(e,n){e.id===t.$$intervalId&&(r=n)}),r!==n?(a[r].deferred.reject("canceled"),a.splice(r,1),!0):!1},u.flush=function(t){for(l+=t;a.length&&a[0].nextTime<=l;){var e=a[0];e.fn(),e.nextTime+=e.delay,a.sort(function(t,e){return t.nextTime-e.nextTime})}return t},u}]};var u=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?:\:?(\d\d)(?:\:?(\d\d)(?:\.(\d{3}))?)?)?(Z|([+-])(\d\d):?(\d\d)))?$/;if(e.mock.TzDate=function(t,n){var i=new Date(0);if(e.isString(n)){var a=n;if(i.origDate=r(n),n=i.origDate.getTime(),isNaN(n))throw{name:"Illegal Argument",message:"Arg '"+a+"' passed into TzDate constructor is not a valid date string"}}else i.origDate=new Date(n);var s=new Date(n).getTimezoneOffset();i.offsetDiff=60*s*1e3-1e3*t*60*60,i.date=new Date(n+i.offsetDiff),i.getTime=function(){return i.date.getTime()-i.offsetDiff},i.toLocaleDateString=function(){return i.date.toLocaleDateString()},i.getFullYear=function(){return i.date.getFullYear()},i.getMonth=function(){return i.date.getMonth()},i.getDate=function(){return i.date.getDate()},i.getHours=function(){return i.date.getHours()},i.getMinutes=function(){return i.date.getMinutes()},i.getSeconds=function(){return i.date.getSeconds()},i.getMilliseconds=function(){return i.date.getMilliseconds()},i.getTimezoneOffset=function(){return 60*t},i.getUTCFullYear=function(){return i.origDate.getUTCFullYear()},i.getUTCMonth=function(){return i.origDate.getUTCMonth()},i.getUTCDate=function(){return i.origDate.getUTCDate()},i.getUTCHours=function(){return i.origDate.getUTCHours()},i.getUTCMinutes=function(){return i.origDate.getUTCMinutes()},i.getUTCSeconds=function(){return i.origDate.getUTCSeconds()},i.getUTCMilliseconds=function(){return i.origDate.getUTCMilliseconds()},i.getDay=function(){return i.date.getDay()},i.toISOString&&(i.toISOString=function(){return o(i.origDate.getUTCFullYear(),4)+"-"+o(i.origDate.getUTCMonth()+1,2)+"-"+o(i.origDate.getUTCDate(),2)+"T"+o(i.origDate.getUTCHours(),2)+":"+o(i.origDate.getUTCMinutes(),2)+":"+o(i.origDate.getUTCSeconds(),2)+"."+o(i.origDate.getUTCMilliseconds(),3)+"Z"});var l=["getUTCDay","getYear","setDate","setFullYear","setHours","setMilliseconds","setMinutes","setMonth","setSeconds","setTime","setUTCDate","setUTCFullYear","setUTCHours","setUTCMilliseconds","setUTCMinutes","setUTCMonth","setUTCSeconds","setYear","toDateString","toGMTString","toJSON","toLocaleFormat","toLocaleString","toLocaleTimeString","toSource","toString","toTimeString","toUTCString","valueOf"];return e.forEach(l,function(t){i[t]=function(){throw new Error("Method '"+t+"' is not implemented in the TzDate mock")}}),i},e.mock.TzDate.prototype=Date.prototype,e.mock.animate=e.module("ngAnimateMock",["ng"]).config(["$provide",function(t){var n=[];t.value("$$animateReflow",function(t){var e=n.length;return n.push(t),function(){n.splice(e,1)}}),t.decorator("$animate",["$delegate","$$asyncCallback","$timeout","$browser","$$rAF",function(t,r,i,o,a){var s={queue:[],cancel:t.cancel,enabled:t.enabled,triggerCallbackEvents:function(){a.flush(),r.flush()},triggerCallbackPromise:function(){i.flush(0)},triggerCallbacks:function(){this.triggerCallbackEvents(),this.triggerCallbackPromise()},triggerReflow:function(){e.forEach(n,function(t){t()}),n=[]}};return e.forEach(["animate","enter","leave","move","addClass","removeClass","setClass"],function(e){s[e]=function(){return s.queue.push({event:e,element:arguments[0],options:arguments[arguments.length-1],args:arguments}),t[e].apply(t,arguments)}}),s}])}]),e.mock.dump=function(t){function n(t){var i;return e.isElement(t)?(t=e.element(t),i=e.element("<div></div>"),e.forEach(t,function(t){i.append(e.element(t).clone())}),i=i.html()):e.isArray(t)?(i=[],e.forEach(t,function(t){i.push(n(t))}),i="[ "+i.join(", ")+" ]"):i=e.isObject(t)?e.isFunction(t.$eval)&&e.isFunction(t.$apply)?r(t):t instanceof Error?t.stack||""+t.name+": "+t.message:e.toJson(t,!0):String(t),i}function r(t,n){n=n||"  ";var i=[n+"Scope("+t.$id+"): {"];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&!o.match(/^(\$|this)/)&&i.push("  "+o+": "+e.toJson(t[o]));for(var a=t.$$childHead;a;)i.push(r(a,n+"  ")),a=a.$$nextSibling;return i.push("}"),i.join("\n"+n)}return n(t)},e.mock.$HttpBackendProvider=function(){this.$get=["$rootScope","$timeout",a]},e.mock.$TimeoutDecorator=["$delegate","$browser",function(t,n){function r(t){var n=[];return e.forEach(t,function(t){n.push("{id: "+t.id+", time: "+t.time+"}")}),n.join(", ")}return t.flush=function(t){n.defer.flush(t)},t.verifyNoPendingTasks=function(){if(n.deferredFns.length)throw new Error("Deferred tasks to flush ("+n.deferredFns.length+"): "+r(n.deferredFns))},t}],e.mock.$RAFDecorator=["$delegate",function(t){var e=[],n=function(t){var n=e.length;return e.push(t),function(){e.splice(n,1)}};return n.supported=t.supported,n.flush=function(){if(0===e.length)throw new Error("No rAF callbacks present");for(var t=e.length,n=0;t>n;n++)e[n]();e=e.slice(n)},n}],e.mock.$AsyncCallbackDecorator=["$delegate",function(t){var n=[],r=function(t){n.push(t)};return r.flush=function(){e.forEach(n,function(t){t()}),n=[]},r}],e.mock.$RootElementProvider=function(){this.$get=function(){return e.element("<div ng-app></div>")}},e.mock.$ControllerDecorator=["$delegate",function(t){return function(n,r,i,o){if(i&&"object"==typeof i){var a=t(n,r,!0,o);return e.extend(a.instance,i),a()}return t(n,r,i,o)}}],e.module("ngMock",["ng"]).provider({$browser:e.mock.$BrowserProvider,$exceptionHandler:e.mock.$ExceptionHandlerProvider,$log:e.mock.$LogProvider,$interval:e.mock.$IntervalProvider,$httpBackend:e.mock.$HttpBackendProvider,$rootElement:e.mock.$RootElementProvider}).config(["$provide",function(t){t.decorator("$timeout",e.mock.$TimeoutDecorator),t.decorator("$$rAF",e.mock.$RAFDecorator),t.decorator("$$asyncCallback",e.mock.$AsyncCallbackDecorator),t.decorator("$rootScope",e.mock.$RootScopeDecorator),t.decorator("$controller",e.mock.$ControllerDecorator)}]),e.module("ngMockE2E",["ng"]).config(["$provide",function(t){t.decorator("$httpBackend",e.mock.e2e.$httpBackendDecorator)}]),e.mock.e2e={},e.mock.e2e.$httpBackendDecorator=["$rootScope","$timeout","$delegate","$browser",a],e.mock.$RootScopeDecorator=["$delegate",function(t){function e(){for(var t,e=0,n=[this.$$childHead];n.length;)for(t=n.shift();t;)e+=1,n.push(t.$$childHead),t=t.$$nextSibling;return e}function n(){for(var t,e=this.$$watchers?this.$$watchers.length:0,n=[this.$$childHead];n.length;)for(t=n.shift();t;)e+=t.$$watchers?t.$$watchers.length:0,n.push(t.$$childHead),t=t.$$nextSibling;return e}var r=Object.getPrototypeOf(t);return r.$countChildScopes=e,r.$countWatchers=n,t}],t.jasmine||t.mocha){var c=null,h=[],d=function(){return!!c};e.mock.$$annotate=e.injector.$$annotate,e.injector.$$annotate=function(t){return"function"!=typeof t||t.$inject||h.push(t),e.mock.$$annotate.apply(this,arguments)},(t.beforeEach||t.setup)(function(){h=[],c=this}),(t.afterEach||t.teardown)(function(){var t=c.$injector;h.forEach(function(t){delete t.$inject}),e.forEach(c.$modules,function(t){t&&t.$$hashKey&&(t.$$hashKey=n)}),c.$injector=null,c.$modules=null,c=null,t&&t.get("$rootElement").off(),e.forEach(e.element.fragments,function(t,n){delete e.element.fragments[n]}),l.$$lastInstance=null,e.forEach(e.callbacks,function(t,n){delete e.callbacks[n]}),e.callbacks.counter=0}),t.module=e.mock.module=function(){function t(){if(c.$injector)throw new Error("Injector already created, can not register a module!");var t=c.$modules||(c.$modules=[]);e.forEach(n,function(n){t.push(e.isObject(n)&&!e.isArray(n)?function(t){e.forEach(n,function(e,n){t.value(n,e)})}:n)})}var n=Array.prototype.slice.call(arguments,0);return d()?t():t};var f=function(t,e){this.message=t.message,this.name=t.name,t.line&&(this.line=t.line),t.sourceId&&(this.sourceId=t.sourceId),t.stack&&e&&(this.stack=t.stack+"\n"+e.stack),t.stackArray&&(this.stackArray=t.stackArray)};f.prototype.toString=Error.prototype.toString,t.inject=e.mock.inject=function(){function t(){var t=c.$modules||[],i=!!c.$injectorStrict;t.unshift("ngMock"),t.unshift("ng");var o=c.$injector;o||(i&&e.forEach(t,function(t){"function"==typeof t&&e.injector.$$annotate(t)}),o=c.$injector=e.injector(t,i),c.$injectorStrict=i);for(var a=0,s=n.length;s>a;a++){c.$injectorStrict&&o.annotate(n[a]);try{o.invoke(n[a]||e.noop,this)}catch(l){if(l.stack&&r)throw new f(l,r);throw l}finally{r=null}}}var n=Array.prototype.slice.call(arguments,0),r=new Error("Declaration Location");return d()?t.call(c):t},e.mock.inject.strictDi=function(t){function e(){if(t!==c.$injectorStrict){if(c.$injector)throw new Error("Injector already created, can not modify strict annotations");c.$injectorStrict=t}}return t=arguments.length?!!t:!0,d()?e():e}}}(window,window.angular),/*!
 * ZeroClipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.
 * Copyright (c) 2009-2014 Jon Rohan, James M. Greene
 * Licensed MIT
 * http://zeroclipboard.org/
 * v2.2.0
 */
function(t,e){"use strict";var n,r,i,o=t,a=o.document,s=o.navigator,l=o.setTimeout,u=o.clearTimeout,c=o.setInterval,h=o.clearInterval,d=o.getComputedStyle,f=o.encodeURIComponent,p=o.ActiveXObject,g=o.Error,m=o.Number.parseInt||o.parseInt,v=o.Number.parseFloat||o.parseFloat,y=o.Number.isNaN||o.isNaN,w=o.Date.now,b=o.Object.keys,x=o.Object.defineProperty,C=o.Object.prototype.hasOwnProperty,_=o.Array.prototype.slice,E=function(){var t=function(t){return t};if("function"==typeof o.wrap&&"function"==typeof o.unwrap)try{var e=a.createElement("div"),n=o.unwrap(e);1===e.nodeType&&n&&1===n.nodeType&&(t=o.unwrap)}catch(r){}return t}(),T=function(t){return _.call(t,0)},k=function(){var t,n,r,i,o,a,s=T(arguments),l=s[0]||{};for(t=1,n=s.length;n>t;t++)if(null!=(r=s[t]))for(i in r)C.call(r,i)&&(o=l[i],a=r[i],l!==a&&a!==e&&(l[i]=a));return l},S=function(t){var e,n,r,i;if("object"!=typeof t||null==t||"number"==typeof t.nodeType)e=t;else if("number"==typeof t.length)for(e=[],n=0,r=t.length;r>n;n++)C.call(t,n)&&(e[n]=S(t[n]));else{e={};for(i in t)C.call(t,i)&&(e[i]=S(t[i]))}return e},$=function(t,e){for(var n={},r=0,i=e.length;i>r;r++)e[r]in t&&(n[e[r]]=t[e[r]]);return n},M=function(t,e){var n={};for(var r in t)-1===e.indexOf(r)&&(n[r]=t[r]);return n},A=function(t){if(t)for(var e in t)C.call(t,e)&&delete t[e];return t},R=function(t,e){if(t&&1===t.nodeType&&t.ownerDocument&&e&&(1===e.nodeType&&e.ownerDocument&&e.ownerDocument===t.ownerDocument||9===e.nodeType&&!e.ownerDocument&&e===t.ownerDocument))do{if(t===e)return!0;t=t.parentNode}while(t);return!1},D=function(t){var e;return"string"==typeof t&&t&&(e=t.split("#")[0].split("?")[0],e=t.slice(0,t.lastIndexOf("/")+1)),e},O=function(t){var e,n;return"string"==typeof t&&t&&(n=t.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?e=n[1]:(n=t.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(e=n[1]))),e},P=function(){var t,e;try{throw new g}catch(n){e=n}return e&&(t=e.sourceURL||e.fileName||O(e.stack)),t},H=function(){var t,n,r;if(a.currentScript&&(t=a.currentScript.src))return t;if(n=a.getElementsByTagName("script"),1===n.length)return n[0].src||e;if("readyState"in n[0])for(r=n.length;r--;)if("interactive"===n[r].readyState&&(t=n[r].src))return t;return"loading"===a.readyState&&(t=n[n.length-1].src)?t:(t=P())?t:e},L=function(){var t,n,r,i=a.getElementsByTagName("script");for(t=i.length;t--;){if(!(r=i[t].src)){n=null;break}if(r=D(r),null==n)n=r;else if(n!==r){n=null;break}}return n||e},N=function(){var t=D(H())||L()||"";return t+"ZeroClipboard.swf"},I=function(){return null==t.opener&&(!!t.top&&t!=t.top||!!t.parent&&t!=t.parent)}(),B={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},j="11.0.0",F={},V={},q=null,z=0,W=0,U={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},Y=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],G=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],X=new RegExp("^flash-("+G.map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),K=new RegExp("^flash-("+G.slice(1).map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),Z={swfPath:N(),trustedDomains:t.location.host?[t.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},J=function(t){if("object"==typeof t&&null!==t)for(var e in t)if(C.call(t,e))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(e))Z[e]=t[e];else if(null==B.bridge)if("containerId"===e||"swfObjectId"===e){if(!ft(t[e]))throw new Error("The specified `"+e+"` value is not valid as an HTML4 Element ID");Z[e]=t[e]}else Z[e]=t[e];{if("string"!=typeof t||!t)return S(Z);if(C.call(Z,t))return Z[t]}},Q=function(){return Wt(),{browser:$(s,["userAgent","platform","appName"]),flash:M(B,["bridge"]),zeroclipboard:{version:Yt.version,config:Yt.config()}}},tt=function(){return!!(B.disabled||B.outdated||B.sandboxed||B.unavailable||B.degraded||B.deactivated)},et=function(t,r){var i,o,a,s={};if("string"==typeof t&&t)a=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof r)for(i in t)C.call(t,i)&&"string"==typeof i&&i&&"function"==typeof t[i]&&Yt.on(i,t[i]);if(a&&a.length){for(i=0,o=a.length;o>i;i++)t=a[i].replace(/^on/,""),s[t]=!0,F[t]||(F[t]=[]),F[t].push(r);if(s.ready&&B.ready&&Yt.emit({type:"ready"}),s.error){for(i=0,o=G.length;o>i;i++)if(B[G[i].replace(/^flash-/,"")]===!0){Yt.emit({type:"error",name:G[i]});break}n!==e&&Yt.version!==n&&Yt.emit({type:"error",name:"version-mismatch",jsVersion:Yt.version,swfVersion:n})}}return Yt},nt=function(t,e){var n,r,i,o,a;if(0===arguments.length)o=b(F);else if("string"==typeof t&&t)o=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)C.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&Yt.off(n,t[n]);if(o&&o.length)for(n=0,r=o.length;r>n;n++)if(t=o[n].toLowerCase().replace(/^on/,""),a=F[t],a&&a.length)if(e)for(i=a.indexOf(e);-1!==i;)a.splice(i,1),i=a.indexOf(e,i);else a.length=0;return Yt},rt=function(t){var e;return e="string"==typeof t&&t?S(F[t])||null:S(F)},it=function(t){var e,n,r;return t=pt(t),t&&!xt(t)?"ready"===t.type&&B.overdue===!0?Yt.emit({type:"error",name:"flash-overdue"}):(e=k({},t),wt.call(this,e),"copy"===t.type&&(r=Mt(V),n=r.data,q=r.formatMap),n):void 0},ot=function(){var t=B.sandboxed;if(Wt(),"boolean"!=typeof B.ready&&(B.ready=!1),B.sandboxed!==t&&B.sandboxed===!0)B.ready=!1,Yt.emit({type:"error",name:"flash-sandboxed"});else if(!Yt.isFlashUnusable()&&null===B.bridge){var e=Z.flashLoadTimeout;"number"==typeof e&&e>=0&&(z=l(function(){"boolean"!=typeof B.deactivated&&(B.deactivated=!0),B.deactivated===!0&&Yt.emit({type:"error",name:"flash-deactivated"})},e)),B.overdue=!1,St()}},at=function(){Yt.clearData(),Yt.blur(),Yt.emit("destroy"),$t(),Yt.off()},st=function(t,e){var n;if("object"==typeof t&&t&&"undefined"==typeof e)n=t,Yt.clearData();else{if("string"!=typeof t||!t)return;n={},n[t]=e}for(var r in n)"string"==typeof r&&r&&C.call(n,r)&&"string"==typeof n[r]&&n[r]&&(V[r]=n[r])},lt=function(t){"undefined"==typeof t?(A(V),q=null):"string"==typeof t&&C.call(V,t)&&delete V[t]},ut=function(t){return"undefined"==typeof t?S(V):"string"==typeof t&&C.call(V,t)?V[t]:void 0},ct=function(t){if(t&&1===t.nodeType){r&&(Nt(r,Z.activeClass),r!==t&&Nt(r,Z.hoverClass)),r=t,Lt(t,Z.hoverClass);var e=t.getAttribute("title")||Z.title;if("string"==typeof e&&e){var n=kt(B.bridge);n&&n.setAttribute("title",e)}var i=Z.forceHandCursor===!0||"pointer"===It(t,"cursor");qt(i),Vt()}},ht=function(){var t=kt(B.bridge);t&&(t.removeAttribute("title"),t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px"),r&&(Nt(r,Z.hoverClass),Nt(r,Z.activeClass),r=null)},dt=function(){return r||null},ft=function(t){return"string"==typeof t&&t&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(t)},pt=function(t){var e;if("string"==typeof t&&t?(e=t,t={}):"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(e=t.type),e){e=e.toLowerCase(),!t.target&&(/^(copy|aftercopy|_click)$/.test(e)||"error"===e&&"clipboard-error"===t.name)&&(t.target=i),k(t,{type:e,target:t.target||r||null,relatedTarget:t.relatedTarget||null,currentTarget:B&&B.bridge||null,timeStamp:t.timeStamp||w()||null});var n=U[t.type];return"error"===t.type&&t.name&&n&&(n=n[t.name]),n&&(t.message=n),"ready"===t.type&&k(t,{target:null,version:B.version}),"error"===t.type&&(X.test(t.name)&&k(t,{target:null,minimumVersion:j}),K.test(t.name)&&k(t,{version:B.version})),"copy"===t.type&&(t.clipboardData={setData:Yt.setData,clearData:Yt.clearData}),"aftercopy"===t.type&&(t=At(t,q)),t.target&&!t.relatedTarget&&(t.relatedTarget=gt(t.target)),mt(t)}},gt=function(t){var e=t&&t.getAttribute&&t.getAttribute("data-clipboard-target");return e?a.getElementById(e):null},mt=function(t){if(t&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)){var n=t.target,r="_mouseover"===t.type&&t.relatedTarget?t.relatedTarget:e,i="_mouseout"===t.type&&t.relatedTarget?t.relatedTarget:e,s=Bt(n),l=o.screenLeft||o.screenX||0,u=o.screenTop||o.screenY||0,c=a.body.scrollLeft+a.documentElement.scrollLeft,h=a.body.scrollTop+a.documentElement.scrollTop,d=s.left+("number"==typeof t._stageX?t._stageX:0),f=s.top+("number"==typeof t._stageY?t._stageY:0),p=d-c,g=f-h,m=l+p,v=u+g,y="number"==typeof t.movementX?t.movementX:0,w="number"==typeof t.movementY?t.movementY:0;delete t._stageX,delete t._stageY,k(t,{srcElement:n,fromElement:r,toElement:i,screenX:m,screenY:v,pageX:d,pageY:f,clientX:p,clientY:g,x:p,y:g,movementX:y,movementY:w,offsetX:0,offsetY:0,layerX:0,layerY:0})}return t},vt=function(t){var e=t&&"string"==typeof t.type&&t.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(e)},yt=function(t,e,n,r){r?l(function(){t.apply(e,n)},0):t.apply(e,n)},wt=function(t){if("object"==typeof t&&t&&t.type){var e=vt(t),n=F["*"]||[],r=F[t.type]||[],i=n.concat(r);if(i&&i.length){var a,s,l,u,c,h=this;for(a=0,s=i.length;s>a;a++)l=i[a],u=h,"string"==typeof l&&"function"==typeof o[l]&&(l=o[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(u=l,l=l.handleEvent),"function"==typeof l&&(c=k({},t),yt(l,u,[c],e))}return this}},bt=function(t){var e=null;return(I===!1||t&&"error"===t.type&&t.name&&-1!==Y.indexOf(t.name))&&(e=!1),e},xt=function(t){var e=t.target||r||null,o="swf"===t._source;switch(delete t._source,t.type){case"error":var a="flash-sandboxed"===t.name||bt(t);"boolean"==typeof a&&(B.sandboxed=a),-1!==G.indexOf(t.name)?k(B,{disabled:"flash-disabled"===t.name,outdated:"flash-outdated"===t.name,unavailable:"flash-unavailable"===t.name,degraded:"flash-degraded"===t.name,deactivated:"flash-deactivated"===t.name,overdue:"flash-overdue"===t.name,ready:!1}):"version-mismatch"===t.name&&(n=t.swfVersion,k(B,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),Ft();break;case"ready":n=t.swfVersion;var s=B.deactivated===!0;k(B,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:s,ready:!s}),Ft();break;case"beforecopy":i=e;break;case"copy":var l,u,c=t.relatedTarget;!V["text/html"]&&!V["text/plain"]&&c&&(u=c.value||c.outerHTML||c.innerHTML)&&(l=c.value||c.textContent||c.innerText)?(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",l),u!==l&&t.clipboardData.setData("text/html",u)):!V["text/plain"]&&t.target&&(l=t.target.getAttribute("data-clipboard-text"))&&(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",l));break;case"aftercopy":Ct(t),Yt.clearData(),e&&e!==Ht()&&e.focus&&e.focus();break;case"_mouseover":Yt.focus(e),Z.bubbleEvents===!0&&o&&(e&&e!==t.relatedTarget&&!R(t.relatedTarget,e)&&_t(k({},t,{type:"mouseenter",bubbles:!1,cancelable:!1})),_t(k({},t,{type:"mouseover"})));break;case"_mouseout":Yt.blur(),Z.bubbleEvents===!0&&o&&(e&&e!==t.relatedTarget&&!R(t.relatedTarget,e)&&_t(k({},t,{type:"mouseleave",bubbles:!1,cancelable:!1})),_t(k({},t,{type:"mouseout"})));break;case"_mousedown":Lt(e,Z.activeClass),Z.bubbleEvents===!0&&o&&_t(k({},t,{type:t.type.slice(1)}));break;case"_mouseup":Nt(e,Z.activeClass),Z.bubbleEvents===!0&&o&&_t(k({},t,{type:t.type.slice(1)}));break;case"_click":i=null,Z.bubbleEvents===!0&&o&&_t(k({},t,{type:t.type.slice(1)}));break;case"_mousemove":Z.bubbleEvents===!0&&o&&_t(k({},t,{type:t.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)?!0:void 0},Ct=function(t){if(t.errors&&t.errors.length>0){var e=S(t);k(e,{type:"error",name:"clipboard-error"}),delete e.success,l(function(){Yt.emit(e)},0)}},_t=function(t){if(t&&"string"==typeof t.type&&t){var e,n=t.target||null,r=n&&n.ownerDocument||a,i={view:r.defaultView||o,canBubble:!0,cancelable:!0,detail:"click"===t.type?1:0,button:"number"==typeof t.which?t.which-1:"number"==typeof t.button?t.button:r.createEvent?0:1},s=k(i,t);n&&r.createEvent&&n.dispatchEvent&&(s=[s.type,s.canBubble,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget],e=r.createEvent("MouseEvents"),e.initMouseEvent&&(e.initMouseEvent.apply(e,s),e._source="js",n.dispatchEvent(e)))}},Et=function(){var t=Z.flashLoadTimeout;if("number"==typeof t&&t>=0){var e=Math.min(1e3,t/10),n=Z.swfObjectId+"_fallbackContent";W=c(function(){var t=a.getElementById(n);jt(t)&&(Ft(),B.deactivated=null,Yt.emit({type:"error",name:"swf-not-found"}))},e)}},Tt=function(){var t=a.createElement("div");return t.id=Z.containerId,t.className=Z.containerClass,t.style.position="absolute",t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px",t.style.zIndex=""+zt(Z.zIndex),t},kt=function(t){for(var e=t&&t.parentNode;e&&"OBJECT"===e.nodeName&&e.parentNode;)e=e.parentNode;return e||null},St=function(){var t,e=B.bridge,n=kt(e);if(!e){var r=Pt(o.location.host,Z),i="never"===r?"none":"all",s=Dt(k({jsVersion:Yt.version},Z)),l=Z.swfPath+Rt(Z.swfPath,Z);n=Tt();var u=a.createElement("div");n.appendChild(u),a.body.appendChild(n);var c=a.createElement("div"),h="activex"===B.pluginType;c.innerHTML='<object id="'+Z.swfObjectId+'" name="'+Z.swfObjectId+'" width="100%" height="100%" '+(h?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+l+'"')+">"+(h?'<param name="movie" value="'+l+'"/>':"")+'<param name="allowScriptAccess" value="'+r+'"/><param name="allowNetworking" value="'+i+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+s+'"/><div id="'+Z.swfObjectId+'_fallbackContent">&nbsp;</div></object>',e=c.firstChild,c=null,E(e).ZeroClipboard=Yt,n.replaceChild(e,u),Et()}return e||(e=a[Z.swfObjectId],e&&(t=e.length)&&(e=e[t-1]),!e&&n&&(e=n.firstChild)),B.bridge=e||null,e},$t=function(){var t=B.bridge;if(t){var r=kt(t);r&&("activex"===B.pluginType&&"readyState"in t?(t.style.display="none",function i(){if(4===t.readyState){for(var e in t)"function"==typeof t[e]&&(t[e]=null);t.parentNode&&t.parentNode.removeChild(t),r.parentNode&&r.parentNode.removeChild(r)}else l(i,10)}()):(t.parentNode&&t.parentNode.removeChild(t),r.parentNode&&r.parentNode.removeChild(r))),Ft(),B.ready=null,B.bridge=null,B.deactivated=null,n=e}},Mt=function(t){var e={},n={};if("object"==typeof t&&t){for(var r in t)if(r&&C.call(t,r)&&"string"==typeof t[r]&&t[r])switch(r.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":e.text=t[r],n.text=r;break;case"text/html":case"html":case"air:html":case"flash:html":e.html=t[r],n.html=r;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":e.rtf=t[r],n.rtf=r}return{data:e,formatMap:n}}},At=function(t,e){if("object"!=typeof t||!t||"object"!=typeof e||!e)return t;var n={};for(var r in t)if(C.call(t,r))if("errors"===r){n[r]=t[r]?t[r].slice():[];for(var i=0,o=n[r].length;o>i;i++)n[r][i].format=e[n[r][i].format]}else if("success"!==r&&"data"!==r)n[r]=t[r];else{n[r]={};var a=t[r];for(var s in a)s&&C.call(a,s)&&C.call(e,s)&&(n[r][e[s]]=a[s])}return n},Rt=function(t,e){var n=null==e||e&&e.cacheBust===!0;return n?(-1===t.indexOf("?")?"?":"&")+"noCache="+w():""},Dt=function(t){var e,n,r,i,a="",s=[];if(t.trustedDomains&&("string"==typeof t.trustedDomains?i=[t.trustedDomains]:"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(i=t.trustedDomains)),i&&i.length)for(e=0,n=i.length;n>e;e++)if(C.call(i,e)&&i[e]&&"string"==typeof i[e]){if(r=Ot(i[e]),!r)continue;if("*"===r){s.length=0,s.push(r);break}s.push.apply(s,[r,"//"+r,o.location.protocol+"//"+r])}return s.length&&(a+="trustedOrigins="+f(s.join(","))),t.forceEnhancedClipboard===!0&&(a+=(a?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof t.swfObjectId&&t.swfObjectId&&(a+=(a?"&":"")+"swfObjectId="+f(t.swfObjectId)),"string"==typeof t.jsVersion&&t.jsVersion&&(a+=(a?"&":"")+"jsVersion="+f(t.jsVersion)),a},Ot=function(t){if(null==t||""===t)return null;if(t=t.replace(/^\s+|\s+$/g,""),""===t)return null;var e=t.indexOf("//");t=-1===e?t:t.slice(e+2);var n=t.indexOf("/");return t=-1===n?t:-1===e||0===n?null:t.slice(0,n),t&&".swf"===t.slice(-4).toLowerCase()?null:t||null},Pt=function(){var t=function(t){var e,n,r,i=[];if("string"==typeof t&&(t=[t]),"object"!=typeof t||!t||"number"!=typeof t.length)return i;for(e=0,n=t.length;n>e;e++)if(C.call(t,e)&&(r=Ot(t[e]))){if("*"===r){i.length=0,i.push("*");break}-1===i.indexOf(r)&&i.push(r)}return i};return function(e,n){var r=Ot(n.swfPath);null===r&&(r=e);var i=t(n.trustedDomains),o=i.length;if(o>0){if(1===o&&"*"===i[0])return"always";if(-1!==i.indexOf(e))return 1===o&&e===r?"sameDomain":"always"}return"never"}}(),Ht=function(){try{return a.activeElement}catch(t){return null}},Lt=function(t,e){var n,r,i,o=[];if("string"==typeof e&&e&&(o=e.split(/\s+/)),t&&1===t.nodeType&&o.length>0)if(t.classList)for(n=0,r=o.length;r>n;n++)t.classList.add(o[n]);else if(t.hasOwnProperty("className")){for(i=" "+t.className+" ",n=0,r=o.length;r>n;n++)-1===i.indexOf(" "+o[n]+" ")&&(i+=o[n]+" ");t.className=i.replace(/^\s+|\s+$/g,"")}return t},Nt=function(t,e){var n,r,i,o=[];if("string"==typeof e&&e&&(o=e.split(/\s+/)),t&&1===t.nodeType&&o.length>0)if(t.classList&&t.classList.length>0)for(n=0,r=o.length;r>n;n++)t.classList.remove(o[n]);else if(t.className){for(i=(" "+t.className+" ").replace(/[\r\n\t]/g," "),n=0,r=o.length;r>n;n++)i=i.replace(" "+o[n]+" "," ");t.className=i.replace(/^\s+|\s+$/g,"")}return t},It=function(t,e){var n=d(t,null).getPropertyValue(e);return"cursor"!==e||n&&"auto"!==n||"A"!==t.nodeName?n:"pointer"},Bt=function(t){var e={left:0,top:0,width:0,height:0};if(t.getBoundingClientRect){var n=t.getBoundingClientRect(),r=o.pageXOffset,i=o.pageYOffset,s=a.documentElement.clientLeft||0,l=a.documentElement.clientTop||0,u=0,c=0;if("relative"===It(a.body,"position")){var h=a.body.getBoundingClientRect(),d=a.documentElement.getBoundingClientRect();u=h.left-d.left||0,c=h.top-d.top||0}e.left=n.left+r-s-u,e.top=n.top+i-l-c,e.width="width"in n?n.width:n.right-n.left,e.height="height"in n?n.height:n.bottom-n.top}return e},jt=function(t){if(!t)return!1;var e=d(t,null),n=v(e.height)>0,r=v(e.width)>0,i=v(e.top)>=0,o=v(e.left)>=0,a=n&&r&&i&&o,s=a?null:Bt(t),l="none"!==e.display&&"collapse"!==e.visibility&&(a||!!s&&(n||s.height>0)&&(r||s.width>0)&&(i||s.top>=0)&&(o||s.left>=0));return l},Ft=function(){u(z),z=0,h(W),W=0},Vt=function(){var t;if(r&&(t=kt(B.bridge))){var e=Bt(r);k(t.style,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",zIndex:""+zt(Z.zIndex)})}},qt=function(t){B.ready===!0&&(B.bridge&&"function"==typeof B.bridge.setHandCursor?B.bridge.setHandCursor(t):B.ready=!1)},zt=function(t){if(/^(?:auto|inherit)$/.test(t))return t;var e;return"number"!=typeof t||y(t)?"string"==typeof t&&(e=zt(m(t,10))):e=t,"number"==typeof e?e:"auto"},Wt=function(e){var n,r,i,o=B.sandboxed,a=null;if(e=e===!0,I===!1)a=!1;else{try{r=t.frameElement||null}catch(s){i={name:s.name,message:s.message}}if(r&&1===r.nodeType&&"IFRAME"===r.nodeName)try{a=r.hasAttribute("sandbox")}catch(s){a=null}else{try{n=document.domain||null}catch(s){n=null}(null===n||i&&"SecurityError"===i.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(i.message.toLowerCase()))&&(a=!0)}}return B.sandboxed=a,o===a||e||Ut(p),a},Ut=function(t){function e(t){var e=t.match(/[\d]+/g);return e.length=3,e.join(".")}function n(t){return!!t&&(t=t.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(t)||"chrome.plugin"===t.slice(-13))}function r(t){t&&(l=!0,t.version&&(h=e(t.version)),!h&&t.description&&(h=e(t.description)),t.filename&&(c=n(t.filename)))}var i,o,a,l=!1,u=!1,c=!1,h="";if(s.plugins&&s.plugins.length)i=s.plugins["Shockwave Flash"],r(i),s.plugins["Shockwave Flash 2.0"]&&(l=!0,h="2.0.0.11");else if(s.mimeTypes&&s.mimeTypes.length)a=s.mimeTypes["application/x-shockwave-flash"],i=a&&a.enabledPlugin,r(i);else if("undefined"!=typeof t){u=!0;try{o=new t("ShockwaveFlash.ShockwaveFlash.7"),l=!0,h=e(o.GetVariable("$version"))}catch(d){try{o=new t("ShockwaveFlash.ShockwaveFlash.6"),l=!0,h="6.0.21"}catch(f){try{o=new t("ShockwaveFlash.ShockwaveFlash"),l=!0,h=e(o.GetVariable("$version"))}catch(p){u=!1}}}}B.disabled=l!==!0,B.outdated=h&&v(h)<v(j),B.version=h||"0.0.0",B.pluginType=c?"pepper":u?"activex":l?"netscape":"unknown"};Ut(p),Wt(!0);var Yt=function(){return this instanceof Yt?void("function"==typeof Yt._createClient&&Yt._createClient.apply(this,T(arguments))):new Yt};x(Yt,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Yt.config=function(){return J.apply(this,T(arguments))},Yt.state=function(){return Q.apply(this,T(arguments))},Yt.isFlashUnusable=function(){return tt.apply(this,T(arguments))},Yt.on=function(){return et.apply(this,T(arguments))},Yt.off=function(){return nt.apply(this,T(arguments))},Yt.handlers=function(){return rt.apply(this,T(arguments))},Yt.emit=function(){return it.apply(this,T(arguments))},Yt.create=function(){return ot.apply(this,T(arguments))},Yt.destroy=function(){return at.apply(this,T(arguments))},Yt.setData=function(){return st.apply(this,T(arguments))},Yt.clearData=function(){return lt.apply(this,T(arguments))},Yt.getData=function(){return ut.apply(this,T(arguments))},Yt.focus=Yt.activate=function(){return ct.apply(this,T(arguments))},Yt.blur=Yt.deactivate=function(){return ht.apply(this,T(arguments))},Yt.activeElement=function(){return dt.apply(this,T(arguments))};var Gt=0,Xt={},Kt=0,Zt={},Jt={};k(Z,{autoActivate:!0});var Qt=function(t){var e=this;e.id=""+Gt++,Xt[e.id]={instance:e,elements:[],handlers:{}},t&&e.clip(t),Yt.on("*",function(t){return e.emit(t)}),Yt.on("destroy",function(){e.destroy()}),Yt.create()},te=function(t,r){var i,o,a,s={},l=Xt[this.id],u=l&&l.handlers;if(!l)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof t&&t)a=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof r)for(i in t)C.call(t,i)&&"string"==typeof i&&i&&"function"==typeof t[i]&&this.on(i,t[i]);if(a&&a.length){for(i=0,o=a.length;o>i;i++)t=a[i].replace(/^on/,""),s[t]=!0,u[t]||(u[t]=[]),u[t].push(r);if(s.ready&&B.ready&&this.emit({type:"ready",client:this}),s.error){for(i=0,o=G.length;o>i;i++)if(B[G[i].replace(/^flash-/,"")]){this.emit({type:"error",name:G[i],client:this});break}n!==e&&Yt.version!==n&&this.emit({type:"error",name:"version-mismatch",jsVersion:Yt.version,swfVersion:n})}}return this},ee=function(t,e){var n,r,i,o,a,s=Xt[this.id],l=s&&s.handlers;if(!l)return this;if(0===arguments.length)o=b(l);else if("string"==typeof t&&t)o=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)C.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&this.off(n,t[n]);if(o&&o.length)for(n=0,r=o.length;r>n;n++)if(t=o[n].toLowerCase().replace(/^on/,""),a=l[t],a&&a.length)if(e)for(i=a.indexOf(e);-1!==i;)a.splice(i,1),i=a.indexOf(e,i);else a.length=0;return this},ne=function(t){var e=null,n=Xt[this.id]&&Xt[this.id].handlers;return n&&(e="string"==typeof t&&t?n[t]?n[t].slice(0):[]:S(n)),e},re=function(t){if(le.call(this,t)){"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(t=k({},t));var e=k({},pt(t),{client:this});ue.call(this,e)}return this},ie=function(t){if(!Xt[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");t=ce(t);for(var e=0;e<t.length;e++)if(C.call(t,e)&&t[e]&&1===t[e].nodeType){t[e].zcClippingId?-1===Zt[t[e].zcClippingId].indexOf(this.id)&&Zt[t[e].zcClippingId].push(this.id):(t[e].zcClippingId="zcClippingId_"+Kt++,Zt[t[e].zcClippingId]=[this.id],Z.autoActivate===!0&&he(t[e]));var n=Xt[this.id]&&Xt[this.id].elements;-1===n.indexOf(t[e])&&n.push(t[e])}return this},oe=function(t){var e=Xt[this.id];if(!e)return this;var n,r=e.elements;t="undefined"==typeof t?r.slice(0):ce(t);for(var i=t.length;i--;)if(C.call(t,i)&&t[i]&&1===t[i].nodeType){for(n=0;-1!==(n=r.indexOf(t[i],n));)r.splice(n,1);var o=Zt[t[i].zcClippingId];if(o){for(n=0;-1!==(n=o.indexOf(this.id,n));)o.splice(n,1);0===o.length&&(Z.autoActivate===!0&&de(t[i]),delete t[i].zcClippingId)}}return this},ae=function(){var t=Xt[this.id];return t&&t.elements?t.elements.slice(0):[]},se=function(){Xt[this.id]&&(this.unclip(),this.off(),delete Xt[this.id])},le=function(t){if(!t||!t.type)return!1;if(t.client&&t.client!==this)return!1;var e=Xt[this.id],n=e&&e.elements,r=!!n&&n.length>0,i=!t.target||r&&-1!==n.indexOf(t.target),o=t.relatedTarget&&r&&-1!==n.indexOf(t.relatedTarget),a=t.client&&t.client===this;return e&&(i||o||a)?!0:!1},ue=function(t){var e=Xt[this.id];if("object"==typeof t&&t&&t.type&&e){var n=vt(t),r=e&&e.handlers["*"]||[],i=e&&e.handlers[t.type]||[],a=r.concat(i);if(a&&a.length){var s,l,u,c,h,d=this;for(s=0,l=a.length;l>s;s++)u=a[s],c=d,"string"==typeof u&&"function"==typeof o[u]&&(u=o[u]),"object"==typeof u&&u&&"function"==typeof u.handleEvent&&(c=u,u=u.handleEvent),"function"==typeof u&&(h=k({},t),yt(u,c,[h],n))}}},ce=function(t){return"string"==typeof t&&(t=[]),"number"!=typeof t.length?[t]:t},he=function(t){if(t&&1===t.nodeType){var e=function(t){(t||(t=o.event))&&("js"!==t._source&&(t.stopImmediatePropagation(),t.preventDefault()),delete t._source)},n=function(n){(n||(n=o.event))&&(e(n),Yt.focus(t))};t.addEventListener("mouseover",n,!1),t.addEventListener("mouseout",e,!1),t.addEventListener("mouseenter",e,!1),t.addEventListener("mouseleave",e,!1),t.addEventListener("mousemove",e,!1),Jt[t.zcClippingId]={mouseover:n,mouseout:e,mouseenter:e,mouseleave:e,mousemove:e}}},de=function(t){if(t&&1===t.nodeType){var e=Jt[t.zcClippingId];if("object"==typeof e&&e){for(var n,r,i=["move","leave","enter","out","over"],o=0,a=i.length;a>o;o++)n="mouse"+i[o],r=e[n],"function"==typeof r&&t.removeEventListener(n,r,!1);delete Jt[t.zcClippingId]}}};Yt._createClient=function(){Qt.apply(this,T(arguments))},Yt.prototype.on=function(){return te.apply(this,T(arguments))},Yt.prototype.off=function(){return ee.apply(this,T(arguments))},Yt.prototype.handlers=function(){return ne.apply(this,T(arguments))},Yt.prototype.emit=function(){return re.apply(this,T(arguments))},Yt.prototype.clip=function(){return ie.apply(this,T(arguments))},Yt.prototype.unclip=function(){return oe.apply(this,T(arguments))},Yt.prototype.elements=function(){return ae.apply(this,T(arguments))},Yt.prototype.destroy=function(){return se.apply(this,T(arguments))},Yt.prototype.setText=function(t){if(!Xt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Yt.setData("text/plain",t),this},Yt.prototype.setHtml=function(t){if(!Xt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Yt.setData("text/html",t),this},Yt.prototype.setRichText=function(t){if(!Xt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Yt.setData("application/rtf",t),this},Yt.prototype.setData=function(){if(!Xt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Yt.setData.apply(this,T(arguments)),this},Yt.prototype.clearData=function(){if(!Xt[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Yt.clearData.apply(this,T(arguments)),this},Yt.prototype.getData=function(){if(!Xt[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Yt.getData.apply(this,T(arguments))},"function"==typeof define&&define.amd?define(function(){return Yt}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Yt:t.ZeroClipboard=Yt}(function(){return this||window}()),/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */
function(t,e){"use strict";var n;if("object"==typeof exports){try{n=require("moment")}catch(r){}module.exports=e(n)}else"function"==typeof define&&define.amd?define(function(t){var r="moment";try{n=t(r)}catch(i){}return e(n)}):t.Pikaday=e(t.moment)}(this,function(t){"use strict";var e="function"==typeof t,n=!!window.addEventListener,r=window.document,i=window.setTimeout,o=function(t,e,r,i){n?t.addEventListener(e,r,!!i):t.attachEvent("on"+e,r)},a=function(t,e,r,i){n?t.removeEventListener(e,r,!!i):t.detachEvent("on"+e,r)},s=function(t,e,n){var i;r.createEvent?(i=r.createEvent("HTMLEvents"),i.initEvent(e,!0,!1),i=w(i,n),t.dispatchEvent(i)):r.createEventObject&&(i=r.createEventObject(),i=w(i,n),t.fireEvent("on"+e,i))},l=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},u=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},c=function(t,e){u(t,e)||(t.className=""===t.className?e:t.className+" "+e)},h=function(t,e){t.className=l((" "+t.className+" ").replace(" "+e+" "," "))},d=function(t){return/Array/.test(Object.prototype.toString.call(t))},f=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},p=function(t){var e=t.getDay();return 0===e||6===e},g=function(t){return t%4===0&&t%100!==0||t%400===0},m=function(t,e){return[31,g(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},v=function(t){f(t)&&t.setHours(0,0,0,0)},y=function(t,e){return t.getTime()===e.getTime()},w=function(t,e,n){var r,i;for(r in e)i=void 0!==t[r],i&&"object"==typeof e[r]&&null!==e[r]&&void 0===e[r].nodeName?f(e[r])?n&&(t[r]=new Date(e[r].getTime())):d(e[r])?n&&(t[r]=e[r].slice(0)):t[r]=w({},e[r],n):(n||!i)&&(t[r]=e[r]);return t},b=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},x={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},C=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},_=function(t){if(t.isEmpty)return'<td class="is-empty"></td>';var e=[];return t.isDisabled&&e.push("is-disabled"),t.isToday&&e.push("is-today"),t.isSelected&&e.push("is-selected"),t.isInRange&&e.push("is-inrange"),t.isStartRange&&e.push("is-startrange"),t.isEndRange&&e.push("is-endrange"),'<td data-day="'+t.day+'" class="'+e.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+t.year+'" data-pika-month="'+t.month+'" data-pika-day="'+t.day+'">'+t.day+"</button></td>"},E=function(t,e,n){var r=new Date(n,0,1),i=Math.ceil(((new Date(n,e,t)-r)/864e5+r.getDay()+1)/7);return'<td class="pika-week">'+i+"</td>"},T=function(t,e){return"<tr>"+(e?t.reverse():t).join("")+"</tr>"},k=function(t){return"<tbody>"+t.join("")+"</tbody>"},S=function(t){var e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;7>e;e++)n.push('<th scope="col"><abbr title="'+C(t,e)+'">'+C(t,e,!0)+"</abbr></th>");return"<thead>"+(t.isRTL?n.reverse():n).join("")+"</thead>"},$=function(t,e,n,r,i){var o,a,s,l,u,c=t._o,h=n===c.minYear,f=n===c.maxYear,p='<div class="pika-title">',g=!0,m=!0;for(s=[],o=0;12>o;o++)s.push('<option value="'+(n===i?o-e:12+o-e)+'"'+(o===r?" selected":"")+(h&&o<c.minMonth||f&&o>c.maxMonth?"disabled":"")+">"+c.i18n.months[o]+"</option>");for(l='<div class="pika-label">'+c.i18n.months[r]+'<select class="pika-select pika-select-month" tabindex="-1">'+s.join("")+"</select></div>",d(c.yearRange)?(o=c.yearRange[0],a=c.yearRange[1]+1):(o=n-c.yearRange,a=1+n+c.yearRange),s=[];a>o&&o<=c.maxYear;o++)o>=c.minYear&&s.push('<option value="'+o+'"'+(o===n?" selected":"")+">"+o+"</option>");return u='<div class="pika-label">'+n+c.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+s.join("")+"</select></div>",p+=c.showMonthAfterYear?u+l:l+u,h&&(0===r||c.minMonth>=r)&&(g=!1),f&&(11===r||c.maxMonth<=r)&&(m=!1),0===e&&(p+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(p+='<button class="pika-next'+(m?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),p+="</div>"},M=function(t,e){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+S(t)+k(e)+"</table>"},A=function(a){var s=this,l=s.config(a);s._onMouseDown=function(t){if(s._v){t=t||window.event;var e=t.target||t.srcElement;if(e){if(!u(e.parentNode,"is-disabled")){if(u(e,"pika-button")&&!u(e,"is-empty"))return s.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),void(l.bound&&i(function(){s.hide(),l.field&&l.field.blur()},100));u(e,"pika-prev")?s.prevMonth():u(e,"pika-next")&&s.nextMonth()}if(u(e,"pika-select"))s._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}}},s._onChange=function(t){t=t||window.event;var e=t.target||t.srcElement;e&&(u(e,"pika-select-month")?s.gotoMonth(e.value):u(e,"pika-select-year")&&s.gotoYear(e.value))},s._onInputChange=function(n){var r;n.firedBy!==s&&(e?(r=t(l.field.value,l.format),r=r&&r.isValid()?r.toDate():null):r=new Date(Date.parse(l.field.value)),f(r)&&s.setDate(r),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){var t=r.activeElement;do if(u(t,"pika-single"))return;while(t=t.parentNode);s._c||(s._b=i(function(){s.hide()},50)),s._c=!1},s._onClick=function(t){t=t||window.event;var e=t.target||t.srcElement,r=e;if(e){!n&&u(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),o(e,"change",s._onChange)));do if(u(r,"pika-single")||r===l.trigger)return;while(r=r.parentNode);s._v&&e!==l.trigger&&r!==l.trigger&&s.hide()}},s.el=r.createElement("div"),s.el.className="pika-single"+(l.isRTL?" is-rtl":"")+(l.theme?" "+l.theme:""),o(s.el,"ontouchend"in r?"touchend":"mousedown",s._onMouseDown,!0),o(s.el,"change",s._onChange),l.field&&(l.container?l.container.appendChild(s.el):l.bound?r.body.appendChild(s.el):l.field.parentNode.insertBefore(s.el,l.field.nextSibling),o(l.field,"change",s._onInputChange),l.defaultDate||(l.defaultDate=e&&l.field.value?t(l.field.value,l.format).toDate():new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var c=l.defaultDate;f(c)?l.setDefaultDate?s.setDate(c,!0):s.gotoDate(c):s.gotoDate(new Date),l.bound?(this.hide(),s.el.className+=" is-bound",o(l.trigger,"click",s._onInputClick),o(l.trigger,"focus",s._onInputFocus),o(l.trigger,"blur",s._onInputBlur)):this.show()};return A.prototype={config:function(t){this._o||(this._o=w({},x,!0));var e=w(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.theme="string"==typeof e.theme&&e.theme?e.theme:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field,e.disableWeekends=!!e.disableWeekends,e.disableDayFn="function"==typeof e.disableDayFn?e.disableDayFn:null;var n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,f(e.minDate)||(e.minDate=!1),f(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&this.setMinDate(e.minDate),e.maxDate&&(v(e.maxDate),e.maxYear=e.maxDate.getFullYear(),e.maxMonth=e.maxDate.getMonth()),d(e.yearRange)){var r=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||r,e.yearRange[1]=parseInt(e.yearRange[1],10)||r}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||x.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(n){return f(this._d)?e?t(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n,r){e&&t.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return f(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",s(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),f(t)){var n=this._o.minDate,r=this._o.maxDate;f(n)&&n>t?t=n:f(r)&&t>r&&(t=r),this._d=new Date(t.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),s(this._o.field,"change",{firedBy:this})),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){var e=!0;if(f(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=i<n.getTime()||r.getTime()<i}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=b(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=b({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){v(t),this._o.minDate=t,this._o.minYear=t.getFullYear(),this._o.minMonth=t.getMonth()},setMaxDate:function(t){this._o.maxDate=t},setStartRange:function(t){this._o.startRange=t},setEndRange:function(t){this._o.endRange=t},draw:function(t){if(this._v||t){var e=this._o,n=e.minYear,r=e.maxYear,o=e.minMonth,a=e.maxMonth,s="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(a)&&this._m>a&&(this._m=a));for(var l=0;l<e.numberOfMonths;l++)s+='<div class="pika-lendar">'+$(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year)+this.render(this.calendars[l].year,this.calendars[l].month)+"</div>";if(this.el.innerHTML=s,e.bound&&"hidden"!==e.field.type&&i(function(){e.trigger.focus()},1),"function"==typeof this._o.onDraw){var u=this;i(function(){u._o.onDraw.call(u)},0)}}},adjustPosition:function(){var t,e,n,i,o,a,s,l,u,c;if(!this._o.container){if(this.el.style.position="absolute",t=this._o.trigger,e=t,n=this.el.offsetWidth,i=this.el.offsetHeight,o=window.innerWidth||r.documentElement.clientWidth,a=window.innerHeight||r.documentElement.clientHeight,s=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop,"function"==typeof t.getBoundingClientRect)c=t.getBoundingClientRect(),l=c.left+window.pageXOffset,u=c.bottom+window.pageYOffset;else for(l=e.offsetLeft,u=e.offsetTop+e.offsetHeight;e=e.offsetParent;)l+=e.offsetLeft,u+=e.offsetTop;(this._o.reposition&&l+n>o||this._o.position.indexOf("right")>-1&&l-n+t.offsetWidth>0)&&(l=l-n+t.offsetWidth),(this._o.reposition&&u+i>a+s||this._o.position.indexOf("top")>-1&&u-i-t.offsetHeight>0)&&(u=u-i-t.offsetHeight),this.el.style.left=l+"px",this.el.style.top=u+"px"}},render:function(t,e){var n=this._o,r=new Date,i=m(t,e),o=new Date(t,e,1).getDay(),a=[],s=[];v(r),n.firstDay>0&&(o-=n.firstDay,0>o&&(o+=7));for(var l=i+o,u=l;u>7;)u-=7;l+=7-u;for(var c=0,h=0;l>c;c++){var d,g=new Date(t,e,1+(c-o)),w=f(this._d)?y(g,this._d):!1,b=y(g,r),x=o>c||c>=i+o,C=n.startRange&&y(n.startRange,g),k=n.endRange&&y(n.endRange,g),S=n.startRange&&n.endRange&&n.startRange<g&&g<n.endRange,$=n.minDate&&g<n.minDate||n.maxDate&&g>n.maxDate||n.disableWeekends&&p(g)||n.disableDayFn&&n.disableDayFn(g),d={day:1+(c-o),month:e,year:t,isSelected:w,isToday:b,isDisabled:$,isEmpty:x,isStartRange:C,isEndRange:k,isInRange:S};s.push(_(d)),7===++h&&(n.showWeekNumber&&s.unshift(E(c-o,e,t)),a.push(T(s,n.isRTL)),s=[],h=0)}return M(n,a)},isVisible:function(){return this._v},show:function(){this._v||(h(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(o(r,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t=this._v;t!==!1&&(this._o.bound&&a(r,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",c(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"change",this._onChange),this._o.field&&(a(this._o.field,"change",this._onInputChange),this._o.bound&&(a(this._o.trigger,"click",this._onInputClick),a(this._o.trigger,"focus",this._onInputFocus),a(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},A}),/*!
 * Handsontable 0.18.0
 * Handsontable is a JavaScript library for editable tables with basic copy-paste compatibility with Excel and Google Docs
 *
 * Copyright (c) 2012-2014 Marcin Warpechowski
 * Copyright 2015 Handsoncode sp. z o.o. <hello@handsontable.com>
 * Licensed under the MIT license.
 * http://handsontable.com/
 *
 * Date: Thu Sep 10 2015 14:56:37 GMT+0200 (CEST)
 */
window.Handsontable={version:"0.18.0",buildDate:"Thu Sep 10 2015 14:56:37 GMT+0200 (CEST)"},function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Handsontable=t()}}(function(){var t;return function(t,e,n){return function r(t,e,n){function i(s,l){if(!e[s]){if(!t[s]){var u="function"==typeof require&&require;if(!l&&u)return u(s,!0);if(o)return o(s,!0);if(a[s]&&"undefined"!=typeof window[a[s]])return window[a[s]];var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var h=e[s]={exports:{}};t[s][0].call(h.exports,function(e){var n=t[s][1][e];return i(n?n:e)},h,h.exports,r,t,e,n)}return e[s].exports}for(var o="function"==typeof require&&require,a=JSON.parse('{"zeroclipboard":"ZeroClipboard","moment":"moment","pikaday":"Pikaday"}')||{},s=0;s<n.length;s++)i(n[s]);return i}(t,e,n),function(){return Handsontable}}({1:[function(t,e,n){"use strict";window.jQuery&&!function(t,e,n){e.fn.handsontable=function(t){var e,r,i,o,a,s=this.first(),l=s.data("handsontable");if("string"!=typeof t)return a=t||{},l?l.updateSettings(a):(l=new n.Core(s[0],a),s.data("handsontable",l),l.init()),s;if(i=[],arguments.length>1)for(e=1,r=arguments.length;r>e;e++)i.push(arguments[e]);if(l){if("undefined"==typeof l[t])throw new Error("Handsontable do not provide action: "+t);o=l[t].apply(l,i),"destroy"===t&&s.removeData()}return o}}(window,jQuery,Handsontable)},{}],2:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableBorder:{get:function(){return v}},__esModule:{value:!0}});var r,i,o,a,s=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),l=s.getComputedStyle,u=s.getTrimmingContainer,c=s.innerWidth,h=s.offset,d=s.outerHeight,f=s.outerWidth,p=(i=t("helpers/dom/event"),i&&i.__esModule&&i||{"default":i}).stopImmediatePropagation,g=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).EventManager,m=(a=t("cell/coords"),a&&a.__esModule&&a||{"default":a}).WalkontableCellCoords,v=function(t,e){e&&(this.eventManager=new g(t),this.instance=t,this.wot=t,this.settings=e,this.mouseDown=!1,this.main=null,this.top=null,this.left=null,this.bottom=null,this.right=null,this.topStyle=null,this.leftStyle=null,this.bottomStyle=null,this.rightStyle=null,this.cornerDefaultStyle={width:"5px",height:"5px",borderWidth:"2px",borderStyle:"solid",borderColor:"#FFF"},this.corner=null,this.cornerStyle=null,this.createBorders(e),this.registerListeners())};$traceurRuntime.createClass(v,{registerListeners:function(){var t=this;this.eventManager.addEventListener(document.body,"mousedown",function(){return t.onMouseDown()}),this.eventManager.addEventListener(document.body,"mouseup",function(){return t.onMouseUp()});for(var e=0,n=this.main.childNodes.length;n>e;e++)this.eventManager.addEventListener(this.main.childNodes[e],"mouseenter",function(e){return t.onMouseEnter(e)})},onMouseDown:function(){this.mouseDown=!0},onMouseUp:function(){this.mouseDown=!1},onMouseEnter:function(t){function e(t){return t.clientY<Math.floor(i.top)?!0:t.clientY>Math.ceil(i.top+i.height)?!0:t.clientX<Math.floor(i.left)?!0:t.clientX>Math.ceil(i.left+i.width)?!0:void 0}function n(t){e(t)&&(r.eventManager.removeEventListener(document.body,"mousemove",n),r.style.display="block")}if(this.mouseDown&&this.wot.getSetting("hideBorderOnMouseDownOver")){t.preventDefault(),p(t);var r=this,i=this.getBoundingClientRect();this.style.display="none",this.eventManager.addEventListener(document.body,"mousemove",n)}},createBorders:function(t){this.main=document.createElement("div");var e=["top","left","bottom","right","corner"],n=this.main.style;n.position="absolute",n.top=0,n.left=0;for(var r=0;5>r;r++){var i=e[r],o=document.createElement("div");o.className="wtBorder "+(this.settings.className||""),this.settings[i]&&this.settings[i].hide&&(o.className+=" hidden"),n=o.style,n.backgroundColor=this.settings[i]&&this.settings[i].color?this.settings[i].color:t.border.color,n.height=this.settings[i]&&this.settings[i].width?this.settings[i].width+"px":t.border.width+"px",n.width=this.settings[i]&&this.settings[i].width?this.settings[i].width+"px":t.border.width+"px",this.main.appendChild(o)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),Handsontable.mobileBrowser&&this.createMultipleSelectorHandles(),this.disappear(),this.wot.wtTable.bordersHolder||(this.wot.wtTable.bordersHolder=document.createElement("div"),this.wot.wtTable.bordersHolder.className="htBorders",this.wot.wtTable.spreader.appendChild(this.wot.wtTable.bordersHolder)),this.wot.wtTable.bordersHolder.insertBefore(this.main,this.wot.wtTable.bordersHolder.firstChild)},createMultipleSelectorHandles:function(){this.selectionHandles={topLeft:document.createElement("DIV"),topLeftHitArea:document.createElement("DIV"),bottomRight:document.createElement("DIV"),bottomRightHitArea:document.createElement("DIV")};var t=10,e=40;this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var n={position:"absolute",height:e+"px",width:e+"px","border-radius":parseInt(e/1.5,10)+"px"};for(var r in n)n.hasOwnProperty(r)&&(this.selectionHandles.styles.bottomRightHitArea[r]=n[r],this.selectionHandles.styles.topLeftHitArea[r]=n[r]);var i={position:"absolute",height:t+"px",width:t+"px","border-radius":parseInt(t/1.5,10)+"px",background:"#F5F5FF",border:"1px solid #4285c8"};for(var o in i)i.hasOwnProperty(o)&&(this.selectionHandles.styles.bottomRight[o]=i[o],this.selectionHandles.styles.topLeft[o]=i[o]);this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)},isPartRange:function(t,e){return!this.wot.selections.area.cellRange||t==this.wot.selections.area.cellRange.to.row&&e==this.wot.selections.area.cellRange.to.col?!1:!0},updateMultipleSelectionHandlesPosition:function(t,e,n,r,i,o){var a=parseInt(this.selectionHandles.styles.topLeft.width,10),s=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top=parseInt(n-a,10)+"px",this.selectionHandles.styles.topLeft.left=parseInt(r-a,10)+"px",this.selectionHandles.styles.topLeftHitArea.top=parseInt(n-s/4*3,10)+"px",this.selectionHandles.styles.topLeftHitArea.left=parseInt(r-s/4*3,10)+"px",this.selectionHandles.styles.bottomRight.top=parseInt(n+o,10)+"px",this.selectionHandles.styles.bottomRight.left=parseInt(r+i,10)+"px",this.selectionHandles.styles.bottomRightHitArea.top=parseInt(n+o-s/4,10)+"px",this.selectionHandles.styles.bottomRightHitArea.left=parseInt(r+i-s/4,10)+"px",this.settings.border.multipleSelectionHandlesVisible&&this.settings.border.multipleSelectionHandlesVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",this.isPartRange(t,e)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),t==this.wot.wtSettings.getSetting("fixedRowsTop")||e==this.wot.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")},appear:function(t){if(!this.disabled){var e,n,r,i,o,a,s,p,g,v,y,w,b,x,C,_,E;E=this.wot.cloneOverlay instanceof WalkontableTopOverlay||this.wot.cloneOverlay instanceof WalkontableCornerOverlay?this.wot.getSetting("fixedRowsTop"):this.wot.wtTable.getRenderedRowsCount();for(var T=0;E>T;T++){var k=this.wot.wtTable.rowFilter.renderedToSource(T);if(k>=t[0]&&k<=t[2]){b=k;break}}for(var S=E-1;S>=0;S--){var $=this.wot.wtTable.rowFilter.renderedToSource(S);if($>=t[0]&&$<=t[2]){C=$;break}}E=this.wot.wtTable.getRenderedColumnsCount();for(var M=0;E>M;M++){var A=this.wot.wtTable.columnFilter.renderedToSource(M);if(A>=t[1]&&A<=t[3]){x=A;break}}for(var R=E-1;R>=0;R--){var D=this.wot.wtTable.columnFilter.renderedToSource(R);if(D>=t[1]&&D<=t[3]){_=D;break}}if(void 0===b||void 0===x)return void this.disappear();e=b!==C||x!==_,n=this.wot.wtTable.getCell(new m(b,x)),r=e?this.wot.wtTable.getCell(new m(C,_)):n,i=h(n),o=e?h(r):i,a=h(this.wot.wtTable.TABLE),p=i.top,y=o.top+d(r)-p,v=i.left,w=o.left+f(r)-v,s=p-a.top-1,g=v-a.left-1;var O=l(n);parseInt(O.borderTopWidth,10)>0&&(s+=1,y=y>0?y-1:0),parseInt(O.borderLeftWidth,10)>0&&(g+=1,w=w>0?w-1:0),this.topStyle.top=s+"px",this.topStyle.left=g+"px",this.topStyle.width=w+"px",this.topStyle.display="block",this.leftStyle.top=s+"px",this.leftStyle.left=g+"px",this.leftStyle.height=y+"px",this.leftStyle.display="block";var P=Math.floor(this.settings.border.width/2);if(this.bottomStyle.top=s+y-P+"px",this.bottomStyle.left=g+"px",this.bottomStyle.width=w+"px",this.bottomStyle.display="block",this.rightStyle.top=s+"px",this.rightStyle.left=g+w-P+"px",this.rightStyle.height=y+1+"px",this.rightStyle.display="block",Handsontable.mobileBrowser||!this.hasSetting(this.settings.border.cornerVisible)||this.isPartRange(C,_))this.cornerStyle.display="none";else if(this.cornerStyle.top=s+y-4+"px",this.cornerStyle.left=g+w-4+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="block",_===this.wot.getSetting("totalColumns")-1){var H=u(this.wot.wtTable.TABLE),L=r.offsetLeft+f(r)>=c(H);L&&(this.cornerStyle.left=Math.floor(g+w-3-parseInt(this.cornerDefaultStyle.width)/2)+"px",this.cornerStyle.borderRightWidth=0)}Handsontable.mobileBrowser&&this.updateMultipleSelectionHandlesPosition(b,x,s,g,w,y)}},disappear:function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",Handsontable.mobileBrowser&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")},hasSetting:function(t){return"function"==typeof t?t():!!t}},{}),window.WalkontableBorder=v},{"cell/coords":5,eventManager:40,"helpers/dom/element":44,"helpers/dom/event":45}],3:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableViewportColumnsCalculator:{get:function(){return i}},__esModule:{value:!0}});var r=new WeakMap,i=function(t,e,n,i,o,a,s){r.set(this,{viewportWidth:t,scrollOffset:e,totalColumns:n,columnWidthFn:i,overrideFn:o,onlyFullyVisible:a}),this.count=0,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=s,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],this.calculate()},o=i;$traceurRuntime.createClass(i,{calculate:function(){for(var t,e=0,n=!0,i=[],o=r.get(this),a=o.onlyFullyVisible,s=o.overrideFn,l=o.scrollOffset,u=o.totalColumns,c=o.viewportWidth,h=0;u>h;h++)if(t=this._getColumnWidth(h),l>=e&&!a&&(this.startColumn=h),e>=l&&l+c>=e+t&&(null==this.startColumn&&(this.startColumn=h),this.endColumn=h),i.push(e),e+=t,a||(this.endColumn=h),e>=l+c){n=!1;break}if(this.endColumn===u-1&&n)for(this.startColumn=this.endColumn;this.startColumn>0;){var d=i[this.endColumn]+t-i[this.startColumn-1];if((c>=d||!a)&&this.startColumn--,d>c)break}null!==this.startColumn&&s&&s(this),this.startPosition=i[this.startColumn],void 0==this.startPosition&&(this.startPosition=null),null!==this.startColumn&&(this.count=this.endColumn-this.startColumn+1)},refreshStretching:function(t){if("none"!==this.stretch){for(var e,n,i=0,o=r.get(this),a=o.totalColumns,s=0;a>s;s++)e=this._getColumnWidth(s),i+=e;this.totalTargetWidth=t,n=i-t,"all"===this.stretch&&0>n?(this.stretchAllRatio=t/i,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0):"last"===this.stretch&&t!==1/0&&(this.stretchLastWidth=-n+this._getColumnWidth(a-1))}},getStretchedColumnWidth:function(t,e){var n=null;return"all"===this.stretch&&0!==this.stretchAllRatio?n=this._getStretchedAllColumnWidth(t,e):"last"===this.stretch&&0!==this.stretchLastWidth&&(n=this._getStretchedLastColumnWidth(t)),n},_getStretchedAllColumnWidth:function(t,e){var n=0,i=r.get(this),o=i.totalColumns;if(this.stretchAllColumnsWidth[t]||(this.stretchAllColumnsWidth[t]=Math.round(e*this.stretchAllRatio)),this.stretchAllColumnsWidth.length===o&&this.needVerifyLastColumnWidth){this.needVerifyLastColumnWidth=!1;for(var a=0;a<this.stretchAllColumnsWidth.length;a++)n+=this.stretchAllColumnsWidth[a];n!==this.totalTargetWidth&&(this.stretchAllColumnsWidth[this.stretchAllColumnsWidth.length-1]+=this.totalTargetWidth-n)}return this.stretchAllColumnsWidth[t]},_getStretchedLastColumnWidth:function(t){var e=r.get(this),n=e.totalColumns;return t===n-1?this.stretchLastWidth:null},_getColumnWidth:function(t){var e=r.get(this).columnWidthFn(t);return void 0===e&&(e=o.DEFAULT_WIDTH),e}},{get DEFAULT_WIDTH(){return 50}}),window.WalkontableViewportColumnsCalculator=i},{}],4:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableViewportRowsCalculator:{get:function(){return i}},__esModule:{value:!0}});var r=new WeakMap,i=function(t,e,n,i,o,a,s){r.set(this,{viewportHeight:t,scrollOffset:e,totalRows:n,rowHeightFn:i,overrideFn:o,onlyFullyVisible:a,horizontalScrollbarHeight:s}),this.count=0,this.startRow=null,this.endRow=null,this.startPosition=null,this.calculate()},o=i;$traceurRuntime.createClass(i,{calculate:function(){for(var t=0,e=!0,n=[],i=r.get(this),a=i.onlyFullyVisible,s=i.overrideFn,l=i.rowHeightFn,u=i.scrollOffset,c=i.totalRows,h=i.viewportHeight,d=i.horizontalScrollbarHeight||0,f=0;c>f;f++){var p=l(f);if(void 0===p&&(p=o.DEFAULT_HEIGHT),u>=t&&!a&&(this.startRow=f),t>=u&&u+h-d>=t+p&&(null===this.startRow&&(this.startRow=f),this.endRow=f),n.push(t),t+=p,a||(this.endRow=f),t>=u+h-d){e=!1;break}}if(this.endRow===c-1&&e)for(this.startRow=this.endRow;this.startRow>0;){var g=n[this.endRow]+p-n[this.startRow-1];if((h-d>=g||!a)&&this.startRow--,g>=h-d)break}null!==this.startRow&&s&&s(this),this.startPosition=n[this.startRow],void 0==this.startPosition&&(this.startPosition=null),null!==this.startRow&&(this.count=this.endRow-this.startRow+1)}},{get DEFAULT_HEIGHT(){return 23}}),window.WalkontableViewportRowsCalculator=i},{}],5:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableCellCoords:{get:function(){return r}},__esModule:{value:!0}});var r=function(t,e){"undefined"!=typeof t&&"undefined"!=typeof e?(this.row=t,this.col=e):(this.row=null,this.col=null)};$traceurRuntime.createClass(r,{isValid:function(t){return this.row<0||this.col<0?!1:this.row>=t.getSetting("totalRows")||this.col>=t.getSetting("totalColumns")?!1:!0},isEqual:function(t){return t===this?!0:this.row===t.row&&this.col===t.col},isSouthEastOf:function(t){return this.row>=t.row&&this.col>=t.col},isNorthWestOf:function(t){return this.row<=t.row&&this.col<=t.col},isSouthWestOf:function(t){return this.row>=t.row&&this.col<=t.col},isNorthEastOf:function(t){return this.row<=t.row&&this.col>=t.col}},{}),window.WalkontableCellCoords=r},{}],6:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableCellRange:{get:function(){return o}},__esModule:{value:!0}});var r,i=(r=t("cell/coords"),r&&r.__esModule&&r||{"default":r}).WalkontableCellCoords,o=function(t,e,n){this.highlight=t,this.from=e,this.to=n},a=o;$traceurRuntime.createClass(o,{isValid:function(t){return this.from.isValid(t)&&this.to.isValid(t)},isSingle:function(){return this.from.row===this.to.row&&this.from.col===this.to.col},getHeight:function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1},getWidth:function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1},includes:function(t){var e=this.getTopLeftCorner(),n=this.getBottomRightCorner();return t.row<0&&(t.row=0),t.col<0&&(t.col=0),e.row<=t.row&&n.row>=t.row&&e.col<=t.col&&n.col>=t.col},includesRange:function(t){return this.includes(t.getTopLeftCorner())&&this.includes(t.getBottomRightCorner())},isEqual:function(t){return Math.min(this.from.row,this.to.row)==Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)==Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)==Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)==Math.max(t.from.col,t.to.col)},overlaps:function(t){return t.isSouthEastOf(this.getTopLeftCorner())&&t.isNorthWestOf(this.getBottomRightCorner())},isSouthEastOf:function(t){return this.getTopLeftCorner().isSouthEastOf(t)||this.getBottomRightCorner().isSouthEastOf(t)},isNorthWestOf:function(t){return this.getTopLeftCorner().isNorthWestOf(t)||this.getBottomRightCorner().isNorthWestOf(t)},expand:function(t){var e=this.getTopLeftCorner(),n=this.getBottomRightCorner();return t.row<e.row||t.col<e.col||t.row>n.row||t.col>n.col?(this.from=new i(Math.min(e.row,t.row),Math.min(e.col,t.col)),this.to=new i(Math.max(n.row,t.row),Math.max(n.col,t.col)),!0):!1},expandByRange:function(t){if(this.includesRange(t)||!this.overlaps(t))return!1;var e=this.getTopLeftCorner(),n=this.getBottomRightCorner(),r=(this.getTopRightCorner(),this.getBottomLeftCorner(),t.getTopLeftCorner()),o=t.getBottomRightCorner(),s=Math.min(e.row,r.row),l=Math.min(e.col,r.col),u=Math.max(n.row,o.row),c=Math.max(n.col,o.col),h=new i(s,l),d=new i(u,c),f=new a(h,h,d).isCorner(this.from,t),p=t.isEqual(new a(h,h,d));return f&&!p&&(this.from.col>h.col&&(h.col=c,d.col=l),this.from.row>h.row&&(h.row=u,d.row=s)),this.from=h,this.to=d,!0},getDirection:function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0},setDirection:function(t){switch(t){case"NW-SE":this.from=this.getTopLeftCorner(),this.to=this.getBottomRightCorner();break;case"NE-SW":this.from=this.getTopRightCorner(),this.to=this.getBottomLeftCorner();break;case"SE-NW":this.from=this.getBottomRightCorner(),this.to=this.getTopLeftCorner();break;case"SW-NE":this.from=this.getBottomLeftCorner(),this.to=this.getTopRightCorner()}},getTopLeftCorner:function(){return new i(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},getBottomRightCorner:function(){return new i(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},getTopRightCorner:function(){return new i(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},getBottomLeftCorner:function(){return new i(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},isCorner:function(t,e){return e&&e.includes(t)&&(this.getTopLeftCorner().isEqual(new i(e.from.row,e.from.col))||this.getTopRightCorner().isEqual(new i(e.from.row,e.to.col))||this.getBottomLeftCorner().isEqual(new i(e.to.row,e.from.col))||this.getBottomRightCorner().isEqual(new i(e.to.row,e.to.col)))?!0:t.isEqual(this.getTopLeftCorner())||t.isEqual(this.getTopRightCorner())||t.isEqual(this.getBottomLeftCorner())||t.isEqual(this.getBottomRightCorner())},getOppositeCorner:function(t,e){if(!(t instanceof i))return!1;if(e&&e.includes(t)){if(this.getTopLeftCorner().isEqual(new i(e.from.row,e.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new i(e.from.row,e.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new i(e.to.row,e.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new i(e.to.row,e.to.col)))return this.getTopLeftCorner()}return t.isEqual(this.getBottomRightCorner())?this.getTopLeftCorner():t.isEqual(this.getTopLeftCorner())?this.getBottomRightCorner():t.isEqual(this.getTopRightCorner())?this.getBottomLeftCorner():t.isEqual(this.getBottomLeftCorner())?this.getTopRightCorner():void 0},getBordersSharedWith:function(t){if(!this.includesRange(t))return[];var e={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},n={top:Math.min(t.from.row,t.to.row),bottom:Math.max(t.from.row,t.to.row),left:Math.min(t.from.col,t.to.col),right:Math.max(t.from.col,t.to.col)},r=[];return e.top==n.top&&r.push("top"),e.right==n.right&&r.push("right"),e.bottom==n.bottom&&r.push("bottom"),e.left==n.left&&r.push("left"),r},getInner:function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),n=[],r=t.row;r<=e.row;r++)for(var o=t.col;o<=e.col;o++)this.from.row===r&&this.from.col===o||this.to.row===r&&this.to.col===o||n.push(new i(r,o));return n},getAll:function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),n=[],r=t.row;r<=e.row;r++)for(var o=t.col;o<=e.col;o++)n.push(t.row===r&&t.col===o?t:e.row===r&&e.col===o?e:new i(r,o));return n},forAll:function(t){for(var e=this.getTopLeftCorner(),n=this.getBottomRightCorner(),r=e.row;r<=n.row;r++)for(var i=e.col;i<=n.col;i++){var o=t(r,i);if(o===!1)return}}},{}),window.WalkontableCellRange=o},{"cell/coords":5}],7:[function(t,e,n){"use strict";Object.defineProperties(n,{Walkontable:{get:function(){return S}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c,h,d=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),f=d.addClass,p=d.fastInnerText,g=d.isVisible,m=d.removeClass,v=(i=t("helpers/object"),i&&i.__esModule&&i||{"default":i}).objectEach,y=(o=t("helpers/string"),o&&o.__esModule&&o||{"default":o}),w=y.toUpperCaseFirst,b=y.randomString,x=(a=t("event"),a&&a.__esModule&&a||{"default":a}).WalkontableEvent,C=(s=t("overlays"),s&&s.__esModule&&s||{"default":s}).WalkontableOverlays,_=(l=t("scroll"),l&&l.__esModule&&l||{"default":l}).WalkontableScroll,E=(u=t("settings"),u&&u.__esModule&&u||{"default":u}).WalkontableSettings,T=(c=t("table"),c&&c.__esModule&&c||{"default":c}).WalkontableTable,k=(h=t("viewport"),h&&h.__esModule&&h||{"default":h}).WalkontableViewport,S=function(t){var e=[];if(this.guid="wt_"+b(),t.cloneSource?(this.cloneSource=t.cloneSource,this.cloneOverlay=t.cloneOverlay,this.wtSettings=t.cloneSource.wtSettings,this.wtTable=new T(this,t.table,t.wtRootElement),this.wtScroll=new _(this),this.wtViewport=t.cloneSource.wtViewport,this.wtEvent=new x(this),this.selections=this.cloneSource.selections):(this.wtSettings=new E(this,t),this.wtTable=new T(this,t.table),this.wtScroll=new _(this),this.wtViewport=new k(this),this.wtEvent=new x(this),this.selections=this.getSetting("selections"),this.wtOverlays=new C(this),this.exportSettingsAsClassNames()),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var n=0,r=this.wtTable.THEAD.childNodes[0].childNodes.length;r>n;n++)e.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(t,n){p(n,e[t])}])}this.drawn=!1,this.drawInterrupted=!1};$traceurRuntime.createClass(S,{draw:function(){var t=void 0!==arguments[0]?arguments[0]:!1;return this.drawInterrupted=!1,t||g(this.wtTable.TABLE)?this.wtTable.draw(t):this.drawInterrupted=!0,this},getCell:function(t){var e=void 0!==arguments[1]?arguments[1]:!1;if(!e)return this.wtTable.getCell(t);var n=this.wtSettings.getSetting("fixedRowsTop"),r=this.wtSettings.getSetting("fixedColumnsLeft");return t.row<n&&t.col<r?this.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell(t):t.row<n?this.wtOverlays.topOverlay.clone.wtTable.getCell(t):t.col<r?this.wtOverlays.leftOverlay.clone.wtTable.getCell(t):this.wtTable.getCell(t)},update:function(t,e){return this.wtSettings.update(t,e)},scrollVertical:function(t){return this.wtOverlays.topOverlay.scrollTo(t),this.getSetting("onScrollVertically"),this},scrollHorizontal:function(t){return this.wtOverlays.leftOverlay.scrollTo(t),this.getSetting("onScrollHorizontally"),this},scrollViewport:function(t){return this.wtScroll.scrollViewport(t),this},getViewport:function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]},getOverlayName:function(){return this.cloneOverlay?this.cloneOverlay.type:"master"},exportSettingsAsClassNames:function(){var t=this,e={rowHeaders:["array"],columnHeaders:["array"]},n=[],r=[];v(e,function(e,i){e.indexOf("array")>-1&&t.getSetting(i).length&&r.push("ht"+w(i)),n.push("ht"+w(i))}),m(this.wtTable.wtRootElement.parentNode,n),f(this.wtTable.wtRootElement.parentNode,r)},getSetting:function(t,e,n,r,i){return this.wtSettings.getSetting(t,e,n,r,i)},hasSetting:function(t){return this.wtSettings.has(t)},destroy:function(){this.wtOverlays.destroy(),this.wtEvent.destroy()}},{}),window.Walkontable=S},{event:8,"helpers/dom/element":44,"helpers/object":49,"helpers/string":51,overlays:16,scroll:17,settings:19,table:20,viewport:22}],8:[function(t,e,n){"use strict";function r(t){var e=this,n=c(t);this.instance=t;var r=[null,null];this.dblClickTimeout=[null,null];var i,o,a=function(t){var n=e.parentCell(t.realTarget);l(t.realTarget,"corner")?e.instance.getSetting("onCellCornerMouseDown",t,t.realTarget):n.TD&&e.instance.hasSetting("onCellMouseDown")&&e.instance.getSetting("onCellMouseDown",t,n.coords,n.TD,e.instance),2!==t.button&&n.TD&&(r[0]=n.TD,clearTimeout(e.dblClickTimeout[0]),e.dblClickTimeout[0]=setTimeout(function(){r[0]=null},1e3))},h=function(t){e.instance.touchMoving=!0},d=function(t){n.addEventListener(this,"touchmove",h),e.checkIfTouchMove=setTimeout(function(){return e.instance.touchMoving===!0?(e.instance.touchMoving=void 0,void n.removeEventListener("touchmove",h,!1)):void a(t)},30)},f=function(t){var n,r;e.instance.hasSetting("onCellMouseOver")&&(n=e.instance.wtTable.TABLE,r=s(t.realTarget,["TD","TH"],n),r&&r!==o&&u(r,n)&&(o=r,e.instance.getSetting("onCellMouseOver",t,e.instance.wtTable.getCoords(r),r,e.instance)))},p=function(t){if(2!==t.button){var n=e.parentCell(t.realTarget);n.TD===r[0]&&n.TD===r[1]?(l(t.realTarget,"corner")?e.instance.getSetting("onCellCornerDblClick",t,n.coords,n.TD,e.instance):e.instance.getSetting("onCellDblClick",t,n.coords,n.TD,e.instance),r[0]=null,r[1]=null):n.TD===r[0]&&(r[1]=n.TD,clearTimeout(e.dblClickTimeout[1]),e.dblClickTimeout[1]=setTimeout(function(){r[1]=null},500))}},g=function(t){clearTimeout(i),t.preventDefault(),p(t)};if(n.addEventListener(this.instance.wtTable.holder,"mousedown",a),n.addEventListener(this.instance.wtTable.TABLE,"mouseover",f),n.addEventListener(this.instance.wtTable.holder,"mouseup",p),this.instance.wtTable.holder.parentNode.parentNode&&Handsontable.mobileBrowser&&!e.instance.wtTable.isWorkingOnClone()){var m="."+this.instance.wtTable.holder.parentNode.className.split(" ").join(".");n.addEventListener(this.instance.wtTable.holder,"touchstart",function(t){e.instance.touchApplied=!0,u(t.target,m)&&d.call(t.target,t)}),n.addEventListener(this.instance.wtTable.holder,"touchend",function(t){e.instance.touchApplied=!1,u(t.target,m)&&g.call(t.target,t)}),e.instance.momentumScrolling||(e.instance.momentumScrolling={}),n.addEventListener(this.instance.wtTable.holder,"scroll",function(t){clearTimeout(e.instance.momentumScrolling._timeout),e.instance.momentumScrolling.ongoing||e.instance.getSetting("onBeforeTouchScroll"),e.instance.momentumScrolling.ongoing=!0,e.instance.momentumScrolling._timeout=setTimeout(function(){e.instance.touchApplied||(e.instance.momentumScrolling.ongoing=!1,e.instance.getSetting("onAfterMomentumScroll"))},200)})}n.addEventListener(window,"resize",function(){"none"!==e.instance.getSetting("stretchH")&&e.instance.draw()}),this.destroy=function(){clearTimeout(this.dblClickTimeout[0]),clearTimeout(this.dblClickTimeout[1]),n.destroy()}}Object.defineProperties(n,{WalkontableEvent:{get:function(){return r}},__esModule:{value:!0}});var i,o,a=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),s=a.closest,l=a.hasClass,u=a.isChildOf,c=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager;r.prototype.parentCell=function(t){var e={},n=this.instance.wtTable.TABLE,r=s(t,["TD","TH"],n);return r&&u(r,n)?(e.coords=this.instance.wtTable.getCoords(r),e.TD=r):l(t,"wtBorder")&&l(t,"current")?(e.coords=this.instance.selections.current.cellRange.highlight,e.TD=this.instance.wtTable.getCell(e.coords)):l(t,"wtBorder")&&l(t,"area")&&this.instance.selections.area.cellRange&&(e.coords=this.instance.selections.area.cellRange.to,e.TD=this.instance.wtTable.getCell(e.coords)),e},window.WalkontableEvent=r},{eventManager:40,"helpers/dom/element":44}],9:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableColumnFilter:{get:function(){return r}},__esModule:{value:!0}});var r=function(t,e,n){this.offset=t,this.total=e,this.countTH=n};$traceurRuntime.createClass(r,{offsetted:function(t){return t+this.offset},unOffsetted:function(t){return t-this.offset},renderedToSource:function(t){return this.offsetted(t)},sourceToRendered:function(t){return this.unOffsetted(t)},offsettedTH:function(t){return t-this.countTH},unOffsettedTH:function(t){return t+this.countTH},visibleRowHeadedColumnToSourceColumn:function(t){return this.renderedToSource(this.offsettedTH(t))},sourceColumnToVisibleRowHeadedColumn:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}},{}),window.WalkontableColumnFilter=r},{}],10:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableRowFilter:{get:function(){return r}},__esModule:{value:!0}});var r=function(t,e,n){this.offset=t,this.total=e,this.countTH=n};$traceurRuntime.createClass(r,{offsetted:function(t){return t+this.offset},unOffsetted:function(t){return t-this.offset},renderedToSource:function(t){return this.offsetted(t)},sourceToRendered:function(t){return this.unOffsetted(t)},offsettedTH:function(t){return t-this.countTH},unOffsettedTH:function(t){return t+this.countTH},visibleColHeadedRowToSourceRow:function(t){return this.renderedToSource(this.offsettedTH(t))},sourceRowToVisibleColHeadedRow:function(t){return this.unOffsettedTH(this.sourceToRendered(t))}},{}),window.WalkontableRowFilter=r},{}],11:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableOverlay:{get:function(){return h}},__esModule:{value:!0}});var r,i,o,a=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),s=a.getScrollableElement,l=a.getTrimmingContainer,u=(i=t("helpers/object"),i&&i.__esModule&&i||{"default":i}).defineGetter,c=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,h=function(t){u(this,"wot",t,{writable:!1}),this.instance=this.wot,this.type="",this.TABLE=this.wot.wtTable.TABLE,this.hider=this.wot.wtTable.hider,this.spreader=this.wot.wtTable.spreader,this.holder=this.wot.wtTable.holder,
this.wtRootElement=this.wot.wtTable.wtRootElement,this.trimmingContainer=l(this.hider.parentNode.parentNode),this.mainTableScrollableElement=s(this.wot.wtTable.TABLE),this.needFullRender=this.shouldBeRendered(),this.areElementSizesAdjusted=!1},d=h;$traceurRuntime.createClass(h,{shouldBeRendered:function(){return!0},makeClone:function(t){if(-1===d.CLONE_TYPES.indexOf(t))throw new Error('Clone type "'+t+'" is not supported.');var e=document.createElement("DIV"),n=document.createElement("TABLE");return e.className="ht_clone_"+t+" handsontable",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.overflow="hidden",n.className=this.wot.wtTable.TABLE.className,e.appendChild(n),this.type=t,this.wot.wtTable.wtRootElement.parentNode.appendChild(e),new Walkontable({cloneSource:this.wot,cloneOverlay:this,table:n})},refresh:function(){var t=void 0!==arguments[0]?arguments[0]:!1,e=this.shouldBeRendered();this.clone&&(this.needFullRender||e)&&this.clone.draw(t),this.needFullRender=e},destroy:function(){c(this.clone).destroy()}},{get CLONE_TOP(){return"top"},get CLONE_LEFT(){return"left"},get CLONE_CORNER(){return"corner"},get CLONE_DEBUG(){return"debug"},get CLONE_TYPES(){return[d.CLONE_TOP,d.CLONE_LEFT,d.CLONE_CORNER,d.CLONE_DEBUG]}}),window.WalkontableOverlay=h},{eventManager:40,"helpers/dom/element":44,"helpers/object":49}],12:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableCornerOverlay:{get:function(){return c}},__esModule:{value:!0}});var r,i,o=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),a=o.outerHeight,s=o.outerWidth,l=o.setOverlayPosition,u=(i=t("_base"),i&&i.__esModule&&i||{"default":i}).WalkontableOverlay,c=function(t){$traceurRuntime.superConstructor(h).call(this,t),this.clone=this.makeClone(u.CLONE_CORNER)},h=c;$traceurRuntime.createClass(c,{shouldBeRendered:function(){return(this.wot.getSetting("fixedRowsTop")||this.wot.getSetting("columnHeaders").length)&&(this.wot.getSetting("fixedColumnsLeft")||this.wot.getSetting("rowHeaders").length)?!0:!1},resetFixedPosition:function(){if(this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=a(this.clone.wtTable.TABLE),n=s(this.clone.wtTable.TABLE);if(this.trimmingContainer===window){var r,i,o=this.wot.wtTable.hider.getBoundingClientRect(),u=Math.ceil(o.top),c=Math.ceil(o.left),h=Math.ceil(o.bottom),d=Math.ceil(o.right);r=0>c&&d-t.offsetWidth>0?-c+"px":"0",i=0>u&&h-t.offsetHeight>0?-u+"px":"0",l(t,r,i)}t.style.height=(0===e?e:e+4)+"px",t.style.width=(0===n?n:n+4)+"px"}}},{},u),window.WalkontableCornerOverlay=c},{_base:11,"helpers/dom/element":44}],13:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableDebugOverlay:{get:function(){return s}},__esModule:{value:!0}});var r,i,o=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).addClass,a=(i=t("_base"),i&&i.__esModule&&i||{"default":i}).WalkontableOverlay,s=function(t){$traceurRuntime.superConstructor(l).call(this,t),this.clone=this.makeClone(a.CLONE_DEBUG),this.clone.wtTable.holder.style.opacity=.4,this.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",o(this.clone.wtTable.holder.parentNode,"wtDebugVisible")},l=s;$traceurRuntime.createClass(s,{},{},a),window.WalkontableDebugOverlay=s},{_base:11,"helpers/dom/element":44}],14:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableLeftOverlay:{get:function(){return g}},__esModule:{value:!0}});var r,i,o=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),a=o.addClass,s=o.getScrollbarWidth,l=o.getScrollLeft,u=o.getWindowScrollTop,c=o.hasClass,h=o.outerWidth,d=o.removeClass,f=o.setOverlayPosition,p=(i=t("_base"),i&&i.__esModule&&i||{"default":i}).WalkontableOverlay,g=function(t){$traceurRuntime.superConstructor(m).call(this,t),this.clone=this.makeClone(p.CLONE_LEFT)},m=g;$traceurRuntime.createClass(g,{shouldBeRendered:function(){return this.wot.getSetting("fixedColumnsLeft")||this.wot.getSetting("rowHeaders").length?!0:!1},resetFixedPosition:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=0;if(this.trimmingContainer===window){var n,r,i=this.wot.wtTable.hider.getBoundingClientRect(),o=Math.ceil(i.left),a=Math.ceil(i.right);r=this.wot.wtTable.hider.style.top,r=""===r?0:r,n=0>o&&a-t.offsetWidth>0?-o:0,e=n,n+="px",f(t,n,r)}else e=this.getScrollPosition();this.adjustHeaderBordersPosition(e),this.adjustElementsSize()}},setScrollPosition:function(t){this.mainTableScrollableElement===window?window.scrollTo(t,u()):this.mainTableScrollableElement.scrollLeft=t},onScroll:function(){this.wot.getSetting("onScrollHorizontally")},sumCellSizes:function(t,e){for(var n=0,r=this.wot.wtSettings.defaultColumnWidth;e>t;)n+=this.wot.wtTable.getStretchedColumnWidth(t)||r,t++;return n},adjustElementsSize:function(){var t=void 0!==arguments[0]?arguments[0]:!1;(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildsSize(),t||(this.areElementSizesAdjusted=!0))},adjustRootElementSize:function(){var t,e=this.wot.wtTable.holder,n=e.clientHeight!==e.offsetHeight?s():0,r=this.clone.wtTable.holder.parentNode,i=r.style;this.trimmingContainer!==window&&(i.height=this.wot.wtViewport.getWorkspaceHeight()-n+"px"),this.clone.wtTable.holder.style.height=i.height,t=h(this.clone.wtTable.TABLE),i.width=(0===t?t:t+4)+"px"},adjustRootChildsSize:function(){var t=s();this.clone.wtTable.hider.style.height=this.hider.style.height,this.clone.wtTable.holder.style.height=this.clone.wtTable.holder.parentNode.style.height,0===t&&(t=30),this.clone.wtTable.holder.style.width=parseInt(this.clone.wtTable.holder.parentNode.style.width,10)+t+"px"},applyToDOM:function(){var t=this.wot.getSetting("totalColumns");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition)this.spreader.style.left=this.wot.wtViewport.columnsRenderCalculator.startPosition+"px";else{if(0!==t)throw new Error("Incorrect value of the columnsRenderCalculator");this.spreader.style.left="0"}this.spreader.style.right="",this.needFullRender&&this.syncOverlayOffset()},syncOverlayOffset:function(){this.clone.wtTable.spreader.style.top="number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition?this.wot.wtViewport.rowsRenderCalculator.startPosition+"px":""},scrollTo:function(t,e){var n=this.getTableParentOffset(),r=this.wot.cloneSource?this.wot.cloneSource:this.wot,i=r.wtTable.holder,o=0;e&&i.offsetWidth!==i.clientWidth&&(o=s()),e?(n+=this.sumCellSizes(0,t+1),n-=this.wot.wtViewport.getViewportWidth()):n+=this.sumCellSizes(this.wot.getSetting("fixedColumnsLeft"),t),n+=o,this.setScrollPosition(n)},getTableParentOffset:function(){return this.trimmingContainer===window?this.wot.wtTable.holderOffset.left:0},getScrollPosition:function(){return l(this.mainTableScrollableElement)},adjustHeaderBordersPosition:function(t){var e=this.wot.wtTable.holder.parentNode,n=this.wot.getSetting("rowHeaders"),r=this.wot.getSetting("fixedColumnsLeft");if(r&&!n.length)a(e,"innerBorderLeft");else if(!r&&n.length){var i=c(e,"innerBorderLeft");t?a(e,"innerBorderLeft"):d(e,"innerBorderLeft"),(!i&&t||i&&!t)&&this.wot.wtOverlays.adjustElementsSize()}}},{},p),window.WalkontableLeftOverlay=g},{_base:11,"helpers/dom/element":44}],15:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableTopOverlay:{get:function(){return g}},__esModule:{value:!0}});var r,i,o=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),a=o.addClass,s=o.getScrollbarWidth,l=o.getScrollTop,u=o.getWindowScrollLeft,c=o.hasClass,h=o.outerHeight,d=o.removeClass,f=o.setOverlayPosition,p=(i=t("_base"),i&&i.__esModule&&i||{"default":i}).WalkontableOverlay,g=function(t){$traceurRuntime.superConstructor(m).call(this,t),this.clone=this.makeClone(p.CLONE_TOP)},m=g;$traceurRuntime.createClass(g,{shouldBeRendered:function(){return this.wot.getSetting("fixedRowsTop")||this.wot.getSetting("columnHeaders").length?!0:!1},resetFixedPosition:function(){if(this.needFullRender&&this.wot.wtTable.holder.parentNode){var t=this.clone.wtTable.holder.parentNode,e=0;if(this.wot.wtOverlays.leftOverlay.trimmingContainer===window){var n,r,i=this.wot.wtTable.hider.getBoundingClientRect(),o=Math.ceil(i.top),a=Math.ceil(i.bottom);n=this.wot.wtTable.hider.style.left,n=""===n?0:n,r=0>o&&a-t.offsetHeight>0?-o:0,e=r,r+="px",f(t,n,r)}else e=this.getScrollPosition();this.adjustHeaderBordersPosition(e),this.adjustElementsSize()}},setScrollPosition:function(t){this.mainTableScrollableElement===window?window.scrollTo(u(),t):this.mainTableScrollableElement.scrollTop=t},onScroll:function(){this.wot.getSetting("onScrollVertically")},sumCellSizes:function(t,e){for(var n=0,r=this.wot.wtSettings.settings.defaultRowHeight;e>t;)n+=this.wot.wtTable.getRowHeight(t)||r,t++;return n},adjustElementsSize:function(){var t=void 0!==arguments[0]?arguments[0]:!1;(this.needFullRender||t)&&(this.adjustRootElementSize(),this.adjustRootChildsSize(),t||(this.areElementSizesAdjusted=!0))},adjustRootElementSize:function(){var t,e=this.wot.wtTable.holder,n=e.clientWidth!==e.offsetWidth?s():0,r=this.clone.wtTable.holder.parentNode,i=r.style;this.trimmingContainer!==window&&(i.width=this.wot.wtViewport.getWorkspaceWidth()-n+"px"),this.clone.wtTable.holder.style.width=i.width,t=h(this.clone.wtTable.TABLE),i.height=(0===t?t:t+4)+"px"},adjustRootChildsSize:function(){var t=s();this.clone.wtTable.hider.style.width=this.hider.style.width,this.clone.wtTable.holder.style.width=this.clone.wtTable.holder.parentNode.style.width,0===t&&(t=30),this.clone.wtTable.holder.style.height=parseInt(this.clone.wtTable.holder.parentNode.style.height,10)+t+"px"},applyToDOM:function(){var t=this.wot.getSetting("totalRows");if(this.areElementSizesAdjusted||this.adjustElementsSize(),"number"==typeof this.wot.wtViewport.rowsRenderCalculator.startPosition)this.spreader.style.top=this.wot.wtViewport.rowsRenderCalculator.startPosition+"px";else{if(0!==t)throw new Error("Incorrect value of the rowsRenderCalculator");this.spreader.style.top="0"}this.spreader.style.bottom="",this.needFullRender&&this.syncOverlayOffset()},syncOverlayOffset:function(){this.clone.wtTable.spreader.style.left="number"==typeof this.wot.wtViewport.columnsRenderCalculator.startPosition?this.wot.wtViewport.columnsRenderCalculator.startPosition+"px":""},scrollTo:function(t,e){var n=this.getTableParentOffset(),r=this.wot.cloneSource?this.wot.cloneSource:this.wot,i=r.wtTable.holder,o=0;e&&i.offsetHeight!==i.clientHeight&&(o=s()),e?(n+=this.sumCellSizes(0,t+1),n-=this.wot.wtViewport.getViewportHeight(),n+=1):n+=this.sumCellSizes(this.wot.getSetting("fixedRowsTop"),t),n+=o,this.setScrollPosition(n)},getTableParentOffset:function(){return this.mainTableScrollableElement===window?this.wot.wtTable.holderOffset.top:0},getScrollPosition:function(){return l(this.mainTableScrollableElement)},adjustHeaderBordersPosition:function(t){if(0===this.wot.getSetting("fixedRowsTop")&&this.wot.getSetting("columnHeaders").length>0){var e=this.wot.wtTable.holder.parentNode,n=c(e,"innerBorderTop");t?a(e,"innerBorderTop"):d(e,"innerBorderTop"),(!n&&t||n&&!t)&&this.wot.wtOverlays.adjustElementsSize()}if(0===this.wot.getSetting("rowHeaders").length){var r=this.clone.wtTable.THEAD.querySelector("th:nth-of-type(2)");r&&(r.style["border-left-width"]=0)}}},{},p),window.WalkontableTopOverlay=g},{_base:11,"helpers/dom/element":44}],16:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableOverlays:{get:function(){return x}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),h=c.getScrollableElement,d=c.getScrollbarWidth,f=c.getScrollLeft,p=c.getScrollTop,g=(i=t("helpers/unicode"),i&&i.__esModule&&i||{"default":i}).isKey,m=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).EventManager,v=(a=t("overlay/corner"),a&&a.__esModule&&a||{"default":a}).WalkontableCornerOverlay,y=(s=t("overlay/debug"),s&&s.__esModule&&s||{"default":s}).WalkontableDebugOverlay,w=(l=t("overlay/left"),l&&l.__esModule&&l||{"default":l}).WalkontableLeftOverlay,b=(u=t("overlay/top"),u&&u.__esModule&&u||{"default":u}).WalkontableTopOverlay,x=function(t){this.wot=t,this.instance=this.wot,this.eventManager=new m(this.wot),this.wot.update("scrollbarWidth",d()),this.wot.update("scrollbarHeight",d()),this.mainTableScrollableElement=h(this.wot.wtTable.TABLE),this.topOverlay=new b(this.wot),this.leftOverlay=new w(this.wot),this.topOverlay.needFullRender&&this.leftOverlay.needFullRender&&(this.topLeftCornerOverlay=new v(this.wot)),this.wot.getSetting("debug")&&(this.debug=new y(this.wot)),this.destroyed=!1,this.keyPressed=!1,this.spreaderLastSize={width:null,height:null},this.overlayScrollPositions={master:{top:0,left:0},top:{top:null,left:0},left:{top:0,left:null}},this.registerListeners()};$traceurRuntime.createClass(x,{refreshAll:function(){if(this.wot.drawn){if(!this.wot.wtTable.holder.parentNode)return void this.destroy();this.wot.draw(!0),this.topOverlay.onScroll(),this.leftOverlay.onScroll()}},registerListeners:function(){var t=this;this.eventManager.addEventListener(document.documentElement,"keydown",function(e){return t.onKeyDown(e)}),this.eventManager.addEventListener(document.documentElement,"keyup",function(){return t.onKeyUp()}),this.eventManager.addEventListener(document,"visibilitychange",function(){return t.onKeyUp()}),this.eventManager.addEventListener(this.mainTableScrollableElement,"scroll",function(e){return t.onTableScroll(e)}),this.topOverlay.needFullRender&&(this.eventManager.addEventListener(this.topOverlay.clone.wtTable.holder,"scroll",function(e){return t.onTableScroll(e)}),this.eventManager.addEventListener(this.topOverlay.clone.wtTable.holder,"wheel",function(e){return t.onTableScroll(e)})),this.leftOverlay.needFullRender&&(this.eventManager.addEventListener(this.leftOverlay.clone.wtTable.holder,"scroll",function(e){return t.onTableScroll(e)}),this.eventManager.addEventListener(this.leftOverlay.clone.wtTable.holder,"wheel",function(e){return t.onTableScroll(e)})),this.topOverlay.trimmingContainer!==window&&this.leftOverlay.trimmingContainer!==window&&this.eventManager.addEventListener(window,"wheel",function(e){var n,r=e.wheelDeltaY||e.deltaY,i=e.wheelDeltaX||e.deltaX;t.topOverlay.clone.wtTable.holder.contains(e.realTarget)?n="top":t.leftOverlay.clone.wtTable.holder.contains(e.realTarget)&&(n="left"),"top"==n&&0!==r?e.preventDefault():"left"==n&&0!==i&&e.preventDefault()})},onTableScroll:function(t){Handsontable.mobileBrowser||(!this.keyPressed||this.mainTableScrollableElement===window||t.target.contains(this.mainTableScrollableElement))&&("scroll"===t.type?this.syncScrollPositions(t):this.translateMouseWheelToScroll(t))},onKeyDown:function(t){this.keyPressed=g(t.keyCode,"ARROW_UP|ARROW_RIGHT|ARROW_DOWN|ARROW_LEFT")},onKeyUp:function(){this.keyPressed=!1},translateMouseWheelToScroll:function(t){for(var e,n=this.topOverlay.clone.wtTable.holder,r=this.leftOverlay.clone.wtTable.holder,i={type:"wheel"},o=t.target,a=t.wheelDeltaY||-1*t.deltaY,s=t.wheelDeltaX||-1*t.deltaX;o!=document&&null!=o;){if(o.className.indexOf("wtHolder")>-1){e=o;break}o=o.parentNode}return i.target=e,e==n?this.syncScrollPositions(i,-.2*a):e==r&&this.syncScrollPositions(i,-.2*s),!1},syncScrollPositions:function(t){var e=void 0!==arguments[1]?arguments[1]:null;if(!this.destroyed){if(0===arguments.length)return void this.syncScrollWithMaster();var n,r,i=this.mainTableScrollableElement,o=t.target,a=0,s=!1;this.topOverlay.needFullRender&&(n=this.topOverlay.clone.wtTable.holder),this.leftOverlay.needFullRender&&(r=this.leftOverlay.clone.wtTable.holder),o===document&&(o=window),o===i?(a=f(o),this.overlayScrollPositions.master.left!==a&&(this.overlayScrollPositions.master.left=a,s=!0,n&&(n.scrollLeft=a)),a=p(o),this.overlayScrollPositions.master.top!==a&&(this.overlayScrollPositions.master.top=a,s=!0,r&&(r.scrollTop=a))):o===n?(a=f(o),this.overlayScrollPositions.top.left!==a&&(this.overlayScrollPositions.top.left=a,s=!0,i.scrollLeft=a),null!==e&&(s=!0,i.scrollTop+=e)):o===r&&(a=p(o),this.overlayScrollPositions.left.top!==a&&(this.overlayScrollPositions.left.top=a,s=!0,i.scrollTop=a),null!==e&&(s=!0,i.scrollLeft+=e)),!this.keyPressed&&s&&"scroll"===t.type&&this.refreshAll()}},syncScrollWithMaster:function(){var t=this.topOverlay.mainTableScrollableElement;this.topOverlay.needFullRender&&(this.topOverlay.clone.wtTable.holder.scrollLeft=t.scrollLeft),this.leftOverlay.needFullRender&&(this.leftOverlay.clone.wtTable.holder.scrollTop=t.scrollTop)},destroy:function(){this.eventManager.destroy(),this.topOverlay.destroy(),this.leftOverlay.destroy(),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.destroy(),this.debug&&this.debug.destroy(),this.destroyed=!0},refresh:function(){var t=void 0!==arguments[0]?arguments[0]:!1;if(this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted){var e=this.wot.wtTable.wtRootElement.parentNode||this.wot.wtTable.wtRootElement,n=e.clientWidth,r=e.clientHeight;(n!==this.spreaderLastSize.width||r!==this.spreaderLastSize.height)&&(this.spreaderLastSize.width=n,this.spreaderLastSize.height=r,this.adjustElementsSize())}this.leftOverlay.refresh(t),this.topOverlay.refresh(t),this.topLeftCornerOverlay&&this.topLeftCornerOverlay.refresh(t),this.debug&&this.debug.refresh(t)},adjustElementsSize:function(){var t=void 0!==arguments[0]?arguments[0]:!1,e=this.wot.getSetting("totalColumns"),n=this.wot.getSetting("totalRows"),r=this.wot.wtViewport.getRowHeaderWidth(),i=this.wot.wtViewport.getColumnHeaderHeight(),o=this.wot.wtTable.hider.style;o.width=r+this.leftOverlay.sumCellSizes(0,e)+"px",o.height=i+this.topOverlay.sumCellSizes(0,n)+1+"px",this.topOverlay.adjustElementsSize(t),this.leftOverlay.adjustElementsSize(t)},applyToDOM:function(){this.topOverlay.areElementSizesAdjusted&&this.leftOverlay.areElementSizesAdjusted||this.adjustElementsSize(),this.topOverlay.applyToDOM(),this.leftOverlay.applyToDOM()}},{}),window.WalkontableOverlays=x},{eventManager:40,"helpers/dom/element":44,"helpers/unicode":52,"overlay/corner":12,"overlay/debug":13,"overlay/left":14,"overlay/top":15}],17:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableScroll:{get:function(){return r}},__esModule:{value:!0}});var r=function(t){this.wot=t,this.instance=t};$traceurRuntime.createClass(r,{scrollViewport:function(t){if(this.wot.drawn){var e=this.wot.getSetting("totalRows"),n=this.wot.getSetting("totalColumns");if(t.row<0||t.row>e-1)throw new Error("row "+t.row+" does not exist");if(t.col<0||t.col>n-1)throw new Error("column "+t.col+" does not exist");t.row>this.instance.wtTable.getLastVisibleRow()?this.wot.wtOverlays.topOverlay.scrollTo(t.row,!0):t.row>=this.instance.getSetting("fixedRowsTop")&&t.row<this.instance.wtTable.getFirstVisibleRow()&&this.wot.wtOverlays.topOverlay.scrollTo(t.row),t.col>this.instance.wtTable.getLastVisibleColumn()?this.wot.wtOverlays.leftOverlay.scrollTo(t.col,!0):t.col>=this.instance.getSetting("fixedColumnsLeft")&&t.col<this.instance.wtTable.getFirstVisibleColumn()&&this.wot.wtOverlays.leftOverlay.scrollTo(t.col)}}},{}),window.WalkontableScroll=r},{}],18:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableSelection:{get:function(){return h}},__esModule:{value:!0}});var r,i,o,a,s=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).addClass,l=(i=t("border"),i&&i.__esModule&&i||{"default":i}).WalkontableBorder,u=(o=t("cell/coords"),o&&o.__esModule&&o||{"default":o}).WalkontableCellCoords,c=(a=t("cell/range"),a&&a.__esModule&&a||{"default":a}).WalkontableCellRange,h=function(t,e){this.settings=t,this.cellRange=e||null,this.instanceBorders={}};$traceurRuntime.createClass(h,{getBorder:function(t){return this.instanceBorders[t.guid]?this.instanceBorders[t.guid]:void(this.instanceBorders[t.guid]=new l(t,this.settings))},isEmpty:function(){return null===this.cellRange},add:function(t){this.isEmpty()?this.cellRange=new c(t,t,t):this.cellRange.expand(t)},replace:function(t,e){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=e,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=e,!0}return!1},clear:function(){this.cellRange=null},getCorners:function(){var t=this.cellRange.getTopLeftCorner(),e=this.cellRange.getBottomRightCorner();return[t.row,t.col,e.row,e.col]},addClassAtCoords:function(t,e,n,r){var i=t.wtTable.getCell(new u(e,n));"object"==typeof i&&s(i,r)},draw:function(t){if(this.isEmpty()){if(this.settings.border){var e=this.getBorder(t);e&&e.disappear()}}else{for(var n,r,i,o=t.wtTable.getRenderedRowsCount(),a=t.wtTable.getRenderedColumnsCount(),l=this.getCorners(),u=0;a>u;u++)r=t.wtTable.columnFilter.renderedToSource(u),r>=l[1]&&r<=l[3]&&(i=t.wtTable.getColumnHeader(r),i&&this.settings.highlightColumnClassName&&s(i,this.settings.highlightColumnClassName));for(var c=0;o>c;c++){n=t.wtTable.rowFilter.renderedToSource(c),n>=l[0]&&n<=l[2]&&(i=t.wtTable.getRowHeader(n),i&&this.settings.highlightRowClassName&&s(i,this.settings.highlightRowClassName));for(var h=0;a>h;h++)r=t.wtTable.columnFilter.renderedToSource(h),n>=l[0]&&n<=l[2]&&r>=l[1]&&r<=l[3]?this.settings.className&&this.addClassAtCoords(t,n,r,this.settings.className):n>=l[0]&&n<=l[2]?this.settings.highlightRowClassName&&this.addClassAtCoords(t,n,r,this.settings.highlightRowClassName):r>=l[1]&&r<=l[3]&&this.settings.highlightColumnClassName&&this.addClassAtCoords(t,n,r,this.settings.highlightColumnClassName)}if(t.getSetting("onBeforeDrawBorders",l,this.settings.className),this.settings.border){var d=this.getBorder(t);d&&d.appear(l)}}}},{}),window.WalkontableSelection=h},{border:2,"cell/coords":5,"cell/range":6,"helpers/dom/element":44}],19:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableSettings:{get:function(){return o}},__esModule:{value:!0}});var r,i=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).fastInnerText,o=function(t,e){var n=this;this.wot=t,this.instance=t,this.defaults={table:void 0,debug:!1,externalRowCalculator:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,data:void 0,fixedColumnsLeft:0,fixedRowsTop:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(t,e,r){var o=n.getSetting("data",t,e);i(r,void 0===o||null===o?"":o)},columnWidth:function(t){},rowHeight:function(t){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellMouseOver:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1},this.settings={};for(var r in this.defaults)if(this.defaults.hasOwnProperty(r))if(void 0!==e[r])this.settings[r]=e[r];else{if(void 0===this.defaults[r])throw new Error('A required setting "'+r+'" was not provided');this.settings[r]=this.defaults[r]}};$traceurRuntime.createClass(o,{update:function(t,e){if(void 0===e)for(var n in t)t.hasOwnProperty(n)&&(this.settings[n]=t[n]);else this.settings[t]=e;return this.wot},getSetting:function(t,e,n,r,i){return"function"==typeof this.settings[t]?this.settings[t](e,n,r,i):void 0!==e&&Array.isArray(this.settings[t])?this.settings[t][e]:this.settings[t]},has:function(t){return!!this.settings[t]}},{}),window.WalkontableSettings=o},{"helpers/dom/element":44}],20:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableTable:{get:function(){return M}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c,h,d,f=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),p=f.getStyle,g=f.getTrimmingContainer,m=f.hasClass,v=f.index,y=f.offset,w=f.removeClass,b=f.removeTextNodes,x=(f.overlayContainsElement,(i=t("cell/coords"),i&&i.__esModule&&i||{"default":i}).WalkontableCellCoords),C=((o=t("cell/range"),o&&o.__esModule&&o||{"default":o}).WalkontableCellRange,(a=t("filter/column"),a&&a.__esModule&&a||{"default":a}).WalkontableColumnFilter),_=(s=t("overlay/corner"),s&&s.__esModule&&s||{"default":s}).WalkontableCornerOverlay,E=(l=t("overlay/debug"),l&&l.__esModule&&l||{"default":l}).WalkontableDebugOverlay,T=(u=t("overlay/left"),u&&u.__esModule&&u||{"default":u}).WalkontableLeftOverlay,k=(c=t("filter/row"),c&&c.__esModule&&c||{"default":c}).WalkontableRowFilter,S=(h=t("tableRenderer"),h&&h.__esModule&&h||{"default":h}).WalkontableTableRenderer,$=(d=t("overlay/top"),d&&d.__esModule&&d||{"default":d}).WalkontableTopOverlay,M=function(t,e){this.wot=t,this.instance=this.wot,this.TABLE=e,this.TBODY=null,this.THEAD=null,this.COLGROUP=null,this.tableOffset=0,this.holderOffset=0,b(this.TABLE),this.spreader=this.createSpreader(this.TABLE),this.hider=this.createHider(this.spreader),this.holder=this.createHolder(this.hider),this.wtRootElement=this.holder.parentNode,this.alignOverlaysWithTrimmingContainer(),this.fixTableDomTree(),this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null};$traceurRuntime.createClass(M,{fixTableDomTree:function(){this.TBODY=this.TABLE.querySelector("tbody"),this.TBODY||(this.TBODY=document.createElement("tbody"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.querySelector("thead"),this.THEAD||(this.THEAD=document.createElement("thead"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.querySelector("colgroup"),this.COLGROUP||(this.COLGROUP=document.createElement("colgroup"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.wot.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length&&this.THEAD.appendChild(document.createElement("TR"))},createSpreader:function(t){var e,n=t.parentNode;return n&&1===n.nodeType&&m(n,"wtHolder")||(e=document.createElement("div"),e.className="wtSpreader",n&&n.insertBefore(e,t),e.appendChild(t)),e.style.position="relative",e},createHider:function(t){var e,n=t.parentNode;return n&&1===n.nodeType&&m(n,"wtHolder")||(e=document.createElement("div"),e.className="wtHider",n&&n.insertBefore(e,t),e.appendChild(t)),e},createHolder:function(t){var e,n=t.parentNode;return n&&1===n.nodeType&&m(n,"wtHolder")||(e=document.createElement("div"),e.style.position="relative",e.className="wtHolder",n&&n.insertBefore(e,t),this.isWorkingOnClone()||(e.parentNode.className+="ht_master handsontable"),e.appendChild(t)),e},alignOverlaysWithTrimmingContainer:function(){var t=g(this.wtRootElement);this.isWorkingOnClone()||(this.holder.parentNode.style.position="relative",t===window?(this.holder.style.overflow="visible",this.wtRootElement.style.overflow="visible"):(this.holder.style.width=p(t,"width"),this.holder.style.height=p(t,"height"),this.holder.style.overflow=""))},isWorkingOnClone:function(){return!!this.wot.cloneSource},draw:function(t){if(this.isWorkingOnClone()||(this.holderOffset=y(this.holder),t=this.wot.wtViewport.createRenderCalculators(t)),t)this.isWorkingOnClone()||this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays&&this.wot.wtOverlays.refresh(!0);else{this.tableOffset=this.isWorkingOnClone()?this.wot.cloneSource.wtTable.tableOffset:y(this.TABLE);var e;e=this.wot.cloneOverlay instanceof E||this.wot.cloneOverlay instanceof $||this.wot.cloneOverlay instanceof _?0:this.wot.wtViewport.rowsRenderCalculator.startRow;var n;n=this.wot.cloneOverlay instanceof E||this.wot.cloneOverlay instanceof T||this.wot.cloneOverlay instanceof _?0:this.wot.wtViewport.columnsRenderCalculator.startColumn,this.rowFilter=new k(e,this.wot.getSetting("totalRows"),this.wot.getSetting("columnHeaders").length),this.columnFilter=new C(n,this.wot.getSetting("totalColumns"),this.wot.getSetting("rowHeaders").length),this._doDraw(),this.alignOverlaysWithTrimmingContainer()}return this.refreshSelections(t),this.isWorkingOnClone()||(this.wot.wtOverlays.topOverlay.resetFixedPosition(),this.wot.wtOverlays.leftOverlay.resetFixedPosition(),this.wot.wtOverlays.topLeftCornerOverlay&&this.wot.wtOverlays.topLeftCornerOverlay.resetFixedPosition()),this.wot.drawn=!0,this},_doDraw:function(){var t=new S(this);t.render()},removeClassFromCells:function(t){for(var e=this.TABLE.querySelectorAll("."+t),n=0,r=e.length;r>n;n++)w(e[n],t)},refreshSelections:function(t){if(this.wot.selections){var e=this.wot.selections.length;if(t)for(var n=0;e>n;n++)this.wot.selections[n].settings.className&&this.removeClassFromCells(this.wot.selections[n].settings.className),this.wot.selections[n].settings.highlightRowClassName&&this.removeClassFromCells(this.wot.selections[n].settings.highlightRowClassName),this.wot.selections[n].settings.highlightColumnClassName&&this.removeClassFromCells(this.wot.selections[n].settings.highlightColumnClassName);for(var r=0;e>r;r++)this.wot.selections[r].draw(this.wot,t)}},getCell:function(t){if(this.isRowBeforeRenderedRows(t.row))return-1;if(this.isRowAfterRenderedRows(t.row))return-2;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t.row)];return e?e.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t.col)]:void 0},getColumnHeader:function(t){var e=void 0!==arguments[1]?arguments[1]:0,n=this.THEAD.childNodes[e];return n?n.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]:void 0},getRowHeader:function(t){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return null;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return e?e.childNodes[0]:void 0},getCoords:function(t){var e=t.parentNode,n=v(e);n=e.parentNode===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(n):this.rowFilter.renderedToSource(n);var r=this.columnFilter.visibleRowHeadedColumnToSourceColumn(t.cellIndex);return new x(n,r)},getTrForRow:function(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]},getFirstRenderedRow:function(){return this.wot.wtViewport.rowsRenderCalculator.startRow},getFirstVisibleRow:function(){return this.wot.wtViewport.rowsVisibleCalculator.startRow},getFirstRenderedColumn:function(){return this.wot.wtViewport.columnsRenderCalculator.startColumn},getFirstVisibleColumn:function(){return this.wot.wtViewport.columnsVisibleCalculator.startColumn},getLastRenderedRow:function(){return this.wot.wtViewport.rowsRenderCalculator.endRow},getLastVisibleRow:function(){return this.wot.wtViewport.rowsVisibleCalculator.endRow},getLastRenderedColumn:function(){return this.wot.wtViewport.columnsRenderCalculator.endColumn},getLastVisibleColumn:function(){return this.wot.wtViewport.columnsVisibleCalculator.endColumn},isRowBeforeRenderedRows:function(t){return this.rowFilter.sourceToRendered(t)<0&&t>=0},isRowAfterViewport:function(t){return t>this.getLastVisibleRow()},isRowAfterRenderedRows:function(t){return t>this.getLastRenderedRow()},isColumnBeforeViewport:function(t){return this.columnFilter.sourceToRendered(t)<0&&t>=0},isColumnAfterViewport:function(t){return t>this.getLastVisibleColumn()},isLastRowFullyVisible:function(){return this.getLastVisibleRow()===this.getLastRenderedRow()},isLastColumnFullyVisible:function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn()},getRenderedColumnsCount:function(){return this.wot.cloneOverlay instanceof E?this.wot.getSetting("totalColumns"):this.wot.cloneOverlay instanceof T||this.wot.cloneOverlay instanceof _?this.wot.getSetting("fixedColumnsLeft"):this.wot.wtViewport.columnsRenderCalculator.count},getRenderedRowsCount:function(){return this.wot.cloneOverlay instanceof E?this.wot.getSetting("totalRows"):this.wot.cloneOverlay instanceof $||this.wot.cloneOverlay instanceof _?this.wot.getSetting("fixedRowsTop"):this.wot.wtViewport.rowsRenderCalculator.count},getVisibleRowsCount:function(){return this.wot.wtViewport.rowsVisibleCalculator.count},allRowsInViewport:function(){
return this.wot.getSetting("totalRows")==this.getVisibleRowsCount()},getRowHeight:function(t){var e=this.wot.wtSettings.settings.rowHeight(t),n=this.wot.wtViewport.oversizedRows[t];return void 0!==n&&(e=e?Math.max(e,n):n),e},getColumnHeaderHeight:function(t){var e=this.wot.wtSettings.settings.defaultRowHeight,n=this.wot.wtViewport.oversizedColumnHeaders[t];return void 0!==n&&(e=e?Math.max(e,n):n),e},getVisibleColumnsCount:function(){return this.wot.wtViewport.columnsVisibleCalculator.count},allColumnsInViewport:function(){return this.wot.getSetting("totalColumns")==this.getVisibleColumnsCount()},getColumnWidth:function(t){var e=this.wot.wtSettings.settings.columnWidth;return"function"==typeof e?e=e(t):"object"==typeof e&&(e=e[t]),e||this.wot.wtSettings.settings.defaultColumnWidth},getStretchedColumnWidth:function(t){var e=this.getColumnWidth(t),n=this.wot.wtViewport.columnsRenderCalculator;if(n){var r=n.getStretchedColumnWidth(t,e);r&&(e=r)}return e}},{}),window.WalkontableTable=M},{"cell/coords":5,"cell/range":6,"filter/column":9,"filter/row":10,"helpers/dom/element":44,"overlay/corner":12,"overlay/debug":13,"overlay/left":14,"overlay/top":15,tableRenderer:21}],21:[function(t,e,n){"use strict";function r(t,e){var n=document.createElement("TH");return e.insertBefore(n,t),e.removeChild(t),n}function i(t,e){var n=document.createElement("TD");return e.insertBefore(n,t),e.removeChild(t),n}Object.defineProperties(n,{WalkontableTableRenderer:{get:function(){return d}},__esModule:{value:!0}});var o,a=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),s=a.addClass,l=a.empty,u=a.getScrollbarWidth,c=a.hasClass,h=a.innerHeight,d=function(t){this.wtTable=t,this.wot=t.instance,this.instance=t.instance,this.rowFilter=t.rowFilter,this.columnFilter=t.columnFilter,this.TABLE=t.TABLE,this.THEAD=t.THEAD,this.TBODY=t.TBODY,this.COLGROUP=t.COLGROUP,this.rowHeaders=[],this.rowHeaderCount=0,this.columnHeaders=[],this.columnHeaderCount=0,this.fixedRowsTop=0};$traceurRuntime.createClass(d,{render:function(){this.wtTable.isWorkingOnClone()||this.wot.getSetting("beforeDraw",!0),this.rowHeaders=this.wot.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.wot.getSetting("fixedRowsTop"),this.columnHeaders=this.wot.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var t,e=this.wtTable.getRenderedColumnsCount(),n=this.wtTable.getRenderedRowsCount(),r=this.wot.getSetting("totalColumns"),i=this.wot.getSetting("totalRows"),o=!1;if(r>0&&(this.adjustAvailableNodes(),o=!0,this.renderColumnHeaders(),this.renderRows(i,n,e),this.wtTable.isWorkingOnClone()||(t=this.wot.wtViewport.getWorkspaceWidth(),this.wot.wtViewport.containerWidth=null),this.adjustColumnHeaderHeights(),this.adjustColumnWidths(e),this.markOversizedColumns()),o||this.adjustAvailableNodes(),this.removeRedundantRows(n),!this.wtTable.isWorkingOnClone()){if(this.markOversizedRows(),this.wot.wtViewport.createVisibleCalculators(),this.wot.wtOverlays.refresh(!1),this.wot.wtOverlays.applyToDOM(),t!==this.wot.wtViewport.getWorkspaceWidth()){this.wot.wtViewport.containerWidth=null;for(var a=this.wtTable.getFirstRenderedColumn(),s=this.wtTable.getLastRenderedColumn(),l=a;s>l;l++){var u=this.wtTable.getStretchedColumnWidth(l),c=this.columnFilter.sourceToRendered(l);this.COLGROUP.childNodes[c+this.rowHeaderCount].style.width=u+"px"}}this.wot.getSetting("onDraw",!0)}},removeRedundantRows:function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--},renderRows:function(t,e,n){for(var r,i,o=0,a=this.rowFilter.renderedToSource(o),s=this.wtTable.isWorkingOnClone();t>a&&a>=0;){if(o>1e3)throw new Error("Security brake: Too much TRs. Please define height for your table, which will enforce scrollbars.");if(void 0!==e&&o===e)break;if(i=this.getOrCreateTrForRow(o,i),this.renderRowHeaders(a,i),this.adjustColumns(i,n+this.rowHeaderCount),r=this.renderCells(a,i,n),s||this.resetOversizedRow(a),i.firstChild){var l=this.wot.wtTable.getRowHeight(a);l?(l--,i.firstChild.style.height=l+"px"):i.firstChild.style.height=""}o++,a=this.rowFilter.renderedToSource(o)}},resetOversizedRow:function(t){this.wot.getSetting("externalRowCalculator")||this.wot.wtViewport.oversizedRows&&this.wot.wtViewport.oversizedRows[t]&&(this.wot.wtViewport.oversizedRows[t]=void 0)},markOversizedRows:function(){if(!this.wot.getSetting("externalRowCalculator")){var t,e,n,r,i,o=this.instance.wtTable.TBODY.childNodes.length,a=o*this.instance.wtSettings.settings.defaultRowHeight,s=h(this.instance.wtTable.TBODY)-1;if(a!==s)for(;o;)o--,n=this.instance.wtTable.rowFilter.renderedToSource(o),t=this.instance.wtTable.getRowHeight(n),r=this.instance.wtTable.getTrForRow(n),i=r.querySelector("th"),e=i?h(i):h(r)-1,(!t&&this.instance.wtSettings.settings.defaultRowHeight<e||e>t)&&(this.instance.wtViewport.oversizedRows[n]=++e)}},markOversizedColumns:function(){var t=this.wot.getOverlayName();if(this.columnHeaderCount&&!this.wot.wtViewport.isMarkedOversizedColumn[t]&&!this.wtTable.isWorkingOnClone()){for(var e=this.wtTable.getRenderedColumnsCount(),n=0;n<this.columnHeaderCount;n++)for(var r=-1*this.rowHeaderCount;e>r;r++)this.markIfOversizedColumnHeader(r);this.wot.wtViewport.isMarkedOversizedColumn[t]=!0}},adjustColumnHeaderHeights:function(){for(var t=this.wot.getSetting("columnHeaders"),e=this.wot.wtTable.THEAD.childNodes,n=this.wot.wtViewport.oversizedColumnHeaders,r=0,i=t.length;i>r;r++)if(n[r]){if(0===e[r].childNodes.length)return;e[r].childNodes[0].style.height=n[r]+"px"}},markIfOversizedColumnHeader:function(t){for(var e,n,r,i=this.wot.wtTable.columnFilter.renderedToSource(t),o=this.columnHeaderCount,a=this.wot.wtSettings.settings.defaultRowHeight;o;)o--,e=this.wot.wtTable.getColumnHeaderHeight(o),n=this.wot.wtTable.getColumnHeader(i,o),n&&(r=h(n),(!e&&r>a||r>e)&&(this.wot.wtViewport.oversizedColumnHeaders[o]=r))},renderCells:function(t,e,n){for(var r,o,a=0;n>a;a++)o=this.columnFilter.renderedToSource(a),r=0===a?e.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(o)]:r.nextSibling,"TH"==r.nodeName&&(r=i(r,e)),c(r,"hide")||(r.className=""),r.removeAttribute("style"),this.wot.wtSettings.settings.cellRenderer(t,o,r);return r},adjustColumnWidths:function(t){var e=0,n=this.wot.cloneSource?this.wot.cloneSource:this.wot,r=n.wtTable.holder;r.offsetHeight<r.scrollHeight&&(e=u()),this.wot.wtViewport.columnsRenderCalculator.refreshStretching(this.wot.wtViewport.getViewportWidth()-e);for(var i=0;t>i;i++){var o=this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(i));this.COLGROUP.childNodes[i+this.rowHeaderCount].style.width=o+"px"}},appendToTbody:function(t){this.TBODY.appendChild(t),this.wtTable.tbodyChildrenLength++},getOrCreateTrForRow:function(t,e){var n;return t>=this.wtTable.tbodyChildrenLength?(n=this.createRow(),this.appendToTbody(n)):n=0===t?this.TBODY.firstChild:e.nextSibling,n},createRow:function(){for(var t=document.createElement("TR"),e=0;e<this.rowHeaderCount;e++)t.appendChild(document.createElement("TH"));return t},renderRowHeader:function(t,e,n){n.className="",n.removeAttribute("style"),this.rowHeaders[e](t,n,e)},renderRowHeaders:function(t,e){for(var n=e.firstChild,i=0;i<this.rowHeaderCount;i++)n?"TD"==n.nodeName&&(n=r(n,e)):(n=document.createElement("TH"),e.appendChild(n)),this.renderRowHeader(t,i,n),n=n.nextSibling},adjustAvailableNodes:function(){this.adjustColGroups(),this.adjustThead()},renderColumnHeaders:function(){this.wot.getOverlayName();if(this.columnHeaderCount)for(var t=this.wtTable.getRenderedColumnsCount(),e=0;e<this.columnHeaderCount;e++)for(var n=this.getTrForColumnHeaders(e),r=-1*this.rowHeaderCount;t>r;r++){var i=this.columnFilter.renderedToSource(r);this.renderColumnHeader(e,i,n.childNodes[r+this.rowHeaderCount])}},adjustColGroups:function(){for(var t=this.wtTable.getRenderedColumnsCount();this.wtTable.colgroupChildrenLength<t+this.rowHeaderCount;)this.COLGROUP.appendChild(document.createElement("COL")),this.wtTable.colgroupChildrenLength++;for(;this.wtTable.colgroupChildrenLength>t+this.rowHeaderCount;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength--;this.rowHeaderCount&&s(this.COLGROUP.childNodes[0],"rowHeader")},adjustThead:function(){var t=this.wtTable.getRenderedColumnsCount(),e=this.THEAD.firstChild;if(this.columnHeaders.length){for(var n=0,r=this.columnHeaders.length;r>n;n++){for(e=this.THEAD.childNodes[n],e||(e=document.createElement("TR"),this.THEAD.appendChild(e)),this.theadChildrenLength=e.childNodes.length;this.theadChildrenLength<t+this.rowHeaderCount;)e.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>t+this.rowHeaderCount;)e.removeChild(e.lastChild),this.theadChildrenLength--}var i=this.THEAD.childNodes.length;if(i>this.columnHeaders.length)for(var o=this.columnHeaders.length;i>o;o++)this.THEAD.removeChild(this.THEAD.lastChild)}else e&&l(e)},getTrForColumnHeaders:function(t){return this.THEAD.childNodes[t]},renderColumnHeader:function(t,e,n){return n.className="",n.removeAttribute("style"),this.columnHeaders[t](e,n,t)},adjustColumns:function(t,e){for(var n=t.childNodes.length;e>n;){var r=document.createElement("TD");t.appendChild(r),n++}for(;n>e;)t.removeChild(t.lastChild),n--},removeRedundantColumns:function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--}},{}),window.WalkontableTableRenderer=d},{"helpers/dom/element":44}],22:[function(t,e,n){"use strict";Object.defineProperties(n,{WalkontableViewport:{get:function(){return v}},__esModule:{value:!0}});var r,i,o,a,s=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),l=s.getScrollbarWidth,u=s.getScrollTop,c=s.getStyle,h=s.offset,d=s.outerHeight,f=s.outerWidth,p=(i=t("eventManager"),i&&i.__esModule&&i||{"default":i}).EventManager,g=(o=t("calculator/viewportColumns"),o&&o.__esModule&&o||{"default":o}).WalkontableViewportColumnsCalculator,m=(a=t("calculator/viewportRows"),a&&a.__esModule&&a||{"default":a}).WalkontableViewportRowsCalculator,v=function(t){var e=this;this.wot=t,this.instance=this.wot,this.oversizedRows=[],this.oversizedColumnHeaders=[],this.isMarkedOversizedColumn={},this.clientHeight=0,this.containerWidth=0/0,this.rowHeaderWidth=0/0,this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,this.eventManager=new p(this.wot),this.eventManager.addEventListener(window,"resize",function(){e.clientHeight=e.getWorkspaceHeight()})};$traceurRuntime.createClass(v,{getWorkspaceHeight:function(){var t,e=this.instance.wtOverlays.topOverlay.trimmingContainer,n=0;return e===window?n=document.documentElement.clientHeight:(t=d(e),n=t>0&&e.clientHeight>0?e.clientHeight:1/0),n},getWorkspaceWidth:function(){var t,e,n=this.instance.getSetting("totalColumns"),r=this.instance.wtOverlays.leftOverlay.trimmingContainer,i=this.instance.getSetting("stretchH"),o=document.documentElement.offsetWidth;return t=Handsontable.freezeOverlays?Math.min(o-this.getWorkspaceOffset().left,o):Math.min(this.getContainerFillWidth(),o-this.getWorkspaceOffset().left,o),r===window&&n>0&&this.sumColumnWidths(0,n-1)>t?document.documentElement.clientWidth:r!==window&&(e=c(this.instance.wtOverlays.leftOverlay.trimmingContainer,"overflow"),"scroll"==e||"hidden"==e||"auto"==e)?Math.max(t,r.clientWidth):"none"!==i&&i?t:Math.max(t,f(this.instance.wtTable.TABLE))},hasVerticalScroll:function(){return this.getWorkspaceActualHeight()>this.getWorkspaceHeight()},hasHorizontalScroll:function(){return this.getWorkspaceActualWidth()>this.getWorkspaceWidth()},sumColumnWidths:function(t,e){for(var n=0;e>t;)n+=this.wot.wtTable.getColumnWidth(t),t++;return n},getContainerFillWidth:function(){if(this.containerWidth)return this.containerWidth;var t,e,n=this.instance.wtTable.holder;return e=document.createElement("DIV"),e.style.width="100%",e.style.height="1px",n.appendChild(e),t=e.offsetWidth,this.containerWidth=t,n.removeChild(e),t},getWorkspaceOffset:function(){return h(this.wot.wtTable.TABLE)},getWorkspaceActualHeight:function(){return d(this.wot.wtTable.TABLE)},getWorkspaceActualWidth:function(){return f(this.wot.wtTable.TABLE)||f(this.wot.wtTable.TBODY)||f(this.wot.wtTable.THEAD)},getColumnHeaderHeight:function(){return isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=d(this.wot.wtTable.THEAD)),this.columnHeaderHeight},getViewportHeight:function(){var t,e=this.getWorkspaceHeight();return e===1/0?e:(t=this.getColumnHeaderHeight(),t>0&&(e-=t),e)},getRowHeaderWidth:function(){if(this.wot.cloneSource)return this.wot.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth)){var t=this.instance.getSetting("rowHeaders");if(t.length){var e=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var n=0,r=t.length;r>n;n++)e?(this.rowHeaderWidth+=f(e),e=e.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0}return this.rowHeaderWidth},getViewportWidth:function(){var t,e=this.getWorkspaceWidth();return e===1/0?e:(t=this.getRowHeaderWidth(),t>0?e-t:e)},createRowsCalculator:function(){var t,e,n,r,i=void 0!==arguments[0]?arguments[0]:!1,o=this;if(this.rowHeaderWidth=0/0,t=this.wot.wtSettings.settings.renderAllRows?1/0:this.getViewportHeight(),e=u(this.wot.wtOverlays.mainTableScrollableElement)-this.wot.wtOverlays.topOverlay.getTableParentOffset(),0>e&&(e=0),n=this.wot.getSetting("fixedRowsTop")){var a=this.wot.wtOverlays.topOverlay.sumCellSizes(0,n);e+=a,t-=a}return r=this.wot.wtTable.holder.clientHeight!==this.wot.wtTable.holder.offsetHeight?l():0,new m(t,e,this.wot.getSetting("totalRows"),function(t){return o.wot.wtTable.getRowHeight(t)},i?null:this.wot.wtSettings.settings.viewportRowCalculatorOverride,i,r)},createColumnsCalculator:function(){var t,e,n=void 0!==arguments[0]?arguments[0]:!1,r=this,i=this.getViewportWidth();if(this.columnHeaderHeight=0/0,t=this.wot.wtOverlays.leftOverlay.getScrollPosition()-this.wot.wtOverlays.leftOverlay.getTableParentOffset(),0>t&&(t=0),e=this.wot.getSetting("fixedColumnsLeft")){var o=this.wot.wtOverlays.leftOverlay.sumCellSizes(0,e);t+=o,i-=o}return this.wot.wtTable.holder.clientWidth!==this.wot.wtTable.holder.offsetWidth&&(i-=l()),new g(i,t,this.wot.getSetting("totalColumns"),function(t){return r.wot.wtTable.getColumnWidth(t)},n?null:this.wot.wtSettings.settings.viewportColumnCalculatorOverride,n,this.wot.getSetting("stretchH"))},createRenderCalculators:function(){var t=void 0!==arguments[0]?arguments[0]:!1;if(t){var e=this.createRowsCalculator(!0),n=this.createColumnsCalculator(!0);this.areAllProposedVisibleRowsAlreadyRendered(e)&&this.areAllProposedVisibleColumnsAlreadyRendered(n)||(t=!1)}return t||(this.rowsRenderCalculator=this.createRowsCalculator(),this.columnsRenderCalculator=this.createColumnsCalculator()),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,t},createVisibleCalculators:function(){this.rowsVisibleCalculator=this.createRowsCalculator(!0),this.columnsVisibleCalculator=this.createColumnsCalculator(!0)},areAllProposedVisibleRowsAlreadyRendered:function(t){return this.rowsVisibleCalculator?t.startRow<this.rowsRenderCalculator.startRow||t.startRow===this.rowsRenderCalculator.startRow&&t.startRow>0?!1:t.endRow>this.rowsRenderCalculator.endRow||t.endRow===this.rowsRenderCalculator.endRow&&t.endRow<this.wot.getSetting("totalRows")-1?!1:!0:!1},areAllProposedVisibleColumnsAlreadyRendered:function(t){return this.columnsVisibleCalculator?t.startColumn<this.columnsRenderCalculator.startColumn||t.startColumn===this.columnsRenderCalculator.startColumn&&t.startColumn>0?!1:t.endColumn>this.columnsRenderCalculator.endColumn||t.endColumn===this.columnsRenderCalculator.endColumn&&t.endColumn<this.wot.getSetting("totalColumns")-1?!1:!0:!1}},{}),window.WalkontableViewport=v},{"calculator/viewportColumns":3,"calculator/viewportRows":4,eventManager:40,"helpers/dom/element":44}],23:[function(t,e,n){"use strict";var r,i,o,a,s,l,u,c,h,d,f,p,g,m,v,y,w,b,x,C=Handsontable.version,_=Handsontable.buildDate;window.Handsontable=function I(t,e){var n=new I.Core(t,e||{});return n.init(),n},Handsontable.version=C,Handsontable.buildDate=_,r=t("shims/classes"),r&&r.__esModule&&r||{"default":r},i=t("es6collections"),i&&i.__esModule&&i||{"default":i},Handsontable.plugins={};var E=(o=t("pluginHooks"),o&&o.__esModule&&o||{"default":o}).Hooks;Handsontable.hooks||(Handsontable.hooks=new E),a=t("core"),a&&a.__esModule&&a||{"default":a},s=t("renderers/_cellDecorator"),s&&s.__esModule&&s||{"default":s},l=t("cellTypes"),l&&l.__esModule&&l||{"default":l},u=t("plugins/jqueryHandsontable"),u&&u.__esModule&&u||{"default":u};var T=(c=t("helpers/array"),c&&c.__esModule&&c||{"default":c}),k=(h=t("helpers/browser"),h&&h.__esModule&&h||{"default":h}),S=(d=t("helpers/data"),d&&d.__esModule&&d||{"default":d}),$=(f=t("helpers/function"),f&&f.__esModule&&f||{"default":f}),M=(p=t("helpers/mixed"),p&&p.__esModule&&p||{"default":p}),A=(g=t("helpers/number"),g&&g.__esModule&&g||{"default":g}),R=(m=t("helpers/object"),m&&m.__esModule&&m||{"default":m}),D=(v=t("helpers/setting"),v&&v.__esModule&&v||{"default":v}),O=(y=t("helpers/string"),y&&y.__esModule&&y||{"default":y}),P=(w=t("helpers/unicode"),w&&w.__esModule&&w||{"default":w}),H=[T,k,S,$,M,A,R,D,O,P];Handsontable.helper={},T.arrayEach(H,function(t){T.arrayEach(Object.getOwnPropertyNames(t),function(e){"_"!==e.charAt(0)&&(Handsontable.helper[e]=t[e])})});var L=(b=t("helpers/dom/element"),b&&b.__esModule&&b||{"default":b}),N=(x=t("helpers/dom/event"),x&&x.__esModule&&x||{"default":x});Handsontable.dom={},Handsontable.Dom=Handsontable.dom,T.arrayEach([L,N],function(t){T.arrayEach(Object.getOwnPropertyNames(t),function(e){"_"!==e.charAt(0)&&(Handsontable.dom[e]=t[e])})})},{cellTypes:24,core:25,es6collections:"es6collections","helpers/array":41,"helpers/browser":42,"helpers/data":43,"helpers/dom/element":44,"helpers/dom/event":45,"helpers/function":46,"helpers/mixed":47,"helpers/number":48,"helpers/object":49,"helpers/setting":50,"helpers/string":51,"helpers/unicode":52,pluginHooks:54,"plugins/jqueryHandsontable":1,"renderers/_cellDecorator":88,"shims/classes":95}],24:[function(t,e,n){"use strict";{var r,i,o,a,s,l,u,c,h,d,f,p,g,m,v,y,w,b,x,C,_,E,T=(r=t("helpers/browser"),r&&r.__esModule&&r||{"default":r}).isMobileBrowser,k=(i=t("editors"),i&&i.__esModule&&i||{"default":i}).getEditorConstructor,S=(o=t("renderers"),o&&o.__esModule&&o||{"default":o}).getRenderer;(a=t("editors/autocompleteEditor"),a&&a.__esModule&&a||{"default":a}).AutocompleteEditor,(s=t("editors/checkboxEditor"),s&&s.__esModule&&s||{"default":s}).CheckboxEditor,(l=t("editors/dateEditor"),l&&l.__esModule&&l||{"default":l}).DateEditor,(u=t("editors/dropdownEditor"),u&&u.__esModule&&u||{"default":u}).DropdownEditor,(c=t("editors/handsontableEditor"),c&&c.__esModule&&c||{"default":c}).HandsontableEditor,(h=t("editors/mobileTextEditor"),h&&h.__esModule&&h||{"default":h}).MobileTextEditor,(d=t("editors/numericEditor"),d&&d.__esModule&&d||{"default":d}).NumericEditor,(f=t("editors/passwordEditor"),f&&f.__esModule&&f||{"default":f}).PasswordEditor,(p=t("editors/selectEditor"),p&&p.__esModule&&p||{"default":p}).SelectEditor,(g=t("editors/textEditor"),g&&g.__esModule&&g||{"default":g}).TextEditor,(m=t("renderers/autocompleteRenderer"),m&&m.__esModule&&m||{"default":m}).AutocompleteRenderer,(v=t("renderers/checkboxRenderer"),v&&v.__esModule&&v||{"default":v}).CheckboxRenderer,(y=t("renderers/htmlRenderer"),y&&y.__esModule&&y||{"default":y}).HtmlRenderer,(w=t("renderers/numericRenderer"),w&&w.__esModule&&w||{"default":w}).NumericRenderer,(b=t("renderers/passwordRenderer"),b&&b.__esModule&&b||{"default":b}).PasswordRenderer,(x=t("renderers/textRenderer"),x&&x.__esModule&&x||{"default":x}).TextRenderer,(C=t("validators/autocompleteValidator"),C&&C.__esModule&&C||{"default":C}).AutocompleteValidator,(_=t("validators/dateValidator"),_&&_.__esModule&&_||{"default":_}).DateValidator,(E=t("validators/numericValidator"),E&&E.__esModule&&E||{"default":E}).NumericValidator}Handsontable.mobileBrowser=T(),Handsontable.AutocompleteCell={editor:k("autocomplete"),renderer:S("autocomplete"),validator:Handsontable.AutocompleteValidator},Handsontable.CheckboxCell={editor:k("checkbox"),renderer:S("checkbox")},Handsontable.TextCell={editor:k(Handsontable.mobileBrowser?"mobile":"text"),renderer:S("text")},Handsontable.NumericCell={editor:k("numeric"),renderer:S("numeric"),validator:Handsontable.NumericValidator,dataType:"number"},Handsontable.DateCell={editor:k("date"),validator:Handsontable.DateValidator,renderer:S("autocomplete")},Handsontable.HandsontableCell={editor:k("handsontable"),renderer:S("autocomplete")},Handsontable.PasswordCell={editor:k("password"),renderer:S("password"),copyable:!1},Handsontable.DropdownCell={editor:k("dropdown"),renderer:S("autocomplete"),validator:Handsontable.AutocompleteValidator},Handsontable.cellTypes={text:Handsontable.TextCell,date:Handsontable.DateCell,numeric:Handsontable.NumericCell,checkbox:Handsontable.CheckboxCell,autocomplete:Handsontable.AutocompleteCell,handsontable:Handsontable.HandsontableCell,password:Handsontable.PasswordCell,dropdown:Handsontable.DropdownCell},Handsontable.cellLookup={validator:{numeric:Handsontable.NumericValidator,autocomplete:Handsontable.AutocompleteValidator}}},{editors:28,"editors/autocompleteEditor":30,"editors/checkboxEditor":31,"editors/dateEditor":32,"editors/dropdownEditor":33,"editors/handsontableEditor":34,"editors/mobileTextEditor":35,"editors/numericEditor":36,"editors/passwordEditor":37,"editors/selectEditor":38,"editors/textEditor":39,"helpers/browser":42,renderers:87,"renderers/autocompleteRenderer":89,"renderers/checkboxRenderer":90,"renderers/htmlRenderer":91,"renderers/numericRenderer":92,"renderers/passwordRenderer":93,"renderers/textRenderer":94,"validators/autocompleteValidator":99,"validators/dateValidator":100,"validators/numericValidator":101}],25:[function(t,e,n){"use strict";var r,i,o,a,s,l,u,c,h,d,f,p,g,m,v,y,w=(r=t("numeral"),r&&r.__esModule&&r||{"default":r})["default"],b=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),x=b.addClass,C=b.empty,_=b.isChildOfWebComponentTable,E=b.removeClass,T=(o=t("helpers/setting"),o&&o.__esModule&&o||{"default":o}).columnFactory,k=(a=t("dataMap"),a&&a.__esModule&&a||{"default":a}).DataMap,S=(s=t("editorManager"),s&&s.__esModule&&s||{"default":s}).EditorManager,$=(l=t("eventManager"),l&&l.__esModule&&l||{"default":l}).eventManager,M=(u=t("helpers/object"),u&&u.__esModule&&u||{"default":u}),A=M.extend,R=M.duckSchema,D=M.isObjectEquals,O=M.deepClone,P=(c=t("plugins"),c&&c.__esModule&&c||{"default":c}).getPlugin,H=(h=t("renderers"),h&&h.__esModule&&h||{"default":h}).getRenderer,L=(d=t("helpers/string"),d&&d.__esModule&&d||{"default":d}).randomString,N=(f=t("tableView"),f&&f.__esModule&&f||{"default":f}).TableView,I=(p=t("helpers/data"),p&&p.__esModule&&p||{"default":p}),B=I.translateRowsToColumns,j=I.cellMethodLookupFactory,F=I.spreadsheetColumnLabel,V=(g=t("3rdparty/walkontable/src/cell/coords"),g&&g.__esModule&&g||{"default":g}).WalkontableCellCoords,q=(m=t("3rdparty/walkontable/src/cell/range"),m&&m.__esModule&&m||{"default":m}).WalkontableCellRange,z=((v=t("3rdparty/walkontable/src/selection"),v&&v.__esModule&&v||{"default":v}).WalkontableSelection,(y=t("3rdparty/walkontable/src/calculator/viewportColumns"),y&&y.__esModule&&y||{"default":y}).WalkontableViewportColumnsCalculator);Handsontable.activeGuid=null,Handsontable.Core=function(t,e){function n(){var t=!1;return{validatorsInQueue:0,valid:!0,addValidatorToQueue:function(){this.validatorsInQueue++,t=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(t){},checkIfQueueIsEmpty:function(){0==this.validatorsInQueue&&0==t&&(t=!0,this.onQueueEmpty(this.valid))}}}function r(t,e,r){function i(){var n;t.length&&(n=Handsontable.hooks.run(g,"beforeChange",t,e),"function"==typeof n?console.warn("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed)."):n===!1&&t.splice(0,t.length)),r()}var o=new n;o.onQueueEmpty=i;for(var a=t.length-1;a>=0;a--)if(null===t[a])t.splice(a,1);else{var s=t[a][0],l=h.propToCol(t[a][1]),u=g.runHooks("modifyCol",l),c=g.getCellMeta(s,u);if("numeric"===c.type&&"string"==typeof t[a][3]&&t[a][3].length>0&&(/^-?[\d\s]*(\.|\,)?\d*$/.test(t[a][3])||c.format)){var d=t[a][3].length;w.language("undefined"==typeof c.language?"en":t[a][3].indexOf(".")===d-3&&-1===t[a][3].indexOf(",")?"en":c.language),w.validate(t[a][3])&&(t[a][3]=w().unformat(t[a][3]))}g.getCellValidator(c)&&(o.addValidatorToQueue(),g.validateCell(t[a][3],c,function(e,n){return function(r){if("boolean"!=typeof r)throw new Error("Validation error: result is not boolean");r===!1&&n.allowInvalid===!1&&(t.splice(e,1),n.valid=!0,--e),o.removeValidatorFormQueue()}}(a,c),e))}o.checkIfQueueIsEmpty()}function i(t,e){var n=t.length-1;if(!(0>n)){for(;n>=0;n--)if(null!==t[n]){if(null!=t[n][2]||null!=t[n][3]){if(c.settings.allowInsertRow)for(;t[n][0]>g.countRows()-1;)h.createRow();if("array"===g.dataType&&c.settings.allowInsertColumn)for(;h.propToCol(t[n][1])>g.countCols()-1;)h.createCol();h.set(t[n][0],t[n][1],t[n][3])}}else t.splice(n,1);g.forceFullRender=!0,d.adjustRowsAndCols(),Handsontable.hooks.run(g,"beforeChangeRender",t,e),f.refreshBorders(null,!0),g.view.wt.wtOverlays.adjustElementsSize(),Handsontable.hooks.run(g,"afterChange",t,e||"edit")}}function o(t,e,n){return"object"==typeof t?t:[[t,e,n]]}function a(t){if(t.hasOwnProperty("type")){var e,n={};if("object"==typeof t.type)e=t.type;else if("string"==typeof t.type&&(e=Handsontable.cellTypes[t.type],void 0===e))throw new Error('You declared cell type "'+t.type+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');for(var r in e)e.hasOwnProperty(r)&&!t.hasOwnProperty(r)&&(n[r]=e[r]);return n}}function s(t){return Handsontable.hooks.run(g,"modifyRow",t)}function l(t){return Handsontable.hooks.run(g,"modifyCol",t)}function u(){throw new Error("This method cannot be called because this Handsontable instance has been destroyed")}var c,h,d,f,p,g=this,m=function(){},v=$(g);A(m.prototype,W.prototype),A(m.prototype,e),A(m.prototype,a(e)),this.rootElement=t,this.isHotTableEnv=_(this.rootElement),Handsontable.eventManager.isHotTableEnv=this.isHotTableEnv,this.container=document.createElement("DIV"),this.renderCall=!1,t.insertBefore(this.container,t.firstChild),this.guid="ht_"+L(),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid),c={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width"],settings:new m,selRange:null,isPopulated:null,scrollable:null,firstRun:!0},d={alter:function(t,e,n,r,i){var o;switch(n=n||1,t){case"insert_row":if(g.getSettings().maxRows===g.countRows())return;o=h.createRow(e,n),o&&(f.isSelected()&&c.selRange.from.row>=e?(c.selRange.from.row=c.selRange.from.row+o,f.transformEnd(o,0)):f.refreshBorders());break;case"insert_col":if(o=h.createCol(e,n)){if(Array.isArray(g.getSettings().colHeaders)){var a=[e,0];a.length+=o,Array.prototype.splice.apply(g.getSettings().colHeaders,a)}f.isSelected()&&c.selRange.from.col>=e?(c.selRange.from.col=c.selRange.from.col+o,f.transformEnd(0,o)):f.refreshBorders()}break;case"remove_row":e=g.runHooks("modifyCol",e),h.removeRow(e,n),c.cellSettings.splice(e,n);var s=g.getSettings().fixedRowsTop;s>=e+1&&(g.getSettings().fixedRowsTop-=Math.min(n,s-e)),d.adjustRowsAndCols(),f.refreshBorders();break;case"remove_col":h.removeCol(e,n);for(var l=0,u=h.getAll().length;u>l;l++)l in c.cellSettings&&c.cellSettings[l].splice(e,n);var p=g.getSettings().fixedColumnsLeft;p>=e+1&&(g.getSettings().fixedColumnsLeft-=Math.min(n,p-e)),Array.isArray(g.getSettings().colHeaders)&&("undefined"==typeof e&&(e=-1),g.getSettings().colHeaders.splice(e,n)),d.adjustRowsAndCols(),f.refreshBorders();break;default:throw new Error('There is no such action "'+t+'"')}i||d.adjustRowsAndCols()},adjustRowsAndCols:function(){if(c.settings.minRows){var t=g.countRows();if(t<c.settings.minRows)for(var e=0,n=c.settings.minRows;n-t>e;e++)h.createRow(g.countRows(),1,!0)}if(c.settings.minSpareRows){var r=g.countEmptyRows(!0);if(r<c.settings.minSpareRows)for(;r<c.settings.minSpareRows&&g.countRows()<c.settings.maxRows;r++)h.createRow(g.countRows(),1,!0)}var i;if((c.settings.minCols||c.settings.minSpareCols)&&(i=g.countEmptyCols(!0)),c.settings.minCols&&!c.settings.columns&&g.countCols()<c.settings.minCols)for(;g.countCols()<c.settings.minCols;i++)h.createCol(g.countCols(),1,!0);if(c.settings.minSpareCols&&!c.settings.columns&&"array"===g.dataType&&i<c.settings.minSpareCols)for(;i<c.settings.minSpareCols&&g.countCols()<c.settings.maxCols;i++)h.createCol(g.countCols(),1,!0);var o=g.countRows(),a=g.countCols();if((0===o||0===a)&&f.deselect(),f.isSelected()){var s=!1,l=c.selRange.from.row,u=c.selRange.from.col,d=c.selRange.to.row,p=c.selRange.to.col;l>o-1?(l=o-1,s=!0,d>l&&(d=l)):d>o-1&&(d=o-1,s=!0,l>d&&(l=d)),u>a-1?(u=a-1,s=!0,p>u&&(p=u)):p>a-1&&(p=a-1,s=!0,u>p&&(u=p)),s&&g.selectCell(l,u,d,p)}g.view&&g.view.wt.wtOverlays.adjustElementsSize()},populateFromArray:function(t,e,n,r,i,o,a){var s,l,u,h,d=[],f={};if(l=e.length,0===l)return!1;var p,m,v,y;switch(i){case"shift_down":for(p=n?n.col-t.col+1:0,m=n?n.row-t.row+1:0,e=B(e),u=0,h=e.length,v=Math.max(h,p);v>u;u++)if(h>u){for(s=0,l=e[u].length;m-l>s;s++)e[u].push(e[u][s%l]);e[u].unshift(t.col+u,t.row,0),g.spliceCol.apply(g,e[u])}else e[u%h][0]=t.col+u,g.spliceCol.apply(g,e[u%h]);break;case"shift_right":for(p=n?n.col-t.col+1:0,m=n?n.row-t.row+1:0,s=0,l=e.length,y=Math.max(l,m);y>s;s++)if(l>s){for(u=0,h=e[s].length;p-h>u;u++)e[s].push(e[s][u%h]);e[s].unshift(t.row+s,t.col,0),g.spliceRow.apply(g,e[s])}else e[s%l][0]=t.row+s,g.spliceRow.apply(g,e[s%l]);break;case"overwrite":default:f.row=t.row,f.col=t.col;var w={row:0,col:0},b={row:n&&t?n.row-t.row+1:1,col:n&&t?n.col-t.col+1:1},x=!0;for(-1!==["up","left"].indexOf(o)?w={row:Math.ceil(b.row/l)||1,col:Math.ceil(b.col/e[0].length)||1}:-1!==["down","right"].indexOf(o)&&(w={row:1,col:1}),s=0;l>s&&!(n&&f.row>n.row||!c.settings.allowInsertRow&&f.row>g.countRows()-1||f.row>=c.settings.maxRows);s++){for(f.col=t.col,h=e[s]?e[s].length:0,u=0;h>u&&!(n&&f.col>n.col||!c.settings.allowInsertColumn&&f.col>g.countCols()-1||f.col>=c.settings.maxCols);u++){if(!g.getCellMeta(f.row,f.col).readOnly){var C,_,E,T=e[s][u],k=g.getDataAtCell(f.row,f.col),S={row:s,col:u};"autofill"===r&&(C=g.runHooks("beforeAutofillInsidePopulate",S,o,e,a,w,b),C&&(w="undefined"!=typeof C.iterators?C.iterators:w,T="undefined"!=typeof C.value?C.value:T)),null!==T&&"object"==typeof T?null===k||"object"!=typeof k?x=!1:(E=R(k[0]||k),_=R(T[0]||T),D(E,_)?T=O(T):x=!1):null!==k&&"object"==typeof k&&(x=!1),x&&d.push([f.row,f.col,T]),x=!0}f.col++,n&&u===h-1&&(u=-1,-1!==["down","right"].indexOf(o)?w.col++:-1!==["up","left"].indexOf(o)&&w.col>1&&w.col--)}f.row++,w.col=1,n&&s===l-1&&(s=-1,-1!==["down","right"].indexOf(o)?w.row++:-1!==["up","left"].indexOf(o)&&w.row>1&&w.row--)}g.setDataAtCell(d,null,null,r||"populateFromArray")}}},this.selection=f={inProgress:!1,selectedHeader:{cols:!1,rows:!1},setSelectedHeaders:function(t,e){g.selection.selectedHeader.rows=t,g.selection.selectedHeader.cols=e},begin:function(){g.selection.inProgress=!0},finish:function(){var t=g.getSelected();Handsontable.hooks.run(g,"afterSelectionEnd",t[0],t[1],t[2],t[3]),Handsontable.hooks.run(g,"afterSelectionEndByProp",t[0],g.colToProp(t[1]),t[2],g.colToProp(t[3])),g.selection.inProgress=!1},isInProgress:function(){return g.selection.inProgress},setRangeStart:function(t,e){Handsontable.hooks.run(g,"beforeSetRangeStart",t),c.selRange=new q(t,t,t),f.setRangeEnd(t,null,e)},setRangeEnd:function(t,e,n){if(null!==c.selRange){var r,i=!1,o=!0,a=g.view.wt.wtTable.getFirstVisibleRow(),s=g.view.wt.wtTable.getFirstVisibleColumn(),l={
row:null,col:null};Handsontable.hooks.run(g,"beforeSetRangeEnd",t),g.selection.begin(),l.row=t.row<0?a:t.row,l.col=t.col<0?s:t.col,c.selRange.to=new V(l.row,l.col),c.settings.multiSelect||(c.selRange.from=t),g.view.wt.selections.current.clear(),r=g.getCellMeta(c.selRange.highlight.row,c.selRange.highlight.col).disableVisualSelection,"string"==typeof r&&(r=[r]),(r===!1||Array.isArray(r)&&-1===r.indexOf("current"))&&g.view.wt.selections.current.add(c.selRange.highlight),g.view.wt.selections.area.clear(),(r===!1||Array.isArray(r)&&-1===r.indexOf("area"))&&f.isMultiple()&&(g.view.wt.selections.area.add(c.selRange.from),g.view.wt.selections.area.add(c.selRange.to)),(c.settings.currentRowClassName||c.settings.currentColClassName)&&(g.view.wt.selections.highlight.clear(),g.view.wt.selections.highlight.add(c.selRange.from),g.view.wt.selections.highlight.add(c.selRange.to)),Handsontable.hooks.run(g,"afterSelection",c.selRange.from.row,c.selRange.from.col,c.selRange.to.row,c.selRange.to.col),Handsontable.hooks.run(g,"afterSelectionByProp",c.selRange.from.row,h.colToProp(c.selRange.from.col),c.selRange.to.row,h.colToProp(c.selRange.to.col)),(0===c.selRange.from.row&&c.selRange.to.row===g.countRows()-1&&g.countRows()>1||0===c.selRange.from.col&&c.selRange.to.col===g.countCols()-1&&g.countCols()>1)&&(i=!0),(t.row<0||t.col<0)&&(o=!1),e!==!1&&!i&&o&&g.view.scrollViewport(c.selRange.from&&!f.isMultiple()?c.selRange.from:t),f.refreshBorders(null,n)}},refreshBorders:function(t,e){e||p.destroyEditor(t),g.view.render(),f.isSelected()&&!e&&p.prepareEditor()},isMultiple:function(){var t=!(c.selRange.to.col===c.selRange.from.col&&c.selRange.to.row===c.selRange.from.row),e=Handsontable.hooks.run(g,"afterIsMultipleSelection",t);return t?e:void 0},transformStart:function(t,e,n,r){var i,o,a,s=new V(t,e),l=0,u=0;g.runHooks("modifyTransformStart",s),i=g.countRows(),o=g.countCols(),c.selRange.highlight.row+t>i-1?n&&c.settings.minSpareRows>0?(g.alter("insert_row",i),i=g.countRows()):c.settings.autoWrapCol&&(s.row=1-i,s.col=c.selRange.highlight.col+s.col==o-1?1-o:1):c.settings.autoWrapCol&&c.selRange.highlight.row+s.row<0&&c.selRange.highlight.col+s.col>=0&&(s.row=i-1,s.col=c.selRange.highlight.col+s.col==0?o-1:-1),c.selRange.highlight.col+s.col>o-1?n&&c.settings.minSpareCols>0?(g.alter("insert_col",o),o=g.countCols()):c.settings.autoWrapRow&&(s.row=c.selRange.highlight.row+s.row==i-1?1-i:1,s.col=1-o):c.settings.autoWrapRow&&c.selRange.highlight.col+s.col<0&&c.selRange.highlight.row+s.row>=0&&(s.row=c.selRange.highlight.row+s.row==0?i-1:-1,s.col=o-1),a=new V(c.selRange.highlight.row+s.row,c.selRange.highlight.col+s.col),a.row<0?(l=-1,a.row=0):a.row>0&&a.row>=i&&(l=1,a.row=i-1),a.col<0?(u=-1,a.col=0):a.col>0&&a.col>=o&&(u=1,a.col=o-1),g.runHooks("afterModifyTransformStart",a,l,u),f.setRangeStart(a,r)},transformEnd:function(t,e){var n,r,i,o=new V(t,e),a=0,s=0;g.runHooks("modifyTransformEnd",o),n=g.countRows(),r=g.countCols(),i=new V(c.selRange.to.row+o.row,c.selRange.to.col+o.col),i.row<0?(a=-1,i.row=0):i.row>0&&i.row>=n&&(a=1,i.row=n-1),i.col<0?(s=-1,i.col=0):i.col>0&&i.col>=r&&(s=1,i.col=r-1),g.runHooks("afterModifyTransformEnd",i,a,s),f.setRangeEnd(i,!0)},isSelected:function(){return null!==c.selRange},inInSelection:function(t){return f.isSelected()?c.selRange.includes(t):!1},deselect:function(){f.isSelected()&&(g.selection.inProgress=!1,c.selRange=null,g.view.wt.selections.current.clear(),g.view.wt.selections.area.clear(),(c.settings.currentRowClassName||c.settings.currentColClassName)&&g.view.wt.selections.highlight.clear(),p.destroyEditor(),f.refreshBorders(),Handsontable.hooks.run(g,"afterDeselect"))},selectAll:function(){c.settings.multiSelect&&(f.setRangeStart(new V(0,0)),f.setRangeEnd(new V(g.countRows()-1,g.countCols()-1),!1))},empty:function(){if(f.isSelected()){var t,e,n=c.selRange.getTopLeftCorner(),r=c.selRange.getBottomRightCorner(),i=[];for(t=n.row;t<=r.row;t++)for(e=n.col;e<=r.col;e++)g.getCellMeta(t,e).readOnly||i.push([t,e,""]);g.setDataAtCell(i)}}},this.init=function(){Handsontable.hooks.run(g,"beforeInit"),Handsontable.mobileBrowser&&x(g.rootElement,"mobile"),this.updateSettings(c.settings,!0),this.view=new N(this),p=new S(g,c,f,h),this.forceFullRender=!0,Handsontable.hooks.run(g,"init"),this.view.render(),"object"==typeof c.firstRun&&(Handsontable.hooks.run(g,"afterChange",c.firstRun[0],c.firstRun[1]),c.firstRun=!1),Handsontable.hooks.run(g,"afterInit")},this.validateCell=function(t,e,n,r){function i(t){var r=e.col,i=e.row,o=g.getCell(i,r,!0);o&&g.view.wt.wtSettings.settings.cellRenderer(i,r,o),n(t)}var o=g.getCellValidator(e);"[object RegExp]"===Object.prototype.toString.call(o)&&(o=function(t){return function(e,n){n(t.test(e))}}(o)),"function"==typeof o?(t=Handsontable.hooks.run(g,"beforeValidate",t,e.row,e.prop,r),g._registerTimeout(setTimeout(function(){o.call(e,t,function(n){n=Handsontable.hooks.run(g,"afterValidate",n,t,e.row,e.prop,r),e.valid=n,i(n),Handsontable.hooks.run(g,"postAfterValidate",n,t,e.row,e.prop,r)})},0))):(e.valid=!0,i(e.valid))},this.setDataAtCell=function(t,e,n,a){var s,l,u,c=o(t,e,n),d=[];for(s=0,l=c.length;l>s;s++){if("object"!=typeof c[s])throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof c[s][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");u=h.colToProp(c[s][1]),d.push([c[s][0],u,h.get(c[s][0],u),c[s][2]])}a||"object"!=typeof t||(a=e),r(d,a,function(){i(d,a)})},this.setDataAtRowProp=function(t,e,n,a){var s,l,u=o(t,e,n),c=[];for(s=0,l=u.length;l>s;s++)c.push([u[s][0],u[s][1],h.get(u[s][0],u[s][1]),u[s][2]]);a||"object"!=typeof t||(a=e),r(c,a,function(){i(c,a)})},this.listen=function(){Handsontable.activeGuid=g.guid,document.activeElement&&document.activeElement!==document.body?document.activeElement.blur():document.activeElement||document.body.focus()},this.unlisten=function(){Handsontable.activeGuid=null},this.isListening=function(){return Handsontable.activeGuid===g.guid},this.destroyEditor=function(t){f.refreshBorders(t)},this.populateFromArray=function(t,e,n,r,i,o,a,s,l){var u;if("object"!=typeof n||"object"!=typeof n[0])throw new Error("populateFromArray parameter `input` must be an array of arrays");return u="number"==typeof r?new V(r,i):null,d.populateFromArray(new V(t,e),n,u,o,a,s,l)},this.spliceCol=function(t,e,n){return h.spliceCol.apply(h,arguments)},this.spliceRow=function(t,e,n){return h.spliceRow.apply(h,arguments)},this.getSelected=function(){return f.isSelected()?[c.selRange.from.row,c.selRange.from.col,c.selRange.to.row,c.selRange.to.col]:void 0},this.getSelectedRange=function(){return f.isSelected()?c.selRange:void 0},this.render=function(){g.view&&(g.renderCall=!0,g.forceFullRender=!0,f.refreshBorders(null,!0))},this.loadData=function(t){function e(){c.cellSettings.length=0}if("object"==typeof t&&null!==t)t.push&&t.splice||(t=[t]);else{if(null!==t)throw new Error("loadData only accepts array of objects or array of arrays ("+typeof t+" given)");t=[];for(var n,r=0,i=c.settings.startRows;i>r;r++){n=[];for(var o=0,a=c.settings.startCols;a>o;o++)n.push(null);t.push(n)}}c.isPopulated=!1,m.prototype.data=t,g.dataType=Array.isArray(c.settings.dataSchema)||Array.isArray(t[0])?"array":"function"==typeof c.settings.dataSchema?"function":"object",h=new k(g,c,m),e(),d.adjustRowsAndCols(),Handsontable.hooks.run(g,"afterLoadData"),c.firstRun?c.firstRun=[null,"loadData"]:(Handsontable.hooks.run(g,"afterChange",null,"loadData"),g.render()),c.isPopulated=!0},this.getData=function(t,e,n,r){return"undefined"==typeof t?h.getAll():h.getRange(new V(t,e),new V(n,r),h.DESTINATION_RENDERER)},this.getCopyableData=function(t,e,n,r){return h.getCopyableText(new V(t,e),new V(n,r))},this.getSchema=function(){return h.getSchema()},this.updateSettings=function(t,e){var n,r;if("undefined"!=typeof t.rows)throw new Error("'rows' setting is no longer supported. do you mean startRows, minRows or maxRows?");if("undefined"!=typeof t.cols)throw new Error("'cols' setting is no longer supported. do you mean startCols, minCols or maxCols?");for(n in t)"data"!==n&&(Handsontable.hooks.getRegistered().indexOf(n)>-1?("function"==typeof t[n]||Array.isArray(t[n]))&&g.addHook(n,t[n]):!e&&t.hasOwnProperty(n)&&(m.prototype[n]=t[n]));if(void 0===t.data&&void 0===c.settings.data?g.loadData(null):void 0!==t.data?g.loadData(t.data):void 0!==t.columns&&h.createMap(),r=g.countCols(),c.cellSettings.length=0,r>0){var i,o;for(n=0;r>n;n++)c.columnSettings[n]=T(m,c.columnsSettingConflicts),i=c.columnSettings[n].prototype,m.prototype.columns&&(o=m.prototype.columns[n],A(i,o),A(i,a(o)))}if("undefined"!=typeof t.cell)for(n in t.cell)if(t.cell.hasOwnProperty(n)){var s=t.cell[n];g.setCellMetaObject(s.row,s.col,s)}if(Handsontable.hooks.run(g,"afterCellMetaReset"),"undefined"!=typeof t.className&&(m.prototype.className&&E(g.rootElement,m.prototype.className),t.className&&x(g.rootElement,t.className)),"undefined"!=typeof t.height){var l=t.height;"function"==typeof l&&(l=l()),g.rootElement.style.height=l+"px"}if("undefined"!=typeof t.width){var u=t.width;"function"==typeof u&&(u=u()),g.rootElement.style.width=u+"px"}l&&(g.rootElement.style.overflow="hidden"),e||Handsontable.hooks.run(g,"afterUpdateSettings"),d.adjustRowsAndCols(),g.view&&!c.firstRun&&(g.forceFullRender=!0,f.refreshBorders(null,!0))},this.getValue=function(){var t=g.getSelected();if(m.prototype.getValue){if("function"==typeof m.prototype.getValue)return m.prototype.getValue.call(g);if(t)return g.getData()[t[0]][m.prototype.getValue]}else if(t)return g.getDataAtCell(t[0],t[1])},this.getSettings=function(){return c.settings},this.clear=function(){f.selectAll(),f.empty()},this.alter=function(t,e,n,r,i){d.alter(t,e,n,r,i)},this.getCell=function(t,e,n){return g.view.getCellAtCoords(new V(t,e),n)},this.getCoords=function(t){return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable,t)},this.colToProp=function(t){return h.colToProp(t)},this.propToCol=function(t){return h.propToCol(t)},this.getDataAtCell=function(t,e){return h.get(t,h.colToProp(e))},this.getDataAtRowProp=function(t,e){return h.get(t,e)},this.getDataAtCol=function(t){var e=[];return e.concat.apply(e,h.getRange(new V(0,t),new V(c.settings.data.length-1,t),h.DESTINATION_RENDERER))},this.getDataAtProp=function(t){var e,n=[];return e=h.getRange(new V(0,h.propToCol(t)),new V(c.settings.data.length-1,h.propToCol(t)),h.DESTINATION_RENDERER),n.concat.apply(n,e)},this.getSourceDataAtCol=function(t){for(var e=[],n=c.settings.data,r=0;r<n.length;r++)e.push(n[r][t]);return e},this.getSourceDataAtRow=function(t){return c.settings.data[t]},this.getDataAtRow=function(t){var e=h.getRange(new V(t,0),new V(t,this.countCols()-1),h.DESTINATION_RENDERER);return e[0]},this.removeCellMeta=function(t,e,n){var r=g.getCellMeta(t,e);void 0!=r[n]&&delete c.cellSettings[t][e][n]},this.setCellMetaObject=function(t,e,n){if("object"==typeof n)for(var r in n)if(n.hasOwnProperty(r)){var i=n[r];this.setCellMeta(t,e,r,i)}},this.setCellMeta=function(t,e,n,r){c.cellSettings[t]||(c.cellSettings[t]=[]),c.cellSettings[t][e]||(c.cellSettings[t][e]=new c.columnSettings[e]),c.cellSettings[t][e][n]=r,Handsontable.hooks.run(g,"afterSetCellMeta",t,e,n,r)},this.getCellMeta=function(t,e){var n,r=h.colToProp(e);if(t=s(t),e=l(e),c.columnSettings[e]||(c.columnSettings[e]=T(m,c.columnsSettingConflicts)),c.cellSettings[t]||(c.cellSettings[t]=[]),c.cellSettings[t][e]||(c.cellSettings[t][e]=new c.columnSettings[e]),n=c.cellSettings[t][e],n.row=t,n.col=e,n.prop=r,n.instance=g,Handsontable.hooks.run(g,"beforeGetCellMeta",t,e,n),A(n,a(n)),n.cells){var i=n.cells.call(n,t,e,r);i&&(A(n,i),A(n,a(i)))}return Handsontable.hooks.run(g,"afterGetCellMeta",t,e,n),n},this.isColumnModificationAllowed=function(){return!("object"===g.dataType||g.getSettings().columns)};var y=j("renderer");this.getCellRenderer=function(t,e){var n=y.call(this,t,e);return H(n)},this.getCellEditor=j("editor"),this.getCellValidator=j("validator"),this.validateCells=function(t){var e=new n;e.onQueueEmpty=t;for(var r=g.countRows()-1;r>=0;){for(var i=g.countCols()-1;i>=0;)e.addValidatorToQueue(),g.validateCell(g.getDataAtCell(r,i),g.getCellMeta(r,i),function(t){if("boolean"!=typeof t)throw new Error("Validation error: result is not boolean");t===!1&&(e.valid=!1),e.removeValidatorFormQueue()},"validateCells"),i--;r--}e.checkIfQueueIsEmpty()},this.getRowHeader=function(t){if(void 0===t){for(var e=[],n=0,r=g.countRows();r>n;n++)e.push(g.getRowHeader(n));return e}return Array.isArray(c.settings.rowHeaders)&&void 0!==c.settings.rowHeaders[t]?c.settings.rowHeaders[t]:"function"==typeof c.settings.rowHeaders?c.settings.rowHeaders(t):c.settings.rowHeaders&&"string"!=typeof c.settings.rowHeaders&&"number"!=typeof c.settings.rowHeaders?t+1:c.settings.rowHeaders},this.hasRowHeaders=function(){return!!c.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==c.settings.colHeaders&&null!==c.settings.colHeaders)return!!c.settings.colHeaders;for(var t=0,e=g.countCols();e>t;t++)if(g.getColHeader(t))return!0;return!1},this.getColHeader=function(t){if(void 0===t){for(var e=[],n=0,r=g.countCols();r>n;n++)e.push(g.getColHeader(n));return e}var i=t;return t=Handsontable.hooks.run(g,"modifyCol",t),c.settings.columns&&c.settings.columns[t]&&c.settings.columns[t].title?c.settings.columns[t].title:Array.isArray(c.settings.colHeaders)&&void 0!==c.settings.colHeaders[t]?c.settings.colHeaders[t]:"function"==typeof c.settings.colHeaders?c.settings.colHeaders(t):c.settings.colHeaders&&"string"!=typeof c.settings.colHeaders&&"number"!=typeof c.settings.colHeaders?F(i):c.settings.colHeaders},this._getColWidthFromSettings=function(t){var e=g.getCellMeta(0,t),n=e.width;if((void 0===n||n===c.settings.width)&&(n=e.colWidths),void 0!==n&&null!==n){switch(typeof n){case"object":n=n[t];break;case"function":n=n(t)}"string"==typeof n&&(n=parseInt(n,10))}return n},this.getColWidth=function(t){var e=g._getColWidthFromSettings(t);return e=Handsontable.hooks.run(g,"modifyColWidth",e,t),void 0===e&&(e=z.DEFAULT_WIDTH),e},this._getRowHeightFromSettings=function(t){var e=c.settings.rowHeights;if(void 0!==e&&null!==e){switch(typeof e){case"object":e=e[t];break;case"function":e=e(t)}"string"==typeof e&&(e=parseInt(e,10))}return e},this.getRowHeight=function(t){var e=g._getRowHeightFromSettings(t);return e=Handsontable.hooks.run(g,"modifyRowHeight",e,t)},this.countRows=function(){return c.settings.data.length},this.countCols=function(){return"object"===g.dataType||"function"===g.dataType?c.settings.columns&&c.settings.columns.length?c.settings.columns.length:h.colToPropCache.length:"array"===g.dataType?c.settings.columns&&c.settings.columns.length?c.settings.columns.length:c.settings.data&&c.settings.data[0]&&c.settings.data[0].length?c.settings.data[0].length:0:void 0},this.rowOffset=function(){return g.view.wt.wtTable.getFirstRenderedRow()},this.colOffset=function(){return g.view.wt.wtTable.getFirstRenderedColumn()},this.countRenderedRows=function(){return g.view.wt.drawn?g.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return g.view.wt.drawn?g.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return g.view.wt.drawn?g.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return g.view.wt.drawn?g.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(t){for(var e,n=g.countRows()-1,r=0;n>=0;){if(e=Handsontable.hooks.run(this,"modifyRow",n),g.isEmptyRow(e))r++;else if(t)break;n--}return r},this.countEmptyCols=function(t){if(g.countRows()<1)return 0;for(var e=g.countCols()-1,n=0;e>=0;){if(g.isEmptyCol(e))n++;else if(t)break;e--}return n},this.isEmptyRow=function(t){return c.settings.isEmptyRow.call(g,t)},this.isEmptyCol=function(t){return c.settings.isEmptyCol.call(g,t)},this.selectCell=function(t,e,n,r,i,o){var a;if(o="undefined"==typeof o||o===!0,"number"!=typeof t||0>t||t>=g.countRows())return!1;if("number"!=typeof e||0>e||e>=g.countCols())return!1;if("undefined"!=typeof n){if("number"!=typeof n||0>n||n>=g.countRows())return!1;if("number"!=typeof r||0>r||r>=g.countCols())return!1}return a=new V(t,e),c.selRange=new q(a,a,a),document.activeElement&&document.activeElement!==document.documentElement&&document.activeElement!==document.body&&document.activeElement.blur(),o&&g.listen(),"undefined"==typeof n?f.setRangeEnd(c.selRange.from,i):f.setRangeEnd(new V(n,r),i),g.selection.finish(),!0},this.selectCellByProp=function(t,e,n,r,i){return arguments[1]=h.propToCol(arguments[1]),"undefined"!=typeof arguments[3]&&(arguments[3]=h.propToCol(arguments[3])),g.selectCell.apply(g,arguments)},this.deselectCell=function(){f.deselect()},this.destroy=function(){g._clearTimeouts(),g.view&&g.view.destroy(),C(g.rootElement),v.destroy(),Handsontable.hooks.run(g,"afterDestroy"),Handsontable.hooks.destroy(g);for(var t in g)g.hasOwnProperty(t)&&("function"==typeof g[t]?g[t]=u:"guid"!==t&&(g[t]=null));c=null,h=null,d=null,f=null,p=null,g=null,m=null},this.getActiveEditor=function(){return p.getActiveEditor()},this.getPlugin=function(t){return P(this,t)},this.getInstance=function(){return g},this.addHook=function(t,e){Handsontable.hooks.add(t,e,g)},this.addHookOnce=function(t,e){Handsontable.hooks.once(t,e,g)},this.removeHook=function(t,e){Handsontable.hooks.remove(t,e,g)},this.runHooks=function(t,e,n,r,i,o,a){return Handsontable.hooks.run(g,t,e,n,r,i,o,a)},this.timeouts=[],this._registerTimeout=function(t){this.timeouts.push(t)},this._clearTimeouts=function(){for(var t=0,e=this.timeouts.length;e>t;t++)clearTimeout(this.timeouts[t])},this.version=Handsontable.version,Handsontable.hooks.run(g,"construct")};var W=function(){};W.prototype={data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:null,colHeaders:null,colWidths:void 0,columns:void 0,cells:void 0,cell:[],comments:!1,customBorders:!1,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,multiSelect:!0,fillHandle:!0,fixedRowsTop:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,copyRowsLimit:1e3,copyColsLimit:1e3,pasteMode:"overwrite",persistentState:!1,currentRowClassName:void 0,currentColClassName:void 0,className:void 0,tableClassName:void 0,stretchH:"none",isEmptyRow:function(t){var e,n,r,i;for(e=0,n=this.countCols();n>e;e++)if(r=this.getDataAtCell(t,e),""!==r&&null!==r&&"undefined"!=typeof r)return"object"==typeof r?(i=this.getCellMeta(t,e),D(this.getSchema()[i.prop],r)):!1;return!0},isEmptyCol:function(t){var e,n,r;for(e=0,n=this.countRows();n>e;e++)if(r=this.getDataAtCell(e,t),""!==r&&null!==r&&"undefined"!=typeof r)return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,invalidCellClassName:"htInvalid",placeholder:!1,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",renderer:void 0,commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,search:!1,type:"text",copyable:!0,editor:void 0,autoComplete:void 0,visibleRows:10,trimDropdown:!0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,dropdownMenu:void 0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,mergeCells:!1,viewportRowRenderingOffset:"auto",viewportColumnRenderingOffset:"auto",groups:void 0,validator:void 0,disableVisualSelection:!1,sortIndicator:!1,manualColumnFreeze:void 0,trimWhitespace:!0,settings:void 0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,format:void 0,language:void 0,selectOptions:void 0,autoColumnSize:void 0,autoRowSize:void 0,dateFormat:void 0,correctFormat:!1,defaultDate:void 0,strict:void 0},Handsontable.DefaultSettings=W},{"3rdparty/walkontable/src/calculator/viewportColumns":3,"3rdparty/walkontable/src/cell/coords":5,"3rdparty/walkontable/src/cell/range":6,"3rdparty/walkontable/src/selection":18,dataMap:26,editorManager:27,eventManager:40,"helpers/data":43,"helpers/dom/element":44,"helpers/object":49,"helpers/setting":50,"helpers/string":51,numeral:"numeral",plugins:55,renderers:87,tableView:96}],26:[function(t,e,n){"use strict";function r(t,e,n){this.instance=t,this.priv=e,this.GridSettings=n,this.dataSource=this.instance.getSettings().data,this.duckSchema=this.dataSource[0]?this.recursiveDuckSchema(this.dataSource[0]):{},this.createMap()}Object.defineProperties(n,{DataMap:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s,l,u,c=(i=t("SheetClip"),i&&i.__esModule&&i||{"default":i})["default"],h=(o=t("helpers/data"),o&&o.__esModule&&o||{"default":o}).cellMethodLookupFactory,d=(a=t("helpers/setting"),a&&a.__esModule&&a||{"default":a}).columnFactory,f=(s=t("helpers/object"),s&&s.__esModule&&s||{"default":s}),p=f.duckSchema,g=f.deepExtend,m=(l=t("helpers/array"),l&&l.__esModule&&l||{"default":l}),v=m.extendArray,y=m.to2dArray,w=(u=t("multiMap"),u&&u.__esModule&&u||{"default":u}).MultiMap;r.prototype.DESTINATION_RENDERER=1,r.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,r.prototype.recursiveDuckSchema=function(t){return p(t)},r.prototype.recursiveDuckColumns=function(t,e,n){var r,i;if("undefined"==typeof e&&(e=0,n=""),"object"==typeof t&&!Array.isArray(t))for(i in t)t.hasOwnProperty(i)&&(null===t[i]?(r=n+i,this.colToPropCache.push(r),this.propToColCache.set(r,e),e++):e=this.recursiveDuckColumns(t[i],e,i+"."));return e},r.prototype.createMap=function(){var t,e,n=this.getSchema();if("undefined"==typeof n)throw new Error("trying to create `columns` definition but you didnt' provide `schema` nor `data`");this.colToPropCache=[],this.propToColCache=new w;var r=this.instance.getSettings().columns;if(r)for(t=0,e=r.length;e>t;t++)"undefined"!=typeof r[t].data&&(this.colToPropCache[t]=r[t].data,this.propToColCache.set(r[t].data,t));else this.recursiveDuckColumns(n)},r.prototype.colToProp=function(t){return t=Handsontable.hooks.run(this.instance,"modifyCol",t),this.colToPropCache&&"undefined"!=typeof this.colToPropCache[t]?this.colToPropCache[t]:t},r.prototype.propToCol=function(t){var e;return e="undefined"!=typeof this.propToColCache.get(t)?this.propToColCache.get(t):t,e=Handsontable.hooks.run(this.instance,"modifyCol",e)},r.prototype.getSchema=function(){var t=this.instance.getSettings().dataSchema;return t?"function"==typeof t?t():t:this.duckSchema},r.prototype.createRow=function(t,e,n){var r,i,o=this.instance.countCols(),a=0;e||(e=1),("number"!=typeof t||t>=this.instance.countRows())&&(t=this.instance.countRows()),i=t;for(var s=this.instance.getSettings().maxRows;e>a&&this.instance.countRows()<s;){if("array"===this.instance.dataType){r=[];for(var l=0;o>l;l++)r.push(null)}else"function"===this.instance.dataType?r=this.instance.getSettings().dataSchema(t):(r={},g(r,this.getSchema()));t===this.instance.countRows()?this.dataSource.push(r):this.dataSource.splice(t,0,r),a++,i++}return Handsontable.hooks.run(this.instance,"afterCreateRow",t,a,n),this.instance.forceFullRender=!0,a},r.prototype.createCol=function(t,e,n){if(!this.instance.isColumnModificationAllowed())throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var r,i,o=this.instance.countRows(),a=this.dataSource,s=0;e||(e=1),i=t;for(var l=this.instance.getSettings().maxCols;e>s&&this.instance.countCols()<l;){if(r=d(this.GridSettings,this.priv.columnsSettingConflicts),"number"!=typeof t||t>=this.instance.countCols()){for(var u=0;o>u;u++)"undefined"==typeof a[u]&&(a[u]=[]),a[u].push(null);this.priv.columnSettings.push(r)}else{for(var u=0;o>u;u++)a[u].splice(i,0,null);this.priv.columnSettings.splice(i,0,r)}s++,i++}return Handsontable.hooks.run(this.instance,"afterCreateCol",t,s,n),this.instance.forceFullRender=!0,s},r.prototype.removeRow=function(t,e){e||(e=1),"number"!=typeof t&&(t=-e),t=(this.instance.countRows()+t)%this.instance.countRows();var n=this.physicalRowsToLogical(t,e),r=Handsontable.hooks.run(this.instance,"beforeRemoveRow",t,e);if(r!==!1){var i=this.dataSource,o=i.filter(function(t,e){return-1==n.indexOf(e)});i.length=0,Array.prototype.push.apply(i,o),Handsontable.hooks.run(this.instance,"afterRemoveRow",t,e),this.instance.forceFullRender=!0}},r.prototype.removeCol=function(t,e){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");e||(e=1),"number"!=typeof t&&(t=-e),t=(this.instance.countCols()+t)%this.instance.countCols();var n=Handsontable.hooks.run(this.instance,"beforeRemoveCol",t,e);if(n!==!1){for(var r=this.dataSource,i=0,o=this.instance.countRows();o>i;i++)r[i].splice(t,e);this.priv.columnSettings.splice(t,e),Handsontable.hooks.run(this.instance,"afterRemoveCol",t,e),this.instance.forceFullRender=!0}},r.prototype.spliceCol=function(t,e,n){var r=4<=arguments.length?[].slice.call(arguments,3):[],i=this.instance.getDataAtCol(t),o=i.slice(e,e+n),a=i.slice(e+n);v(r,a);for(var s=0;n>s;)r.push(null),s++;return y(r),this.instance.populateFromArray(e,t,r,null,null,"spliceCol"),o},r.prototype.spliceRow=function(t,e,n){var r=4<=arguments.length?[].slice.call(arguments,3):[],i=this.instance.getSourceDataAtRow(t),o=i.slice(e,e+n),a=i.slice(e+n);v(r,a);for(var s=0;n>s;)r.push(null),s++;return this.instance.populateFromArray(t,e,[r],null,null,"spliceRow"),o},r.prototype.get=function(t,e){if(t=Handsontable.hooks.run(this.instance,"modifyRow",t),"string"==typeof e&&e.indexOf(".")>-1){var n=e.split("."),r=this.dataSource[t];if(!r)return null;for(var i=0,o=n.length;o>i;i++)if(r=r[n[i]],"undefined"==typeof r)return null;return r}return"function"==typeof e?e(this.dataSource.slice(t,t+1)[0]):this.dataSource[t]?this.dataSource[t][e]:null};var b=h("copyable",!1);r.prototype.getCopyable=function(t,e){return b.call(this.instance,t,this.propToCol(e))?this.get(t,e):""},r.prototype.set=function(t,e,n,r){if(t=Handsontable.hooks.run(this.instance,"modifyRow",t,r||"datamapGet"),"string"==typeof e&&e.indexOf(".")>-1){for(var i=e.split("."),o=this.dataSource[t],a=0,s=i.length-1;s>a;a++)"undefined"==typeof o[i[a]]&&(o[i[a]]={}),o=o[i[a]];o[i[a]]=n}else"function"==typeof e?e(this.dataSource.slice(t,t+1)[0],n):this.dataSource[t][e]=n},r.prototype.physicalRowsToLogical=function(t,e){for(var n,r=this.instance.countRows(),i=(r+t)%r,o=[],a=e;r>i&&a;)n=Handsontable.hooks.run(this.instance,"modifyRow",i),o.push(n),a--,i++;return o},r.prototype.clear=function(){for(var t=0;t<this.instance.countRows();t++)for(var e=0;e<this.instance.countCols();e++)this.set(t,this.colToProp(e),"")},r.prototype.getAll=function(){return this.dataSource},r.prototype.getRange=function(t,e,n){var r,i,o,a,s,l=[],u=n===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get;for(i=Math.max(t.row,e.row),a=Math.max(t.col,e.col),r=Math.min(t.row,e.row);i>=r;r++){for(s=[],o=Math.min(t.col,e.col);a>=o;o++)s.push(u.call(this,r,this.colToProp(o)));l.push(s)}return l},r.prototype.getText=function(t,e){return c.stringify(this.getRange(t,e,this.DESTINATION_RENDERER))},r.prototype.getCopyableText=function(t,e){return c.stringify(this.getRange(t,e,this.DESTINATION_CLIPBOARD_GENERATOR))},Handsontable.DataMap=r},{SheetClip:"SheetClip","helpers/array":41,"helpers/data":43,"helpers/object":49,"helpers/setting":50,multiMap:53}],27:[function(t,e,n){"use strict";function r(t,e,n){function r(t){var r="function"==typeof e.settings.enterMoves?e.settings.enterMoves(event):e.settings.enterMoves;t?n.transformStart(-r.row,-r.col):n.transformStart(r.row,r.col,!0)}function i(t){t?n.transformEnd(-1,0):n.transformStart(-1,0)}function o(t){t?n.transformEnd(1,0):n.transformStart(1,0)}function a(t){t?n.transformEnd(0,1):n.transformStart(0,1)}function s(t){t?n.transformEnd(0,-1):n.transformStart(0,-1)}function l(l){var c,p;if(t.isListening()&&(Handsontable.hooks.run(t,"beforeKeyDown",l),!x&&!v(l)&&(e.lastKeyCode=l.keyCode,n.isSelected()))){if(c=(l.ctrlKey||l.metaKey)&&!l.altKey,w&&!w.isWaiting()&&!(d(l.keyCode)||f(l.keyCode)||c||b.isEditorOpened()))return void b.openEditor("",l);switch(p=l.shiftKey?n.setRangeEnd:n.setRangeStart,l.keyCode){case h.A:!b.isEditorOpened()&&c&&(n.selectAll(),l.preventDefault(),g(l));break;case h.ARROW_UP:b.isEditorOpened()&&!w.isWaiting()&&b.closeEditorAndSaveChanges(c),i(l.shiftKey),l.preventDefault(),g(l);break;case h.ARROW_DOWN:b.isEditorOpened()&&!w.isWaiting()&&b.closeEditorAndSaveChanges(c),o(l.shiftKey),l.preventDefault(),g(l);break;case h.ARROW_RIGHT:b.isEditorOpened()&&!w.isWaiting()&&b.closeEditorAndSaveChanges(c),a(l.shiftKey),l.preventDefault(),g(l);break;case h.ARROW_LEFT:b.isEditorOpened()&&!w.isWaiting()&&b.closeEditorAndSaveChanges(c),s(l.shiftKey),l.preventDefault(),g(l);break;case h.TAB:var y="function"==typeof e.settings.tabMoves?e.settings.tabMoves(l):e.settings.tabMoves;l.shiftKey?n.transformStart(-y.row,-y.col):n.transformStart(y.row,y.col,!0),l.preventDefault(),g(l);break;case h.BACKSPACE:case h.DELETE:n.empty(l),b.prepareEditor(),l.preventDefault();break;case h.F2:b.openEditor(null,l),w&&w.enableFullEditMode(),l.preventDefault();break;case h.ENTER:b.isEditorOpened()?(w&&w.state!==Handsontable.EditorState.WAITING&&b.closeEditorAndSaveChanges(c),r(l.shiftKey)):t.getSettings().enterBeginsEditing?(b.openEditor(null,l),w&&w.enableFullEditMode()):r(l.shiftKey),l.preventDefault(),m(l);break;case h.ESCAPE:b.isEditorOpened()&&b.closeEditorAndRestoreOriginalValue(c),l.preventDefault();break;case h.HOME:p(l.ctrlKey||l.metaKey?new u(0,e.selRange.from.col):new u(e.selRange.from.row,0)),l.preventDefault(),g(l);break;case h.END:p(l.ctrlKey||l.metaKey?new u(t.countRows()-1,e.selRange.from.col):new u(e.selRange.from.row,t.countCols()-1)),l.preventDefault(),g(l);break;case h.PAGE_UP:n.transformStart(-t.countVisibleRows(),0),l.preventDefault(),g(l);break;case h.PAGE_DOWN:n.transformStart(t.countVisibleRows(),0),l.preventDefault(),g(l)}}}function c(){function e(t,e,n){"TD"==n.nodeName&&(b.openEditor(),w&&w.enableFullEditMode())}t.addHook("afterDocumentKeyDown",l),p.addEventListener(document.documentElement,"keydown",function(e){t.runHooks("afterDocumentKeyDown",e)}),t.view.wt.update("onCellDblClick",e),t.addHook("afterDestroy",function(){x=!0})}var p,w,b=this,x=!1;p=y(t),this.destroyEditor=function(t){this.closeEditor(t)},this.getActiveEditor=function(){return w},this.prepareEditor=function(){var n,r,i,o,a,s,l;return w&&w.isWaiting()?void this.closeEditor(!1,!1,function(t){t&&b.prepareEditor()}):(n=e.selRange.highlight.row,r=e.selRange.highlight.col,i=t.colToProp(r),o=t.getCell(n,r),a=t.getDataAtCell(n,r),s=t.getCellMeta(n,r),l=t.getCellEditor(s),void(l?(w=Handsontable.editors.getEditor(l,t),w.prepare(n,r,i,o,a,s)):w=void 0))},this.isEditorOpened=function(){return w&&w.isOpened()},this.openEditor=function(t,e){w&&!w.cellProperties.readOnly?w.beginEditing(t,e):w&&w.cellProperties.readOnly&&e&&e.keyCode===h.ENTER&&r()},this.closeEditor=function(t,e,n){w?w.finishEditing(t,e,n):n&&n(!1)},this.closeEditorAndSaveChanges=function(t){return this.closeEditor(!1,t)},this.closeEditorAndRestoreOriginalValue=function(t){return this.closeEditor(!0,t)},c()}Object.defineProperties(n,{EditorManager:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s,l,u=(i=t("3rdparty/walkontable/src/cell/coords"),i&&i.__esModule&&i||{"default":i}).WalkontableCellCoords,c=(o=t("helpers/unicode"),o&&o.__esModule&&o||{"default":o}),h=c.KEY_CODES,d=c.isMetaKey,f=c.isCtrlKey,p=(a=t("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),g=p.stopPropagation,m=p.stopImmediatePropagation,v=p.isImmediatePropagationStopped,y=((s=t("editors"),s&&s.__esModule&&s||{"default":s}).getEditor,(l=t("eventManager"),l&&l.__esModule&&l||{"default":l}).eventManager);

Handsontable.EditorManager=r},{"3rdparty/walkontable/src/cell/coords":5,editors:28,eventManager:40,"helpers/dom/event":45,"helpers/unicode":52}],28:[function(t,e,n){"use strict";function r(t){var e,n;n={},e=t,this.getConstructor=function(){return t},this.getInstance=function(t){return t.guid in n||(n[t.guid]=new e(t)),n[t.guid]}}function i(t,e){var n=new r(e);"string"==typeof t&&(c[t]=n,Handsontable.editors[u(t)+"Editor"]=e),h.set(e,n)}function o(t,e){var n;if("function"==typeof t)h.get(t)||i(null,t),n=h.get(t);else{if("string"!=typeof t)throw Error('Only strings and functions can be passed as "editor" parameter ');n=c[t]}if(!n)throw Error('No editor registered under name "'+t+'"');return n.getInstance(e)}function a(t){var e;if("string"!=typeof t)throw Error('Only strings and functions can be passed as "editor" parameter ');if(e=c[t],!e)throw Error('No editor registered under name "'+t+'"');return e.getConstructor()}function s(t){return c[t]?!0:!1}Object.defineProperties(n,{registerEditor:{get:function(){return i}},getEditor:{get:function(){return o}},hasEditor:{get:function(){return s}},getEditorConstructor:{get:function(){return a}},__esModule:{value:!0}});var l,u=(l=t("helpers/string"),l&&l.__esModule&&l||{"default":l}).toUpperCaseFirst,c={},h=new WeakMap;Handsontable.editors=Handsontable.editors||{},Handsontable.editors.registerEditor=i,Handsontable.editors.getEditor=o},{"helpers/string":51}],29:[function(t,e,n){"use strict";function r(t){this.instance=t,this.state=Handsontable.EditorState.VIRGIN,this._opened=!1,this._fullEditMode=!1,this._closeCallback=null,this.init()}Object.defineProperties(n,{BaseEditor:{get:function(){return r}},__esModule:{value:!0}});var i,o,a=(i=t("helpers/mixed"),i&&i.__esModule&&i||{"default":i}).stringify,s=(o=t("3rdparty/walkontable/src/cell/coords"),o&&o.__esModule&&o||{"default":o}).WalkontableCellCoords;Handsontable.editors=Handsontable.editors||{},Handsontable.editors.BaseEditor=r,Handsontable.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"},r.prototype._fireCallbacks=function(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)},r.prototype.init=function(){},r.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},r.prototype.setValue=function(t){throw Error("Editor setValue() method unimplemented")},r.prototype.open=function(){throw Error("Editor open() method unimplemented")},r.prototype.close=function(){throw Error("Editor close() method unimplemented")},r.prototype.prepare=function(t,e,n,r,i,o){this.TD=r,this.row=t,this.col=e,this.prop=n,this.originalValue=i,this.cellProperties=o,this.state=Handsontable.EditorState.VIRGIN},r.prototype.extend=function(){function t(){n.apply(this,arguments)}function e(t,e){function n(){}return n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t}var n=this.constructor;return e(t,n)},r.prototype.saveValue=function(t,e){var n,r;e?(n=this.instance.getSelected(),n[0]>n[2]&&(r=n[0],n[0]=n[2],n[2]=r),n[1]>n[3]&&(r=n[1],n[1]=n[3],n[3]=r),this.instance.populateFromArray(n[0],n[1],t,n[2],n[3],"edit")):this.instance.populateFromArray(this.row,this.col,t,null,null,"edit")},r.prototype.beginEditing=function(t,e){this.state==Handsontable.EditorState.VIRGIN&&(this.instance.view.scrollViewport(new s(this.row,this.col)),this.instance.view.render(),this.state=Handsontable.EditorState.EDITING,t="string"==typeof t?t:this.originalValue,this.setValue(a(t)),this.open(e),this._opened=!0,this.focus(),this.instance.view.render())},r.prototype.finishEditing=function(t,e,n){var r,i=this;if(n){var o=this._closeCallback;this._closeCallback=function(t){o&&o(t),n(t)}}if(!this.isWaiting()){if(this.state==Handsontable.EditorState.VIRGIN)return void this.instance._registerTimeout(setTimeout(function(){i._fireCallbacks(!0)},0));if(this.state==Handsontable.EditorState.EDITING){if(t)return this.cancelChanges(),void this.instance.view.render();r=this.instance.getSettings().trimWhitespace?[["string"==typeof this.getValue()?String.prototype.trim.call(this.getValue()||""):this.getValue()]]:[[this.getValue()]],this.state=Handsontable.EditorState.WAITING,this.saveValue(r,e),this.instance.getCellValidator(this.cellProperties)?this.instance.addHookOnce("postAfterValidate",function(t){i.state=Handsontable.EditorState.FINISHED,i.discardEditor(t)}):(this.state=Handsontable.EditorState.FINISHED,this.discardEditor(!0))}}},r.prototype.cancelChanges=function(){this.state=Handsontable.EditorState.FINISHED,this.discardEditor()},r.prototype.discardEditor=function(t){this.state===Handsontable.EditorState.FINISHED&&(t===!1&&this.cellProperties.allowInvalid!==!0?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=Handsontable.EditorState.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this._fullEditMode=!1,this.state=Handsontable.EditorState.VIRGIN,this._fireCallbacks(!0)))},r.prototype.enableFullEditMode=function(){this._fullEditMode=!0},r.prototype.isInFullEditMode=function(){return this._fullEditMode},r.prototype.isOpened=function(){return this._opened},r.prototype.isWaiting=function(){return this.state===Handsontable.EditorState.WAITING}},{"3rdparty/walkontable/src/cell/coords":5,"helpers/mixed":47}],30:[function(t,e,n){"use strict";function r(t){k=!1;var e=this.getActiveEditor();if(d(t.keyCode)||t.keyCode===h.BACKSPACE||t.keyCode===h.DELETE||t.keyCode===h.INSERT){var n=0;if(t.keyCode===h.C&&(t.ctrlKey||t.metaKey))return;e.isOpened()||(n+=10),e.htEditor&&e.instance._registerTimeout(setTimeout(function(){e.queryChoices(e.TEXTAREA.value),k=!0},n))}}Object.defineProperties(n,{AutocompleteEditor:{get:function(){return T}},__esModule:{value:!0}});var i,o,a,s,l,u,c=(i=t("helpers/unicode"),i&&i.__esModule&&i||{"default":i}),h=c.KEY_CODES,d=c.isPrintableChar,f=(o=t("helpers/mixed"),o&&o.__esModule&&o||{"default":o}).stringify,p=(a=t("helpers/array"),a&&a.__esModule&&a||{"default":a}).pivot,g=(s=t("helpers/dom/element"),s&&s.__esModule&&s||{"default":s}),m=g.addClass,v=g.getCaretPosition,y=g.getScrollbarWidth,w=g.getSelectionEndPosition,b=g.outerWidth,x=g.setCaretPosition,C=(l=t("editors"),l&&l.__esModule&&l||{"default":l}),_=(C.getEditorConstructor,C.registerEditor),E=(u=t("handsontableEditor"),u&&u.__esModule&&u||{"default":u}).HandsontableEditor,T=E.prototype.extend();T.prototype.init=function(){E.prototype.init.apply(this,arguments),this.query=null,this.choices=[]},T.prototype.createElements=function(){E.prototype.createElements.apply(this,arguments),m(this.htContainer,"autocompleteEditor"),m(this.htContainer,-1!==window.navigator.platform.indexOf("Mac")?"htMacScroll":"")};var k=!1;T.prototype.prepare=function(){this.instance.addHook("beforeKeyDown",r),E.prototype.prepare.apply(this,arguments)},T.prototype.open=function(){this.TEXTAREA_PARENT.style.overflow="auto",E.prototype.open.apply(this,arguments),this.TEXTAREA_PARENT.style.overflow="";var t=this.htEditor.getInstance(),e=this,n=void 0===this.cellProperties.trimDropdown?!0:this.cellProperties.trimDropdown;this.TEXTAREA.style.visibility="visible",this.focus(),t.updateSettings({colWidths:n?[b(this.TEXTAREA)-2]:void 0,width:n?b(this.TEXTAREA)+y()+2:void 0,afterRenderer:function(t,n,r,i,o){var a,s,l=this.getCellMeta(n,r).filteringCaseSensitive===!0,o=f(o);o&&(a=l?o.indexOf(this.query):o.toLowerCase().indexOf(e.query.toLowerCase()),-1!=a&&(s=o.substr(a,e.query.length),t.innerHTML=o.replace(s,"<strong>"+s+"</strong>")))},autoColumnSize:!0,modifyColWidth:function(t,e){var r=this.getPlugin("autoColumnSize").widths;return r[e]&&(t=r[e]),n?t:t+15}}),this.htEditor.view.wt.wtTable.holder.parentNode.style["padding-right"]=y()+2+"px",k&&(k=!1),e.instance._registerTimeout(setTimeout(function(){e.queryChoices(e.TEXTAREA.value)},0))},T.prototype.close=function(){E.prototype.close.apply(this,arguments)},T.prototype.queryChoices=function(t){if(this.query=t,"function"==typeof this.cellProperties.source){var e=this;this.cellProperties.source(t,function(t){e.updateChoicesList(t)})}else if(Array.isArray(this.cellProperties.source)){var n;if(t&&this.cellProperties.filter!==!1){var r=this.cellProperties.filteringCaseSensitive===!0,i=t.toLowerCase();n=this.cellProperties.source.filter(function(e){return r?-1!=e.indexOf(t):-1!=e.toLowerCase().indexOf(i)})}else n=this.cellProperties.source;this.updateChoicesList(n)}else this.updateChoicesList([])},T.prototype.updateChoicesList=function(t){var e,n=v(this.TEXTAREA),r=w(this.TEXTAREA),i=T.sortByRelevance(this.getValue(),t,this.cellProperties.filteringCaseSensitive);if(0!=this.cellProperties.filter){for(var o=[],a=0,s=i.length;s>a;a++)o.push(t[i[a]]);e=0,t=o}else e=i[0];this.choices=t,this.htEditor.loadData(p([t])),this.updateDropdownHeight(),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(e),this.instance.listen(),this.TEXTAREA.focus(),x(this.TEXTAREA,n,n!=r?r:void 0)},T.prototype.updateDropdownHeight=function(){var t=this.htEditor.getColWidth(0)+y()+2,e=void 0===this.cellProperties.trimDropdown?!0:this.cellProperties.trimDropdown;this.htEditor.updateSettings({height:this.getDropdownHeight(),width:e?void 0:t}),this.htEditor.view.wt.wtTable.alignOverlaysWithTrimmingContainer()},T.prototype.finishEditing=function(t){t||this.instance.removeHook("beforeKeyDown",r),E.prototype.finishEditing.apply(this,arguments)},T.prototype.highlightBestMatchingChoice=function(t){"number"==typeof t?this.htEditor.selectCell(t,0):this.htEditor.deselectCell()},T.sortByRelevance=function(t,e,n){var r,i,o,a,s,l=[],u=t.length,c=[];if(0===u){for(a=0,s=e.length;s>a;a++)c.push(a);return c}for(a=0,s=e.length;s>a;a++)r=f(e[a]),i=n?r.indexOf(t):r.toLowerCase().indexOf(t.toLowerCase()),-1!=i&&(o=r.length-i-u,l.push({baseIndex:a,index:i,charsLeft:o,value:r}));for(l.sort(function(t,e){return-1===e.index?-1:-1===t.index?1:t.index<e.index?-1:e.index<t.index?1:t.index===e.index?t.charsLeft<e.charsLeft?-1:t.charsLeft>e.charsLeft?1:0:void 0}),a=0,s=l.length;s>a;a++)c.push(l[a].baseIndex);return c},T.prototype.getDropdownHeight=function(){var t=this.htEditor.getInstance().getRowHeight(0)||23,e=this.cellProperties.visibleRows;return this.choices.length>=e?e*t:this.choices.length*t+8},T.prototype.allowKeyEventPropagation=function(t){var e={row:this.htEditor.getSelectedRange()?this.htEditor.getSelectedRange().from.row:-1},n=!1;return t===h.ARROW_DOWN&&e.row<this.htEditor.countRows()-1&&(n=!0),t===h.ARROW_UP&&e.row>-1&&(n=!0),n},_("autocomplete",T)},{editors:28,handsontableEditor:34,"helpers/array":41,"helpers/dom/element":44,"helpers/mixed":47,"helpers/unicode":52}],31:[function(t,e,n){"use strict";Object.defineProperties(n,{CheckboxEditor:{get:function(){return u}},__esModule:{value:!0}});var r,i,o,a=(r=t("editors"),r&&r.__esModule&&r||{"default":r}).registerEditor,s=(i=t("_baseEditor"),i&&i.__esModule&&i||{"default":i}).BaseEditor,l=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}).hasClass,u=function(){$traceurRuntime.superConstructor(c).apply(this,arguments)},c=u;$traceurRuntime.createClass(u,{beginEditing:function(){var t=this.TD.querySelector('input[type="checkbox"]');l(t,"htBadValue")||t.click()},finishEditing:function(){},init:function(){},open:function(){},close:function(){},getValue:function(){},setValue:function(){},focus:function(){}},{},s),a("checkbox",u)},{_baseEditor:29,editors:28,"helpers/dom/element":44}],32:[function(t,e,n){"use strict";Object.defineProperties(n,{DateEditor:{get:function(){return E}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c,h,d=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),f=d.addClass,p=d.outerHeight,g=(i=t("helpers/object"),i&&i.__esModule&&i||{"default":i}).deepExtend,m=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).EventManager,v=(a=t("editors"),a&&a.__esModule&&a||{"default":a}),y=(v.getEditor,v.registerEditor),w=(s=t("helpers/unicode"),s&&s.__esModule&&s||{"default":s}).isMetaKey,b=(l=t("helpers/dom/event"),l&&l.__esModule&&l||{"default":l}).stopPropagation,x=(u=t("textEditor"),u&&u.__esModule&&u||{"default":u}).TextEditor,C=(c=t("moment"),c&&c.__esModule&&c||{"default":c})["default"],_=(h=t("pikaday"),h&&h.__esModule&&h||{"default":h})["default"];Handsontable.editors=Handsontable.editors||{},Handsontable.editors.DateEditor=E;var E=function(t){this.$datePicker=null,this.datePicker=null,this.datePickerStyle=null,this.defaultDateFormat="DD/MM/YYYY",this.isCellEdited=!1,this.parentDestroyed=!1,$traceurRuntime.superConstructor(T).call(this,t)},T=E;$traceurRuntime.createClass(E,{init:function(){var t=this;if("function"!=typeof C)throw new Error("You need to include moment.js to your project.");if("function"!=typeof _)throw new Error("You need to include Pikaday to your project.");$traceurRuntime.superGet(this,T.prototype,"init").call(this),this.instance.addHook("afterDestroy",function(){t.parentDestroyed=!0,t.destroyElements()})},createElements:function(){$traceurRuntime.superGet(this,T.prototype,"createElements").call(this),this.datePicker=document.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=9999,f(this.datePicker,"htDatepickerHolder"),document.body.appendChild(this.datePicker),this.$datePicker=new _(this.getDatePickerConfig());var t=new m(this);t.addEventListener(this.datePicker,"mousedown",function(t){return b(t)}),this.hideDatepicker()},destroyElements:function(){this.$datePicker.destroy()},prepare:function(t,e,n,r,i,o){this._opened=!1,$traceurRuntime.superGet(this,T.prototype,"prepare").call(this,t,e,n,r,i,o)},open:function(){var t=void 0!==arguments[0]?arguments[0]:null;$traceurRuntime.superGet(this,T.prototype,"open").call(this),this.showDatepicker(t)},close:function(){var t=this;this._opened=!1,this.instance._registerTimeout(setTimeout(function(){t.instance.selection.refreshBorders()},0)),$traceurRuntime.superGet(this,T.prototype,"close").call(this)},finishEditing:function(){var t=void 0!==arguments[0]?arguments[0]:!1,e=void 0!==arguments[1]?arguments[1]:!1;if(t){var n=this.originalValue;void 0!==n&&this.setValue(n)}this.hideDatepicker(),$traceurRuntime.superGet(this,T.prototype,"finishEditing").call(this,t,e)},showDatepicker:function(t){this.$datePicker.config(this.getDatePickerConfig());var e,n=this.TD.getBoundingClientRect(),r=this.cellProperties.dateFormat||this.defaultDateFormat,i=this.$datePicker.config(),o=this.instance.view.isMouseDown(),a=t?w(t.keyCode):!1;this.datePickerStyle.top=window.pageYOffset+n.top+p(this.TD)+"px",this.datePickerStyle.left=window.pageXOffset+n.left+"px",this.$datePicker._onInputFocus=function(){},i.format=r,this.originalValue?(e=this.originalValue,C(e,r,!0).isValid()&&this.$datePicker.setMoment(C(e,r),!0),a||o||this.setValue("")):this.cellProperties.defaultDate?(e=this.cellProperties.defaultDate,i.defaultDate=e,C(e,r,!0).isValid()&&this.$datePicker.setMoment(C(e,r),!0),a||o||this.setValue("")):this.$datePicker.gotoToday(),this.datePickerStyle.display="block",this.$datePicker.show()},hideDatepicker:function(){this.datePickerStyle.display="none",this.$datePicker.hide()},getDatePickerConfig:function(){var t=this,e=this.TEXTAREA,n={};this.cellProperties&&this.cellProperties.datePickerConfig&&g(n,this.cellProperties.datePickerConfig);var r=n.onSelect,i=n.onClose;return n.field=e,n.trigger=e,n.container=this.datePicker,n.bound=!1,n.format=n.format||this.defaultDateFormat,n.reposition=n.reposition||!1,n.onSelect=function(e){isNaN(e.getTime())||(e=C(e).format(t.cellProperties.dateFormat||t.defaultDateFormat)),t.setValue(e),t.hideDatepicker(),r&&r()},n.onClose=function(){t.parentDestroyed||t.finishEditing(!1),i&&i()},n}},{},x),y("date",E)},{editors:28,eventManager:40,"helpers/dom/element":44,"helpers/dom/event":45,"helpers/object":49,"helpers/unicode":52,moment:void 0,pikaday:void 0,textEditor:39}],33:[function(t,e,n){"use strict";Object.defineProperties(n,{DropdownEditor:{get:function(){return l}},__esModule:{value:!0}});var r,i,o=(r=t("editors"),r&&r.__esModule&&r||{"default":r}),a=(o.getEditor,o.registerEditor),s=(i=t("autocompleteEditor"),i&&i.__esModule&&i||{"default":i}).AutocompleteEditor,l=function(){$traceurRuntime.superConstructor(u).apply(this,arguments)},u=l;$traceurRuntime.createClass(l,{prepare:function(t,e,n,r,i,o){$traceurRuntime.superGet(this,u.prototype,"prepare").call(this,t,e,n,r,i,o),this.cellProperties.filter=!1,this.cellProperties.strict=!0}},{},s),Handsontable.hooks.add("beforeValidate",function(t,e,n,r){var i=this.getCellMeta(e,n);i.editor===Handsontable.editors.DropdownEditor&&void 0===i.strict&&(i.filter=!1,i.strict=!0)}),a("dropdown",l)},{autocompleteEditor:30,editors:28}],34:[function(t,e,n){"use strict";Object.defineProperties(n,{HandsontableEditor:{get:function(){return y}},__esModule:{value:!0}});var r,i,o,a,s,l,u=(r=t("helpers/unicode"),r&&r.__esModule&&r||{"default":r}).KEY_CODES,c=(i=t("helpers/object"),i&&i.__esModule&&i||{"default":i}).extend,h=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}).setCaretPosition,d=(a=t("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),f=d.stopImmediatePropagation,p=d.isImmediatePropagationStopped,g=(s=t("editors"),s&&s.__esModule&&s||{"default":s}),m=(g.getEditor,g.registerEditor),v=(l=t("textEditor"),l&&l.__esModule&&l||{"default":l}).TextEditor,y=v.prototype.extend();y.prototype.createElements=function(){v.prototype.createElements.apply(this,arguments);var t=document.createElement("DIV");t.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(t),this.htContainer=t,this.assignHooks()},y.prototype.prepare=function(t,e,n,r,i,o){v.prototype.prepare.apply(this,arguments);var a=this,s={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,autoColumnSize:!1,autoRowSize:!1,readOnly:!0,fillHandle:!1,afterOnCellMouseDown:function(){var t=this.getValue();void 0!==t&&a.setValue(t),a.instance.destroyEditor()}};this.cellProperties.handsontable&&c(s,o.handsontable),this.htOptions=s};var w=function(t){if(!p(t)){var e,n=this.getActiveEditor(),r=n.htEditor.getInstance();if(t.keyCode==u.ARROW_DOWN)if(r.getSelected()){var i=r.getSelected()[0],o=r.countRows()-1;e=Math.min(o,i+1)}else e=0;else if(t.keyCode==u.ARROW_UP&&r.getSelected()){var i=r.getSelected()[0];e=i-1}void 0!==e&&(0>e?r.deselectCell():r.selectCell(e,0),r.getData().length&&(t.preventDefault(),f(t),n.instance.listen(),n.TEXTAREA.focus()))}};y.prototype.open=function(){this.instance.addHook("beforeKeyDown",w),v.prototype.open.apply(this,arguments),this.htEditor&&this.htEditor.destroy(),this.htEditor=new Handsontable(this.htContainer,this.htOptions),this.cellProperties.strict?(this.htEditor.selectCell(0,0),this.TEXTAREA.style.visibility="hidden"):(this.htEditor.deselectCell(),this.TEXTAREA.style.visibility="visible"),h(this.TEXTAREA,0,this.TEXTAREA.value.length)},y.prototype.close=function(){this.instance.removeHook("beforeKeyDown",w),this.instance.listen(),v.prototype.close.apply(this,arguments)},y.prototype.focus=function(){this.instance.listen(),v.prototype.focus.apply(this,arguments)},y.prototype.beginEditing=function(t){var e=this.instance.getSettings().onBeginEditing;e&&e()===!1||v.prototype.beginEditing.apply(this,arguments)},y.prototype.finishEditing=function(t,e){if(this.htEditor&&this.htEditor.isListening()&&this.instance.listen(),this.htEditor&&this.htEditor.getSelected()){var n=this.htEditor.getInstance().getValue();void 0!==n&&this.setValue(n)}return v.prototype.finishEditing.apply(this,arguments)},y.prototype.assignHooks=function(){var t=this;this.instance.addHook("afterDestroy",function(){t.htEditor&&t.htEditor.destroy()})},m("handsontable",y)},{editors:28,"helpers/dom/element":44,"helpers/dom/event":45,"helpers/object":49,"helpers/unicode":52,textEditor:39}],35:[function(t,e,n){"use strict";Object.defineProperties(n,{MobileTextEditor:{get:function(){return $}},__esModule:{value:!0}});var r,i,o,a,s,l,u=(r=t("helpers/unicode"),r&&r.__esModule&&r||{"default":r}).KEY_CODES,c=(i=t("helpers/dom/event"),i&&i.__esModule&&i||{"default":i}),h=c.stopImmediatePropagation,d=c.isImmediatePropagationStopped,f=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),p=f.addClass,g=f.getScrollLeft,m=f.getScrollTop,v=f.hasClass,y=f.isChildOf,w=f.offset,b=f.outerHeight,x=f.outerWidth,C=f.removeClass,_=f.setCaretPosition,E=(a=t("editors"),a&&a.__esModule&&a||{"default":a}),T=(E.getEditor,E.registerEditor),k=(s=t("_baseEditor"),s&&s.__esModule&&s||{"default":s}).BaseEditor,S=(l=t("eventManager"),l&&l.__esModule&&l||{"default":l}).eventManager,$=k.prototype.extend(),M={},A=function(){this.controls={},this.controls.leftButton=document.createElement("DIV"),this.controls.leftButton.className="leftButton",this.controls.rightButton=document.createElement("DIV"),this.controls.rightButton.className="rightButton",this.controls.upButton=document.createElement("DIV"),this.controls.upButton.className="upButton",this.controls.downButton=document.createElement("DIV"),this.controls.downButton.className="downButton";for(var t in this.controls)this.controls.hasOwnProperty(t)&&this.positionControls.appendChild(this.controls[t])};$.prototype.valueChanged=function(){return this.initValue!=this.getValue()},$.prototype.init=function(){var t=this;this.eventManager=S(this.instance),this.createElements(),this.bindEvents(),this.instance.addHook("afterDestroy",function(){t.destroy()})},$.prototype.getValue=function(){return this.TEXTAREA.value},$.prototype.setValue=function(t){this.initValue=t,this.TEXTAREA.value=t},$.prototype.createElements=function(){this.editorContainer=document.createElement("DIV"),this.editorContainer.className="htMobileEditorContainer",this.cellPointer=document.createElement("DIV"),this.cellPointer.className="cellPointer",this.moveHandle=document.createElement("DIV"),this.moveHandle.className="moveHandle",this.inputPane=document.createElement("DIV"),this.inputPane.className="inputs",this.positionControls=document.createElement("DIV"),this.positionControls.className="positionControls",this.TEXTAREA=document.createElement("TEXTAREA"),p(this.TEXTAREA,"handsontableInput"),this.inputPane.appendChild(this.TEXTAREA),this.editorContainer.appendChild(this.cellPointer),this.editorContainer.appendChild(this.moveHandle),this.editorContainer.appendChild(this.inputPane),this.editorContainer.appendChild(this.positionControls),A.call(this),document.body.appendChild(this.editorContainer)},$.prototype.onBeforeKeyDown=function(t){var e=this,n=e.getActiveEditor();if(t.target===n.TEXTAREA&&!d(t))switch(t.keyCode){case u.ENTER:n.close(),t.preventDefault();break;case u.BACKSPACE:h(t)}},$.prototype.open=function(){this.instance.addHook("beforeKeyDown",this.onBeforeKeyDown),p(this.editorContainer,"active"),C(this.cellPointer,"hidden"),this.updateEditorPosition()},$.prototype.focus=function(){this.TEXTAREA.focus(),_(this.TEXTAREA,this.TEXTAREA.value.length)},$.prototype.close=function(){this.TEXTAREA.blur(),this.instance.removeHook("beforeKeyDown",this.onBeforeKeyDown),C(this.editorContainer,"active")},$.prototype.scrollToView=function(){var t=this.instance.getSelectedRange().highlight;this.instance.view.scrollViewport(t)},$.prototype.hideCellPointer=function(){v(this.cellPointer,"hidden")||p(this.cellPointer,"hidden")},$.prototype.updateEditorPosition=function(t,e){if(t&&e)t=parseInt(t,10),e=parseInt(e,10),this.editorContainer.style.top=e+"px",this.editorContainer.style.left=t+"px";else{var n=this.instance.getSelected(),r=this.instance.getCell(n[0],n[1]);if(M.cellPointer||(M.cellPointer={height:b(this.cellPointer),width:x(this.cellPointer)}),M.editorContainer||(M.editorContainer={width:x(this.editorContainer)}),void 0!==r){var i=this.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer==window?0:g(this.instance.view.wt.wtOverlays.leftOverlay.holder),o=this.instance.view.wt.wtOverlays.topOverlay.trimmingContainer==window?0:m(this.instance.view.wt.wtOverlays.topOverlay.holder),a=w(r),s=x(r),l={x:i,y:o};this.editorContainer.style.top=parseInt(a.top+b(r)-l.y+M.cellPointer.height,10)+"px",this.editorContainer.style.left=parseInt(window.innerWidth/2-M.editorContainer.width/2,10)+"px",a.left+s/2>parseInt(this.editorContainer.style.left,10)+M.editorContainer.width?this.editorContainer.style.left=window.innerWidth-M.editorContainer.width+"px":a.left+s/2<parseInt(this.editorContainer.style.left,10)+20&&(this.editorContainer.style.left="0px"),this.cellPointer.style.left=parseInt(a.left-M.cellPointer.width/2-w(this.editorContainer).left+s/2-l.x,10)+"px"}}},$.prototype.updateEditorData=function(){var t=this.instance.getSelected(),e=this.instance.getDataAtCell(t[0],t[1]);this.row=t[0],this.col=t[1],this.setValue(e),this.updateEditorPosition()},$.prototype.prepareAndSave=function(){var t;return this.valueChanged()?(t=this.instance.getSettings().trimWhitespace?[[String.prototype.trim.call(this.getValue())]]:[[this.getValue()]],void this.saveValue(t)):!0},$.prototype.bindEvents=function(){var t=this;this.eventManager.addEventListener(this.controls.leftButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(0,-1,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.rightButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(0,1,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.upButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(-1,0,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.controls.downButton,"touchend",function(e){t.prepareAndSave(),t.instance.selection.transformStart(1,0,null,!0),t.updateEditorData(),e.preventDefault()}),this.eventManager.addEventListener(this.moveHandle,"touchstart",function(e){if(1==e.touches.length){var n=e.touches[0],r={x:t.editorContainer.offsetLeft,y:t.editorContainer.offsetTop},i={x:n.pageX-r.x,y:n.pageY-r.y};t.eventManager.addEventListener(this,"touchmove",function(e){var n=e.touches[0];t.updateEditorPosition(n.pageX-i.x,n.pageY-i.y),t.hideCellPointer(),e.preventDefault()})}}),this.eventManager.addEventListener(document.body,"touchend",function(e){y(e.target,t.editorContainer)||y(e.target,t.instance.rootElement)||t.close()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.leftOverlay.holder,"scroll",function(e){t.instance.view.wt.wtOverlays.leftOverlay.trimmingContainer!=window&&t.hideCellPointer()}),this.eventManager.addEventListener(this.instance.view.wt.wtOverlays.topOverlay.holder,"scroll",function(e){t.instance.view.wt.wtOverlays.topOverlay.trimmingContainer!=window&&t.hideCellPointer()})},$.prototype.destroy=function(){this.eventManager.clear(),this.editorContainer.parentNode.removeChild(this.editorContainer)},T("mobile",$)},{_baseEditor:29,editors:28,eventManager:40,"helpers/dom/element":44,"helpers/dom/event":45,"helpers/unicode":52}],36:[function(t,e,n){"use strict";Object.defineProperties(n,{NumericEditor:{get:function(){return c}},__esModule:{value:!0}});var r,i,o,a=(r=t("numeral"),r&&r.__esModule&&r||{"default":r})["default"],s=(i=t("editors"),i&&i.__esModule&&i||{"default":i}),l=(s.getEditor,s.registerEditor),u=(o=t("textEditor"),o&&o.__esModule&&o||{"default":o}).TextEditor,c=function(){$traceurRuntime.superConstructor(h).apply(this,arguments)},h=c;$traceurRuntime.createClass(c,{beginEditing:function(t){if("undefined"==typeof t&&this.originalValue){"undefined"!=typeof this.cellProperties.language&&a.language(this.cellProperties.language);var e=a.languageData().delimiters.decimal;t=(""+this.originalValue).replace(".",e)}$traceurRuntime.superGet(this,h.prototype,"beginEditing").call(this,t)}},{},u),l("numeric",c)},{editors:28,numeral:"numeral",textEditor:39}],37:[function(t,e,n){"use strict";Object.defineProperties(n,{PasswordEditor:{get:function(){return c}},__esModule:{value:!0}});var r,i,o,a=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).empty,s=(i=t("editors"),i&&i.__esModule&&i||{"default":i}),l=(s.getEditor,s.registerEditor),u=(o=t("textEditor"),o&&o.__esModule&&o||{"default":o}).TextEditor,c=function(){$traceurRuntime.superConstructor(h).apply(this,arguments)},h=c;$traceurRuntime.createClass(c,{createElements:function(){$traceurRuntime.superGet(this,h.prototype,"createElements").call(this),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,a(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)}},{},u),l("password",c)},{editors:28,"helpers/dom/element":44,textEditor:39}],38:[function(t,e,n){"use strict";Object.defineProperties(n,{SelectEditor:{get:function(){return E}},__esModule:{value:!0}});var r,i,o,a,s,l=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),u=l.addClass,c=l.empty,h=l.fastInnerHTML,d=l.getComputedStyle,f=l.getCssTransform,p=l.getScrollableElement,g=l.offset,m=l.outerHeight,v=l.outerWidth,y=l.resetCssTransform,w=(i=t("helpers/dom/event"),i&&i.__esModule&&i||{"default":i}).stopImmediatePropagation,b=(o=t("helpers/unicode"),o&&o.__esModule&&o||{"default":o}).KEY_CODES,x=(a=t("editors"),a&&a.__esModule&&a||{"default":a}),C=(x.getEditor,x.registerEditor),_=(s=t("_baseEditor"),s&&s.__esModule&&s||{"default":s}).BaseEditor,E=_.prototype.extend();E.prototype.init=function(){this.select=document.createElement("SELECT"),u(this.select,"htSelectEditor"),this.select.style.display="none",this.instance.rootElement.appendChild(this.select),this.registerHooks()},E.prototype.registerHooks=function(){var t=this;this.instance.addHook("afterScrollVertically",function(){return t.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){return t.refreshDimensions()}),this.instance.addHook("afterRowResize",function(){return t.refreshDimensions()})},E.prototype.prepare=function(){_.prototype.prepare.apply(this,arguments);var t,e=this.cellProperties.selectOptions;t=this.prepareOptions("function"==typeof e?e(this.row,this.col,this.prop):e),c(this.select);for(var n in t)if(t.hasOwnProperty(n)){var r=document.createElement("OPTION");r.value=n,h(r,t[n]),this.select.appendChild(r)}},E.prototype.prepareOptions=function(t){var e={};if(Array.isArray(t))for(var n=0,r=t.length;r>n;n++)e[t[n]]=t[n];else"object"==typeof t&&(e=t);return e},E.prototype.getValue=function(){return this.select.value},E.prototype.setValue=function(t){this.select.value=t};var T=function(t){var e=this,n=e.getActiveEditor();switch(t.keyCode){case b.ARROW_UP:var r=n.select.selectedIndex-1;r>=0&&(n.select[r].selected=!0),w(t),t.preventDefault();break;case b.ARROW_DOWN:var i=n.select.selectedIndex+1;i<=n.select.length-1&&(n.select[i].selected=!0),w(t),t.preventDefault()}};E.prototype.checkEditorSection=function(){return this.row<this.instance.getSettings().fixedRowsTop?this.col<this.instance.getSettings().fixedColumnsLeft?"corner":"top":this.col<this.instance.getSettings().fixedColumnsLeft?"left":void 0},E.prototype.open=function(){this._opened=!0,this.refreshDimensions(),this.select.style.display="",this.instance.addHook("beforeKeyDown",T)},E.prototype.close=function(){this._opened=!1,this.select.style.display="none",this.instance.removeHook("beforeKeyDown",T)},E.prototype.focus=function(){this.select.focus()},E.prototype.refreshDimensions=function(){if(this.state===Handsontable.EditorState.EDITING){if(this.TD=this.getEditedCell(),!this.TD)return void this.close();{var t,e=v(this.TD)+1,n=m(this.TD)+1,r=g(this.TD),i=g(this.instance.rootElement),o=p(this.TD),a=r.top-i.top-1-(o.scrollTop||0),s=r.left-i.left-1-(o.scrollLeft||0),l=this.checkEditorSection(),u=this.instance.getSettings();u.rowHeaders?1:0,u.colHeaders?1:0}switch(l){case"top":t=f(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":t=f(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);

break;case"corner":t=f(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode)}0===this.instance.getSelected()[0]&&(a+=1),0===this.instance.getSelected()[1]&&(s+=1);var c=this.select.style;t&&-1!=t?c[t[0]]=t[1]:y(this.select);var h=d(this.TD);parseInt(h.borderTopWidth,10)>0&&(n-=1),parseInt(h.borderLeftWidth,10)>0&&(e-=1),c.height=n+"px",c.minWidth=e+"px",c.top=a+"px",c.left=s+"px",c.margin="0px"}},E.prototype.getEditedCell=function(){var t,e=this.checkEditorSection();switch(e){case"top":t=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=101;break;case"corner":t=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=103;break;case"left":t=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.select.style.zIndex=102;break;default:t=this.instance.getCell(this.row,this.col),this.select.style.zIndex=""}return-1!=t&&-2!=t?t:void 0},C("select",E)},{_baseEditor:29,editors:28,"helpers/dom/element":44,"helpers/dom/event":45,"helpers/unicode":52}],39:[function(t,e,n){"use strict";Object.defineProperties(n,{TextEditor:{get:function(){return A}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),h=c.addClass,d=c.getCaretPosition,f=c.getComputedStyle,p=c.getCssTransform,g=c.getScrollableElement,m=c.innerWidth,v=c.offset,y=c.resetCssTransform,w=c.setCaretPosition,b=(i=t("autoResize"),i&&i.__esModule&&i||{"default":i})["default"],x=(o=t("_baseEditor"),o&&o.__esModule&&o||{"default":o}).BaseEditor,C=(a=t("eventManager"),a&&a.__esModule&&a||{"default":a}).eventManager,_=(s=t("editors"),s&&s.__esModule&&s||{"default":s}),E=(_.getEditor,_.registerEditor),T=(l=t("helpers/unicode"),l&&l.__esModule&&l||{"default":l}).KEY_CODES,k=(u=t("helpers/dom/event"),u&&u.__esModule&&u||{"default":u}),S=k.stopPropagation,$=k.stopImmediatePropagation,M=k.isImmediatePropagationStopped,A=x.prototype.extend();A.prototype.init=function(){var t=this;this.createElements(),this.eventManager=C(this),this.bindEvents(),this.autoResize=b(),this.instance.addHook("afterDestroy",function(){t.destroy()})},A.prototype.getValue=function(){return this.TEXTAREA.value},A.prototype.setValue=function(t){this.TEXTAREA.value=t};var R=function(t){var e,n=this,r=n.getActiveEditor();if(e=(t.ctrlKey||t.metaKey)&&!t.altKey,t.target===r.TEXTAREA&&!M(t)){if(17===t.keyCode||224===t.keyCode||91===t.keyCode||93===t.keyCode)return void $(t);switch(t.keyCode){case T.ARROW_RIGHT:r.isInFullEditMode()&&(!r.isWaiting()&&!r.allowKeyEventPropagation||!r.isWaiting()&&r.allowKeyEventPropagation&&!r.allowKeyEventPropagation(t.keyCode))&&$(t);break;case T.ARROW_LEFT:r.isInFullEditMode()&&(!r.isWaiting()&&!r.allowKeyEventPropagation||!r.isWaiting()&&r.allowKeyEventPropagation&&!r.allowKeyEventPropagation(t.keyCode))&&$(t);break;case T.ARROW_UP:case T.ARROW_DOWN:r.isInFullEditMode()&&(!r.isWaiting()&&!r.allowKeyEventPropagation||!r.isWaiting()&&r.allowKeyEventPropagation&&!r.allowKeyEventPropagation(t.keyCode))&&$(t);break;case T.ENTER:var i=r.instance.getSelected(),o=!(i[0]===i[2]&&i[1]===i[3]);if(e&&!o||t.altKey){if(r.isOpened()){var a=d(r.TEXTAREA),s=r.getValue(),l=s.slice(0,a)+"\n"+s.slice(a);r.setValue(l),w(r.TEXTAREA,a+1)}else r.beginEditing(r.originalValue+"\n");$(t)}t.preventDefault();break;case T.A:case T.X:case T.C:case T.V:e&&$(t);break;case T.BACKSPACE:case T.DELETE:case T.HOME:case T.END:$(t)}-1===[T.ARROW_UP,T.ARROW_RIGHT,T.ARROW_DOWN,T.ARROW_LEFT].indexOf(t.keyCode)&&r.autoResize.resize(String.fromCharCode(t.keyCode))}};A.prototype.open=function(){this.refreshDimensions(),this.instance.addHook("beforeKeyDown",R)},A.prototype.close=function(){this.textareaParentStyle.display="none",this.autoResize.unObserve(),document.activeElement===this.TEXTAREA&&this.instance.listen(),this.instance.removeHook("beforeKeyDown",R)},A.prototype.focus=function(){this.TEXTAREA.focus(),w(this.TEXTAREA,this.TEXTAREA.value.length)},A.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA"),h(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),h(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement.appendChild(this.TEXTAREA_PARENT);var t=this;this.instance._registerTimeout(setTimeout(function(){t.refreshDimensions()},0))},A.prototype.checkEditorSection=function(){return this.row<this.instance.getSettings().fixedRowsTop?this.col<this.instance.getSettings().fixedColumnsLeft?"corner":"top":this.col<this.instance.getSettings().fixedColumnsLeft?"left":void 0},A.prototype.getEditedCell=function(){var t,e=this.checkEditorSection();switch(e){case"top":t=this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=101;break;case"corner":t=this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"left":t=this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;default:t=this.instance.getCell(this.row,this.col),this.textareaParentStyle.zIndex=""}return-1!=t&&-2!=t?t:void 0},A.prototype.refreshDimensions=function(){if(this.state===Handsontable.EditorState.EDITING){if(this.TD=this.getEditedCell(),!this.TD)return void this.close();var t,e=v(this.TD),n=v(this.instance.rootElement),r=g(this.TD),i=e.top-n.top-1-(r.scrollTop||0),o=e.left-n.left-1-(r.scrollLeft||0),a=this.instance.getSettings(),s=(a.rowHeaders?1:0,a.colHeaders?1:0,this.checkEditorSection()),l=this.TD.style.backgroundColor;switch(s){case"top":t=p(this.instance.view.wt.wtOverlays.topOverlay.clone.wtTable.holder.parentNode);break;case"left":t=p(this.instance.view.wt.wtOverlays.leftOverlay.clone.wtTable.holder.parentNode);break;case"corner":t=p(this.instance.view.wt.wtOverlays.topLeftCornerOverlay.clone.wtTable.holder.parentNode)}0===this.instance.getSelected()[0]&&(i+=1),0===this.instance.getSelected()[1]&&(o+=1),t&&-1!=t?this.textareaParentStyle[t[0]]=t[1]:y(this.textareaParentStyle),this.textareaParentStyle.top=i+"px",this.textareaParentStyle.left=o+"px";var u=this.TD.offsetTop-this.instance.view.wt.wtOverlays.topOverlay.getScrollPosition(),c=this.TD.offsetLeft-this.instance.view.wt.wtOverlays.leftOverlay.getScrollPosition(),h=m(this.TD)-8,d=this.instance.view.maximumVisibleElementWidth(c)-9,w=this.TD.scrollHeight+1,b=Math.max(this.instance.view.maximumVisibleElementHeight(u)-2,23),x=f(this.TD);this.TEXTAREA.style.fontSize=x.fontSize,this.TEXTAREA.style.fontFamily=x.fontFamily,this.TEXTAREA.style.backgroundColor="",this.TEXTAREA.style.backgroundColor=l?l:f(this.TEXTAREA).backgroundColor,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(w,b),maxHeight:b,minWidth:Math.min(h,d),maxWidth:d},!0),this.textareaParentStyle.display="block"}},A.prototype.bindEvents=function(){var t=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(t){S(t)}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(t){S(t)}),this.instance.addHook("afterScrollVertically",function(){t.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){t.refreshDimensions(),t.focus()}),this.instance.addHook("afterRowResize",function(){t.refreshDimensions(),t.focus()}),this.instance.addHook("afterDestroy",function(){t.eventManager.destroy()})},A.prototype.destroy=function(){this.eventManager.destroy()},E("text",A)},{_baseEditor:29,autoResize:"autoResize",editors:28,eventManager:40,"helpers/dom/element":44,"helpers/dom/event":45,"helpers/unicode":52}],40:[function(t,e,n){"use strict";function r(t,e){var n,r,i,o,a,s="HOT-TABLE";if(e.isTargetWebComponent=!1,e.realTarget=e.target,!Handsontable.eventManager.isHotTableEnv)return e;for(e=l(e),a=e.path?e.path.length:0;a--;){if(e.path[a].nodeName===s)n=!0;else if(n&&e.path[a].shadowRoot){o=e.path[a];break}0!==a||o||(o=e.path[a])}return o||(o=e.target),e.isTargetWebComponent=!0,c()?e.realTarget=e.srcElement||e.toElement:(t instanceof Handsontable.Core||t instanceof Walkontable)&&(t instanceof Handsontable.Core?r=t.view?t.view.wt.wtTable.TABLE:null:t instanceof Walkontable&&(r=t.wtTable.TABLE.parentNode.parentNode),i=u(e.target,[s],r),e.realTarget=i?r.querySelector(s)||e.target:e.target),Object.defineProperty(e,"target",{get:function(){return l(o)},enumerable:!0,configurable:!0}),e}function i(t){return new h(t)}Object.defineProperties(n,{EventManager:{get:function(){return h}},eventManager:{get:function(){return i}},__esModule:{value:!0}});var o,a,s=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),l=s.polymerWrap,u=s.closest,c=(a=t("helpers/browser"),a&&a.__esModule&&a||{"default":a}).isWebComponentSupportedNatively,h=function(){var t=void 0!==arguments[0]?arguments[0]:null;this.context=t||this,this.context.eventListeners||(this.context.eventListeners=[])};$traceurRuntime.createClass(h,{addEventListener:function(t,e,n){function i(t){void 0==t.target&&void 0!=t.srcElement&&(t.definePoperty?t.definePoperty("target",{value:t.srcElement}):t.target=t.srcElement),void 0==t.preventDefault&&(t.definePoperty?t.definePoperty("preventDefault",{value:function(){this.returnValue=!1}}):t.preventDefault=function(){this.returnValue=!1}),t=r(a,t),n.call(this,t)}var o=this,a=this.context;return this.context.eventListeners.push({element:t,event:e,callback:n,callbackProxy:i}),window.addEventListener?t.addEventListener(e,i,!1):t.attachEvent("on"+e,i),Handsontable.countEventManagerListeners++,function(){o.removeEventListener(t,e,n)}},removeEventListener:function(t,e,n){for(var r,i=this.context.eventListeners.length;i--;)if(r=this.context.eventListeners[i],r.event==e&&r.element==t){if(n&&n!=r.callback)continue;this.context.eventListeners.splice(i,1),r.element.removeEventListener?r.element.removeEventListener(r.event,r.callbackProxy,!1):r.element.detachEvent("on"+r.event,r.callbackProxy),Handsontable.countEventManagerListeners--}},clearEvents:function(){if(this.context)for(var t=this.context.eventListeners.length;t--;){var e=this.context.eventListeners[t];e&&this.removeEventListener(e.element,e.event,e.callback)}},clear:function(){this.clearEvents()},destroy:function(){this.clearEvents(),this.context=null},fireEvent:function(t,e){var n,r={bubbles:!0,cancelable:"mousemove"!==e,view:window,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0};document.createEvent?(n=document.createEvent("MouseEvents"),n.initMouseEvent(e,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget||document.body.parentNode)):n=document.createEventObject(),t.dispatchEvent?t.dispatchEvent(n):t.fireEvent("on"+e,n)}},{}),window.Handsontable=window.Handsontable||{},Handsontable.countEventManagerListeners=0,Handsontable.eventManager=i},{"helpers/browser":42,"helpers/dom/element":44}],41:[function(t,e,n){"use strict";function r(t){for(var e=0,n=t.length;n>e;)t[e]=[t[e]],e++}function i(t,e){for(var n=0,r=e.length;r>n;)t.push(e[n]),n++}function o(t){var e=[];if(!t||0===t.length||!t[0]||0===t[0].length)return e;for(var n=t.length,r=t[0].length,i=0;n>i;i++)for(var o=0;r>o;o++)e[o]||(e[o]=[]),e[o][i]=t[i][o];return e}function a(t,e,n,r){var i=-1,o=t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function s(t,e){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[++i]=a)}return o}function l(t,e){for(var n=-1,r=t.length;++n<r&&e(t[n],n,t)!==!1;);return t}function u(t){return a(t,function(t,e){return t+e},0)}function c(t){return t.length?u(t)/t.length:0}Object.defineProperties(n,{to2dArray:{get:function(){return r}},extendArray:{get:function(){return i}},pivot:{get:function(){return o}},arrayFilter:{get:function(){return s}},arrayEach:{get:function(){return l}},arraySum:{get:function(){return u}},arrayAvg:{get:function(){return c}},__esModule:{value:!0}})},{}],42:[function(t,e,n){"use strict";function r(){return f}function i(){return p}function o(){return g}function a(){return m}function s(t){return t||(t=navigator.userAgent),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)}function l(){return"ontouchstart"in window}function u(){var t=document.createElement("div");return t.createShadowRoot&&t.createShadowRoot.toString().match(/\[native code\]/)?!0:!1}function c(){var t=document.createElement("TABLE");t.style.borderSpacing=0,t.style.borderWidth=0,t.style.padding=0;var e=document.createElement("TBODY");t.appendChild(e),e.appendChild(document.createElement("TR")),e.firstChild.appendChild(document.createElement("TD")),e.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var n=document.createElement("CAPTION");n.innerHTML="c<br>c<br>c<br>c",n.style.padding=0,n.style.margin=0,t.insertBefore(n,e),document.body.appendChild(t),d=t.offsetHeight<2*t.lastChild.offsetHeight,document.body.removeChild(t)}function h(){return void 0===d&&c(),d}Object.defineProperties(n,{isIE8:{get:function(){return r}},isIE9:{get:function(){return i}},isSafari:{get:function(){return o}},isChrome:{get:function(){return a}},isMobileBrowser:{get:function(){return s}},isTouchSupported:{get:function(){return l}},isWebComponentSupportedNatively:{get:function(){return u}},hasCaptionProblem:{get:function(){return h}},__esModule:{value:!0}});var d,f=!document.createTextNode("test").textContent,p=!!document.documentMode,g=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor),m=/Chrome/.test(navigator.userAgent)&&/Google/.test(navigator.vendor)},{}],43:[function(t,e,n){"use strict";function r(t){for(var e,n=t+1,r="";n>0;)e=(n-1)%26,r=String.fromCharCode(65+e)+r,n=parseInt((n-e)/26,10);return r}function i(t,e){t="number"==typeof t?t:100,e="number"==typeof e?e:4;var n,i,o=[];for(n=0;t>n;n++){var a=[];for(i=0;e>i;i++)a.push(r(i)+(n+1));o.push(a)}return o}function o(t,e){t="number"==typeof t?t:100,e="number"==typeof e?e:4;var n,i,o=[];for(n=0;t>n;n++){var a={};for(i=0;e>i;i++)a["prop"+i]=r(i)+(n+1);o.push(a)}return o}function a(t){var e,n,r,i,o=[],a=0;for(e=0,n=t.length;n>e;e++)for(r=0,i=t[e].length;i>r;r++)r==a&&(o.push([]),a++),o[r].push(t[e][r]);return o}function s(t,e){function n(t){var e=Handsontable.cellTypes[t];if("undefined"==typeof e)throw new Error('You declared cell type "'+t+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');return e}return e="undefined"==typeof e?!0:e,function(r,i){return function o(r){if(r){if(r.hasOwnProperty(t)&&void 0!==r[t])return r[t];if(r.hasOwnProperty("type")&&r.type){var i;if("string"!=typeof r.type)throw new Error("Cell type must be a string ");if(i=n(r.type),i.hasOwnProperty(t))return i[t];if(e)return}return o(u(r))}}("number"==typeof r?this.getCellMeta(r,i):r)}}Object.defineProperties(n,{spreadsheetColumnLabel:{get:function(){return r}},createSpreadsheetData:{get:function(){return i}},createSpreadsheetObjectData:{get:function(){return o}},translateRowsToColumns:{get:function(){return a}},cellMethodLookupFactory:{get:function(){return s}},__esModule:{value:!0}});var l,u=(l=t("object"),l&&l.__esModule&&l||{"default":l}).getPrototypeOf},{object:49}],44:[function(t,e,n){"use strict";function r(t,e,n){for(;null!=t&&t!==n;){if(t.nodeType===Node.ELEMENT_NODE&&(e.indexOf(t.nodeName)>-1||e.indexOf(t)>-1))return t;t=t.host&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE?t.host:t.parentNode}return null}function i(t,e){var n=t.parentNode,r=[];for("string"==typeof e?r=Array.prototype.slice.call(document.querySelectorAll(e),0):r.push(e);null!=n;){if(r.indexOf(n)>-1)return!0;n=n.parentNode}return!1}function o(t){function e(t){return t.nodeType===Node.ELEMENT_NODE&&t.nodeName===r.toUpperCase()}var n,r="hot-table",i=!1;for(n=a(t);null!=n;){if(e(n)){i=!0;break}if(n.host&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(i=e(n.host))break;n=n.host}n=n.parentNode}return i}function a(t){return"undefined"!=typeof Polymer&&"function"==typeof wrap?wrap(t):t}function s(t){return"undefined"!=typeof Polymer&&"function"==typeof unwrap?unwrap(t):t}function l(t){var e=0;if(t.previousSibling)for(;t=t.previousSibling;)++e;return e}function u(t,e){var n=document.querySelector(".ht_clone_"+t);return n?n.contains(e):null}function c(t){var e=0,n=[];if(!t||!t.length)return n;for(;t[e];)n.push(t[e]),e++;return n}function h(t,e){return Y(t,e)}function d(t,e){return G(t,e)}function f(t,e){return X(t,e)}function p(t,e){if(3===t.nodeType)e.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1)for(var n=t.childNodes,r=n.length-1;r>=0;r--)p(n[r],t)}function g(t){for(var e;e=t.lastChild;)t.removeChild(e)}function m(t,e){ot.test(e)?t.innerHTML=e:v(t,e)}function v(t,e){var n=t.firstChild;n&&3===n.nodeType&&null===n.nextSibling?at?n.textContent=e:n.data=e:(g(t),t.appendChild(document.createTextNode(e)))}function y(t){for(var e=t;s(e)!==document.documentElement;){if(null===e)return!1;if(e.nodeType===Node.DOCUMENT_FRAGMENT_NODE){if(e.host){if(e.host.impl)return y(e.host.impl);if(e.host)return y(e.host);throw new Error("Lost in Web Components world")}return!1}if("none"===e.style.display)return!1;e=e.parentNode}return!0}function w(t){var e,n,r,i,o;if(i=document.documentElement,tt()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName)return o=t.getBoundingClientRect(),{top:o.top+(window.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(window.pageXOffset||i.scrollLeft)-(i.clientLeft||0)};for(e=t.offsetLeft,n=t.offsetTop,r=t;(t=t.offsetParent)&&t!==document.body;)e+=t.offsetLeft,n+=t.offsetTop,r=t;return r&&"fixed"===r.style.position&&(e+=window.pageXOffset||i.scrollLeft,n+=window.pageYOffset||i.scrollTop),{left:e,top:n}}function b(){var t=window.scrollY;return void 0===t&&(t=document.documentElement.scrollTop),t}function x(){var t=window.scrollX;return void 0===t&&(t=document.documentElement.scrollLeft),t}function C(t){return t===window?b():t.scrollTop}function _(t){return t===window?x():t.scrollLeft}function E(t){for(var e,n,r,i=t.parentNode,o=["auto","scroll"],a="",s="",l="",u="";i&&i.style&&document.body!==i;){if(e=i.style.overflow,n=i.style.overflowX,r=i.style.overflowY,"scroll"==e||"scroll"==n||"scroll"==r)return i;if(window.getComputedStyle&&(a=window.getComputedStyle(i),s=a.getPropertyValue("overflow"),l=a.getPropertyValue("overflow-y"),u=a.getPropertyValue("overflow-x"),"scroll"===s||"scroll"===u||"scroll"===l))return i;if(i.clientHeight<=i.scrollHeight&&(-1!==o.indexOf(r)||-1!==o.indexOf(e)||-1!==o.indexOf(s)||-1!==o.indexOf(l)))return i;if(i.clientWidth<=i.scrollWidth&&(-1!==o.indexOf(n)||-1!==o.indexOf(e)||-1!==o.indexOf(s)||-1!==o.indexOf(u)))return i;i=i.parentNode}return window}function T(t){for(var e=t.parentNode;e&&e.style&&document.body!==e;){if("visible"!==e.style.overflow&&""!==e.style.overflow)return e;if(window.getComputedStyle){var n=window.getComputedStyle(e);if("visible"!==n.getPropertyValue("overflow")&&""!==n.getPropertyValue("overflow"))return e}e=e.parentNode}return window}function k(t,e){if(t){if(t!==window){var n,r=t.style[e];return""!==r&&void 0!==r?r:(n=S(t),""!==n[e]&&void 0!==n[e]?n[e]:void 0)}if("width"===e)return window.innerWidth+"px";if("height"===e)return window.innerHeight+"px"}}function S(t){return t.currentStyle||document.defaultView.getComputedStyle(t)}function $(t){return t.offsetWidth}function M(t){return tt()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName?t.offsetHeight+t.firstChild.offsetHeight:t.offsetHeight}function A(t){return t.clientHeight||t.innerHeight}function R(t){return t.clientWidth||t.innerWidth}function D(t,e,n){window.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)}function O(t,e,n){window.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)}function P(t){if(t.selectionStart)return t.selectionStart;if(document.selection){t.focus();var e=document.selection.createRange();if(null==e)return 0;var n=t.createTextRange(),r=n.duplicate();return n.moveToBookmark(e.getBookmark()),r.setEndPoint("EndToStart",n),r.text.length}return 0}function H(t){if(t.selectionEnd)return t.selectionEnd;if(document.selection){var e=document.selection.createRange();if(null==e)return 0;var n=t.createTextRange();return n.text.indexOf(e.text)+e.text.length}}function L(t,e,n){if(void 0===n&&(n=e),t.setSelectionRange){t.focus();try{t.setSelectionRange(e,n)}catch(r){var i=t.parentNode,o=i.style.display;i.style.display="block",t.setSelectionRange(e,n),i.style.display=o}}else if(t.createTextRange){var a=t.createTextRange();a.collapse(!0),a.moveEnd("character",n),a.moveStart("character",e),a.select()}}function N(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),(document.body||document.documentElement).appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var r=t.offsetWidth;return n==r&&(r=e.clientWidth),(document.body||document.documentElement).removeChild(e),n-r}function I(){return void 0===it&&(it=N()),it}function B(t,e,n){Z()||J()?(t.style.top=n,t.style.left=e):Q()?t.style["-webkit-transform"]="translate3d("+e+","+n+",0)":t.style.transform="translate3d("+e+","+n+",0)"}function j(t){var e;return t.style.transform&&""!==(e=t.style.transform)?["transform",e]:t.style["-webkit-transform"]&&""!==(e=t.style["-webkit-transform"])?["-webkit-transform",e]:-1}function F(t){t.transform&&""!==t.transform?t.transform="":t["-webkit-transform"]&&""!==t["-webkit-transform"]&&(t["-webkit-transform"]="")}function V(t){var e=["INPUT","SELECT","TEXTAREA"];return e.indexOf(t.nodeName)>-1||"true"===t.contentEditable}function q(t){return V(t)&&-1==t.className.indexOf("handsontableInput")&&-1==t.className.indexOf("copyPaste")}function z(t){return ut.call(window,t)}function W(t){ct.call(window,t)}Object.defineProperties(n,{closest:{get:function(){return r}},isChildOf:{get:function(){return i}},isChildOfWebComponentTable:{get:function(){return o}},polymerWrap:{get:function(){return a}},polymerUnwrap:{get:function(){return s}},index:{get:function(){return l}},overlayContainsElement:{get:function(){return u}},hasClass:{get:function(){return h}},addClass:{get:function(){return d}},removeClass:{get:function(){return f}},removeTextNodes:{get:function(){return p}},empty:{get:function(){return g}},HTML_CHARACTERS:{get:function(){return ot}},fastInnerHTML:{get:function(){return m}},fastInnerText:{get:function(){return v}},isVisible:{get:function(){return y}},offset:{get:function(){return w}},getWindowScrollTop:{get:function(){return b}},getWindowScrollLeft:{get:function(){return x}},getScrollTop:{get:function(){return C}},getScrollLeft:{get:function(){return _}},getScrollableElement:{get:function(){return E}},getTrimmingContainer:{get:function(){return T}},getStyle:{get:function(){return k}},getComputedStyle:{get:function(){return S}},outerWidth:{get:function(){return $}},outerHeight:{get:function(){return M}},innerHeight:{get:function(){return A}},innerWidth:{get:function(){return R}},addEvent:{get:function(){return D}},removeEvent:{get:function(){return O}},getCaretPosition:{get:function(){return P}},getSelectionEndPosition:{get:function(){return H}},setCaretPosition:{get:function(){return L}},getScrollbarWidth:{get:function(){return I}},setOverlayPosition:{get:function(){return B}},getCssTransform:{get:function(){return j}},resetCssTransform:{get:function(){return F}},isInput:{get:function(){return V}},isOutsideInput:{get:function(){return q}},requestAnimationFrame:{get:function(){return z}},cancelAnimationFrame:{get:function(){return W}},__esModule:{value:!0}});var U,Y,G,X,K=(U=t("../browser"),U&&U.__esModule&&U||{"default":U}),Z=K.isIE8,J=K.isIE9,Q=K.isSafari,tt=K.hasCaptionProblem,et=document.documentElement.classList?!0:!1;if(et){var nt=function(){var t=document.createElement("div");return t.classList.add("test","test2"),t.classList.contains("test2")}();Y=function(t,e){return""===e?!1:t.classList.contains(e)},G=function(t,e){var n=0;if("string"==typeof e&&(e=e.split(" ")),e=c(e),nt)t.classList.add.apply(t.classList,e);else for(;e&&e[n];)t.classList.add(e[n]),n++},X=function(t,e){var n=0;if("string"==typeof e&&(e=e.split(" ")),e=c(e),nt)t.classList.remove.apply(t.classList,e);else for(;e&&e[n];)t.classList.remove(e[n]),n++}}else{var rt=function(t){return new RegExp("(\\s|^)"+t+"(\\s|$)")};Y=function(t,e){return t.className.match(rt(e))?!0:!1},G=function(t,e){var n=0,r=t.className;if("string"==typeof e&&(e=e.split(" ")),""===r)r=e.join(" ");else for(;e&&e[n];)rt(e[n]).test(r)||(r+=" "+e[n]),n++;t.className=r},X=function(t,e){var n=0,r=t.className;for("string"==typeof e&&(e=e.split(" "));e&&e[n];)r=r.replace(rt(e[n])," ").trim(),n++;t.className!==r&&(t.className=r)}}for(var it,ot=/(<(.*)>|&(.*);)/,at=document.createTextNode("test").textContent?!0:!1,st=0,lt=["ms","moz","webkit","o"],ut=window.requestAnimationFrame,ct=window.cancelAnimationFrame,ht=0;ht<lt.length&&!ut;++ht)ut=window[lt[ht]+"RequestAnimationFrame"],ct=window[lt[ht]+"CancelAnimationFrame"]||window[lt[ht]+"CancelRequestAnimationFrame"];ut||(ut=function(t){var e=(new Date).getTime(),n=Math.max(0,16-(e-st)),r=window.setTimeout(function(){t(e+n)},n);return st=e+n,r}),ct||(ct=function(t){clearTimeout(t)})},{"../browser":42}],45:[function(t,e,n){"use strict";function r(t){t.isImmediatePropagationEnabled=!1,t.cancelBubble=!0}function i(t){return t.isImmediatePropagationEnabled===!1}function o(t){"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0}function a(t){if(t.pageX)return t.pageX;var e=getWindowScrollLeft(),n=t.clientX+e;return n}function s(t){if(t.pageY)return t.pageY;var e=getWindowScrollTop(),n=t.clientY+e;return n}Object.defineProperties(n,{stopImmediatePropagation:{get:function(){return r}},isImmediatePropagationStopped:{get:function(){return i}},stopPropagation:{get:function(){return o}},pageX:{get:function(){return a}},pageY:{get:function(){return s}},__esModule:{value:!0}})},{}],46:[function(t,e,n){"use strict";function r(t,e){return function(){return t.apply(e,arguments)}}function i(t){function e(){var e=this,a=arguments,s=Date.now(),l=!1;i.lastCallThrottled=!0,r||(r=s,l=!0);var u=n-(s-r);return l?(i.lastCallThrottled=!1,t.apply(this,a)):(o&&clearTimeout(o),o=setTimeout(function(){i.lastCallThrottled=!1,t.apply(e,a),r=0,o=void 0},u)),i}var n=void 0!==arguments[1]?arguments[1]:200,r=0,i={lastCallThrottled:!0},o=null;return e}function o(t){function e(){s=o}function n(){return s?(s--,t.apply(this,arguments)):a.apply(this,arguments)}var r=void 0!==arguments[1]?arguments[1]:200,o=void 0!==arguments[2]?arguments[2]:10,a=i(t,r),s=o;return n.clearHits=e,n}Object.defineProperties(n,{proxy:{get:function(){return r}},throttle:{get:function(){return i}},throttleAfterHits:{get:function(){return o}},__esModule:{value:!0}})},{}],47:[function(t,e,n){"use strict";function r(t){switch(typeof t){case"string":case"number":return t+"";case"object":return null===t?"":t.toString();case"undefined":return"";default:return t.toString()}}Object.defineProperties(n,{stringify:{get:function(){return r}},__esModule:{value:!0}})},{}],48:[function(t,e,n){"use strict";function r(t){var e=typeof t;return"number"==e?!isNaN(t)&&isFinite(t):"string"==e?t.length?1==t.length?/\d/.test(t):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(t):!1:"object"==e?!(!t||"number"!=typeof t.valueOf()||t instanceof Date):!1}function i(t,e,n){var r=-1;for("function"==typeof e?(n=e,e=t):r=t-1;++r<=e&&n(r)!==!1;);}function o(t,e){return e=parseInt(e.toString().replace("%",""),10),e=parseInt(t*e/100)}Object.defineProperties(n,{isNumeric:{get:function(){return r}},rangeEach:{get:function(){return i}},valueAccordingPercent:{get:function(){return o}},__esModule:{value:!0}})},{}],49:[function(t,e,n){"use strict";function r(t){var e;return Array.isArray(t)?e=[]:(e={},f(t,function(t,n){e[n]=t&&"object"==typeof t&&!Array.isArray(t)?r(t):Array.isArray(t)?t.length&&"object"==typeof t[0]&&!Array.isArray(t[0])?[r(t[0])]:[]:null})),e}function i(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t}function o(t,e){f(e,function(e,n){t[n]=e})}function a(t,e){f(e,function(n,r){e[r]&&"object"==typeof e[r]?(t[r]||(t[r]=Array.isArray(e[r])?[]:{}),a(t[r],e[r])):t[r]=e[r]})}function s(t){return"object"==typeof t?JSON.parse(JSON.stringify(t)):t}function l(t){var e={};return f(t,function(t,n){return e[n]=t}),e}function u(t,e){return JSON.stringify(t)===JSON.stringify(e)}function c(t){return"[object Object]"==Object.prototype.toString.call(t)}function h(t){var e;if("object"==typeof t.__proto__)e=t.__proto__;else{var n,r=t.constructor;"function"==typeof t.constructor&&(n=r,delete t.constructor&&(r=t.constructor,t.constructor=n)),e=r?r.prototype:null}return e}function d(t,e,n,r){r.value=n,r.writable=r.writable===!1?!1:!0,r.enumerable=r.enumerable===!1?!1:!0,r.configurable=r.configurable===!1?!1:!0,Object.defineProperty(t,e,r)}function f(t,e){for(var n in t)if((!t.hasOwnProperty||t.hasOwnProperty&&t.hasOwnProperty(n))&&e(t[n],n,t)===!1)break;return t}Object.defineProperties(n,{duckSchema:{get:function(){return r}},inherit:{get:function(){return i}},extend:{get:function(){return o}},deepExtend:{get:function(){return a}},deepClone:{get:function(){return s}},clone:{get:function(){return l}},isObjectEquals:{get:function(){return u}},isObject:{get:function(){return c}},getPrototypeOf:{get:function(){return h}},defineGetter:{get:function(){return d}},objectEach:{get:function(){return f}},__esModule:{value:!0}})},{}],50:[function(t,e,n){"use strict";function r(t,e){function n(){}o(n,t);for(var r=0,i=e.length;i>r;r++)n.prototype[e[r]]=void 0;return n}Object.defineProperties(n,{columnFactory:{get:function(){return r}},__esModule:{value:!0}});var i,o=(i=t("object"),i&&i.__esModule&&i||{"default":i}).inherit},{object:49}],51:[function(t,e,n){"use strict";function r(t){return t[0].toUpperCase()+t.substr(1)}function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=[],r=t.length;r--;){var i=l(t[r]).toLowerCase();-1===n.indexOf(i)&&n.push(i)}return 1===n.length}function o(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()}function a(t){return/^([0-9][0-9]?\%$)|(^100\%$)/.test(t)}Object.defineProperties(n,{toUpperCaseFirst:{get:function(){return r}},equalsIgnoreCase:{get:function(){return i}},randomString:{get:function(){return o}},isPercentValue:{get:function(){return a}},__esModule:{value:!0}});var s,l=(s=t("mixed"),s&&s.__esModule&&s||{"default":s}).stringify},{mixed:47}],52:[function(t,e,n){"use strict";function r(t){return 32==t||t>=48&&57>=t||t>=96&&111>=t||t>=186&&192>=t||t>=219&&222>=t||t>=226||t>=65&&90>=t}function i(t){var e=[u.ARROW_DOWN,u.ARROW_UP,u.ARROW_LEFT,u.ARROW_RIGHT,u.HOME,u.END,u.DELETE,u.BACKSPACE,u.F1,u.F2,u.F3,u.F4,u.F5,u.F6,u.F7,u.F8,u.F9,u.F10,u.F11,u.F12,u.TAB,u.PAGE_DOWN,u.PAGE_UP,u.ENTER,u.ESCAPE,u.SHIFT,u.CAPS_LOCK,u.ALT];return-1!==e.indexOf(t)}function o(t){return-1!==[u.CONTROL_LEFT,224,u.COMMAND_LEFT,u.COMMAND_RIGHT].indexOf(t)}function a(t,e){var n=e.split("|"),r=!1;return l(n,function(e){return t===u[e]?(r=!0,!1):void 0}),r}Object.defineProperties(n,{KEY_CODES:{get:function(){return u}},isPrintableChar:{get:function(){return r}},isMetaKey:{get:function(){return i}},isCtrlKey:{get:function(){return o}},isKey:{
get:function(){return a}},__esModule:{value:!0}});var s,l=(s=t("array"),s&&s.__esModule&&s||{"default":s}).arrayEach,u={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL_LEFT:91,COMMAND_LEFT:17,COMMAND_RIGHT:93,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86}},{array:41}],53:[function(t,e,n){"use strict";function r(){function t(t){return null!==t&&!n(t)&&("string"==typeof t||"number"==typeof t)}function e(t){return null!==t&&("object"==typeof t||"function"==typeof t)}function n(t){return t!==t}var r={arrayMap:[],weakMap:new WeakMap};return{get:function(n){return t(n)?r.arrayMap[n]:e(n)?r.weakMap.get(n):void 0},set:function(n,i){if(t(n))r.arrayMap[n]=i;else{if(!e(n))throw new Error("Invalid key type");r.weakMap.set(n,i)}},"delete":function(n){t(n)?delete r.arrayMap[n]:e(n)&&r.weakMap["delete"](n)}}}Object.defineProperties(n,{MultiMap:{get:function(){return r}},__esModule:{value:!0}}),window.MultiMap=r},{}],54:[function(t,e,n){"use strict";Object.defineProperties(n,{Hooks:{get:function(){return u}},__esModule:{value:!0}});var r,i,o,a=["afterCellMetaReset","afterChange","afterChangesObserved","afterColumnMove","afterColumnResize","afterContextMenuDefaultOptions","afterContextMenuHide","afterContextMenuShow","afterCopyLimit","afterCreateCol","afterCreateRow","afterDeselect","afterDestroy","afterDocumentKeyDown","afterGetCellMeta","afterGetColHeader","afterGetRowHeader","afterInit","afterIsMultipleSelectionCheck","afterLoadData","afterMomentumScroll","afterOnCellCornerMouseDown","afterOnCellMouseDown","afterOnCellMouseOver","afterRemoveCol","afterRemoveRow","afterRender","afterRenderer","afterRowMove","afterRowResize","afterScrollHorizontally","afterScrollVertically","afterSelection","afterSelectionByProp","afterSelectionEnd","afterSelectionEndByProp","afterSetCellMeta","afterUpdateSettings","afterValidate","beforeAutofill","beforeCellAlignment","beforeChange","beforeChangeRender","beforeDrawBorders","beforeGetCellMeta","beforeInit","beforeInitWalkontable","beforeKeyDown","beforeOnCellMouseDown","beforeRemoveCol","beforeRemoveRow","beforeRender","beforeSetRangeEnd","beforeTouchScroll","beforeValidate","construct","init","modifyCol","modifyColWidth","modifyRow","modifyRowHeight","persistentStateLoad","persistentStateReset","persistentStateSave"],s=((r=t("eventManager"),r&&r.__esModule&&r||{"default":r}).EventManager,(i=t("helpers/array"),i&&i.__esModule&&i||{"default":i}).arrayEach),l=(o=t("helpers/object"),o&&o.__esModule&&o||{"default":o}).objectEach,u=function(){this.globalBucket=this.createEmptyBucket()};$traceurRuntime.createClass(u,{createEmptyBucket:function(){var t=Object.create(null);return s(a,function(e){return t[e]=[]}),t},getBucket:function(){var t=void 0!==arguments[0]?arguments[0]:null;return t?(t.pluginHookBucket||(t.pluginHookBucket=this.createEmptyBucket()),t.pluginHookBucket):this.globalBucket},add:function(t,e){var n=void 0!==arguments[2]?arguments[2]:null,r=this;if(Array.isArray(e))s(e,function(e){return r.add(t,e,n)});else{var i=this.getBucket(n);"undefined"==typeof i[t]&&(this.register(t),i[t]=[]),e.skip=!1,-1===i[t].indexOf(e)&&i[t].push(e)}return this},once:function(t,e){var n=void 0!==arguments[2]?arguments[2]:null,r=this;Array.isArray(e)?s(e,function(e){return r.once(t,e,n)}):(e.runOnce=!0,this.add(t,e,n))},remove:function(t,e){var n=void 0!==arguments[2]?arguments[2]:null,r=this.getBucket(n);return"undefined"!=typeof r[t]&&r[t].indexOf(e)>=0?(e.skip=!0,!0):!1},run:function(t,e,n,r,i,o,a,s){var l=this.globalBucket[e],u=-1,c=l?l.length:0;if(c)for(;++u<c;)if(l[u]&&!l[u].skip){var h=l[u].call(t,n,r,i,o,a,s);void 0!==h&&(n=h),l[u]&&l[u].runOnce&&this.remove(e,l[u])}var d=this.getBucket(t)[e],f=-1,p=d?d.length:0;if(p)for(;++f<p;)if(d[f]&&!d[f].skip){var g=d[f].call(t,n,r,i,o,a,s);void 0!==g&&(n=g),d[f]&&d[f].runOnce&&this.remove(e,d[f],t)}return n},destroy:function(){var t=void 0!==arguments[0]?arguments[0]:null;l(this.getBucket(t),function(t,e,n){return n[e].length=0})},register:function(t){this.isRegistered(t)||a.push(t)},deregister:function(t){this.isRegistered(t)&&a.splice(a.indexOf(t),1)},isRegistered:function(t){return a.indexOf(t)>=0},getRegistered:function(){return a}},{}),Handsontable.utils=Handsontable.utils||{},Handsontable.utils.Hooks=u},{eventManager:40,"helpers/array":41,"helpers/object":49}],55:[function(t,e,n){"use strict";function r(t,e){t=c(t),Handsontable.hooks.add("construct",function(){var n;h.has(this)||h.set(this,{}),n=h.get(this),n[t]||(n[t]=new e(this))}),Handsontable.hooks.add("afterDestroy",function(){var t,e;if(h.has(this)){e=h.get(this);for(t in e)e.hasOwnProperty(t)&&e[t].destroy();h["delete"](this)}})}function i(t,e){if("string"!=typeof e)throw Error('Only strings can be passed as "plugin" parameter');var n=c(e);return h.has(t)&&h.get(t)[n]?h.get(t)[n]:void 0}function o(t){return h.has(t)?Object.keys(h.get(t)):[]}function a(t,e){var n=null;return h.has(t)&&u(h.get(t),function(t,r){t===e&&(n=r)}),n}Object.defineProperties(n,{registerPlugin:{get:function(){return r}},getPlugin:{get:function(){return i}},getRegistredPluginNames:{get:function(){return o}},getPluginName:{get:function(){return a}},__esModule:{value:!0}});var s,l,u=(s=t("helpers/object"),s&&s.__esModule&&s||{"default":s}).objectEach,c=(l=t("helpers/string"),l&&l.__esModule&&l||{"default":l}).toUpperCaseFirst,h=new WeakMap},{"helpers/object":49,"helpers/string":51}],56:[function(t,e,n){"use strict";Object.defineProperties(n,{"default":{get:function(){return m}},__esModule:{value:!0}});var r,i,o,a=(r=t("helpers/object"),r&&r.__esModule&&r||{"default":r}),s=a.defineGetter,l=a.objectEach,u=(i=t("helpers/array"),i&&i.__esModule&&i||{"default":i}).arrayEach,c=(o=t("plugins"),o&&o.__esModule&&o||{"default":o}),h=c.getRegistredPluginNames,d=c.getPluginName,f=new WeakMap,p=null,g=function(t){var e=this;s(this,"hot",t,{writable:!1}),f.set(this,{hooks:{}}),p=null,this.pluginsInitializedCallbacks=[],this.isPluginsReady=!1,this.pluginName=null,this.enabled=!1,this.initialized=!1,this.hot.addHook("afterPluginsInitialized",function(){return e.onAfterPluginsInitialized()}),this.hot.addHook("afterUpdateSettings",function(){return e.onUpdateSettings()}),this.hot.addHook("beforeInit",function(){return e.init()})};$traceurRuntime.createClass(g,{init:function(){this.pluginName=d(this.hot,this),this.isEnabled&&this.isEnabled()&&this.enablePlugin(),p||(p=h(this.hot)),p.indexOf(this.pluginName)>=0&&p.splice(p.indexOf(this.pluginName),1),p.length||this.hot.runHooks("afterPluginsInitialized"),this.initialized=!0},enablePlugin:function(){this.enabled=!0},disablePlugin:function(){this.eventManager&&this.eventManager.clear(),this.clearHooks(),this.enabled=!1},addHook:function(t,e){var n=f.get(this).hooks[t]=f.get(this).hooks[t]||[];this.hot.addHook(t,e),n.push(e),f.get(this).hooks[t]=n},removeHooks:function(t){var e=this;u(f.get(this).hooks[t]||[],function(n){e.hot.removeHook(t,n)})},clearHooks:function(){var t=this,e=f.get(this).hooks;l(e,function(e,n){return t.removeHooks(n)}),e.length=0},callOnPluginsReady:function(t){this.isPluginsReady?(this.pluginsInitializedCallbacks.length=0,t()):this.pluginsInitializedCallbacks.push(t)},onAfterPluginsInitialized:function(){u(this.pluginsInitializedCallbacks,function(t){return t()}),this.isPluginsReady=!0},onUpdateSettings:function(){this.isEnabled&&(this.enabled&&!this.isEnabled()&&this.disablePlugin(),!this.enabled&&this.isEnabled()&&this.enablePlugin(),this.enabled&&this.isEnabled()&&this.updatePlugin&&this.updatePlugin())},updatePlugin:function(){},destroy:function(){this.eventManager&&this.eventManager.destroy(),this.clearHooks(),delete this.hot}},{});var m=g},{"helpers/array":41,"helpers/object":49,plugins:55}],57:[function(t,e,n){"use strict";Object.defineProperties(n,{AutoColumnSize:{get:function(){return R}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c,h,d,f=(r=t("_base"),r&&r.__esModule&&r||{"default":r})["default"],p=(i=t("helpers/array"),i&&i.__esModule&&i||{"default":i}),g=p.arrayEach,m=p.arrayFilter,v=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),y=v.cancelAnimationFrame,w=v.requestAnimationFrame,b=v.isVisible,x=(a=t("utils/ghostTable"),a&&a.__esModule&&a||{"default":a}).GhostTable,C=(s=t("helpers/object"),s&&s.__esModule&&s||{"default":s}),_=C.isObject,E=(C.objectEach,l=t("helpers/number"),l&&l.__esModule&&l||{"default":l}),T=E.valueAccordingPercent,k=E.rangeEach,S=(u=t("plugins"),u&&u.__esModule&&u||{"default":u}).registerPlugin,$=(c=t("utils/samplesGenerator"),c&&c.__esModule&&c||{"default":c}).SamplesGenerator,M=(h=t("helpers/string"),h&&h.__esModule&&h||{"default":h}).isPercentValue,A=(d=t("3rdparty/walkontable/src/calculator/viewportColumns"),d&&d.__esModule&&d||{"default":d}).WalkontableViewportColumnsCalculator,R=function(t){var e=this;$traceurRuntime.superConstructor(D).call(this,t),this.widths=[],this.ghostTable=new x(this.hot),this.samplesGenerator=new $(function(t,n){return e.hot.getDataAtCell(t,n)}),this.firstCalculation=!0,this.inProgress=!1,this.addHook("beforeColumnResize",function(t,n,r){return e.onBeforeColumnResize(t,n,r)})},D=R;$traceurRuntime.createClass(R,{isEnabled:function(){return this.hot.getSettings().autoColumnSize!==!1&&!this.hot.getSettings().colWidths},enablePlugin:function(){var t=this;this.enabled||(this.addHook("afterLoadData",function(){return t.onAfterLoadData()}),this.addHook("beforeChange",function(e){return t.onBeforeChange(e)}),this.addHook("beforeRender",function(e){return t.onBeforeRender(e)}),this.addHook("modifyColWidth",function(e,n){return t.getColumnWidth(n,e)}),$traceurRuntime.superGet(this,D.prototype,"enablePlugin").call(this))},disablePlugin:function(){$traceurRuntime.superGet(this,D.prototype,"disablePlugin").call(this)},calculateColumnsWidth:function(){var t=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},e=void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countRows()-1},n=void 0!==arguments[2]?arguments[2]:!1,r=this;"number"==typeof t&&(t={from:t,to:t}),"number"==typeof e&&(e={from:e,to:e}),k(t.from,t.to,function(t){if(n||void 0===r.widths[t]&&!r.hot._getColWidthFromSettings(t)){var i=r.samplesGenerator.generateColumnSamples(t,e);i.forEach(function(t,e){return r.ghostTable.addColumn(e,t)})}}),this.ghostTable.columns.length&&(this.ghostTable.getWidths(function(t,e){return r.widths[t]=e}),this.ghostTable.clean())},calculateAllColumnsWidth:function(){var t=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},e=this,n=0,r=this.hot.countCols()-1,i=null;this.inProgress=!0;var o=function(){return e.hot?(e.calculateColumnsWidth({from:n,to:Math.min(n+D.CALCULATION_STEP,r)},t),n=n+D.CALCULATION_STEP+1,void(r>n?i=w(o):(y(i),e.inProgress=!1,e.hot.view.wt.wtOverlays.adjustElementsSize(!0),e.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&e.hot.view.wt.wtOverlays.leftOverlay.clone.draw()))):(y(i),void(e.inProgress=!1))};this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateColumnsWidth({from:0,to:this.getSyncCalculationLimit()},t),this.firstCalculation=!1,n=this.getSyncCalculationLimit()+1),r>n?o():this.inProgress=!1},recalculateAllColumnsWidth:function(){this.hot.view&&b(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllColumnsWidth())},getSyncCalculationLimit:function(){var t=D.SYNC_CALCULATION_LIMIT,e=this.hot.countCols()-1;return _(this.hot.getSettings().autoColumnSize)&&(t=this.hot.getSettings().autoColumnSize.syncLimit,M(t)?t=T(e,t):t>>=0),Math.min(t,e)},getColumnWidth:function(t){var e=arguments[1],n=void 0!==arguments[2]?arguments[2]:!0,r=e;return void 0===r&&(r=this.widths[t],n&&"number"==typeof r&&(r=Math.max(r,A.DEFAULT_WIDTH))),r},getFirstVisibleColumn:function(){var t=this.hot.view.wt;return t.wtViewport.columnsVisibleCalculator?t.wtTable.getFirstVisibleColumn():t.wtViewport.columnsRenderCalculator?t.wtTable.getFirstRenderedColumn():-1},getLastVisibleColumn:function(){var t=this.hot.view.wt;return t.wtViewport.columnsVisibleCalculator?t.wtTable.getLastVisibleColumn():t.wtViewport.columnsRenderCalculator?t.wtTable.getLastRenderedColumn():-1},clearCache:function(){this.widths.length=0},isNeedRecalculate:function(){return m(this.widths,function(t){return void 0===t}).length?!0:!1},onBeforeRender:function(){var t=this.hot.renderCall;this.calculateColumnsWidth({from:this.getFirstVisibleColumn(),to:this.getLastVisibleColumn()},void 0,t),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllColumnsWidth()},onAfterLoadData:function(){var t=this;this.hot.view?this.recalculateAllColumnsWidth():setTimeout(function(){t.hot&&t.recalculateAllColumnsWidth()},0)},onBeforeChange:function(t){var e=this;g(t,function(t){return e.widths[t[1]]=void 0})},onBeforeColumnResize:function(t,e,n){return n&&(this.calculateColumnsWidth(t,void 0,!0),e=this.getColumnWidth(t,void 0,!1)),e},destroy:function(){this.ghostTable.clean(),$traceurRuntime.superGet(this,D.prototype,"destroy").call(this)}},{get CALCULATION_STEP(){return 50},get SYNC_CALCULATION_LIMIT(){return 50}},f),S("autoColumnSize",R)},{"3rdparty/walkontable/src/calculator/viewportColumns":3,_base:56,"helpers/array":41,"helpers/dom/element":44,"helpers/number":48,"helpers/object":49,"helpers/string":51,plugins:55,"utils/ghostTable":97,"utils/samplesGenerator":98}],58:[function(t,e,n){"use strict";Object.defineProperties(n,{AutoRowSize:{get:function(){return $}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c,h,d=(r=t("_base"),r&&r.__esModule&&r||{"default":r})["default"],f=(i=t("helpers/array"),i&&i.__esModule&&i||{"default":i}),p=(f.arrayEach,f.arrayFilter),g=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),m=g.cancelAnimationFrame,v=g.requestAnimationFrame,y=g.isVisible,w=(a=t("utils/ghostTable"),a&&a.__esModule&&a||{"default":a}).GhostTable,b=(s=t("helpers/object"),s&&s.__esModule&&s||{"default":s}),x=b.isObject,C=(b.objectEach,l=t("helpers/number"),l&&l.__esModule&&l||{"default":l}),_=C.valueAccordingPercent,E=C.rangeEach,T=(u=t("plugins"),u&&u.__esModule&&u||{"default":u}).registerPlugin,k=(c=t("utils/samplesGenerator"),c&&c.__esModule&&c||{"default":c}).SamplesGenerator,S=(h=t("helpers/string"),h&&h.__esModule&&h||{"default":h}).isPercentValue,$=function(t){var e=this;$traceurRuntime.superConstructor(M).call(this,t),this.heights=[],this.ghostTable=new w(this.hot),this.samplesGenerator=new k(function(t,n){return e.hot.getDataAtCell(t,n)}),this.firstCalculation=!0,this.inProgress=!1,this.addHook("beforeRowResize",function(t,n,r){return e.onBeforeRowResize(t,n,r)})},M=$;$traceurRuntime.createClass($,{isEnabled:function(){return this.hot.getSettings().autoRowSize===!0||x(this.hot.getSettings().autoRowSize)},enablePlugin:function(){var t=this;this.enabled||(this.addHook("afterLoadData",function(){return t.onAfterLoadData()}),this.addHook("beforeChange",function(e){return t.onBeforeChange(e)}),this.addHook("beforeColumnMove",function(){return t.recalculateAllRowsHeight()}),this.addHook("beforeColumnResize",function(){return t.recalculateAllRowsHeight()}),this.addHook("beforeColumnSort",function(){return t.clearCache()}),this.addHook("beforeRender",function(e){return t.onBeforeRender(e)}),this.addHook("beforeRowMove",function(e,n){return t.onBeforeRowMove(e,n)}),this.addHook("modifyRowHeight",function(e,n){return t.getRowHeight(n,e)}),$traceurRuntime.superGet(this,M.prototype,"enablePlugin").call(this))},disablePlugin:function(){$traceurRuntime.superGet(this,M.prototype,"disablePlugin").call(this)},calculateRowsHeight:function(){var t=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countRows()-1},e=void 0!==arguments[1]?arguments[1]:{from:0,to:this.hot.countCols()-1},n=void 0!==arguments[2]?arguments[2]:!1,r=this;"number"==typeof t&&(t={from:t,to:t}),"number"==typeof e&&(e={from:e,to:e}),E(t.from,t.to,function(t){if(n||void 0===r.heights[t]){var i=r.samplesGenerator.generateRowSamples(t,e);i.forEach(function(t,e){return r.ghostTable.addRow(e,t)})}}),this.ghostTable.rows.length&&(this.ghostTable.getHeights(function(t,e){return r.heights[t]=e}),this.ghostTable.clean())},calculateAllRowsHeight:function(){var t=void 0!==arguments[0]?arguments[0]:{from:0,to:this.hot.countCols()-1},e=this,n=0,r=this.hot.countRows()-1,i=null;this.inProgress=!0;var o=function(){return e.hot?(e.calculateRowsHeight({from:n,to:Math.min(n+M.CALCULATION_STEP,r)},t),n=n+M.CALCULATION_STEP+1,void(r>n?i=v(o):(m(i),e.inProgress=!1,e.hot.view.wt.wtOverlays.adjustElementsSize(!0),e.hot.view.wt.wtOverlays.leftOverlay.needFullRender&&e.hot.view.wt.wtOverlays.leftOverlay.clone.draw()))):(m(i),void(e.inProgress=!1))};this.firstCalculation&&this.getSyncCalculationLimit()&&(this.calculateRowsHeight({from:0,to:this.getSyncCalculationLimit()},t),this.firstCalculation=!1,n=this.getSyncCalculationLimit()+1),r>n?o():this.inProgress=!1},recalculateAllRowsHeight:function(){y(this.hot.view.wt.wtTable.TABLE)&&(this.clearCache(),this.calculateAllRowsHeight())},getSyncCalculationLimit:function(){var t=M.SYNC_CALCULATION_LIMIT,e=this.hot.countRows()-1;return x(this.hot.getSettings().autoRowSize)&&(t=this.hot.getSettings().autoRowSize.syncLimit,S(t)?t=_(e,t):t>>=0),Math.min(t,e)},getRowHeight:function(t){var e=arguments[1],n=e;return void 0!==this.heights[t]&&this.heights[t]>(e||0)&&(n=this.heights[t]),n},getFirstVisibleRow:function(){var t=this.hot.view.wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getFirstVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getFirstRenderedRow():-1},getLastVisibleRow:function(){var t=this.hot.view.wt;return t.wtViewport.rowsVisibleCalculator?t.wtTable.getLastVisibleRow():t.wtViewport.rowsRenderCalculator?t.wtTable.getLastRenderedRow():-1},clearCache:function(){this.heights.length=0},clearCacheByRange:function(t){var e=this;"number"==typeof t&&(t={from:t,to:t}),E(Math.min(t.from,t.to),Math.max(t.from,t.to),function(t){return e.heights[t]=void 0})},isNeedRecalculate:function(){return p(this.heights,function(t){return void 0===t}).length?!0:!1},onBeforeRender:function(){var t=this.hot.renderCall;this.calculateRowsHeight({from:this.getFirstVisibleRow(),to:this.getLastVisibleRow()},void 0,t),this.isNeedRecalculate()&&!this.inProgress&&this.calculateAllRowsHeight()},onBeforeRowMove:function(t,e){this.clearCacheByRange({from:t,to:e}),this.calculateAllRowsHeight()},onBeforeRowResize:function(t,e,n){return n&&(this.calculateRowsHeight(t,void 0,!0),e=this.getRowHeight(t)),e},onAfterLoadData:function(){var t=this;this.hot.view?this.recalculateAllRowsHeight():setTimeout(function(){t.hot&&t.recalculateAllRowsHeight()},0)},onBeforeChange:function(t){var e=null;1===t.length?e=t[0][0]:t.length>1&&(e={from:t[0][0],to:t[t.length-1][0]}),null!==e&&this.clearCacheByRange(e)},destroy:function(){this.ghostTable.clean(),$traceurRuntime.superGet(this,M.prototype,"destroy").call(this)}},{get CALCULATION_STEP(){return 50},get SYNC_CALCULATION_LIMIT(){return 500}},d),T("autoRowSize",$)},{_base:56,"helpers/array":41,"helpers/dom/element":44,"helpers/number":48,"helpers/object":49,"helpers/string":51,plugins:55,"utils/ghostTable":97,"utils/samplesGenerator":98}],59:[function(t,e,n){"use strict";function r(t,e,n,r){var i,o,a,s,l,u=n.length,c=n?n[0].length:0,h=[],d=[];if(i=e.row-t.row,o=e.col-t.col,-1!==["down","up"].indexOf(r)){for(var f=0;o>=f;f++)a=parseInt(n[0][f],10),s=parseInt(n[u-1][f],10),l=("down"===r?s-a:a-s)/(u-1)||0,d.push(l);h.push(d)}if(-1!==["right","left"].indexOf(r))for(var p=0;i>=p;p++)a=parseInt(n[p][0],10),s=parseInt(n[p][c-1],10),l=("right"===r?s-a:a-s)/(c-1)||0,d=[],d.push(l),h.push(d);return h}function i(t){function e(e){return t.autofill?void(t.autofill.handle&&t.autofill.handle.isDragged&&(t.autofill.handle.isDragged>1&&t.autofill.apply(),t.autofill.handle.isDragged=0,s=!1)):!0}function n(t){var e,n;return a.instance.autofill?(e=c(a.instance.table).top-(window.pageYOffset||document.documentElement.scrollTop)+h(a.instance.table),n=c(a.instance.table).left-(window.pageXOffset||document.documentElement.scrollLeft)+d(a.instance.table),a.addingStarted===!1&&a.instance.autofill.handle.isDragged>0&&t.clientY>e&&t.clientX<=n?(a.instance.mouseDragOutside=!0,a.addingStarted=!0):a.instance.mouseDragOutside=!1,void(a.instance.mouseDragOutside&&setTimeout(function(){a.addingStarted=!1,a.instance.alter("insert_row")},200))):!1}var r,i,o,a=this,s=!1;this.instance=t,this.addingStarted=!1,o=f(t),o.addEventListener(document,"mouseup",e),o.addEventListener(document,"mousemove",n),r=this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown,this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown=function(e){t.autofill.handle.isDragged=1,s=!0,r(e)},i=this.instance.view.wt.wtSettings.settings.onCellMouseOver,this.instance.view.wt.wtSettings.settings.onCellMouseOver=function(e,n,r,o){t.autofill&&s&&!t.view.isMouseDown()&&t.autofill.handle&&t.autofill.handle.isDragged&&(t.autofill.handle.isDragged++,t.autofill.showBorder(n),t.autofill.checkIfNewRowNeeded()),i(e,n,r,o)},this.instance.view.wt.wtSettings.settings.onCellCornerDblClick=function(){t.autofill.selectAdjacent()}}Object.defineProperties(n,{Autofill:{get:function(){return i}},__esModule:{value:!0}});var o,a,s,l,u=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}),c=u.offset,h=u.outerHeight,d=u.outerWidth,f=(a=t("eventManager"),a&&a.__esModule&&a||{"default":a}).eventManager,p=((s=t("plugins"),s&&s.__esModule&&s||{"default":s}).registerPlugin,(l=t("3rdparty/walkontable/src/cell/coords"),l&&l.__esModule&&l||{"default":l}).WalkontableCellCoords);i.prototype.init=function(){this.handle={}},i.prototype.disable=function(){this.handle.disabled=!0},i.prototype.selectAdjacent=function(){var t,e,n,r,i;t=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners(),e=this.instance.getData();t:for(n=t[2]+1;n<this.instance.countRows();n++){for(i=t[1];i<=t[3];i++)if(e[n][i])break t;(e[n][t[1]-1]||e[n][t[3]+1])&&(r=n)}r&&(this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(new p(t[0],t[1])),this.instance.view.wt.selections.fill.add(new p(r,t[3])),this.apply())},i.prototype.apply=function(){var t,e,n,i,o,a,s,l;this.handle.isDragged=0,this.instance.view.wt.selections.fill.isEmpty()||(t=this.instance.view.wt.selections.fill.getCorners(),this.instance.view.wt.selections.fill.clear(),e=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners(),Handsontable.hooks.run(this.instance,"afterAutofillApplyValues",e,t),t[0]===e[0]&&t[1]<e[1]?(a="left",n=new p(t[0],t[1]),i=new p(t[2],e[1]-1)):t[0]===e[0]&&t[3]>e[3]?(a="right",n=new p(t[0],e[3]+1),i=new p(t[2],t[3])):t[0]<e[0]&&t[1]===e[1]?(a="up",n=new p(t[0],t[1]),i=new p(e[0]-1,t[3])):t[2]>e[2]&&t[1]===e[1]&&(a="down",n=new p(e[2]+1,t[1]),i=new p(t[2],t[3])),n&&n.row>-1&&n.col>-1?(l={from:this.instance.getSelectedRange().from,to:this.instance.getSelectedRange().to},o=this.instance.getData(l.from.row,l.from.col,l.to.row,l.to.col),s=r(n,i,o,a),Handsontable.hooks.run(this.instance,"beforeAutofill",n,i,o),this.instance.populateFromArray(n.row,n.col,o,i.row,i.col,"autofill",null,a,s),this.instance.selection.setRangeStart(new p(t[0],t[1])),this.instance.selection.setRangeEnd(new p(t[2],t[3]))):this.instance.selection.refreshBorders())},i.prototype.showBorder=function(t){var e=this.instance.getSelectedRange().getTopLeftCorner(),n=this.instance.getSelectedRange().getBottomRightCorner();if("horizontal"!==this.instance.getSettings().fillHandle&&(n.row<t.row||e.row>t.row))t=new p(t.row,n.col);else{if("vertical"===this.instance.getSettings().fillHandle)return;t=new p(n.row,t.col)}this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().from),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().to),this.instance.view.wt.selections.fill.add(t),this.instance.view.render()},i.prototype.checkIfNewRowNeeded=function(){var t,e,n=this.instance.countRows(),r=this;this.instance.view.wt.selections.fill.cellRange&&this.addingStarted===!1&&(e=this.instance.getSelected(),t=this.instance.view.wt.selections.fill.getCorners(),e[2]<n-1&&t[2]===n-1&&(this.addingStarted=!0,this.instance._registerTimeout(setTimeout(function(){r.instance.alter("insert_row"),r.addingStarted=!1},200))))},Handsontable.hooks.add("afterInit",function(){var t=new i(this);"undefined"!=typeof this.getSettings().fillHandle&&(t.handle&&this.getSettings().fillHandle===!1?t.disable():t.handle||this.getSettings().fillHandle===!1||(this.autofill=t,this.autofill.init()))}),Handsontable.Autofill=i},{"3rdparty/walkontable/src/cell/coords":5,eventManager:40,"helpers/dom/element":44,plugins:55}],60:[function(t,e,n){"use strict";Object.defineProperties(n,{"default":{get:function(){return y}},__esModule:{value:!0}});var r,i,o,a,s=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),l=s.addClass,u=s.closest,c=s.hasClass,h=s.index,d=s.removeClass,f=(i=t("eventManager"),i&&i.__esModule&&i||{"default":i}).eventManager,p=(o=t("_base"),o&&o.__esModule&&o||{"default":o})["default"],g=(a=t("plugins"),a&&a.__esModule&&a||{"default":a}).registerPlugin;Handsontable.hooks.register("beforeColumnSort"),Handsontable.hooks.register("afterColumnSort");var m=function(t){$traceurRuntime.superConstructor(v).call(this,t),this.sortIndicators=[]},v=m;$traceurRuntime.createClass(m,{isEnabled:function(){return!!this.hot.getSettings().columnSorting},enablePlugin:function(){var t=this;if(!this.enabled){var e=this;this.hot.sortIndex=[],this.hot.sort=function(){var t=Array.prototype.slice.call(arguments);return e.sortByColumn.apply(e,t)},"undefined"==typeof this.hot.getSettings().observeChanges&&this.enableObserveChangesPlugin(),this.bindColumnSortingAfterClick(),this.addHook("modifyRow",function(e){return t.translateRow(e)}),this.addHook("afterUpdateSettings",function(){return t.onAfterUpdateSettings()}),this.addHook("afterGetColHeader",function(e,n){return t.getColHeader(e,n)}),this.addHook("afterCreateRow",function(){e.afterCreateRow.apply(e,arguments)}),this.addHook("afterRemoveRow",function(){e.afterRemoveRow.apply(e,arguments)}),this.addHook("afterInit",function(){return t.sortBySettings()}),this.addHook("afterLoadData",function(){t.hot.sortIndex=[],t.hot.view&&t.sortBySettings()}),this.hot.view&&this.sortBySettings(),$traceurRuntime.superGet(this,v.prototype,"enablePlugin").call(this)}},disablePlugin:function(){this.hot.sort=void 0,$traceurRuntime.superGet(this,v.prototype,"disablePlugin").call(this)},onAfterUpdateSettings:function(){this.sortBySettings()},sortBySettings:function(){var t,e,n=this.hot.getSettings().columnSorting,r=this.loadSortingState();"undefined"!=typeof r?(t=r.sortColumn,e=r.sortOrder):(t=n.column,e=n.sortOrder),this.sortByColumn(t,e)},setSortingColumn:function(t,e){return"undefined"==typeof t?(this.hot.sortColumn=void 0,void(this.hot.sortOrder=void 0)):(this.hot.sortOrder=this.hot.sortColumn===t&&"undefined"==typeof e?this.hot.sortOrder===!1?void 0:!this.hot.sortOrder:"undefined"!=typeof e?e:!0,void(this.hot.sortColumn=t))},sortByColumn:function(t,e){this.setSortingColumn(t,e),"undefined"!=typeof this.hot.sortColumn&&(Handsontable.hooks.run(this.hot,"beforeColumnSort",this.hot.sortColumn,this.hot.sortOrder),this.sort(),this.hot.render(),this.saveSortingState(),Handsontable.hooks.run(this.hot,"afterColumnSort",this.hot.sortColumn,this.hot.sortOrder))},saveSortingState:function(){var t={};"undefined"!=typeof this.hot.sortColumn&&(t.sortColumn=this.hot.sortColumn),"undefined"!=typeof this.hot.sortOrder&&(t.sortOrder=this.hot.sortOrder),(t.hasOwnProperty("sortColumn")||t.hasOwnProperty("sortOrder"))&&Handsontable.hooks.run(this.hot,"persistentStateSave","columnSorting",t)},loadSortingState:function(){var t={};return Handsontable.hooks.run(this.hot,"persistentStateLoad","columnSorting",t),t.value},bindColumnSortingAfterClick:function(){function t(){var t=r.hot.view.TBODY.querySelector("tr").querySelectorAll("th");return t.length}function e(e){var n=u(e,"TH");return r.hot.view.wt.wtTable.getFirstRenderedColumn()+h(n)-t()}if(!this.bindedSortEvent){var n=f(this.hot),r=this;this.bindedSortEvent=!0,n.addEventListener(this.hot.rootElement,"click",function(t){if(c(t.target,"columnSorting")){var n=e(t.target);if(n!==this.lastSortedColumn)r.sortOrderClass="ascending";else switch(r.hot.sortOrder){case void 0:r.sortOrderClass="ascending";break;case!0:r.sortOrderClass="descending";break;case!1:r.sortOrderClass=void 0}this.lastSortedColumn=n,r.sortByColumn(n)}})}},enableObserveChangesPlugin:function(){var t=this;this.hot._registerTimeout(setTimeout(function(){t.hot.updateSettings({observeChanges:!0})},0))},defaultSort:function(t){return function(e,n){return"string"==typeof e[1]&&(e[1]=e[1].toLowerCase()),"string"==typeof n[1]&&(n[1]=n[1].toLowerCase()),e[1]===n[1]?0:null===e[1]||""===e[1]?1:null===n[1]||""===n[1]?-1:isNaN(e[1])&&!isNaN(n[1])?t?1:-1:!isNaN(e[1])&&isNaN(n[1])?t?-1:1:e[1]<n[1]?t?-1:1:e[1]>n[1]?t?1:-1:0}},dateSort:function(t){return function(e,n){if(e[1]===n[1])return 0;if(null===e[1]||""===e[1])return 1;if(null===n[1]||""===n[1])return-1;var r=new Date(e[1]),i=new Date(n[1]);return i>r?t?-1:1:r>i?t?1:-1:0}},sort:function(){if("undefined"!=typeof this.hot.sortOrder){var t,e;this.hot.sortingEnabled=!1,this.hot.sortIndex.length=0;for(var n=this.hot.colOffset(),r=0,i=this.hot.countRows()-this.hot.getSettings().minSpareRows;i>r;r++)this.hot.sortIndex.push([r,this.hot.getDataAtCell(r,this.hot.sortColumn+n)]);switch(t=this.hot.getCellMeta(0,this.hot.sortColumn),this.sortIndicators[this.hot.sortColumn]=t.sortIndicator,t.type){case"date":e=this.dateSort;break;default:e=this.defaultSort}this.hot.sortIndex.sort(e(this.hot.sortOrder));for(var r=this.hot.sortIndex.length;r<this.hot.countRows();r++)this.hot.sortIndex.push([r,this.hot.getDataAtCell(r,this.hot.sortColumn+n)]);this.hot.sortingEnabled=!0}},translateRow:function(t){return this.hot.sortingEnabled&&"undefined"!=typeof this.hot.sortOrder&&this.hot.sortIndex&&this.hot.sortIndex.length&&this.hot.sortIndex[t]?this.hot.sortIndex[t][0]:t},untranslateRow:function(t){if(this.hot.sortingEnabled&&this.hot.sortIndex&&this.hot.sortIndex.length)for(var e=0;e<this.hot.sortIndex.length;e++)if(this.hot.sortIndex[e][0]==t)return e},getColHeader:function(t,e){var n=e.querySelector(".colHeader");this.hot.getSettings().columnSorting&&t>=0&&l(n,"columnSorting"),d(n,"descending"),d(n,"ascending"),this.sortIndicators[t]&&t===this.hot.sortColumn&&("ascending"===this.sortOrderClass?l(n,"ascending"):"descending"===this.sortOrderClass&&l(n,"descending"))},isSorted:function(){return"undefined"!=typeof this.hot.sortColumn},afterCreateRow:function(t,e){if(this.isSorted()){for(var n=0;n<this.hot.sortIndex.length;n++)this.hot.sortIndex[n][0]>=t&&(this.hot.sortIndex[n][0]+=e);for(var n=0;e>n;n++)this.hot.sortIndex.splice(t+n,0,[t+n,this.hot.getData()[t+n][this.hot.sortColumn+this.hot.colOffset()]]);this.saveSortingState()}},afterRemoveRow:function(t,e){if(this.isSorted()){var n=this.translateRow(t);this.hot.sortIndex.splice(t,e);for(var r=0;r<this.hot.sortIndex.length;r++)this.hot.sortIndex[r][0]>n&&(this.hot.sortIndex[r][0]-=e);this.saveSortingState()}}},{},p);var y=m;g("columnSorting",m)},{_base:56,eventManager:40,"helpers/dom/element":44,plugins:55}],61:[function(t,e,n){"use strict";Object.defineProperties(n,{CommentEditor:{get:function(){return o}},__esModule:{value:!0}});var r,i=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).addClass,o=function(){this.editor=this.createEditor(),this.editorStyle=this.editor.style,this.editorStyle.position="absolute",this.editorStyle.zIndex=100,this.hide()},a=o;$traceurRuntime.createClass(o,{setPosition:function(t,e){this.editorStyle.left=t+"px",
this.editorStyle.top=e+"px"},show:function(){this.editorStyle.display="block"},hide:function(){this.editorStyle.display="none"},isVisible:function(){return"block"===this.editorStyle.display},setValue:function(){var t=void 0!==arguments[0]?arguments[0]:"";t=t||"",this.getInputElement().value=t},getValue:function(){return this.getInputElement().value},isFocused:function(){return document.activeElement===this.getInputElement()},focus:function(){this.getInputElement().focus()},createEditor:function(){var t,e,n=document.querySelector("."+a.CLASS_EDITOR_CONTAINER);return n||(n=document.createElement("div"),i(n,a.CLASS_EDITOR_CONTAINER),document.body.appendChild(n)),t=document.createElement("div"),i(t,a.CLASS_EDITOR),e=document.createElement("textarea"),i(e,a.CLASS_INPUT),t.appendChild(e),n.appendChild(t),t},getInputElement:function(){return this.editor.querySelector("."+a.CLASS_INPUT)},destroy:function(){this.editor.parentNode.removeChild(this.editor),this.editor=null,this.editorStyle=null}},{get CLASS_EDITOR_CONTAINER(){return"htCommentsContainer"},get CLASS_EDITOR(){return"htComments"},get CLASS_INPUT(){return"htCommentTextArea"},get CLASS_CELL(){return"htCommentCell"}})},{"helpers/dom/element":44}],62:[function(t,e,n){"use strict";Object.defineProperties(n,{Comments:{get:function(){return C}},__esModule:{value:!0}});var r,i,o,a,s,l,u=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),c=u.addClass,h=u.closest,d=u.getWindowScrollLeft,f=u.getWindowScrollTop,p=u.hasClass,g=u.offset,m=(i=t("eventManager"),i&&i.__esModule&&i||{"default":i}).EventManager,v=(o=t("3rdparty/walkontable/src/cell/coords"),o&&o.__esModule&&o||{"default":o}).WalkontableCellCoords,y=(a=t("plugins"),a&&a.__esModule&&a||{"default":a}),w=y.registerPlugin,b=(y.getPlugin,(s=t("_base"),s&&s.__esModule&&s||{"default":s})["default"]),x=(l=t("commentEditor"),l&&l.__esModule&&l||{"default":l}).CommentEditor,C=function(t){$traceurRuntime.superConstructor(_).call(this,t),this.editor=null,this.eventManager=null,this.range={},this.mouseDown=!1,this.contextMenuEvent=!1,this.timer=null},_=C;$traceurRuntime.createClass(C,{isEnabled:function(){return this.hot.getSettings().comments},enablePlugin:function(){var t=this;this.enabled||(this.editor||(this.editor=new x),this.eventManager||(this.eventManager=new m(this)),this.addHook("afterContextMenuDefaultOptions",function(e){return t.addToContextMenu(e)}),this.addHook("afterRenderer",function(e,n,r,i,o,a){return t.onAfterRenderer(e,a)}),this.addHook("afterScrollVertically",function(){return t.refreshEditorPosition()}),this.addHook("afterColumnResize",function(){return t.refreshEditorPosition()}),this.addHook("afterRowResize",function(){return t.refreshEditorPosition()}),this.registerListeners(),$traceurRuntime.superGet(this,_.prototype,"enablePlugin").call(this))},disablePlugin:function(){$traceurRuntime.superGet(this,_.prototype,"disablePlugin").call(this)},registerListeners:function(){var t=this;this.eventManager.addEventListener(document,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(document,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(document,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(document,"mouseup",function(e){return t.onMouseUp(e)}),this.eventManager.addEventListener(this.editor.getInputElement(),"blur",function(e){return t.onEditorBlur(e)})},setRange:function(t){this.range=t},clearRange:function(){this.range={}},targetIsCellWithComment:function(t){return p(t.target,"htCommentCell")&&h(t.target,[this.hot.rootElement])?!0:!1},targetIsCommentTextArea:function(t){return this.editor.getInputElement()===t.target},saveComment:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var t=this.editor.getValue(),e=this.range.from.row,n=this.range.from.col;this.hot.setCellMeta(e,n,"comment",t),this.hot.render()},saveCommentAtCell:function(t,e){this.setRange({from:new v(t,e)}),this.saveComment()},removeComment:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');this.hot.removeCellMeta(this.range.from.row,this.range.from.col,"comment"),this.hot.render(),this.hide()},removeCommentAtCell:function(t,e){this.setRange({from:new v(t,e)}),this.removeComment()},show:function(){if(!this.range.from)throw new Error('Before using this method, first set cell range (hot.getPlugin("comment").setRange())');var t=this.hot.getCellMeta(this.range.from.row,this.range.from.col);return this.refreshEditorPosition(!0),this.editor.setValue(t.comment||""),this.editor.show(),!0},showAtCell:function(t,e){return this.setRange({from:new v(t,e)}),this.show()},hide:function(){this.editor.hide()},refreshEditorPosition:function(){var t=void 0!==arguments[0]?arguments[0]:!1;if(t||this.range.from&&this.editor.isVisible()){var e=this.hot.view.wt.wtTable.getCell(this.range.from),n=g(e),r=this.hot.getColWidth(this.range.from.col),i=n.top,o=n.left,a=0,s=0;this.hot.view.wt.wtViewport.hasVerticalScroll()&&(i-=this.hot.view.wt.wtOverlays.topOverlay.getScrollPosition(),a=20),this.hot.view.wt.wtViewport.hasHorizontalScroll()&&(o-=this.hot.view.wt.wtOverlays.leftOverlay.getScrollPosition(),s=20);var l=o+r,u=i,c=this.hot.view.wt.wtTable.holder.getBoundingClientRect(),h={left:c.left+d()+s,right:c.right+d()-15,top:c.top+f()+a,bottom:c.bottom+f()};l<=h.left||l>h.right||u<=h.top||u>h.bottom?this.hide():this.editor.setPosition(l,u)}},onMouseDown:function(t){this.mouseDown=!0,this.hot.view&&this.hot.view.wt&&(this.contextMenuEvent||this.targetIsCommentTextArea(t)||this.targetIsCellWithComment(t)||this.hide(),this.contextMenuEvent=!1)},onMouseOver:function(t){if(!this.mouseDown&&!this.editor.isFocused())if(this.targetIsCellWithComment(t)){var e=this.hot.view.wt.wtTable.getCoords(t.target),n={from:new v(e.row,e.col)};this.setRange(n),this.show()}else this.targetIsCommentTextArea(t)||this.editor.isFocused()||this.hide()},onMouseMove:function(t){var e=this;this.targetIsCommentTextArea(t)&&(this.mouseDown=!0,clearTimeout(this.timer),this.timer=setTimeout(function(){e.mouseDown=!1},200))},onMouseUp:function(t){this.mouseDown=!1},onAfterRenderer:function(t,e){e.comment&&c(t,e.commentedCellClassName)},onEditorBlur:function(t){this.saveComment()},checkSelectionCommentsConsistency:function(){var t=this.hot.getSelectedRange();if(!t)return!1;var e=!1,n=t.from;return this.hot.getCellMeta(n.row,n.col).comment&&(e=!0),e},onContextMenuAddComment:function(){var t=this,e=this.hot.getSelectedRange();this.contextMenuEvent=!0,this.setRange({from:e.from}),this.show(),setTimeout(function(){t.hot&&(t.hot.deselectCell(),t.editor.focus())},10)},onContextMenuRemoveComment:function(t,e){this.contextMenuEvent=!0,this.removeCommentAtCell(e.start.row,e.start.col)},addToContextMenu:function(t){var e=this;t.items.push(Handsontable.plugins.ContextMenu.SEPARATOR,{key:"commentsAddEdit",name:function(){return e.checkSelectionCommentsConsistency()?"Edit Comment":"Add Comment"},callback:function(){return e.onContextMenuAddComment()},disabled:function(){return this.getSelected()?!1:!0}},{key:"commentsRemove",name:function(){return"Delete Comment"},callback:function(t,n){return e.onContextMenuRemoveComment(t,n)},disabled:function(){return!e.checkSelectionCommentsConsistency()}})},destroy:function(){this.editor&&this.editor.destroy(),$traceurRuntime.superGet(this,_.prototype,"destroy").call(this)}},{},b),w("comments",C)},{"3rdparty/walkontable/src/cell/coords":5,_base:56,commentEditor:61,eventManager:40,"helpers/dom/element":44,plugins:55}],63:[function(t,e,n){"use strict";function r(t,e){var n;return o(e,function(e){var r=e.key?e.key.split(":"):null;return Array.isArray(r)&&r[1]===t?(n=e,!1):void 0}),n}Object.defineProperties(n,{CommandExecutor:{get:function(){return a}},__esModule:{value:!0}});var i,o=(i=t("helpers/array"),i&&i.__esModule&&i||{"default":i}).arrayEach,a=function(t){this.hot=t,this.commands={},this.commonCallback=null};$traceurRuntime.createClass(a,{registerCommand:function(t,e){this.commands[t]=e},setCommonCallback:function(t){this.commonCallback=t},execute:function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var i=this,a=t.split(":");t=a[0];var s=2===a.length?a[1]:null,l=this.commands[t];if(!l)throw new Error("Menu command '"+t+"' not exists.");if(s&&l.submenu&&(l=r(s,l.submenu.items)),l.disabled!==!0&&("function"!=typeof l.disabled||l.disabled.call(this.hot)!==!0)&&!l.hasOwnProperty("submenu")){var u=[];"function"==typeof l.callback&&u.push(l.callback),"function"==typeof this.commonCallback&&u.push(this.commonCallback),e.unshift(a.join(":")),o(u,function(t){return t.apply(i.hot,e)})}}},{})},{"helpers/array":41}],64:[function(t,e,n){"use strict";Object.defineProperties(n,{ContextMenu:{get:function(){return H}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c,h,d,f,p=(r=t("_base"),r&&r.__esModule&&r||{"default":r})["default"],g=(i=t("helpers/array"),i&&i.__esModule&&i||{"default":i}).arrayEach,m=((o=t("helpers/object"),o&&o.__esModule&&o||{"default":o}).objectEach,(a=t("commandExecutor"),a&&a.__esModule&&a||{"default":a}).CommandExecutor),v=(s=t("eventManager"),s&&s.__esModule&&s||{"default":s}).EventManager,y=(l=t("helpers/dom/element"),l&&l.__esModule&&l||{"default":l}).hasClass,w=(u=t("itemsFactory"),u&&u.__esModule&&u||{"default":u}).ItemsFactory,b=(c=t("menu"),c&&c.__esModule&&c||{"default":c}).Menu,x=(h=t("plugins"),h&&h.__esModule&&h||{"default":h}).registerPlugin,C=(d=t("helpers/dom/event"),d&&d.__esModule&&d||{"default":d}).stopPropagation,_=(f=t("predefinedItems"),f&&f.__esModule&&f||{"default":f}),E=_.ROW_ABOVE,T=_.ROW_BELOW,k=_.COLUMN_LEFT,S=_.COLUMN_RIGHT,$=_.REMOVE_ROW,M=_.REMOVE_COLUMN,A=_.UNDO,R=_.REDO,D=_.READ_ONLY,O=_.ALIGNMENT,P=_.SEPARATOR,H=(_.predefinedItems,function(t){$traceurRuntime.superConstructor(L).call(this,t),this.eventManager=new v(this),this.commandExecutor=new m(this.hot),this.itemsFactory=null,this.menu=null}),L=H;$traceurRuntime.createClass(H,{isEnabled:function(){return this.hot.getSettings().contextMenu},enablePlugin:function(){var t=this,e=this;if(!this.enabled){this.itemsFactory=new w(this.hot,L.DEFAULT_ITEMS);var n=this.hot.getSettings().contextMenu,r={items:this.itemsFactory.getVisibleItems(n)};this.registerEvents(),this.callOnPluginsReady(function(){e.hot.runHooks("afterContextMenuDefaultOptions",r),e.itemsFactory.setPredefinedItems(r.items);var i=e.itemsFactory.getVisibleItems(n);e.menu=new b(e.hot,{className:"htContextMenu"}),e.menu.setMenuItems(i),e.addHook("menuExecuteCommand",function(t){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];t===e.menu&&e.executeCommand.apply(e,n)}),"function"==typeof n.callback&&e.commandExecutor.setCommonCallback(n.callback),$traceurRuntime.superGet(t,L.prototype,"enablePlugin").call(t),g(i,function(t){return e.commandExecutor.registerCommand(t.key,t)})})}},disablePlugin:function(){this.close(),this.menu&&(this.menu.destroy(),this.menu=null),$traceurRuntime.superGet(this,L.prototype,"disablePlugin").call(this)},registerEvents:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"contextmenu",function(e){return t.onContextMenu(e)})},open:function(t){this.menu&&(this.menu.open(),this.menu.setPosition(t),this.menu.hotMenu.isHotTableEnv=this.hot.isHotTableEnv,Handsontable.eventManager.isHotTableEnv=this.hot.isHotTableEnv,this.hot.runHooks("afterContextMenuShow",this.menu.hotMenu))},close:function(){this.menu&&(this.menu.close(),this.hot.runHooks("afterContextMenuHide",this.hot))},executeCommand:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this.commandExecutor.execute.apply(this.commandExecutor,t)},destroy:function(){this.close(),this.menu&&this.menu.destroy(),$traceurRuntime.superGet(this,L.prototype,"destroy").call(this)},onContextMenu:function(t){function e(t){return"TD"===t.nodeName||"TD"===t.parentNode.nodeName}var n=this.hot.getSettings(),r=n.rowHeaders,i=n.colHeaders,o=t.realTarget;if(this.close(),t.preventDefault(),C(t),r||i){if(r&&i){var a=o.parentNode.querySelectorAll(".cornerHeader").length>0;if(a)return}}else if(!(e(o)||y(o,"current")&&y(o,"wtBorder")))return;this.open(t)}},{get DEFAULT_ITEMS(){return[E,T,P,k,S,P,$,M,P,A,R,P,D,P,O]}},p),H.SEPARATOR={name:P},Handsontable.hooks.register("afterContextMenuDefaultOptions"),Handsontable.hooks.register("afterContextMenuShow"),Handsontable.hooks.register("afterContextMenuHide"),Handsontable.hooks.register("afterContextMenuExecute"),x("contextMenu",H),Handsontable.plugins=Handsontable.plugins||{},Handsontable.plugins.ContextMenu=H},{_base:56,commandExecutor:63,eventManager:40,"helpers/array":41,"helpers/dom/element":44,"helpers/dom/event":45,"helpers/object":49,itemsFactory:66,menu:67,plugins:55,predefinedItems:68}],65:[function(t,e,n){"use strict";Object.defineProperties(n,{Cursor:{get:function(){return h}},__esModule:{value:!0}});var r,i,o=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),a=o.getWindowScrollLeft,s=o.getWindowScrollTop,l=(i=t("helpers/dom/event"),i&&i.__esModule&&i||{"default":i}),u=l.pageX,c=l.pageY,h=function(t){var e,n,r,i,o,l,h,d,f=s(),p=a();this.type=this.getSourceType(t),"literal"===this.type?(e=parseInt(t.top,10),r=parseInt(t.left,10),h=t.height,d=t.width):"event"===this.type&&(e=parseInt(c(t),10),r=parseInt(u(t),10),h=t.target.clientHeight,d=t.target.clientWidth),n=e-f,i=r-p,o=f,l=p,this.top=e,this.topRelative=n,this.left=r,this.leftRelative=i,this.scrollTop=o,this.scrollLeft=l,this.cellHeight=h,this.cellWidth=d};$traceurRuntime.createClass(h,{getSourceType:function(t){var e="literal";return t instanceof Event&&(e="event"),e},fitsAbove:function(t){return this.topRelative>=t.offsetHeight},fitsBelow:function(t){var e=void 0!==arguments[1]?arguments[1]:window.innerHeight;return this.topRelative+t.offsetHeight<=e},fitsOnRight:function(t){var e=void 0!==arguments[1]?arguments[1]:window.innerWidth;return this.leftRelative+this.cellWidth+t.offsetWidth<=e},fitsOnLeft:function(t){return this.leftRelative>=t.offsetWidth}},{}),Handsontable.plugins.utils=Handsontable.plugins.utils||{},Handsontable.plugins.utils.Cursor=h},{"helpers/dom/element":44,"helpers/dom/event":45}],66:[function(t,e,n){"use strict";function r(){var t=void 0!==arguments[0]?arguments[0]:null,e=void 0!==arguments[1]?arguments[1]:[],n=void 0!==arguments[2]?arguments[2]:{},r=[];return t&&t.items?t=t.items:Array.isArray(t)||(t=e),u(t)?l(t,function(t,e){var i=n["string"==typeof t?t:e];i||(i=t),u(t)?c(i,t):"string"==typeof i&&(i={name:i}),void 0===i.key&&(i.key=e),r.push(i)}):h(t,function(t,e){var i=n[t];!i&&p.indexOf(t)>=0||(i||(i={name:t,key:e+""}),u(t)&&c(i,t),void 0===i.key&&(i.key=e),r.push(i))}),r[0].name===f&&r.shift(),r}Object.defineProperties(n,{ItemsFactory:{get:function(){return m}},__esModule:{value:!0}});var i,o,a,s=(i=t("helpers/object"),i&&i.__esModule&&i||{"default":i}),l=s.objectEach,u=s.isObject,c=s.extend,h=(o=t("helpers/array"),o&&o.__esModule&&o||{"default":o}).arrayEach,d=(a=t("predefinedItems"),a&&a.__esModule&&a||{"default":a}),f=d.SEPARATOR,p=d.ITEMS,g=d.predefinedItems,m=function(t){var e=void 0!==arguments[1]?arguments[1]:null;this.hot=t,this.predefinedItems=g(),this.defaultOrderPattern=e};$traceurRuntime.createClass(m,{setPredefinedItems:function(t){var e=this,n={};this.defaultOrderPattern.length=0,l(t,function(t,r){var i="";t.name===f?(n[f]=t,i=f):isNaN(parseInt(r,10))?(t.key=void 0===t.key?r:t.key,n[r]=t,i=t.key):(n[t.key]=t,i=t.key),e.defaultOrderPattern.push(i)}),this.predefinedItems=n},getVisibleItems:function(){var t=void 0!==arguments[0]?arguments[0]:null,e=this,n={};return l(this.predefinedItems,function(t,r){(!t.hidden||t.hidden&&!t.hidden.apply(e.hot))&&(n[r]=t)}),r(t,this.defaultOrderPattern,n)},getItems:function(){var t=void 0!==arguments[0]?arguments[0]:null;return r(t,this.defaultOrderPattern,this.predefinedItems)}},{})},{"helpers/array":41,"helpers/object":49,predefinedItems:68}],67:[function(t,e,n){"use strict";Object.defineProperties(n,{Menu:{get:function(){return D}},__esModule:{value:!0}});var r,i,o,a,s,l,u,c,h,d=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),f=d.addClass,p=d.empty,g=d.fastInnerHTML,m=(d.getComputedStyle,d.getScrollbarWidth),v=(d.getWindowScrollLeft,d.getWindowScrollTop,d.hasClass,d.removeClass),y=(i=t("helpers/dom/event"),i&&i.__esModule&&i||{"default":i}),w=(y.stopPropagation,y.stopImmediatePropagation),b=(y.pageX,y.pageY,(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).EventManager),x=(a=t("helpers/object"),a&&a.__esModule&&a||{"default":a}),C=(x.extend,x.isObject,x.objectEach,(s=t("helpers/array"),s&&s.__esModule&&s||{"default":s}).arrayEach),_=(l=t("predefinedItems"),l&&l.__esModule&&l||{"default":l}),E=_.SEPARATOR,T=(_.predefinedItems,(u=t("cursor"),u&&u.__esModule&&u||{"default":u}).Cursor),k=(c=t("helpers/unicode"),c&&c.__esModule&&c||{"default":c}).KEY_CODES,S=(h=t("utils"),h&&h.__esModule&&h||{"default":h}),$=S.isSeparator,M=S.isDisabled,A=S.hasSubMenu,R=S.normalizeSelection,D=function(t){var e=void 0!==arguments[1]?arguments[1]:{parent:null,name:null,className:"htMenu"};this.hot=t,this.options=e,this.eventManager=new b(this),this.container=this.createContainer(this.options.name),this.hotMenu=null,this.hotSubMenus={},this.parentMenu=this.options.parent||null,this.menuItems=null,this._afterScrollCallback=null,this.registerEvents()},O=D;$traceurRuntime.createClass(D,{registerEvents:function(){var t=this;this.eventManager.addEventListener(document.documentElement,"mousedown",function(e){return t.close()}),this.eventManager.addEventListener(this.container,"mousedown",function(e){return t.executeCommand(e)})},setMenuItems:function(t){this.menuItems=t},isSubMenu:function(){return null!==this.parentMenu},open:function(){var t=this;this.container.removeAttribute("style"),this.container.style.display="block";var e={data:this.menuItems,colHeaders:!1,colWidths:[200],autoRowSize:!1,readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:function(e,n,r,i,o,a){return t.menuItemRenderer(e,n,r,i,o,a)}}],renderAllRows:!0,beforeKeyDown:function(e){return t.onBeforeKeyDown(e)},afterOnCellMouseOver:function(e,n,r){return t.openSubMenu(n.row)}};this.hotMenu=new Handsontable.Core(this.container,e),this.hotMenu.addHook("afterInit",function(){return t.onAfterInit()}),this.hotMenu.init(),this.hotMenu.listen(),this.blockMainTableCallbacks()},close:function(){var t=void 0!==arguments[0]?arguments[0]:!1;this.isOpened()&&(t&&this.parentMenu?this.parentMenu.close():(this.closeAllSubMenus(),this.container.style.display="none",this.releaseMainTableCallbacks(),this.hotMenu.destroy(),this.hotMenu=null,this.hot.listen()))},openSubMenu:function(t){var e=this.hotMenu.getCell(t,0);if(this.closeAllSubMenus(),!A(e))return!1;var n=this.hotMenu.getData()[t],r=new O(this.hot,{parent:this,name:n.name,className:this.options.className});return r.setMenuItems(n.submenu.items),r.open(),r.setPosition(e.getBoundingClientRect()),this.hotSubMenus[n.key]=r,r},closeSubMenu:function(t){var e=this.hotMenu.getData()[t],n=this.hotSubMenus[e.key];n&&(n.destroy(),this.hotSubMenus[e.key]=null)},closeAllSubMenus:function(){var t=this;C(this.hotMenu.getData(),function(e,n){return t.closeSubMenu(n)}),this.hotMenu.listen()},destroy:function(){this.close(),this.parentMenu=null,this.eventManager.destroy()},isOpened:function(){return null!==this.hotMenu},executeCommand:function(t){if(this.isOpened()&&this.hotMenu.getSelected()){var e=this.hotMenu.getData()[this.hotMenu.getSelected()[0]],n=this.hot.getSelectedRange(),r=n?R(n):{};this.hot.runHooks("menuExecuteCommand",this.parentMenu||this,e.key,r,t)}},setPosition:function(t){var e=new T(t);e.fitsBelow(this.container)?this.setPositionBelowCursor(e):e.fitsAbove(this.container)?this.setPositionAboveCursor(e):this.setPositionBelowCursor(e),e.fitsOnRight(this.container)?this.setPositionOnRightOfCursor(e):this.setPositionOnLeftOfCursor(e)},setPositionAboveCursor:function(t){var e=t.top-this.container.offsetHeight;this.isSubMenu()&&(e=window.scrollY+t.top+t.cellHeight-this.container.offsetHeight+3),this.container.style.top=e+"px"},setPositionBelowCursor:function(t){var e=t.top-1;this.isSubMenu()&&(e=t.top+window.scrollY-1),this.container.style.top=e+"px"},setPositionOnRightOfCursor:function(t){var e;e=this.isSubMenu()?window.scrollX+1+t.left+t.cellWidth:1+t.left,this.container.style.left=e+"px"},setPositionOnLeftOfCursor:function(t){this.container.style.left=t.left-this.container.offsetWidth+m()+4+"px"},selectFirstCell:function(){var t=this.hotMenu.getCell(0,0);$(t)||M(t)?this.selectNextCell(0,0):this.hotMenu.selectCell(0,0)},selectLastCell:function(){var t=this.hotMenu.countRows()-1,e=this.hotMenu.getCell(t,0);$(e)||M(e)?this.selectPrevCell(t,0):this.hotMenu.selectCell(t,0)},selectNextCell:function(t,e){var n=t+1,r=n<this.hotMenu.countRows()?this.hotMenu.getCell(n,e):null;r&&($(r)||M(r)?this.selectNextCell(n,e):this.hotMenu.selectCell(n,e))},selectPrevCell:function(t,e){var n=t-1,r=n>=0?this.hotMenu.getCell(n,e):null;r&&($(r)||M(r)?this.selectPrevCell(n,e):this.hotMenu.selectCell(n,e))},menuItemRenderer:function(t,e,n,r,i,o){var a=this,s=t.getData()[n],l=document.createElement("div"),u=function(t){return t.hasOwnProperty("submenu")},c=function(t){return new RegExp(E,"i").test(t.name)},h=function(t){return t.disabled===!0||"function"==typeof t.disabled&&t.disabled.call(a.hot)===!0};"function"==typeof o&&(o=o.call(this.hot)),p(e),e.appendChild(l),c(s)?f(e,"htSeparator"):g(l,o),h(s)?(f(e,"htDisabled"),this.eventManager.addEventListener(l,"mouseenter",function(){return t.deselectCell})):u(s)?(f(e,"htSubmenu"),this.eventManager.addEventListener(l,"mouseenter",function(){return t.selectCell(n,r)})):(v(e,"htSubmenu"),v(e,"htDisabled"),this.eventManager.addEventListener(l,"mouseenter",function(){return t.selectCell(n,r)}))},createContainer:function(){var t=void 0!==arguments[0]?arguments[0]:null;t&&(t=t.replace(/ /g,"_"),t=this.options.className+"Sub_"+t);var e;return e=document.querySelector(t?"."+this.options.className+"."+t:"."+this.options.className),e||(e=document.createElement("div"),f(e,this.options.className),t&&f(e,t),document.getElementsByTagName("body")[0].appendChild(e)),e},blockMainTableCallbacks:function(){this._afterScrollCallback=function(){},this.hot.addHook("afterScrollVertically",this._afterScrollCallback),this.hot.addHook("afterScrollHorizontally",this._afterScrollCallback)},releaseMainTableCallbacks:function(){this._afterScrollCallback&&(this.hot.removeHook("afterScrollVertically",this._afterScrollCallback),this.hot.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)},onBeforeKeyDown:function(t){var e=this.hotMenu.getSelected(),n=!1;switch(t.keyCode){case k.ESCAPE:this.close(),n=!0;break;case k.ENTER:e&&(this.hotMenu.getData()[e[0]].submenu?n=!0:(this.executeCommand(t),this.close(!0)));break;case k.ARROW_DOWN:e?this.selectNextCell(e[0],e[1]):this.selectFirstCell(),n=!0;break;case k.ARROW_UP:e?this.selectPrevCell(e[0],e[1]):this.selectLastCell(),n=!0;break;case k.ARROW_RIGHT:if(e){var r=this.openSubMenu(e[0]);r&&r.selectFirstCell()}n=!0;break;case k.ARROW_LEFT:e&&this.parentMenu&&(this.parentMenu.closeAllSubMenus(),n=!0)}n&&(t.preventDefault(),w(t))},onAfterInit:function(){var t=this.hotMenu.getSettings().data,e=this.hotMenu.view.wt.wtTable.hider.style,n=this.hotMenu.view.wt.wtTable.holder.style,r=parseInt(e.width,10),i=0;C(t,function(t){return i+=t.name===E?1:26}),n.width=r+22+"px",n.height=i+4+"px"}},{})},{cursor:65,eventManager:40,"helpers/array":41,"helpers/dom/element":44,"helpers/dom/event":45,"helpers/object":49,"helpers/unicode":52,predefinedItems:68,utils:69}],68:[function(t,e,n){"use strict";function r(){var t={};return u(R,function(e,n){return t[n]=c(e)}),t}var i;Object.defineProperties(n,{ROW_ABOVE:{get:function(){return y}},ROW_BELOW:{get:function(){return w}},COLUMN_LEFT:{get:function(){return b}},COLUMN_RIGHT:{get:function(){return x}},CLEAR_COLUMN:{get:function(){return C}},REMOVE_ROW:{get:function(){return _}},REMOVE_COLUMN:{get:function(){return E}},UNDO:{get:function(){return T}},REDO:{get:function(){return k}},READ_ONLY:{get:function(){return S}},ALIGNMENT:{get:function(){return $}},SEPARATOR:{get:function(){return M}},ITEMS:{get:function(){return A}},predefinedItems:{get:function(){return r}},__esModule:{value:!0}});var o,a,s,l=(o=t("helpers/object"),o&&o.__esModule&&o||{"default":o}),u=l.objectEach,c=l.clone,h=(a=t("helpers/number"),a&&a.__esModule&&a||{"default":a}).rangeEach,d=(s=t("utils"),s&&s.__esModule&&s||{"default":s}),f=d.align,p=d.getAlignmentClasses,g=d.getValidSelection,m=d.checkSelectionConsistency,v=d.markLabelAsSelected,y="row_above",w="row_below",b="col_left",x="col_right",C="clear_column",_="remove_row",E="remove_col",T="undo",k="redo",S="make_read_only",$="alignment",M="---------",A=[y,w,b,x,C,_,E,T,k,S,$,M],R=(i={},Object.defineProperty(i,M,{value:{name:M},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,y,{value:{key:y,name:"Insert row above",callback:function(t,e){this.alter("insert_row",e.start.row)},disabled:function(){var t=g(this);if(!t)return!0;var e=this.countRows(),n=[0,t[1],e-1,t[1]];return n.join(",")===t.join(",")&&e>1},hidden:function(){return!this.getSettings().allowInsertRow}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,w,{value:{key:w,name:"Insert row below",callback:function(t,e){this.alter("insert_row",e.end.row+1)},disabled:function(){var t=g(this);if(!t)return!0;var e=this.countRows(),n=[0,t[1],e-1,t[1]];return n.join(",")===t.join(",")&&e>1},hidden:function(){return!this.getSettings().allowInsertRow}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,b,{value:{key:b,name:"Insert column on the left",callback:function(t,e){this.alter("insert_col",e.start.col)},disabled:function(){var t=g(this);if(!t)return!0;if(!this.isColumnModificationAllowed())return!0;var e=[t[0],0,t[0],this.countCols()-1],n=e.join(",")==t.join(",");return t[1]<0||this.countCols()>=this.getSettings().maxCols||n},hidden:function(){return!this.getSettings().allowInsertColumn}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,x,{value:{key:x,name:"Insert column on the right",callback:function(t,e){this.alter("insert_col",e.end.col+1)},disabled:function(){var t=g(this);if(!t)return!0;if(!this.isColumnModificationAllowed())return!0;var e=[t[0],0,t[0],this.countCols()-1],n=e.join(",")==t.join(",");return t[1]<0||this.countCols()>=this.getSettings().maxCols||n},hidden:function(){return!this.getSettings().allowInsertColumn}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,C,{value:{key:C,name:"Clear column",callback:function(t,e){var n=this,r=e.start.col;h(Math.max(e.start.row,e.end.row),function(t){return n.setDataAtCell(t,r,"")})},disabled:function(){var t=g(this);if(!t)return!0;var e=[t[0],0,t[0],this.countCols()-1],n=e.join(",")==t.join(",");return t[1]<0||this.countCols()>=this.getSettings().maxCols||n}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,_,{value:{key:_,name:"Remove row",callback:function(t,e){var n=e.end.row-e.start.row+1;this.alter("remove_row",e.start.row,n)},disabled:function(){var t=g(this);if(!t)return!0;var e=[0,t[1],this.countRows()-1,t[1]];return e.join(",")===t.join(",")},hidden:function(){return!this.getSettings().allowRemoveRow}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,E,{value:{key:E,name:"Remove column",callback:function(t,e){var n=e.end.col-e.start.col+1;this.alter("remove_col",e.start.col,n)},disabled:function(){var t=g(this);if(!t)return!0;if(!this.isColumnModificationAllowed())return!0;var e=[t[0],0,t[0],this.countCols()-1],n=e.join(",")==t.join(",");return t[1]<0||n},hidden:function(){return!this.getSettings().allowRemoveColumn}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,T,{value:{key:T,name:"Undo",callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,k,{value:{key:k,name:"Redo",callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,S,{value:{key:S,name:function(){var t=this,e="Read only",n=m(this.getSelectedRange(),function(e,n){return t.getCellMeta(e,n).readOnly});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=m(e,function(e,n){return t.getCellMeta(e,n).readOnly});e.forAll(function(e,r){t.getCellMeta(e,r).readOnly=n?!1:!0}),this.render()},disabled:function(){return this.getSelectedRange()?!1:!0}},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(i,$,{value:{key:$,name:"Alignment",disabled:function(){return this.getSelectedRange()?!1:!0},submenu:{items:[{key:$+":left",name:function(){var t=this,e="Left",n=m(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;return r&&-1!==r.indexOf("htLeft")?!0:void 0});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=p(e,function(e,n){return t.getCellMeta(e,n).className}),r="horizontal",i="htLeft";this.runHooks("beforeCellAlignment",n,e,r,i),f(e,r,i,function(e,n){return t.getCellMeta(e,n)}),this.render()},disabled:!1},{key:$+":center",name:function(){var t=this,e="Center",n=m(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;return r&&-1!==r.indexOf("htCenter")?!0:void 0});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=p(e,function(e,n){return t.getCellMeta(e,n).className}),r="horizontal",i="htCenter";this.runHooks("beforeCellAlignment",n,e,r,i),f(e,r,i,function(e,n){return t.getCellMeta(e,n)}),this.render()},disabled:!1},{key:$+":right",name:function(){var t=this,e="Right",n=m(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;return r&&-1!==r.indexOf("htRight")?!0:void 0});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=p(e,function(e,n){return t.getCellMeta(e,n).className}),r="horizontal",i="htRight";this.runHooks("beforeCellAlignment",n,e,r,i),f(e,r,i,function(e,n){return t.getCellMeta(e,n)}),this.render()},disabled:!1},{key:$+":justify",name:function(){var t=this,e="Justify",n=m(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;return r&&-1!==r.indexOf("htJustify")?!0:void 0});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=p(e,function(e,n){return t.getCellMeta(e,n).className}),r="horizontal",i="htJustify";this.runHooks("beforeCellAlignment",n,e,r,i),f(e,r,i,function(e,n){return t.getCellMeta(e,n)}),this.render()},disabled:!1},{name:M},{key:$+":top",name:function(){var t=this,e="Top",n=m(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;return r&&-1!==r.indexOf("htTop")?!0:void 0});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=p(e,function(e,n){return t.getCellMeta(e,n).className}),r="vertical",i="htTop";this.runHooks("beforeCellAlignment",n,e,r,i),f(e,r,i,function(e,n){return t.getCellMeta(e,n)}),this.render()},disabled:!1},{key:$+":middle",name:function(){var t=this,e="Middle",n=m(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;return r&&-1!==r.indexOf("htMiddle")?!0:void 0});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=p(e,function(e,n){return t.getCellMeta(e,n).className}),r="vertical",i="htMiddle";this.runHooks("beforeCellAlignment",n,e,r,i),f(e,r,i,function(e,n){return t.getCellMeta(e,n)}),this.render()},disabled:!1},{key:$+":bottom",name:function(){var t=this,e="Bottom",n=m(this.getSelectedRange(),function(e,n){var r=t.getCellMeta(e,n).className;return r&&-1!==r.indexOf("htBottom")?!0:void 0});return n&&(e=v(e)),e},callback:function(){var t=this,e=this.getSelectedRange(),n=p(e,function(e,n){
return t.getCellMeta(e,n).className}),r="vertical",i="htBottom";this.runHooks("beforeCellAlignment",n,e,r,i),f(e,r,i,function(e,n){return t.getCellMeta(e,n)}),this.render()},disabled:!1}]}},configurable:!0,enumerable:!0,writable:!0}),i)},{"helpers/number":48,"helpers/object":49,utils:69}],69:[function(t,e,n){"use strict";function r(t){return{start:t.getTopLeftCorner(),end:t.getBottomRightCorner()}}function i(t){return m(t,"htSeparator")}function o(t){return m(t,"htSubmenu")}function a(t){return m(t,"htDisabled")}function s(t){var e=t.getSelected();return e?e[0]<0?null:t.countRows()>=t.getSettings().maxRows?null:e:null}function l(t,e){return-1!=t.indexOf(e)?t:(t=t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ",""),t+=" "+e)}function u(t,e){return-1!=t.indexOf(e)?t:(t=t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ",""),t+=" "+e)}function c(t,e){for(var n={},r=t.from.row;r<=t.to.row;r++)for(var i=t.from.col;i<=t.to.col;i++)n[r]||(n[r]=[]),n[r][i]=e(r,i);return n}function h(t,e,n,r){if(t.from.row==t.to.row&&t.from.col==t.to.col)d(t.from.row,t.from.col,e,n,r);else for(var i=t.from.row;i<=t.to.row;i++)for(var o=t.from.col;o<=t.to.col;o++)d(i,o,e,n,r)}function d(t,e,n,r,i){var o=i(t,e),a=r;o.className&&(a="vertical"===n?l(o.className,r):u(o.className,r)),o.className=a}function f(t,e){var n=!1;return t&&t.forAll(function(t,r){return e(t,r)?(n=!0,!1):void 0}),n}function p(t){return'<span class="selected">'+String.fromCharCode(10003)+"</span>"+t}Object.defineProperties(n,{normalizeSelection:{get:function(){return r}},isSeparator:{get:function(){return i}},hasSubMenu:{get:function(){return o}},isDisabled:{get:function(){return a}},getValidSelection:{get:function(){return s}},prepareVerticalAlignClass:{get:function(){return l}},prepareHorizontalAlignClass:{get:function(){return u}},getAlignmentClasses:{get:function(){return c}},align:{get:function(){return h}},checkSelectionConsistency:{get:function(){return f}},markLabelAsSelected:{get:function(){return p}},__esModule:{value:!0}});var g,m=(g=t("helpers/dom/element"),g&&g.__esModule&&g||{"default":g}).hasClass},{"helpers/dom/element":44}],70:[function(t,e,n){"use strict";Object.defineProperties(n,{ContextMenuCopyPaste:{get:function(){return f}},__esModule:{value:!0}});var r,i,o,a,s,l=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}).removeClass,u=(i=t("eventManager"),i&&i.__esModule&&i||{"default":i}).eventManager,c=(o=t("plugins"),o&&o.__esModule&&o||{"default":o}).registerPlugin,h=(a=t("_base"),a&&a.__esModule&&a||{"default":a})["default"],d=(s=t("zeroclipboard"),s&&s.__esModule&&s||{"default":s})["default"],f=function(t){var e=this;$traceurRuntime.superConstructor(p).call(this,t),this.swfPath=null,this.hotContextMenu=null,this.outsideClickDeselectsCache=null,this.hot.addHook("afterContextMenuShow",function(t){return e.setupZeroClipboard(t)}),this.hot.addHook("afterInit",function(){return e.afterInit()}),this.hot.addHook("afterContextMenuDefaultOptions",function(t){return e.addToContextMenu(t)})},p=f;$traceurRuntime.createClass(f,{afterInit:function(){if(this.hot.getSettings().contextMenuCopyPaste){"object"==typeof this.hot.getSettings().contextMenuCopyPaste&&(this.swfPath=this.hot.getSettings().contextMenuCopyPaste.swfPath),"undefined"==typeof d&&console.error("To be able to use the Copy/Paste feature from the context menu, you need to manualy include ZeroClipboard.js file to your website.");try{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(t){"undefined"==typeof navigator.mimeTypes["application/x-shockwave-flash"]&&console.error("To be able to use the Copy/Paste feature from the context menu, your browser needs to have Flash Plugin installed.")}this.prepareZeroClipboard()}},prepareZeroClipboard:function(){this.swfPath&&d.config({swfPath:this.swfPath})},getCopyValue:function(){return this.hot.copyPaste.setCopyableText(),this.hot.copyPaste.copyPasteInstance.elTextarea.value},addToContextMenu:function(t){this.hot.getSettings().contextMenuCopyPaste&&t.items.unshift({key:"copy",name:"Copy"},{key:"paste",name:"Paste",callback:function(){this.copyPaste.triggerPaste()}},Handsontable.plugins.ContextMenu.SEPARATOR)},setupZeroClipboard:function(t){var e,n,r=this;if(this.hot.getSettings().contextMenuCopyPaste){this.hotContextMenu=t,e=this.hotContextMenu.getData();for(var i=0,o=e.length;o>i;i++)if("copy"===e[i].key){n=new d(this.hotContextMenu.getCell(i,0)),n.off(),n.on("copy",function(t){var e=t.clipboardData;e.setData("text/plain",r.getCopyValue()),r.hot.getSettings().outsideClickDeselects=r.outsideClickDeselectsCache}),this.bindEvents();break}}},removeCurrentClass:function(){if(this.hotContextMenu.rootElement){var t=this.hotContextMenu.rootElement.querySelector("td.current");t&&l(t,"current")}this.outsideClickDeselectsCache=this.hot.getSettings().outsideClickDeselects,this.hot.getSettings().outsideClickDeselects=!1},removeZeroClipboardClass:function(){if(this.hotContextMenu.rootElement){var t=this.hotContextMenu.rootElement.querySelector("td.zeroclipboard-is-hover");t&&l(t,"zeroclipboard-is-hover")}this.hot.getSettings().outsideClickDeselects=this.outsideClickDeselectsCache},bindEvents:function(){var t=this,e=u(this.hotContextMenu);e.addEventListener(document,"mouseenter",function(){return t.removeCurrentClass()}),e.addEventListener(document,"mouseleave",function(){return t.removeZeroClipboardClass()})}},{},h),c("contextMenuCopyPaste",f)},{_base:56,eventManager:40,"helpers/dom/element":44,plugins:55,zeroclipboard:void 0}],71:[function(t,e,n){"use strict";function r(t){function e(){t.isListening()&&t.selection.empty()}function n(e){var n,r,i,o,a,s,l,u,c,h;t.isListening()&&t.selection.isSelected()&&(n=e,r=p.parse(n),i=t.getSelected(),o=new b(i[0],i[1]),a=new b(i[2],i[3]),s=new x(o,o,a),l=s.getTopLeftCorner(),u=s.getBottomRightCorner(),c=l,h=new b(Math.max(u.row,r.length-1+l.row),Math.max(u.col,r[0].length-1+l.col)),t.addHookOnce("afterChange",function(t,e){t&&t.length&&this.selectCell(c.row,c.col,h.row,h.col)}),t.populateFromArray(c.row,c.col,r,h.row,h.col,"paste",t.getSettings().pasteMode))}function r(e){if(t.getSelected()&&(!t.getActiveEditor()||!t.getActiveEditor().isOpened())){if(v(e.keyCode))return i.setCopyableText(),void y(e);var n=(e.ctrlKey||e.metaKey)&&!e.altKey;e.keyCode==m.A&&n&&t._registerTimeout(setTimeout(w(i.setCopyableText,i),0))}}var i=this;this.copyPasteInstance=f(),this.copyPasteInstance.onCut(e),this.copyPasteInstance.onPaste(n),t.addHook("beforeKeyDown",r),this.destroy=function(){this.copyPasteInstance&&(this.copyPasteInstance.removeCallback(e),this.copyPasteInstance.removeCallback(n),this.copyPasteInstance.destroy(),this.copyPasteInstance=null),t.removeHook("beforeKeyDown",r)},t.addHook("afterDestroy",w(this.destroy,this)),this.triggerPaste=w(this.copyPasteInstance.triggerPaste,this.copyPasteInstance),this.triggerCut=w(this.copyPasteInstance.triggerCut,this.copyPasteInstance),this.setCopyableText=function(){var e=t.getSettings(),n=e.copyRowsLimit,r=e.copyColsLimit,i=t.getSelectedRange(),o=i.getTopLeftCorner(),a=i.getBottomRightCorner(),s=o.row,l=o.col,u=a.row,c=a.col,h=Math.min(u,s+n-1),d=Math.min(c,l+r-1);t.copyPaste.copyPasteInstance.copyable(t.getCopyableData(s,l,h,d)),(u!==h||c!==d)&&Handsontable.hooks.run(t,"afterCopyLimit",u-s+1,c-l+1,n,r)}}function i(){var t=this,e=t.getSettings().copyPaste!==!1;e&&!t.copyPaste?t.copyPaste=new r(t):!e&&t.copyPaste&&(t.copyPaste.destroy(),t.copyPaste=null)}Object.defineProperties(n,{CopyPastePlugin:{get:function(){return r}},__esModule:{value:!0}});var o,a,s,l,u,c,h,d,f=(o=t("copyPaste"),o&&o.__esModule&&o||{"default":o})["default"],p=(a=t("SheetClip"),a&&a.__esModule&&a||{"default":a})["default"],g=(s=t("helpers/unicode"),s&&s.__esModule&&s||{"default":s}),m=g.KEY_CODES,v=g.isCtrlKey,y=(l=t("helpers/dom/event"),l&&l.__esModule&&l||{"default":l}).stopImmediatePropagation,w=(u=t("helpers/function"),u&&u.__esModule&&u||{"default":u}).proxy,b=((c=t("plugins"),c&&c.__esModule&&c||{"default":c}).registerPlugin,(h=t("3rdparty/walkontable/src/cell/coords"),h&&h.__esModule&&h||{"default":h}).WalkontableCellCoords),x=(d=t("3rdparty/walkontable/src/cell/range"),d&&d.__esModule&&d||{"default":d}).WalkontableCellRange;Handsontable.hooks.add("afterInit",i),Handsontable.hooks.add("afterUpdateSettings",i),Handsontable.hooks.register("afterCopyLimit")},{"3rdparty/walkontable/src/cell/coords":5,"3rdparty/walkontable/src/cell/range":6,SheetClip:"SheetClip",copyPaste:"copyPaste","helpers/dom/event":45,"helpers/function":46,"helpers/unicode":52,plugins:55}],72:[function(t,e,n){"use strict";function r(){}var i,o,a,s,l=((i=t("plugins"),i&&i.__esModule&&i||{"default":i}).registerPlugin,(o=t("3rdparty/walkontable/src/cell/range"),o&&o.__esModule&&o||{"default":o}).WalkontableCellRange),u=(a=t("3rdparty/walkontable/src/selection"),a&&a.__esModule&&a||{"default":a}).WalkontableSelection,c=function(t){return"boolean"==typeof t&&t===!0?!0:"object"==typeof t&&t.length>0?!0:!1},h=function(){c(this.getSettings().customBorders)&&(this.customBorders||(s=this,this.customBorders=new r))},d=function(t){for(var e=0;e<s.view.wt.selections.length;e++)if(s.view.wt.selections[e].settings.className==t)return e;return-1},f=function(t){var e={row:t.row,col:t.col},n=new u(t,new l(e,e,e)),r=d(t.className);r>=0?s.view.wt.selections[r]=n:s.view.wt.selections.push(n)},p=function(t,e,n){var r=b(t,e);r=x(r,n),this.setCellMeta(t,e,"borders",r),f(r)},g=function(t){for(var e=t.range,n=e.from.row;n<=e.to.row;n++)for(var r=e.from.col;r<=e.to.col;r++){var i=b(n,r),o=0;n==e.from.row&&(o++,t.hasOwnProperty("top")&&(i.top=t.top)),n==e.to.row&&(o++,t.hasOwnProperty("bottom")&&(i.bottom=t.bottom)),r==e.from.col&&(o++,t.hasOwnProperty("left")&&(i.left=t.left)),r==e.to.col&&(o++,t.hasOwnProperty("right")&&(i.right=t.right)),o>0&&(this.setCellMeta(n,r,"borders",i),f(i))}},m=function(t,e){return"border_row"+t+"col"+e},v=function(){return{width:1,color:"#000"}},y=function(){return{hide:!0}},w=function(){return{width:1,color:"#000",cornerVisible:!1}},b=function(t,e){return{className:m(t,e),border:w(),row:t,col:e,top:y(),right:y(),bottom:y(),left:y()}},x=function(t,e){return e.hasOwnProperty("border")&&(t.border=e.border),e.hasOwnProperty("top")&&(t.top=e.top),e.hasOwnProperty("right")&&(t.right=e.right),e.hasOwnProperty("bottom")&&(t.bottom=e.bottom),e.hasOwnProperty("left")&&(t.left=e.left),t},C=function(t){for(var e=document.querySelectorAll("."+t),n=0;n<e.length;n++)if(e[n]&&"TD"!=e[n].nodeName){var r=e[n].parentNode;r.parentNode&&r.parentNode.removeChild(r)}},_=function(t,e){var n=m(t,e);C(n),this.removeCellMeta(t,e,"borders")},E=function(t,e,n,r){var i=this.getCellMeta(t,e).borders;i&&void 0!=i.border||(i=b(t,e)),i[n]=r?y():v(),this.setCellMeta(t,e,"borders",i);var o=m(t,e);C(o),f(i),this.render()},T=function(t,e,n){if(t.from.row==t.to.row&&t.from.col==t.to.col)"noBorders"==e?_.call(this,t.from.row,t.from.col):E.call(this,t.from.row,t.from.col,e,n);else switch(e){case"noBorders":for(var r=t.from.col;r<=t.to.col;r++)for(var i=t.from.row;i<=t.to.row;i++)_.call(this,i,r);break;case"top":for(var o=t.from.col;o<=t.to.col;o++)E.call(this,t.from.row,o,e,n);break;case"right":for(var a=t.from.row;a<=t.to.row;a++)E.call(this,a,t.to.col,e);break;case"bottom":for(var s=t.from.col;s<=t.to.col;s++)E.call(this,t.to.row,s,e);break;case"left":for(var l=t.from.row;l<=t.to.row;l++)E.call(this,l,t.from.col,e)}},k=function(t,e){var n=!1;return t.getSelectedRange().forAll(function(r,i){var o=t.getCellMeta(r,i).borders;if(o){if(!e)return n=!0,!1;if(!o[e].hasOwnProperty("hide"))return n=!0,!1}}),n},S=function(t){return"<span class='selected'>"+String.fromCharCode(10003)+"</span>"+t},$=function(t){this.getSettings().customBorders&&(t.items.push(Handsontable.plugins.ContextMenu.SEPARATOR),t.items.push({key:"borders",name:"Borders",submenu:{items:[{key:"borders:top",name:function(){var t="Top",e=k(this,"top");return e&&(t=S(t)),t},callback:function(){var t=k(this,"top");T.call(this,this.getSelectedRange(),"top",t)},disabled:!1},{key:"borders:right",name:function(){var t="Right",e=k(this,"right");return e&&(t=S(t)),t},callback:function(){var t=k(this,"right");T.call(this,this.getSelectedRange(),"right",t)},disabled:!1},{key:"borders:bottom",name:function(){var t="Bottom",e=k(this,"bottom");return e&&(t=S(t)),t},callback:function(){var t=k(this,"bottom");T.call(this,this.getSelectedRange(),"bottom",t)},disabled:!1},{key:"borders:left",name:function(){var t="Left",e=k(this,"left");return e&&(t=S(t)),t},callback:function(){var t=k(this,"left");T.call(this,this.getSelectedRange(),"left",t)},disabled:!1},{key:"borders:no_borders",name:"Remove border(s)",callback:function(){T.call(this,this.getSelectedRange(),"noBorders")},disabled:function(){return!k(this)}}]}}))};Handsontable.hooks.add("beforeInit",h),Handsontable.hooks.add("afterContextMenuDefaultOptions",$),Handsontable.hooks.add("afterInit",function(){var t=this.getSettings().customBorders;if(t){for(var e=0;e<t.length;e++)t[e].range?g.call(this,t[e]):p.call(this,t[e].row,t[e].col,t[e]);this.render(),this.view.wt.draw(!0)}}),Handsontable.CustomBorders=r},{"3rdparty/walkontable/src/cell/range":6,"3rdparty/walkontable/src/selection":18,plugins:55}],73:[function(t,e,n){"use strict";function r(){this.boundaries=null,this.callback=null}Object.defineProperties(n,{DragToScroll:{get:function(){return r}},__esModule:{value:!0}});{var i,o,a=(i=t("eventManager"),i&&i.__esModule&&i||{"default":i}).eventManager;(o=t("plugins"),o&&o.__esModule&&o||{"default":o}).registerPlugin}Handsontable.plugins.DragToScroll=r,r.prototype.setBoundaries=function(t){this.boundaries=t},r.prototype.setCallback=function(t){this.callback=t},r.prototype.check=function(t,e){var n=0,r=0;e<this.boundaries.top?r=e-this.boundaries.top:e>this.boundaries.bottom&&(r=e-this.boundaries.bottom),t<this.boundaries.left?n=t-this.boundaries.left:t>this.boundaries.right&&(n=t-this.boundaries.right),this.callback(n,r)};var s,l=function(t){t.dragToScrollListening=!1;var e=t.view.wt.wtTable.holder;s=new r,e!==window&&(s.setBoundaries(e.getBoundingClientRect()),s.setCallback(function(t,n){0>t?e.scrollLeft-=50:t>0&&(e.scrollLeft+=50),0>n?e.scrollTop-=20:n>0&&(e.scrollTop+=20)}),t.dragToScrollListening=!0)};Handsontable.hooks.add("afterInit",function(){var t=this,e=a(this);e.addEventListener(document,"mouseup",function(){t.dragToScrollListening=!1}),e.addEventListener(document,"mousemove",function(e){t.dragToScrollListening&&s.check(e.clientX,e.clientY)})}),Handsontable.hooks.add("afterDestroy",function(){a(this).clear()}),Handsontable.hooks.add("afterOnCellMouseDown",function(){l(this)}),Handsontable.hooks.add("afterOnCellCornerMouseDown",function(){l(this)}),Handsontable.plugins.DragToScroll=r},{eventManager:40,plugins:55}],74:[function(t,e,n){"use strict";function r(t){var e=[],n={rows:0,cols:0},r={rows:0,cols:0},i=[],o=[],a={groupIndicatorContainer:"htGroupIndicatorContainer",groupIndicator:function(t){return"ht"+t+"Group"},groupStart:"htGroupStart",collapseButton:"htCollapseButton",expandButton:"htExpandButton",collapseGroupId:function(t){return"htCollapse-"+t},collapseFromLevel:function(t,e){return"htCollapse"+t+"FromLevel-"+e},clickable:"clickable",levelTrigger:"htGroupLevelTrigger"},s=function(t,e){return function(n,r){return"undefined"==typeof e||"asc"===e?n[t]-r[t]:r[t]-n[t]}},f=function(t,e){for(var n=[];e>=t;)n.push(t++);return n},g=function(t,e,n){var r=[],i={row:null,col:null};if("cols"==t)for(;n>=e;)i={row:-1,col:e++},r.push(i);else for(;n>=e;)i={row:e++,col:-1},r.push(i);for(var o=m(r),a=0,s=0,l=0;l<o.length;l++)a+=o[l].filter(function(t){return t.rows}).length,s+=o[l].filter(function(t){return t.cols}).length;return{total:{rows:a,cols:s},groups:o}},m=function(t){for(var e=[],n=0;n<t.length;n++)e.push(v(t[n]));return e},v=function(t,n,r){for(var i=t.row,o=t.col,a=-1===i?0:i,s=-1===o?0:o,l=[],u=0;u<e.length;u++){var c=e[u],h=c.id,d=(c.level,c.rows||[]),f=c.cols||[];-1===l.indexOf(h)&&(-1!==d.indexOf(a)||-1!==f.indexOf(s))&&l.push(c)}-1===o?l=l.concat(x()):-1===i&&(l=l.concat(_())),n&&(l=l.filter(function(t){return t.level===n})),r&&("cols"===r?l=l.filter(function(t){return t.cols}):"rows"===r&&(l=l.filter(function(t){return t.rows})));var p=[];return l.filter(function(t){return-1===p.indexOf(t.id)?(p.push(t.id),t):void 0})},y=function(t){for(var n=0,r=e.length;r>n;n++)if(e[n].id==t)return e[n];return!1},w=function(t,n){for(var r=0,i=e.length;i>r;r++)if(e[r].level==n&&e[r].rows&&e[r].rows.indexOf(t)>-1)return e[r];return!1},b=function(t,n){for(var r=0,i=e.length;i>r;r++)if(e[r].level==n&&e[r].cols&&e[r].cols.indexOf(t)>-1)return e[r];return!1},x=function(){for(var t=[],n=0,r=e.length;r>n;n++)Array.isArray(e[n].cols)&&t.push(e[n]);return t},C=function(t){for(var n=[],r=0,i=e.length;i>r;r++)e[r].cols&&e[r].level===t&&n.push(e[r]);return n},_=function(){for(var t=[],n=0,r=e.length;r>n;n++)Array.isArray(e[n].rows)&&t.push(e[n]);return t},E=function(t){for(var n=[],r=0,i=e.length;i>r;r++)e[r].rows&&e[r].level===t&&n.push(e[r]);return n},T=function(t){var e=0;return t.length&&t.forEach(function(t){if(t=t.filter(function(t){return t.cols}),t.length){var n=t.sort(s("level","desc")),r=n[0].level;r>e&&(e=r)}}),e},k=function(t){var e=0;return t.length&&t.forEach(function(t){if(t=t.filter(function(t){return t.rows}),t.length){var n=t.sort(s("level","desc")),r=n[0].level;r>e&&(e=r)}}),e},S=function(t,i){var o=g("cols",t,i),a=T(o.groups);a===r.cols?r.cols++:a>r.cols&&(r.cols=a+1),n.cols||(n.cols=x().length),n.cols++,e.push({id:"c"+n.cols,level:a+1,cols:f(t,i),hidden:0})},$=function(t,i){var o=g("rows",t,i),a=k(o.groups);r.rows=Math.max(r.rows,a+1),n.rows||(n.rows=_().length),n.rows++,e.push({id:"r"+n.rows,level:a+1,rows:f(t,i),hidden:0})},M=function(t,e){for(var n,r=0,a=e.length;a>r;r++)if(e[r].hidden=t,n=e[r].level,i[n]||(i[n]=[]),o[n]||(o[n]=[]),e[r].rows)for(var s=0,l=e[r].rows.length;l>s;s++)i[n][e[r].rows[s]]=t>0?!0:void 0;else if(e[r].cols)for(var s=0,u=e[r].cols.length;u>s;s++)o[n][e[r].cols[s]]=t>0?!0:void 0},A=function(t,e,n,r){var i,o;switch(t){case"rows":i=w(e+1,n).id,o=Handsontable.Grouping.getGroupLevelsByRows();break;case"cols":i=b(e+1,n).id,o=Handsontable.Grouping.getGroupLevelsByCols()}return!!(o[e+1]&&o[e+1].indexOf(n)>-1&&r==i)},R=function(t,e,n,r){var i,o;switch(t){case"rows":i=w(e-1,n).id,o=Handsontable.Grouping.getGroupLevelsByRows();break;case"cols":i=b(e-1,n).id,o=Handsontable.Grouping.getGroupLevelsByCols()}return!!(o[e-1]&&o[e-1].indexOf(n)>-1&&r==i)},D=function(e,n,a,s){if(0===n)return!1;var l,u,c=R(e,n,a,s),h=A(e,n,a,s),d=!1;switch(e){case"rows":l=Handsontable.Grouping.getGroupLevelsByRows(),u=t.countRows();for(var f=0;f<=r.rows;f++)if(i[f]&&i[f][n+1]){d=!0;break}break;case"cols":l=Handsontable.Grouping.getGroupLevelsByCols(),u=t.countCols();for(var f=0;f<=r.cols;f++)if(o[f]&&o[f][n+1]){d=!0;break}}if(c){if(n==u-1)return!0;if(!h||h&&d)return!0;if(!l[n+1])return!0}return!1},O=function(e){var n;switch(e){case"rows":n=r.rows;for(var a=0;n>=a;a++)if(i[a]&&i[a][t.countRows()-1])return!0;break;case"cols":n=r.cols;for(var a=0;n>=a;a++)if(o[a]&&o[a][t.countCols()-1])return!0}return!1},P=function(e,n,a,s){var l,u,c,h=y(s),d=!1,f=function(t){for(var e=!1,a="rows"==t?i:o,s=0;s<=r[t];s++){for(c=n;h[t].indexOf(c)>-1;)e=!(!a[s]||!a[s][c]),c--;if(e)break}return e},p=R(e,n,a,s),g=A(e,n,a,s);switch(e){case"rows":l=Handsontable.Grouping.getGroupLevelsByRows(),u=t.countRows(),d=f(e);break;case"cols":l=Handsontable.Grouping.getGroupLevelsByCols(),u=t.countCols(),d=f(e)}if(n==u-1)return!1;if(0===n){if(g)return!0}else if(!p||p&&d){if(g)return!0}else if(!l[n-1]&&g)return!0;return!1},H=function(t,e,n,r,i){var o;switch(t){case"rows":o=w(e-1,n).id;break;case"cols":o=b(e-1,n).id}if(!o)return null;if(e>0&&R(t,e-1,n,o)&&o!=r){var s=document.createElement("DIV");return l(s,a.expandButton),s.id="htExpand-"+o,s.appendChild(document.createTextNode("+")),s.setAttribute("data-level",n),s.setAttribute("data-type",t),s.setAttribute("data-hidden","1"),i.appendChild(s),s}return null},L=function(t){for(var e=_(),n=x(),r=0,i=e.length;i>r;r++)if(e[r].rows.indexOf(t.row)>-1&&e[r].hidden)return!0;if(null===t.col)return!1;for(var r=0,o=n.length;o>r;r++)if(n[r].cols.indexOf(t.col)>-1&&n[r].hidden)return!0;return!1};return{getGroups:function(){return e},getLevels:function(){return r},instance:t,baseSpareRows:t.getSettings().minSpareRows,baseSpareCols:t.getSettings().minSpareCols,getRowGroups:_,getColGroups:x,init:function(){var e=t.getSettings().groups;e&&Array.isArray(e)&&Handsontable.Grouping.initGroups(e)},initGroups:function(t){e=[],t.forEach(function(t){var e=[],n=!1,r=!1;Array.isArray(t.rows)?(e=t.rows,n=!0):Array.isArray(t.cols)&&(e=t.cols,r=!0);var i=e[0],o=e[e.length-1];n?$(i,o):r&&S(i,o)})},resetGroups:function(){e=[],n={rows:0,cols:0},r={rows:0,cols:0};var t;for(var i in a)if("function"!=typeof a[i]){t=document.querySelectorAll("."+a[i]);for(var o=0,s=t.length;s>o;o++)u(t[o],a[i])}for(var l=["htGroupColClosest","htGroupCol"],i=0,c=l.length;c>i;i++){t=document.querySelectorAll("."+l[i]);for(var o=0,s=t.length;s>o;o++)u(t[o],l[i])}},updateGroups:function(){var t=this.getSettings().groups;Handsontable.Grouping.resetGroups(),Handsontable.Grouping.initGroups(t)},afterGetRowHeader:function(t,e){if(e.parentNode){for(var n=!1,r=0,o=i.length;o>r;r++)i[r]&&i[r][t]===!0&&(n=!0);n?l(e.parentNode,"hidden"):!n&&c(e.parentNode,"hidden")&&u(e.parentNode,"hidden")}},afterGetColHeader:function(e,n){var r=this.view.wt.wtSettings.getSetting("rowHeaders").length,i=t.rootElement.querySelectorAll("colgroup col:nth-child("+parseInt(e+r+1,10)+")");if(0!==i.length){for(var a=!1,s=0,h=o.length;h>s;s++)o[s]&&o[s][e]===!0&&(a=!0);if(a)for(var s=0,d=i.length;d>s;s++)l(i[s],"hidden");else if(!a&&c(i[0],"hidden"))for(var s=0,d=i.length;d>s;s++)u(i[s],"hidden")}},groupIndicatorsFactory:function(t,e){var i,o,s,c,d,f,g,m;switch(e){case"horizontal":i=Handsontable.Grouping.getGroupLevelsByCols(),o=function(t){return Array.prototype.indexOf.call(t.parentNode.parentNode.childNodes,t.parentNode)+1},s=function(t,e){return b(t,e).id},c="cols",d=function(t,e){return b(t-1,e)},f="columnHeaders",g=function(t){if(1===t.length){var e=t[0];t[0]=function(t,n,r){-1>t?y()(t,n,r):(u(n,a.groupIndicatorContainer),e(t,n,r))}}return function(){return t}},m=!0;break;case"vertical":i=Handsontable.Grouping.getGroupLevelsByRows(),o=function(t){return h(t)+1},s=function(t,e){return w(t,e).id},c="rows",d=function(t,e){return w(t-1,e)},f="rowHeaders",g=function(t){return t}}var v=function(t){var e=document.createElement("div");return t.appendChild(e),{button:e,addClass:function(t){l(e,t)}}},y=function(){var t=e.charAt(0).toUpperCase()+e.slice(1);return function(e,n,r){r++;for(var o,u;o=n.lastChild;)n.removeChild(o);l(n,a.groupIndicatorContainer);var f=s(e,r);if(e>-1&&i[e]&&i[e].indexOf(r)>-1&&(u=v(n),u.addClass(a.groupIndicator(t)),P(c,e,r,f)&&u.addClass(a.groupStart),D(c,e,r,f)&&(u.button.appendChild(document.createTextNode("-")),u.addClass(a.collapseButton),u.button.id=a.collapseGroupId(f),u.button.setAttribute("data-level",r),u.button.setAttribute("data-type",c))),m){var g=h(n.parentNode);if(-1===e||-1>e&&g===Handsontable.Grouping.getLevels().cols+1||0===g&&0===Handsontable.Grouping.getLevels().cols)if(u=v(n),u.addClass(a.levelTrigger),-1===e)u.button.id=a.collapseFromLevel("Cols",r),u.button.appendChild(document.createTextNode(r));else if(-1>e&&g===Handsontable.Grouping.getLevels().cols+1||0===g&&0===Handsontable.Grouping.getLevels().cols){var y=h(n)+1;u.button.id=a.collapseFromLevel("Rows",y),u.button.appendChild(document.createTextNode(y))}}var w=H(c,e,r,f,n);if(e>0){var b=d(e-1,r);w&&b.hidden&&l(w,a.clickable)}p()}};if(t=g(t),n[c]>0)for(var x=0;x<r[c]+1;x++)Array.isArray(t)||(t="function"==typeof t?t():new Array(t)),t.unshift(y())},getGroupLevelsByRows:function(){for(var t=_(),e=[],n=0,r=t.length;r>n;n++)if(t[n].rows)for(var i=0,o=t[n].rows.length;o>i;i++)e[t[n].rows[i]]||(e[t[n].rows[i]]=[]),e[t[n].rows[i]].push(t[n].level);return e},getGroupLevelsByCols:function(){for(var t=x(),e=[],n=0,r=t.length;r>n;n++)if(t[n].cols)for(var i=0,o=t[n].cols.length;o>i;i++)e[t[n].cols[i]]||(e[t[n].cols[i]]=[]),e[t[n].cols[i]].push(t[n].level);return e},toggleGroupVisibility:function(e,n,i){if(c(e.target,a.expandButton)||c(e.target,a.collapseButton)||c(e.target,a.levelTrigger)){var o,s,l,u,h=e.target,f=h.id.split("-"),p=[],g=function(t){t&&(h=t),f=h.id.split("-"),o=f[1],s=parseInt(h.getAttribute("data-level"),10),l=h.getAttribute("data-type"),u=parseInt(h.getAttribute("data-hidden")),u=isNaN(u)?1:u?0:1,h.setAttribute("data-hidden",u.toString()),p.push(y(o))};if(h.className.indexOf(a.levelTrigger)>-1){for(var m,v=[],w=[],b=h.id.indexOf("Rows")>-1?"rows":"cols",x=1,_=r[b];_>=x;x++)if(m="rows"==b?E(x):C(x),x>=parseInt(f[1],10))for(var T=0,k=m.length;k>T;T++)w.push(m[T]);else for(var T=0,k=m.length;k>T;T++)v.push(m[T]);M(!0,w),M(!1,v)}else g(),M(u,p);l=l||b;var S=O(l),$=l.charAt(0).toUpperCase()+l.slice(1),A=Handsontable.Grouping["baseSpare"+$];S?0==A&&(t.alter("insert_"+l.slice(0,-1),t["count"+$]()),Handsontable.Grouping["dummy"+l.slice(0,-1)]=!0):0==A&&Handsontable.Grouping["dummy"+l.slice(0,-1)]&&(t.alter("remove_"+l.slice(0,-1),t["count"+$]()-1),Handsontable.Grouping["dummy"+l.slice(0,-1)]=!1),t.render(),d(e)}},modifySelectionFactory:function(t){var e,n=this.instance,r=new WalkontableCellCoords(0,0),i=function(t,e){var n=0;switch(t){case"down":for(;L(e);)n++,e.row+=1;break;case"up":for(;L(e);)n--,e.row-=1;break;case"right":for(;L(e);)n++,e.col+=1;break;case"left":for(;L(e);)n--,e.col-=1}return n},o=function(t,e){t.row>0?L(e)&&(t.row+=i("down",e)):t.row<0&&L(e)&&(t.row+=i("up",e)),t.col>0?L(e)&&(t.col+=i("right",e)):t.col<0&&L(e)&&(t.col+=i("left",e))};switch(t){case"start":return function(t){e=n.getSelected(),r.row=e[0]+t.row,r.col=e[1]+t.col,o(t,r)};case"end":return function(t){e=n.getSelected(),r.row=e[2]+t.row,r.col=e[3]+t.col,o(t,r)}}},modifyRowHeight:function(e,n){return t.view.wt.wtTable.rowFilter&&L({row:n,col:null})?0:void 0},validateGroups:function(){for(var e=function(t,e){return t[0]<e[0]&&t[1]<e[1]&&e[0]<=t[1]||t[0]>e[0]&&e[1]<t[1]&&t[0]<=e[1]?!0:void 0},n=t.getSettings().groups,r=[],i=[],o=0,a=n.length;a>o;o++)if(n[o].rows){if(1===n[o].rows.length)throw new Error("Grouping error:  Group {"+n[o].rows[0]+"} is invalid. Cannot define single-entry groups.");if(0===n[o].rows.length)throw new Error("Grouping error:  Cannot define empty groups.");i.push(n[o].rows);for(var s=0,l=i.length;l>s;s++)if(e(n[o].rows,i[s]))throw new Error("Grouping error:  ranges {"+n[o].rows[0]+", "+n[o].rows[1]+"} and {"+i[s][0]+", "+i[s][1]+"} are overlapping.")}else if(n[o].cols){if(1===n[o].cols.length)throw new Error("Grouping error:  Group {"+n[o].cols[0]+"} is invalid. Cannot define single-entry groups.");if(0===n[o].cols.length)throw new Error("Grouping error:  Cannot define empty groups.");r.push(n[o].cols);for(var s=0,u=r.length;u>s;s++)if(e(n[o].cols,r[s]))throw new Error("Grouping error:  ranges {"+n[o].cols[0]+", "+n[o].cols[1]+"} and {"+r[s][0]+", "+r[s][1]+"} are overlapping.")}return!0},afterGetRowHeaderRenderers:function(t){Handsontable.Grouping.groupIndicatorsFactory(t,"vertical")},afterGetColumnHeaderRenderers:function(t){Handsontable.Grouping.groupIndicatorsFactory(t,"horizontal")},hookProxy:function(e,n){return function(){return t.getSettings().groups?n?Handsontable.Grouping[e](n).apply(this,arguments):Handsontable.Grouping[e].apply(this,arguments):void 0}}}}{var i,o,a,s=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),l=s.addClass,u=s.removeClass,c=s.hasClass,h=s.index,d=(o=t("helpers/dom/event"),o&&o.__esModule&&o||{"default":o}).stopImmediatePropagation;(a=t("plugins"),a&&a.__esModule&&a||{"default":a}).registerPlugin}r.prototype.beforeInit=function(){};var f=function(){var t=this,e=!!t.getSettings().groups;if(e){var n={};Handsontable.Grouping=new r(t),t.getSettings().rowHeaders||(n.rowHeaders=!0),t.getSettings().colHeaders||(n.colHeaders=!0),(n.colHeaders||n.rowHeaders)&&t.updateSettings(n);var i=Handsontable.Grouping.validateGroups();if(!i)return;t.addHook("beforeInit",Handsontable.Grouping.hookProxy("init")),t.addHook("afterUpdateSettings",Handsontable.Grouping.hookProxy("updateGroups")),t.addHook("afterGetColumnHeaderRenderers",Handsontable.Grouping.hookProxy("afterGetColumnHeaderRenderers")),t.addHook("afterGetRowHeaderRenderers",Handsontable.Grouping.hookProxy("afterGetRowHeaderRenderers")),t.addHook("afterGetRowHeader",Handsontable.Grouping.hookProxy("afterGetRowHeader")),t.addHook("afterGetColHeader",Handsontable.Grouping.hookProxy("afterGetColHeader")),t.addHook("beforeOnCellMouseDown",Handsontable.Grouping.hookProxy("toggleGroupVisibility")),t.addHook("modifyTransformStart",Handsontable.Grouping.hookProxy("modifySelectionFactory","start")),t.addHook("modifyTransformEnd",Handsontable.Grouping.hookProxy("modifySelectionFactory","end")),t.addHook("modifyRowHeight",Handsontable.Grouping.hookProxy("modifyRowHeight"))}},p=function(){for(var t=document.querySelectorAll("colgroup"),e=0,n=t.length;n>e;e++){var r=t[e].querySelectorAll("col.rowHeader");if(0===r.length)return;for(var i=0,o=r.length+1;o>i;i++){if(2==o)return;i<Handsontable.Grouping.getLevels().rows+1&&(i==Handsontable.Grouping.getLevels().rows?l(r[i],"htGroupColClosest"):l(r[i],"htGroupCol"))}}};Handsontable.hooks.add("beforeInit",f),Handsontable.hooks.add("afterUpdateSettings",function(){this.getSettings().groups&&!Handsontable.Grouping?f.call(this,arguments):!this.getSettings().groups&&Handsontable.Grouping&&(Handsontable.Grouping.resetGroups(),Handsontable.Grouping=void 0)}),Handsontable.plugins.Grouping=r},{"helpers/dom/element":44,"helpers/dom/event":45,plugins:55}],75:[function(t,e,n){"use strict";Object.defineProperties(n,{ManualColumnFreeze:{get:function(){return s}},__esModule:{value:!0}});var r,i,o=(r=t("_base"),r&&r.__esModule&&r||{"default":r})["default"],a=(i=t("plugins"),i&&i.__esModule&&i||{"default":i}).registerPlugin,s=function(t){$traceurRuntime.superConstructor(l).call(this,t)},l=s;$traceurRuntime.createClass(s,{isEnabled:function(){return!!this.hot.getSettings().manualColumnFreeze},enablePlugin:function(){var t=this;this.enabled||(this.addHook("modifyCol",function(e){return t.onModifyCol(e)}),this.addHook("afterContextMenuDefaultOptions",function(e){return t.addContextMenuEntry(e)}),$traceurRuntime.superGet(this,l.prototype,"enablePlugin").call(this))},disablePlugin:function(){$traceurRuntime.superGet(this,l.prototype,"disablePlugin").call(this)},init:function(){$traceurRuntime.superGet(this,l.prototype,"init").call(this),"undefined"!=typeof this.hot.manualColumnPositionsPluginUsages?this.hot.manualColumnPositionsPluginUsages.push("manualColumnFreeze"):this.hot.manualColumnPositionsPluginUsages=["manualColumnFreeze"],this.fixedColumnsCount=this.hot.getSettings().fixedColumnsLeft},onModifyCol:function(t){return this.hot.manualColumnPositionsPluginUsages.length>1?t:this.getModifiedColumnIndex(t)},getModifiedColumnIndex:function(t){return this.hot.manualColumnPositions[t]},addContextMenuEntry:function(t){var e=this;t.items.push(Handsontable.plugins.ContextMenu.SEPARATOR,{key:"freeze_column",name:function(){var t=e.hot.getSelected()[1];return t>e.fixedColumnsCount-1?"Freeze this column":"Unfreeze this column"},disabled:function(){var t=e.hot.getSelected();return t[1]!==t[3]},callback:function(){var t=e.hot.getSelected()[1];t>e.fixedColumnsCount-1?e.freezeColumn(t):e.unfreezeColumn(t)}})},freezeColumn:function(t){if(!(t<=this.fixedColumnsCount-1)){var e=this.getModifiedColumnIndex(t)||t;this.checkPositionData(e),this.modifyColumnOrder(e,t,null,"freeze"),this.addFixedColumn(),this.hot.view.wt.wtOverlays.leftOverlay.refresh(),this.hot.view.wt.wtOverlays.adjustElementsSize()}},unfreezeColumn:function(t){if(!(t>this.fixedColumnsCount-1)){var e=this.getBestColumnReturnPosition(t),n=this.getModifiedColumnIndex(t)||t;this.checkPositionData(n),this.modifyColumnOrder(n,t,e,"unfreeze"),
this.removeFixedColumn(),this.hot.view.wt.wtOverlays.leftOverlay.refresh(),this.hot.view.wt.wtOverlays.adjustElementsSize()}},addFixedColumn:function(){this.hot.updateSettings({fixedColumnsLeft:this.fixedColumnsCount+1}),this.fixedColumnsCount++},removeFixedColumn:function(){this.hot.updateSettings({fixedColumnsLeft:this.fixedColumnsCount-1}),this.fixedColumnsCount--},checkPositionData:function(t){this.hot.manualColumnPositions&&0!==this.hot.manualColumnPositions.length||this.hot.manualColumnPositions||(this.hot.manualColumnPositions=[]),t?this.hot.manualColumnPositions[t]||this.createPositionData(t+1):this.createPositionData(this.hot.countCols())},createPositionData:function(t){if(this.hot.manualColumnPositions.length<t)for(var e=this.hot.manualColumnPositions.length;t>e;e++)this.hot.manualColumnPositions[e]=e},modifyColumnOrder:function(t,e,n,r){null==n&&(n=t),"freeze"===r?this.hot.manualColumnPositions.splice(this.fixedColumnsCount,0,this.hot.manualColumnPositions.splice(e,1)[0]):"unfreeze"===r&&this.hot.manualColumnPositions.splice(n,0,this.hot.manualColumnPositions.splice(e,1)[0])},getBestColumnReturnPosition:function(t){for(var e=this.fixedColumnsCount,n=this.getModifiedColumnIndex(e),r=this.getModifiedColumnIndex(t);r>n;)e++,n=this.getModifiedColumnIndex(e);return e-1}},{},o),a("manualColumnFreeze",s)},{_base:56,plugins:55}],76:[function(t,e,n){"use strict";function r(){function t(t){g=this,m=t;var e=this.view.wt.wtTable.getCoords(t).col;if(e>=0){f=e;var n=m.getBoundingClientRect();l=n.left,v.style.top=n.top+"px",v.style.left=l+"px",g.rootElement.appendChild(v)}}function e(t,e){var n=t.getBoundingClientRect(),r=6;v.style.left=e>0?n.left+n.width-r+"px":n.left+"px"}function n(){var t=this;u(v,"active"),u(y,"active");var e=m.getBoundingClientRect();y.style.width=e.width+"px",y.style.height=t.view.maximumVisibleElementHeight(0)+"px",y.style.top=v.style.top,y.style.left=l+"px",t.rootElement.appendChild(y)}function r(t){y.style.left=l+t+"px"}function i(){h(v,"active"),h(y,"active")}var o,a,s,l,f,g,m,v=document.createElement("DIV"),y=document.createElement("DIV"),w=d(this);v.className="manualColumnMover",y.className="manualColumnMoverGuide";var b=function(){var t=this;Handsontable.hooks.run(t,"persistentStateSave","manualColumnPositions",t.manualColumnPositions)},x=function(){var t=this,e={};return Handsontable.hooks.run(t,"persistentStateLoad","manualColumnPositions",e),e.value},C=function(t){return"BODY"!=t.tagName?"THEAD"==t.parentNode.tagName?!0:(t=t.parentNode,C(t)):!1},_=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:_(t.parentNode):null},E=function(){var l,u=this;w.addEventListener(u.rootElement,"mouseover",function(n){if(C(n.target)){var r=_(n.target);if(r)if(l){var i=u.view.wt.wtTable.getCoords(r).col;i>=0&&(a=i,e(n.target,a-o))}else t.call(u,r)}}),w.addEventListener(u.rootElement,"mousedown",function(t){c(t.target,"manualColumnMover")&&(s=p(t),n.call(u),l=u,o=f,a=f)}),w.addEventListener(window,"mousemove",function(t){l&&r(p(t)-s)}),w.addEventListener(window,"mouseup",function(e){l&&(i(),l=!1,k(u.manualColumnPositions,u.countCols()),u.manualColumnPositions.splice(a,0,u.manualColumnPositions.splice(o,1)[0]),Handsontable.hooks.run(u,"beforeColumnMove",o,a),u.forceFullRender=!0,u.view.render(),b.call(u),Handsontable.hooks.run(u,"afterColumnMove",o,a),t.call(u,m))}),u.addHook("afterDestroy",T)},T=function(){w.clear()},k=function(t,e){if(t.length<e)for(var n=t.length;e>n;n++)t[n]=n};this.beforeInit=function(){this.manualColumnPositions=[]},this.init=function(t){var e=this,n=!!this.getSettings().manualColumnMove;if(n){var r=this.getSettings().manualColumnMove,i=x.call(e);this.manualColumnPositions="undefined"!=typeof i?i:Array.isArray(r)?r:[],("afterInit"===t||"afterUpdateSettings"===t&&0===w.context.eventListeners.length)&&("undefined"!=typeof e.manualColumnPositionsPluginUsages?e.manualColumnPositionsPluginUsages.push("manualColumnMove"):e.manualColumnPositionsPluginUsages=["manualColumnMove"],E.call(this),this.manualColumnPositions.length>0&&(this.forceFullRender=!0,this.render()))}else{var o=e.manualColumnPositionsPluginUsages?e.manualColumnPositionsPluginUsages.indexOf("manualColumnMove"):-1;o>-1&&(T.call(this),this.manualColumnPositions=[],e.manualColumnPositionsPluginUsages[o]=void 0)}},this.modifyCol=function(t){return this.getSettings().manualColumnMove?("undefined"==typeof this.manualColumnPositions[t]&&k(this.manualColumnPositions,t+1),this.manualColumnPositions[t]):t},this.afterRemoveCol=function(t,e){if(this.getSettings().manualColumnMove){var n,r=this.manualColumnPositions;n=r.splice(t,e),r=r.map(function(t){var e,r=t;for(e=0;e<n.length;e++)t>n[e]&&r--;return r}),this.manualColumnPositions=r}},this.afterCreateCol=function(t,e){if(this.getSettings().manualColumnMove){var n=this.manualColumnPositions;if(n.length){for(var r=[],i=0;e>i;i++)r.push(t+i);t>=n.length?n.concat(r):(n=n.map(function(n){return n>=t?n+e:n}),n.splice.apply(n,[t,0].concat(r))),this.manualColumnPositions=n}}}}Object.defineProperties(n,{ManualColumnMove:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s,l=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),u=l.addClass,c=l.hasClass,h=l.removeClass,d=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,f=(a=t("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),p=f.pageX,g=(f.pageY,(s=t("plugins"),s&&s.__esModule&&s||{"default":s}).registerPlugin,new r);Handsontable.hooks.add("beforeInit",g.beforeInit),Handsontable.hooks.add("afterInit",function(){g.init.call(this,"afterInit")}),Handsontable.hooks.add("afterUpdateSettings",function(){g.init.call(this,"afterUpdateSettings")}),Handsontable.hooks.add("modifyCol",g.modifyCol),Handsontable.hooks.add("afterRemoveCol",g.afterRemoveCol),Handsontable.hooks.add("afterCreateCol",g.afterCreateCol),Handsontable.hooks.register("beforeColumnMove"),Handsontable.hooks.register("afterColumnMove")},{eventManager:40,"helpers/dom/element":44,"helpers/dom/event":45,plugins:55}],77:[function(t,e,n){"use strict";Object.defineProperties(n,{ManualColumnResize:{get:function(){return v}},__esModule:{value:!0}});var r,i,o,a,s,l=(r=t("_base.js"),r&&r.__esModule&&r||{"default":r})["default"],u=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),c=u.addClass,h=u.hasClass,d=u.removeClass,f=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,p=(a=t("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),g=p.pageX,m=(p.pageY,(s=t("plugins"),s&&s.__esModule&&s||{"default":s}).registerPlugin),v=function(t){$traceurRuntime.superConstructor(y).call(this,t),this.currentTH=null,this.currentCol=null,this.currentWidth=null,this.newSize=null,this.startY=null,this.startWidth=null,this.startOffset=null,this.handle=document.createElement("DIV"),this.guide=document.createElement("DIV"),this.eventManager=f(this),this.pressed=null,this.dblclick=0,this.autoresizeTimeout=null,this.manualColumnWidths=[],c(this.handle,"manualColumnResizer"),c(this.guide,"manualColumnResizerGuide")},y=v;$traceurRuntime.createClass(v,{isEnabled:function(){return this.hot.getSettings().manualColumnResize},enablePlugin:function(){var t=this;if(!this.enabled){this.manualColumnWidths=[];var e=this.hot.getSettings().manualColumnResize,n=this.loadManualColumnWidths();this.addHook("modifyColWidth",function(e,n){return t.onModifyColWidth(e,n)}),this.manualColumnWidths="undefined"!=typeof n?n:Array.isArray(e)?e:[],Handsontable.hooks.register("beforeColumnResize"),Handsontable.hooks.register("afterColumnResize"),this.bindEvents(),$traceurRuntime.superGet(this,y.prototype,"enablePlugin").call(this)}},updatePlugin:function(){var t=this.hot.getSettings().manualColumnResize;this.manualColumnWidths=Array.isArray(t)?t:[]},disablePlugin:function(){$traceurRuntime.superGet(this,y.prototype,"disablePlugin").call(this)},saveManualColumnWidths:function(){this.hot.runHooks("persistentStateSave","manualColumnWidths",this.manualColumnWidths)},loadManualColumnWidths:function(){var t={};return this.hot.runHooks("persistentStateLoad","manualColumnWidths",t),t.value},setupHandlePosition:function(t){this.currentTH=t;var e=this.hot.view.wt.wtTable.getCoords(t).col;if(e>=0){var n=this.currentTH.getBoundingClientRect();this.currentCol=e,this.startOffset=n.left-6,this.startWidth=parseInt(n.width,10),this.handle.style.top=n.top+"px",this.handle.style.left=this.startOffset+this.startWidth+"px",this.hot.rootElement.appendChild(this.handle)}},refreshHandlePosition:function(){this.handle.style.left=this.startOffset+this.currentWidth+"px"},setupGuidePosition:function(){c(this.handle,"active"),c(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style.left=this.handle.style.left,this.guide.style.height=this.hot.view.maximumVisibleElementHeight(0)+"px",this.hot.rootElement.appendChild(this.guide)},refreshGuidePosition:function(){this.guide.style.left=this.handle.style.left},hideHandleAndGuide:function(){d(this.handle,"active"),d(this.guide,"active")},checkIfColumnHeader:function(t){return"BODY"!=t.tagName?"THEAD"==t.parentNode.tagName?!0:(t=t.parentNode,this.checkIfColumnHeader(t)):!1},getTHFromTargetElement:function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:this.getTHFromTargetElement(t.parentNode):null},onMouseOver:function(t){if(this.checkIfColumnHeader(t.target)){var e=this.getTHFromTargetElement(t.target);e&&(this.pressed||this.setupHandlePosition(e))}},afterMouseDownTimeout:function(){if(this.dblclick>=2){var t=this.hot.runHooks("beforeColumnResize",this.currentCol,this.newSize,!0);void 0!==t&&(this.newSize=t),this.setManualSize(this.currentCol,this.newSize),this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0),this.hot.runHooks("afterColumnResize",this.currentCol,this.newSize,!0)}this.dblclick=0,this.autoresizeTimeout=null},onMouseDown:function(t){var e=this;h(t.target,"manualColumnResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null===this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return e.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startX=g(t),this.newSize=this.startWidth)},onMouseMove:function(t){this.pressed&&(this.currentWidth=this.startWidth+(g(t)-this.startX),this.newSize=this.setManualSize(this.currentCol,this.currentWidth),this.refreshHandlePosition(),this.refreshGuidePosition())},onMouseUp:function(t){this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startWidth&&(this.hot.runHooks("beforeColumnResize",this.currentCol,this.newSize),this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0),this.saveManualColumnWidths(),this.hot.runHooks("afterColumnResize",this.currentCol,this.newSize)),this.setupHandlePosition(this.currentTH))},bindEvents:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(window,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(window,"mouseup",function(e){return t.onMouseUp(e)})},setManualSize:function(t,e){return e=Math.max(e,20),t=this.hot.runHooks("modifyCol",t),this.manualColumnWidths[t]=e,e},onModifyColWidth:function(t,e){return this.enabled&&(e=this.hot.runHooks("modifyCol",e),this.hot.getSettings().manualColumnResize&&this.manualColumnWidths[e])?this.manualColumnWidths[e]:t}},{},l),m("manualColumnResize",v)},{"_base.js":56,eventManager:40,"helpers/dom/element":44,"helpers/dom/event":45,plugins:55}],78:[function(t,e,n){"use strict";function r(){function t(t){var e=this;g=t;var n=this.view.wt.wtTable.getCoords(t).row;if(n>=0){f=n;var r=g.getBoundingClientRect();l=r.top,m.style.top=l+"px",m.style.left=r.left+"px",e.rootElement.appendChild(m)}}function e(t,e){var n=t.getBoundingClientRect(),r=6;m.style.top=e>0?n.top+n.height-r+"px":n.top+"px"}function n(){var t=this;u(m,"active"),u(v,"active");var e=g.getBoundingClientRect();v.style.width=t.view.maximumVisibleElementWidth(0)+"px",v.style.height=e.height+"px",v.style.top=l+"px",v.style.left=m.style.left,t.rootElement.appendChild(v)}function r(t){v.style.top=l+t+"px"}function i(){h(m,"active"),h(v,"active")}var o,a,s,l,f,g,m=document.createElement("DIV"),v=document.createElement("DIV"),y=d(this);m.className="manualRowMover",v.className="manualRowMoverGuide";var w=function(){var t=this;Handsontable.hooks.run(t,"persistentStateSave","manualRowPositions",t.manualRowPositions)},b=function(){var t=this,e={};return Handsontable.hooks.run(t,"persistentStateLoad","manualRowPositions",e),e.value},x=function(t){return"BODY"!=t.tagName?"TBODY"==t.parentNode.tagName?!0:(t=t.parentNode,x(t)):!1},C=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:C(t.parentNode):null},_=function(){var l,u=this;y.addEventListener(u.rootElement,"mouseover",function(n){if(x(n.target)){var r=C(n.target);r&&(l?(a=u.view.wt.wtTable.getCoords(r).row,e(r,a-o)):t.call(u,r))}}),y.addEventListener(u.rootElement,"mousedown",function(t){c(t.target,"manualRowMover")&&(s=p(t),n.call(u),l=u,o=f,a=f)}),y.addEventListener(window,"mousemove",function(t){l&&r(p(t)-s)}),y.addEventListener(window,"mouseup",function(e){l&&(i(),l=!1,T(u.manualRowPositions,u.countRows()),u.manualRowPositions.splice(a,0,u.manualRowPositions.splice(o,1)[0]),Handsontable.hooks.run(u,"beforeRowMove",o,a),u.forceFullRender=!0,u.view.render(),w.call(u),Handsontable.hooks.run(u,"afterRowMove",o,a),t.call(u,g))}),u.addHook("afterDestroy",E)},E=function(){y.clear()},T=function(t,e){if(t.length<e)for(var n=t.length;e>n;n++)t[n]=n};this.beforeInit=function(){this.manualRowPositions=[]},this.init=function(t){var e=this,n=!!e.getSettings().manualRowMove;if(n){var r=e.getSettings().manualRowMove,i=b.call(e);"undefined"!=typeof e.manualRowPositionsPluginUsages?e.manualRowPositionsPluginUsages.push("manualColumnMove"):e.manualRowPositionsPluginUsages=["manualColumnMove"],this.manualRowPositions="undefined"!=typeof i?i:Array.isArray(r)?r:[],("afterInit"===t||"afterUpdateSettings"===t&&0===y.context.eventListeners.length)&&(_.call(this),this.manualRowPositions.length>0&&(e.forceFullRender=!0,e.render()))}else{var o=e.manualRowPositionsPluginUsages?e.manualRowPositionsPluginUsages.indexOf("manualColumnMove"):-1;o>-1&&(E.call(this),e.manualRowPositions=[],e.manualRowPositionsPluginUsages[o]=void 0)}},this.modifyRow=function(t){var e=this;return e.getSettings().manualRowMove?("undefined"==typeof e.manualRowPositions[t]&&T(this.manualRowPositions,t+1),e.manualRowPositions[t]):t}}Object.defineProperties(n,{ManualRowMove:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s,l=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),u=l.addClass,c=l.hasClass,h=l.removeClass,d=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,f=(a=t("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),p=(f.pageX,f.pageY),g=((s=t("plugins"),s&&s.__esModule&&s||{"default":s}).registerPlugin,new r);Handsontable.hooks.add("beforeInit",g.beforeInit),Handsontable.hooks.add("afterInit",function(){g.init.call(this,"afterInit")}),Handsontable.hooks.add("afterUpdateSettings",function(){g.init.call(this,"afterUpdateSettings")}),Handsontable.hooks.add("modifyRow",g.modifyRow),Handsontable.hooks.register("beforeRowMove"),Handsontable.hooks.register("afterRowMove")},{eventManager:40,"helpers/dom/element":44,"helpers/dom/event":45,plugins:55}],79:[function(t,e,n){"use strict";Object.defineProperties(n,{ManualRowResize:{get:function(){return v}},__esModule:{value:!0}});var r,i,o,a,s,l=(r=t("_base.js"),r&&r.__esModule&&r||{"default":r})["default"],u=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),c=u.addClass,h=u.hasClass,d=u.removeClass,f=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,p=(a=t("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),g=(p.pageX,p.pageY),m=(s=t("plugins"),s&&s.__esModule&&s||{"default":s}).registerPlugin,v=function(t){$traceurRuntime.superConstructor(y).call(this,t),this.currentTH=null,this.currentRow=null,this.currentHeight=null,this.newSize=null,this.startY=null,this.startHeight=null,this.startOffset=null,this.handle=document.createElement("DIV"),this.guide=document.createElement("DIV"),this.eventManager=f(this),this.pressed=null,this.dblclick=0,this.autoresizeTimeout=null,this.manualRowHeights=[],c(this.handle,"manualRowResizer"),c(this.guide,"manualRowResizerGuide")},y=v;$traceurRuntime.createClass(v,{isEnabled:function(){return this.hot.getSettings().manualRowResize},enablePlugin:function(){var t=this;if(!this.enabled){this.manualRowHeights=[];var e=this.hot.getSettings().manualRowResize,n=this.loadManualRowHeights();this.manualRowHeights="undefined"!=typeof n?n:Array.isArray(e)?e:[],this.addHook("modifyRowHeight",function(e,n){return t.onModifyRowHeight(e,n)}),Handsontable.hooks.register("beforeRowResize"),Handsontable.hooks.register("afterRowResize"),this.bindEvents(),$traceurRuntime.superGet(this,y.prototype,"enablePlugin").call(this)}},updatePlugin:function(){var t=this.hot.getSettings().manualRowResize;this.manualRowHeights=Array.isArray(t)?t:[]},disablePlugin:function(){$traceurRuntime.superGet(this,y.prototype,"disablePlugin").call(this)},saveManualRowHeights:function(){this.hot.runHooks("persistentStateSave","manualRowHeights",this.manualRowHeights)},loadManualRowHeights:function(){var t={};return this.hot.runHooks("persistentStateLoad","manualRowHeights",t),t.value},setupHandlePosition:function(t){this.currentTH=t;var e=this.hot.view.wt.wtTable.getCoords(t).row;if(e>=0){var n=this.currentTH.getBoundingClientRect();this.currentRow=e,this.startOffset=n.top-6,this.startHeight=parseInt(n.height,10),this.handle.style.left=n.left+"px",this.handle.style.top=this.startOffset+this.startHeight+"px",this.hot.rootElement.appendChild(this.handle)}},refreshHandlePosition:function(){this.handle.style.top=this.startOffset+this.currentHeight+"px"},setupGuidePosition:function(){c(this.handle,"active"),c(this.guide,"active"),this.guide.style.top=this.handle.style.top,this.guide.style.left=this.handle.style.left,this.guide.style.width=this.hot.view.maximumVisibleElementWidth(0)+"px",this.hot.rootElement.appendChild(this.guide)},refreshGuidePosition:function(){this.guide.style.top=this.handle.style.top},hideHandleAndGuide:function(){d(this.handle,"active"),d(this.guide,"active")},checkIfRowHeader:function(t){return"BODY"!=t.tagName?"TBODY"==t.parentNode.tagName?!0:(t=t.parentNode,this.checkIfRowHeader(t)):!1},getTHFromTargetElement:function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:this.getTHFromTargetElement(t.parentNode):null},onMouseOver:function(t){if(this.checkIfRowHeader(t.target)){var e=this.getTHFromTargetElement(t.target);e&&(this.pressed||this.setupHandlePosition(e))}},afterMouseDownTimeout:function(){if(this.dblclick>=2){var t=this.hot.runHooks("beforeRowResize",this.currentRow,this.newSize,!0);void 0!==t&&(this.newSize=t),this.setManualSize(this.currentRow,this.newSize),this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0),this.hot.runHooks("afterRowResize",this.currentRow,this.newSize,!0)}this.dblclick=0,this.autoresizeTimeout=null},onMouseDown:function(t){var e=this;h(t.target,"manualRowResizer")&&(this.setupGuidePosition(),this.pressed=this.hot,null==this.autoresizeTimeout&&(this.autoresizeTimeout=setTimeout(function(){return e.afterMouseDownTimeout()},500),this.hot._registerTimeout(this.autoresizeTimeout)),this.dblclick++,this.startY=g(t),this.newSize=this.startHeight)},onMouseMove:function(t){this.pressed&&(this.currentHeight=this.startHeight+(g(t)-this.startY),this.newSize=this.setManualSize(this.currentRow,this.currentHeight),this.refreshHandlePosition(),this.refreshGuidePosition())},onMouseUp:function(t){this.pressed&&(this.hideHandleAndGuide(),this.pressed=!1,this.newSize!=this.startHeight&&(this.hot.runHooks("beforeRowResize",this.currentRow,this.newSize),this.hot.forceFullRender=!0,this.hot.view.render(),this.hot.view.wt.wtOverlays.adjustElementsSize(!0),this.saveManualRowHeights(),this.hot.runHooks("afterRowResize",this.currentRow,this.newSize)),this.setupHandlePosition(this.currentTH))},bindEvents:function(){var t=this;this.eventManager.addEventListener(this.hot.rootElement,"mouseover",function(e){return t.onMouseOver(e)}),this.eventManager.addEventListener(this.hot.rootElement,"mousedown",function(e){return t.onMouseDown(e)}),this.eventManager.addEventListener(window,"mousemove",function(e){return t.onMouseMove(e)}),this.eventManager.addEventListener(window,"mouseup",function(e){return t.onMouseUp(e)})},setManualSize:function(t,e){return t=this.hot.runHooks("modifyRow",t),this.manualRowHeights[t]=e,e},onModifyRowHeight:function(t,e){if(this.enabled){var n=this.hot.getPlugin("autoRowSize"),r=n?n.heights[e]:null;e=this.hot.runHooks("modifyRow",e);var i=this.manualRowHeights[e];if(void 0!==i&&(i===r||i>(t||0)))return i}return t}},{},l),m("manualRowResize",v)},{"_base.js":56,eventManager:40,"helpers/dom/element":44,"helpers/dom/event":45,plugins:55}],80:[function(t,e,n){"use strict";function r(){var t=[];return t.getInfo=function(t,e){for(var n=0,r=this.length;r>n;n++)if(this[n].row<=t&&this[n].row+this[n].rowspan-1>=t&&this[n].col<=e&&this[n].col+this[n].colspan-1>=e)return this[n]},t.setInfo=function(t){for(var e=0,n=this.length;n>e;e++)if(this[e].row===t.row&&this[e].col===t.col)return void(this[e]=t);this.push(t)},t.removeInfo=function(t,e){for(var n=0,r=this.length;r>n;n++)if(this[n].row===t&&this[n].col===e){this.splice(n,1);break}},t}function i(t){if(this.mergedCellInfoCollection=new r,Array.isArray(t))for(var e=0,n=t.length;n>e;e++)this.mergedCellInfoCollection.setInfo(t[e])}function o(t,e){var n=this.getSettings().mergeCells;if(n&&!this.selection.isMultiple()){var r=this.mergeCells.mergedCellInfoCollection.getInfo(t[0],t[1]);r&&(t[0]=r.row,t[1]=r.col,t[2]=r.row+r.rowspan-1,t[3]=r.col+r.colspan-1)}}function a(t,e){this.mergeCells&&this.mergeCells.shiftCollection("right",t,e)}function s(t,e){this.mergeCells&&this.mergeCells.shiftCollection("left",t,e)}function l(t,e){this.mergeCells&&this.mergeCells.shiftCollection("down",t,e)}function u(t,e){this.mergeCells&&this.mergeCells.shiftCollection("up",t,e)}Object.defineProperties(n,{MergeCells:{get:function(){return i}},__esModule:{value:!0}});var c,h,d,f,p,g=((c=t("plugins"),c&&c.__esModule&&c||{"default":c}).registerPlugin,(h=t("helpers/dom/event"),h&&h.__esModule&&h||{"default":h}).stopImmediatePropagation),m=(d=t("3rdparty/walkontable/src/cell/coords"),d&&d.__esModule&&d||{"default":d}).WalkontableCellCoords,v=(f=t("3rdparty/walkontable/src/cell/range"),f&&f.__esModule&&f||{"default":f}).WalkontableCellRange,y=(p=t("3rdparty/walkontable/src/table"),p&&p.__esModule&&p||{"default":p}).WalkontableTable;i.prototype.canMergeRange=function(t){return!t.isSingle()},i.prototype.mergeRange=function(t){if(this.canMergeRange(t)){var e=t.getTopLeftCorner(),n=t.getBottomRightCorner(),r={};r.row=e.row,r.col=e.col,r.rowspan=n.row-e.row+1,r.colspan=n.col-e.col+1,this.mergedCellInfoCollection.setInfo(r)}},i.prototype.mergeOrUnmergeSelection=function(t){var e=this.mergedCellInfoCollection.getInfo(t.from.row,t.from.col);e?this.unmergeSelection(t.from):this.mergeSelection(t)},i.prototype.mergeSelection=function(t){this.mergeRange(t)},i.prototype.unmergeSelection=function(t){var e=this.mergedCellInfoCollection.getInfo(t.row,t.col);this.mergedCellInfoCollection.removeInfo(e.row,e.col)},i.prototype.applySpanProperties=function(t,e,n){var r=this.mergedCellInfoCollection.getInfo(e,n);r?r.row===e&&r.col===n?(t.setAttribute("rowspan",r.rowspan),t.setAttribute("colspan",r.colspan)):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="none"):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"))},i.prototype.modifyTransform=function(t,e,n){var r=function(t,e){return e.row>=t.row&&e.row<=t.row+t.rowspan-1?!0:!1},i=function(t,e){return e.col>=t.col&&e.col<=t.col+t.colspan-1?!0:!1},o=function(t){return new m(e.to.row+t.row,e.to.col+t.col)},a={row:n.row,col:n.col};if("modifyTransformStart"==t){this.lastDesiredCoords||(this.lastDesiredCoords=new m(null,null));for(var s,l=new m(e.highlight.row,e.highlight.col),u=this.mergedCellInfoCollection.getInfo(l.row,l.col),c=0,h=this.mergedCellInfoCollection.length;h>c;c++){var d=this.mergedCellInfoCollection[c];if(d=new m(d.row+d.rowspan-1,d.col+d.colspan-1),e.includes(d)){s=!0;break}}if(u){var f=new m(u.row,u.col),p=new m(u.row+u.rowspan-1,u.col+u.colspan-1),g=new v(f,f,p);g.includes(this.lastDesiredCoords)||(this.lastDesiredCoords=new m(null,null)),a.row=this.lastDesiredCoords.row?this.lastDesiredCoords.row-l.row:a.row,a.col=this.lastDesiredCoords.col?this.lastDesiredCoords.col-l.col:a.col,n.row>0?a.row=u.row+u.rowspan-1-l.row+n.row:n.row<0&&(a.row=l.row-u.row+n.row),n.col>0?a.col=u.col+u.colspan-1-l.col+n.col:n.col<0&&(a.col=l.col-u.col+n.col)}var y=new m(e.highlight.row+a.row,e.highlight.col+a.col),w=this.mergedCellInfoCollection.getInfo(y.row,y.col);w&&(this.lastDesiredCoords=y,a={row:w.row-l.row,col:w.col-l.col})}else if("modifyTransformEnd"==t)for(var c=0,h=this.mergedCellInfoCollection.length;h>c;c++){var b=this.mergedCellInfoCollection[c],f=new m(b.row,b.col),p=new m(b.row+b.rowspan-1,b.col+b.colspan-1),x=new v(f,f,p),C=e.getBordersSharedWith(x);if(x.isEqual(e))e.setDirection("NW-SE");else if(C.length>0){var _=e.highlight.isEqual(x.from);C.indexOf("top")>-1?e.to.isSouthEastOf(x.from)&&_?e.setDirection("NW-SE"):e.to.isSouthWestOf(x.from)&&_&&e.setDirection("NE-SW"):C.indexOf("bottom")>-1&&(e.to.isNorthEastOf(x.from)&&_?e.setDirection("SW-NE"):e.to.isNorthWestOf(x.from)&&_&&e.setDirection("SE-NW"))}var y=o(a),E=r(b,y),T=i(b,y);e.includesRange(x)&&(x.includes(y)||E||T)&&(E&&(a.row<0?a.row-=b.rowspan-1:a.row>0&&(a.row+=b.rowspan-1)),T&&(a.col<0?a.col-=b.colspan-1:a.col>0&&(a.col+=b.colspan-1)))}0!==a.row&&(n.row=a.row),0!==a.col&&(n.col=a.col)},i.prototype.shiftCollection=function(t,e,n){var r=[0,0];switch(t){case"right":r[0]+=1;break;case"left":r[0]-=1;break;case"down":r[1]+=1;break;case"up":r[1]-=1}for(var i=0;i<this.mergedCellInfoCollection.length;i++){var o=this.mergedCellInfoCollection[i];"right"===t||"left"===t?e<=o.col&&(o.col+=r[0]):e<=o.row&&(o.row+=r[1])}};var w=function(){var t=this,e=t.getSettings().mergeCells;e&&(t.mergeCells||(t.mergeCells=new i(e)))},b=function(){var t=this;t.mergeCells&&(t.view.wt.wtTable.getCell=function(e){if(t.getSettings().mergeCells){var n=t.mergeCells.mergedCellInfoCollection.getInfo(e.row,e.col);n&&(e=n)}return y.prototype.getCell.call(this,e)})},x=function(){var t=this,e=t.getSettings().mergeCells;if(e)if(t.mergeCells){if(t.mergeCells.mergedCellInfoCollection=new r,Array.isArray(e))for(var n=0,o=e.length;o>n;n++)t.mergeCells.mergedCellInfoCollection.setInfo(e[n])}else t.mergeCells=new i(e);else t.mergeCells&&(t.mergeCells.mergedCellInfoCollection=new r)},C=function(t){if(this.mergeCells){var e=(t.ctrlKey||t.metaKey)&&!t.altKey;e&&77===t.keyCode&&(this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render(),g(t))}},_=function(t){this.getSettings().mergeCells&&(t.items.push(Handsontable.plugins.ContextMenu.SEPARATOR),t.items.push({key:"mergeCells",name:function(){var t=this.getSelected(),e=this.mergeCells.mergedCellInfoCollection.getInfo(t[0],t[1]);return e?"Unmerge cells":"Merge cells"},callback:function(){this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render()},disabled:function(){return!1}}))},E=function(t,e,n,r,i,o){this.mergeCells&&this.mergeCells.applySpanProperties(t,e,n)},T=function(t){return function(e){var n=this.getSettings().mergeCells;if(n){var r=this.getSelectedRange();if(this.mergeCells.modifyTransform(t,r,e),"modifyTransformEnd"===t){var i=this.countRows(),o=this.countCols();r.from.row<0?r.from.row=0:r.from.row>0&&r.from.row>=i&&(r.from.row=r.from-1),r.from.col<0?r.from.col=0:r.from.col>0&&r.from.col>=o&&(r.from.col=o-1)}}}},k=function(t){this.lastDesiredCoords=null;var e=this.getSettings().mergeCells;if(e){var n=this.getSelectedRange();n.highlight=new m(n.highlight.row,n.highlight.col),n.to=t;var r=!1;do{r=!1;for(var i=0,o=this.mergeCells.mergedCellInfoCollection.length;o>i;i++){var a=this.mergeCells.mergedCellInfoCollection[i],s=new m(a.row,a.col),l=new m(a.row+a.rowspan-1,a.col+a.colspan-1),u=new v(s,s,l);n.expandByRange(u)&&(t.row=n.to.row,t.col=n.to.col,r=!0)}}while(r)}},S=function(t,e){if(e&&"area"==e){var n=this.getSettings().mergeCells;if(n)for(var r=this.getSelectedRange(),i=new v(r.from,r.from,r.from),o=new v(r.to,r.to,r.to),a=0,s=this.mergeCells.mergedCellInfoCollection.length;s>a;a++){var l=this.mergeCells.mergedCellInfoCollection[a],u=new m(l.row,l.col),c=new m(l.row+l.rowspan-1,l.col+l.colspan-1),h=new v(u,u,c);i.expandByRange(h)&&(t[0]=i.from.row,t[1]=i.from.col),o.expandByRange(h)&&(t[2]=o.from.row,t[3]=o.from.col)}}},$=function(t,e,n){var r=this.getSettings().mergeCells;if(r){var i=this.mergeCells.mergedCellInfoCollection.getInfo(t,e);!i||i.row==t&&i.col==e||(n.copyable=!1)}},M=function(t){var e=this.getSettings().mergeCells;if(e)for(var n,r=this.countCols(),i=0;r>i;i++){if(n=this.mergeCells.mergedCellInfoCollection.getInfo(t.startRow,i),n&&n.row<t.startRow)return t.startRow=n.row,M.call(this,t);if(n=this.mergeCells.mergedCellInfoCollection.getInfo(t.endRow,i)){var o=n.row+n.rowspan-1;if(o>t.endRow)return t.endRow=o,M.call(this,t)}}},A=function(t){var e=this.getSettings().mergeCells;if(e)for(var n,r=this.countRows(),i=0;r>i;i++){if(n=this.mergeCells.mergedCellInfoCollection.getInfo(i,t.startColumn),n&&n.col<t.startColumn)return t.startColumn=n.col,A.call(this,t);if(n=this.mergeCells.mergedCellInfoCollection.getInfo(i,t.endColumn)){var o=n.col+n.colspan-1;if(o>t.endColumn)return t.endColumn=o,A.call(this,t)}}},R=function(t){if(t&&this.mergeCells){var e=this.mergeCells.mergedCellInfoCollection,n=this.getSelectedRange();for(var r in e)if(n.highlight.row==e[r].row&&n.highlight.col==e[r].col&&n.to.row==e[r].row+e[r].rowspan-1&&n.to.col==e[r].col+e[r].colspan-1)return!1}return t};Handsontable.hooks.add("beforeInit",w),Handsontable.hooks.add("afterInit",b),Handsontable.hooks.add("afterUpdateSettings",x),Handsontable.hooks.add("beforeKeyDown",C),Handsontable.hooks.add("modifyTransformStart",T("modifyTransformStart")),Handsontable.hooks.add("modifyTransformEnd",T("modifyTransformEnd")),Handsontable.hooks.add("beforeSetRangeEnd",k),Handsontable.hooks.add("beforeDrawBorders",S),Handsontable.hooks.add("afterIsMultipleSelection",R),Handsontable.hooks.add("afterRenderer",E),Handsontable.hooks.add("afterContextMenuDefaultOptions",_),Handsontable.hooks.add("afterGetCellMeta",$),Handsontable.hooks.add("afterViewportRowCalculatorOverride",M),Handsontable.hooks.add("afterViewportColumnCalculatorOverride",A),Handsontable.hooks.add("afterAutofillApplyValues",o),Handsontable.hooks.add("afterCreateCol",a),Handsontable.hooks.add("afterRemoveCol",s),Handsontable.hooks.add("afterCreateRow",l),Handsontable.hooks.add("afterRemoveRow",u),Handsontable.MergeCells=i},{"3rdparty/walkontable/src/cell/coords":5,"3rdparty/walkontable/src/cell/range":6,"3rdparty/walkontable/src/table":20,"helpers/dom/event":45,plugins:55}],81:[function(t,e,n){"use strict";Object.defineProperties(n,{MultipleSelectionHandles:{get:function(){return p}},__esModule:{value:!0}});var r,i,o,a,s=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),l=s.getWindowScrollTop,u=s.hasClass,c=s.getWindowScrollLeft,h=(i=t("_base"),i&&i.__esModule&&i||{"default":i})["default"],d=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).EventManager,f=(a=t("plugins"),a&&a.__esModule&&a||{"default":a}).registerPlugin,p=function(t){$traceurRuntime.superConstructor(g).call(this,t),this.dragged=[],this.eventManager=null,this.lastSetCell=null},g=p;$traceurRuntime.createClass(p,{isEnabled:function(){
return Handsontable.mobileBrowser},enablePlugin:function(){this.enabled||(this.eventManager||(this.eventManager=new d(this)),this.registerListeners(),$traceurRuntime.superGet(this,g.prototype,"enablePlugin").call(this))},registerListeners:function(){function t(t){if(1===e.dragged.length)return e.dragged.splice(0,e.dragged.length),!0;var n=e.dragged.indexOf(t);return-1==n?!1:void(0===n?e.dragged=e.dragged.slice(0,1):1==n&&(e.dragged=e.dragged.slice(-1)))}var e=this;this.eventManager.addEventListener(this.hot.rootElement,"touchstart",function(t){var n;return u(t.target,"topLeftSelectionHandle-HitArea")?(n=e.hot.getSelectedRange(),e.dragged.push("topLeft"),e.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},t.preventDefault(),!1):u(t.target,"bottomRightSelectionHandle-HitArea")?(n=e.hot.getSelectedRange(),e.dragged.push("bottomRight"),e.touchStartRange={width:n.getWidth(),height:n.getHeight(),direction:n.getDirection()},t.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchend",function(n){return u(n.target,"topLeftSelectionHandle-HitArea")?(t.call(e,"topLeft"),e.touchStartRange=void 0,n.preventDefault(),!1):u(n.target,"bottomRightSelectionHandle-HitArea")?(t.call(e,"bottomRight"),e.touchStartRange=void 0,n.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.hot.rootElement,"touchmove",function(t){var n,r,i,o,a,s,u,h=l(),d=c();0!==e.dragged.length&&(n=document.elementFromPoint(t.touches[0].screenX-d,t.touches[0].screenY-h),n&&n!==e.lastSetCell&&(("TD"==n.nodeName||"TH"==n.nodeName)&&(r=e.hot.getCoords(n),-1==r.col&&(r.col=0),i=e.hot.getSelectedRange(),o=i.getWidth(),a=i.getHeight(),s=i.getDirection(),1==o&&1==a&&e.hot.selection.setRangeEnd(r),u=e.getCurrentRangeCoords(i,r,e.touchStartRange.direction,s,e.dragged[0]),null!==u.start&&e.hot.selection.setRangeStart(u.start),e.hot.selection.setRangeEnd(u.end),e.lastSetCell=n),t.preventDefault()))})},getCurrentRangeCoords:function(t,e,n,r,i){var o=t.getTopLeftCorner(),a=t.getBottomRightCorner(),s=t.getBottomLeftCorner(),l=t.getTopRightCorner(),u={start:null,end:null};switch(n){case"NE-SW":switch(r){case"NE-SW":case"NW-SE":u="topLeft"==i?{start:new WalkontableCellCoords(e.row,t.highlight.col),end:new WalkontableCellCoords(s.row,e.col)}:{start:new WalkontableCellCoords(t.highlight.row,e.col),end:new WalkontableCellCoords(e.row,o.col)};break;case"SE-NW":"bottomRight"==i&&(u={start:new WalkontableCellCoords(a.row,e.col),end:new WalkontableCellCoords(e.row,o.col)})}break;case"NW-SE":switch(r){case"NE-SW":"topLeft"==i?u={start:e,end:s}:u.end=e;break;case"NW-SE":"topLeft"==i?u={start:e,end:a}:u.end=e;break;case"SE-NW":"topLeft"==i?u={start:e,end:o}:u.end=e;break;case"SW-NE":"topLeft"==i?u={start:e,end:l}:u.end=e}break;case"SW-NE":switch(r){case"NW-SE":u="bottomRight"==i?{start:new WalkontableCellCoords(e.row,o.col),end:new WalkontableCellCoords(s.row,e.col)}:{start:new WalkontableCellCoords(o.row,e.col),end:new WalkontableCellCoords(e.row,a.col)};break;case"SW-NE":u="topLeft"==i?{start:new WalkontableCellCoords(t.highlight.row,e.col),end:new WalkontableCellCoords(e.row,a.col)}:{start:new WalkontableCellCoords(e.row,o.col),end:new WalkontableCellCoords(o.row,e.col)};break;case"SE-NW":"bottomRight"==i?u={start:new WalkontableCellCoords(e.row,l.col),end:new WalkontableCellCoords(o.row,e.col)}:"topLeft"==i&&(u={start:s,end:e})}break;case"SE-NW":switch(r){case"NW-SE":case"NE-SW":case"SW-NE":"topLeft"==i&&(u.end=e);break;case"SE-NW":"topLeft"==i?u.end=e:u={start:e,end:o}}}return u},isDragged:function(){return this.dragged.length>0}},{},h),f("multipleSelectionHandles",p)},{_base:56,eventManager:40,"helpers/dom/element":44,plugins:55}],82:[function(t,e,n){"use strict";function r(){}function i(){var t=this,e=t.getSettings().observeChanges;e?(t.observer&&s.call(t),o.call(t),u.call(t)):e||s.call(t)}function o(){var t=this;t.observeChangesActive=!0,t.pauseObservingChanges=function(){t.observeChangesActive=!1},t.resumeObservingChanges=function(){t.observeChangesActive=!0},t.observedData=t.getData(),t.observer=p.observe(t.observedData,function(e){t.observeChangesActive&&(a.call(t,e),t.render()),t.runHooks("afterChangesObserved")})}function a(t){function e(t){var e;return e=r(t),e=n(e)}function n(t){var e=[];return t.filter(function(t){var n=i(t.path);if(-1!=["add","remove"].indexOf(t.op)&&!isNaN(n.col)){if(-1!=e.indexOf(n.col))return!1;e.push(n.col)}return!0})}function r(t){return t.filter(function(t){return!/[\/]length/gi.test(t.path)})}function i(t){var e=t.match(/^\/(\d+)\/?(.*)?$/);return{row:parseInt(e[1],10),col:/^\d*$/.test(e[2])?parseInt(e[2],10):e[2]}}for(var o=this,a=e(t),s=0,l=a.length;l>s;s++){var u=a[s],c=i(u.path);switch(u.op){case"add":isNaN(c.col)?o.runHooks("afterCreateRow",c.row):o.runHooks("afterCreateCol",c.col);break;case"remove":isNaN(c.col)?o.runHooks("afterRemoveRow",c.row,1):o.runHooks("afterRemoveCol",c.col,1);break;case"replace":o.runHooks("afterChange",[c.row,c.col,null,u.value],"external")}}}function s(){var t=this;t.observer&&(l.call(t),c.call(t))}function l(){var t=this;p.unobserve(t.observedData,t.observer),delete t.observedData,delete t.observeChangesActive,delete t.pauseObservingChanges,delete t.resumeObservingChanges}function u(){var t=this;t.addHook("afterDestroy",s),t.addHook("afterCreateRow",h),t.addHook("afterRemoveRow",h),t.addHook("afterCreateCol",h),t.addHook("afterRemoveCol",h),t.addHook("afterChange",function(t,e){"loadData"!=e&&h.call(this)})}function c(){var t=this;t.removeHook("afterDestroy",s),t.removeHook("afterCreateRow",h),t.removeHook("afterRemoveRow",h),t.removeHook("afterCreateCol",h),t.removeHook("afterRemoveCol",h),t.removeHook("afterChange",h)}function h(){var t=this;t.pauseObservingChanges(),t.addHookOnce("afterChangesObserved",function(){t.resumeObservingChanges()})}Object.defineProperties(n,{ObserveChanges:{get:function(){return r}},__esModule:{value:!0}});var d,f,p=((d=t("plugins"),d&&d.__esModule&&d||{"default":d}).registerPlugin,(f=t("jsonpatch"),f&&f.__esModule&&f||{"default":f})["default"]);Handsontable.hooks.add("afterLoadData",i),Handsontable.hooks.add("afterUpdateSettings",i),Handsontable.hooks.register("afterChangesObserved")},{jsonpatch:"jsonpatch",plugins:55}],83:[function(t,e,n){"use strict";function r(t){var e,n=function(){window.localStorage[t+"__persistentStateKeys"]=JSON.stringify(e)},r=function(){var n=window.localStorage[t+"__persistentStateKeys"],r="string"==typeof n?JSON.parse(n):void 0;e=r?r:[]},i=function(){e=[],n()};r(),this.saveValue=function(r,i){window.localStorage[t+"_"+r]=JSON.stringify(i),-1==e.indexOf(r)&&(e.push(r),n())},this.loadValue=function(e,n){e="undefined"!=typeof e?e:n;var r=window.localStorage[t+"_"+e];return"undefined"==typeof r?void 0:JSON.parse(r)},this.reset=function(e){window.localStorage.removeItem(t+"_"+e)},this.resetAll=function(){for(var n=0;n<e.length;n++)window.localStorage.removeItem(t+"_"+e[n]);i()}}function i(){function t(){var t=this;for(var e in i)i.hasOwnProperty(e)&&t.addHook(e,i[e])}function e(){var t=this;for(var e in i)i.hasOwnProperty(e)&&t.removeHook(e,i[e])}var n=this;this.init=function(){var i=this,o=i.getSettings().persistentState;return n.enabled=!!o,n.enabled?(i.storage||(i.storage=new r(i.rootElement.id)),i.resetState=n.resetValue,void t.call(i)):void e.call(i)},this.saveValue=function(t,e){var n=this;n.storage.saveValue(t,e)},this.loadValue=function(t,e){var n=this;e.value=n.storage.loadValue(t)},this.resetValue=function(t){var e=this;"undefined"!=typeof t?e.storage.reset(t):e.storage.resetAll()};var i={persistentStateSave:n.saveValue,persistentStateLoad:n.loadValue,persistentStateReset:n.resetValue};for(var o in i)i.hasOwnProperty(o)&&Handsontable.hooks.register(o)}Object.defineProperties(n,{HandsontablePersistentState:{get:function(){return i}},__esModule:{value:!0}});var o,a=((o=t("plugins"),o&&o.__esModule&&o||{"default":o}).registerPlugin,new i);Handsontable.hooks.add("beforeInit",a.init),Handsontable.hooks.add("afterUpdateSettings",a.init)},{plugins:55}],84:[function(t,e,n){"use strict";function r(){var t=this,e=!!t.getSettings().search;e?t.search=new Handsontable.Search(t):delete t.search}var i,o,a=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),s=a.addClass,l=a.removeClass,u=(o=t("renderers"),o&&o.__esModule&&o||{"default":o}),c=u.registerRenderer,h=u.getRenderer;Handsontable.Search=function(t){this.query=function(e,n,r){var i=t.countRows(),o=t.countCols(),a=[];n||(n=Handsontable.Search.global.getDefaultCallback()),r||(r=Handsontable.Search.global.getDefaultQueryMethod());for(var s=0;i>s;s++)for(var l=0;o>l;l++){var u=t.getDataAtCell(s,l),c=t.getCellMeta(s,l),h=c.search.callback||n,d=c.search.queryMethod||r,f=d(e,u);if(f){var p={row:s,col:l,data:u};a.push(p)}h&&h(t,s,l,u,f)}return a}},Handsontable.Search.DEFAULT_CALLBACK=function(t,e,n,r,i){t.getCellMeta(e,n).isSearchResult=i},Handsontable.Search.DEFAULT_QUERY_METHOD=function(t,e){return"undefined"!=typeof t&&null!=t&&t.toLowerCase&&0!==t.length?"undefined"==typeof e||null==e?!1:-1!=e.toString().toLowerCase().indexOf(t.toLowerCase()):!1},Handsontable.Search.DEFAULT_SEARCH_RESULT_CLASS="htSearchResult",Handsontable.Search.global=function(){var t=Handsontable.Search.DEFAULT_CALLBACK,e=Handsontable.Search.DEFAULT_QUERY_METHOD,n=Handsontable.Search.DEFAULT_SEARCH_RESULT_CLASS;return{getDefaultCallback:function(){return t},setDefaultCallback:function(e){t=e},getDefaultQueryMethod:function(){return e},setDefaultQueryMethod:function(t){e=t},getDefaultSearchResultClass:function(){return n},setDefaultSearchResultClass:function(t){n=t}}}(),Handsontable.SearchCellDecorator=function(t,e,n,r,i,o,a){var u=null!==a.search&&"object"==typeof a.search&&a.search.searchResultClass||Handsontable.Search.global.getDefaultSearchResultClass();a.isSearchResult?s(e,u):l(e,u)};var d=h("base");c("base",function(t,e,n,r,i,o,a){d.apply(this,arguments),Handsontable.SearchCellDecorator.apply(this,arguments)}),Handsontable.hooks.add("afterInit",r),Handsontable.hooks.add("afterUpdateSettings",r)},{"helpers/dom/element":44,renderers:87}],85:[function(t,e,n){"use strict";Object.defineProperties(n,{TouchScroll:{get:function(){return h}},__esModule:{value:!0}});var r,i,o,a=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),s=a.addClass,l=a.removeClass,u=(i=t("_base"),i&&i.__esModule&&i||{"default":i})["default"],c=(o=t("plugins"),o&&o.__esModule&&o||{"default":o}).registerPlugin,h=function(t){var e=this;$traceurRuntime.superConstructor(d).call(this,t),this.hot.addHook("afterInit",function(){return e.afterInit()}),this.hot.addHook("afterUpdateSettings",function(){return e.onAfterUpdateSettings()}),this.scrollbars=[],this.clones=[]},d=h;$traceurRuntime.createClass(h,{afterInit:function(){this.registerEvents(),this.onAfterUpdateSettings()},onAfterUpdateSettings:function(){var t=this;this.hot.addHookOnce("afterRender",function(){var e=t.hot.view.wt.wtOverlays;t.scrollbars=[],t.scrollbars.push(e.topOverlay),t.scrollbars.push(e.leftOverlay),e.topLeftCornerOverlay&&t.scrollbars.push(e.topLeftCornerOverlay),t.clones=[],e.topOverlay.needFullRender&&t.clones.push(e.topOverlay.clone.wtTable.holder.parentNode),e.leftOverlay.needFullRender&&t.clones.push(e.leftOverlay.clone.wtTable.holder.parentNode),e.topLeftCornerOverlay&&t.clones.push(e.topLeftCornerOverlay.clone.wtTable.holder.parentNode)})},registerEvents:function(){var t=this;this.hot.addHook("beforeTouchScroll",function(){return t.onBeforeTouchScroll()}),this.hot.addHook("afterMomentumScroll",function(){return t.onAfterMomentumScroll()})},onBeforeTouchScroll:function(){Handsontable.freezeOverlays=!0;for(var t=0,e=this.clones.length;e>t;t++)s(this.clones[t],"hide-tween")},onAfterMomentumScroll:function(){Handsontable.freezeOverlays=!1;for(var t=this,e=0,n=this.clones.length;n>e;e++)l(this.clones[e],"hide-tween");for(var r=0,i=this.clones.length;i>r;r++)s(this.clones[r],"show-tween");setTimeout(function(){for(var e=0,n=t.clones.length;n>e;e++)l(t.clones[e],"show-tween")},400);for(var o=0,a=this.scrollbars.length;a>o;o++)this.scrollbars[o].refresh(),this.scrollbars[o].resetFixedPosition();this.hot.view.wt.wtOverlays.syncScrollWithMaster()}},{},u),c("touchScroll",h)},{_base:56,"helpers/dom/element":44,plugins:55}],86:[function(t,e,n){"use strict";function r(){var t=this,e="undefined"==typeof t.getSettings().undo||t.getSettings().undo;e?t.undoRedo||(t.undoRedo=new Handsontable.UndoRedo(t),a(t),t.addHook("beforeKeyDown",i),t.addHook("afterChange",o)):t.undoRedo&&(delete t.undoRedo,s(t),t.removeHook("beforeKeyDown",i),t.removeHook("afterChange",o))}function i(t){var e=this,n=(t.ctrlKey||t.metaKey)&&!t.altKey;n&&(89===t.keyCode||t.shiftKey&&90===t.keyCode?(e.undoRedo.redo(),f(t)):90===t.keyCode&&(e.undoRedo.undo(),f(t)))}function o(t,e){var n=this;return"loadData"==e?n.undoRedo.clear():void 0}function a(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}function s(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}var l,u,c=(l=t("helpers/object"),l&&l.__esModule&&l||{"default":l}),h=c.inherit,d=c.deepClone,f=(u=t("helpers/dom/event"),u&&u.__esModule&&u||{"default":u}).stopImmediatePropagation;Handsontable.UndoRedo=function(t){var e=this;this.instance=t,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,t.addHook("afterChange",function(t,n){if(t){var r=new Handsontable.UndoRedo.ChangeAction(t);e.done(r)}}),t.addHook("afterCreateRow",function(t,n,r){if(!r){var i=new Handsontable.UndoRedo.CreateRowAction(t,n);e.done(i)}}),t.addHook("beforeRemoveRow",function(t,n){var r=e.instance.getData();t=(r.length+t)%r.length;var i=r.slice(t,t+n),o=new Handsontable.UndoRedo.RemoveRowAction(t,i);e.done(o)}),t.addHook("afterCreateCol",function(t,n,r){if(!r){var i=new Handsontable.UndoRedo.CreateColumnAction(t,n);e.done(i)}}),t.addHook("beforeRemoveCol",function(n,r){var i=e.instance.getData();n=(e.instance.countCols()+n)%e.instance.countCols();for(var o=[],a=0,s=i.length;s>a;a++)o[a]=i[a].slice(n,n+r);var l;Array.isArray(t.getSettings().colHeaders)&&(l=t.getSettings().colHeaders.slice(n,n+o.length));var u=new Handsontable.UndoRedo.RemoveColumnAction(n,o,l);e.done(u)}),t.addHook("beforeCellAlignment",function(t,n,r,i){var o=new Handsontable.UndoRedo.CellAlignmentAction(t,n,r,i);e.done(o)})},Handsontable.UndoRedo.prototype.done=function(t){this.ignoreNewActions||(this.doneActions.push(t),this.undoneActions.length=0)},Handsontable.UndoRedo.prototype.undo=function(){if(this.isUndoAvailable()){var t=this.doneActions.pop();this.ignoreNewActions=!0;var e=this;t.undo(this.instance,function(){e.ignoreNewActions=!1,e.undoneActions.push(t)})}},Handsontable.UndoRedo.prototype.redo=function(){if(this.isRedoAvailable()){var t=this.undoneActions.pop();this.ignoreNewActions=!0;var e=this;t.redo(this.instance,function(){e.ignoreNewActions=!1,e.doneActions.push(t)})}},Handsontable.UndoRedo.prototype.isUndoAvailable=function(){return this.doneActions.length>0},Handsontable.UndoRedo.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},Handsontable.UndoRedo.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},Handsontable.UndoRedo.Action=function(){},Handsontable.UndoRedo.Action.prototype.undo=function(){},Handsontable.UndoRedo.Action.prototype.redo=function(){},Handsontable.UndoRedo.ChangeAction=function(t){this.changes=t},h(Handsontable.UndoRedo.ChangeAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.ChangeAction.prototype.undo=function(t,e){for(var n=d(this.changes),r=t.countEmptyRows(!0),i=t.countEmptyCols(!0),o=0,a=n.length;a>o;o++)n[o].splice(3,1);t.addHookOnce("afterChange",e),t.setDataAtRowProp(n,null,null,"undo");for(var o=0,a=n.length;a>o;o++)t.getSettings().minSpareRows&&n[o][0]+1+t.getSettings().minSpareRows===t.countRows()&&r==t.getSettings().minSpareRows&&(t.alter("remove_row",parseInt(n[o][0]+1,10),t.getSettings().minSpareRows),t.undoRedo.doneActions.pop()),t.getSettings().minSpareCols&&n[o][1]+1+t.getSettings().minSpareCols===t.countCols()&&i==t.getSettings().minSpareCols&&(t.alter("remove_col",parseInt(n[o][1]+1,10),t.getSettings().minSpareCols),t.undoRedo.doneActions.pop())},Handsontable.UndoRedo.ChangeAction.prototype.redo=function(t,e){for(var n=d(this.changes),r=0,i=n.length;i>r;r++)n[r].splice(2,1);t.addHookOnce("afterChange",e),t.setDataAtRowProp(n,null,null,"redo")},Handsontable.UndoRedo.CreateRowAction=function(t,e){this.index=t,this.amount=e},h(Handsontable.UndoRedo.CreateRowAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.CreateRowAction.prototype.undo=function(t,e){var n=t.countRows(),r=t.getSettings().minSpareRows;this.index>=n&&this.index-r<n&&(this.index-=r),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount)},Handsontable.UndoRedo.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row",this.index+1,this.amount)},Handsontable.UndoRedo.RemoveRowAction=function(t,e){this.index=t,this.data=e},h(Handsontable.UndoRedo.RemoveRowAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.RemoveRowAction.prototype.undo=function(t,e){var n=[this.index,0];Array.prototype.push.apply(n,this.data),Array.prototype.splice.apply(t.getData(),n),t.addHookOnce("afterRender",e),t.render()},Handsontable.UndoRedo.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length)},Handsontable.UndoRedo.CreateColumnAction=function(t,e){this.index=t,this.amount=e},h(Handsontable.UndoRedo.CreateColumnAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount)},Handsontable.UndoRedo.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col",this.index+1,this.amount)},Handsontable.UndoRedo.CellAlignmentAction=function(t,e,n,r){this.stateBefore=t,this.range=e,this.type=n,this.alignment=r},Handsontable.UndoRedo.CellAlignmentAction.prototype.undo=function(t,e){if(t.getPlugin("contextMenu").isEnabled()){for(var n=this.range.from.row;n<=this.range.to.row;n++)for(var r=this.range.from.col;r<=this.range.to.col;r++)t.setCellMeta(n,r,"className",this.stateBefore[n][r]||" htLeft");t.addHookOnce("afterRender",e),t.render()}},Handsontable.UndoRedo.CellAlignmentAction.prototype.redo=function(t,e){t.getPlugin("contextMenu").isEnabled()&&(t.selectCell(this.range.from.row,this.range.from.col,this.range.to.row,this.range.to.col),t.getPlugin("contextMenu").executeCommand("alignment:"+this.alignment.replace("ht","").toLowerCase()),t.addHookOnce("afterRender",e),t.render())},Handsontable.UndoRedo.RemoveColumnAction=function(t,e,n){this.index=t,this.data=e,this.amount=this.data[0].length,this.headers=n},h(Handsontable.UndoRedo.RemoveColumnAction,Handsontable.UndoRedo.Action),Handsontable.UndoRedo.RemoveColumnAction.prototype.undo=function(t,e){for(var n,r,i=0,o=t.getData().length;o>i;i++)n=t.getSourceDataAtRow(i),r=[this.index,0],Array.prototype.push.apply(r,this.data[i]),Array.prototype.splice.apply(n,r);"undefined"!=typeof this.headers&&(r=[this.index,0],Array.prototype.push.apply(r,this.headers),Array.prototype.splice.apply(t.getSettings().colHeaders,r)),t.addHookOnce("afterRender",e),t.render()},Handsontable.UndoRedo.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount)},Handsontable.hooks.add("afterInit",r),Handsontable.hooks.add("afterUpdateSettings",r)},{"helpers/dom/event":45,"helpers/object":49}],87:[function(t,e,n){"use strict";function r(t,e){var n;l[t]=e,n=s(t)+"Renderer",Handsontable.renderers[n]=e,Handsontable[n]=e}function i(t){if("function"==typeof t)return t;if("string"!=typeof t)throw Error('Only strings and functions can be passed as "renderer" parameter');if(!(t in l))throw Error('No editor registered under name "'+t+'"');return l[t]}function o(t){return t in l}Object.defineProperties(n,{registerRenderer:{get:function(){return r}},getRenderer:{get:function(){return i}},hasRenderer:{get:function(){return o}},__esModule:{value:!0}});var a,s=(a=t("helpers/string"),a&&a.__esModule&&a||{"default":a}).toUpperCaseFirst,l={};Handsontable.renderers=Handsontable.renderers||{},Handsontable.renderers.registerRenderer=r,Handsontable.renderers.getRenderer=i},{"helpers/string":51}],88:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){a.className&&(e.className=e.className?e.className+" "+a.className:a.className),a.readOnly&&s(e,a.readOnlyCellClassName),a.valid===!1&&a.invalidCellClassName?s(e,a.invalidCellClassName):l(e,a.invalidCellClassName),a.wordWrap===!1&&a.noWordWrapClassName&&s(e,a.noWordWrapClassName),!o&&a.placeholder&&s(e,a.placeholderCellClassName)}Object.defineProperties(n,{cellDecorator:{get:function(){return r}},__esModule:{value:!0}});var i,o,a=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),s=a.addClass,l=a.removeClass,u=(o=t("renderers"),o&&o.__esModule&&o||{"default":o}).registerRenderer;u("base",r),Handsontable.renderers.cellDecorator=r},{"helpers/dom/element":44,renderers:87}],89:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){var s=(m.cloneNode(!0),v.cloneNode(!0));if(f("text")(t,e,n,r,i,o,a),e.appendChild(s),u(e,"htAutocomplete"),e.firstChild||e.appendChild(document.createTextNode(String.fromCharCode(160))),!t.acArrowListener){var l=h(t);t.acArrowListener=function(i){c(i.target,"htAutocompleteArrow")&&t.view.wt.getSetting("onCellDblClick",null,new g(n,r),e)},l.addEventListener(t.rootElement,"mousedown",t.acArrowListener),t.addHookOnce("afterDestroy",function(){l.destroy()})}}Object.defineProperties(n,{autocompleteRenderer:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s,l=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),u=l.addClass,c=l.hasClass,h=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,d=(a=t("renderers"),a&&a.__esModule&&a||{"default":a}),f=d.getRenderer,p=d.registerRenderer,g=(s=t("3rdparty/walkontable/src/cell/coords"),s&&s.__esModule&&s||{"default":s}).WalkontableCellCoords,m=document.createElement("DIV");m.className="htAutocompleteWrapper";var v=document.createElement("DIV");v.className="htAutocompleteArrow",v.appendChild(document.createTextNode(String.fromCharCode(9660)));p("autocomplete",r)},{"3rdparty/walkontable/src/cell/coords":5,eventManager:40,"helpers/dom/element":44,renderers:87}],90:[function(t,e,n){"use strict";function r(t,e,n,r,a,s,l){function u(t){var e=[b.SPACE,b.ENTER,b.DELETE,b.BACKSPACE];-1===e.indexOf(t.keyCode)||E(t)||d(function(){_(t),t.preventDefault()}),(t.keyCode==b.SPACE||t.keyCode==b.ENTER)&&c(),(t.keyCode==b.DELETE||t.keyCode==b.BACKSPACE)&&c(!1)}function c(){var t=void 0!==arguments[0]?arguments[0]:null;d(function(e){for(var n=0,r=e.length;r>n;n++){if(g(e[n],k)&&null===t)return;h(e[n],t)}})}function h(t){var e=void 0!==arguments[1]?arguments[1]:null;t.checked=null===e?!t.checked:e,y.fireEvent(t,"change")}function d(e){for(var n=t.getSelectedRange(),r=n.getTopLeftCorner(),i=n.getBottomRightCorner(),o=r.row;o<=i.row;o++)for(var a=r.col;a<=i.col;a++){var s=t.getCell(o,a),l=t.getCellMeta(o,a),u=s.querySelectorAll("input[type=checkbox]");u.length>0&&!l.readOnly&&e(u)}}var y=new v(t),w=i();"undefined"==typeof l.checkedTemplate&&(l.checkedTemplate=!0),"undefined"==typeof l.uncheckedTemplate&&(l.uncheckedTemplate=!1),f(e),s===l.checkedTemplate||m(s,l.checkedTemplate)?(w.checked=!0,e.appendChild(w)):s===l.uncheckedTemplate||m(s,l.uncheckedTemplate)?e.appendChild(w):null===s?(p(w,"noValue"),e.appendChild(w)):(w.style.display="none",p(w,k),e.appendChild(w),e.appendChild(document.createTextNode("#bad-value#"))),l.readOnly?y.addEventListener(w,"click",o):(y.addEventListener(w,"mousedown",C),y.addEventListener(w,"mouseup",C),y.addEventListener(w,"change",function(e){t.setDataAtRowProp(n,a,e.target.checked?l.checkedTemplate:l.uncheckedTemplate)})),T.has(t)||(T.set(t,!0),t.addHook("beforeKeyDown",u))}function i(){var t=document.createElement("INPUT");return t.className="htCheckboxRendererInput",t.type="checkbox",t.setAttribute("autocomplete","off"),t.cloneNode(!1)}function o(t){t.preventDefault()}Object.defineProperties(n,{checkboxRenderer:{get:function(){return r}},__esModule:{value:!0}});var a,s,l,u,c,h,d=(a=t("helpers/dom/element"),a&&a.__esModule&&a||{"default":a}),f=d.empty,p=d.addClass,g=d.hasClass,m=(s=t("helpers/string"),s&&s.__esModule&&s||{"default":s}).equalsIgnoreCase,v=(l=t("eventManager"),l&&l.__esModule&&l||{"default":l}).EventManager,y=(u=t("renderers"),u&&u.__esModule&&u||{"default":u}),w=(y.getRenderer,y.registerRenderer),b=(c=t("helpers/unicode"),c&&c.__esModule&&c||{"default":c}).KEY_CODES,x=(h=t("helpers/dom/event"),h&&h.__esModule&&h||{"default":h}),C=x.stopPropagation,_=x.stopImmediatePropagation,E=x.isImmediatePropagationStopped,T=new WeakMap,k="htBadValue";w("checkbox",r)},{eventManager:40,"helpers/dom/element":44,"helpers/dom/event":45,"helpers/string":51,"helpers/unicode":52,renderers:87}],91:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,s){l("base").apply(this,arguments),a(e,o)}Object.defineProperties(n,{htmlRenderer:{get:function(){return r}},__esModule:{value:!0}});var i,o,a=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}).fastInnerHTML,s=(o=t("renderers"),o&&o.__esModule&&o||{"default":o}),l=s.getRenderer,u=s.registerRenderer;u("html",r)},{"helpers/dom/element":44,renderers:87}],92:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){f(o)&&("undefined"!=typeof a.language&&l.language(a.language),o=l(o).format(a.format||"0"),u(e,"htNumeric")),h("text")(t,e,n,r,i,o,a)}Object.defineProperties(n,{numericRenderer:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s,l=(i=t("numeral"),i&&i.__esModule&&i||{"default":i})["default"],u=(o=t("helpers/dom/element"),o&&o.__esModule&&o||{"default":o}).addClass,c=(a=t("renderers"),a&&a.__esModule&&a||{"default":a}),h=c.getRenderer,d=c.registerRenderer,f=(s=t("helpers/number"),s&&s.__esModule&&s||{"default":s}).isNumeric;d("numeric",r)},{"helpers/dom/element":44,"helpers/number":48,numeral:"numeral",renderers:87}],93:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,s){l("text").apply(this,arguments),o=e.innerHTML;var u,c=s.hashLength||o.length,h=s.hashSymbol||"*";for(u="";u.split(h).length-1<c;u+=h);a(e,u)}Object.defineProperties(n,{passwordRenderer:{get:function(){return r}},__esModule:{value:!0}});var i,o,a=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}).fastInnerHTML,s=(o=t("renderers"),o&&o.__esModule&&o||{"default":o}),l=s.getRenderer,u=s.registerRenderer;u("password",r)},{"helpers/dom/element":44,renderers:87}],94:[function(t,e,n){"use strict";function r(t,e,n,r,i,o,a){d("base").apply(this,arguments),!o&&a.placeholder&&(o=a.placeholder);var s=c(o);if(t.getSettings().trimWhitespace||(s=s.replace(/ /g,String.fromCharCode(160))),a.rendererTemplate){l(e);var h=document.createElement("TEMPLATE");h.setAttribute("bind","{{}}"),h.innerHTML=a.rendererTemplate,HTMLTemplateElement.decorate(h),h.model=t.getSourceDataAtRow(n),e.appendChild(h)}else u(e,s)}Object.defineProperties(n,{textRenderer:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),l=s.empty,u=s.fastInnerText,c=(o=t("helpers/mixed"),o&&o.__esModule&&o||{"default":o}).stringify,h=(a=t("renderers"),a&&a.__esModule&&a||{"default":a}),d=h.getRenderer,f=h.registerRenderer;f("text",r)},{"helpers/dom/element":44,"helpers/mixed":47,renderers:87}],95:[function(t,e,n){"use strict";!function(t){function e(t){return{configurable:!0,enumerable:!1,value:t,writable:!0}}function n(){return"__$"+Math.floor(1e9*Math.random())+"$"+ ++z+"$__"}function r(t){return X[t]}function i(){var t=n();return X[t]=!0,t}function o(t){return"object"==typeof t&&t instanceof l}function a(t){return o(t)?"symbol":typeof t}function s(t){var e=new l(t);if(!(this instanceof s))return e;throw new TypeError("Symbol cannot be new'ed")}function l(t){var e=n();P(this,Y,{value:this}),P(this,W,{value:e}),P(this,U,{value:t}),c(this),G[e]=this}function u(t){var e=t[K];return e&&e.self===t?e:V(t)?(J.hash.value=Q++,J.self.value=t,Z.value=D(null,J),P(t,K,Z),Z.value):void 0}function c(t){return u(t),H.apply(this,arguments)}function h(t){return u(t),j.apply(this,arguments)}function d(t){return u(t),F.apply(this,arguments)}function f(t){return G[t]||X[t]}function p(t){return o(t)?t[W]:t}function g(t){for(var e=[],n=0;n<t.length;n++)f(t[n])||e.push(t[n]);return e}function m(t){return g(N(t))}function v(t){return g(I(t))}function y(t){for(var e=[],n=N(t),r=0;r<n.length;r++){var i=G[n[r]];i&&e.push(i)}return e}function w(t,e){return L(t,p(e))}function b(t){return B.call(this,p(t))}function x(e){return t.traceur&&t.traceur.options[e]}function C(t,e,n){return o(e)&&(e=e[W]),P(t,e,n),t}function _(t){P(t,"defineProperty",{value:C}),P(t,"getOwnPropertyNames",{value:m}),P(t,"getOwnPropertyDescriptor",{value:w}),P(t.prototype,"hasOwnProperty",{value:b}),P(t,"freeze",{value:c}),P(t,"preventExtensions",{value:h}),P(t,"seal",{value:d}),P(t,"keys",{value:v})}function E(t){for(var e=1;e<arguments.length;e++)for(var n=N(arguments[e]),r=0;r<n.length;r++){var i=n[r];f(i)||!function(e,n){P(t,n,{get:function(){return e[n]},enumerable:!0})}(arguments[e],n[r])}return t}function T(t){return null!=t&&("object"==typeof t||"function"==typeof t)}function k(t){if(null==t)throw R();return A(t)}function S(t){if(null==t)throw new TypeError("Value cannot be converted to an Object");return t}function $(t,e){t.Symbol||(t.Symbol=e,Object.getOwnPropertySymbols=y),t.Symbol.iterator||(t.Symbol.iterator=e("Symbol.iterator"))}function M(t){$(t,s),t.Reflect=t.Reflect||{},t.Reflect.global=t.Reflect.global||t,_(t.Object)}if(!t.$traceurRuntime){var A=Object,R=TypeError,D=A.create,O=A.defineProperties,P=A.defineProperty,H=A.freeze,L=A.getOwnPropertyDescriptor,N=A.getOwnPropertyNames,I=A.keys,B=A.prototype.hasOwnProperty,j=Object.preventExtensions,F=Object.seal,V=Object.isExtensible,q=e,z=0,W=n(),U=n(),Y=n(),G=D(null),X=D(null);P(s.prototype,"constructor",e(s)),P(s.prototype,"toString",q(function(){var t=this[Y];if(!x("symbols"))return t[W];if(!t)throw TypeError("Conversion from symbol to string");var e=t[U];return void 0===e&&(e=""),"Symbol("+e+")"})),P(s.prototype,"valueOf",q(function(){var t=this[Y];if(!t)throw TypeError("Conversion from symbol to string");return x("symbols")?t:t[W]})),P(l.prototype,"constructor",e(s)),P(l.prototype,"toString",{value:s.prototype.toString,enumerable:!1}),P(l.prototype,"valueOf",{value:s.prototype.valueOf,enumerable:!1});var K=i(),Z={value:void 0},J={hash:{value:void 0},self:{value:void 0}},Q=0;c(l.prototype),M(t),t.$traceurRuntime={checkObjectCoercible:S,createPrivateName:i,defineProperties:O,defineProperty:P,exportStar:E,getOwnHashObject:u,getOwnPropertyDescriptor:L,getOwnPropertyNames:N,isObject:T,isPrivateName:r,isSymbolString:f,keys:I,setupGlobals:M,toObject:k,toProperty:p,"typeof":a}}}(window),function(){function t(){for(var t,n=[],r=0,i=0;i<arguments.length;i++){var o=$traceurRuntime.checkObjectCoercible(arguments[i]);if("function"!=typeof o[e(Symbol.iterator)])throw new TypeError("Cannot spread non-iterable object.");for(var a=o[e(Symbol.iterator)]();!(t=a.next()).done;)n[r++]=t.value}return n}var e=$traceurRuntime.toProperty;$traceurRuntime.spread=t}(),function(){function t(t,e){var n=g(t);do{var r=p(n,e);if(r)return r;n=g(n)}while(n);return void 0}function e(t){return t.__proto__}function n(t,e,n,i){return r(t,e,n).apply(t,i)}function r(e,n,r){var i=t(n,r);return i?i.get?i.get.call(e):i.value:void 0}function i(e,n,r,i){var o=t(n,r);if(o&&o.set)return o.set.call(e,i),i;throw c("super has no setter '"+r+"'.");

}function o(t){for(var e={},n=y(t),r=0;r<n.length;r++){var i=n[r];e[i]=p(t,i)}for(var o=w(t),r=0;r<o.length;r++){var a=o[r];e[m(a)]=p(t,m(a))}return e}function a(t,e,n,r){return f(e,"constructor",{value:t,configurable:!0,enumerable:!1,writable:!0}),arguments.length>3?("function"==typeof r&&(t.__proto__=r),t.prototype=h(s(r),o(e))):t.prototype=e,f(t,"prototype",{configurable:!1,writable:!1}),d(t,o(n))}function s(t){if("function"==typeof t){var e=t.prototype;if(u(e)===e||null===e)return t.prototype;throw new c("super prototype must be an Object or null")}if(null===t)return null;throw new c("Super expression must either be null or a function, not "+typeof t+".")}function l(t,e,r){null!==g(e)&&n(t,e,"constructor",r)}var u=Object,c=TypeError,h=u.create,d=$traceurRuntime.defineProperties,f=$traceurRuntime.defineProperty,p=$traceurRuntime.getOwnPropertyDescriptor,g=Object.getPrototypeOf,m=$traceurRuntime.toProperty,v=Object,y=v.getOwnPropertyNames,w=v.getOwnPropertySymbols;$traceurRuntime.createClass=a,$traceurRuntime.defaultSuperCall=l,$traceurRuntime.superCall=n,$traceurRuntime.superConstructor=e,$traceurRuntime.superGet=r,$traceurRuntime.superSet=i}()},{}],96:[function(t,e,n){"use strict";function r(t){var e=this;this.eventManager=b(t),this.instance=t,this.settings=t.getSettings();var n=t.rootElement.getAttribute("style");n&&t.rootElement.setAttribute("data-originalstyle",n),h(t.rootElement,"handsontable");var r=document.createElement("TABLE");h(r,"htCore"),t.getSettings().tableClassName&&h(r,t.getSettings().tableClassName),this.THEAD=document.createElement("THEAD"),r.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),r.appendChild(this.TBODY),t.table=r,t.container.insertBefore(r,t.container.firstChild),this.eventManager.addEventListener(t.rootElement,"mousedown",function(t){e.isTextSelectionAllowed(t.target)||(o(),t.preventDefault(),window.focus())}),this.eventManager.addEventListener(document.documentElement,"keyup",function(e){t.selection.isInProgress()&&!e.shiftKey&&t.selection.finish()});var i;this.isMouseDown=function(){return i},this.eventManager.addEventListener(document.documentElement,"mouseup",function(e){t.selection.isInProgress()&&1===e.which&&t.selection.finish(),i=!1,w(document.activeElement)&&t.unlisten()}),this.eventManager.addEventListener(document.documentElement,"mousedown",function(n){var r=n.target,o=n.x||n.clientX,a=n.y||n.clientY;if(!i&&t.rootElement){if(r!==t.view.wt.wtTable.holder)for(;r!==document.documentElement;){if(null===r){if(n.isTargetWebComponent)break;return}if(r===t.rootElement)return;r=r.parentNode}else{var s=g();if(document.elementFromPoint(o+s,a)!==t.view.wt.wtTable.holder||document.elementFromPoint(o,a+s)!==t.view.wt.wtTable.holder)return}e.settings.outsideClickDeselects?t.deselectCell():t.destroyEditor()}}),this.eventManager.addEventListener(r,"selectstart",function(t){e.settings.fragmentSelection||t.preventDefault()});var o=function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},a=[new T({className:"current",border:{width:2,color:"#5292F7",cornerVisible:function(){return e.settings.fillHandle&&!e.isCellEdited()&&!t.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!e.isCellEdited()&&!t.selection.isMultiple()}}}),new T({className:"area",border:{width:1,color:"#89AFF9",cornerVisible:function(){return e.settings.fillHandle&&!e.isCellEdited()&&t.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!e.isCellEdited()&&t.selection.isMultiple()}}}),new T({className:"highlight",highlightRowClassName:e.settings.currentRowClassName,highlightColumnClassName:e.settings.currentColClassName}),new T({className:"fill",border:{width:1,color:"red"}})];a.current=a[0],a.area=a[1],a.highlight=a[2],a.fill=a[3];var s={debug:function(){return e.settings.debug},externalRowCalculator:this.instance.getPlugin("autoRowSize")&&this.instance.getPlugin("autoRowSize").isEnabled(),table:r,stretchH:this.settings.stretchH,data:t.getDataAtCell,totalRows:t.countRows,totalColumns:t.countCols,fixedColumnsLeft:function(){return e.settings.fixedColumnsLeft},fixedRowsTop:function(){return e.settings.fixedRowsTop},renderAllRows:e.settings.renderAllRows,rowHeaders:function(){var n=[];return t.hasRowHeaders()&&n.push(function(t,n){e.appendRowHeader(t,n)}),Handsontable.hooks.run(t,"afterGetRowHeaderRenderers",n),n},columnHeaders:function(){var n=[];return t.hasColHeaders()&&n.push(function(t,n){e.appendColHeader(t,n)}),Handsontable.hooks.run(t,"afterGetColumnHeaderRenderers",n),n},columnWidth:t.getColWidth,rowHeight:t.getRowHeight,cellRenderer:function(t,n,r){var i=e.instance.colToProp(n),o=e.instance.getCellMeta(t,n),a=e.instance.getCellRenderer(o),s=e.instance.getDataAtRowProp(t,i);a(e.instance,r,t,n,i,s,o),Handsontable.hooks.run(e.instance,"afterRenderer",r,t,n,i,s,o)},selections:a,hideBorderOnMouseDownOver:function(){return e.settings.fragmentSelection},onCellMouseDown:function(n,r,o,a){t.listen(),e.activeWt=a,i=!0,Handsontable.hooks.run(t,"beforeOnCellMouseDown",n,r,o),_(n)||(2===n.button&&t.selection.inInSelection(r)||(n.shiftKey?r.row>=0&&r.col>=0&&t.selection.setRangeEnd(r):(r.row<0||r.col<0)&&(r.row>=0||r.col>=0)?(r.row<0&&(t.selectCell(0,r.col,t.countRows()-1,r.col),t.selection.setSelectedHeaders(!1,!0)),r.col<0&&(t.selectCell(r.row,0,r.row,t.countCols()-1),t.selection.setSelectedHeaders(!0,!1))):(r.row=r.row<0?0:r.row,r.col=r.col<0?0:r.col,t.selection.setRangeStart(r),t.selection.setSelectedHeaders(!1,!1))),Handsontable.hooks.run(t,"afterOnCellMouseDown",n,r,o),e.activeWt=e.wt)},onCellMouseOver:function(n,r,o,a){e.activeWt=a,r.row>=0&&r.col>=0?i&&t.selection.setRangeEnd(r):i&&(r.row<0&&(t.selection.selectedHeader.cols?(t.selection.setRangeEnd(new E(t.countRows()-1,r.col)),t.selection.setSelectedHeaders(!1,!0)):t.selection.setRangeEnd(new E(r.row,r.col))),r.col<0&&(t.selection.selectedHeader.rows?(t.selection.setRangeEnd(new E(r.row,t.countCols()-1)),t.selection.setSelectedHeaders(!0,!1)):t.selection.setRangeEnd(new E(r.row,r.col)))),Handsontable.hooks.run(t,"afterOnCellMouseOver",n,r,o),e.activeWt=e.wt},onCellCornerMouseDown:function(e){e.preventDefault(),Handsontable.hooks.run(t,"afterOnCellCornerMouseDown",e)},beforeDraw:function(t){e.beforeRender(t)},onDraw:function(t){e.onDraw(t)},onScrollVertically:function(){t.runHooks("afterScrollVertically")},onScrollHorizontally:function(){t.runHooks("afterScrollHorizontally")},onBeforeDrawBorders:function(e,n){t.runHooks("beforeDrawBorders",e,n)},onBeforeTouchScroll:function(){t.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){t.runHooks("afterMomentumScroll")},viewportRowCalculatorOverride:function(n){var r=t.countRows(),i=e.settings.viewportRowRenderingOffset;if("auto"===i&&e.settings.fixedRowsTop&&(i=10),"number"==typeof i&&(n.startRow=Math.max(n.startRow-i,0),n.endRow=Math.min(n.endRow+i,r-1)),"auto"===i){var o=n.startRow+n.endRow-n.startRow,a=Math.ceil(o/r*12);n.startRow=Math.max(n.startRow-a,0),n.endRow=Math.min(n.endRow+a,r-1)}t.runHooks("afterViewportRowCalculatorOverride",n)},viewportColumnCalculatorOverride:function(n){var r=t.countCols(),i=e.settings.viewportColumnRenderingOffset;if("auto"===i&&e.settings.fixedColumnsLeft&&(i=10),"number"==typeof i&&(n.startColumn=Math.max(n.startColumn-i,0),n.endColumn=Math.min(n.endColumn+i,r-1)),"auto"===i){var o=n.startColumn+n.endColumn-n.startColumn,a=Math.ceil(o/r*12);n.startRow=Math.max(n.startColumn-a,0),n.endColumn=Math.min(n.endColumn+a,r-1)}t.runHooks("afterViewportColumnCalculatorOverride",n)}};Handsontable.hooks.run(t,"beforeInitWalkontable",s),this.wt=new k(s),this.activeWt=this.wt,this.eventManager.addEventListener(e.wt.wtTable.spreader,"mousedown",function(t){t.target===e.wt.wtTable.spreader&&3===t.which&&C(t)}),this.eventManager.addEventListener(e.wt.wtTable.spreader,"contextmenu",function(t){t.target===e.wt.wtTable.spreader&&3===t.which&&C(t)}),this.eventManager.addEventListener(document.documentElement,"click",function(){e.settings.observeDOMVisibility&&e.wt.drawInterrupted&&(e.instance.forceFullRender=!0,e.render())})}Object.defineProperties(n,{TableView:{get:function(){return r}},__esModule:{value:!0}});var i,o,a,s,l,u,c=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),h=c.addClass,d=c.empty,f=c.fastInnerHTML,p=c.fastInnerText,g=c.getScrollbarWidth,m=c.hasClass,v=c.isChildOf,y=c.isInput,w=c.isOutsideInput,b=(o=t("eventManager"),o&&o.__esModule&&o||{"default":o}).eventManager,x=(a=t("helpers/dom/event"),a&&a.__esModule&&a||{"default":a}),C=x.stopPropagation,_=x.isImmediatePropagationStopped,E=(s=t("3rdparty/walkontable/src/cell/coords"),s&&s.__esModule&&s||{"default":s}).WalkontableCellCoords,T=(l=t("3rdparty/walkontable/src/selection"),l&&l.__esModule&&l||{"default":l}).WalkontableSelection,k=(u=t("3rdparty/walkontable/src/core"),u&&u.__esModule&&u||{"default":u}).Walkontable;Handsontable.TableView=r,r.prototype.isTextSelectionAllowed=function(t){return y(t)?!0:this.settings.fragmentSelection&&v(t,this.TBODY)?!0:!1},r.prototype.isCellEdited=function(){var t=this.instance.getActiveEditor();return t&&t.isOpened()},r.prototype.beforeRender=function(t){t&&Handsontable.hooks.run(this.instance,"beforeRender",this.instance.forceFullRender)},r.prototype.onDraw=function(t){t&&Handsontable.hooks.run(this.instance,"afterRender",this.instance.forceFullRender)},r.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1,this.instance.renderCall=!1},r.prototype.getCellAtCoords=function(t,e){var n=this.wt.getCell(t,e);return 0>n?null:n},r.prototype.scrollViewport=function(t){this.wt.scrollViewport(t)},r.prototype.appendRowHeader=function(t,e){if(e.firstChild){var n=e.firstChild;if(!m(n,"relative"))return d(e),void this.appendRowHeader(t,e);this.updateCellHeader(n.querySelector(".rowHeader"),t,this.instance.getRowHeader)}else{var r=document.createElement("div"),i=document.createElement("span");r.className="relative",i.className="rowHeader",this.updateCellHeader(i,t,this.instance.getRowHeader),r.appendChild(i),e.appendChild(r)}Handsontable.hooks.run(this.instance,"afterGetRowHeader",t,e)},r.prototype.appendColHeader=function(t,e){if(e.firstChild){var n=e.firstChild;if(!m(n,"relative"))return d(e),void this.appendRowHeader(t,e);this.updateCellHeader(n.querySelector(".colHeader"),t,this.instance.getColHeader)}else{var r=document.createElement("div"),i=document.createElement("span");r.className="relative",i.className="colHeader",this.updateCellHeader(i,t,this.instance.getColHeader),r.appendChild(i),e.appendChild(r)}Handsontable.hooks.run(this.instance,"afterGetColHeader",t,e)},r.prototype.updateCellHeader=function(t,e,n){e>-1?f(t,n(e)):(p(t,String.fromCharCode(160)),h(t,"cornerHeader"))},r.prototype.maximumVisibleElementWidth=function(t){var e=this.wt.wtViewport.getWorkspaceWidth(),n=e-t;return n>0?n:0},r.prototype.maximumVisibleElementHeight=function(t){var e=this.wt.wtViewport.getWorkspaceHeight(),n=e-t;return n>0?n:0},r.prototype.mainViewIsActive=function(){return this.wt===this.activeWt},r.prototype.destroy=function(){this.wt.destroy(),this.eventManager.destroy()}},{"3rdparty/walkontable/src/cell/coords":5,"3rdparty/walkontable/src/core":7,"3rdparty/walkontable/src/selection":18,eventManager:40,"helpers/dom/element":44,"helpers/dom/event":45}],97:[function(t,e,n){"use strict";Object.defineProperties(n,{GhostTable:{get:function(){return f}},__esModule:{value:!0}});var r,i,o,a,s,l=(r=t("helpers/dom/element"),r&&r.__esModule&&r||{"default":r}),u=l.addClass,c=l.outerHeight,h=l.outerWidth,d=(i=t("helpers/array"),i&&i.__esModule&&i||{"default":i}).arrayEach,f=((o=t("helpers/object"),o&&o.__esModule&&o||{"default":o}).objectEach,(a=t("helpers/number"),a&&a.__esModule&&a||{"default":a}).rangeEach,(s=t("helpers/mixed"),s&&s.__esModule&&s||{"default":s}).stringify,function(t){this.hot=t,this.container=null,this.injected=!1,this.rows=[],this.columns=[],this.samples=null});$traceurRuntime.createClass(f,{addRow:function(t,e){if(this.columns.length)throw new Error("Doesn't support multi-dimensional table");this.rows.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={row:t};this.rows.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),this.table.colGroup.appendChild(this.createColGroupsCol()),this.table.tr.appendChild(this.createRow(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table},addColumn:function(t,e){if(this.rows.length)throw new Error("Doesn't support multi-dimensional table");this.columns.length||(this.container=this.createContainer(this.hot.rootElement.className));var n={col:t};this.columns.push(n),this.samples=e,this.table=this.createTable(this.hot.table.className),null!==this.hot.getColHeader(t)&&this.hot.view.appendColHeader(t,this.table.th),this.table.tBody.appendChild(this.createCol(t)),this.container.container.appendChild(this.table.fragment),n.table=this.table.table},getHeights:function(t){this.injected||this.injectTable(),d(this.rows,function(e){t(e.row,c(e.table)-1)})},getWidths:function(t){this.injected||this.injectTable(),d(this.columns,function(e){t(e.col,h(e.table))})},createColGroupsCol:function(){var t=this,e=document,n=e.createDocumentFragment();return n.appendChild(this.createColElement(-1)),this.samples.forEach(function(e){d(e.strings,function(e){n.appendChild(t.createColElement(e.col))})}),n},createRow:function(t){var e=this,n=document,r=n.createDocumentFragment(),i=n.createElement("th");return null!==this.hot.getRowHeader(t)&&this.hot.view.appendRowHeader(t,i),r.appendChild(i),this.samples.forEach(function(i){d(i.strings,function(i){var o=i.col,a=e.hot.getCellMeta(t,o);a.col=o,a.row=t;var s=e.hot.getCellRenderer(a),l=n.createElement("td");s(e.hot,l,t,o,e.hot.colToProp(o),i.value,a),r.appendChild(l)})}),r},createCol:function(t){var e=this,n=document,r=n.createDocumentFragment();return this.samples.forEach(function(i){d(i.strings,function(i){var o=i.row,a=e.hot.getCellMeta(o,t);a.col=t,a.row=o;var s=e.hot.getCellRenderer(a),l=n.createElement("td"),u=n.createElement("tr");s(e.hot,l,o,t,e.hot.colToProp(o),i.value,a),u.appendChild(l),r.appendChild(u)})}),r},clean:function(){this.rows.length=0,this.columns.length=0,this.samples&&this.samples.clear(),this.samples=null,this.removeTable()},injectTable:function(){var t=void 0!==arguments[0]?arguments[0]:null;this.injected||((t||this.hot.rootElement).appendChild(this.container.fragment),this.injected=!0)},removeTable:function(){this.injected&&this.container.container.parentNode&&(this.container.container.parentNode.removeChild(this.container.container),this.container=null,this.injected=!1)},createColElement:function(t){var e=document,n=e.createElement("col");return n.style.width=this.hot.view.wt.wtTable.getStretchedColumnWidth(t)+"px",n},createTable:function(){var t=void 0!==arguments[0]?arguments[0]:"",e=document,n=e.createDocumentFragment(),r=e.createElement("table"),i=e.createElement("thead"),o=e.createElement("tbody"),a=e.createElement("colgroup"),s=e.createElement("tr"),l=e.createElement("th");return this.isVertical()&&r.appendChild(a),this.isHorizontal()&&(s.appendChild(l),i.appendChild(s),r.style.tableLayout="auto",r.style.width="auto"),r.appendChild(i),this.isVertical()&&o.appendChild(s),r.appendChild(o),u(r,t),n.appendChild(r),{fragment:n,table:r,tHead:i,tBody:o,colGroup:a,tr:s,th:l}},createContainer:function(){var t=void 0!==arguments[0]?arguments[0]:"",e=document,n=e.createDocumentFragment(),r=e.createElement("div");return t="htGhostTable htAutoSize "+t.trim(),u(r,t),n.appendChild(r),{fragment:n,container:r}},isVertical:function(){return this.rows.length&&!this.columns.length?!0:!1},isHorizontal:function(){return this.columns.length&&!this.rows.length?!0:!1}},{}),Handsontable.utils=Handsontable.utils||{},Handsontable.utils.GhostTable=f},{"helpers/array":41,"helpers/dom/element":44,"helpers/mixed":47,"helpers/number":48,"helpers/object":49}],98:[function(t,e,n){"use strict";var r;Object.defineProperties(n,{SamplesGenerator:{get:function(){return d}},__esModule:{value:!0}});var i,o,a,s,l,u=(i=t("helpers/dom/element"),i&&i.__esModule&&i||{"default":i}),c=(u.addClass,u.outerHeight,u.outerWidth,(o=t("helpers/array"),o&&o.__esModule&&o||{"default":o}).arrayEach,(a=t("helpers/object"),a&&a.__esModule&&a||{"default":a}).objectEach,(s=t("helpers/number"),s&&s.__esModule&&s||{"default":s}).rangeEach),h=(l=t("helpers/mixed"),l&&l.__esModule&&l||{"default":l}).stringify,d=function(t){this.samples=null,this.dataFactory=t},f=d;$traceurRuntime.createClass(d,(r={},Object.defineProperty(r,"generateRowSamples",{value:function(t,e){return this.generateSamples("row",e,t)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(r,"generateColumnSamples",{value:function(t,e){return this.generateSamples("col",e,t)},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(r,"generateSamples",{value:function(t,e,n){var r=this,i=new Map;return"number"==typeof n&&(n={from:n,to:n}),c(n.from,n.to,function(n){var o=r.generateSample(t,e,n);i.set(n,o)}),i},configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(r,"generateSample",{value:function(t,e,n){var r=this,i=new Map;return c(e.from,e.to,function(e){var o,a;if("row"===t)a=r.dataFactory(n,e);else{if("col"!==t)throw new Error("Unsupported sample type");a=r.dataFactory(e,n)}Array.isArray(a)||(a=h(a));var s=a.length;i.has(s)||i.set(s,{needed:f.SAMPLE_COUNT,strings:[]});var l=i.get(s);l.needed&&(l.strings.push((o={},Object.defineProperty(o,"value",{value:a,configurable:!0,enumerable:!0,writable:!0}),Object.defineProperty(o,"row"===t?"col":"row",{value:e,configurable:!0,enumerable:!0,writable:!0}),o)),l.needed--)}),i},configurable:!0,enumerable:!0,writable:!0}),r),{get SAMPLE_COUNT(){return 3}}),Handsontable.utils=Handsontable.utils||{},Handsontable.utils.SamplesGenerator=d},{"helpers/array":41,"helpers/dom/element":44,"helpers/mixed":47,"helpers/number":48,"helpers/object":49}],99:[function(t,e,n){"use strict";function r(t,e){var n=t,r="string"==typeof n?n.toLowerCase():null;return function(t){for(var i=!1,a=0,s=t.length;s>a;a++){if(n===t[a]){i=!0;break}if(r===o(t[a]).toLowerCase()){i=!0;break}}e(i)}}var i,o=(i=t("helpers/mixed"),i&&i.__esModule&&i||{"default":i}).stringify;Handsontable.AutocompleteValidator=function(t,e){this.strict&&this.source?"function"==typeof this.source?this.source(t,r(t,e)):r(t,e)(this.source):e(!0)}},{"helpers/mixed":47}],100:[function(t,e,n){"use strict";var r,i,o=(r=t("moment"),r&&r.__esModule&&r||{"default":r})["default"],a=(i=t("editors"),i&&i.__esModule&&i||{"default":i}).getEditor;Handsontable.DateValidator=function(t,e){var n=!0,r=a("date",this.instance);null===t&&(t="");var i=o(new Date(t)).isValid(),l=o(t,this.dateFormat||r.defaultDateFormat,!0).isValid();if(i||(n=!1),!i&&l&&(n=!0),i&&!l)if(this.correctFormat===!0){var u=s(t,this.dateFormat);this.instance.setDataAtCell(this.row,this.col,u,"dateValidator"),n=!0}else n=!1;e(n)};var s=function(t,e){var n=o(new Date(t)),r=n.format("YYYY"),i=o().format("YYYY");return r.substr(0,2)!==i.substr(0,2)?t.match(new RegExp(r))||n.year(r.replace(r.substr(0,2),i.substr(0,2))):r.length>4&&n.year((n.year()+"").substr(0,4)),n.format(e)}},{editors:28,moment:void 0}],101:[function(t,e,n){"use strict";Handsontable.NumericValidator=function(t,e){null===t&&(t=""),e(/^-?\d*(\.|\,)?\d*$/.test(t))}},{}],SheetClip:[function(t,e,n){"use strict";!function(t){function e(t){return t.split('"').length-1}var r={parse:function(t){var n,r,i,o,a,s,l,u=[],c=0;for(i=t.split("\n"),i.length>1&&""===i[i.length-1]&&i.pop(),n=0,r=i.length;r>n;n+=1){for(i[n]=i[n].split("	"),o=0,a=i[n].length;a>o;o+=1)u[c]||(u[c]=[]),s&&0===o?(l=u[c].length-1,u[c][l]=u[c][l]+"\n"+i[n][0],s&&1&e(i[n][0])&&(s=!1,u[c][l]=u[c][l].substring(0,u[c][l].length-1).replace(/""/g,'"'))):o===a-1&&0===i[n][o].indexOf('"')&&1&e(i[n][o])?(u[c].push(i[n][o].substring(1).replace(/""/g,'"')),s=!0):(u[c].push(i[n][o].replace(/""/g,'"')),s=!1);s||(c+=1)}return u},stringify:function(t){var e,n,r,i,o,a="";for(e=0,n=t.length;n>e;e+=1){for(i=t[e].length,r=0;i>r;r+=1)r>0&&(a+="	"),o=t[e][r],a+="string"==typeof o?o.indexOf("\n")>-1?'"'+o.replace(/"/g,'""')+'"':o:null===o||void 0===o?"":o;a+="\n"}return a}};"undefined"!=typeof n?(n.parse=r.parse,n.stringify=r.stringify):t.SheetClip=r}(window)},{}],autoResize:[function(t,e,n){"use strict";function r(){var t,e={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},n=document.body,r=document.createTextNode(""),i=document.createElement("SPAN"),o=function(t,e,n){window.attachEvent?t.attachEvent("on"+e,n):t.addEventListener(e,n,!1)},a=function(t,e,n){window.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},s=function(o){var a,s;o?/^[a-zA-Z \.,\\\/\|0-9]$/.test(o)||(o="."):o="",void 0!==r.textContent?r.textContent=t.value+o:r.data=t.value+o,i.style.fontSize=Handsontable.Dom.getComputedStyle(t).fontSize,i.style.fontFamily=Handsontable.Dom.getComputedStyle(t).fontFamily,i.style.whiteSpace="pre",n.appendChild(i),a=i.clientWidth+2,n.removeChild(i),t.style.height=e.minHeight+"px",t.style.width=e.minWidth>a?e.minWidth+"px":a>e.maxWidth?e.maxWidth+"px":a+"px",s=t.scrollHeight?t.scrollHeight-1:0,e.minHeight>s?t.style.height=e.minHeight+"px":e.maxHeight<s?(t.style.height=e.maxHeight+"px",t.style.overflowY="visible"):t.style.height=s+"px"},l=function(){window.setTimeout(s,0)},u=function(n){if(n&&n.minHeight)if("inherit"==n.minHeight)e.minHeight=t.clientHeight;else{var o=parseInt(n.minHeight);isNaN(o)||(e.minHeight=o)}if(n&&n.maxHeight)if("inherit"==n.maxHeight)e.maxHeight=t.clientHeight;else{var a=parseInt(n.maxHeight);isNaN(a)||(e.maxHeight=a)}if(n&&n.minWidth)if("inherit"==n.minWidth)e.minWidth=t.clientWidth;else{var s=parseInt(n.minWidth);isNaN(s)||(e.minWidth=s)}if(n&&n.maxWidth)if("inherit"==n.maxWidth)e.maxWidth=t.clientWidth;else{var l=parseInt(n.maxWidth);isNaN(l)||(e.maxWidth=l)}i.firstChild||(i.className="autoResize",i.style.display="inline-block",i.appendChild(r))},c=function(n,r,i){t=n,u(r),"TEXTAREA"==t.nodeName&&(t.style.resize="none",t.style.overflowY="",t.style.height=e.minHeight+"px",t.style.minWidth=e.minWidth+"px",t.style.maxWidth=e.maxWidth+"px",t.style.overflowY="hidden"),i&&(o(t,"change",s),o(t,"cut",l),o(t,"paste",l),o(t,"drop",l),o(t,"keydown",l)),s()};return{init:function(t,e,n){c(t,e,n)},unObserve:function(){a(t,"change",s),a(t,"cut",l),a(t,"paste",l),a(t,"drop",l),a(t,"keydown",l)},resize:s}}"undefined"!=typeof n&&(e.exports=r)},{}],copyPaste:[function(t,e,n){"use strict";function r(){return o?o.hasBeenDestroyed()&&o.init():o=new i,o.refCounter++,o}function i(){this.refCounter=0,this.init()}var o;"undefined"!=typeof n&&(e.exports=r),i.prototype.init=function(){var t,e;this.copyCallbacks=[],this.cutCallbacks=[],this.pasteCallbacks=[],e=document.body,document.getElementById("CopyPasteDiv")?(this.elDiv=document.getElementById("CopyPasteDiv"),this.elTextarea=this.elDiv.firstChild):(this.elDiv=document.createElement("div"),this.elDiv.id="CopyPasteDiv",t=this.elDiv.style,t.position="fixed",t.top="-10000px",t.left="-10000px",e.appendChild(this.elDiv),this.elTextarea=document.createElement("textarea"),this.elTextarea.className="copyPaste",this.elTextarea.onpaste=function(t){var e,n;return"WebkitAppearance"in document.documentElement.style?(e=t.clipboardData.getData("Text"),-1!==navigator.userAgent.indexOf("Safari")&&-1===navigator.userAgent.indexOf("Chrome")&&(n=e.split("\n"),""===n[n.length-1]&&n.pop(),e=n.join("\n")),this.value=e,!1):void 0},t=this.elTextarea.style,t.width="10000px",t.height="10000px",t.overflow="hidden",this.elDiv.appendChild(this.elTextarea),"undefined"!=typeof t.opacity&&(t.opacity=0)),this.onKeyDownRef=this.onKeyDown.bind(this),document.documentElement.addEventListener("keydown",this.onKeyDownRef,!1)},i.prototype.onKeyDown=function(t){function e(){var t=document.activeElement;return t.shadowRoot&&t.shadowRoot.activeElement&&(t=t.shadowRoot.activeElement),["INPUT","SELECT","TEXTAREA"].indexOf(t.nodeName)>-1||"true"===t.contentEditable}var n=this,r=!1;if(t.metaKey?r=!0:t.ctrlKey&&-1===navigator.userAgent.indexOf("Mac")&&(r=!0),r){if(document.activeElement!==this.elTextarea&&(""!==this.getSelectionText()||e()))return;this.selectNodeText(this.elTextarea),setTimeout(function(){document.activeElement!==n.elTextarea&&n.selectNodeText(n.elTextarea)},0)}!r||67!==t.keyCode&&86!==t.keyCode&&88!==t.keyCode||(88===t.keyCode?setTimeout(function(){n.triggerCut(t)},0):86===t.keyCode&&setTimeout(function(){n.triggerPaste(t)},0))},i.prototype.selectNodeText=function(t){t&&t.select()},i.prototype.getSelectionText=function(){var t="";return window.getSelection?t=window.getSelection().toString():document.selection&&"Control"!==document.selection.type&&(t=document.selection.createRange().text),t},i.prototype.copyable=function(t){if("string"!=typeof t&&void 0===t.toString)throw new Error("copyable requires string parameter");this.elTextarea.value=t,this.selectNodeText(this.elTextarea)},i.prototype.onCut=function(t){this.cutCallbacks.push(t)},i.prototype.onPaste=function(t){this.pasteCallbacks.push(t)},i.prototype.removeCallback=function(t){var e,n;for(e=0,n=this.copyCallbacks.length;n>e;e++)if(this.copyCallbacks[e]===t)return this.copyCallbacks.splice(e,1),!0;for(e=0,n=this.cutCallbacks.length;n>e;e++)if(this.cutCallbacks[e]===t)return this.cutCallbacks.splice(e,1),!0;for(e=0,n=this.pasteCallbacks.length;n>e;e++)if(this.pasteCallbacks[e]===t)return this.pasteCallbacks.splice(e,1),!0;return!1},i.prototype.triggerCut=function(t){var e=this;e.cutCallbacks&&setTimeout(function(){for(var n=0,r=e.cutCallbacks.length;r>n;n++)e.cutCallbacks[n](t)},50)},i.prototype.triggerPaste=function(t,e){var n=this;n.pasteCallbacks&&setTimeout(function(){for(var r=e||n.elTextarea.value,i=0,o=n.pasteCallbacks.length;o>i;i++)n.pasteCallbacks[i](r,t)},50)},i.prototype.destroy=function(){this.hasBeenDestroyed()||0!==--this.refCounter||(this.elDiv&&this.elDiv.parentNode&&(this.elDiv.parentNode.removeChild(this.elDiv),this.elDiv=null,this.elTextarea=null),document.documentElement.removeEventListener("keydown",this.onKeyDownRef),this.onKeyDownRef=null)},i.prototype.hasBeenDestroyed=function(){return!this.refCounter}},{}],es6collections:[function(t,e,n){"use strict";!function(t){function e(t,e){function r(t){return this&&this.constructor===r?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,void(t&&n.call(this,t))):new r(t)}return e||w(t,"size",{get:m}),t.constructor=r,r.prototype=t,r}function n(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function r(t){return this.has(t)&&(this._keys.splice(y,1),this._values.splice(y,1),this._itp.forEach(function(t){y<t[0]&&t[0]--})),y>-1}function i(t){return this.has(t)?this._values[y]:void 0}function o(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!=e||0===e)for(y=t.length;y--&&!b(t[y],e););else y=t.indexOf(e);return y>-1}function a(t){return o.call(this,this._values,t)}function s(t){return o.call(this,this._keys,t)}function l(t,e){return this.has(t)?this._values[y]=e:this._values[this._keys.push(t)-1]=e,this}function u(t){return this.has(t)||this._values.push(t),this}function c(){this._values.length=0}function h(){return g(this._itp,this._keys)}function d(){return g(this._itp,this._values)}function f(){return g(this._itp,this._keys,this._values)}function p(){return g(this._itp,this._values,this._values)}function g(t,e,n){var r=[0],i=!1;return t.push(r),{next:function(){var o,a=r[0];return!i&&a<e.length?(o=n?[e[a],n[a]]:e[a],r[0]++):(i=!0,t.splice(t.indexOf(r),1)),{done:i,value:o}}}}function m(){return this._values.length}function v(t,e){for(var n=this.entries();;){var r=n.next();if(r.done)break;t.call(e,r.value[1],r.value[0],this)}}var y,w=Object.defineProperty,b=function(t,e){return isNaN(t)?isNaN(e):t===e};"undefined"==typeof WeakMap&&(t.WeakMap=e({"delete":r,clear:c,get:i,has:s,set:l},!0)),"undefined"==typeof Map&&(t.Map=e({"delete":r,has:s,get:i,set:l,keys:h,values:d,entries:f,forEach:v,clear:c})),"undefined"==typeof Set&&(t.Set=e({has:a,add:u,"delete":r,clear:c,keys:d,values:d,entries:p,forEach:v})),"undefined"==typeof WeakSet&&(t.WeakSet=e({"delete":r,add:u,clear:c,has:a},!0))}("undefined"!=typeof n&&"undefined"!=typeof global?global:window)},{}],jsonpatch:[function(t,e,n){"use strict";var r;!function(t){function e(t){return-1===t.indexOf("/")&&-1===t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function n(t,r){var i;for(var o in t)if(t.hasOwnProperty(o)){if(t[o]===r)return e(o)+"/";if("object"==typeof t[o]&&(i=n(t[o],r),""!=i))return e(o)+"/"+i}return""}function r(t,e){if(t===e)return"/";var r=n(t,e);if(""===r)throw new Error("Object not found in root");return"/"+r}function i(t){for(var e=0,n=y.length;n>e;e++)if(y[e].obj===t)return y[e]}function o(t){for(var e=0,n=y.length;n>e;e++)y[e]===t&&y.splice(e,1)}function a(t,e){for(var n=0,r=t.observers.length;r>n;n++)if(t.observers[n].callback===e)return t.observers[n].observer}function s(t,e){for(var n=0,r=t.observers.length;r>n;n++)if(t.observers[n].observer===e)return t.observers.splice(n,1),void(t.observers.length||o(t))}function l(t,e){d(e),Object.observe?h(e,t):clearTimeout(e.next);var n=i(t);s(n,e)}function u(t,e){var n,o=[],s=t,l=i(t);if(l?n=a(l,e):(l=new w(t),y.push(l)),n)return n;if(Object.observe)n=function(i){h(n,t),c(n,t);for(var a=0,l=i.length;l>a;){if(("length"!==i[a].name||!C(i[a].object))&&"__Jasmine_been_here_before__"!==i[a].name){var u=i[a].type;switch(u){case"new":u="add";break;case"deleted":u="delete";break;case"updated":u="update"}v[u].call(i[a],o,r(s,i[a].object))}a++}o&&e&&e(o),n.patches=o,o=[]};else if(n={},l.value=JSON.parse(JSON.stringify(t)),e){n.callback=e,n.next=null;var u=this.intervals||[100,1e3,1e4,6e4],f=0,p=function(){d(n)},g=function(){clearTimeout(n.next),n.next=setTimeout(function(){p(),f=0,n.next=setTimeout(m,u[f++])},0)},m=function(){p(),f==u.length&&(f=u.length-1),n.next=setTimeout(m,u[f++])};"undefined"!=typeof window&&(window.addEventListener?(window.addEventListener("mousedown",g),window.addEventListener("mouseup",g),window.addEventListener("keydown",g)):(window.attachEvent("onmousedown",g),window.attachEvent("onmouseup",g),window.attachEvent("onkeydown",g))),n.next=setTimeout(m,u[f++])}return n.patches=o,n.object=t,l.observers.push(new b(e,n)),c(n,t)}function c(t,e){if(Object.observe){Object.observe(e,t);for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];r&&"object"==typeof r&&c(t,r)}}return t}function h(t,e){if(Object.observe){Object.unobserve(e,t);for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];r&&"object"==typeof r&&h(t,r)}}return t}function d(t){if(Object.observe)Object.deliverChangeRecords(t);else{for(var e,n=0,r=y.length;r>n;n++)if(y[n].obj===t.object){e=y[n];break}e&&f(e.value,t.object,t.patches,"")}var i=t.patches;return i.length>0&&(t.patches=[],t.callback&&t.callback(i)),i}function f(t,n,r,i){for(var o=x(n),a=x(t),s=!1,l=!1,u=a.length-1;u>=0;u--){var c=a[u],h=t[c];if(n.hasOwnProperty(c)){var d=n[c];h instanceof Object?f(h,d,r,i+"/"+e(c)):h!=d&&(s=!0,r.push({op:"replace",path:i+"/"+e(c),value:d}),t[c]=d)}else r.push({op:"remove",path:i+"/"+e(c)}),delete t[c],l=!0}if(l||o.length!=a.length)for(var u=0;u<o.length;u++){var c=o[u];t.hasOwnProperty(c)||(r.push({op:"add",path:i+"/"+e(c),value:n[c]}),t[c]=JSON.parse(JSON.stringify(n[c])))}}function p(t,e){for(var n,r=!1,i=0,o=e.length;o>i;){n=e[i];for(var a=n.path.split("/"),s=t,l=1,u=a.length;;)if(C(s)){var c=parseInt(a[l],10);if(l++,l>=u){r=m[n.op].call(n,s,c,t);break}s=s[c]}else{var h=a[l];if(-1!=h.indexOf("~")&&(h=h.replace(/~1/g,"/").replace(/~0/g,"~")),l++,l>=u){r=g[n.op].call(n,s,h,t);break}s=s[h]}i++}return r}var g={add:function(t,e){return t[e]=this.value,!0},remove:function(t,e){return delete t[e],!0},replace:function(t,e){return t[e]=this.value,
!0},move:function(t,e,n){var r={op:"_get",path:this.from};return p(n,[r]),p(n,[{op:"remove",path:this.from}]),p(n,[{op:"add",path:this.path,value:r.value}]),!0},copy:function(t,e,n){var r={op:"_get",path:this.from};return p(n,[r]),p(n,[{op:"add",path:this.path,value:r.value}]),!0},test:function(t,e){return JSON.stringify(t[e])===JSON.stringify(this.value)},_get:function(t,e){this.value=t[e]}},m={add:function(t,e){return t.splice(e,0,this.value),!0},remove:function(t,e){return t.splice(e,1),!0},replace:function(t,e){return t[e]=this.value,!0},move:g.move,copy:g.copy,test:g.test,_get:g._get},v={add:function(t,n){var r={op:"add",path:n+e(this.name),value:this.object[this.name]};t.push(r)},"delete":function(t,n){var r={op:"remove",path:n+e(this.name)};t.push(r)},update:function(t,n){var r={op:"replace",path:n+e(this.name),value:this.object[this.name]};t.push(r)}},y=[];t.intervals;var w=function(){function t(t){this.observers=[],this.obj=t}return t}(),b=function(){function t(t,e){this.callback=t,this.observer=e}return t}();t.unobserve=l,t.observe=u,t.generate=d;var x;x=Object.keys?Object.keys:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};var C;C=Array.isArray?Array.isArray:function(t){return t.push&&"number"==typeof t.length},t.apply=p}(r||(r={})),"undefined"!=typeof n&&(n.apply=r.apply,n.observe=r.observe,n.unobserve=r.unobserve,n.generate=r.generate)},{}],numeral:[function(e,n,r){"use strict";(function(){function e(t){this._value=t}function r(t,e,n,r){var i,o,a=Math.pow(10,e);return o=(n(t*a)/a).toFixed(e),r&&(i=new RegExp("0{1,"+r+"}$"),o=o.replace(i,"")),o}function i(t,e,n){var r;return r=e.indexOf("$")>-1?a(t,e,n):e.indexOf("%")>-1?s(t,e,n):e.indexOf(":")>-1?l(t,e):c(t._value,e,n)}function o(t,e){var n,r,i,o,a,s=e,l=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(e.indexOf(":")>-1)t._value=u(e);else if(e===y)t._value=0;else{for("."!==m[v].delimiters.decimal&&(e=e.replace(/\./g,"").replace(m[v].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+m[v].abbreviations.thousand+"(?:\\)|(\\"+m[v].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+m[v].abbreviations.million+"(?:\\)|(\\"+m[v].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+m[v].abbreviations.billion+"(?:\\)|(\\"+m[v].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+m[v].abbreviations.trillion+"(?:\\)|(\\"+m[v].currency.symbol+")?(?:\\))?)?$"),a=0;a<=l.length&&!(c=e.indexOf(l[a])>-1?Math.pow(1024,a+1):!1);a++);t._value=(c?c:1)*(s.match(n)?Math.pow(10,3):1)*(s.match(r)?Math.pow(10,6):1)*(s.match(i)?Math.pow(10,9):1)*(s.match(o)?Math.pow(10,12):1)*(e.indexOf("%")>-1?.01:1)*((e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1)*Number(e.replace(/[^0-9\.]+/g,"")),t._value=c?Math.ceil(t._value):t._value}return t._value}function a(t,e,n){var r,i,o=e.indexOf("$"),a=e.indexOf("("),s=e.indexOf("-"),l="";return e.indexOf(" $")>-1?(l=" ",e=e.replace(" $","")):e.indexOf("$ ")>-1?(l=" ",e=e.replace("$ ","")):e=e.replace("$",""),i=c(t._value,e,n),1>=o?i.indexOf("(")>-1||i.indexOf("-")>-1?(i=i.split(""),r=1,(a>o||s>o)&&(r=0),i.splice(r,0,m[v].currency.symbol+l),i=i.join("")):i=m[v].currency.symbol+l+i:i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,l+m[v].currency.symbol),i=i.join("")):i=i+l+m[v].currency.symbol,i}function s(t,e,n){var r,i="",o=100*t._value;return e.indexOf(" %")>-1?(i=" ",e=e.replace(" %","")):e=e.replace("%",""),r=c(o,e,n),r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,i+"%"),r=r.join("")):r=r+i+"%",r}function l(t){var e=Math.floor(t._value/60/60),n=Math.floor((t._value-60*e*60)/60),r=Math.round(t._value-60*e*60-60*n);return e+":"+(10>n?"0"+n:n)+":"+(10>r?"0"+r:r)}function u(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}function c(t,e,n){var i,o,a,s,l,u,c=!1,h=!1,d=!1,f="",p=!1,g=!1,w=!1,b=!1,x=!1,C="",_="",E=Math.abs(t),T=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],k="",S=!1;if(0===t&&null!==y)return y;if(e.indexOf("(")>-1?(c=!0,e=e.slice(1,-1)):e.indexOf("+")>-1&&(h=!0,e=e.replace(/\+/g,"")),e.indexOf("a")>-1&&(p=e.indexOf("aK")>=0,g=e.indexOf("aM")>=0,w=e.indexOf("aB")>=0,b=e.indexOf("aT")>=0,x=p||g||w||b,e.indexOf(" a")>-1?(f=" ",e=e.replace(" a","")):e=e.replace("a",""),E>=Math.pow(10,12)&&!x||b?(f+=m[v].abbreviations.trillion,t/=Math.pow(10,12)):E<Math.pow(10,12)&&E>=Math.pow(10,9)&&!x||w?(f+=m[v].abbreviations.billion,t/=Math.pow(10,9)):E<Math.pow(10,9)&&E>=Math.pow(10,6)&&!x||g?(f+=m[v].abbreviations.million,t/=Math.pow(10,6)):(E<Math.pow(10,6)&&E>=Math.pow(10,3)&&!x||p)&&(f+=m[v].abbreviations.thousand,t/=Math.pow(10,3))),e.indexOf("b")>-1)for(e.indexOf(" b")>-1?(C=" ",e=e.replace(" b","")):e=e.replace("b",""),a=0;a<=T.length;a++)if(i=Math.pow(1024,a),o=Math.pow(1024,a+1),t>=i&&o>t){C+=T[a],i>0&&(t/=i);break}return e.indexOf("o")>-1&&(e.indexOf(" o")>-1?(_=" ",e=e.replace(" o","")):e=e.replace("o",""),_+=m[v].ordinal(t)),e.indexOf("[.]")>-1&&(d=!0,e=e.replace("[.]",".")),s=t.toString().split(".")[0],l=e.split(".")[1],u=e.indexOf(","),l?(l.indexOf("[")>-1?(l=l.replace("]",""),l=l.split("["),k=r(t,l[0].length+l[1].length,n,l[1].length)):k=r(t,l.length,n),s=k.split(".")[0],k=k.split(".")[1].length?m[v].delimiters.decimal+k.split(".")[1]:"",d&&0===Number(k.slice(1))&&(k="")):s=r(t,null,n),s.indexOf("-")>-1&&(s=s.slice(1),S=!0),u>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+m[v].delimiters.thousands)),0===e.indexOf(".")&&(s=""),(c&&S?"(":"")+(!c&&S?"-":"")+(!S&&h?"+":"")+s+k+(_?_:"")+(f?f:"")+(C?C:"")+(c&&S?")":"")}function h(t,e){m[t]=e}function d(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)}function f(){var t=Array.prototype.slice.call(arguments);return t.reduce(function(t,e){var n=d(t),r=d(e);return n>r?n:r},-(1/0))}var p,g="1.5.3",m={},v="en",y=null,w="0,0",b="undefined"!=typeof n&&n.exports;p=function(t){return p.isNumeral(t)?t=t.value():0===t||"undefined"==typeof t?t=0:Number(t)||(t=p.fn.unformat(t)),new e(Number(t))},p.version=g,p.isNumeral=function(t){return t instanceof e},p.language=function(t,e){if(!t)return v;if(t&&!e){if(!m[t])throw new Error("Unknown language : "+t);v=t}return(e||!m[t])&&h(t,e),p},p.languageData=function(t){if(!t)return m[v];if(!m[t])throw new Error("Unknown language : "+t);return m[t]},p.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),p.zeroFormat=function(t){y="string"==typeof t?t:null},p.defaultFormat=function(t){w="string"==typeof t?t:"0.0"},p.validate=function(t,e){var n,r,i,o,a,s,l,u;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),t=t.trim(),""===t)return!1;t=t.replace(/^[+-]?/,"");try{l=p.languageData(e)}catch(c){l=p.languageData(p.language())}return i=l.currency.symbol,a=l.abbreviations,n=l.delimiters.decimal,r="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,u=t.match(/^[^\d\.\,]+/),null!==u&&(t=t.substr(1),u[0]!==i)?!1:(u=t.match(/[^\d]+$/),null!==u&&(t=t.slice(0,-1),u[0]!==a.thousand&&u[0]!==a.million&&u[0]!==a.billion&&u[0]!==a.trillion)?!1:t.match(/^\d+$/)?!0:(s=new RegExp(r+"{2}"),t.match(/[^\d.,]/g)?!1:(o=t.split(n),o.length>2?!1:o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(s):""===o[0]?!o[0].match(s)&&!!o[1].match(/^\d+$/):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(s)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(s)&&!!o[1].match(/^\d+$/))))},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,r,i=this.length>>>0,o=!1;for(1<arguments.length&&(r=e,o=!0),n=0;i>n;++n)this.hasOwnProperty(n)&&(o?r=t(r,this[n],n,this):(r=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return r}),p.fn=e.prototype={clone:function(){return p(this)},format:function(t,e){return i(this,t?t:w,void 0!==e?e:Math.round)},unformat:function(t){return"[object Number]"===Object.prototype.toString.call(t)?t:o(this,t?t:w)},value:function(){return this._value},valueOf:function(){return this._value},set:function(t){return this._value=Number(t),this},add:function(t){function e(t,e,r,i){return t+n*e}var n=f.call(null,this._value,t);return this._value=[this._value,t].reduce(e,0)/n,this},subtract:function(t){function e(t,e,r,i){return t-n*e}var n=f.call(null,this._value,t);return this._value=[t].reduce(e,this._value*n)/n,this},multiply:function(t){function e(t,e,n,r){var i=f(t,e);return t*i*e*i/(i*i)}return this._value=[this._value,t].reduce(e,1),this},divide:function(t){function e(t,e,n,r){var i=f(t,e);return t*i/(e*i)}return this._value=[this._value,t].reduce(e),this},difference:function(t){return Math.abs(p(this._value).subtract(t).value())}},b&&(n.exports=p),"undefined"==typeof ender&&(this.numeral=p),"function"==typeof t&&t.amd&&t([],function(){return p})}).call(window)},{}]},{},[23,57,58,59,60,82,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,83,84,85,86,99,100,101,89,90,91,92,93,94,30,34,31,32,39,33,35,36,37,38])("numeral")}),/**
 * ngHandsontable 0.7.0-beta2
 * 
 * Copyright 2012-2015 Marcin Warpechowski
 * Copyright 2015 Handsoncode sp. z o.o. <hello@handsontable.com>
 * Licensed under the MIT license.
 * https://github.com/handsontable/ngHandsontable
 * Date: Fri Sep 11 2015 09:12:32 GMT+0200 (CEST)
*/
document.all&&!document.addEventListener&&(document.createElement("hot-table"),document.createElement("hot-column"),document.createElement("hot-autocomplete")),angular.module("ngHandsontable.services",[]),angular.module("ngHandsontable.directives",[]),angular.module("ngHandsontable",["ngHandsontable.services","ngHandsontable.directives"]),Handsontable.hooks.add("afterContextMenuShow",function(){Handsontable.eventManager.isHotTableEnv=!1}),function(){function t(t){return{parseAutoComplete:function(e,n,r){e.source=function(i,o){var a=this.instance.getSelected()[0],s=[],l=n[a];if(l){var u=e.optionList;if(u.object){if(angular.isArray(u.object))s=u.object;else{var c=t(u.object)(l);if(angular.isArray(c))if(r)for(var h=0,d=c.length;d>h;h++){var f=c[h][u.property];null!==f&&void 0!==f&&s.push(f)}else s=c;else s=c}o(s)}}}}}}t.$inject=["$parse"],angular.module("ngHandsontable.services").factory("autoCompleteFactory",t)}(),function(){function t(){var t={};return{getInstance:function(e){return t[e]},registerInstance:function(e,n){t[e]=n},removeInstance:function(e){t[e]=void 0}}}t.$inject=[],angular.module("ngHandsontable.services").factory("hotRegisterer",t)}(),function(){function t(t){return t.replace(/[A-Z]/g,function(t){return"-"+t.charAt(0).toLowerCase()})}function e(t){return t.substr(0,1).toUpperCase()+t.substr(1,t.length-1)}function n(n){return{containerClassName:"handsontable-container",initializeHandsontable:function(t,e){var r,i=document.createElement("div");return i.className=this.containerClassName,t[0].appendChild(i),r=new Handsontable(i,e),e.hotId&&n.registerInstance(e.hotId,r),r},updateHandsontableSettings:function(t,e){t&&t.updateSettings(e)},renderHandsontable:function(t){t&&t.render()},mergeSettingsFromScope:function(t,e){var n,r,i,o=angular.extend({},e);for(t=t||{},angular.extend(o,e.settings||{}),n=this.getAvailableSettings(),r=0,i=n.length;i>r;r++)"undefined"!=typeof o[n[r]]&&(t[n[r]]=o[n[r]]);return t},mergeHooksFromScope:function(t,n){var r,i,o,a,s=angular.extend({},n);for(t=t||{},angular.extend(s,n.settings||{}),r=this.getAvailableHooks(),i=0,o=r.length;o>i;i++)a="on"+e(r[i]),("function"==typeof s[r[i]]||"function"==typeof s[a])&&(t[r[i]]=s[r[i]]||s[a]);return t},trimScopeDefinitionAccordingToAttrs:function(t,e){for(var n in t)t.hasOwnProperty(n)&&void 0===e[n]&&void 0===e[t[n].substr(1,t[n].length)]&&delete t[n];return t},getTableScopeDefinition:function(){var t={};return this.applyAvailableSettingsScopeDef(t),this.applyAvailableHooksScopeDef(t),t.datarows="=",t.dataschema="=",t.observeDomVisibility="=",t.settings="=",t},getColumnScopeDefinition:function(){var t={};return this.applyAvailableSettingsScopeDef(t),t.data="@",t},applyAvailableSettingsScopeDef:function(t){var e,n,r;for(e=this.getAvailableSettings(),n=0,r=e.length;r>n;n++)t[e[n]]="=";return t},applyAvailableHooksScopeDef:function(t){var n,r,i;for(n=this.getAvailableHooks(),r=0,i=n.length;i>r;r++)t[n[r]]="=on"+e(n[r]);return t},getAvailableSettings:function(e){var n=Object.keys(Handsontable.DefaultSettings.prototype);return-1===n.indexOf("contextMenuCopyPaste")&&n.push("contextMenuCopyPaste"),e&&(n=n.map(t)),n},getAvailableHooks:function(e){var n=Handsontable.hooks.getRegistered();return e&&(n=n.map(function(e){return"on-"+t(e)})),n}}}n.$inject=["hotRegisterer"],angular.module("ngHandsontable.services").factory("settingFactory",n)}(),function(){function t(){return{restrict:"EA",scope:!0,require:"^hotColumn",link:function(t,e,n,r){var i=n.datarows;r.setColumnOptionList(i)}}}t.$inject=[],angular.module("ngHandsontable.directives").directive("hotAutocomplete",t)}(),function(){function t(t){return{restrict:"EA",require:"^hotTable",scope:{},controller:["$scope",function(t){this.setColumnOptionList=function(e){t.column||(t.column={});var n={},r=e.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/);r?(n.property=r[1],n.object=r[2]):n.object=e.split(","),t.column.optionList=n}}],compile:function(e,n){var r=this;return this.scope=t.trimScopeDefinitionAccordingToAttrs(t.getColumnScopeDefinition(),n),angular.forEach(Object.keys(this.scope),function(t){r.$$isolateBindings[t]={attrName:t,collection:!1,mode:"data"===t?"@":"=",optional:!1}}),function(e,n,r,i){var o={};angular.forEach(Object.keys(r),function(t){"$"!==t.charAt(0)&&""===r[t]&&(o[t]=!0)}),t.mergeSettingsFromScope(o,e),e.column||(e.column={}),angular.extend(e.column,o),i.setColumnSetting(e.column),e.$on("$destroy",function(){i.removeColumnSetting(e.column)})}}}}t.$inject=["settingFactory"],angular.module("ngHandsontable.directives").directive("hotColumn",t)}(),function(){function t(t,e,n){return{restrict:"EA",scope:{},priority:-400,controller:["$scope",function(e){this.setColumnSetting=function(n){e.htSettings||(e.htSettings={}),e.htSettings.columns||(e.htSettings.columns=[]),e.htSettings.columns.push(n),t.updateHandsontableSettings(e.hotInstance,e.htSettings)},this.removeColumnSetting=function(n){e.htSettings.columns.indexOf(n)>-1&&(e.htSettings.columns.splice(e.htSettings.columns.indexOf(n),1),t.updateHandsontableSettings(e.hotInstance,e.htSettings))}}],compile:function(r,i){var o,a=this;return this.scope=t.trimScopeDefinitionAccordingToAttrs(t.getTableScopeDefinition(),i),o=Object.keys(this.scope),angular.forEach(o,function(t){var e=a.scope[t].charAt(0);a.$$isolateBindings[t]={attrName:a.scope[t].length>1?a.scope[t].substr(1,a.scope[t].length):t,collection:!1,mode:e,optional:!1}}),function(r,i,a){if(r.htSettings||(r.htSettings={}),angular.forEach(Object.keys(a),function(t){"$"!==t.charAt(0)&&""===a[t]&&(r.htSettings[t]=!0)}),t.mergeSettingsFromScope(r.htSettings,r),t.mergeHooksFromScope(r.htSettings,r),r.htSettings.data=r.datarows,r.htSettings.dataSchema=r.dataschema,r.htSettings.hotId=a.hotId,r.htSettings.observeDOMVisibility=r.observeDomVisibility,r.htSettings.columns)for(var s=0,l=r.htSettings.columns.length;l>s;s++)if("autocomplete"===r.htSettings.columns[s].type){if("string"==typeof r.htSettings.columns[s].optionList){var u={},c=r.htSettings.columns[s].optionList.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)\s*$/);c?(u.property=c[1],u.object=c[2]):u.object=u,r.htSettings.columns[s].optionList=u}e.parseAutoComplete(r.htSettings.columns[s],r.datarows,!0)}var h=r.htSettings.afterChange;r.htSettings.afterChange=function(){h&&h.apply(this,arguments),n.$$phase||r.$apply()},r.hotInstance=t.initializeHandsontable(i,r.htSettings),angular.forEach(o,function(e){r.$watch(e,function(n,i){void 0!==n&&n!==i&&("datarows"===e?r.hotInstance.getSettings().data===n?t.renderHandsontable(r.hotInstance):r.hotInstance.loadData(n):(r.htSettings[e]=n,t.updateHandsontableSettings(r.hotInstance,r.htSettings)))},["datarows","columns","rowHeights","colWidths","rowHeaders","colHeaders"].indexOf(e)>=0)}),r.$watchCollection("datarows",function(e,n){n&&n.length===r.htSettings.minSpareRows&&e.length!==r.htSettings.minSpareRows&&(r.htSettings.data=r.datarows,t.updateHandsontableSettings(r.hotInstance,r.htSettings))})}}}}t.$inject=["settingFactory","autoCompleteFactory","$rootScope"],angular.module("ngHandsontable.directives").directive("hotTable",t)}();