/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
/*!
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * @link   http://www.phpied.com/rgb-color-parser-in-javascript/
 * @license Use it if you like it
 */
function RGBColor(t){this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in e)t==n&&(t=e[n]);for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],i=0;i<r.length;i++){var o=r[i].re,a=r[i].process,s=o.exec(t);s&&(channels=a(s),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n},this.getHelpXML=function(){for(var t=new Array,n=0;n<r.length;n++)for(var i=r[n].example,o=0;o<i.length;o++)t[t.length]=i[o];for(var a in e)t[t.length]=a;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(var n=0;n<t.length;n++)try{var l=document.createElement("li"),u=new RGBColor(t[n]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),c.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+t[n]+" -> "+u.toRGB()+" -> "+u.toHex());l.appendChild(c),l.appendChild(h),s.appendChild(l)}catch(f){}return s}}function stackBlurImage(t,e,n,r){var i=document.getElementById(t),o=i.naturalWidth,a=i.naturalHeight,s=document.getElementById(e);s.style.width=o+"px",s.style.height=a+"px",s.width=o,s.height=a;var l=s.getContext("2d");l.clearRect(0,0,o,a),l.drawImage(i,0,0),isNaN(n)||1>n||(r?stackBlurCanvasRGBA(e,0,0,o,a,n):stackBlurCanvasRGB(e,0,0,o,a,n))}function stackBlurCanvasRGBA(t,e,n,r,i,o){if(!(isNaN(o)||1>o)){o|=0;var a,s=document.getElementById(t),l=s.getContext("2d");try{try{a=l.getImageData(e,n,r,i)}catch(u){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),a=l.getImageData(e,n,r,i)}catch(u){throw alert("Cannot access local image"),new Error("unable to access local image data: "+u)}}}catch(u){throw alert("Cannot access image"),new Error("unable to access image data: "+u)}var c,h,f,d,p,g,m,v,y,w,b,x,C,T,E,k,S,_,$,A,D,M,R,P,O=a.data,L=o+o+1,I=r-1,N=i-1,B=o+1,H=B*(B+1)/2,F=new BlurStack,V=F;for(f=1;L>f;f++)if(V=V.next=new BlurStack,f==B)var q=V;V.next=F;var j=null,z=null;m=g=0;var W=mul_table[o],U=shg_table[o];for(h=0;i>h;h++){for(k=S=_=$=v=y=w=b=0,x=B*(A=O[g]),C=B*(D=O[g+1]),T=B*(M=O[g+2]),E=B*(R=O[g+3]),v+=H*A,y+=H*D,w+=H*M,b+=H*R,V=F,f=0;B>f;f++)V.r=A,V.g=D,V.b=M,V.a=R,V=V.next;for(f=1;B>f;f++)d=g+((f>I?I:f)<<2),v+=(V.r=A=O[d])*(P=B-f),y+=(V.g=D=O[d+1])*P,w+=(V.b=M=O[d+2])*P,b+=(V.a=R=O[d+3])*P,k+=A,S+=D,_+=M,$+=R,V=V.next;for(j=F,z=q,c=0;r>c;c++)O[g+3]=R=b*W>>U,0!=R?(R=255/R,O[g]=(v*W>>U)*R,O[g+1]=(y*W>>U)*R,O[g+2]=(w*W>>U)*R):O[g]=O[g+1]=O[g+2]=0,v-=x,y-=C,w-=T,b-=E,x-=j.r,C-=j.g,T-=j.b,E-=j.a,d=m+((d=c+o+1)<I?d:I)<<2,k+=j.r=O[d],S+=j.g=O[d+1],_+=j.b=O[d+2],$+=j.a=O[d+3],v+=k,y+=S,w+=_,b+=$,j=j.next,x+=A=z.r,C+=D=z.g,T+=M=z.b,E+=R=z.a,k-=A,S-=D,_-=M,$-=R,z=z.next,g+=4;m+=r}for(c=0;r>c;c++){for(S=_=$=k=y=w=b=v=0,g=c<<2,x=B*(A=O[g]),C=B*(D=O[g+1]),T=B*(M=O[g+2]),E=B*(R=O[g+3]),v+=H*A,y+=H*D,w+=H*M,b+=H*R,V=F,f=0;B>f;f++)V.r=A,V.g=D,V.b=M,V.a=R,V=V.next;for(p=r,f=1;o>=f;f++)g=p+c<<2,v+=(V.r=A=O[g])*(P=B-f),y+=(V.g=D=O[g+1])*P,w+=(V.b=M=O[g+2])*P,b+=(V.a=R=O[g+3])*P,k+=A,S+=D,_+=M,$+=R,V=V.next,N>f&&(p+=r);for(g=c,j=F,z=q,h=0;i>h;h++)d=g<<2,O[d+3]=R=b*W>>U,R>0?(R=255/R,O[d]=(v*W>>U)*R,O[d+1]=(y*W>>U)*R,O[d+2]=(w*W>>U)*R):O[d]=O[d+1]=O[d+2]=0,v-=x,y-=C,w-=T,b-=E,x-=j.r,C-=j.g,T-=j.b,E-=j.a,d=c+((d=h+B)<N?d:N)*r<<2,v+=k+=j.r=O[d],y+=S+=j.g=O[d+1],w+=_+=j.b=O[d+2],b+=$+=j.a=O[d+3],j=j.next,x+=A=z.r,C+=D=z.g,T+=M=z.b,E+=R=z.a,k-=A,S-=D,_-=M,$-=R,z=z.next,g+=r}l.putImageData(a,e,n)}}function stackBlurCanvasRGB(t,e,n,r,i,o){if(!(isNaN(o)||1>o)){o|=0;var a,s=document.getElementById(t),l=s.getContext("2d");try{try{a=l.getImageData(e,n,r,i)}catch(u){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),a=l.getImageData(e,n,r,i)}catch(u){throw alert("Cannot access local image"),new Error("unable to access local image data: "+u)}}}catch(u){throw alert("Cannot access image"),new Error("unable to access image data: "+u)}var c,h,f,d,p,g,m,v,y,w,b,x,C,T,E,k,S,_,$,A,D=a.data,M=o+o+1,R=r-1,P=i-1,O=o+1,L=O*(O+1)/2,I=new BlurStack,N=I;for(f=1;M>f;f++)if(N=N.next=new BlurStack,f==O)var B=N;N.next=I;var H=null,F=null;m=g=0;var V=mul_table[o],q=shg_table[o];for(h=0;i>h;h++){for(T=E=k=v=y=w=0,b=O*(S=D[g]),x=O*(_=D[g+1]),C=O*($=D[g+2]),v+=L*S,y+=L*_,w+=L*$,N=I,f=0;O>f;f++)N.r=S,N.g=_,N.b=$,N=N.next;for(f=1;O>f;f++)d=g+((f>R?R:f)<<2),v+=(N.r=S=D[d])*(A=O-f),y+=(N.g=_=D[d+1])*A,w+=(N.b=$=D[d+2])*A,T+=S,E+=_,k+=$,N=N.next;for(H=I,F=B,c=0;r>c;c++)D[g]=v*V>>q,D[g+1]=y*V>>q,D[g+2]=w*V>>q,v-=b,y-=x,w-=C,b-=H.r,x-=H.g,C-=H.b,d=m+((d=c+o+1)<R?d:R)<<2,T+=H.r=D[d],E+=H.g=D[d+1],k+=H.b=D[d+2],v+=T,y+=E,w+=k,H=H.next,b+=S=F.r,x+=_=F.g,C+=$=F.b,T-=S,E-=_,k-=$,F=F.next,g+=4;m+=r}for(c=0;r>c;c++){for(E=k=T=y=w=v=0,g=c<<2,b=O*(S=D[g]),x=O*(_=D[g+1]),C=O*($=D[g+2]),v+=L*S,y+=L*_,w+=L*$,N=I,f=0;O>f;f++)N.r=S,N.g=_,N.b=$,N=N.next;for(p=r,f=1;o>=f;f++)g=p+c<<2,v+=(N.r=S=D[g])*(A=O-f),y+=(N.g=_=D[g+1])*A,w+=(N.b=$=D[g+2])*A,T+=S,E+=_,k+=$,N=N.next,P>f&&(p+=r);for(g=c,H=I,F=B,h=0;i>h;h++)d=g<<2,D[d]=v*V>>q,D[d+1]=y*V>>q,D[d+2]=w*V>>q,v-=b,y-=x,w-=C,b-=H.r,x-=H.g,C-=H.b,d=c+((d=h+O)<P?d:P)*r<<2,v+=T+=H.r=D[d],y+=E+=H.g=D[d+1],w+=k+=H.b=D[d+2],H=H.next,b+=S=F.r,x+=_=F.g,C+=$=F.b,T-=S,E-=_,k-=$,F=F.next,g+=r}l.putImageData(a,e,n)}}function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}/*!
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * @link   http://www.phpied.com/rgb-color-parser-in-javascript/
 * @license Use it if you like it
 */
function RGBColor(t){this.ok=!1,"#"==t.charAt(0)&&(t=t.substr(1,6)),t=t.replace(/ /g,""),t=t.toLowerCase();var e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"};for(var n in e)t==n&&(t=e[n]);for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(t){return[parseInt(t[1]),parseInt(t[2]),parseInt(t[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}}],i=0;i<r.length;i++){var o=r[i].re,a=r[i].process,s=o.exec(t);s&&(channels=a(s),this.r=channels[0],this.g=channels[1],this.b=channels[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var t=this.r.toString(16),e=this.g.toString(16),n=this.b.toString(16);return 1==t.length&&(t="0"+t),1==e.length&&(e="0"+e),1==n.length&&(n="0"+n),"#"+t+e+n},this.getHelpXML=function(){for(var t=new Array,n=0;n<r.length;n++)for(var i=r[n].example,o=0;o<i.length;o++)t[t.length]=i[o];for(var a in e)t[t.length]=a;var s=document.createElement("ul");s.setAttribute("id","rgbcolor-examples");for(var n=0;n<t.length;n++)try{var l=document.createElement("li"),u=new RGBColor(t[n]),c=document.createElement("div");c.style.cssText="margin: 3px; border: 1px solid black; background:"+u.toHex()+"; color:"+u.toHex(),c.appendChild(document.createTextNode("test"));var h=document.createTextNode(" "+t[n]+" -> "+u.toRGB()+" -> "+u.toHex());l.appendChild(c),l.appendChild(h),s.appendChild(l)}catch(f){}return s}}function stackBlurImage(t,e,n,r){var i=document.getElementById(t),o=i.naturalWidth,a=i.naturalHeight,s=document.getElementById(e);s.style.width=o+"px",s.style.height=a+"px",s.width=o,s.height=a;var l=s.getContext("2d");l.clearRect(0,0,o,a),l.drawImage(i,0,0),isNaN(n)||1>n||(r?stackBlurCanvasRGBA(e,0,0,o,a,n):stackBlurCanvasRGB(e,0,0,o,a,n))}function stackBlurCanvasRGBA(t,e,n,r,i,o){if(!(isNaN(o)||1>o)){o|=0;var a,s=document.getElementById(t),l=s.getContext("2d");try{try{a=l.getImageData(e,n,r,i)}catch(u){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),a=l.getImageData(e,n,r,i)}catch(u){throw alert("Cannot access local image"),new Error("unable to access local image data: "+u)}}}catch(u){throw alert("Cannot access image"),new Error("unable to access image data: "+u)}var c,h,f,d,p,g,m,v,y,w,b,x,C,T,E,k,S,_,$,A,D,M,R,P,O=a.data,L=o+o+1,I=r-1,N=i-1,B=o+1,H=B*(B+1)/2,F=new BlurStack,V=F;for(f=1;L>f;f++)if(V=V.next=new BlurStack,f==B)var q=V;V.next=F;var j=null,z=null;m=g=0;var W=mul_table[o],U=shg_table[o];for(h=0;i>h;h++){for(k=S=_=$=v=y=w=b=0,x=B*(A=O[g]),C=B*(D=O[g+1]),T=B*(M=O[g+2]),E=B*(R=O[g+3]),v+=H*A,y+=H*D,w+=H*M,b+=H*R,V=F,f=0;B>f;f++)V.r=A,V.g=D,V.b=M,V.a=R,V=V.next;for(f=1;B>f;f++)d=g+((f>I?I:f)<<2),v+=(V.r=A=O[d])*(P=B-f),y+=(V.g=D=O[d+1])*P,w+=(V.b=M=O[d+2])*P,b+=(V.a=R=O[d+3])*P,k+=A,S+=D,_+=M,$+=R,V=V.next;for(j=F,z=q,c=0;r>c;c++)O[g+3]=R=b*W>>U,0!=R?(R=255/R,O[g]=(v*W>>U)*R,O[g+1]=(y*W>>U)*R,O[g+2]=(w*W>>U)*R):O[g]=O[g+1]=O[g+2]=0,v-=x,y-=C,w-=T,b-=E,x-=j.r,C-=j.g,T-=j.b,E-=j.a,d=m+((d=c+o+1)<I?d:I)<<2,k+=j.r=O[d],S+=j.g=O[d+1],_+=j.b=O[d+2],$+=j.a=O[d+3],v+=k,y+=S,w+=_,b+=$,j=j.next,x+=A=z.r,C+=D=z.g,T+=M=z.b,E+=R=z.a,k-=A,S-=D,_-=M,$-=R,z=z.next,g+=4;m+=r}for(c=0;r>c;c++){for(S=_=$=k=y=w=b=v=0,g=c<<2,x=B*(A=O[g]),C=B*(D=O[g+1]),T=B*(M=O[g+2]),E=B*(R=O[g+3]),v+=H*A,y+=H*D,w+=H*M,b+=H*R,V=F,f=0;B>f;f++)V.r=A,V.g=D,V.b=M,V.a=R,V=V.next;for(p=r,f=1;o>=f;f++)g=p+c<<2,v+=(V.r=A=O[g])*(P=B-f),y+=(V.g=D=O[g+1])*P,w+=(V.b=M=O[g+2])*P,b+=(V.a=R=O[g+3])*P,k+=A,S+=D,_+=M,$+=R,V=V.next,N>f&&(p+=r);for(g=c,j=F,z=q,h=0;i>h;h++)d=g<<2,O[d+3]=R=b*W>>U,R>0?(R=255/R,O[d]=(v*W>>U)*R,O[d+1]=(y*W>>U)*R,O[d+2]=(w*W>>U)*R):O[d]=O[d+1]=O[d+2]=0,v-=x,y-=C,w-=T,b-=E,x-=j.r,C-=j.g,T-=j.b,E-=j.a,d=c+((d=h+B)<N?d:N)*r<<2,v+=k+=j.r=O[d],y+=S+=j.g=O[d+1],w+=_+=j.b=O[d+2],b+=$+=j.a=O[d+3],j=j.next,x+=A=z.r,C+=D=z.g,T+=M=z.b,E+=R=z.a,k-=A,S-=D,_-=M,$-=R,z=z.next,g+=r}l.putImageData(a,e,n)}}function stackBlurCanvasRGB(t,e,n,r,i,o){if(!(isNaN(o)||1>o)){o|=0;var a,s=document.getElementById(t),l=s.getContext("2d");try{try{a=l.getImageData(e,n,r,i)}catch(u){try{netscape.security.PrivilegeManager.enablePrivilege("UniversalBrowserRead"),a=l.getImageData(e,n,r,i)}catch(u){throw alert("Cannot access local image"),new Error("unable to access local image data: "+u)}}}catch(u){throw alert("Cannot access image"),new Error("unable to access image data: "+u)}var c,h,f,d,p,g,m,v,y,w,b,x,C,T,E,k,S,_,$,A,D=a.data,M=o+o+1,R=r-1,P=i-1,O=o+1,L=O*(O+1)/2,I=new BlurStack,N=I;for(f=1;M>f;f++)if(N=N.next=new BlurStack,f==O)var B=N;N.next=I;var H=null,F=null;m=g=0;var V=mul_table[o],q=shg_table[o];for(h=0;i>h;h++){for(T=E=k=v=y=w=0,b=O*(S=D[g]),x=O*(_=D[g+1]),C=O*($=D[g+2]),v+=L*S,y+=L*_,w+=L*$,N=I,f=0;O>f;f++)N.r=S,N.g=_,N.b=$,N=N.next;for(f=1;O>f;f++)d=g+((f>R?R:f)<<2),v+=(N.r=S=D[d])*(A=O-f),y+=(N.g=_=D[d+1])*A,w+=(N.b=$=D[d+2])*A,T+=S,E+=_,k+=$,N=N.next;for(H=I,F=B,c=0;r>c;c++)D[g]=v*V>>q,D[g+1]=y*V>>q,D[g+2]=w*V>>q,v-=b,y-=x,w-=C,b-=H.r,x-=H.g,C-=H.b,d=m+((d=c+o+1)<R?d:R)<<2,T+=H.r=D[d],E+=H.g=D[d+1],k+=H.b=D[d+2],v+=T,y+=E,w+=k,H=H.next,b+=S=F.r,x+=_=F.g,C+=$=F.b,T-=S,E-=_,k-=$,F=F.next,g+=4;m+=r}for(c=0;r>c;c++){for(E=k=T=y=w=v=0,g=c<<2,b=O*(S=D[g]),x=O*(_=D[g+1]),C=O*($=D[g+2]),v+=L*S,y+=L*_,w+=L*$,N=I,f=0;O>f;f++)N.r=S,N.g=_,N.b=$,N=N.next;for(p=r,f=1;o>=f;f++)g=p+c<<2,v+=(N.r=S=D[g])*(A=O-f),y+=(N.g=_=D[g+1])*A,w+=(N.b=$=D[g+2])*A,T+=S,E+=_,k+=$,N=N.next,P>f&&(p+=r);for(g=c,H=I,F=B,h=0;i>h;h++)d=g<<2,D[d]=v*V>>q,D[d+1]=y*V>>q,D[d+2]=w*V>>q,v-=b,y-=x,w-=C,b-=H.r,x-=H.g,C-=H.b,d=c+((d=h+O)<P?d:P)*r<<2,v+=T+=H.r=D[d],y+=E+=H.g=D[d+1],w+=k+=H.b=D[d+2],H=H.next,b+=S=F.r,x+=_=F.g,C+=$=F.b,T-=S,E-=_,k-=$,F=F.next,g+=r}l.putImageData(a,e,n)}}function BlurStack(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}!function(t,e){"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){function n(t){var e="length"in t&&t.length,n=Q.type(t);return"function"===n||Q.isWindow(t)?!1:1===t.nodeType&&e?!0:"array"===n||0===e||"number"==typeof e&&e>0&&e-1 in t}function r(t,e,n){if(Q.isFunction(e))return Q.grep(t,function(t,r){return!!e.call(t,r,t)!==n});if(e.nodeType)return Q.grep(t,function(t){return t===e!==n});if("string"==typeof e){if(st.test(e))return Q.filter(e,t,n);e=Q.filter(e,t)}return Q.grep(t,function(t){return U.call(e,t)>=0!==n})}function i(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}function o(t){var e=pt[t]={};return Q.each(t.match(dt)||[],function(t,n){e[n]=!0}),e}function a(){Z.removeEventListener("DOMContentLoaded",a,!1),t.removeEventListener("load",a,!1),Q.ready()}function s(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=Q.expando+s.uid++}function l(t,e,n){var r;if(void 0===n&&1===t.nodeType)if(r="data-"+e.replace(bt,"-$1").toLowerCase(),n=t.getAttribute(r),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:wt.test(n)?Q.parseJSON(n):n}catch(i){}yt.set(t,e,n)}else n=void 0;return n}function u(){return!0}function c(){return!1}function h(){try{return Z.activeElement}catch(t){}}function f(t,e){return Q.nodeName(t,"table")&&Q.nodeName(11!==e.nodeType?e:e.firstChild,"tr")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function p(t){var e=It.exec(t.type);return e?t.type=e[1]:t.removeAttribute("type"),t}function g(t,e){for(var n=0,r=t.length;r>n;n++)vt.set(t[n],"globalEval",!e||vt.get(e[n],"globalEval"))}function m(t,e){var n,r,i,o,a,s,l,u;if(1===e.nodeType){if(vt.hasData(t)&&(o=vt.access(t),a=vt.set(e,o),u=o.events)){delete a.handle,a.events={};for(i in u)for(n=0,r=u[i].length;r>n;n++)Q.event.add(e,i,u[i][n])}yt.hasData(t)&&(s=yt.access(t),l=Q.extend({},s),yt.set(e,l))}}function v(t,e){var n=t.getElementsByTagName?t.getElementsByTagName(e||"*"):t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&Q.nodeName(t,e)?Q.merge([t],n):n}function y(t,e){var n=e.nodeName.toLowerCase();"input"===n&&Et.test(t.type)?e.checked=t.checked:("input"===n||"textarea"===n)&&(e.defaultValue=t.defaultValue)}function w(e,n){var r,i=Q(n.createElement(e)).appendTo(n.body),o=t.getDefaultComputedStyle&&(r=t.getDefaultComputedStyle(i[0]))?r.display:Q.css(i[0],"display");return i.detach(),o}function b(t){var e=Z,n=Ft[t];return n||(n=w(t,e),"none"!==n&&n||(Ht=(Ht||Q("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement),e=Ht[0].contentDocument,e.write(),e.close(),n=w(t,e),Ht.detach()),Ft[t]=n),n}function x(t,e,n){var r,i,o,a,s=t.style;return n=n||jt(t),n&&(a=n.getPropertyValue(e)||n[e]),n&&(""!==a||Q.contains(t.ownerDocument,t)||(a=Q.style(t,e)),qt.test(a)&&Vt.test(e)&&(r=s.width,i=s.minWidth,o=s.maxWidth,s.minWidth=s.maxWidth=s.width=a,a=n.width,s.width=r,s.minWidth=i,s.maxWidth=o)),void 0!==a?a+"":a}function C(t,e){return{get:function(){return t()?void delete this.get:(this.get=e).apply(this,arguments)}}}function T(t,e){if(e in t)return e;for(var n=e[0].toUpperCase()+e.slice(1),r=e,i=Gt.length;i--;)if(e=Gt[i]+n,e in t)return e;return r}function E(t,e,n){var r=Wt.exec(e);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):e}function k(t,e,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===e?1:0,a=0;4>o;o+=2)"margin"===n&&(a+=Q.css(t,n+Ct[o],!0,i)),r?("content"===n&&(a-=Q.css(t,"padding"+Ct[o],!0,i)),"margin"!==n&&(a-=Q.css(t,"border"+Ct[o]+"Width",!0,i))):(a+=Q.css(t,"padding"+Ct[o],!0,i),"padding"!==n&&(a+=Q.css(t,"border"+Ct[o]+"Width",!0,i)));return a}function S(t,e,n){var r=!0,i="width"===e?t.offsetWidth:t.offsetHeight,o=jt(t),a="border-box"===Q.css(t,"boxSizing",!1,o);if(0>=i||null==i){if(i=x(t,e,o),(0>i||null==i)&&(i=t.style[e]),qt.test(i))return i;r=a&&(K.boxSizingReliable()||i===t.style[e]),i=parseFloat(i)||0}return i+k(t,e,n||(a?"border":"content"),r,o)+"px"}function _(t,e){for(var n,r,i,o=[],a=0,s=t.length;s>a;a++)r=t[a],r.style&&(o[a]=vt.get(r,"olddisplay"),n=r.style.display,e?(o[a]||"none"!==n||(r.style.display=""),""===r.style.display&&Tt(r)&&(o[a]=vt.access(r,"olddisplay",b(r.nodeName)))):(i=Tt(r),"none"===n&&i||vt.set(r,"olddisplay",i?n:Q.css(r,"display"))));for(a=0;s>a;a++)r=t[a],r.style&&(e&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=e?o[a]||"":"none"));return t}function $(t,e,n,r,i){return new $.prototype.init(t,e,n,r,i)}function A(){return setTimeout(function(){Kt=void 0}),Kt=Q.now()}function D(t,e){var n,r=0,i={height:t};for(e=e?1:0;4>r;r+=2-e)n=Ct[r],i["margin"+n]=i["padding"+n]=t;return e&&(i.opacity=i.width=t),i}function M(t,e,n){for(var r,i=(ne[e]||[]).concat(ne["*"]),o=0,a=i.length;a>o;o++)if(r=i[o].call(n,e,t))return r}function R(t,e,n){var r,i,o,a,s,l,u,c,h=this,f={},d=t.style,p=t.nodeType&&Tt(t),g=vt.get(t,"fxshow");n.queue||(s=Q._queueHooks(t,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,Q.queue(t,"fx").length||s.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],u=Q.css(t,"display"),c="none"===u?vt.get(t,"olddisplay")||b(t.nodeName):u,"inline"===c&&"none"===Q.css(t,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",h.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]}));for(r in e)if(i=e[r],Jt.exec(i)){if(delete e[r],o=o||"toggle"===i,i===(p?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;p=!0}f[r]=g&&g[r]||Q.style(t,r)}else u=void 0;if(Q.isEmptyObject(f))"inline"===("none"===u?b(t.nodeName):u)&&(d.display=u);else{g?"hidden"in g&&(p=g.hidden):g=vt.access(t,"fxshow",{}),o&&(g.hidden=!p),p?Q(t).show():h.done(function(){Q(t).hide()}),h.done(function(){var e;vt.remove(t,"fxshow");for(e in f)Q.style(t,e,f[e])});for(r in f)a=M(p?g[r]:0,r,h),r in g||(g[r]=a.start,p&&(a.end=a.start,a.start="width"===r||"height"===r?1:0))}}function P(t,e){var n,r,i,o,a;for(n in t)if(r=Q.camelCase(n),i=e[r],o=t[n],Q.isArray(o)&&(i=o[1],o=t[n]=o[0]),n!==r&&(t[r]=o,delete t[n]),a=Q.cssHooks[r],a&&"expand"in a){o=a.expand(o),delete t[r];for(n in o)n in t||(t[n]=o[n],e[n]=i)}else e[r]=i}function O(t,e,n){var r,i,o=0,a=ee.length,s=Q.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var e=Kt||A(),n=Math.max(0,u.startTime+u.duration-e),r=n/u.duration||0,o=1-r,a=0,l=u.tweens.length;l>a;a++)u.tweens[a].run(o);return s.notifyWith(t,[u,o,n]),1>o&&l?n:(s.resolveWith(t,[u]),!1)},u=s.promise({elem:t,props:Q.extend({},e),opts:Q.extend(!0,{specialEasing:{}},n),originalProperties:e,originalOptions:n,startTime:Kt||A(),duration:n.duration,tweens:[],createTween:function(e,n){var r=Q.Tween(t,u.opts,e,n,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(r),r},stop:function(e){var n=0,r=e?u.tweens.length:0;if(i)return this;for(i=!0;r>n;n++)u.tweens[n].run(1);return e?s.resolveWith(t,[u,e]):s.rejectWith(t,[u,e]),this}}),c=u.props;for(P(c,u.opts.specialEasing);a>o;o++)if(r=ee[o].call(u,t,c,u.opts))return r;return Q.map(c,M,u),Q.isFunction(u.opts.start)&&u.opts.start.call(t,u),Q.fx.timer(Q.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function L(t){return function(e,n){"string"!=typeof e&&(n=e,e="*");var r,i=0,o=e.toLowerCase().match(dt)||[];if(Q.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(t[r]=t[r]||[]).unshift(n)):(t[r]=t[r]||[]).push(n)}}function I(t,e,n,r){function i(s){var l;return o[s]=!0,Q.each(t[s]||[],function(t,s){var u=s(e,n,r);return"string"!=typeof u||a||o[u]?a?!(l=u):void 0:(e.dataTypes.unshift(u),i(u),!1)}),l}var o={},a=t===we;return i(e.dataTypes[0])||!o["*"]&&i("*")}function N(t,e){var n,r,i=Q.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((i[n]?t:r||(r={}))[n]=e[n]);return r&&Q.extend(!0,t,r),t}function B(t,e,n){for(var r,i,o,a,s=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=t.mimeType||e.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)o=l[0];else{for(i in n){if(!l[0]||t.converters[i+" "+l[0]]){o=i;break}a||(a=i)}o=o||a}return o?(o!==l[0]&&l.unshift(o),n[o]):void 0}function H(t,e,n,r){var i,o,a,s,l,u={},c=t.dataTypes.slice();if(c[1])for(a in t.converters)u[a.toLowerCase()]=t.converters[a];for(o=c.shift();o;)if(t.responseFields[o]&&(n[t.responseFields[o]]=e),!l&&r&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=o,o=c.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(a=u[l+" "+o]||u["* "+o],!a)for(i in u)if(s=i.split(" "),s[1]===o&&(a=u[l+" "+s[0]]||u["* "+s[0]])){a===!0?a=u[i]:u[i]!==!0&&(o=s[0],c.unshift(s[1]));break}if(a!==!0)if(a&&t["throws"])e=a(e);else try{e=a(e)}catch(h){return{state:"parsererror",error:a?h:"No conversion from "+l+" to "+o}}}return{state:"success",data:e}}function F(t,e,n,r){var i;if(Q.isArray(e))Q.each(e,function(e,i){n||Ee.test(t)?r(t,i):F(t+"["+("object"==typeof i?e:"")+"]",i,n,r)});else if(n||"object"!==Q.type(e))r(t,e);else for(i in e)F(t+"["+i+"]",e[i],n,r)}function V(t){return Q.isWindow(t)?t:9===t.nodeType&&t.defaultView}var q=[],j=q.slice,z=q.concat,W=q.push,U=q.indexOf,Y={},X=Y.toString,G=Y.hasOwnProperty,K={},Z=t.document,J="2.1.4",Q=function(t,e){return new Q.fn.init(t,e)},tt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,et=/^-ms-/,nt=/-([\da-z])/gi,rt=function(t,e){return e.toUpperCase()};Q.fn=Q.prototype={jquery:J,constructor:Q,selector:"",length:0,toArray:function(){return j.call(this)},get:function(t){return null!=t?0>t?this[t+this.length]:this[t]:j.call(this)},pushStack:function(t){var e=Q.merge(this.constructor(),t);return e.prevObject=this,e.context=this.context,e},each:function(t,e){return Q.each(this,t,e)},map:function(t){return this.pushStack(Q.map(this,function(e,n){return t.call(e,n,e)}))},slice:function(){return this.pushStack(j.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,n=+t+(0>t?e:0);return this.pushStack(n>=0&&e>n?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:q.sort,splice:q.splice},Q.extend=Q.fn.extend=function(){var t,e,n,r,i,o,a=arguments[0]||{},s=1,l=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[s]||{},s++),"object"==typeof a||Q.isFunction(a)||(a={}),s===l&&(a=this,s--);l>s;s++)if(null!=(t=arguments[s]))for(e in t)n=a[e],r=t[e],a!==r&&(u&&r&&(Q.isPlainObject(r)||(i=Q.isArray(r)))?(i?(i=!1,o=n&&Q.isArray(n)?n:[]):o=n&&Q.isPlainObject(n)?n:{},a[e]=Q.extend(u,o,r)):void 0!==r&&(a[e]=r));return a},Q.extend({expando:"jQuery"+(J+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isFunction:function(t){return"function"===Q.type(t)},isArray:Array.isArray,isWindow:function(t){return null!=t&&t===t.window},isNumeric:function(t){return!Q.isArray(t)&&t-parseFloat(t)+1>=0},isPlainObject:function(t){return"object"!==Q.type(t)||t.nodeType||Q.isWindow(t)?!1:t.constructor&&!G.call(t.constructor.prototype,"isPrototypeOf")?!1:!0},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},type:function(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?Y[X.call(t)]||"object":typeof t},globalEval:function(t){var e,n=eval;t=Q.trim(t),t&&(1===t.indexOf("use strict")?(e=Z.createElement("script"),e.text=t,Z.head.appendChild(e).parentNode.removeChild(e)):n(t))},camelCase:function(t){return t.replace(et,"ms-").replace(nt,rt)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()},each:function(t,e,r){var i,o=0,a=t.length,s=n(t);if(r){if(s)for(;a>o&&(i=e.apply(t[o],r),i!==!1);o++);else for(o in t)if(i=e.apply(t[o],r),i===!1)break}else if(s)for(;a>o&&(i=e.call(t[o],o,t[o]),i!==!1);o++);else for(o in t)if(i=e.call(t[o],o,t[o]),i===!1)break;return t},trim:function(t){return null==t?"":(t+"").replace(tt,"")},makeArray:function(t,e){var r=e||[];return null!=t&&(n(Object(t))?Q.merge(r,"string"==typeof t?[t]:t):W.call(r,t)),r},inArray:function(t,e,n){return null==e?-1:U.call(e,t,n)},merge:function(t,e){for(var n=+e.length,r=0,i=t.length;n>r;r++)t[i++]=e[r];return t.length=i,t},grep:function(t,e,n){for(var r,i=[],o=0,a=t.length,s=!n;a>o;o++)r=!e(t[o],o),r!==s&&i.push(t[o]);return i},map:function(t,e,r){var i,o=0,a=t.length,s=n(t),l=[];if(s)for(;a>o;o++)i=e(t[o],o,r),null!=i&&l.push(i);else for(o in t)i=e(t[o],o,r),null!=i&&l.push(i);return z.apply([],l)},guid:1,proxy:function(t,e){var n,r,i;return"string"==typeof e&&(n=t[e],e=t,t=n),Q.isFunction(t)?(r=j.call(arguments,2),i=function(){return t.apply(e||this,r.concat(j.call(arguments)))},i.guid=t.guid=t.guid||Q.guid++,i):void 0},now:Date.now,support:K}),Q.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(t,e){Y["[object "+e+"]"]=e.toLowerCase()});var it=/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(t){function e(t,e,n,r){var i,o,a,s,l,u,h,d,p,g;if((e?e.ownerDocument||e:F)!==R&&M(e),e=e||R,n=n||[],s=e.nodeType,"string"!=typeof t||!t||1!==s&&9!==s&&11!==s)return n;if(!r&&O){if(11!==s&&(i=yt.exec(t)))if(a=i[1]){if(9===s){if(o=e.getElementById(a),!o||!o.parentNode)return n;if(o.id===a)return n.push(o),n}else if(e.ownerDocument&&(o=e.ownerDocument.getElementById(a))&&B(e,o)&&o.id===a)return n.push(o),n}else{if(i[2])return J.apply(n,e.getElementsByTagName(t)),n;if((a=i[3])&&x.getElementsByClassName)return J.apply(n,e.getElementsByClassName(a)),n}if(x.qsa&&(!L||!L.test(t))){if(d=h=H,p=e,g=1!==s&&t,1===s&&"object"!==e.nodeName.toLowerCase()){for(u=k(t),(h=e.getAttribute("id"))?d=h.replace(bt,"\\$&"):e.setAttribute("id",d),d="[id='"+d+"'] ",l=u.length;l--;)u[l]=d+f(u[l]);p=wt.test(t)&&c(e.parentNode)||e,g=u.join(",")}if(g)try{return J.apply(n,p.querySelectorAll(g)),n}catch(m){}finally{h||e.removeAttribute("id")}}}return _(t.replace(lt,"$1"),e,n,r)}function n(){function t(n,r){return e.push(n+" ")>C.cacheLength&&delete t[e.shift()],t[n+" "]=r}var e=[];return t}function r(t){return t[H]=!0,t}function i(t){var e=R.createElement("div");try{return!!t(e)}catch(n){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function o(t,e){for(var n=t.split("|"),r=t.length;r--;)C.attrHandle[n[r]]=e}function a(t,e){var n=e&&t,r=n&&1===t.nodeType&&1===e.nodeType&&(~e.sourceIndex||Y)-(~t.sourceIndex||Y);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function s(t){return function(e){var n=e.nodeName.toLowerCase();return"input"===n&&e.type===t}}function l(t){return function(e){var n=e.nodeName.toLowerCase();return("input"===n||"button"===n)&&e.type===t}}function u(t){return r(function(e){return e=+e,r(function(n,r){for(var i,o=t([],n.length,e),a=o.length;a--;)n[i=o[a]]&&(n[i]=!(r[i]=n[i]))})})}function c(t){return t&&"undefined"!=typeof t.getElementsByTagName&&t}function h(){}function f(t){for(var e=0,n=t.length,r="";n>e;e++)r+=t[e].value;return r}function d(t,e,n){var r=e.dir,i=n&&"parentNode"===r,o=q++;return e.first?function(e,n,o){for(;e=e[r];)if(1===e.nodeType||i)return t(e,n,o)}:function(e,n,a){var s,l,u=[V,o];if(a){for(;e=e[r];)if((1===e.nodeType||i)&&t(e,n,a))return!0}else for(;e=e[r];)if(1===e.nodeType||i){if(l=e[H]||(e[H]={}),(s=l[r])&&s[0]===V&&s[1]===o)return u[2]=s[2];if(l[r]=u,u[2]=t(e,n,a))return!0}}}function p(t){return t.length>1?function(e,n,r){for(var i=t.length;i--;)if(!t[i](e,n,r))return!1;return!0}:t[0]}function g(t,n,r){for(var i=0,o=n.length;o>i;i++)e(t,n[i],r);return r}function m(t,e,n,r,i){for(var o,a=[],s=0,l=t.length,u=null!=e;l>s;s++)(o=t[s])&&(!n||n(o,r,i))&&(a.push(o),u&&e.push(s));return a}function v(t,e,n,i,o,a){return i&&!i[H]&&(i=v(i)),o&&!o[H]&&(o=v(o,a)),r(function(r,a,s,l){var u,c,h,f=[],d=[],p=a.length,v=r||g(e||"*",s.nodeType?[s]:s,[]),y=!t||!r&&e?v:m(v,f,t,s,l),w=n?o||(r?t:p||i)?[]:a:y;if(n&&n(y,w,s,l),i)for(u=m(w,d),i(u,[],s,l),c=u.length;c--;)(h=u[c])&&(w[d[c]]=!(y[d[c]]=h));if(r){if(o||t){if(o){for(u=[],c=w.length;c--;)(h=w[c])&&u.push(y[c]=h);o(null,w=[],u,l)}for(c=w.length;c--;)(h=w[c])&&(u=o?tt(r,h):f[c])>-1&&(r[u]=!(a[u]=h))}}else w=m(w===a?w.splice(p,w.length):w),o?o(null,a,w,l):J.apply(a,w)})}function y(t){for(var e,n,r,i=t.length,o=C.relative[t[0].type],a=o||C.relative[" "],s=o?1:0,l=d(function(t){return t===e},a,!0),u=d(function(t){return tt(e,t)>-1},a,!0),c=[function(t,n,r){var i=!o&&(r||n!==$)||((e=n).nodeType?l(t,n,r):u(t,n,r));return e=null,i}];i>s;s++)if(n=C.relative[t[s].type])c=[d(p(c),n)];else{if(n=C.filter[t[s].type].apply(null,t[s].matches),n[H]){for(r=++s;i>r&&!C.relative[t[r].type];r++);return v(s>1&&p(c),s>1&&f(t.slice(0,s-1).concat({value:" "===t[s-2].type?"*":""})).replace(lt,"$1"),n,r>s&&y(t.slice(s,r)),i>r&&y(t=t.slice(r)),i>r&&f(t))}c.push(n)}return p(c)}function w(t,n){var i=n.length>0,o=t.length>0,a=function(r,a,s,l,u){var c,h,f,d=0,p="0",g=r&&[],v=[],y=$,w=r||o&&C.find.TAG("*",u),b=V+=null==y?1:Math.random()||.1,x=w.length;for(u&&($=a!==R&&a);p!==x&&null!=(c=w[p]);p++){if(o&&c){for(h=0;f=t[h++];)if(f(c,a,s)){l.push(c);break}u&&(V=b)}i&&((c=!f&&c)&&d--,r&&g.push(c))}if(d+=p,i&&p!==d){for(h=0;f=n[h++];)f(g,v,a,s);if(r){if(d>0)for(;p--;)g[p]||v[p]||(v[p]=K.call(l));v=m(v)}J.apply(l,v),u&&!r&&v.length>0&&d+n.length>1&&e.uniqueSort(l)}return u&&(V=b,$=y),g};return i?r(a):a}var b,x,C,T,E,k,S,_,$,A,D,M,R,P,O,L,I,N,B,H="sizzle"+1*new Date,F=t.document,V=0,q=0,j=n(),z=n(),W=n(),U=function(t,e){return t===e&&(D=!0),0},Y=1<<31,X={}.hasOwnProperty,G=[],K=G.pop,Z=G.push,J=G.push,Q=G.slice,tt=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},et="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",nt="[\\x20\\t\\r\\n\\f]",rt="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",it=rt.replace("w","w#"),ot="\\["+nt+"*("+rt+")(?:"+nt+"*([*^$|!~]?=)"+nt+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+it+"))|)"+nt+"*\\]",at=":("+rt+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+ot+")*)|.*)\\)|)",st=new RegExp(nt+"+","g"),lt=new RegExp("^"+nt+"+|((?:^|[^\\\\])(?:\\\\.)*)"+nt+"+$","g"),ut=new RegExp("^"+nt+"*,"+nt+"*"),ct=new RegExp("^"+nt+"*([>+~]|"+nt+")"+nt+"*"),ht=new RegExp("="+nt+"*([^\\]'\"]*?)"+nt+"*\\]","g"),ft=new RegExp(at),dt=new RegExp("^"+it+"$"),pt={ID:new RegExp("^#("+rt+")"),CLASS:new RegExp("^\\.("+rt+")"),TAG:new RegExp("^("+rt.replace("w","w*")+")"),ATTR:new RegExp("^"+ot),PSEUDO:new RegExp("^"+at),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+nt+"*(even|odd|(([+-]|)(\\d*)n|)"+nt+"*(?:([+-]|)"+nt+"*(\\d+)|))"+nt+"*\\)|)","i"),bool:new RegExp("^(?:"+et+")$","i"),needsContext:new RegExp("^"+nt+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+nt+"*((?:-\\d)?\\d*)"+nt+"*\\)|)(?=[^-]|$)","i")},gt=/^(?:input|select|textarea|button)$/i,mt=/^h\d$/i,vt=/^[^{]+\{\s*\[native \w/,yt=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,wt=/[+~]/,bt=/'|\\/g,xt=new RegExp("\\\\([\\da-f]{1,6}"+nt+"?|("+nt+")|.)","ig"),Ct=function(t,e,n){var r="0x"+e-65536;return r!==r||n?e:0>r?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},Tt=function(){M()};try{J.apply(G=Q.call(F.childNodes),F.childNodes),G[F.childNodes.length].nodeType}catch(Et){J={apply:G.length?function(t,e){Z.apply(t,Q.call(e))}:function(t,e){for(var n=t.length,r=0;t[n++]=e[r++];);t.length=n-1}}}x=e.support={},E=e.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return e?"HTML"!==e.nodeName:!1},M=e.setDocument=function(t){var e,n,r=t?t.ownerDocument||t:F;return r!==R&&9===r.nodeType&&r.documentElement?(R=r,P=r.documentElement,n=r.defaultView,n&&n!==n.top&&(n.addEventListener?n.addEventListener("unload",Tt,!1):n.attachEvent&&n.attachEvent("onunload",Tt)),O=!E(r),x.attributes=i(function(t){return t.className="i",!t.getAttribute("className")}),x.getElementsByTagName=i(function(t){return t.appendChild(r.createComment("")),!t.getElementsByTagName("*").length}),x.getElementsByClassName=vt.test(r.getElementsByClassName),x.getById=i(function(t){return P.appendChild(t).id=H,!r.getElementsByName||!r.getElementsByName(H).length}),x.getById?(C.find.ID=function(t,e){if("undefined"!=typeof e.getElementById&&O){var n=e.getElementById(t);return n&&n.parentNode?[n]:[]}},C.filter.ID=function(t){var e=t.replace(xt,Ct);return function(t){return t.getAttribute("id")===e}}):(delete C.find.ID,C.filter.ID=function(t){var e=t.replace(xt,Ct);return function(t){var n="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return n&&n.value===e}}),C.find.TAG=x.getElementsByTagName?function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t):x.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,r=[],i=0,o=e.getElementsByTagName(t);if("*"===t){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},C.find.CLASS=x.getElementsByClassName&&function(t,e){return O?e.getElementsByClassName(t):void 0},I=[],L=[],(x.qsa=vt.test(r.querySelectorAll))&&(i(function(t){P.appendChild(t).innerHTML="<a id='"+H+"'></a><select id='"+H+"-\f]' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&L.push("[*^$]="+nt+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||L.push("\\["+nt+"*(?:value|"+et+")"),t.querySelectorAll("[id~="+H+"-]").length||L.push("~="),t.querySelectorAll(":checked").length||L.push(":checked"),t.querySelectorAll("a#"+H+"+*").length||L.push(".#.+[+~]")}),i(function(t){var e=r.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&L.push("name"+nt+"*[*^$|!~]?="),t.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),L.push(",.*:")})),(x.matchesSelector=vt.test(N=P.matches||P.webkitMatchesSelector||P.mozMatchesSelector||P.oMatchesSelector||P.msMatchesSelector))&&i(function(t){x.disconnectedMatch=N.call(t,"div"),N.call(t,"[s!='']:x"),I.push("!=",at)}),L=L.length&&new RegExp(L.join("|")),I=I.length&&new RegExp(I.join("|")),e=vt.test(P.compareDocumentPosition),B=e||vt.test(P.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,r=e&&e.parentNode;return t===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):t.compareDocumentPosition&&16&t.compareDocumentPosition(r)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},U=e?function(t,e){if(t===e)return D=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n?n:(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1,1&n||!x.sortDetached&&e.compareDocumentPosition(t)===n?t===r||t.ownerDocument===F&&B(F,t)?-1:e===r||e.ownerDocument===F&&B(F,e)?1:A?tt(A,t)-tt(A,e):0:4&n?-1:1)}:function(t,e){if(t===e)return D=!0,0;var n,i=0,o=t.parentNode,s=e.parentNode,l=[t],u=[e];if(!o||!s)return t===r?-1:e===r?1:o?-1:s?1:A?tt(A,t)-tt(A,e):0;if(o===s)return a(t,e);for(n=t;n=n.parentNode;)l.unshift(n);for(n=e;n=n.parentNode;)u.unshift(n);for(;l[i]===u[i];)i++;return i?a(l[i],u[i]):l[i]===F?-1:u[i]===F?1:0},r):R},e.matches=function(t,n){return e(t,null,null,n)},e.matchesSelector=function(t,n){if((t.ownerDocument||t)!==R&&M(t),n=n.replace(ht,"='$1']"),!(!x.matchesSelector||!O||I&&I.test(n)||L&&L.test(n)))try{var r=N.call(t,n);if(r||x.disconnectedMatch||t.document&&11!==t.document.nodeType)return r}catch(i){}return e(n,R,null,[t]).length>0},e.contains=function(t,e){return(t.ownerDocument||t)!==R&&M(t),B(t,e)},e.attr=function(t,e){(t.ownerDocument||t)!==R&&M(t);var n=C.attrHandle[e.toLowerCase()],r=n&&X.call(C.attrHandle,e.toLowerCase())?n(t,e,!O):void 0;return void 0!==r?r:x.attributes||!O?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},e.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},e.uniqueSort=function(t){var e,n=[],r=0,i=0;if(D=!x.detectDuplicates,A=!x.sortStable&&t.slice(0),t.sort(U),D){for(;e=t[i++];)e===t[i]&&(r=n.push(i));for(;r--;)t.splice(n[r],1)}return A=null,t},T=e.getText=function(t){var e,n="",r=0,i=t.nodeType;if(i){if(1===i||9===i||11===i){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=T(t)}else if(3===i||4===i)return t.nodeValue}else for(;e=t[r++];)n+=T(e);return n},C=e.selectors={cacheLength:50,createPseudo:r,match:pt,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(xt,Ct),t[3]=(t[3]||t[4]||t[5]||"").replace(xt,Ct),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||e.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&e.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return pt.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ft.test(n)&&(e=k(n,!0))&&(e=n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(xt,Ct).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=j[t+" "];return e||(e=new RegExp("(^|"+nt+")"+t+"("+nt+"|$)"))&&j(t,function(t){return e.test("string"==typeof t.className&&t.className||"undefined"!=typeof t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,n,r){return function(i){var o=e.attr(i,t);return null==o?"!="===n:n?(o+="","="===n?o===r:"!="===n?o!==r:"^="===n?r&&0===o.indexOf(r):"*="===n?r&&o.indexOf(r)>-1:"$="===n?r&&o.slice(-r.length)===r:"~="===n?(" "+o.replace(st," ")+" ").indexOf(r)>-1:"|="===n?o===r||o.slice(0,r.length+1)===r+"-":!1):!0}},CHILD:function(t,e,n,r,i){var o="nth"!==t.slice(0,3),a="last"!==t.slice(-4),s="of-type"===e;return 1===r&&0===i?function(t){return!!t.parentNode}:function(e,n,l){var u,c,h,f,d,p,g=o!==a?"nextSibling":"previousSibling",m=e.parentNode,v=s&&e.nodeName.toLowerCase(),y=!l&&!s;if(m){if(o){for(;g;){for(h=e;h=h[g];)if(s?h.nodeName.toLowerCase()===v:1===h.nodeType)return!1;p=g="only"===t&&!p&&"nextSibling"}return!0}if(p=[a?m.firstChild:m.lastChild],a&&y){for(c=m[H]||(m[H]={}),u=c[t]||[],d=u[0]===V&&u[1],f=u[0]===V&&u[2],h=d&&m.childNodes[d];h=++d&&h&&h[g]||(f=d=0)||p.pop();)if(1===h.nodeType&&++f&&h===e){c[t]=[V,d,f];break}}else if(y&&(u=(e[H]||(e[H]={}))[t])&&u[0]===V)f=u[1];else for(;(h=++d&&h&&h[g]||(f=d=0)||p.pop())&&((s?h.nodeName.toLowerCase()!==v:1!==h.nodeType)||!++f||(y&&((h[H]||(h[H]={}))[t]=[V,f]),h!==e)););return f-=i,f===r||f%r===0&&f/r>=0}}},PSEUDO:function(t,n){var i,o=C.pseudos[t]||C.setFilters[t.toLowerCase()]||e.error("unsupported pseudo: "+t);return o[H]?o(n):o.length>1?(i=[t,t,"",n],C.setFilters.hasOwnProperty(t.toLowerCase())?r(function(t,e){for(var r,i=o(t,n),a=i.length;a--;)r=tt(t,i[a]),t[r]=!(e[r]=i[a])}):function(t){return o(t,0,i)}):o}},pseudos:{not:r(function(t){var e=[],n=[],i=S(t.replace(lt,"$1"));return i[H]?r(function(t,e,n,r){for(var o,a=i(t,null,r,[]),s=t.length;s--;)(o=a[s])&&(t[s]=!(e[s]=o))}):function(t,r,o){return e[0]=t,i(e,null,o,n),e[0]=null,!n.pop()}}),has:r(function(t){return function(n){return e(t,n).length>0}}),contains:r(function(t){return t=t.replace(xt,Ct),function(e){return(e.textContent||e.innerText||T(e)).indexOf(t)>-1}}),lang:r(function(t){return dt.test(t||"")||e.error("unsupported lang: "+t),t=t.replace(xt,Ct).toLowerCase(),function(e){var n;do if(n=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return n=n.toLowerCase(),n===t||0===n.indexOf(t+"-");while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var n=t.location&&t.location.hash;return n&&n.slice(1)===e.id},root:function(t){return t===P},focus:function(t){return t===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:function(t){return t.disabled===!1},disabled:function(t){return t.disabled===!0},checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!C.pseudos.empty(t)},header:function(t){return mt.test(t.nodeName)},input:function(t){return gt.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:u(function(){return[0]}),last:u(function(t,e){return[e-1]}),eq:u(function(t,e,n){return[0>n?n+e:n]}),even:u(function(t,e){for(var n=0;e>n;n+=2)t.push(n);return t}),odd:u(function(t,e){for(var n=1;e>n;n+=2)t.push(n);return t}),lt:u(function(t,e,n){for(var r=0>n?n+e:n;--r>=0;)t.push(r);return t}),gt:u(function(t,e,n){for(var r=0>n?n+e:n;++r<e;)t.push(r);return t})}},C.pseudos.nth=C.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})C.pseudos[b]=s(b);for(b in{submit:!0,reset:!0})C.pseudos[b]=l(b);return h.prototype=C.filters=C.pseudos,C.setFilters=new h,k=e.tokenize=function(t,n){var r,i,o,a,s,l,u,c=z[t+" "];if(c)return n?0:c.slice(0);for(s=t,l=[],u=C.preFilter;s;){(!r||(i=ut.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(o=[])),r=!1,(i=ct.exec(s))&&(r=i.shift(),o.push({value:r,type:i[0].replace(lt," ")}),s=s.slice(r.length));for(a in C.filter)!(i=pt[a].exec(s))||u[a]&&!(i=u[a](i))||(r=i.shift(),o.push({value:r,type:a,matches:i}),s=s.slice(r.length));if(!r)break}return n?s.length:s?e.error(t):z(t,l).slice(0)},S=e.compile=function(t,e){var n,r=[],i=[],o=W[t+" "];if(!o){for(e||(e=k(t)),n=e.length;n--;)o=y(e[n]),o[H]?r.push(o):i.push(o);o=W(t,w(i,r)),o.selector=t}return o},_=e.select=function(t,e,n,r){var i,o,a,s,l,u="function"==typeof t&&t,h=!r&&k(t=u.selector||t);if(n=n||[],1===h.length){if(o=h[0]=h[0].slice(0),o.length>2&&"ID"===(a=o[0]).type&&x.getById&&9===e.nodeType&&O&&C.relative[o[1].type]){if(e=(C.find.ID(a.matches[0].replace(xt,Ct),e)||[])[0],!e)return n;u&&(e=e.parentNode),t=t.slice(o.shift().value.length)}for(i=pt.needsContext.test(t)?0:o.length;i--&&(a=o[i],!C.relative[s=a.type]);)if((l=C.find[s])&&(r=l(a.matches[0].replace(xt,Ct),wt.test(o[0].type)&&c(e.parentNode)||e))){if(o.splice(i,1),t=r.length&&f(o),!t)return J.apply(n,r),n;break}}return(u||S(t,h))(r,e,!O,n,wt.test(t)&&c(e.parentNode)||e),n},x.sortStable=H.split("").sort(U).join("")===H,x.detectDuplicates=!!D,M(),x.sortDetached=i(function(t){return 1&t.compareDocumentPosition(R.createElement("div"))}),i(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||o("type|href|height|width",function(t,e,n){return n?void 0:t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),x.attributes&&i(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||o("value",function(t,e,n){return n||"input"!==t.nodeName.toLowerCase()?void 0:t.defaultValue}),i(function(t){return null==t.getAttribute("disabled")})||o(et,function(t,e,n){var r;return n?void 0:t[e]===!0?e.toLowerCase():(r=t.getAttributeNode(e))&&r.specified?r.value:null}),e}(t);Q.find=it,Q.expr=it.selectors,Q.expr[":"]=Q.expr.pseudos,Q.unique=it.uniqueSort,Q.text=it.getText,Q.isXMLDoc=it.isXML,Q.contains=it.contains;var ot=Q.expr.match.needsContext,at=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,st=/^.[^:#\[\.,]*$/;Q.filter=function(t,e,n){var r=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===r.nodeType?Q.find.matchesSelector(r,t)?[r]:[]:Q.find.matches(t,Q.grep(e,function(t){return 1===t.nodeType}))},Q.fn.extend({find:function(t){var e,n=this.length,r=[],i=this;if("string"!=typeof t)return this.pushStack(Q(t).filter(function(){for(e=0;n>e;e++)if(Q.contains(i[e],this))return!0}));for(e=0;n>e;e++)Q.find(t,i[e],r);return r=this.pushStack(n>1?Q.unique(r):r),r.selector=this.selector?this.selector+" "+t:t,r},filter:function(t){return this.pushStack(r(this,t||[],!1))},not:function(t){return this.pushStack(r(this,t||[],!0))},is:function(t){return!!r(this,"string"==typeof t&&ot.test(t)?Q(t):t||[],!1).length}});var lt,ut=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ct=Q.fn.init=function(t,e){var n,r;if(!t)return this;if("string"==typeof t){if(n="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:ut.exec(t),!n||!n[1]&&e)return!e||e.jquery?(e||lt).find(t):this.constructor(e).find(t);if(n[1]){if(e=e instanceof Q?e[0]:e,Q.merge(this,Q.parseHTML(n[1],e&&e.nodeType?e.ownerDocument||e:Z,!0)),at.test(n[1])&&Q.isPlainObject(e))for(n in e)Q.isFunction(this[n])?this[n](e[n]):this.attr(n,e[n]);return this}return r=Z.getElementById(n[2]),r&&r.parentNode&&(this.length=1,this[0]=r),this.context=Z,this.selector=t,this}return t.nodeType?(this.context=this[0]=t,this.length=1,this):Q.isFunction(t)?"undefined"!=typeof lt.ready?lt.ready(t):t(Q):(void 0!==t.selector&&(this.selector=t.selector,this.context=t.context),Q.makeArray(t,this))};ct.prototype=Q.fn,lt=Q(Z);var ht=/^(?:parents|prev(?:Until|All))/,ft={children:!0,contents:!0,next:!0,prev:!0};Q.extend({dir:function(t,e,n){for(var r=[],i=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(i&&Q(t).is(n))break;r.push(t)}return r},sibling:function(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}}),Q.fn.extend({has:function(t){var e=Q(t,this),n=e.length;return this.filter(function(){for(var t=0;n>t;t++)if(Q.contains(this,e[t]))return!0})},closest:function(t,e){for(var n,r=0,i=this.length,o=[],a=ot.test(t)||"string"!=typeof t?Q(t,e||this.context):0;i>r;r++)for(n=this[r];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(a?a.index(n)>-1:1===n.nodeType&&Q.find.matchesSelector(n,t))){o.push(n);break}return this.pushStack(o.length>1?Q.unique(o):o)},index:function(t){return t?"string"==typeof t?U.call(Q(t),this[0]):U.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(Q.unique(Q.merge(this.get(),Q(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),Q.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return Q.dir(t,"parentNode")},parentsUntil:function(t,e,n){return Q.dir(t,"parentNode",n)},next:function(t){return i(t,"nextSibling")},prev:function(t){return i(t,"previousSibling")},nextAll:function(t){return Q.dir(t,"nextSibling")},prevAll:function(t){return Q.dir(t,"previousSibling")},nextUntil:function(t,e,n){return Q.dir(t,"nextSibling",n)},prevUntil:function(t,e,n){return Q.dir(t,"previousSibling",n)},siblings:function(t){return Q.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return Q.sibling(t.firstChild)},contents:function(t){return t.contentDocument||Q.merge([],t.childNodes)}},function(t,e){Q.fn[t]=function(n,r){var i=Q.map(this,e,n);return"Until"!==t.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=Q.filter(r,i)),this.length>1&&(ft[t]||Q.unique(i),ht.test(t)&&i.reverse()),this.pushStack(i)}});var dt=/\S+/g,pt={};Q.Callbacks=function(t){t="string"==typeof t?pt[t]||o(t):Q.extend({},t);var e,n,r,i,a,s,l=[],u=!t.once&&[],c=function(o){for(e=t.memory&&o,n=!0,s=i||0,i=0,a=l.length,r=!0;l&&a>s;s++)if(l[s].apply(o[0],o[1])===!1&&t.stopOnFalse){e=!1;break}r=!1,l&&(u?u.length&&c(u.shift()):e?l=[]:h.disable())},h={add:function(){if(l){var n=l.length;!function o(e){Q.each(e,function(e,n){var r=Q.type(n);"function"===r?t.unique&&h.has(n)||l.push(n):n&&n.length&&"string"!==r&&o(n)})}(arguments),r?a=l.length:e&&(i=n,c(e))}return this},remove:function(){return l&&Q.each(arguments,function(t,e){for(var n;(n=Q.inArray(e,l,n))>-1;)l.splice(n,1),r&&(a>=n&&a--,s>=n&&s--)}),this},has:function(t){return t?Q.inArray(t,l)>-1:!(!l||!l.length)},empty:function(){return l=[],a=0,this},disable:function(){return l=u=e=void 0,this},disabled:function(){return!l},lock:function(){return u=void 0,e||h.disable(),this},locked:function(){return!u},fireWith:function(t,e){return!l||n&&!u||(e=e||[],e=[t,e.slice?e.slice():e],r?u.push(e):c(e)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!n}};return h},Q.extend({Deferred:function(t){var e=[["resolve","done",Q.Callbacks("once memory"),"resolved"],["reject","fail",Q.Callbacks("once memory"),"rejected"],["notify","progress",Q.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var t=arguments;return Q.Deferred(function(n){Q.each(e,function(e,o){var a=Q.isFunction(t[e])&&t[e];i[o[1]](function(){var t=a&&a.apply(this,arguments);t&&Q.isFunction(t.promise)?t.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o[0]+"With"](this===r?n.promise():this,a?[t]:arguments)})}),t=null}).promise()},promise:function(t){return null!=t?Q.extend(t,r):r}},i={};return r.pipe=r.then,Q.each(e,function(t,o){var a=o[2],s=o[3];r[o[1]]=a.add,s&&a.add(function(){n=s},e[1^t][2].disable,e[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=a.fireWith}),r.promise(i),t&&t.call(i,i),i},when:function(t){var e,n,r,i=0,o=j.call(arguments),a=o.length,s=1!==a||t&&Q.isFunction(t.promise)?a:0,l=1===s?t:Q.Deferred(),u=function(t,n,r){return function(i){n[t]=this,r[t]=arguments.length>1?j.call(arguments):i,r===e?l.notifyWith(n,r):--s||l.resolveWith(n,r)}};if(a>1)for(e=new Array(a),n=new Array(a),r=new Array(a);a>i;i++)o[i]&&Q.isFunction(o[i].promise)?o[i].promise().done(u(i,r,o)).fail(l.reject).progress(u(i,n,e)):--s;return s||l.resolveWith(r,o),l.promise()}});var gt;Q.fn.ready=function(t){return Q.ready.promise().done(t),this},Q.extend({isReady:!1,readyWait:1,holdReady:function(t){t?Q.readyWait++:Q.ready(!0)},ready:function(t){(t===!0?--Q.readyWait:Q.isReady)||(Q.isReady=!0,t!==!0&&--Q.readyWait>0||(gt.resolveWith(Z,[Q]),Q.fn.triggerHandler&&(Q(Z).triggerHandler("ready"),Q(Z).off("ready"))))}}),Q.ready.promise=function(e){return gt||(gt=Q.Deferred(),"complete"===Z.readyState?setTimeout(Q.ready):(Z.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",a,!1))),gt.promise(e)},Q.ready.promise();var mt=Q.access=function(t,e,n,r,i,o,a){var s=0,l=t.length,u=null==n;if("object"===Q.type(n)){i=!0;for(s in n)Q.access(t,e,s,n[s],!0,o,a)}else if(void 0!==r&&(i=!0,Q.isFunction(r)||(a=!0),u&&(a?(e.call(t,r),e=null):(u=e,e=function(t,e,n){return u.call(Q(t),n)})),e))for(;l>s;s++)e(t[s],n,a?r:r.call(t[s],s,e(t[s],n)));return i?t:u?e.call(t):l?e(t[0],n):o};Q.acceptData=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType},s.uid=1,s.accepts=Q.acceptData,s.prototype={key:function(t){if(!s.accepts(t))return 0;var e={},n=t[this.expando];if(!n){n=s.uid++;try{e[this.expando]={value:n},Object.defineProperties(t,e)}catch(r){e[this.expando]=n,Q.extend(t,e)}}return this.cache[n]||(this.cache[n]={}),n},set:function(t,e,n){var r,i=this.key(t),o=this.cache[i];if("string"==typeof e)o[e]=n;else if(Q.isEmptyObject(o))Q.extend(this.cache[i],e);else for(r in e)o[r]=e[r];return o},get:function(t,e){var n=this.cache[this.key(t)];return void 0===e?n:n[e]},access:function(t,e,n){var r;return void 0===e||e&&"string"==typeof e&&void 0===n?(r=this.get(t,e),void 0!==r?r:this.get(t,Q.camelCase(e))):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,r,i,o=this.key(t),a=this.cache[o];if(void 0===e)this.cache[o]={};else{Q.isArray(e)?r=e.concat(e.map(Q.camelCase)):(i=Q.camelCase(e),e in a?r=[e,i]:(r=i,r=r in a?[r]:r.match(dt)||[])),n=r.length;for(;n--;)delete a[r[n]]}},hasData:function(t){return!Q.isEmptyObject(this.cache[t[this.expando]]||{})},discard:function(t){t[this.expando]&&delete this.cache[t[this.expando]]}};var vt=new s,yt=new s,wt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,bt=/([A-Z])/g;Q.extend({hasData:function(t){return yt.hasData(t)||vt.hasData(t)},data:function(t,e,n){return yt.access(t,e,n)},removeData:function(t,e){yt.remove(t,e)},_data:function(t,e,n){return vt.access(t,e,n)},_removeData:function(t,e){vt.remove(t,e)}}),Q.fn.extend({data:function(t,e){var n,r,i,o=this[0],a=o&&o.attributes;if(void 0===t){if(this.length&&(i=yt.get(o),1===o.nodeType&&!vt.get(o,"hasDataAttrs"))){for(n=a.length;n--;)a[n]&&(r=a[n].name,0===r.indexOf("data-")&&(r=Q.camelCase(r.slice(5)),l(o,r,i[r])));vt.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof t?this.each(function(){yt.set(this,t)}):mt(this,function(e){var n,r=Q.camelCase(t);if(o&&void 0===e){if(n=yt.get(o,t),void 0!==n)return n;if(n=yt.get(o,r),void 0!==n)return n;if(n=l(o,r,void 0),void 0!==n)return n}else this.each(function(){var n=yt.get(this,r);yt.set(this,r,e),-1!==t.indexOf("-")&&void 0!==n&&yt.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){yt.remove(this,t)})}}),Q.extend({queue:function(t,e,n){var r;return t?(e=(e||"fx")+"queue",r=vt.get(t,e),n&&(!r||Q.isArray(n)?r=vt.access(t,e,Q.makeArray(n)):r.push(n)),r||[]):void 0},dequeue:function(t,e){e=e||"fx";var n=Q.queue(t,e),r=n.length,i=n.shift(),o=Q._queueHooks(t,e),a=function(){Q.dequeue(t,e)};"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===e&&n.unshift("inprogress"),delete o.stop,i.call(t,a,o)),!r&&o&&o.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return vt.get(t,n)||vt.access(t,n,{empty:Q.Callbacks("once memory").add(function(){vt.remove(t,[e+"queue",n])})})}}),Q.fn.extend({queue:function(t,e){var n=2;return"string"!=typeof t&&(e=t,t="fx",n--),arguments.length<n?Q.queue(this[0],t):void 0===e?this:this.each(function(){var n=Q.queue(this,t,e);Q._queueHooks(this,t),"fx"===t&&"inprogress"!==n[0]&&Q.dequeue(this,t)})},dequeue:function(t){return this.each(function(){Q.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var n,r=1,i=Q.Deferred(),o=this,a=this.length,s=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)n=vt.get(o[a],t+"queueHooks"),n&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(e)}});var xt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,Ct=["Top","Right","Bottom","Left"],Tt=function(t,e){return t=e||t,"none"===Q.css(t,"display")||!Q.contains(t.ownerDocument,t)},Et=/^(?:checkbox|radio)$/i;!function(){var t=Z.createDocumentFragment(),e=t.appendChild(Z.createElement("div")),n=Z.createElement("input");n.setAttribute("type","radio"),n.setAttribute("checked","checked"),n.setAttribute("name","t"),e.appendChild(n),K.checkClone=e.cloneNode(!0).cloneNode(!0).lastChild.checked,e.innerHTML="<textarea>x</textarea>",K.noCloneChecked=!!e.cloneNode(!0).lastChild.defaultValue}();var kt="undefined";K.focusinBubbles="onfocusin"in t;var St=/^key/,_t=/^(?:mouse|pointer|contextmenu)|click/,$t=/^(?:focusinfocus|focusoutblur)$/,At=/^([^.]*)(?:\.(.+)|)$/;Q.event={global:{},add:function(t,e,n,r,i){var o,a,s,l,u,c,h,f,d,p,g,m=vt.get(t);if(m)for(n.handler&&(o=n,n=o.handler,i=o.selector),n.guid||(n.guid=Q.guid++),(l=m.events)||(l=m.events={}),(a=m.handle)||(a=m.handle=function(e){return typeof Q!==kt&&Q.event.triggered!==e.type?Q.event.dispatch.apply(t,arguments):void 0}),e=(e||"").match(dt)||[""],u=e.length;u--;)s=At.exec(e[u])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d&&(h=Q.event.special[d]||{},d=(i?h.delegateType:h.bindType)||d,h=Q.event.special[d]||{},c=Q.extend({type:d,origType:g,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&Q.expr.match.needsContext.test(i),namespace:p.join(".")},o),(f=l[d])||(f=l[d]=[],f.delegateCount=0,h.setup&&h.setup.call(t,r,p,a)!==!1||t.addEventListener&&t.addEventListener(d,a,!1)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=n.guid)),i?f.splice(f.delegateCount++,0,c):f.push(c),Q.event.global[d]=!0)},remove:function(t,e,n,r,i){var o,a,s,l,u,c,h,f,d,p,g,m=vt.hasData(t)&&vt.get(t);if(m&&(l=m.events)){for(e=(e||"").match(dt)||[""],u=e.length;u--;)if(s=At.exec(e[u])||[],d=g=s[1],p=(s[2]||"").split(".").sort(),d){for(h=Q.event.special[d]||{},d=(r?h.delegateType:h.bindType)||d,f=l[d]||[],s=s[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),a=o=f.length;o--;)c=f[o],!i&&g!==c.origType||n&&n.guid!==c.guid||s&&!s.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(f.splice(o,1),c.selector&&f.delegateCount--,h.remove&&h.remove.call(t,c));a&&!f.length&&(h.teardown&&h.teardown.call(t,p,m.handle)!==!1||Q.removeEvent(t,d,m.handle),delete l[d])}else for(d in l)Q.event.remove(t,d+e[u],n,r,!0);Q.isEmptyObject(l)&&(delete m.handle,vt.remove(t,"events"))}},trigger:function(e,n,r,i){var o,a,s,l,u,c,h,f=[r||Z],d=G.call(e,"type")?e.type:e,p=G.call(e,"namespace")?e.namespace.split("."):[];if(a=s=r=r||Z,3!==r.nodeType&&8!==r.nodeType&&!$t.test(d+Q.event.triggered)&&(d.indexOf(".")>=0&&(p=d.split("."),d=p.shift(),p.sort()),u=d.indexOf(":")<0&&"on"+d,e=e[Q.expando]?e:new Q.Event(d,"object"==typeof e&&e),e.isTrigger=i?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),
n=null==n?[e]:Q.makeArray(n,[e]),h=Q.event.special[d]||{},i||!h.trigger||h.trigger.apply(r,n)!==!1)){if(!i&&!h.noBubble&&!Q.isWindow(r)){for(l=h.delegateType||d,$t.test(l+d)||(a=a.parentNode);a;a=a.parentNode)f.push(a),s=a;s===(r.ownerDocument||Z)&&f.push(s.defaultView||s.parentWindow||t)}for(o=0;(a=f[o++])&&!e.isPropagationStopped();)e.type=o>1?l:h.bindType||d,c=(vt.get(a,"events")||{})[e.type]&&vt.get(a,"handle"),c&&c.apply(a,n),c=u&&a[u],c&&c.apply&&Q.acceptData(a)&&(e.result=c.apply(a,n),e.result===!1&&e.preventDefault());return e.type=d,i||e.isDefaultPrevented()||h._default&&h._default.apply(f.pop(),n)!==!1||!Q.acceptData(r)||u&&Q.isFunction(r[d])&&!Q.isWindow(r)&&(s=r[u],s&&(r[u]=null),Q.event.triggered=d,r[d](),Q.event.triggered=void 0,s&&(r[u]=s)),e.result}},dispatch:function(t){t=Q.event.fix(t);var e,n,r,i,o,a=[],s=j.call(arguments),l=(vt.get(this,"events")||{})[t.type]||[],u=Q.event.special[t.type]||{};if(s[0]=t,t.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,t)!==!1){for(a=Q.event.handlers.call(this,t,l),e=0;(i=a[e++])&&!t.isPropagationStopped();)for(t.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!t.isImmediatePropagationStopped();)(!t.namespace_re||t.namespace_re.test(o.namespace))&&(t.handleObj=o,t.data=o.data,r=((Q.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s),void 0!==r&&(t.result=r)===!1&&(t.preventDefault(),t.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,t),t.result}},handlers:function(t,e){var n,r,i,o,a=[],s=e.delegateCount,l=t.target;if(s&&l.nodeType&&(!t.button||"click"!==t.type))for(;l!==this;l=l.parentNode||this)if(l.disabled!==!0||"click"!==t.type){for(r=[],n=0;s>n;n++)o=e[n],i=o.selector+" ",void 0===r[i]&&(r[i]=o.needsContext?Q(i,this).index(l)>=0:Q.find(i,this,null,[l]).length),r[i]&&r.push(o);r.length&&a.push({elem:l,handlers:r})}return s<e.length&&a.push({elem:this,handlers:e.slice(s)}),a},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,e){var n,r,i,o=e.button;return null==t.pageX&&null!=e.clientX&&(n=t.target.ownerDocument||Z,r=n.documentElement,i=n.body,t.pageX=e.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),t.pageY=e.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),t.which||void 0===o||(t.which=1&o?1:2&o?3:4&o?2:0),t}},fix:function(t){if(t[Q.expando])return t;var e,n,r,i=t.type,o=t,a=this.fixHooks[i];for(a||(this.fixHooks[i]=a=_t.test(i)?this.mouseHooks:St.test(i)?this.keyHooks:{}),r=a.props?this.props.concat(a.props):this.props,t=new Q.Event(o),e=r.length;e--;)n=r[e],t[n]=o[n];return t.target||(t.target=Z),3===t.target.nodeType&&(t.target=t.target.parentNode),a.filter?a.filter(t,o):t},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==h()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===h()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&Q.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(t){return Q.nodeName(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}},simulate:function(t,e,n,r){var i=Q.extend(new Q.Event,n,{type:t,isSimulated:!0,originalEvent:{}});r?Q.event.trigger(i,null,e):Q.event.dispatch.call(e,i),i.isDefaultPrevented()&&n.preventDefault()}},Q.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n,!1)},Q.Event=function(t,e){return this instanceof Q.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&t.returnValue===!1?u:c):this.type=t,e&&Q.extend(this,e),this.timeStamp=t&&t.timeStamp||Q.now(),void(this[Q.expando]=!0)):new Q.Event(t,e)},Q.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=u,t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=u,t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=u,t&&t.stopImmediatePropagation&&t.stopImmediatePropagation(),this.stopPropagation()}},Q.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){Q.event.special[t]={delegateType:e,bindType:e,handle:function(t){var n,r=this,i=t.relatedTarget,o=t.handleObj;return(!i||i!==r&&!Q.contains(r,i))&&(t.type=o.origType,n=o.handler.apply(this,arguments),t.type=e),n}}}),K.focusinBubbles||Q.each({focus:"focusin",blur:"focusout"},function(t,e){var n=function(t){Q.event.simulate(e,t.target,Q.event.fix(t),!0)};Q.event.special[e]={setup:function(){var r=this.ownerDocument||this,i=vt.access(r,e);i||r.addEventListener(t,n,!0),vt.access(r,e,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=vt.access(r,e)-1;i?vt.access(r,e,i):(r.removeEventListener(t,n,!0),vt.remove(r,e))}}}),Q.fn.extend({on:function(t,e,n,r,i){var o,a;if("object"==typeof t){"string"!=typeof e&&(n=n||e,e=void 0);for(a in t)this.on(a,e,n,t[a],i);return this}if(null==n&&null==r?(r=e,n=e=void 0):null==r&&("string"==typeof e?(r=n,n=void 0):(r=n,n=e,e=void 0)),r===!1)r=c;else if(!r)return this;return 1===i&&(o=r,r=function(t){return Q().off(t),o.apply(this,arguments)},r.guid=o.guid||(o.guid=Q.guid++)),this.each(function(){Q.event.add(this,t,r,n,e)})},one:function(t,e,n,r){return this.on(t,e,n,r,1)},off:function(t,e,n){var r,i;if(t&&t.preventDefault&&t.handleObj)return r=t.handleObj,Q(t.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof t){for(i in t)this.off(i,e,t[i]);return this}return(e===!1||"function"==typeof e)&&(n=e,e=void 0),n===!1&&(n=c),this.each(function(){Q.event.remove(this,t,n,e)})},trigger:function(t,e){return this.each(function(){Q.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];return n?Q.event.trigger(t,e,n,!0):void 0}});var Dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Mt=/<([\w:]+)/,Rt=/<|&#?\w+;/,Pt=/<(?:script|style|link)/i,Ot=/checked\s*(?:[^=]|=\s*.checked.)/i,Lt=/^$|\/(?:java|ecma)script/i,It=/^true\/(.*)/,Nt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,Bt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};Bt.optgroup=Bt.option,Bt.tbody=Bt.tfoot=Bt.colgroup=Bt.caption=Bt.thead,Bt.th=Bt.td,Q.extend({clone:function(t,e,n){var r,i,o,a,s=t.cloneNode(!0),l=Q.contains(t.ownerDocument,t);if(!(K.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||Q.isXMLDoc(t)))for(a=v(s),o=v(t),r=0,i=o.length;i>r;r++)y(o[r],a[r]);if(e)if(n)for(o=o||v(t),a=a||v(s),r=0,i=o.length;i>r;r++)m(o[r],a[r]);else m(t,s);return a=v(s,"script"),a.length>0&&g(a,!l&&v(t,"script")),s},buildFragment:function(t,e,n,r){for(var i,o,a,s,l,u,c=e.createDocumentFragment(),h=[],f=0,d=t.length;d>f;f++)if(i=t[f],i||0===i)if("object"===Q.type(i))Q.merge(h,i.nodeType?[i]:i);else if(Rt.test(i)){for(o=o||c.appendChild(e.createElement("div")),a=(Mt.exec(i)||["",""])[1].toLowerCase(),s=Bt[a]||Bt._default,o.innerHTML=s[1]+i.replace(Dt,"<$1></$2>")+s[2],u=s[0];u--;)o=o.lastChild;Q.merge(h,o.childNodes),o=c.firstChild,o.textContent=""}else h.push(e.createTextNode(i));for(c.textContent="",f=0;i=h[f++];)if((!r||-1===Q.inArray(i,r))&&(l=Q.contains(i.ownerDocument,i),o=v(c.appendChild(i),"script"),l&&g(o),n))for(u=0;i=o[u++];)Lt.test(i.type||"")&&n.push(i);return c},cleanData:function(t){for(var e,n,r,i,o=Q.event.special,a=0;void 0!==(n=t[a]);a++){if(Q.acceptData(n)&&(i=n[vt.expando],i&&(e=vt.cache[i]))){if(e.events)for(r in e.events)o[r]?Q.event.remove(n,r):Q.removeEvent(n,r,e.handle);vt.cache[i]&&delete vt.cache[i]}delete yt.cache[n[yt.expando]]}}}),Q.fn.extend({text:function(t){return mt(this,function(t){return void 0===t?Q.text(this):this.empty().each(function(){(1===this.nodeType||11===this.nodeType||9===this.nodeType)&&(this.textContent=t)})},null,t,arguments.length)},append:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.appendChild(t)}})},prepend:function(){return this.domManip(arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=f(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return this.domManip(arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},remove:function(t,e){for(var n,r=t?Q.filter(t,this):this,i=0;null!=(n=r[i]);i++)e||1!==n.nodeType||Q.cleanData(v(n)),n.parentNode&&(e&&Q.contains(n.ownerDocument,n)&&g(v(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(Q.cleanData(v(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return Q.clone(this,t,e)})},html:function(t){return mt(this,function(t){var e=this[0]||{},n=0,r=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Pt.test(t)&&!Bt[(Mt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(Dt,"<$1></$2>");try{for(;r>n;n++)e=this[n]||{},1===e.nodeType&&(Q.cleanData(v(e,!1)),e.innerHTML=t);e=0}catch(i){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=arguments[0];return this.domManip(arguments,function(e){t=this.parentNode,Q.cleanData(v(this)),t&&t.replaceChild(e,this)}),t&&(t.length||t.nodeType)?this:this.remove()},detach:function(t){return this.remove(t,!0)},domManip:function(t,e){t=z.apply([],t);var n,r,i,o,a,s,l=0,u=this.length,c=this,h=u-1,f=t[0],g=Q.isFunction(f);if(g||u>1&&"string"==typeof f&&!K.checkClone&&Ot.test(f))return this.each(function(n){var r=c.eq(n);g&&(t[0]=f.call(this,n,r.html())),r.domManip(t,e)});if(u&&(n=Q.buildFragment(t,this[0].ownerDocument,!1,this),r=n.firstChild,1===n.childNodes.length&&(n=r),r)){for(i=Q.map(v(n,"script"),d),o=i.length;u>l;l++)a=n,l!==h&&(a=Q.clone(a,!0,!0),o&&Q.merge(i,v(a,"script"))),e.call(this[l],a,l);if(o)for(s=i[i.length-1].ownerDocument,Q.map(i,p),l=0;o>l;l++)a=i[l],Lt.test(a.type||"")&&!vt.access(a,"globalEval")&&Q.contains(s,a)&&(a.src?Q._evalUrl&&Q._evalUrl(a.src):Q.globalEval(a.textContent.replace(Nt,"")))}return this}}),Q.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){Q.fn[t]=function(t){for(var n,r=[],i=Q(t),o=i.length-1,a=0;o>=a;a++)n=a===o?this:this.clone(!0),Q(i[a])[e](n),W.apply(r,n.get());return this.pushStack(r)}});var Ht,Ft={},Vt=/^margin/,qt=new RegExp("^("+xt+")(?!px)[a-z%]+$","i"),jt=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):t.getComputedStyle(e,null)};!function(){function e(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",i.appendChild(o);var e=t.getComputedStyle(a,null);n="1%"!==e.top,r="4px"===e.width,i.removeChild(o)}var n,r,i=Z.documentElement,o=Z.createElement("div"),a=Z.createElement("div");a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",K.clearCloneStyle="content-box"===a.style.backgroundClip,o.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",o.appendChild(a),t.getComputedStyle&&Q.extend(K,{pixelPosition:function(){return e(),n},boxSizingReliable:function(){return null==r&&e(),r},reliableMarginRight:function(){var e,n=a.appendChild(Z.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",i.appendChild(o),e=!parseFloat(t.getComputedStyle(n,null).marginRight),i.removeChild(o),a.removeChild(n),e}}))}(),Q.swap=function(t,e,n,r){var i,o,a={};for(o in e)a[o]=t.style[o],t.style[o]=e[o];i=n.apply(t,r||[]);for(o in e)t.style[o]=a[o];return i};var zt=/^(none|table(?!-c[ea]).+)/,Wt=new RegExp("^("+xt+")(.*)$","i"),Ut=new RegExp("^([+-])=("+xt+")","i"),Yt={position:"absolute",visibility:"hidden",display:"block"},Xt={letterSpacing:"0",fontWeight:"400"},Gt=["Webkit","O","Moz","ms"];Q.extend({cssHooks:{opacity:{get:function(t,e){if(e){var n=x(t,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(t,e,n,r){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var i,o,a,s=Q.camelCase(e),l=t.style;return e=Q.cssProps[s]||(Q.cssProps[s]=T(l,s)),a=Q.cssHooks[e]||Q.cssHooks[s],void 0===n?a&&"get"in a&&void 0!==(i=a.get(t,!1,r))?i:l[e]:(o=typeof n,"string"===o&&(i=Ut.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(Q.css(t,e)),o="number"),null!=n&&n===n&&("number"!==o||Q.cssNumber[s]||(n+="px"),K.clearCloneStyle||""!==n||0!==e.indexOf("background")||(l[e]="inherit"),a&&"set"in a&&void 0===(n=a.set(t,n,r))||(l[e]=n)),void 0)}},css:function(t,e,n,r){var i,o,a,s=Q.camelCase(e);return e=Q.cssProps[s]||(Q.cssProps[s]=T(t.style,s)),a=Q.cssHooks[e]||Q.cssHooks[s],a&&"get"in a&&(i=a.get(t,!0,n)),void 0===i&&(i=x(t,e,r)),"normal"===i&&e in Xt&&(i=Xt[e]),""===n||n?(o=parseFloat(i),n===!0||Q.isNumeric(o)?o||0:i):i}}),Q.each(["height","width"],function(t,e){Q.cssHooks[e]={get:function(t,n,r){return n?zt.test(Q.css(t,"display"))&&0===t.offsetWidth?Q.swap(t,Yt,function(){return S(t,e,r)}):S(t,e,r):void 0},set:function(t,n,r){var i=r&&jt(t);return E(t,n,r?k(t,e,r,"border-box"===Q.css(t,"boxSizing",!1,i),i):0)}}}),Q.cssHooks.marginRight=C(K.reliableMarginRight,function(t,e){return e?Q.swap(t,{display:"inline-block"},x,[t,"marginRight"]):void 0}),Q.each({margin:"",padding:"",border:"Width"},function(t,e){Q.cssHooks[t+e]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];4>r;r++)i[t+Ct[r]+e]=o[r]||o[r-2]||o[0];return i}},Vt.test(t)||(Q.cssHooks[t+e].set=E)}),Q.fn.extend({css:function(t,e){return mt(this,function(t,e,n){var r,i,o={},a=0;if(Q.isArray(e)){for(r=jt(t),i=e.length;i>a;a++)o[e[a]]=Q.css(t,e[a],!1,r);return o}return void 0!==n?Q.style(t,e,n):Q.css(t,e)},t,e,arguments.length>1)},show:function(){return _(this,!0)},hide:function(){return _(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){Tt(this)?Q(this).show():Q(this).hide()})}}),Q.Tween=$,$.prototype={constructor:$,init:function(t,e,n,r,i,o){this.elem=t,this.prop=n,this.easing=i||"swing",this.options=e,this.start=this.now=this.cur(),this.end=r,this.unit=o||(Q.cssNumber[n]?"":"px")},cur:function(){var t=$.propHooks[this.prop];return t&&t.get?t.get(this):$.propHooks._default.get(this)},run:function(t){var e,n=$.propHooks[this.prop];return this.pos=e=this.options.duration?Q.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$.propHooks._default.set(this),this}},$.prototype.init.prototype=$.prototype,$.propHooks={_default:{get:function(t){var e;return null==t.elem[t.prop]||t.elem.style&&null!=t.elem.style[t.prop]?(e=Q.css(t.elem,t.prop,""),e&&"auto"!==e?e:0):t.elem[t.prop]},set:function(t){Q.fx.step[t.prop]?Q.fx.step[t.prop](t):t.elem.style&&(null!=t.elem.style[Q.cssProps[t.prop]]||Q.cssHooks[t.prop])?Q.style(t.elem,t.prop,t.now+t.unit):t.elem[t.prop]=t.now}}},$.propHooks.scrollTop=$.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},Q.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2}},Q.fx=$.prototype.init,Q.fx.step={};var Kt,Zt,Jt=/^(?:toggle|show|hide)$/,Qt=new RegExp("^(?:([+-])=|)("+xt+")([a-z%]*)$","i"),te=/queueHooks$/,ee=[R],ne={"*":[function(t,e){var n=this.createTween(t,e),r=n.cur(),i=Qt.exec(e),o=i&&i[3]||(Q.cssNumber[t]?"":"px"),a=(Q.cssNumber[t]||"px"!==o&&+r)&&Qt.exec(Q.css(n.elem,t)),s=1,l=20;if(a&&a[3]!==o){o=o||a[3],i=i||[],a=+r||1;do s=s||".5",a/=s,Q.style(n.elem,t,a+o);while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(a=n.start=+a||+r||0,n.unit=o,n.end=i[1]?a+(i[1]+1)*i[2]:+i[2]),n}]};Q.Animation=Q.extend(O,{tweener:function(t,e){Q.isFunction(t)?(e=t,t=["*"]):t=t.split(" ");for(var n,r=0,i=t.length;i>r;r++)n=t[r],ne[n]=ne[n]||[],ne[n].unshift(e)},prefilter:function(t,e){e?ee.unshift(t):ee.push(t)}}),Q.speed=function(t,e,n){var r=t&&"object"==typeof t?Q.extend({},t):{complete:n||!n&&e||Q.isFunction(t)&&t,duration:t,easing:n&&e||e&&!Q.isFunction(e)&&e};return r.duration=Q.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in Q.fx.speeds?Q.fx.speeds[r.duration]:Q.fx.speeds._default,(null==r.queue||r.queue===!0)&&(r.queue="fx"),r.old=r.complete,r.complete=function(){Q.isFunction(r.old)&&r.old.call(this),r.queue&&Q.dequeue(this,r.queue)},r},Q.fn.extend({fadeTo:function(t,e,n,r){return this.filter(Tt).css("opacity",0).show().end().animate({opacity:e},t,n,r)},animate:function(t,e,n,r){var i=Q.isEmptyObject(t),o=Q.speed(e,n,r),a=function(){var e=O(this,Q.extend({},t),o);(i||vt.get(this,"finish"))&&e.stop(!0)};return a.finish=a,i||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(t,e,n){var r=function(t){var e=t.stop;delete t.stop,e(n)};return"string"!=typeof t&&(n=e,e=t,t=void 0),e&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){var e=!0,i=null!=t&&t+"queueHooks",o=Q.timers,a=vt.get(this);if(i)a[i]&&a[i].stop&&r(a[i]);else for(i in a)a[i]&&a[i].stop&&te.test(i)&&r(a[i]);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(o[i].anim.stop(n),e=!1,o.splice(i,1));(e||!n)&&Q.dequeue(this,t)})},finish:function(t){return t!==!1&&(t=t||"fx"),this.each(function(){var e,n=vt.get(this),r=n[t+"queue"],i=n[t+"queueHooks"],o=Q.timers,a=r?r.length:0;for(n.finish=!0,Q.queue(this,t,[]),i&&i.stop&&i.stop.call(this,!0),e=o.length;e--;)o[e].elem===this&&o[e].queue===t&&(o[e].anim.stop(!0),o.splice(e,1));for(e=0;a>e;e++)r[e]&&r[e].finish&&r[e].finish.call(this);delete n.finish})}}),Q.each(["toggle","show","hide"],function(t,e){var n=Q.fn[e];Q.fn[e]=function(t,r,i){return null==t||"boolean"==typeof t?n.apply(this,arguments):this.animate(D(e,!0),t,r,i)}}),Q.each({slideDown:D("show"),slideUp:D("hide"),slideToggle:D("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){Q.fn[t]=function(t,n,r){return this.animate(e,t,n,r)}}),Q.timers=[],Q.fx.tick=function(){var t,e=0,n=Q.timers;for(Kt=Q.now();e<n.length;e++)t=n[e],t()||n[e]!==t||n.splice(e--,1);n.length||Q.fx.stop(),Kt=void 0},Q.fx.timer=function(t){Q.timers.push(t),t()?Q.fx.start():Q.timers.pop()},Q.fx.interval=13,Q.fx.start=function(){Zt||(Zt=setInterval(Q.fx.tick,Q.fx.interval))},Q.fx.stop=function(){clearInterval(Zt),Zt=null},Q.fx.speeds={slow:600,fast:200,_default:400},Q.fn.delay=function(t,e){return t=Q.fx?Q.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,n){var r=setTimeout(e,t);n.stop=function(){clearTimeout(r)}})},function(){var t=Z.createElement("input"),e=Z.createElement("select"),n=e.appendChild(Z.createElement("option"));t.type="checkbox",K.checkOn=""!==t.value,K.optSelected=n.selected,e.disabled=!0,K.optDisabled=!n.disabled,t=Z.createElement("input"),t.value="t",t.type="radio",K.radioValue="t"===t.value}();var re,ie,oe=Q.expr.attrHandle;Q.fn.extend({attr:function(t,e){return mt(this,Q.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){Q.removeAttr(this,t)})}}),Q.extend({attr:function(t,e,n){var r,i,o=t.nodeType;if(t&&3!==o&&8!==o&&2!==o)return typeof t.getAttribute===kt?Q.prop(t,e,n):(1===o&&Q.isXMLDoc(t)||(e=e.toLowerCase(),r=Q.attrHooks[e]||(Q.expr.match.bool.test(e)?ie:re)),void 0===n?r&&"get"in r&&null!==(i=r.get(t,e))?i:(i=Q.find.attr(t,e),null==i?void 0:i):null!==n?r&&"set"in r&&void 0!==(i=r.set(t,n,e))?i:(t.setAttribute(e,n+""),n):void Q.removeAttr(t,e))},removeAttr:function(t,e){var n,r,i=0,o=e&&e.match(dt);if(o&&1===t.nodeType)for(;n=o[i++];)r=Q.propFix[n]||n,Q.expr.match.bool.test(n)&&(t[r]=!1),t.removeAttribute(n)},attrHooks:{type:{set:function(t,e){if(!K.radioValue&&"radio"===e&&Q.nodeName(t,"input")){var n=t.value;return t.setAttribute("type",e),n&&(t.value=n),e}}}}}),ie={set:function(t,e,n){return e===!1?Q.removeAttr(t,n):t.setAttribute(n,n),n}},Q.each(Q.expr.match.bool.source.match(/\w+/g),function(t,e){var n=oe[e]||Q.find.attr;oe[e]=function(t,e,r){var i,o;return r||(o=oe[e],oe[e]=i,i=null!=n(t,e,r)?e.toLowerCase():null,oe[e]=o),i}});var ae=/^(?:input|select|textarea|button)$/i;Q.fn.extend({prop:function(t,e){return mt(this,Q.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[Q.propFix[t]||t]})}}),Q.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(t,e,n){var r,i,o,a=t.nodeType;if(t&&3!==a&&8!==a&&2!==a)return o=1!==a||!Q.isXMLDoc(t),o&&(e=Q.propFix[e]||e,i=Q.propHooks[e]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(t,n,e))?r:t[e]=n:i&&"get"in i&&null!==(r=i.get(t,e))?r:t[e]},propHooks:{tabIndex:{get:function(t){return t.hasAttribute("tabindex")||ae.test(t.nodeName)||t.href?t.tabIndex:-1}}}}),K.optSelected||(Q.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null}}),Q.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Q.propFix[this.toLowerCase()]=this});var se=/[\t\r\n\f]/g;Q.fn.extend({addClass:function(t){var e,n,r,i,o,a,s="string"==typeof t&&t,l=0,u=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).addClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(dt)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(se," "):" ")){for(o=0;i=e[o++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");a=Q.trim(r),n.className!==a&&(n.className=a)}return this},removeClass:function(t){var e,n,r,i,o,a,s=0===arguments.length||"string"==typeof t&&t,l=0,u=this.length;if(Q.isFunction(t))return this.each(function(e){Q(this).removeClass(t.call(this,e,this.className))});if(s)for(e=(t||"").match(dt)||[];u>l;l++)if(n=this[l],r=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(se," "):"")){for(o=0;i=e[o++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");a=t?Q.trim(r):"",n.className!==a&&(n.className=a)}return this},toggleClass:function(t,e){var n=typeof t;return"boolean"==typeof e&&"string"===n?e?this.addClass(t):this.removeClass(t):this.each(Q.isFunction(t)?function(n){Q(this).toggleClass(t.call(this,n,this.className,e),e)}:function(){if("string"===n)for(var e,r=0,i=Q(this),o=t.match(dt)||[];e=o[r++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(n===kt||"boolean"===n)&&(this.className&&vt.set(this,"__className__",this.className),this.className=this.className||t===!1?"":vt.get(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",n=0,r=this.length;r>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(se," ").indexOf(e)>=0)return!0;return!1}});var le=/\r/g;Q.fn.extend({val:function(t){var e,n,r,i=this[0];{if(arguments.length)return r=Q.isFunction(t),this.each(function(n){var i;1===this.nodeType&&(i=r?t.call(this,n,Q(this).val()):t,null==i?i="":"number"==typeof i?i+="":Q.isArray(i)&&(i=Q.map(i,function(t){return null==t?"":t+""})),e=Q.valHooks[this.type]||Q.valHooks[this.nodeName.toLowerCase()],e&&"set"in e&&void 0!==e.set(this,i,"value")||(this.value=i))});if(i)return e=Q.valHooks[i.type]||Q.valHooks[i.nodeName.toLowerCase()],e&&"get"in e&&void 0!==(n=e.get(i,"value"))?n:(n=i.value,"string"==typeof n?n.replace(le,""):null==n?"":n)}}}),Q.extend({valHooks:{option:{get:function(t){var e=Q.find.attr(t,"value");return null!=e?e:Q.trim(Q.text(t))}},select:{get:function(t){for(var e,n,r=t.options,i=t.selectedIndex,o="select-one"===t.type||0>i,a=o?null:[],s=o?i+1:r.length,l=0>i?s:o?i:0;s>l;l++)if(n=r[l],!(!n.selected&&l!==i||(K.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Q.nodeName(n.parentNode,"optgroup"))){if(e=Q(n).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var n,r,i=t.options,o=Q.makeArray(e),a=i.length;a--;)r=i[a],(r.selected=Q.inArray(r.value,o)>=0)&&(n=!0);return n||(t.selectedIndex=-1),o}}}}),Q.each(["radio","checkbox"],function(){Q.valHooks[this]={set:function(t,e){return Q.isArray(e)?t.checked=Q.inArray(Q(t).val(),e)>=0:void 0}},K.checkOn||(Q.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),Q.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){Q.fn[e]=function(t,n){return arguments.length>0?this.on(e,null,t,n):this.trigger(e)}}),Q.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)},bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,r){return this.on(e,t,n,r)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)}});var ue=Q.now(),ce=/\?/;Q.parseJSON=function(t){return JSON.parse(t+"")},Q.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{n=new DOMParser,e=n.parseFromString(t,"text/xml")}catch(r){e=void 0}return(!e||e.getElementsByTagName("parsererror").length)&&Q.error("Invalid XML: "+t),e};var he=/#.*$/,fe=/([?&])_=[^&]*/,de=/^(.*?):[ \t]*([^\r\n]*)$/gm,pe=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,ge=/^(?:GET|HEAD)$/,me=/^\/\//,ve=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,ye={},we={},be="*/".concat("*"),xe=t.location.href,Ce=ve.exec(xe.toLowerCase())||[];Q.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xe,type:"GET",isLocal:pe.test(Ce[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":be,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Q.parseJSON,"text xml":Q.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?N(N(t,Q.ajaxSettings),e):N(Q.ajaxSettings,t)},ajaxPrefilter:L(ye),ajaxTransport:L(we),ajax:function(t,e){function n(t,e,n,a){var l,c,v,y,b,C=e;2!==w&&(w=2,s&&clearTimeout(s),r=void 0,o=a||"",x.readyState=t>0?4:0,l=t>=200&&300>t||304===t,n&&(y=B(h,x,n)),y=H(h,y,x,l),l?(h.ifModified&&(b=x.getResponseHeader("Last-Modified"),b&&(Q.lastModified[i]=b),b=x.getResponseHeader("etag"),b&&(Q.etag[i]=b)),204===t||"HEAD"===h.type?C="nocontent":304===t?C="notmodified":(C=y.state,c=y.data,v=y.error,l=!v)):(v=C,(t||!C)&&(C="error",0>t&&(t=0))),x.status=t,x.statusText=(e||C)+"",l?p.resolveWith(f,[c,C,x]):p.rejectWith(f,[x,C,v]),x.statusCode(m),m=void 0,u&&d.trigger(l?"ajaxSuccess":"ajaxError",[x,h,l?c:v]),g.fireWith(f,[x,C]),u&&(d.trigger("ajaxComplete",[x,h]),--Q.active||Q.event.trigger("ajaxStop")))}"object"==typeof t&&(e=t,t=void 0),e=e||{};var r,i,o,a,s,l,u,c,h=Q.ajaxSetup({},e),f=h.context||h,d=h.context&&(f.nodeType||f.jquery)?Q(f):Q.event,p=Q.Deferred(),g=Q.Callbacks("once memory"),m=h.statusCode||{},v={},y={},w=0,b="canceled",x={readyState:0,getResponseHeader:function(t){var e;if(2===w){if(!a)for(a={};e=de.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return 2===w?o:null},setRequestHeader:function(t,e){var n=t.toLowerCase();return w||(t=y[n]=y[n]||t,v[t]=e),this},overrideMimeType:function(t){return w||(h.mimeType=t),this},statusCode:function(t){var e;if(t)if(2>w)for(e in t)m[e]=[m[e],t[e]];else x.always(t[x.status]);return this},abort:function(t){var e=t||b;return r&&r.abort(e),n(0,e),this}};if(p.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((t||h.url||xe)+"").replace(he,"").replace(me,Ce[1]+"//"),h.type=e.method||e.type||h.method||h.type,h.dataTypes=Q.trim(h.dataType||"*").toLowerCase().match(dt)||[""],null==h.crossDomain&&(l=ve.exec(h.url.toLowerCase()),h.crossDomain=!(!l||l[1]===Ce[1]&&l[2]===Ce[2]&&(l[3]||("http:"===l[1]?"80":"443"))===(Ce[3]||("http:"===Ce[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=Q.param(h.data,h.traditional)),I(ye,h,e,x),2===w)return x;u=Q.event&&h.global,u&&0===Q.active++&&Q.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!ge.test(h.type),i=h.url,h.hasContent||(h.data&&(i=h.url+=(ce.test(i)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=fe.test(i)?i.replace(fe,"$1_="+ue++):i+(ce.test(i)?"&":"?")+"_="+ue++)),h.ifModified&&(Q.lastModified[i]&&x.setRequestHeader("If-Modified-Since",Q.lastModified[i]),Q.etag[i]&&x.setRequestHeader("If-None-Match",Q.etag[i])),(h.data&&h.hasContent&&h.contentType!==!1||e.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+be+"; q=0.01":""):h.accepts["*"]);for(c in h.headers)x.setRequestHeader(c,h.headers[c]);if(h.beforeSend&&(h.beforeSend.call(f,x,h)===!1||2===w))return x.abort();b="abort";for(c in{success:1,error:1,complete:1})x[c](h[c]);if(r=I(we,h,e,x)){x.readyState=1,u&&d.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(s=setTimeout(function(){x.abort("timeout")},h.timeout));try{w=1,r.send(v,n)}catch(C){if(!(2>w))throw C;n(-1,C)}}else n(-1,"No Transport");return x},getJSON:function(t,e,n){return Q.get(t,e,n,"json")},getScript:function(t,e){return Q.get(t,void 0,e,"script")}}),Q.each(["get","post"],function(t,e){Q[e]=function(t,n,r,i){return Q.isFunction(n)&&(i=i||r,r=n,n=void 0),Q.ajax({url:t,type:e,dataType:i,data:n,success:r})}}),Q._evalUrl=function(t){return Q.ajax({url:t,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},Q.fn.extend({wrapAll:function(t){var e;return Q.isFunction(t)?this.each(function(e){Q(this).wrapAll(t.call(this,e))}):(this[0]&&(e=Q(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this)},wrapInner:function(t){return this.each(Q.isFunction(t)?function(e){Q(this).wrapInner(t.call(this,e))}:function(){var e=Q(this),n=e.contents();n.length?n.wrapAll(t):e.append(t)})},wrap:function(t){var e=Q.isFunction(t);return this.each(function(n){Q(this).wrapAll(e?t.call(this,n):t)})},unwrap:function(){return this.parent().each(function(){Q.nodeName(this,"body")||Q(this).replaceWith(this.childNodes)}).end()}}),Q.expr.filters.hidden=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},Q.expr.filters.visible=function(t){return!Q.expr.filters.hidden(t)};var Te=/%20/g,Ee=/\[\]$/,ke=/\r?\n/g,Se=/^(?:submit|button|image|reset|file)$/i,_e=/^(?:input|select|textarea|keygen)/i;Q.param=function(t,e){var n,r=[],i=function(t,e){e=Q.isFunction(e)?e():null==e?"":e,r[r.length]=encodeURIComponent(t)+"="+encodeURIComponent(e);

};if(void 0===e&&(e=Q.ajaxSettings&&Q.ajaxSettings.traditional),Q.isArray(t)||t.jquery&&!Q.isPlainObject(t))Q.each(t,function(){i(this.name,this.value)});else for(n in t)F(n,t[n],e,i);return r.join("&").replace(Te,"+")},Q.fn.extend({serialize:function(){return Q.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=Q.prop(this,"elements");return t?Q.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!Q(this).is(":disabled")&&_e.test(this.nodeName)&&!Se.test(t)&&(this.checked||!Et.test(t))}).map(function(t,e){var n=Q(this).val();return null==n?null:Q.isArray(n)?Q.map(n,function(t){return{name:e.name,value:t.replace(ke,"\r\n")}}):{name:e.name,value:n.replace(ke,"\r\n")}}).get()}}),Q.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(t){}};var $e=0,Ae={},De={0:200,1223:204},Me=Q.ajaxSettings.xhr();t.attachEvent&&t.attachEvent("onunload",function(){for(var t in Ae)Ae[t]()}),K.cors=!!Me&&"withCredentials"in Me,K.ajax=Me=!!Me,Q.ajaxTransport(function(t){var e;return K.cors||Me&&!t.crossDomain?{send:function(n,r){var i,o=t.xhr(),a=++$e;if(o.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(i in t.xhrFields)o[i]=t.xhrFields[i];t.mimeType&&o.overrideMimeType&&o.overrideMimeType(t.mimeType),t.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest");for(i in n)o.setRequestHeader(i,n[i]);e=function(t){return function(){e&&(delete Ae[a],e=o.onload=o.onerror=null,"abort"===t?o.abort():"error"===t?r(o.status,o.statusText):r(De[o.status]||o.status,o.statusText,"string"==typeof o.responseText?{text:o.responseText}:void 0,o.getAllResponseHeaders()))}},o.onload=e(),o.onerror=e("error"),e=Ae[a]=e("abort");try{o.send(t.hasContent&&t.data||null)}catch(s){if(e)throw s}},abort:function(){e&&e()}}:void 0}),Q.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(t){return Q.globalEval(t),t}}}),Q.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),Q.ajaxTransport("script",function(t){if(t.crossDomain){var e,n;return{send:function(r,i){e=Q("<script>").prop({async:!0,charset:t.scriptCharset,src:t.url}).on("load error",n=function(t){e.remove(),n=null,t&&i("error"===t.type?404:200,t.type)}),Z.head.appendChild(e[0])},abort:function(){n&&n()}}}});var Re=[],Pe=/(=)\?(?=&|$)|\?\?/;Q.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Re.pop()||Q.expando+"_"+ue++;return this[t]=!0,t}}),Q.ajaxPrefilter("json jsonp",function(e,n,r){var i,o,a,s=e.jsonp!==!1&&(Pe.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pe.test(e.data)&&"data");return s||"jsonp"===e.dataTypes[0]?(i=e.jsonpCallback=Q.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Pe,"$1"+i):e.jsonp!==!1&&(e.url+=(ce.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return a||Q.error(i+" was not called"),a[0]},e.dataTypes[0]="json",o=t[i],t[i]=function(){a=arguments},r.always(function(){t[i]=o,e[i]&&(e.jsonpCallback=n.jsonpCallback,Re.push(i)),a&&Q.isFunction(o)&&o(a[0]),a=o=void 0}),"script"):void 0}),Q.parseHTML=function(t,e,n){if(!t||"string"!=typeof t)return null;"boolean"==typeof e&&(n=e,e=!1),e=e||Z;var r=at.exec(t),i=!n&&[];return r?[e.createElement(r[1])]:(r=Q.buildFragment([t],e,i),i&&i.length&&Q(i).remove(),Q.merge([],r.childNodes))};var Oe=Q.fn.load;Q.fn.load=function(t,e,n){if("string"!=typeof t&&Oe)return Oe.apply(this,arguments);var r,i,o,a=this,s=t.indexOf(" ");return s>=0&&(r=Q.trim(t.slice(s)),t=t.slice(0,s)),Q.isFunction(e)?(n=e,e=void 0):e&&"object"==typeof e&&(i="POST"),a.length>0&&Q.ajax({url:t,type:i,dataType:"html",data:e}).done(function(t){o=arguments,a.html(r?Q("<div>").append(Q.parseHTML(t)).find(r):t)}).complete(n&&function(t,e){a.each(n,o||[t.responseText,e,t])}),this},Q.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){Q.fn[e]=function(t){return this.on(e,t)}}),Q.expr.filters.animated=function(t){return Q.grep(Q.timers,function(e){return t===e.elem}).length};var Le=t.document.documentElement;Q.offset={setOffset:function(t,e,n){var r,i,o,a,s,l,u,c=Q.css(t,"position"),h=Q(t),f={};"static"===c&&(t.style.position="relative"),s=h.offset(),o=Q.css(t,"top"),l=Q.css(t,"left"),u=("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1,u?(r=h.position(),a=r.top,i=r.left):(a=parseFloat(o)||0,i=parseFloat(l)||0),Q.isFunction(e)&&(e=e.call(t,n,s)),null!=e.top&&(f.top=e.top-s.top+a),null!=e.left&&(f.left=e.left-s.left+i),"using"in e?e.using.call(t,f):h.css(f)}},Q.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){Q.offset.setOffset(this,t,e)});var e,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;if(o)return e=o.documentElement,Q.contains(e,r)?(typeof r.getBoundingClientRect!==kt&&(i=r.getBoundingClientRect()),n=V(o),{top:i.top+n.pageYOffset-e.clientTop,left:i.left+n.pageXOffset-e.clientLeft}):i},position:function(){if(this[0]){var t,e,n=this[0],r={top:0,left:0};return"fixed"===Q.css(n,"position")?e=n.getBoundingClientRect():(t=this.offsetParent(),e=this.offset(),Q.nodeName(t[0],"html")||(r=t.offset()),r.top+=Q.css(t[0],"borderTopWidth",!0),r.left+=Q.css(t[0],"borderLeftWidth",!0)),{top:e.top-r.top-Q.css(n,"marginTop",!0),left:e.left-r.left-Q.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||Le;t&&!Q.nodeName(t,"html")&&"static"===Q.css(t,"position");)t=t.offsetParent;return t||Le})}}),Q.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var r="pageYOffset"===n;Q.fn[e]=function(i){return mt(this,function(e,i,o){var a=V(e);return void 0===o?a?a[n]:e[i]:void(a?a.scrollTo(r?t.pageXOffset:o,r?o:t.pageYOffset):e[i]=o)},e,i,arguments.length,null)}}),Q.each(["top","left"],function(t,e){Q.cssHooks[e]=C(K.pixelPosition,function(t,n){return n?(n=x(t,e),qt.test(n)?Q(t).position()[e]+"px":n):void 0})}),Q.each({Height:"height",Width:"width"},function(t,e){Q.each({padding:"inner"+t,content:e,"":"outer"+t},function(n,r){Q.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),a=n||(r===!0||i===!0?"margin":"border");return mt(this,function(e,n,r){var i;return Q.isWindow(e)?e.document.documentElement["client"+t]:9===e.nodeType?(i=e.documentElement,Math.max(e.body["scroll"+t],i["scroll"+t],e.body["offset"+t],i["offset"+t],i["client"+t])):void 0===r?Q.css(e,n,a):Q.style(e,n,r,a)},e,o?r:void 0,o,null)}})}),Q.fn.size=function(){return this.length},Q.fn.andSelf=Q.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Q});var Ie=t.jQuery,Ne=t.$;return Q.noConflict=function(e){return t.$===Q&&(t.$=Ne),e&&t.jQuery===Q&&(t.jQuery=Ie),Q},typeof e===kt&&(t.jQuery=t.$=Q),Q}),/**
 * @license AngularJS v1.4.1
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(t,e){return e=e||Error,function(){var n,r,i=2,o=arguments,a=o[0],s="["+(t?t+":":"")+a+"] ",l=o[1];for(s+=l.replace(/\{\d+\}/g,function(t){var e=+t.slice(1,-1),n=e+i;return n<o.length?yt(o[n]):t}),s+="\nhttp://errors.angularjs.org/1.4.1/"+(t?t+"/":"")+a,r=i,n="?";r<o.length;r++,n="&")s+=n+"p"+(r-i)+"="+encodeURIComponent(yt(o[r]));return new e(s)}}function i(t){if(null==t||_(t))return!1;var e="length"in Object(t)&&t.length;return t.nodeType===Xr&&e?!0:C(t)||Hr(t)||0===e||"number"==typeof e&&e>0&&e-1 in t}function o(t,e,n){var r,a;if(t)if(k(t))for(r in t)"prototype"==r||"length"==r||"name"==r||t.hasOwnProperty&&!t.hasOwnProperty(r)||e.call(n,t[r],r,t);else if(Hr(t)||i(t)){var s="object"!=typeof t;for(r=0,a=t.length;a>r;r++)(s||r in t)&&e.call(n,t[r],r,t)}else if(t.forEach&&t.forEach!==o)t.forEach(e,n,t);else if(x(t))for(r in t)e.call(n,t[r],r,t);else if("function"==typeof t.hasOwnProperty)for(r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t);else for(r in t)Cr.call(t,r)&&e.call(n,t[r],r,t);return t}function a(t,e,n){for(var r=Object.keys(t).sort(),i=0;i<r.length;i++)e.call(n,t[r[i]],r[i]);return r}function s(t){return function(e,n){t(n,e)}}function l(){return++Nr}function u(t,e){e?t.$$hashKey=e:delete t.$$hashKey}function c(t,e,n){for(var r=t.$$hashKey,i=0,o=e.length;o>i;++i){var a=e[i];if(b(a)||k(a))for(var s=Object.keys(a),l=0,h=s.length;h>l;l++){var f=s[l],d=a[f];n&&b(d)?(b(t[f])||(t[f]=Hr(d)?[]:{}),c(t[f],[d],!0)):t[f]=d}}return u(t,r),t}function h(t){return c(t,Dr.call(arguments,1),!1)}function f(t){return c(t,Dr.call(arguments,1),!0)}function d(t){return parseInt(t,10)}function p(t,e){return h(Object.create(t),e)}function g(){}function m(t){return t}function v(t){return function(){return t}}function y(t){return"undefined"==typeof t}function w(t){return"undefined"!=typeof t}function b(t){return null!==t&&"object"==typeof t}function x(t){return null!==t&&"object"==typeof t&&!Or(t)}function C(t){return"string"==typeof t}function T(t){return"number"==typeof t}function E(t){return"[object Date]"===Pr.call(t)}function k(t){return"function"==typeof t}function S(t){return"[object RegExp]"===Pr.call(t)}function _(t){return t&&t.window===t}function $(t){return t&&t.$evalAsync&&t.$watch}function A(t){return"[object File]"===Pr.call(t)}function D(t){return"[object FormData]"===Pr.call(t)}function M(t){return"[object Blob]"===Pr.call(t)}function R(t){return"boolean"==typeof t}function P(t){return t&&k(t.then)}function O(t){return Fr.test(Pr.call(t))}function L(t){return!(!t||!(t.nodeName||t.prop&&t.attr&&t.find))}function I(t){var e,n={},r=t.split(",");for(e=0;e<r.length;e++)n[r[e]]=!0;return n}function N(t){return xr(t.nodeName||t[0]&&t[0].nodeName)}function B(t,e){var n=t.indexOf(e);return n>=0&&t.splice(n,1),n}function H(t,e,n,r){if(_(t)||$(t))throw Lr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(O(e))throw Lr("cpta","Can't copy! TypedArray destination cannot be mutated.");if(e){if(t===e)throw Lr("cpi","Can't copy! Source and destination are identical.");n=n||[],r=r||[],b(t)&&(n.push(t),r.push(e));var i;if(Hr(t)){e.length=0;for(var a=0;a<t.length;a++)e.push(H(t[a],null,n,r))}else{var s=e.$$hashKey;if(Hr(e)?e.length=0:o(e,function(t,n){delete e[n]}),x(t))for(i in t)e[i]=H(t[i],null,n,r);else if(t&&"function"==typeof t.hasOwnProperty)for(i in t)t.hasOwnProperty(i)&&(e[i]=H(t[i],null,n,r));else for(i in t)Cr.call(t,i)&&(e[i]=H(t[i],null,n,r));u(e,s)}}else if(e=t,b(t)){var l;if(n&&-1!==(l=n.indexOf(t)))return r[l];if(Hr(t))return H(t,[],n,r);if(O(t))e=new t.constructor(t);else if(E(t))e=new Date(t.getTime());else{if(!S(t)){var c=Object.create(Or(t));return H(t,c,n,r)}e=new RegExp(t.source,t.toString().match(/[^\/]*$/)[0]),e.lastIndex=t.lastIndex}r&&(n.push(t),r.push(e))}return e}function F(t,e){if(Hr(t)){e=e||[];for(var n=0,r=t.length;r>n;n++)e[n]=t[n]}else if(b(t)){e=e||{};for(var i in t)("$"!==i.charAt(0)||"$"!==i.charAt(1))&&(e[i]=t[i])}return e||t}function V(t,e){if(t===e)return!0;if(null===t||null===e)return!1;if(t!==t&&e!==e)return!0;var r,i,o,a=typeof t,s=typeof e;if(a==s&&"object"==a){if(!Hr(t)){if(E(t))return E(e)?V(t.getTime(),e.getTime()):!1;if(S(t))return S(e)?t.toString()==e.toString():!1;if($(t)||$(e)||_(t)||_(e)||Hr(e)||E(e)||S(e))return!1;o=gt();for(i in t)if("$"!==i.charAt(0)&&!k(t[i])){if(!V(t[i],e[i]))return!1;o[i]=!0}for(i in e)if(!(i in o||"$"===i.charAt(0)||e[i]===n||k(e[i])))return!1;return!0}if(!Hr(e))return!1;if((r=t.length)==e.length){for(i=0;r>i;i++)if(!V(t[i],e[i]))return!1;return!0}}return!1}function q(t,e,n){return t.concat(Dr.call(e,n))}function j(t,e){return Dr.call(t,e||0)}function z(t,e){var n=arguments.length>2?j(arguments,2):[];return!k(e)||e instanceof RegExp?e:n.length?function(){return arguments.length?e.apply(t,q(n,arguments,0)):e.apply(t,n)}:function(){return arguments.length?e.apply(t,arguments):e.call(t)}}function W(t,r){var i=r;return"string"==typeof t&&"$"===t.charAt(0)&&"$"===t.charAt(1)?i=n:_(r)?i="$WINDOW":r&&e===r?i="$DOCUMENT":$(r)&&(i="$SCOPE"),i}function U(t,e){return"undefined"==typeof t?n:(T(e)||(e=e?2:null),JSON.stringify(t,W,e))}function Y(t){return C(t)?JSON.parse(t):t}function X(t,e){var n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function G(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function K(t,e,n){n=n?-1:1;var r=X(e,t.getTimezoneOffset());return G(t,n*(r-t.getTimezoneOffset()))}function Z(t){t=_r(t).clone();try{t.empty()}catch(e){}var n=_r("<div>").append(t).html();try{return t[0].nodeType===Kr?xr(n):n.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(t,e){return"<"+xr(e)})}catch(e){return xr(n)}}function J(t){try{return decodeURIComponent(t)}catch(e){}}function Q(t){var e,n,r={};return o((t||"").split("&"),function(t){if(t&&(e=t.replace(/\+/g,"%20").split("="),n=J(e[0]),w(n))){var i=w(e[1])?J(e[1]):!0;Cr.call(r,n)?Hr(r[n])?r[n].push(i):r[n]=[r[n],i]:r[n]=i}}),r}function tt(t){var e=[];return o(t,function(t,n){Hr(t)?o(t,function(t){e.push(nt(n,!0)+(t===!0?"":"="+nt(t,!0)))}):e.push(nt(n,!0)+(t===!0?"":"="+nt(t,!0)))}),e.length?e.join("&"):""}function et(t){return nt(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function nt(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,e?"%20":"+")}function rt(t,e){var n,r,i=Wr.length;for(r=0;i>r;++r)if(n=Wr[r]+e,C(n=t.getAttribute(n)))return n;return null}function it(t,e){var n,r,i={};o(Wr,function(e){var i=e+"app";!n&&t.hasAttribute&&t.hasAttribute(i)&&(n=t,r=t.getAttribute(i))}),o(Wr,function(e){var i,o=e+"app";!n&&(i=t.querySelector("["+o.replace(":","\\:")+"]"))&&(n=i,r=i.getAttribute(o))}),n&&(i.strictDi=null!==rt(n,"strict-di"),e(n,r?[r]:[],i))}function ot(n,r,i){b(i)||(i={});var a={strictDi:!1};i=h(a,i);var s=function(){if(n=_r(n),n.injector()){var t=n[0]===e?"document":Z(n);throw Lr("btstrpd","App Already Bootstrapped with this Element '{0}'",t.replace(/</,"&lt;").replace(/>/,"&gt;"))}r=r||[],r.unshift(["$provide",function(t){t.value("$rootElement",n)}]),i.debugInfoEnabled&&r.push(["$compileProvider",function(t){t.debugInfoEnabled(!0)}]),r.unshift("ng");var o=Zt(r,i.strictDi);return o.invoke(["$rootScope","$rootElement","$compile","$injector",function(t,e,n,r){t.$apply(function(){e.data("$injector",r),n(e)(t)})}]),o},l=/^NG_ENABLE_DEBUG_INFO!/,u=/^NG_DEFER_BOOTSTRAP!/;return t&&l.test(t.name)&&(i.debugInfoEnabled=!0,t.name=t.name.replace(l,"")),t&&!u.test(t.name)?s():(t.name=t.name.replace(u,""),Ir.resumeBootstrap=function(t){return o(t,function(t){r.push(t)}),s()},void(k(Ir.resumeDeferredBootstrap)&&Ir.resumeDeferredBootstrap()))}function at(){t.name="NG_ENABLE_DEBUG_INFO!"+t.name,t.location.reload()}function st(t){var e=Ir.element(t).injector();if(!e)throw Lr("test","no injector found for element argument to getTestability");return e.get("$$testability")}function lt(t,e){return e=e||"_",t.replace(Ur,function(t,n){return(n?e:"")+t.toLowerCase()})}function ut(){var e;if(!Yr){var r=zr();$r=t.jQuery,w(r)&&($r=null===r?n:t[r]),$r&&$r.fn.on?(_r=$r,h($r.fn,{scope:pi.scope,isolateScope:pi.isolateScope,controller:pi.controller,injector:pi.injector,inheritedData:pi.inheritedData}),e=$r.cleanData,$r.cleanData=function(t){var n;if(Br)Br=!1;else for(var r,i=0;null!=(r=t[i]);i++)n=$r._data(r,"events"),n&&n.$destroy&&$r(r).triggerHandler("$destroy");e(t)}):_r=_t,Ir.element=_r,Yr=!0}}function ct(t,e,n){if(!t)throw Lr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function ht(t,e,n){return n&&Hr(t)&&(t=t[t.length-1]),ct(k(t),e,"not a function, got "+(t&&"object"==typeof t?t.constructor.name||"Object":typeof t)),t}function ft(t,e){if("hasOwnProperty"===t)throw Lr("badname","hasOwnProperty is not a valid {0} name",e)}function dt(t,e,n){if(!e)return t;for(var r,i=e.split("."),o=t,a=i.length,s=0;a>s;s++)r=i[s],t&&(t=(o=t)[r]);return!n&&k(t)?z(o,t):t}function pt(t){var e=t[0],n=t[t.length-1],r=[e];do{if(e=e.nextSibling,!e)break;r.push(e)}while(e!==n);return _r(r)}function gt(){return Object.create(null)}function mt(t){function e(t,e,n){return t[e]||(t[e]=n())}var n=r("$injector"),i=r("ng"),o=e(t,"angular",Object);return o.$$minErr=o.$$minErr||r,e(o,"module",function(){var t={};return function(r,o,a){var s=function(t,e){if("hasOwnProperty"===t)throw i("badname","hasOwnProperty is not a valid {0} name",e)};return s(r,"module"),o&&t.hasOwnProperty(r)&&(t[r]=null),e(t,r,function(){function t(t,e,n,r){return r||(r=i),function(){return r[n||"push"]([t,e,arguments]),c}}function e(t,e){return function(n,o){return o&&k(o)&&(o.$$moduleName=r),i.push([t,e,arguments]),c}}if(!o)throw n("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",r);var i=[],s=[],l=[],u=t("$injector","invoke","push",s),c={_invokeQueue:i,_configBlocks:s,_runBlocks:l,requires:o,name:r,provider:e("$provide","provider"),factory:e("$provide","factory"),service:e("$provide","service"),value:t("$provide","value"),constant:t("$provide","constant","unshift"),decorator:e("$provide","decorator"),animation:e("$animateProvider","register"),filter:e("$filterProvider","register"),controller:e("$controllerProvider","register"),directive:e("$compileProvider","directive"),config:u,run:function(t){return l.push(t),this}};return a&&u(a),c})}})}function vt(t){var e=[];return JSON.stringify(t,function(t,n){if(n=W(t,n),b(n)){if(e.indexOf(n)>=0)return"<<already seen>>";e.push(n)}return n})}function yt(t){return"function"==typeof t?t.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof t?"undefined":"string"!=typeof t?vt(t):t}function wt(e){h(e,{bootstrap:ot,copy:H,extend:h,merge:f,equals:V,element:_r,forEach:o,injector:Zt,noop:g,bind:z,toJson:U,fromJson:Y,identity:m,isUndefined:y,isDefined:w,isString:C,isFunction:k,isObject:b,isNumber:T,isElement:L,isArray:Hr,version:ti,isDate:E,lowercase:xr,uppercase:Tr,callbacks:{counter:0},getTestability:st,$$minErr:r,$$csp:jr,reloadWithDebugInfo:at}),Ar=mt(t);try{Ar("ngLocale")}catch(n){Ar("ngLocale",[]).provider("$locale",Me)}Ar("ng",["ngLocale"],["$provide",function(t){t.provider({$$sanitizeUri:vn}),t.provider("$compile",le).directive({a:co,input:$o,textarea:$o,form:mo,script:ba,select:Ta,style:ka,option:Ea,ngBind:Mo,ngBindHtml:Po,ngBindTemplate:Ro,ngClass:Lo,ngClassEven:No,ngClassOdd:Io,ngCloak:Bo,ngController:Ho,ngForm:vo,ngHide:pa,ngIf:qo,ngInclude:jo,ngInit:Wo,ngNonBindable:oa,ngPluralize:ua,ngRepeat:ca,ngShow:da,ngStyle:ga,ngSwitch:ma,ngSwitchWhen:va,ngSwitchDefault:ya,ngOptions:la,ngTransclude:wa,ngModel:na,ngList:Uo,ngChange:Oo,pattern:_a,ngPattern:_a,required:Sa,ngRequired:Sa,minlength:Aa,ngMinlength:Aa,maxlength:$a,ngMaxlength:$a,ngValue:Do,ngModelOptions:ia}).directive({ngInclude:zo}).directive(ho).directive(Fo),t.provider({$anchorScroll:Jt,$animate:Ai,$$animateQueue:$i,$$AnimateRunner:_i,$browser:oe,$cacheFactory:ae,$controller:de,$document:pe,$exceptionHandler:ge,$filter:Mn,$interpolate:Ae,$interval:De,$http:ke,$httpParamSerializer:ve,$httpParamSerializerJQLike:ye,$httpBackend:_e,$location:We,$log:Ue,$parse:hn,$rootScope:mn,$q:fn,$$q:dn,$sce:xn,$sceDelegate:bn,$sniffer:Cn,$templateCache:se,$templateRequest:Tn,$$testability:En,$timeout:kn,$window:$n,$$rAF:gn,$$asyncCallback:re,$$jqLite:Ut,$$HashMap:yi,$$cookieReader:Dn})}])}function bt(){return++ni}function xt(t){return t.replace(oi,function(t,e,n,r){return r?n.toUpperCase():n}).replace(ai,"Moz$1")}function Ct(t){return!ci.test(t)}function Tt(t){var e=t.nodeType;return e===Xr||!e||e===Jr}function Et(t){for(var e in ei[t.ng339])return!0;return!1}function kt(t,e){var n,r,i,a,s=e.createDocumentFragment(),l=[];if(Ct(t))l.push(e.createTextNode(t));else{for(n=n||s.appendChild(e.createElement("div")),r=(hi.exec(t)||["",""])[1].toLowerCase(),i=di[r]||di._default,n.innerHTML=i[1]+t.replace(fi,"<$1></$2>")+i[2],a=i[0];a--;)n=n.lastChild;l=q(l,n.childNodes),n=s.firstChild,n.textContent=""}return s.textContent="",s.innerHTML="",o(l,function(t){s.appendChild(t)}),s}function St(t,n){n=n||e;var r;return(r=ui.exec(t))?[n.createElement(r[1])]:(r=kt(t,n))?r.childNodes:[]}function _t(t){if(t instanceof _t)return t;var e;if(C(t)&&(t=Vr(t),e=!0),!(this instanceof _t)){if(e&&"<"!=t.charAt(0))throw li("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new _t(t)}e?Nt(this,St(t)):Nt(this,t)}function $t(t){return t.cloneNode(!0)}function At(t,e){if(e||Mt(t),t.querySelectorAll)for(var n=t.querySelectorAll("*"),r=0,i=n.length;i>r;r++)Mt(n[r])}function Dt(t,e,n,r){if(w(r))throw li("offargs","jqLite#off() does not support the `selector` argument");var i=Rt(t),a=i&&i.events,s=i&&i.handle;if(s)if(e)o(e.split(" "),function(e){if(w(n)){var r=a[e];if(B(r||[],n),r&&r.length>0)return}ii(t,e,s),delete a[e]});else for(e in a)"$destroy"!==e&&ii(t,e,s),delete a[e]}function Mt(t,e){var r=t.ng339,i=r&&ei[r];if(i){if(e)return void delete i.data[e];i.handle&&(i.events.$destroy&&i.handle({},"$destroy"),Dt(t)),delete ei[r],t.ng339=n}}function Rt(t,e){var r=t.ng339,i=r&&ei[r];return e&&!i&&(t.ng339=r=bt(),i=ei[r]={events:{},data:{},handle:n}),i}function Pt(t,e,n){if(Tt(t)){var r=w(n),i=!r&&e&&!b(e),o=!e,a=Rt(t,!i),s=a&&a.data;if(r)s[e]=n;else{if(o)return s;if(i)return s&&s[e];h(s,e)}}}function Ot(t,e){return t.getAttribute?(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+e+" ")>-1:!1}function Lt(t,e){e&&t.setAttribute&&o(e.split(" "),function(e){t.setAttribute("class",Vr((" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+Vr(e)+" "," ")))})}function It(t,e){if(e&&t.setAttribute){var n=(" "+(t.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");o(e.split(" "),function(t){t=Vr(t),-1===n.indexOf(" "+t+" ")&&(n+=t+" ")}),t.setAttribute("class",Vr(n))}}function Nt(t,e){if(e)if(e.nodeType)t[t.length++]=e;else{var n=e.length;if("number"==typeof n&&e.window!==e){if(n)for(var r=0;n>r;r++)t[t.length++]=e[r]}else t[t.length++]=e}}function Bt(t,e){return Ht(t,"$"+(e||"ngController")+"Controller")}function Ht(t,e,r){t.nodeType==Jr&&(t=t.documentElement);for(var i=Hr(e)?e:[e];t;){for(var o=0,a=i.length;a>o;o++)if((r=_r.data(t,i[o]))!==n)return r;t=t.parentNode||t.nodeType===Qr&&t.host}}function Ft(t){for(At(t,!0);t.firstChild;)t.removeChild(t.firstChild)}function Vt(t,e){e||At(t);var n=t.parentNode;n&&n.removeChild(t)}function qt(e,n){n=n||t,"complete"===n.document.readyState?n.setTimeout(e):_r(n).on("load",e)}function jt(t,e){var n=gi[e.toLowerCase()];return n&&mi[N(t)]&&n}function zt(t,e){var n=t.nodeName;return("INPUT"===n||"TEXTAREA"===n)&&vi[e]}function Wt(t,e){var n=function(n,r){n.isDefaultPrevented=function(){return n.defaultPrevented};var i=e[r||n.type],o=i?i.length:0;if(o){if(y(n.immediatePropagationStopped)){var a=n.stopImmediatePropagation;n.stopImmediatePropagation=function(){n.immediatePropagationStopped=!0,n.stopPropagation&&n.stopPropagation(),a&&a.call(n)}}n.isImmediatePropagationStopped=function(){return n.immediatePropagationStopped===!0},o>1&&(i=F(i));for(var s=0;o>s;s++)n.isImmediatePropagationStopped()||i[s].call(t,n)}};return n.elem=t,n}function Ut(){this.$get=function(){return h(_t,{hasClass:function(t,e){return t.attr&&(t=t[0]),Ot(t,e)},addClass:function(t,e){return t.attr&&(t=t[0]),It(t,e)},removeClass:function(t,e){return t.attr&&(t=t[0]),Lt(t,e)}})}}function Yt(t,e){var n=t&&t.$$hashKey;if(n)return"function"==typeof n&&(n=t.$$hashKey()),n;var r=typeof t;return n="function"==r||"object"==r&&null!==t?t.$$hashKey=r+":"+(e||l)():r+":"+t}function Xt(t,e){if(e){var n=0;this.nextUid=function(){return++n}}o(t,this.put,this)}function Gt(t){var e=t.toString().replace(Ci,""),n=e.match(wi);return n?"function("+(n[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function Kt(t,e,n){var r,i,a,s;if("function"==typeof t){if(!(r=t.$inject)){if(r=[],t.length){if(e)throw C(n)&&n||(n=t.name||Gt(t)),Ti("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",n);i=t.toString().replace(Ci,""),a=i.match(wi),o(a[1].split(bi),function(t){t.replace(xi,function(t,e,n){r.push(n)})})}t.$inject=r}}else Hr(t)?(s=t.length-1,ht(t[s],"fn"),r=t.slice(0,s)):ht(t,"fn",!0);return r}function Zt(t,e){function r(t){return function(e,n){return b(e)?void o(e,s(t)):t(e,n)}}function i(t,e){if(ft(t,"service"),(k(e)||Hr(e))&&(e=E.instantiate(e)),!e.$get)throw Ti("pget","Provider '{0}' must define $get factory method.",t);return T[t+m]=e}function a(t,e){return function(){var n=_.invoke(e,this);if(y(n))throw Ti("undef","Provider '{0}' must return a value from $get factory method.",t);return n}}function l(t,e,n){return i(t,{$get:n!==!1?a(t,e):e})}function u(t,e){return l(t,["$injector",function(t){return t.instantiate(e)}])}function c(t,e){return l(t,v(e),!1)}function h(t,e){ft(t,"constant"),T[t]=e,S[t]=e}function f(t,e){var n=E.get(t+m),r=n.$get;n.$get=function(){var t=_.invoke(r,n);return _.invoke(e,null,{$delegate:t})}}function d(t){var e,n=[];return o(t,function(t){function r(t){var e,n;for(e=0,n=t.length;n>e;e++){var r=t[e],i=E.get(r[0]);i[r[1]].apply(i,r[2])}}if(!x.get(t)){x.put(t,!0);try{C(t)?(e=Ar(t),n=n.concat(d(e.requires)).concat(e._runBlocks),r(e._invokeQueue),r(e._configBlocks)):k(t)?n.push(E.invoke(t)):Hr(t)?n.push(E.invoke(t)):ht(t,"module")}catch(i){throw Hr(t)&&(t=t[t.length-1]),i.message&&i.stack&&-1==i.stack.indexOf(i.message)&&(i=i.message+"\n"+i.stack),Ti("modulerr","Failed to instantiate module {0} due to:\n{1}",t,i.stack||i.message||i)}}}),n}function p(t,n){function r(e,r){if(t.hasOwnProperty(e)){if(t[e]===g)throw Ti("cdep","Circular dependency found: {0}",e+" <- "+w.join(" <- "));return t[e]}try{return w.unshift(e),t[e]=g,t[e]=n(e,r)}catch(i){throw t[e]===g&&delete t[e],i}finally{w.shift()}}function i(t,n,i,o){"string"==typeof i&&(o=i,i=null);var a,s,l,u=[],c=Zt.$$annotate(t,e,o);for(s=0,a=c.length;a>s;s++){if(l=c[s],"string"!=typeof l)throw Ti("itkn","Incorrect injection token! Expected service name as string, got {0}",l);u.push(i&&i.hasOwnProperty(l)?i[l]:r(l,o))}return Hr(t)&&(t=t[a]),t.apply(n,u)}function o(t,e,n){var r=Object.create((Hr(t)?t[t.length-1]:t).prototype||null),o=i(t,r,e,n);return b(o)||k(o)?o:r}return{invoke:i,instantiate:o,get:r,annotate:Zt.$$annotate,has:function(e){return T.hasOwnProperty(e+m)||t.hasOwnProperty(e)}}}e=e===!0;var g={},m="Provider",w=[],x=new Xt([],!0),T={$provide:{provider:r(i),factory:r(l),service:r(u),value:r(c),constant:r(h),decorator:f}},E=T.$injector=p(T,function(t,e){throw Ir.isString(e)&&w.push(e),Ti("unpr","Unknown provider: {0}",w.join(" <- "))}),S={},_=S.$injector=p(S,function(t,e){var r=E.get(t+m,e);return _.invoke(r.$get,r,n,t)});return o(d(t),function(t){t&&_.invoke(t)}),_}function Jt(){var t=!0;this.disableAutoScrolling=function(){t=!1},this.$get=["$window","$location","$rootScope",function(e,n,r){function i(t){var e=null;return Array.prototype.some.call(t,function(t){return"a"===N(t)?(e=t,!0):void 0}),e}function o(){var t=s.yOffset;if(k(t))t=t();else if(L(t)){var n=t[0],r=e.getComputedStyle(n);t="fixed"!==r.position?0:n.getBoundingClientRect().bottom}else T(t)||(t=0);return t}function a(t){if(t){t.scrollIntoView();var n=o();if(n){var r=t.getBoundingClientRect().top;e.scrollBy(0,r-n)}}else e.scrollTo(0,0)}function s(t){t=C(t)?t:n.hash();var e;t?(e=l.getElementById(t))?a(e):(e=i(l.getElementsByName(t)))?a(e):"top"===t&&a(null):a(null)}var l=e.document;return t&&r.$watch(function(){return n.hash()},function(t,e){(t!==e||""!==t)&&qt(function(){r.$evalAsync(s)})}),s}]}function Qt(t,e){return t||e?t?e?(Hr(t)&&(t=t.join(" ")),Hr(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function te(t){for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType===ki)return n}}function ee(t){C(t)&&(t=t.split(" "));var e=gt();return o(t,function(t){t.length&&(e[t]=!0)}),e}function ne(t){return b(t)?t:{}}function re(){this.$get=["$$rAF","$timeout",function(t,e){return t.supported?function(e){return t(e)}:function(t){return e(t,0,!1)}}]}function ie(t,e,n,r){function i(t){try{t.apply(null,j(arguments,1))}finally{if(w--,0===w)for(;b.length;)try{b.pop()()}catch(e){n.error(e)}}}function a(t){var e=t.indexOf("#");return-1===e?"":t.substr(e+1)}function s(){u(),c()}function l(){try{return d.state}catch(t){}}function u(){x=l(),x=y(x)?null:x,V(x,$)&&(x=$),$=x}function c(){(T!==h.url()||C!==x)&&(T=h.url(),C=x,o(S,function(t){t(h.url(),x)}))}var h=this,f=(e[0],t.location),d=t.history,p=t.setTimeout,m=t.clearTimeout,v={};h.isMock=!1;var w=0,b=[];h.$$completeOutstandingRequest=i,h.$$incOutstandingRequestCount=function(){w++},h.notifyWhenNoOutstandingRequests=function(t){0===w?t():b.push(t)};var x,C,T=f.href,E=e.find("base"),k=null;u(),C=x,h.url=function(e,n,i){if(y(i)&&(i=null),f!==t.location&&(f=t.location),d!==t.history&&(d=t.history),e){var o=C===i;if(T===e&&(!r.history||o))return h;var s=T&&Ie(T)===Ie(e);return T=e,C=i,!r.history||s&&o?((!s||k)&&(k=e),n?f.replace(e):s?f.hash=a(e):f.href=e):(d[n?"replaceState":"pushState"](i,"",e),u(),C=x),h}return k||f.href.replace(/%27/g,"'")},h.state=function(){return x};var S=[],_=!1,$=null;h.onUrlChange=function(e){return _||(r.history&&_r(t).on("popstate",s),_r(t).on("hashchange",s),_=!0),S.push(e),e},h.$$applicationDestroyed=function(){_r(t).off("hashchange popstate",s)},h.$$checkUrlChange=c,h.baseHref=function(){var t=E.attr("href");return t?t.replace(/^(https?\:)?\/\/[^\/]*/,""):""},h.defer=function(t,e){var n;return w++,n=p(function(){delete v[n],i(t)},e||0),v[n]=!0,n},h.defer.cancel=function(t){return v[t]?(delete v[t],m(t),i(g),!0):!1}}function oe(){this.$get=["$window","$log","$sniffer","$document",function(t,e,n,r){return new ie(t,r,e,n)}]}function ae(){this.$get=function(){function t(t,n){function i(t){t!=f&&(d?d==t&&(d=t.n):d=t,o(t.n,t.p),o(t,f),f=t,f.n=null)}function o(t,e){t!=e&&(t&&(t.p=e),e&&(e.n=t))}if(t in e)throw r("$cacheFactory")("iid","CacheId '{0}' is already taken!",t);var a=0,s=h({},n,{id:t}),l={},u=n&&n.capacity||Number.MAX_VALUE,c={},f=null,d=null;return e[t]={put:function(t,e){if(!y(e)){if(u<Number.MAX_VALUE){var n=c[t]||(c[t]={key:t});i(n)}return t in l||a++,l[t]=e,a>u&&this.remove(d.key),e}},get:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;i(e)}return l[t]},remove:function(t){if(u<Number.MAX_VALUE){var e=c[t];if(!e)return;e==f&&(f=e.p),e==d&&(d=e.n),o(e.n,e.p),delete c[t]}delete l[t],a--},removeAll:function(){l={},a=0,c={},f=d=null},destroy:function(){l=null,s=null,c=null,delete e[t]},info:function(){return h({},s,{size:a})}}}var e={};return t.info=function(){var t={};return o(e,function(e,n){t[n]=e.info()}),t},t.get=function(t){return e[t]},t}}function se(){this.$get=["$cacheFactory",function(t){return t("templates")}]}function le(t,r){function i(t,e,n){var r=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,i={};return o(t,function(t,o){var a=t.match(r);if(!a)throw Di("iscp","Invalid {3} for directive '{0}'. Definition: {... {1}: '{2}' ...}",e,o,t,n?"controller bindings definition":"isolate scope definition");i[o]={mode:a[1][0],collection:"*"===a[2],optional:"?"===a[3],attrName:a[4]||o}}),i}function a(t,e){var n={isolateScope:null,bindToController:null};if(b(t.scope)&&(t.bindToController===!0?(n.bindToController=i(t.scope,e,!0),n.isolateScope={}):n.isolateScope=i(t.scope,e,!1)),b(t.bindToController)&&(n.bindToController=i(t.bindToController,e,!0)),b(n.bindToController)){var r=t.controller,o=t.controllerAs;if(!r)throw Di("noctrl","Cannot bind to controller without directive '{0}'s controller.",e);if(!fe(r,o))throw Di("noident","Cannot bind to controller without identifier for directive '{0}'.",e)}return n}function l(t){var e=t.charAt(0);if(!e||e!==xr(e))throw Di("baddir","Directive name '{0}' is invalid. The first character must be a lowercase letter",t);if(t!==t.trim())throw Di("baddir","Directive name '{0}' is invalid. The name should not contain leading or trailing whitespaces",t)}var u={},c="Directive",f=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,d=/(([\w\-]+)(?:\:([^;]+))?;?)/,y=I("ngSrc,ngSrcset,src,srcset"),x=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,T=/^(on[a-z]+|formaction)$/;this.directive=function S(e,n){return ft(e,"directive"),C(e)?(l(e),ct(n,"directiveFactory"),u.hasOwnProperty(e)||(u[e]=[],t.factory(e+c,["$injector","$exceptionHandler",function(t,n){var r=[];return o(u[e],function(i,o){try{var s=t.invoke(i);k(s)?s={compile:v(s)}:!s.compile&&s.link&&(s.compile=v(s.link)),s.priority=s.priority||0,s.index=o,s.name=s.name||e,s.require=s.require||s.controller&&s.name,s.restrict=s.restrict||"EA";var l=s.$$bindings=a(s,s.name);b(l.isolateScope)&&(s.$$isolateBindings=l.isolateScope),s.$$moduleName=i.$$moduleName,r.push(s)}catch(u){n(u)}}),r}])),u[e].push(n)):o(e,s(S)),this},this.aHrefSanitizationWhitelist=function(t){return w(t)?(r.aHrefSanitizationWhitelist(t),this):r.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(t){return w(t)?(r.imgSrcSanitizationWhitelist(t),this):r.imgSrcSanitizationWhitelist()};var E=!0;this.debugInfoEnabled=function(t){return w(t)?(E=t,this):E},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function(t,r,i,a,s,l,v,w,S,_,A){function D(t,e){try{t.addClass(e)}catch(n){}}function M(t,e,n,r,i){t instanceof _r||(t=_r(t)),o(t,function(e,n){e.nodeType==Kr&&e.nodeValue.match(/\S+/)&&(t[n]=_r(e).wrap("<span></span>").parent()[0])});var a=P(t,e,t,n,r,i);M.$$addScopeClass(t);var s=null;return function(e,n,r){ct(e,"scope"),r=r||{};var i=r.parentBoundTranscludeFn,o=r.transcludeControllers,l=r.futureParentElement;i&&i.$$boundTransclude&&(i=i.$$boundTransclude),s||(s=R(l));var u;if(u="html"!==s?_r(J(s,_r("<div>").append(t).html())):n?pi.clone.call(t):t,o)for(var c in o)u.data("$"+c+"Controller",o[c].instance);return M.$$addScopeInfo(u,e),n&&n(u,e),a&&a(e,u,u,i),u}}function R(t){var e=t&&t[0];return e&&"foreignobject"!==N(e)&&e.toString().match(/SVG/)?"svg":"html"}function P(t,e,r,i,o,a){function s(t,r,i,o){var a,s,l,u,c,h,f,d,m;if(p){var v=r.length;for(m=new Array(v),c=0;c<g.length;c+=3)f=g[c],m[f]=r[f]}else m=r;for(c=0,h=g.length;h>c;)if(l=m[g[c++]],a=g[c++],s=g[c++],a){if(a.scope){u=t.$new(),M.$$addScopeInfo(_r(l),u);var y=a.$$destroyBindings;y&&(a.$$destroyBindings=null,u.$on("$destroyed",y))}else u=t;d=a.transcludeOnThisElement?O(t,a.transclude,o):!a.templateOnThisElement&&o?o:!o&&e?O(t,e):null,a(s,u,l,i,d,a)}else s&&s(t,l.childNodes,n,o)}for(var l,u,c,h,f,d,p,g=[],m=0;m<t.length;m++)l=new ot,u=L(t[m],[],l,0===m?i:n,o),c=u.length?F(u,t[m],l,e,r,null,[],[],a):null,c&&c.scope&&M.$$addScopeClass(l.$$element),f=c&&c.terminal||!(h=t[m].childNodes)||!h.length?null:P(h,c?(c.transcludeOnThisElement||!c.templateOnThisElement)&&c.transclude:e),(c||f)&&(g.push(m,c,f),d=!0,p=p||c),a=null;return d?s:null}function O(t,e,n){var r=function(r,i,o,a,s){return r||(r=t.$new(!1,s),r.$$transcluded=!0),e(r,i,{parentBoundTranscludeFn:n,transcludeControllers:o,futureParentElement:a})};return r}function L(t,e,n,r,i){var o,a,s=t.nodeType,l=n.$attr;switch(s){case Xr:z(e,ue(N(t)),"E",r,i);for(var u,c,h,p,g,m,v=t.attributes,y=0,w=v&&v.length;w>y;y++){var x=!1,T=!1;u=v[y],c=u.name,g=Vr(u.value),p=ue(c),(m=ht.test(p))&&(c=c.replace(Mi,"").substr(8).replace(/_(.)/g,function(t,e){return e.toUpperCase()}));var E=p.replace(/(Start|End)$/,"");W(E)&&p===E+"Start"&&(x=c,T=c.substr(0,c.length-5)+"end",c=c.substr(0,c.length-6)),h=ue(c.toLowerCase()),l[h]=c,(m||!n.hasOwnProperty(h))&&(n[h]=g,jt(t,h)&&(n[h]=!0)),tt(t,e,g,h,m),z(e,h,"A",r,i,x,T)}if(a=t.className,b(a)&&(a=a.animVal),C(a)&&""!==a)for(;o=d.exec(a);)h=ue(o[2]),z(e,h,"C",r,i)&&(n[h]=Vr(o[3])),a=a.substr(o.index+o[0].length);break;case Kr:if(11===Sr)for(;t.parentNode&&t.nextSibling&&t.nextSibling.nodeType===Kr;)t.nodeValue=t.nodeValue+t.nextSibling.nodeValue,t.parentNode.removeChild(t.nextSibling);K(e,t.nodeValue);break;case Zr:try{o=f.exec(t.nodeValue),o&&(h=ue(o[1]),z(e,h,"M",r,i)&&(n[h]=Vr(o[2])))}catch(k){}}return e.sort(X),e}function I(t,e,n){var r=[],i=0;if(e&&t.hasAttribute&&t.hasAttribute(e)){do{if(!t)throw Di("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",e,n);t.nodeType==Xr&&(t.hasAttribute(e)&&i++,t.hasAttribute(n)&&i--),r.push(t),t=t.nextSibling}while(i>0)}else r.push(t);return _r(r)}function H(t,e,n){return function(r,i,o,a,s){return i=I(i[0],e,n),t(r,i,o,a,s)}}function F(t,r,o,a,s,u,c,h,f){function d(t,e,n,r){t&&(n&&(t=H(t,n,r)),t.require=y.require,t.directiveName=w,(D===y||y.$$isolateScope)&&(t=nt(t,{isolateScope:!0})),c.push(t)),e&&(n&&(e=H(e,n,r)),e.require=y.require,e.directiveName=w,(D===y||y.$$isolateScope)&&(e=nt(e,{isolateScope:!0})),h.push(e))}function p(t,e,n,r){var i;if(C(e)){var o=e.match(x),a=e.substring(o[0].length),s=o[1]||o[3],l="?"===o[2];if("^^"===s?n=n.parent():(i=r&&r[a],i=i&&i.instance),!i){var u="$"+a+"Controller";i=s?n.inheritedData(u):n.data(u)}if(!i&&!l)throw Di("ctreq","Controller '{0}', required by directive '{1}', can't be found!",a,t)}else if(Hr(e)){i=[];for(var c=0,h=e.length;h>c;c++)i[c]=p(t,e[c],n,r)}return i||null}function g(t,e,n,r,i,o){var a=gt();for(var s in r){var u=r[s],c={$scope:u===D||u.$$isolateScope?i:o,$element:t,$attrs:e,$transclude:n},h=u.controller;"@"==h&&(h=e[u.name]);var f=l(h,c,!0,u.controllerAs);a[u.name]=f,B||t.data("$"+u.name+"Controller",f.instance)}return a}function m(t,e,i,a,s,l){function u(t,e,r){var i;return $(t)||(r=e,e=t,t=n),B&&(i=b),r||(r=B?C.parent():C),s(t,e,i,r,P)}var f,d,m,y,w,b,x,C,T;if(r===i?(T=o,C=o.$$element):(C=_r(i),T=new ot(C,o)),D&&(w=e.$new(!0)),s&&(x=u,x.$$boundTransclude=s),A&&(b=g(C,T,x,A,w,e)),D&&(M.$$addScopeInfo(C,w,!0,!(R&&(R===D||R===D.$$originalDirective))),M.$$addScopeClass(C,!0),w.$$isolateBindings=D.$$isolateBindings,it(e,T,w,w.$$isolateBindings,D,w)),b){var E,k,S=D||v;S&&b[S.name]&&(E=S.$$bindings.bindToController,y=b[S.name],y&&y.identifier&&E&&(k=y,l.$$destroyBindings=it(e,T,y.instance,E,S)));for(f in b){y=b[f];var _=y();_!==y.instance&&(y.instance=_,C.data("$"+f+"Controller",_),y===k&&(l.$$destroyBindings(),l.$$destroyBindings=it(e,T,_,E,S)))}}for(f=0,d=c.length;d>f;f++)m=c[f],rt(m,m.isolateScope?w:e,C,T,m.require&&p(m.directiveName,m.require,C,b),x);var P=e;for(D&&(D.template||null===D.templateUrl)&&(P=w),t&&t(P,i.childNodes,n,s),f=h.length-1;f>=0;f--)m=h[f],rt(m,m.isolateScope?w:e,C,T,m.require&&p(m.directiveName,m.require,C,b),x)}f=f||{};for(var v,y,w,T,E,S,_=-Number.MAX_VALUE,A=f.controllerDirectives,D=f.newIsolateScopeDirective,R=f.templateDirective,P=f.nonTlbTranscludeDirective,O=!1,N=!1,B=f.hasElementTranscludeDirective,F=o.$$element=_r(r),V=u,z=a,W=0,X=t.length;X>W;W++){y=t[W];var K=y.$$start,Q=y.$$end;if(K&&(F=I(r,K,Q)),T=n,_>y.priority)break;if((S=y.scope)&&(y.templateUrl||(b(S)?(G("new/isolated scope",D||v,y,F),D=y):G("new/isolated scope",D,y,F)),v=v||y),w=y.name,!y.templateUrl&&y.controller&&(S=y.controller,A=A||gt(),G("'"+w+"' controller",A[w],y,F),A[w]=y),(S=y.transclude)&&(O=!0,y.$$tlb||(G("transclusion",P,y,F),
P=y),"element"==S?(B=!0,_=y.priority,T=F,F=o.$$element=_r(e.createComment(" "+w+": "+o[w]+" ")),r=F[0],et(s,j(T),r),z=M(T,a,_,V&&V.name,{nonTlbTranscludeDirective:P})):(T=_r($t(r)).contents(),F.empty(),z=M(T,a))),y.template)if(N=!0,G("template",R,y,F),R=y,S=k(y.template)?y.template(F,o):y.template,S=ut(S),y.replace){if(V=y,T=Ct(S)?[]:he(J(y.templateNamespace,Vr(S))),r=T[0],1!=T.length||r.nodeType!==Xr)throw Di("tplrt","Template for directive '{0}' must have exactly one root element. {1}",w,"");et(s,F,r);var tt={$attr:{}},at=L(r,[],tt),st=t.splice(W+1,t.length-(W+1));D&&q(at),t=t.concat(at).concat(st),U(o,tt),X=t.length}else F.html(S);if(y.templateUrl)N=!0,G("template",R,y,F),R=y,y.replace&&(V=y),m=Y(t.splice(W,t.length-W),F,o,s,O&&z,c,h,{controllerDirectives:A,newIsolateScopeDirective:D,templateDirective:R,nonTlbTranscludeDirective:P}),X=t.length;else if(y.compile)try{E=y.compile(F,o,z),k(E)?d(null,E,K,Q):E&&d(E.pre,E.post,K,Q)}catch(lt){i(lt,Z(F))}y.terminal&&(m.terminal=!0,_=Math.max(_,y.priority))}return m.scope=v&&v.scope===!0,m.transcludeOnThisElement=O,m.templateOnThisElement=N,m.transclude=z,f.hasElementTranscludeDirective=B,m}function q(t){for(var e=0,n=t.length;n>e;e++)t[e]=p(t[e],{$$isolateScope:!0})}function z(e,r,o,a,s,l,h){if(r===s)return null;var f=null;if(u.hasOwnProperty(r))for(var d,g=t.get(r+c),m=0,v=g.length;v>m;m++)try{d=g[m],(a===n||a>d.priority)&&-1!=d.restrict.indexOf(o)&&(l&&(d=p(d,{$$start:l,$$end:h})),e.push(d),f=d)}catch(y){i(y)}return f}function W(e){if(u.hasOwnProperty(e))for(var n,r=t.get(e+c),i=0,o=r.length;o>i;i++)if(n=r[i],n.multiElement)return!0;return!1}function U(t,e){var n=e.$attr,r=t.$attr,i=t.$$element;o(t,function(r,i){"$"!=i.charAt(0)&&(e[i]&&e[i]!==r&&(r+=("style"===i?";":" ")+e[i]),t.$set(i,r,!0,n[i]))}),o(e,function(e,o){"class"==o?(D(i,e),t["class"]=(t["class"]?t["class"]+" ":"")+e):"style"==o?(i.attr("style",i.attr("style")+";"+e),t.style=(t.style?t.style+";":"")+e):"$"==o.charAt(0)||t.hasOwnProperty(o)||(t[o]=e,r[o]=n[o])})}function Y(t,e,n,r,i,s,l,u){var c,h,f=[],d=e[0],g=t.shift(),m=p(g,{templateUrl:null,transclude:null,replace:null,$$originalDirective:g}),v=k(g.templateUrl)?g.templateUrl(e,n):g.templateUrl,y=g.templateNamespace;return e.empty(),a(S.getTrustedResourceUrl(v)).then(function(a){var p,w,x,C;if(a=ut(a),g.replace){if(x=Ct(a)?[]:he(J(y,Vr(a))),p=x[0],1!=x.length||p.nodeType!==Xr)throw Di("tplrt","Template for directive '{0}' must have exactly one root element. {1}",g.name,v);w={$attr:{}},et(r,e,p);var T=L(p,[],w);b(g.scope)&&q(T),t=T.concat(t),U(n,w)}else p=d,e.html(a);for(t.unshift(m),c=F(t,p,n,i,e,g,s,l,u),o(r,function(t,n){t==p&&(r[n]=e[0])}),h=P(e[0].childNodes,i);f.length;){var E=f.shift(),k=f.shift(),S=f.shift(),_=f.shift(),$=e[0];if(!E.$$destroyed){if(k!==d){var A=k.className;u.hasElementTranscludeDirective&&g.replace||($=$t(p)),et(S,_r(k),$),D(_r($),A)}C=c.transcludeOnThisElement?O(E,c.transclude,_):_,c(h,E,$,r,C,c)}}f=null}),function(t,e,n,r,i){var o=i;e.$$destroyed||(f?f.push(e,n,r,o):(c.transcludeOnThisElement&&(o=O(e,c.transclude,i)),c(h,e,n,r,o,c)))}}function X(t,e){var n=e.priority-t.priority;return 0!==n?n:t.name!==e.name?t.name<e.name?-1:1:t.index-e.index}function G(t,e,n,r){function i(t){return t?" (module: "+t+")":""}if(e)throw Di("multidir","Multiple directives [{0}{1}, {2}{3}] asking for {4} on: {5}",e.name,i(e.$$moduleName),n.name,i(n.$$moduleName),t,Z(r))}function K(t,e){var n=r(e,!0);n&&t.push({priority:0,compile:function(t){var e=t.parent(),r=!!e.length;return r&&M.$$addBindingClass(e),function(t,e){var i=e.parent();r||M.$$addBindingClass(i),M.$$addBindingInfo(i,n.expressions),t.$watch(n,function(t){e[0].nodeValue=t})}}})}function J(t,n){switch(t=xr(t||"html")){case"svg":case"math":var r=e.createElement("div");return r.innerHTML="<"+t+">"+n+"</"+t+">",r.childNodes[0].childNodes;default:return n}}function Q(t,e){if("srcdoc"==e)return S.HTML;var n=N(t);return"xlinkHref"==e||"form"==n&&"action"==e||"img"!=n&&("src"==e||"ngSrc"==e)?S.RESOURCE_URL:void 0}function tt(t,e,n,i,o){var a=Q(t,i);o=y[i]||o;var s=r(n,!0,a,o);if(s){if("multiple"===i&&"select"===N(t))throw Di("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",Z(t));e.push({priority:100,compile:function(){return{pre:function(t,e,l){var u=l.$$observers||(l.$$observers={});if(T.test(i))throw Di("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var c=l[i];c!==n&&(s=c&&r(c,!0,a,o),n=c),s&&(l[i]=s(t),(u[i]||(u[i]=[])).$$inter=!0,(l.$$observers&&l.$$observers[i].$$scope||t).$watch(s,function(t,e){"class"===i&&t!=e?l.$updateClass(t,e):l.$set(i,t)}))}}}})}}function et(t,n,r){var i,o,a=n[0],s=n.length,l=a.parentNode;if(t)for(i=0,o=t.length;o>i;i++)if(t[i]==a){t[i++]=r;for(var u=i,c=u+s-1,h=t.length;h>u;u++,c++)h>c?t[u]=t[c]:delete t[u];t.length-=s-1,t.context===a&&(t.context=r);break}l&&l.replaceChild(r,a);var f=e.createDocumentFragment();f.appendChild(a),_r.hasData(a)&&(_r(r).data(_r(a).data()),$r?(Br=!0,$r.cleanData([a])):delete _r.cache[a[_r.expando]]);for(var d=1,p=n.length;p>d;d++){var g=n[d];_r(g).remove(),f.appendChild(g),delete n[d]}n[0]=r,n.length=1}function nt(t,e){return h(function(){return t.apply(null,arguments)},t,e)}function rt(t,e,n,r,o,a){try{t(e,n,r,o,a)}catch(s){i(s,Z(n))}}function it(t,e,i,a,l,u){var c;o(a,function(o,a){var u,h,f,d,p=o.attrName,m=o.optional,v=o.mode;switch(Cr.call(e,p)||(e[p]=n),v){case"@":e[p]||m||(i[a]=n),e.$observe(p,function(t){i[a]=t}),e.$$observers[p].$$scope=t,e[p]&&(i[a]=r(e[p])(t));break;case"=":if(m&&!e[p])return;h=s(e[p]),d=h.literal?V:function(t,e){return t===e||t!==t&&e!==e},f=h.assign||function(){throw u=i[a]=h(t),Di("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",e[p],l.name)},u=i[a]=h(t);var y=function(e){return d(e,i[a])||(d(e,u)?f(t,e=i[a]):i[a]=e),u=e};y.$stateful=!0;var w;w=o.collection?t.$watchCollection(e[p],y):t.$watch(s(e[p],y),null,h.literal),c=c||[],c.push(w);break;case"&":if(h=s(e[p]),h===g&&m)break;i[a]=function(e){return h(t,e)}}});var h=c?function(){for(var t=0,e=c.length;e>t;++t)c[t]()}:g;return u&&h!==g?(u.$on("$destroy",h),g):h}var ot=function(t,e){if(e){var n,r,i,o=Object.keys(e);for(n=0,r=o.length;r>n;n++)i=o[n],this[i]=e[i]}else this.$attr={};this.$$element=t};ot.prototype={$normalize:ue,$addClass:function(t){t&&t.length>0&&_.addClass(this.$$element,t)},$removeClass:function(t){t&&t.length>0&&_.removeClass(this.$$element,t)},$updateClass:function(t,e){var n=ce(t,e);n&&n.length&&_.addClass(this.$$element,n);var r=ce(e,t);r&&r.length&&_.removeClass(this.$$element,r)},$set:function(t,e,r,a){var s,l=this.$$element[0],u=jt(l,t),c=zt(l,t),h=t;if(u?(this.$$element.prop(t,e),a=u):c&&(this[c]=e,h=c),this[t]=e,a?this.$attr[t]=a:(a=this.$attr[t],a||(this.$attr[t]=a=lt(t,"-"))),s=N(this.$$element),"a"===s&&"href"===t||"img"===s&&"src"===t)this[t]=e=A(e,"src"===t);else if("img"===s&&"srcset"===t){for(var f="",d=Vr(e),p=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,g=/\s/.test(d)?p:/(,)/,m=d.split(g),v=Math.floor(m.length/2),y=0;v>y;y++){var w=2*y;f+=A(Vr(m[w]),!0),f+=" "+Vr(m[w+1])}var b=Vr(m[2*y]).split(/\s/);f+=A(Vr(b[0]),!0),2===b.length&&(f+=" "+Vr(b[1])),this[t]=e=f}r!==!1&&(null===e||e===n?this.$$element.removeAttr(a):this.$$element.attr(a,e));var x=this.$$observers;x&&o(x[h],function(t){try{t(e)}catch(n){i(n)}})},$observe:function(t,e){var n=this,r=n.$$observers||(n.$$observers=gt()),i=r[t]||(r[t]=[]);return i.push(e),v.$evalAsync(function(){!i.$$inter&&n.hasOwnProperty(t)&&e(n[t])}),function(){B(i,e)}}};var at=r.startSymbol(),st=r.endSymbol(),ut="{{"==at||"}}"==st?m:function(t){return t.replace(/\{\{/g,at).replace(/}}/g,st)},ht=/^ngAttr[A-Z]/;return M.$$addBindingInfo=E?function(t,e){var n=t.data("$binding")||[];Hr(e)?n=n.concat(e):n.push(e),t.data("$binding",n)}:g,M.$$addBindingClass=E?function(t){D(t,"ng-binding")}:g,M.$$addScopeInfo=E?function(t,e,n,r){var i=n?r?"$isolateScopeNoTemplate":"$isolateScope":"$scope";t.data(i,e)}:g,M.$$addScopeClass=E?function(t,e){D(t,e?"ng-isolate-scope":"ng-scope")}:g,M}]}function ue(t){return xt(t.replace(Mi,""))}function ce(t,e){var n="",r=t.split(/\s+/),i=e.split(/\s+/);t:for(var o=0;o<r.length;o++){for(var a=r[o],s=0;s<i.length;s++)if(a==i[s])continue t;n+=(n.length>0?" ":"")+a}return n}function he(t){t=_r(t);var e=t.length;if(1>=e)return t;for(;e--;){var n=t[e];n.nodeType===Zr&&Mr.call(t,e,1)}return t}function fe(t,e){if(e&&C(e))return e;if(C(t)){var n=Pi.exec(t);if(n)return n[3]}}function de(){var t={},e=!1;this.register=function(e,n){ft(e,"controller"),b(e)?h(t,e):t[e]=n},this.allowGlobals=function(){e=!0},this.$get=["$injector","$window",function(i,o){function a(t,e,n,i){if(!t||!b(t.$scope))throw r("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",i,e);t.$scope[e]=n}return function(r,s,l,u){var c,f,d,p;if(l=l===!0,u&&C(u)&&(p=u),C(r)){if(f=r.match(Pi),!f)throw Ri("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",r);d=f[1],p=p||f[3],r=t.hasOwnProperty(d)?t[d]:dt(s.$scope,d,!0)||(e?dt(o,d,!0):n),ht(r,d,!0)}if(l){var g=(Hr(r)?r[r.length-1]:r).prototype;c=Object.create(g||null),p&&a(s,p,c,d||r.name);var m;return m=h(function(){var t=i.invoke(r,c,s,d);return t!==c&&(b(t)||k(t))&&(c=t,p&&a(s,p,c,d||r.name)),c},{instance:c,identifier:p})}return c=i.instantiate(r,s,d),p&&a(s,p,c,d||r.name),c}}]}function pe(){this.$get=["$window",function(t){return _r(t.document)}]}function ge(){this.$get=["$log",function(t){return function(e,n){t.error.apply(t,arguments)}}]}function me(t){return b(t)?E(t)?t.toISOString():U(t):t}function ve(){this.$get=function(){return function(t){if(!t)return"";var e=[];return a(t,function(t,n){null===t||y(t)||(Hr(t)?o(t,function(t,r){e.push(nt(n)+"="+nt(me(t)))}):e.push(nt(n)+"="+nt(me(t))))}),e.join("&")}}}function ye(){this.$get=function(){return function(t){function e(t,r,i){null===t||y(t)||(Hr(t)?o(t,function(t){e(t,r+"[]")}):b(t)&&!E(t)?a(t,function(t,n){e(t,r+(i?"":"[")+n+(i?"":"]"))}):n.push(nt(r)+"="+nt(me(t))))}if(!t)return"";var n=[];return e(t,"",!0),n.join("&")}}}function we(t,e){if(C(t)){var n=t.replace(Bi,"").trim();if(n){var r=e("Content-Type");(r&&0===r.indexOf(Oi)||be(n))&&(t=Y(n))}}return t}function be(t){var e=t.match(Ii);return e&&Ni[e[0]].test(t)}function xe(t){function e(t,e){t&&(r[t]=r[t]?r[t]+", "+e:e)}var n,r=gt();return C(t)?o(t.split("\n"),function(t){n=t.indexOf(":"),e(xr(Vr(t.substr(0,n))),Vr(t.substr(n+1)))}):b(t)&&o(t,function(t,n){e(xr(n),Vr(t))}),r}function Ce(t){var e;return function(n){if(e||(e=xe(t)),n){var r=e[xr(n)];return void 0===r&&(r=null),r}return e}}function Te(t,e,n,r){return k(r)?r(t,e,n):(o(r,function(r){t=r(t,e,n)}),t)}function Ee(t){return t>=200&&300>t}function ke(){var t=this.defaults={transformResponse:[we],transformRequest:[function(t){return!b(t)||A(t)||M(t)||D(t)?t:U(t)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:F(Li),put:F(Li),patch:F(Li)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",paramSerializer:"$httpParamSerializer"},e=!1;this.useApplyAsync=function(t){return w(t)?(e=!!t,this):e};var i=this.interceptors=[];this.$get=["$httpBackend","$$cookieReader","$cacheFactory","$rootScope","$q","$injector",function(a,s,l,u,c,f){function d(e){function i(t){var e=h({},t);return e.data=t.data?Te(t.data,t.headers,t.status,l.transformResponse):t.data,Ee(t.status)?e:c.reject(e)}function a(t,e){var n,r={};return o(t,function(t,i){k(t)?(n=t(e),null!=n&&(r[i]=n)):r[i]=t}),r}function s(e){var n,r,i,o=t.headers,s=h({},e.headers);o=h({},o.common,o[xr(e.method)]);t:for(n in o){r=xr(n);for(i in s)if(xr(i)===r)continue t;s[n]=o[n]}return a(s,F(e))}if(!Ir.isObject(e))throw r("$http")("badreq","Http request configuration must be an object.  Received: {0}",e);var l=h({method:"get",transformRequest:t.transformRequest,transformResponse:t.transformResponse,paramSerializer:t.paramSerializer},e);l.headers=s(e),l.method=Tr(l.method),l.paramSerializer=C(l.paramSerializer)?f.get(l.paramSerializer):l.paramSerializer;var u=function(e){var r=e.headers,a=Te(e.data,Ce(r),n,e.transformRequest);return y(a)&&o(r,function(t,e){"content-type"===xr(e)&&delete r[e]}),y(e.withCredentials)&&!y(t.withCredentials)&&(e.withCredentials=t.withCredentials),m(e,a).then(i,i)},d=[u,n],p=c.when(l);for(o(T,function(t){(t.request||t.requestError)&&d.unshift(t.request,t.requestError),(t.response||t.responseError)&&d.push(t.response,t.responseError)});d.length;){var g=d.shift(),v=d.shift();p=p.then(g,v)}return p.success=function(t){return ht(t,"fn"),p.then(function(e){t(e.data,e.status,e.headers,l)}),p},p.error=function(t){return ht(t,"fn"),p.then(null,function(e){t(e.data,e.status,e.headers,l)}),p},p}function p(t){o(arguments,function(t){d[t]=function(e,n){return d(h({},n||{},{method:t,url:e}))}})}function g(t){o(arguments,function(t){d[t]=function(e,n,r){return d(h({},r||{},{method:t,url:e,data:n}))}})}function m(r,i){function o(t,n,r,i){function o(){l(n,t,r,i)}p&&(Ee(t)?p.put(E,[t,n,xe(r),i]):p.remove(E)),e?u.$applyAsync(o):(o(),u.$$phase||u.$apply())}function l(t,e,n,i){e=Math.max(e,0),(Ee(e)?m.resolve:m.reject)({data:t,status:e,headers:Ce(n),config:r,statusText:i})}function h(t){l(t.data,t.status,F(t.headers()),t.statusText)}function f(){var t=d.pendingRequests.indexOf(r);-1!==t&&d.pendingRequests.splice(t,1)}var p,g,m=c.defer(),C=m.promise,T=r.headers,E=v(r.url,r.paramSerializer(r.params));if(d.pendingRequests.push(r),C.then(f,f),!r.cache&&!t.cache||r.cache===!1||"GET"!==r.method&&"JSONP"!==r.method||(p=b(r.cache)?r.cache:b(t.cache)?t.cache:x),p&&(g=p.get(E),w(g)?P(g)?g.then(h,h):Hr(g)?l(g[1],g[0],F(g[2]),g[3]):l(g,200,{},"OK"):p.put(E,C)),y(g)){var k=_n(r.url)?s()[r.xsrfCookieName||t.xsrfCookieName]:n;k&&(T[r.xsrfHeaderName||t.xsrfHeaderName]=k),a(r.method,E,i,o,T,r.timeout,r.withCredentials,r.responseType)}return C}function v(t,e){return e.length>0&&(t+=(-1==t.indexOf("?")?"?":"&")+e),t}var x=l("$http");t.paramSerializer=C(t.paramSerializer)?f.get(t.paramSerializer):t.paramSerializer;var T=[];return o(i,function(t){T.unshift(C(t)?f.get(t):f.invoke(t))}),d.pendingRequests=[],p("get","delete","head","jsonp"),g("post","put","patch"),d.defaults=t,d}]}function Se(){return new t.XMLHttpRequest}function _e(){this.$get=["$browser","$window","$document",function(t,e,n){return $e(t,Se,t.defer,e.angular.callbacks,n[0])}]}function $e(t,e,r,i,a){function s(t,e,n){var r=a.createElement("script"),o=null;return r.type="text/javascript",r.src=t,r.async=!0,o=function(t){ii(r,"load",o),ii(r,"error",o),a.body.removeChild(r),r=null;var s=-1,l="unknown";t&&("load"!==t.type||i[e].called||(t={type:"error"}),l=t.type,s="error"===t.type?404:200),n&&n(s,l)},ri(r,"load",o),ri(r,"error",o),a.body.appendChild(r),o}return function(a,l,u,c,h,f,d,p){function m(){b&&b(),x&&x.abort()}function v(e,i,o,a,s){E!==n&&r.cancel(E),b=x=null,e(i,o,a,s),t.$$completeOutstandingRequest(g)}if(t.$$incOutstandingRequestCount(),l=l||t.url(),"jsonp"==xr(a)){var y="_"+(i.counter++).toString(36);i[y]=function(t){i[y].data=t,i[y].called=!0};var b=s(l.replace("JSON_CALLBACK","angular.callbacks."+y),y,function(t,e){v(c,t,i[y].data,"",e),i[y]=g})}else{var x=e();x.open(a,l,!0),o(h,function(t,e){w(t)&&x.setRequestHeader(e,t)}),x.onload=function(){var t=x.statusText||"",e="response"in x?x.response:x.responseText,n=1223===x.status?204:x.status;0===n&&(n=e?200:"file"==Sn(l).protocol?404:0),v(c,n,e,x.getAllResponseHeaders(),t)};var C=function(){v(c,-1,null,null,"")};if(x.onerror=C,x.onabort=C,d&&(x.withCredentials=!0),p)try{x.responseType=p}catch(T){if("json"!==p)throw T}x.send(u)}if(f>0)var E=r(m,f);else P(f)&&f.then(m)}}function Ae(){var t="{{",e="}}";this.startSymbol=function(e){return e?(t=e,this):t},this.endSymbol=function(t){return t?(e=t,this):e},this.$get=["$parse","$exceptionHandler","$sce",function(n,r,i){function o(t){return"\\\\\\"+t}function a(n){return n.replace(f,t).replace(d,e)}function s(t){if(null==t)return"";switch(typeof t){case"string":break;case"number":t=""+t;break;default:t=U(t)}return t}function l(o,l,f,d){function p(t){try{return t=$(t),d&&!w(t)?t:s(t)}catch(e){r(Hi.interr(o,e))}}d=!!d;for(var g,m,v,b=0,x=[],C=[],T=o.length,E=[],S=[];T>b;){if(-1==(g=o.indexOf(t,b))||-1==(m=o.indexOf(e,g+u))){b!==T&&E.push(a(o.substring(b)));break}b!==g&&E.push(a(o.substring(b,g))),v=o.substring(g+u,m),x.push(v),C.push(n(v,p)),b=m+c,S.push(E.length),E.push("")}if(f&&E.length>1&&Hi.throwNoconcat(o),!l||x.length){var _=function(t){for(var e=0,n=x.length;n>e;e++){if(d&&y(t[e]))return;E[S[e]]=t[e]}return E.join("")},$=function(t){return f?i.getTrusted(f,t):i.valueOf(t)};return h(function(t){var e=0,n=x.length,i=new Array(n);try{for(;n>e;e++)i[e]=C[e](t);return _(i)}catch(a){r(Hi.interr(o,a))}},{exp:o,expressions:x,$$watchDelegate:function(t,e){var n;return t.$watchGroup(C,function(r,i){var o=_(r);k(e)&&e.call(this,o,r!==i?n:o,t),n=o})}})}}var u=t.length,c=e.length,f=new RegExp(t.replace(/./g,o),"g"),d=new RegExp(e.replace(/./g,o),"g");return l.startSymbol=function(){return t},l.endSymbol=function(){return e},l}]}function De(){this.$get=["$rootScope","$window","$q","$$q",function(t,e,n,r){function i(i,a,s,l){var u=arguments.length>4,c=u?j(arguments,4):[],h=e.setInterval,f=e.clearInterval,d=0,p=w(l)&&!l,g=(p?r:n).defer(),m=g.promise;return s=w(s)?s:0,m.then(null,null,u?function(){i.apply(null,c)}:i),m.$$intervalId=h(function(){g.notify(d++),s>0&&d>=s&&(g.resolve(d),f(m.$$intervalId),delete o[m.$$intervalId]),p||t.$apply()},a),o[m.$$intervalId]=g,m}var o={};return i.cancel=function(t){return t&&t.$$intervalId in o?(o[t.$$intervalId].reject("canceled"),e.clearInterval(t.$$intervalId),delete o[t.$$intervalId],!0):!1},i}]}function Me(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a",ERANAMES:["Before Christ","Anno Domini"],ERAS:["BC","AD"]},pluralCat:function(t){return 1===t?"one":"other"}}}}function Re(t){for(var e=t.split("/"),n=e.length;n--;)e[n]=et(e[n]);return e.join("/")}function Pe(t,e){var n=Sn(t);e.$$protocol=n.protocol,e.$$host=n.hostname,e.$$port=d(n.port)||Vi[n.protocol]||null}function Oe(t,e){var n="/"!==t.charAt(0);n&&(t="/"+t);var r=Sn(t);e.$$path=decodeURIComponent(n&&"/"===r.pathname.charAt(0)?r.pathname.substring(1):r.pathname),e.$$search=Q(r.search),e.$$hash=decodeURIComponent(r.hash),e.$$path&&"/"!=e.$$path.charAt(0)&&(e.$$path="/"+e.$$path)}function Le(t,e){return 0===e.indexOf(t)?e.substr(t.length):void 0}function Ie(t){var e=t.indexOf("#");return-1==e?t:t.substr(0,e)}function Ne(t){return t.replace(/(#.+)|#$/,"$1")}function Be(t){return t.substr(0,Ie(t).lastIndexOf("/")+1)}function He(t){return t.substring(0,t.indexOf("/",t.indexOf("//")+2))}function Fe(t,e){this.$$html5=!0,e=e||"";var r=Be(t);Pe(t,this),this.$$parse=function(t){var e=Le(r,t);if(!C(e))throw qi("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',t,r);Oe(e,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var t=tt(this.$$search),e=this.$$hash?"#"+et(this.$$hash):"";this.$$url=Re(this.$$path)+(t?"?"+t:"")+e,this.$$absUrl=r+this.$$url.substr(1)},this.$$parseLinkUrl=function(i,o){if(o&&"#"===o[0])return this.hash(o.slice(1)),!0;var a,s,l;return(a=Le(t,i))!==n?(s=a,l=(a=Le(e,a))!==n?r+(Le("/",a)||a):t+s):(a=Le(r,i))!==n?l=r+a:r==i+"/"&&(l=r),l&&this.$$parse(l),!!l}}function Ve(t,e){var n=Be(t);Pe(t,this),this.$$parse=function(r){function i(t,e,n){var r,i=/^\/[A-Z]:(\/.*)/;return 0===e.indexOf(n)&&(e=e.replace(n,"")),i.exec(e)?t:(r=i.exec(t),r?r[1]:t)}var o,a=Le(t,r)||Le(n,r);"#"===a.charAt(0)?(o=Le(e,a),y(o)&&(o=a)):o=this.$$html5?a:"",Oe(o,this),this.$$path=i(this.$$path,o,t),this.$$compose()},this.$$compose=function(){var n=tt(this.$$search),r=this.$$hash?"#"+et(this.$$hash):"";this.$$url=Re(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+(this.$$url?e+this.$$url:"")},this.$$parseLinkUrl=function(e,n){return Ie(t)==Ie(e)?(this.$$parse(e),!0):!1}}function qe(t,e){this.$$html5=!0,Ve.apply(this,arguments);var n=Be(t);this.$$parseLinkUrl=function(r,i){if(i&&"#"===i[0])return this.hash(i.slice(1)),!0;var o,a;return t==Ie(r)?o=r:(a=Le(n,r))?o=t+e+a:n===r+"/"&&(o=n),o&&this.$$parse(o),!!o},this.$$compose=function(){var n=tt(this.$$search),r=this.$$hash?"#"+et(this.$$hash):"";this.$$url=Re(this.$$path)+(n?"?"+n:"")+r,this.$$absUrl=t+e+this.$$url}}function je(t){return function(){return this[t]}}function ze(t,e){return function(n){return y(n)?this[t]:(this[t]=e(n),this.$$compose(),this)}}function We(){var t="",e={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(e){return w(e)?(t=e,this):t},this.html5Mode=function(t){return R(t)?(e.enabled=t,this):b(t)?(R(t.enabled)&&(e.enabled=t.enabled),R(t.requireBase)&&(e.requireBase=t.requireBase),R(t.rewriteLinks)&&(e.rewriteLinks=t.rewriteLinks),this):e},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function(n,r,i,o,a){function s(t,e,n){var i=u.url(),o=u.$$state;try{r.url(t,e,n),u.$$state=r.state()}catch(a){throw u.url(i),u.$$state=o,a}}function l(t,e){n.$broadcast("$locationChangeSuccess",u.absUrl(),t,u.$$state,e)}var u,c,h,f=r.baseHref(),d=r.url();if(e.enabled){if(!f&&e.requireBase)throw qi("nobase","$location in HTML5 mode requires a <base> tag to be present!");h=He(d)+(f||"/"),c=i.history?Fe:qe}else h=Ie(d),c=Ve;u=new c(h,"#"+t),u.$$parseLinkUrl(d,d),u.$$state=r.state();var p=/^\s*(javascript|mailto):/i;o.on("click",function(t){if(e.rewriteLinks&&!t.ctrlKey&&!t.metaKey&&!t.shiftKey&&2!=t.which&&2!=t.button){for(var i=_r(t.target);"a"!==N(i[0]);)if(i[0]===o[0]||!(i=i.parent())[0])return;var s=i.prop("href"),l=i.attr("href")||i.attr("xlink:href");b(s)&&"[object SVGAnimatedString]"===s.toString()&&(s=Sn(s.animVal).href),p.test(s)||!s||i.attr("target")||t.isDefaultPrevented()||u.$$parseLinkUrl(s,l)&&(t.preventDefault(),u.absUrl()!=r.url()&&(n.$apply(),a.angular["ff-684208-preventDefault"]=!0))}}),Ne(u.absUrl())!=Ne(d)&&r.url(u.absUrl(),!0);var g=!0;return r.onUrlChange(function(t,e){n.$evalAsync(function(){var r,i=u.absUrl(),o=u.$$state;u.$$parse(t),u.$$state=e,r=n.$broadcast("$locationChangeStart",t,i,e,o).defaultPrevented,u.absUrl()===t&&(r?(u.$$parse(i),u.$$state=o,s(i,!1,o)):(g=!1,l(i,o)))}),n.$$phase||n.$digest()}),n.$watch(function(){var t=Ne(r.url()),e=Ne(u.absUrl()),o=r.state(),a=u.$$replace,c=t!==e||u.$$html5&&i.history&&o!==u.$$state;(g||c)&&(g=!1,n.$evalAsync(function(){var e=u.absUrl(),r=n.$broadcast("$locationChangeStart",e,t,u.$$state,o).defaultPrevented;u.absUrl()===e&&(r?(u.$$parse(t),u.$$state=o):(c&&s(e,a,o===u.$$state?null:u.$$state),l(t,o)))})),u.$$replace=!1}),u}]}function Ue(){var t=!0,e=this;this.debugEnabled=function(e){return w(e)?(t=e,this):t},this.$get=["$window",function(n){function r(t){return t instanceof Error&&(t.stack?t=t.message&&-1===t.stack.indexOf(t.message)?"Error: "+t.message+"\n"+t.stack:t.stack:t.sourceURL&&(t=t.message+"\n"+t.sourceURL+":"+t.line)),t}function i(t){var e=n.console||{},i=e[t]||e.log||g,a=!1;try{a=!!i.apply}catch(s){}return a?function(){var t=[];return o(arguments,function(e){t.push(r(e))}),i.apply(e,t)}:function(t,e){i(t,null==e?"":e)}}return{log:i("log"),info:i("info"),warn:i("warn"),error:i("error"),debug:function(){var n=i("debug");return function(){t&&n.apply(e,arguments)}}()}}]}function Ye(t,e){if("__defineGetter__"===t||"__defineSetter__"===t||"__lookupGetter__"===t||"__lookupSetter__"===t||"__proto__"===t)throw zi("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",e);return t}function Xe(t,e){if(t){if(t.constructor===t)throw zi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t.window===t)throw zi("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",e);if(t.children&&(t.nodeName||t.prop&&t.attr&&t.find))throw zi("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",e);if(t===Object)throw zi("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",e)}return t}function Ge(t,e){if(t){if(t.constructor===t)throw zi("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",e);if(t===Wi||t===Ui||t===Yi)throw zi("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",e)}}function Ke(t,e){return"undefined"!=typeof t?t:e}function Ze(t,e){return"undefined"==typeof t?e:"undefined"==typeof e?t:t+e}function Je(t,e){var n=t(e);return!n.$stateful}function Qe(t,e){var n,r;switch(t.type){case Zi.Program:n=!0,o(t.body,function(t){Qe(t.expression,e),n=n&&t.expression.constant}),t.constant=n;break;case Zi.Literal:t.constant=!0,t.toWatch=[];break;case Zi.UnaryExpression:Qe(t.argument,e),t.constant=t.argument.constant,t.toWatch=t.argument.toWatch;break;case Zi.BinaryExpression:Qe(t.left,e),Qe(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.left.toWatch.concat(t.right.toWatch);break;case Zi.LogicalExpression:Qe(t.left,e),Qe(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=t.constant?[]:[t];break;case Zi.ConditionalExpression:Qe(t.test,e),Qe(t.alternate,e),Qe(t.consequent,e),t.constant=t.test.constant&&t.alternate.constant&&t.consequent.constant,t.toWatch=t.constant?[]:[t];break;case Zi.Identifier:t.constant=!1,t.toWatch=[t];break;case Zi.MemberExpression:Qe(t.object,e),t.computed&&Qe(t.property,e),t.constant=t.object.constant&&(!t.computed||t.property.constant),t.toWatch=[t];break;case Zi.CallExpression:n=t.filter?Je(e,t.callee.name):!1,r=[],o(t.arguments,function(t){Qe(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=t.filter&&Je(e,t.callee.name)?r:[t];break;case Zi.AssignmentExpression:Qe(t.left,e),Qe(t.right,e),t.constant=t.left.constant&&t.right.constant,t.toWatch=[t];break;case Zi.ArrayExpression:n=!0,r=[],o(t.elements,function(t){Qe(t,e),n=n&&t.constant,t.constant||r.push.apply(r,t.toWatch)}),t.constant=n,t.toWatch=r;break;case Zi.ObjectExpression:n=!0,r=[],o(t.properties,function(t){Qe(t.value,e),n=n&&t.value.constant,t.value.constant||r.push.apply(r,t.value.toWatch)}),t.constant=n,t.toWatch=r;break;case Zi.ThisExpression:t.constant=!1,t.toWatch=[]}}function tn(t){if(1==t.length){var e=t[0].expression,r=e.toWatch;return 1!==r.length?r:r[0]!==e?r:n}}function en(t){return t.type===Zi.Identifier||t.type===Zi.MemberExpression}function nn(t){return 1===t.body.length&&en(t.body[0].expression)?{type:Zi.AssignmentExpression,left:t.body[0].expression,right:{type:Zi.NGValueParameter},operator:"="}:void 0}function rn(t){return 0===t.body.length||1===t.body.length&&(t.body[0].expression.type===Zi.Literal||t.body[0].expression.type===Zi.ArrayExpression||t.body[0].expression.type===Zi.ObjectExpression)}function on(t){return t.constant}function an(t,e){this.astBuilder=t,this.$filter=e}function sn(t,e){this.astBuilder=t,this.$filter=e}function ln(t,e,n,r){Xe(t,r);for(var i,o=e.split("."),a=0;o.length>1;a++){i=Ye(o.shift(),r);var s=Xe(t[i],r);s||(s={},t[i]=s),t=s}return i=Ye(o.shift(),r),Xe(t[i],r),t[i]=n,n}function un(t){return"constructor"==t}function cn(t){return k(t.valueOf)?t.valueOf():Qi.call(t)}function hn(){var t=gt(),e=gt();this.$get=["$filter","$sniffer",function(r,i){function a(t,e){return null==t||null==e?t===e:"object"==typeof t&&(t=cn(t),"object"==typeof t)?!1:t===e||t!==t&&e!==e}function s(t,e,r,i,o){var s,l=i.inputs;if(1===l.length){var u=a;return l=l[0],t.$watch(function(t){var e=l(t);return a(e,u)||(s=i(t,n,n,[e]),u=e&&cn(e)),s},e,r,o)}for(var c=[],h=[],f=0,d=l.length;d>f;f++)c[f]=a,h[f]=null;return t.$watch(function(t){for(var e=!1,r=0,o=l.length;o>r;r++){var u=l[r](t);(e||(e=!a(u,c[r])))&&(h[r]=u,c[r]=u&&cn(u))}return e&&(s=i(t,n,n,h)),s},e,r,o)}function l(t,e,n,r){var i,o;return i=t.$watch(function(t){return r(t)},function(t,n,r){o=t,k(e)&&e.apply(this,arguments),w(t)&&r.$$postDigest(function(){w(o)&&i()})},n)}function u(t,e,n,r){function i(t){var e=!0;return o(t,function(t){w(t)||(e=!1)}),e}var a,s;return a=t.$watch(function(t){return r(t)},function(t,n,r){s=t,k(e)&&e.call(this,t,n,r),i(t)&&r.$$postDigest(function(){i(s)&&a()})},n)}function c(t,e,n,r){var i;return i=t.$watch(function(t){return r(t)},function(t,n,r){k(e)&&e.apply(this,arguments),i()},n)}function h(t,e){if(!e)return t;var n=t.$$watchDelegate,r=n!==u&&n!==l,i=r?function(n,r,i,o){var a=t(n,r,i,o);return e(a,n,r)}:function(n,r,i,o){var a=t(n,r,i,o),s=e(a,n,r);return w(a)?s:a};return t.$$watchDelegate&&t.$$watchDelegate!==s?i.$$watchDelegate=t.$$watchDelegate:e.$stateful||(i.$$watchDelegate=s,i.inputs=t.inputs?t.inputs:[t]),i}var f={csp:i.csp,expensiveChecks:!1},d={csp:i.csp,expensiveChecks:!0};return function(n,i,o){var a,p,m;switch(typeof n){case"string":n=n.trim(),m=n;var v=o?e:t;if(a=v[m],!a){":"===n.charAt(0)&&":"===n.charAt(1)&&(p=!0,n=n.substring(2));var y=o?d:f,w=new Ki(y),b=new Ji(w,r,y);a=b.parse(n),a.constant?a.$$watchDelegate=c:p?a.$$watchDelegate=a.literal?u:l:a.inputs&&(a.$$watchDelegate=s),v[m]=a}return h(a,i);case"function":return h(n,i);default:return g}}}]}function fn(){this.$get=["$rootScope","$exceptionHandler",function(t,e){return pn(function(e){t.$evalAsync(e)},e)}]}function dn(){this.$get=["$browser","$exceptionHandler",function(t,e){return pn(function(e){t.defer(e)},e)}]}function pn(t,e){function i(t,e,n){function r(e){return function(n){i||(i=!0,e.call(t,n))}}var i=!1;return[r(e),r(n)]}function a(){this.$$state={status:0}}function s(t,e){return function(n){e.call(t,n)}}function l(t){var r,i,o;o=t.pending,t.processScheduled=!1,t.pending=n;for(var a=0,s=o.length;s>a;++a){i=o[a][0],r=o[a][t.status];try{k(r)?i.resolve(r(t.value)):1===t.status?i.resolve(t.value):i.reject(t.value)}catch(l){i.reject(l),e(l)}}}function u(e){!e.processScheduled&&e.pending&&(e.processScheduled=!0,t(function(){l(e)}))}function c(){this.promise=new a,this.resolve=s(this,this.resolve),this.reject=s(this,this.reject),this.notify=s(this,this.notify)}function h(t){var e=new c,n=0,r=Hr(t)?[]:{};return o(t,function(t,i){n++,v(t).then(function(t){r.hasOwnProperty(i)||(r[i]=t,--n||e.resolve(r))},function(t){r.hasOwnProperty(i)||e.reject(t)})}),0===n&&e.resolve(r),e.promise}var f=r("$q",TypeError),d=function(){return new c};a.prototype={then:function(t,e,n){var r=new c;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([r,t,e,n]),this.$$state.status>0&&u(this.$$state),r.promise},"catch":function(t){return this.then(null,t)},"finally":function(t,e){return this.then(function(e){return m(e,!0,t)},function(e){return m(e,!1,t)},e)}},c.prototype={resolve:function(t){this.promise.$$state.status||(t===this.promise?this.$$reject(f("qcycle","Expected promise to be resolved with value other than itself '{0}'",t)):this.$$resolve(t))},$$resolve:function(t){var n,r;r=i(this,this.$$resolve,this.$$reject);try{(b(t)||k(t))&&(n=t&&t.then),k(n)?(this.promise.$$state.status=-1,n.call(t,r[0],r[1],this.notify)):(this.promise.$$state.value=t,this.promise.$$state.status=1,u(this.promise.$$state))}catch(o){r[1](o),e(o)}},reject:function(t){this.promise.$$state.status||this.$$reject(t)},$$reject:function(t){this.promise.$$state.value=t,this.promise.$$state.status=2,u(this.promise.$$state)},notify:function(n){var r=this.promise.$$state.pending;this.promise.$$state.status<=0&&r&&r.length&&t(function(){
for(var t,i,o=0,a=r.length;a>o;o++){i=r[o][0],t=r[o][3];try{i.notify(k(t)?t(n):n)}catch(s){e(s)}}})}};var p=function(t){var e=new c;return e.reject(t),e.promise},g=function(t,e){var n=new c;return e?n.resolve(t):n.reject(t),n.promise},m=function(t,e,n){var r=null;try{k(n)&&(r=n())}catch(i){return g(i,!1)}return P(r)?r.then(function(){return g(t,e)},function(t){return g(t,!1)}):g(t,e)},v=function(t,e,n,r){var i=new c;return i.resolve(t),i.promise.then(e,n,r)},y=v,w=function x(t){function e(t){r.resolve(t)}function n(t){r.reject(t)}if(!k(t))throw f("norslvr","Expected resolverFn, got '{0}'",t);if(!(this instanceof x))return new x(t);var r=new c;return t(e,n),r.promise};return w.defer=d,w.reject=p,w.when=v,w.resolve=y,w.all=h,w}function gn(){this.$get=["$window","$timeout",function(t,e){function n(){for(var t=0;t<c.length;t++){var e=c[t];e&&(c[t]=null,e())}u=c.length=0}function r(t){var e=c.length;return u++,c.push(t),0===e&&(l=s(n)),function(){e>=0&&(c[e]=null,e=null,0===--u&&l&&(l(),l=null,c.length=0))}}var i=t.requestAnimationFrame||t.webkitRequestAnimationFrame,o=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.webkitCancelRequestAnimationFrame,a=!!i,s=a?function(t){var e=i(t);return function(){o(e)}}:function(t){var n=e(t,16.66,!1);return function(){e.cancel(n)}};r.supported=a;var l,u=0,c=[];return r}]}function mn(){function t(t){function e(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$id=l(),this.$$ChildScope=null}return e.prototype=t,e}var e=10,n=r("$rootScope"),a=null,s=null;this.digestTtl=function(t){return arguments.length&&(e=t),e},this.$get=["$injector","$exceptionHandler","$parse","$browser",function(r,u,c,h){function f(t){t.currentScope.$$destroyed=!0}function d(){this.$id=l(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$watchersCount=0,this.$$isolateBindings=null}function p(t){if(E.$$phase)throw n("inprog","{0} already in progress",E.$$phase);E.$$phase=t}function m(){E.$$phase=null}function v(t,e){do t.$$watchersCount+=e;while(t=t.$parent)}function w(t,e,n){do t.$$listenerCount[n]-=e,0===t.$$listenerCount[n]&&delete t.$$listenerCount[n];while(t=t.$parent)}function x(){}function C(){for(;$.length;)try{$.shift()()}catch(t){u(t)}s=null}function T(){null===s&&(s=h.defer(function(){E.$apply(C)}))}d.prototype={constructor:d,$new:function(e,n){var r;return n=n||this,e?(r=new d,r.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=t(this)),r=new this.$$ChildScope),r.$parent=n,r.$$prevSibling=n.$$childTail,n.$$childHead?(n.$$childTail.$$nextSibling=r,n.$$childTail=r):n.$$childHead=n.$$childTail=r,(e||n!=this)&&r.$on("$destroy",f),r},$watch:function(t,e,n,r){var i=c(t);if(i.$$watchDelegate)return i.$$watchDelegate(this,e,n,i,t);var o=this,s=o.$$watchers,l={fn:e,last:x,get:i,exp:r||t,eq:!!n};return a=null,k(e)||(l.fn=g),s||(s=o.$$watchers=[]),s.unshift(l),v(this,1),function(){B(s,l)>=0&&v(o,-1),a=null}},$watchGroup:function(t,e){function n(){l=!1,u?(u=!1,e(i,i,s)):e(i,r,s)}var r=new Array(t.length),i=new Array(t.length),a=[],s=this,l=!1,u=!0;if(!t.length){var c=!0;return s.$evalAsync(function(){c&&e(i,i,s)}),function(){c=!1}}return 1===t.length?this.$watch(t[0],function(t,n,o){i[0]=t,r[0]=n,e(i,t===n?i:r,o)}):(o(t,function(t,e){var o=s.$watch(t,function(t,o){i[e]=t,r[e]=o,l||(l=!0,s.$evalAsync(n))});a.push(o)}),function(){for(;a.length;)a.shift()()})},$watchCollection:function(t,e){function n(t){o=t;var e,n,r,s,l;if(!y(o)){if(b(o))if(i(o)){a!==d&&(a=d,m=a.length=0,h++),e=o.length,m!==e&&(h++,a.length=m=e);for(var u=0;e>u;u++)l=a[u],s=o[u],r=l!==l&&s!==s,r||l===s||(h++,a[u]=s)}else{a!==p&&(a=p={},m=0,h++),e=0;for(n in o)o.hasOwnProperty(n)&&(e++,s=o[n],l=a[n],n in a?(r=l!==l&&s!==s,r||l===s||(h++,a[n]=s)):(m++,a[n]=s,h++));if(m>e){h++;for(n in a)o.hasOwnProperty(n)||(m--,delete a[n])}}else a!==o&&(a=o,h++);return h}}function r(){if(g?(g=!1,e(o,o,l)):e(o,s,l),u)if(b(o))if(i(o)){s=new Array(o.length);for(var t=0;t<o.length;t++)s[t]=o[t]}else{s={};for(var n in o)Cr.call(o,n)&&(s[n]=o[n])}else s=o}n.$stateful=!0;var o,a,s,l=this,u=e.length>1,h=0,f=c(t,n),d=[],p={},g=!0,m=0;return this.$watch(f,r)},$digest:function(){var t,r,i,o,l,c,f,d,g,v,y=e,w=this,b=[];p("$digest"),h.$$checkUrlChange(),this===E&&null!==s&&(h.defer.cancel(s),C()),a=null;do{for(c=!1,d=w;S.length;){try{v=S.shift(),v.scope.$eval(v.expression,v.locals)}catch(T){u(T)}a=null}t:do{if(o=d.$$watchers)for(l=o.length;l--;)try{if(t=o[l])if((r=t.get(d))===(i=t.last)||(t.eq?V(r,i):"number"==typeof r&&"number"==typeof i&&isNaN(r)&&isNaN(i))){if(t===a){c=!1;break t}}else c=!0,a=t,t.last=t.eq?H(r,null):r,t.fn(r,i===x?r:i,d),5>y&&(g=4-y,b[g]||(b[g]=[]),b[g].push({msg:k(t.exp)?"fn: "+(t.exp.name||t.exp.toString()):t.exp,newVal:r,oldVal:i}))}catch(T){u(T)}if(!(f=d.$$watchersCount&&d.$$childHead||d!==w&&d.$$nextSibling))for(;d!==w&&!(f=d.$$nextSibling);)d=d.$parent}while(d=f);if((c||S.length)&&!y--)throw m(),n("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",e,b)}while(c||S.length);for(m();_.length;)try{_.shift()()}catch(T){u(T)}},$destroy:function(){if(!this.$$destroyed){var t=this.$parent;this.$broadcast("$destroy"),this.$$destroyed=!0,this===E&&h.$$applicationDestroyed(),v(this,-this.$$watchersCount);for(var e in this.$$listenerCount)w(this,this.$$listenerCount[e],e);t&&t.$$childHead==this&&(t.$$childHead=this.$$nextSibling),t&&t.$$childTail==this&&(t.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=g,this.$on=this.$watch=this.$watchGroup=function(){return g},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}},$eval:function(t,e){return c(t)(this,e)},$evalAsync:function(t,e){E.$$phase||S.length||h.defer(function(){S.length&&E.$digest()}),S.push({scope:this,expression:t,locals:e})},$$postDigest:function(t){_.push(t)},$apply:function(t){try{return p("$apply"),this.$eval(t)}catch(e){u(e)}finally{m();try{E.$digest()}catch(e){throw u(e),e}}},$applyAsync:function(t){function e(){n.$eval(t)}var n=this;t&&$.push(e),T()},$on:function(t,e){var n=this.$$listeners[t];n||(this.$$listeners[t]=n=[]),n.push(e);var r=this;do r.$$listenerCount[t]||(r.$$listenerCount[t]=0),r.$$listenerCount[t]++;while(r=r.$parent);var i=this;return function(){var r=n.indexOf(e);-1!==r&&(n[r]=null,w(i,1,t))}},$emit:function(t,e){var n,r,i,o=[],a=this,s=!1,l={name:t,targetScope:a,stopPropagation:function(){s=!0},preventDefault:function(){l.defaultPrevented=!0},defaultPrevented:!1},c=q([l],arguments,1);do{for(n=a.$$listeners[t]||o,l.currentScope=a,r=0,i=n.length;i>r;r++)if(n[r])try{n[r].apply(null,c)}catch(h){u(h)}else n.splice(r,1),r--,i--;if(s)return l.currentScope=null,l;a=a.$parent}while(a);return l.currentScope=null,l},$broadcast:function(t,e){var n=this,r=n,i=n,o={name:t,targetScope:n,preventDefault:function(){o.defaultPrevented=!0},defaultPrevented:!1};if(!n.$$listenerCount[t])return o;for(var a,s,l,c=q([o],arguments,1);r=i;){for(o.currentScope=r,a=r.$$listeners[t]||[],s=0,l=a.length;l>s;s++)if(a[s])try{a[s].apply(null,c)}catch(h){u(h)}else a.splice(s,1),s--,l--;if(!(i=r.$$listenerCount[t]&&r.$$childHead||r!==n&&r.$$nextSibling))for(;r!==n&&!(i=r.$$nextSibling);)r=r.$parent}return o.currentScope=null,o}};var E=new d,S=E.$$asyncQueue=[],_=E.$$postDigestQueue=[],$=E.$$applyAsyncQueue=[];return E}]}function vn(){var t=/^\s*(https?|ftp|mailto|tel|file):/,e=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(e){return w(e)?(t=e,this):t},this.imgSrcSanitizationWhitelist=function(t){return w(t)?(e=t,this):e},this.$get=function(){return function(n,r){var i,o=r?e:t;return i=Sn(n).href,""===i||i.match(o)?n:"unsafe:"+i}}}function yn(t){if("self"===t)return t;if(C(t)){if(t.indexOf("***")>-1)throw to("iwcard","Illegal sequence *** in string matcher.  String: {0}",t);return t=qr(t).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+t+"$")}if(S(t))return new RegExp("^"+t.source+"$");throw to("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function wn(t){var e=[];return w(t)&&o(t,function(t){e.push(yn(t))}),e}function bn(){this.SCE_CONTEXTS=eo;var t=["self"],e=[];this.resourceUrlWhitelist=function(e){return arguments.length&&(t=wn(e)),t},this.resourceUrlBlacklist=function(t){return arguments.length&&(e=wn(t)),e},this.$get=["$injector",function(r){function i(t,e){return"self"===t?_n(e):!!t.exec(e.href)}function o(n){var r,o,a=Sn(n.toString()),s=!1;for(r=0,o=t.length;o>r;r++)if(i(t[r],a)){s=!0;break}if(s)for(r=0,o=e.length;o>r;r++)if(i(e[r],a)){s=!1;break}return s}function a(t){var e=function(t){this.$$unwrapTrustedValue=function(){return t}};return t&&(e.prototype=new t),e.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},e.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},e}function s(t,e){var r=f.hasOwnProperty(t)?f[t]:null;if(!r)throw to("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",t,e);if(null===e||e===n||""===e)return e;if("string"!=typeof e)throw to("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",t);return new r(e)}function l(t){return t instanceof h?t.$$unwrapTrustedValue():t}function u(t,e){if(null===e||e===n||""===e)return e;var r=f.hasOwnProperty(t)?f[t]:null;if(r&&e instanceof r)return e.$$unwrapTrustedValue();if(t===eo.RESOURCE_URL){if(o(e))return e;throw to("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",e.toString())}if(t===eo.HTML)return c(e);throw to("unsafe","Attempting to use an unsafe value in a safe context.")}var c=function(t){throw to("unsafe","Attempting to use an unsafe value in a safe context.")};r.has("$sanitize")&&(c=r.get("$sanitize"));var h=a(),f={};return f[eo.HTML]=a(h),f[eo.CSS]=a(h),f[eo.URL]=a(h),f[eo.JS]=a(h),f[eo.RESOURCE_URL]=a(f[eo.URL]),{trustAs:s,getTrusted:u,valueOf:l}}]}function xn(){var t=!0;this.enabled=function(e){return arguments.length&&(t=!!e),t},this.$get=["$parse","$sceDelegate",function(e,n){if(t&&8>Sr)throw to("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var r=F(eo);r.isEnabled=function(){return t},r.trustAs=n.trustAs,r.getTrusted=n.getTrusted,r.valueOf=n.valueOf,t||(r.trustAs=r.getTrusted=function(t,e){return e},r.valueOf=m),r.parseAs=function(t,n){var i=e(n);return i.literal&&i.constant?i:e(n,function(e){return r.getTrusted(t,e)})};var i=r.parseAs,a=r.getTrusted,s=r.trustAs;return o(eo,function(t,e){var n=xr(e);r[xt("parse_as_"+n)]=function(e){return i(t,e)},r[xt("get_trusted_"+n)]=function(e){return a(t,e)},r[xt("trust_as_"+n)]=function(e){return s(t,e)}}),r}]}function Cn(){this.$get=["$window","$document",function(t,e){var n,r,i={},o=d((/android (\d+)/.exec(xr((t.navigator||{}).userAgent))||[])[1]),a=/Boxee/i.test((t.navigator||{}).userAgent),s=e[0]||{},l=/^(Moz|webkit|ms)(?=[A-Z])/,u=s.body&&s.body.style,c=!1,h=!1;if(u){for(var f in u)if(r=l.exec(f)){n=r[0],n=n.substr(0,1).toUpperCase()+n.substr(1);break}n||(n="WebkitOpacity"in u&&"webkit"),c=!!("transition"in u||n+"Transition"in u),h=!!("animation"in u||n+"Animation"in u),!o||c&&h||(c=C(u.webkitTransition),h=C(u.webkitAnimation))}return{history:!(!t.history||!t.history.pushState||4>o||a),hasEvent:function(t){if("input"===t&&11>=Sr)return!1;if(y(i[t])){var e=s.createElement("div");i[t]="on"+t in e}return i[t]},csp:jr(),vendorPrefix:n,transitions:c,animations:h,android:o}}]}function Tn(){this.$get=["$templateCache","$http","$q",function(t,e,n){function r(i,o){function a(t){if(!o)throw Di("tpload","Failed to load template: {0} (HTTP status: {1} {2})",i,t.status,t.statusText);return n.reject(t)}r.totalPendingRequests++;var s=e.defaults&&e.defaults.transformResponse;Hr(s)?s=s.filter(function(t){return t!==we}):s===we&&(s=null);var l={cache:t,transformResponse:s};return e.get(i,l)["finally"](function(){r.totalPendingRequests--}).then(function(e){return t.put(i,e.data),e.data},a)}return r.totalPendingRequests=0,r}]}function En(){this.$get=["$rootScope","$browser","$location",function(t,e,n){var r={};return r.findBindings=function(t,e,n){var r=t.getElementsByClassName("ng-binding"),i=[];return o(r,function(t){var r=Ir.element(t).data("$binding");r&&o(r,function(r){if(n){var o=new RegExp("(^|\\s)"+qr(e)+"(\\s|\\||$)");o.test(r)&&i.push(t)}else-1!=r.indexOf(e)&&i.push(t)})}),i},r.findModels=function(t,e,n){for(var r=["ng-","data-ng-","ng\\:"],i=0;i<r.length;++i){var o=n?"=":"*=",a="["+r[i]+"model"+o+'"'+e+'"]',s=t.querySelectorAll(a);if(s.length)return s}},r.getLocation=function(){return n.url()},r.setLocation=function(e){e!==n.url()&&(n.url(e),t.$digest())},r.whenStable=function(t){e.notifyWhenNoOutstandingRequests(t)},r}]}function kn(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function(t,e,n,r,i){function o(o,s,l){k(o)||(l=s,s=o,o=g);var u,c=j(arguments,3),h=w(l)&&!l,f=(h?r:n).defer(),d=f.promise;return u=e.defer(function(){try{f.resolve(o.apply(null,c))}catch(e){f.reject(e),i(e)}finally{delete a[d.$$timeoutId]}h||t.$apply()},s),d.$$timeoutId=u,a[u]=f,d}var a={};return o.cancel=function(t){return t&&t.$$timeoutId in a?(a[t.$$timeoutId].reject("canceled"),delete a[t.$$timeoutId],e.defer.cancel(t.$$timeoutId)):!1},o}]}function Sn(t){var e=t;return Sr&&(no.setAttribute("href",e),e=no.href),no.setAttribute("href",e),{href:no.href,protocol:no.protocol?no.protocol.replace(/:$/,""):"",host:no.host,search:no.search?no.search.replace(/^\?/,""):"",hash:no.hash?no.hash.replace(/^#/,""):"",hostname:no.hostname,port:no.port,pathname:"/"===no.pathname.charAt(0)?no.pathname:"/"+no.pathname}}function _n(t){var e=C(t)?Sn(t):t;return e.protocol===ro.protocol&&e.host===ro.host}function $n(){this.$get=v(t)}function An(t){function e(t){try{return decodeURIComponent(t)}catch(e){return t}}var r=t[0]||{},i={},o="";return function(){var t,a,s,l,u,c=r.cookie||"";if(c!==o)for(o=c,t=o.split("; "),i={},s=0;s<t.length;s++)a=t[s],l=a.indexOf("="),l>0&&(u=e(a.substring(0,l)),i[u]===n&&(i[u]=e(a.substring(l+1))));return i}}function Dn(){this.$get=An}function Mn(t){function e(r,i){if(b(r)){var a={};return o(r,function(t,n){a[n]=e(n,t)}),a}return t.factory(r+n,i)}var n="Filter";this.register=e,this.$get=["$injector",function(t){return function(e){return t.get(e+n)}}],e("currency",Nn),e("date",Kn),e("filter",Rn),e("json",Zn),e("limitTo",Jn),e("lowercase",lo),e("number",Bn),e("orderBy",Qn),e("uppercase",uo)}function Rn(){return function(t,e,n){if(!i(t)){if(null==t)return t;throw r("filter")("notarray","Expected array but received: {0}",t)}var o,a,s=In(e);switch(s){case"function":o=e;break;case"boolean":case"null":case"number":case"string":a=!0;case"object":o=On(e,n,a);break;default:return t}return Array.prototype.filter.call(t,o)}}function Pn(t){return k(t.toString)&&t.toString!==Object.prototype.toString}function On(t,e,n){var r,i=b(t)&&"$"in t;return e===!0?e=V:k(e)||(e=function(t,e){return y(t)?!1:null===t||null===e?t===e:b(e)||b(t)&&!Pn(t)?!1:(t=xr(""+t),e=xr(""+e),-1!==t.indexOf(e))}),r=function(r){return i&&!b(r)?Ln(r,t.$,e,!1):Ln(r,t,e,n)}}function Ln(t,e,n,r,i){var o=In(t),a=In(e);if("string"===a&&"!"===e.charAt(0))return!Ln(t,e.substring(1),n,r);if(Hr(t))return t.some(function(t){return Ln(t,e,n,r)});switch(o){case"object":var s;if(r){for(s in t)if("$"!==s.charAt(0)&&Ln(t[s],e,n,!0))return!0;return i?!1:Ln(t,e,n,!1)}if("object"===a){for(s in e){var l=e[s];if(!k(l)&&!y(l)){var u="$"===s,c=u?t:t[s];if(!Ln(c,l,n,u,u))return!1}}return!0}return n(t,e);case"function":return!1;default:return n(t,e)}}function In(t){return null===t?"null":typeof t}function Nn(t){var e=t.NUMBER_FORMATS;return function(t,n,r){return y(n)&&(n=e.CURRENCY_SYM),y(r)&&(r=e.PATTERNS[1].maxFrac),null==t?t:Hn(t,e.PATTERNS[1],e.GROUP_SEP,e.DECIMAL_SEP,r).replace(/\u00A4/g,n)}}function Bn(t){var e=t.NUMBER_FORMATS;return function(t,n){return null==t?t:Hn(t,e.PATTERNS[0],e.GROUP_SEP,e.DECIMAL_SEP,n)}}function Hn(t,e,n,r,i){if(b(t))return"";var o=0>t;t=Math.abs(t);var a=t===1/0;if(!a&&!isFinite(t))return"";var s=t+"",l="",u=!1,c=[];if(a&&(l="∞"),!a&&-1!==s.indexOf("e")){var h=s.match(/([\d\.]+)e(-?)(\d+)/);h&&"-"==h[2]&&h[3]>i+1?t=0:(l=s,u=!0)}if(a||u)i>0&&1>t&&(l=t.toFixed(i),t=parseFloat(l));else{var f=(s.split(io)[1]||"").length;y(i)&&(i=Math.min(Math.max(e.minFrac,f),e.maxFrac)),t=+(Math.round(+(t.toString()+"e"+i)).toString()+"e"+-i);var d=(""+t).split(io),p=d[0];d=d[1]||"";var g,m=0,v=e.lgSize,w=e.gSize;if(p.length>=v+w)for(m=p.length-v,g=0;m>g;g++)(m-g)%w===0&&0!==g&&(l+=n),l+=p.charAt(g);for(g=m;g<p.length;g++)(p.length-g)%v===0&&0!==g&&(l+=n),l+=p.charAt(g);for(;d.length<i;)d+="0";i&&"0"!==i&&(l+=r+d.substr(0,i))}return 0===t&&(o=!1),c.push(o?e.negPre:e.posPre,l,o?e.negSuf:e.posSuf),c.join("")}function Fn(t,e,n){var r="";for(0>t&&(r="-",t=-t),t=""+t;t.length<e;)t="0"+t;return n&&(t=t.substr(t.length-e)),r+t}function Vn(t,e,n,r){return n=n||0,function(i){var o=i["get"+t]();return(n>0||o>-n)&&(o+=n),0===o&&-12==n&&(o=12),Fn(o,e,r)}}function qn(t,e){return function(n,r){var i=n["get"+t](),o=Tr(e?"SHORT"+t:t);return r[o][i]}}function jn(t,e,n){var r=-1*n,i=r>=0?"+":"";return i+=Fn(Math[r>0?"floor":"ceil"](r/60),2)+Fn(Math.abs(r%60),2)}function zn(t){var e=new Date(t,0,1).getDay();return new Date(t,0,(4>=e?5:12)-e)}function Wn(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate()+(4-t.getDay()))}function Un(t){return function(e){var n=zn(e.getFullYear()),r=Wn(e),i=+r-+n,o=1+Math.round(i/6048e5);return Fn(o,t)}}function Yn(t,e){return t.getHours()<12?e.AMPMS[0]:e.AMPMS[1]}function Xn(t,e){return t.getFullYear()<=0?e.ERAS[0]:e.ERAS[1]}function Gn(t,e){return t.getFullYear()<=0?e.ERANAMES[0]:e.ERANAMES[1]}function Kn(t){function e(t){var e;if(e=t.match(n)){var r=new Date(0),i=0,o=0,a=e[8]?r.setUTCFullYear:r.setFullYear,s=e[8]?r.setUTCHours:r.setHours;e[9]&&(i=d(e[9]+e[10]),o=d(e[9]+e[11])),a.call(r,d(e[1]),d(e[2])-1,d(e[3]));var l=d(e[4]||0)-i,u=d(e[5]||0)-o,c=d(e[6]||0),h=Math.round(1e3*parseFloat("0."+(e[7]||0)));return s.call(r,l,u,c,h),r}return t}var n=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(n,r,i){var a,s,l="",u=[];if(r=r||"mediumDate",r=t.DATETIME_FORMATS[r]||r,C(n)&&(n=so.test(n)?d(n):e(n)),T(n)&&(n=new Date(n)),!E(n)||!isFinite(n.getTime()))return n;for(;r;)s=ao.exec(r),s?(u=q(u,s,1),r=u.pop()):(u.push(r),r=null);var c=n.getTimezoneOffset();return i&&(c=X(i,n.getTimezoneOffset()),n=K(n,i,!0)),o(u,function(e){a=oo[e],l+=a?a(n,t.DATETIME_FORMATS,c):e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}}function Zn(){return function(t,e){return y(e)&&(e=2),U(t,e)}}function Jn(){return function(t,e,n){return e=Math.abs(Number(e))===1/0?Number(e):d(e),isNaN(e)?t:(T(t)&&(t=t.toString()),Hr(t)||C(t)?(n=!n||isNaN(n)?0:d(n),n=0>n&&n>=-t.length?t.length+n:n,e>=0?t.slice(n,n+e):0===n?t.slice(e,t.length):t.slice(Math.max(0,n+e),n)):t)}}function Qn(t){return function(e,n,r){function o(t,e){for(var r=0;r<n.length;r++){var i=n[r](t,e);if(0!==i)return i}return 0}function a(t,e){return e?function(e,n){return t(n,e)}:t}function s(t){switch(typeof t){case"number":case"boolean":case"string":return!0;default:return!1}}function l(t){return null===t?"null":"function"==typeof t.valueOf&&(t=t.valueOf(),s(t))?t:"function"==typeof t.toString&&(t=t.toString(),s(t))?t:""}function u(t,e){var n=typeof t,r=typeof e;return n===r&&"object"===n&&(t=l(t),e=l(e)),n===r?("string"===n&&(t=t.toLowerCase(),e=e.toLowerCase()),t===e?0:e>t?-1:1):r>n?-1:1}return i(e)?(n=Hr(n)?n:[n],0===n.length&&(n=["+"]),n=n.map(function(e){var n=!1,r=e||m;if(C(e)){if(("+"==e.charAt(0)||"-"==e.charAt(0))&&(n="-"==e.charAt(0),e=e.substring(1)),""===e)return a(u,n);if(r=t(e),r.constant){var i=r();return a(function(t,e){return u(t[i],e[i])},n)}}return a(function(t,e){return u(r(t),r(e))},n)}),Dr.call(e).sort(a(o,r))):e}}function tr(t){return k(t)&&(t={link:t}),t.restrict=t.restrict||"AC",v(t)}function er(t,e){t.$name=e}function nr(t,e,r,i,a){var s=this,l=[],u=s.$$parentForm=t.parent().controller("form")||fo;s.$error={},s.$$success={},s.$pending=n,s.$name=a(e.name||e.ngForm||"")(r),s.$dirty=!1,s.$pristine=!0,s.$valid=!0,s.$invalid=!1,s.$submitted=!1,u.$addControl(s),s.$rollbackViewValue=function(){o(l,function(t){t.$rollbackViewValue()})},s.$commitViewValue=function(){o(l,function(t){t.$commitViewValue()})},s.$addControl=function(t){ft(t.$name,"input"),l.push(t),t.$name&&(s[t.$name]=t)},s.$$renameControl=function(t,e){var n=t.$name;s[n]===t&&delete s[n],s[e]=t,t.$name=e},s.$removeControl=function(t){t.$name&&s[t.$name]===t&&delete s[t.$name],o(s.$pending,function(e,n){s.$setValidity(n,null,t)}),o(s.$error,function(e,n){s.$setValidity(n,null,t)}),o(s.$$success,function(e,n){s.$setValidity(n,null,t)}),B(l,t)},vr({ctrl:this,$element:t,set:function(t,e,n){var r=t[e];if(r){var i=r.indexOf(n);-1===i&&r.push(n)}else t[e]=[n]},unset:function(t,e,n){var r=t[e];r&&(B(r,n),0===r.length&&delete t[e])},parentForm:u,$animate:i}),s.$setDirty=function(){i.removeClass(t,Go),i.addClass(t,Ko),s.$dirty=!0,s.$pristine=!1,u.$setDirty()},s.$setPristine=function(){i.setClass(t,Go,Ko+" "+po),s.$dirty=!1,s.$pristine=!0,s.$submitted=!1,o(l,function(t){t.$setPristine()})},s.$setUntouched=function(){o(l,function(t){t.$setUntouched()})},s.$setSubmitted=function(){i.addClass(t,po),s.$submitted=!0,u.$setSubmitted()}}function rr(t){t.$formatters.push(function(e){return t.$isEmpty(e)?e:e.toString()})}function ir(t,e,n,r,i,o){or(t,e,n,r,i,o),rr(r)}function or(t,e,n,r,i,o){var a=xr(e[0].type);if(!i.android){var s=!1;e.on("compositionstart",function(t){s=!0}),e.on("compositionend",function(){s=!1,l()})}var l=function(t){if(u&&(o.defer.cancel(u),u=null),!s){var i=e.val(),l=t&&t.type;"password"===a||n.ngTrim&&"false"===n.ngTrim||(i=Vr(i)),(r.$viewValue!==i||""===i&&r.$$hasNativeValidators)&&r.$setViewValue(i,l)}};if(i.hasEvent("input"))e.on("input",l);else{var u,c=function(t,e,n){u||(u=o.defer(function(){u=null,e&&e.value===n||l(t)}))};e.on("keydown",function(t){var e=t.keyCode;91===e||e>15&&19>e||e>=37&&40>=e||c(t,this,this.value)}),i.hasEvent("paste")&&e.on("paste cut",c)}e.on("change",l),r.$render=function(){e.val(r.$isEmpty(r.$viewValue)?"":r.$viewValue)}}function ar(t,e){if(E(t))return t;if(C(t)){Eo.lastIndex=0;var n=Eo.exec(t);if(n){var r=+n[1],i=+n[2],o=0,a=0,s=0,l=0,u=zn(r),c=7*(i-1);return e&&(o=e.getHours(),a=e.getMinutes(),s=e.getSeconds(),l=e.getMilliseconds()),new Date(r,0,u.getDate()+c,o,a,s,l)}}return 0/0}function sr(t,e){return function(n,r){var i,a;if(E(n))return n;if(C(n)){if('"'==n.charAt(0)&&'"'==n.charAt(n.length-1)&&(n=n.substring(1,n.length-1)),yo.test(n))return new Date(n);if(t.lastIndex=0,i=t.exec(n))return i.shift(),a=r?{yyyy:r.getFullYear(),MM:r.getMonth()+1,dd:r.getDate(),HH:r.getHours(),mm:r.getMinutes(),ss:r.getSeconds(),sss:r.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},o(i,function(t,n){n<e.length&&(a[e[n]]=+t)}),new Date(a.yyyy,a.MM-1,a.dd,a.HH,a.mm,a.ss||0,1e3*a.sss||0)}return 0/0}}function lr(t,e,r,i){return function(o,a,s,l,u,c,h){function f(t){return t&&!(t.getTime&&t.getTime()!==t.getTime())}function d(t){return w(t)?E(t)?t:r(t):n}ur(o,a,s,l),or(o,a,s,l,u,c);var p,g=l&&l.$options&&l.$options.timezone;if(l.$$parserName=t,l.$parsers.push(function(t){if(l.$isEmpty(t))return null;if(e.test(t)){var i=r(t,p);return g&&(i=K(i,g)),i}return n}),l.$formatters.push(function(t){if(t&&!E(t))throw ta("datefmt","Expected `{0}` to be a date",t);return f(t)?(p=t,p&&g&&(p=K(p,g,!0)),h("date")(t,i,g)):(p=null,"")}),w(s.min)||s.ngMin){var m;l.$validators.min=function(t){return!f(t)||y(m)||r(t)>=m},s.$observe("min",function(t){m=d(t),l.$validate()})}if(w(s.max)||s.ngMax){var v;l.$validators.max=function(t){return!f(t)||y(v)||r(t)<=v},s.$observe("max",function(t){v=d(t),l.$validate()})}}}function ur(t,e,r,i){var o=e[0],a=i.$$hasNativeValidators=b(o.validity);a&&i.$parsers.push(function(t){var r=e.prop(br)||{};return r.badInput&&!r.typeMismatch?n:t})}function cr(t,e,r,i,o,a){if(ur(t,e,r,i),or(t,e,r,i,o,a),i.$$parserName="number",i.$parsers.push(function(t){return i.$isEmpty(t)?null:xo.test(t)?parseFloat(t):n}),i.$formatters.push(function(t){if(!i.$isEmpty(t)){if(!T(t))throw ta("numfmt","Expected `{0}` to be a number",t);t=t.toString()}return t}),w(r.min)||r.ngMin){var s;i.$validators.min=function(t){return i.$isEmpty(t)||y(s)||t>=s},r.$observe("min",function(t){w(t)&&!T(t)&&(t=parseFloat(t,10)),s=T(t)&&!isNaN(t)?t:n,i.$validate()})}if(w(r.max)||r.ngMax){var l;i.$validators.max=function(t){return i.$isEmpty(t)||y(l)||l>=t},r.$observe("max",function(t){w(t)&&!T(t)&&(t=parseFloat(t,10)),l=T(t)&&!isNaN(t)?t:n,i.$validate()})}}function hr(t,e,n,r,i,o){or(t,e,n,r,i,o),rr(r),r.$$parserName="url",r.$validators.url=function(t,e){var n=t||e;return r.$isEmpty(n)||wo.test(n)}}function fr(t,e,n,r,i,o){or(t,e,n,r,i,o),rr(r),r.$$parserName="email",r.$validators.email=function(t,e){var n=t||e;return r.$isEmpty(n)||bo.test(n)}}function dr(t,e,n,r){y(n.name)&&e.attr("name",l());var i=function(t){e[0].checked&&r.$setViewValue(n.value,t&&t.type)};e.on("click",i),r.$render=function(){var t=n.value;e[0].checked=t==r.$viewValue},n.$observe("value",r.$render)}function pr(t,e,n,i,o){var a;if(w(i)){if(a=t(i),!a.constant)throw r("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",n,i);return a(e)}return o}function gr(t,e,n,r,i,o,a,s){var l=pr(s,t,"ngTrueValue",n.ngTrueValue,!0),u=pr(s,t,"ngFalseValue",n.ngFalseValue,!1),c=function(t){r.$setViewValue(e[0].checked,t&&t.type)};e.on("click",c),r.$render=function(){e[0].checked=r.$viewValue},r.$isEmpty=function(t){return t===!1},r.$formatters.push(function(t){return V(t,l)}),r.$parsers.push(function(t){return t?l:u})}function mr(t,e){return t="ngClass"+t,["$animate",function(n){function r(t,e){var n=[];t:for(var r=0;r<t.length;r++){for(var i=t[r],o=0;o<e.length;o++)if(i==e[o])continue t;n.push(i)}return n}function i(t){var e=[];return Hr(t)?(o(t,function(t){e=e.concat(i(t))}),e):C(t)?t.split(" "):b(t)?(o(t,function(t,n){t&&(e=e.concat(n.split(" ")))}),e):t}return{restrict:"AC",link:function(a,s,l){function u(t){var e=h(t,1);l.$addClass(e)}function c(t){var e=h(t,-1);l.$removeClass(e)}function h(t,e){var n=s.data("$classCounts")||gt(),r=[];return o(t,function(t){(e>0||n[t])&&(n[t]=(n[t]||0)+e,n[t]===+(e>0)&&r.push(t))}),s.data("$classCounts",n),r.join(" ")}function f(t,e){var i=r(e,t),o=r(t,e);i=h(i,1),o=h(o,-1),i&&i.length&&n.addClass(s,i),o&&o.length&&n.removeClass(s,o)}function d(t){if(e===!0||a.$index%2===e){var n=i(t||[]);if(p){if(!V(t,p)){var r=i(p);f(r,n)}}else u(n)}p=F(t)}var p;a.$watch(l[t],d,!0),l.$observe("class",function(e){d(a.$eval(l[t]))}),"ngClass"!==t&&a.$watch("$index",function(n,r){var o=1&n;if(o!==(1&r)){var s=i(a.$eval(l[t]));o===e?u(s):c(s)}})}}}]}function vr(t){function e(t,e,l){e===n?r("$pending",t,l):i("$pending",t,l),R(e)?e?(h(s.$error,t,l),c(s.$$success,t,l)):(c(s.$error,t,l),h(s.$$success,t,l)):(h(s.$error,t,l),h(s.$$success,t,l)),s.$pending?(o(Qo,!0),s.$valid=s.$invalid=n,a("",null)):(o(Qo,!1),s.$valid=yr(s.$error),s.$invalid=!s.$valid,a("",s.$valid));var u;u=s.$pending&&s.$pending[t]?n:s.$error[t]?!1:s.$$success[t]?!0:null,a(t,u),f.$setValidity(t,u,s)}function r(t,e,n){s[t]||(s[t]={}),c(s[t],e,n)}function i(t,e,r){s[t]&&h(s[t],e,r),yr(s[t])&&(s[t]=n)}function o(t,e){e&&!u[t]?(d.addClass(l,t),u[t]=!0):!e&&u[t]&&(d.removeClass(l,t),u[t]=!1)}function a(t,e){t=t?"-"+lt(t,"-"):"",o(Yo+t,e===!0),o(Xo+t,e===!1)}var s=t.ctrl,l=t.$element,u={},c=t.set,h=t.unset,f=t.parentForm,d=t.$animate;u[Xo]=!(u[Yo]=l.hasClass(Yo)),s.$setValidity=e}function yr(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}var wr=/^\/(.+)\/([a-z]*)$/,br="validity",xr=function(t){return C(t)?t.toLowerCase():t},Cr=Object.prototype.hasOwnProperty,Tr=function(t){return C(t)?t.toUpperCase():t},Er=function(t){return C(t)?t.replace(/[A-Z]/g,function(t){return String.fromCharCode(32|t.charCodeAt(0))}):t},kr=function(t){return C(t)?t.replace(/[a-z]/g,function(t){return String.fromCharCode(-33&t.charCodeAt(0))}):t};"i"!=="I".toLowerCase()&&(xr=Er,Tr=kr);var Sr,_r,$r,Ar,Dr=[].slice,Mr=[].splice,Rr=[].push,Pr=Object.prototype.toString,Or=Object.getPrototypeOf,Lr=r("ng"),Ir=t.angular||(t.angular={}),Nr=0;Sr=e.documentMode,g.$inject=[],m.$inject=[];var Br,Hr=Array.isArray,Fr=/^\[object (Uint8(Clamped)?)|(Uint16)|(Uint32)|(Int8)|(Int16)|(Int32)|(Float(32)|(64))Array\]$/,Vr=function(t){return C(t)?t.trim():t},qr=function(t){return t.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},jr=function(){if(w(jr.isActive_))return jr.isActive_;var t=!(!e.querySelector("[ng-csp]")&&!e.querySelector("[data-ng-csp]"));if(!t)try{new Function("")}catch(n){t=!0}return jr.isActive_=t},zr=function(){if(w(zr.name_))return zr.name_;var t,n,r,i,o=Wr.length;for(n=0;o>n;++n)if(r=Wr[n],t=e.querySelector("["+r.replace(":","\\:")+"jq]")){i=t.getAttribute(r+"jq");break}return zr.name_=i},Wr=["ng-","data-ng-","ng:","x-ng-"],Ur=/[A-Z]/g,Yr=!1,Xr=1,Gr=2,Kr=3,Zr=8,Jr=9,Qr=11,ti={full:"1.4.1",major:1,minor:4,dot:1,codeName:"hyperionic-illumination"};_t.expando="ng339";var ei=_t.cache={},ni=1,ri=function(t,e,n){t.addEventListener(e,n,!1)},ii=function(t,e,n){t.removeEventListener(e,n,!1)};_t._data=function(t){return this.cache[t[this.expando]]||{}};var oi=/([\:\-\_]+(.))/g,ai=/^moz([A-Z])/,si={mouseleave:"mouseout",mouseenter:"mouseover"},li=r("jqLite"),ui=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ci=/<|&#?\w+;/,hi=/<([\w:]+)/,fi=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,di={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};di.optgroup=di.option,di.tbody=di.tfoot=di.colgroup=di.caption=di.thead,di.th=di.td;var pi=_t.prototype={ready:function(n){function r(){i||(i=!0,n())}var i=!1;"complete"===e.readyState?setTimeout(r):(this.on("DOMContentLoaded",r),_t(t).on("load",r))},toString:function(){var t=[];return o(this,function(e){t.push(""+e)}),"["+t.join(", ")+"]"},eq:function(t){return _r(t>=0?this[t]:this[this.length+t])},length:0,push:Rr,sort:[].sort,splice:[].splice},gi={};o("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(t){gi[xr(t)]=t});var mi={};o("input,select,option,textarea,button,form,details".split(","),function(t){mi[t]=!0});var vi={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};o({data:Pt,removeData:Mt,hasData:Et},function(t,e){_t[e]=t}),o({data:Pt,inheritedData:Ht,scope:function(t){return _r.data(t,"$scope")||Ht(t.parentNode||t,["$isolateScope","$scope"])},isolateScope:function(t){return _r.data(t,"$isolateScope")||_r.data(t,"$isolateScopeNoTemplate")},controller:Bt,injector:function(t){return Ht(t,"$injector")},removeAttr:function(t,e){t.removeAttribute(e)},hasClass:Ot,css:function(t,e,n){return e=xt(e),w(n)?void(t.style[e]=n):t.style[e]},attr:function(t,e,r){var i=t.nodeType;if(i!==Kr&&i!==Gr&&i!==Zr){var o=xr(e);if(gi[o]){if(!w(r))return t[e]||(t.attributes.getNamedItem(e)||g).specified?o:n;r?(t[e]=!0,t.setAttribute(e,o)):(t[e]=!1,t.removeAttribute(o))}else if(w(r))t.setAttribute(e,r);else if(t.getAttribute){var a=t.getAttribute(e,2);return null===a?n:a}}},prop:function(t,e,n){return w(n)?void(t[e]=n):t[e]},text:function(){
function t(t,e){if(y(e)){var n=t.nodeType;return n===Xr||n===Kr?t.textContent:""}t.textContent=e}return t.$dv="",t}(),val:function(t,e){if(y(e)){if(t.multiple&&"select"===N(t)){var n=[];return o(t.options,function(t){t.selected&&n.push(t.value||t.text)}),0===n.length?null:n}return t.value}t.value=e},html:function(t,e){return y(e)?t.innerHTML:(At(t,!0),void(t.innerHTML=e))},empty:Ft},function(t,e){_t.prototype[e]=function(e,r){var i,o,a=this.length;if(t!==Ft&&(2==t.length&&t!==Ot&&t!==Bt?e:r)===n){if(b(e)){for(i=0;a>i;i++)if(t===Pt)t(this[i],e);else for(o in e)t(this[i],o,e[o]);return this}for(var s=t.$dv,l=s===n?Math.min(a,1):a,u=0;l>u;u++){var c=t(this[u],e,r);s=s?s+c:c}return s}for(i=0;a>i;i++)t(this[i],e,r);return this}}),o({removeData:Mt,on:function Da(t,e,n,r){if(w(r))throw li("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(Tt(t)){var i=Rt(t,!0),o=i.events,a=i.handle;a||(a=i.handle=Wt(t,o));for(var s=e.indexOf(" ")>=0?e.split(" "):[e],l=s.length;l--;){e=s[l];var u=o[e];u||(o[e]=[],"mouseenter"===e||"mouseleave"===e?Da(t,si[e],function(t){var n=this,r=t.relatedTarget;(!r||r!==n&&!n.contains(r))&&a(t,e)}):"$destroy"!==e&&ri(t,e,a),u=o[e]),u.push(n)}}},off:Dt,one:function(t,e,n){t=_r(t),t.on(e,function r(){t.off(e,n),t.off(e,r)}),t.on(e,n)},replaceWith:function(t,e){var n,r=t.parentNode;At(t),o(new _t(e),function(e){n?r.insertBefore(e,n.nextSibling):r.replaceChild(e,t),n=e})},children:function(t){var e=[];return o(t.childNodes,function(t){t.nodeType===Xr&&e.push(t)}),e},contents:function(t){return t.contentDocument||t.childNodes||[]},append:function(t,e){var n=t.nodeType;if(n===Xr||n===Qr){e=new _t(e);for(var r=0,i=e.length;i>r;r++){var o=e[r];t.appendChild(o)}}},prepend:function(t,e){if(t.nodeType===Xr){var n=t.firstChild;o(new _t(e),function(e){t.insertBefore(e,n)})}},wrap:function(t,e){e=_r(e).eq(0).clone()[0];var n=t.parentNode;n&&n.replaceChild(e,t),e.appendChild(t)},remove:Vt,detach:function(t){Vt(t,!0)},after:function(t,e){var n=t,r=t.parentNode;e=new _t(e);for(var i=0,o=e.length;o>i;i++){var a=e[i];r.insertBefore(a,n.nextSibling),n=a}},addClass:It,removeClass:Lt,toggleClass:function(t,e,n){e&&o(e.split(" "),function(e){var r=n;y(r)&&(r=!Ot(t,e)),(r?It:Lt)(t,e)})},parent:function(t){var e=t.parentNode;return e&&e.nodeType!==Qr?e:null},next:function(t){return t.nextElementSibling},find:function(t,e){return t.getElementsByTagName?t.getElementsByTagName(e):[]},clone:$t,triggerHandler:function(t,e,n){var r,i,a,s=e.type||e,l=Rt(t),u=l&&l.events,c=u&&u[s];c&&(r={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:g,type:s,target:t},e.type&&(r=h(r,e)),i=F(c),a=n?[r].concat(n):[r],o(i,function(e){r.isImmediatePropagationStopped()||e.apply(t,a)}))}},function(t,e){_t.prototype[e]=function(e,n,r){for(var i,o=0,a=this.length;a>o;o++)y(i)?(i=t(this[o],e,n,r),w(i)&&(i=_r(i))):Nt(i,t(this[o],e,n,r));return w(i)?i:this},_t.prototype.bind=_t.prototype.on,_t.prototype.unbind=_t.prototype.off}),Xt.prototype={put:function(t,e){this[Yt(t,this.nextUid)]=e},get:function(t){return this[Yt(t,this.nextUid)]},remove:function(t){var e=this[t=Yt(t,this.nextUid)];return delete this[t],e}};var yi=[function(){this.$get=[function(){return Xt}]}],wi=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,bi=/,/,xi=/^\s*(_?)(\S+?)\1\s*$/,Ci=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,Ti=r("$injector");Zt.$$annotate=Kt;var Ei=r("$animate"),ki=1,Si="ng-animate",_i=function(){this.$get=["$q","$$rAF",function(t,e){function n(){}return n.all=g,n.chain=g,n.prototype={end:g,cancel:g,resume:g,pause:g,complete:g,then:function(n,r){return t(function(t){e(function(){t()})}).then(n,r)}},n}]},$i=function(){var t=new Xt,e=[];this.$get=["$$AnimateRunner","$rootScope",function(n,r){function i(n,i,a){var s=t.get(n);s||(t.put(n,s={}),e.push(n)),i&&o(i.split(" "),function(t){t&&(s[t]=!0)}),a&&o(a.split(" "),function(t){t&&(s[t]=!1)}),e.length>1||r.$$postDigest(function(){o(e,function(e){var n=t.get(e);if(n){var r=ee(e.attr("class")),i="",a="";o(n,function(t,e){var n=!!r[e];t!==n&&(t?i+=(i.length?" ":"")+e:a+=(a.length?" ":"")+e)}),o(e,function(t){i&&It(t,i),a&&Lt(t,a)}),t.remove(e)}}),e.length=0})}return{enabled:g,on:g,off:g,pin:g,push:function(t,e,r,o){return o&&o(),r=r||{},r.from&&t.css(r.from),r.to&&t.css(r.to),(r.addClass||r.removeClass)&&i(t,r.addClass,r.removeClass),new n}}}]},Ai=["$provide",function(t){var e=this;this.$$registeredAnimations=Object.create(null),this.register=function(n,r){if(n&&"."!==n.charAt(0))throw Ei("notcsel","Expecting class selector starting with '.' got '{0}'.",n);var i=n+"-animation";e.$$registeredAnimations[n.substr(1)]=i,t.factory(i,r)},this.classNameFilter=function(t){if(1===arguments.length&&(this.$$classNameFilter=t instanceof RegExp?t:null,this.$$classNameFilter)){var e=new RegExp("(\\s+|\\/)"+Si+"(\\s+|\\/)");if(e.test(this.$$classNameFilter.toString()))throw Ei("nongcls",'$animateProvider.classNameFilter(regex) prohibits accepting a regex value which matches/contains the "{0}" CSS class.',Si)}return this.$$classNameFilter},this.$get=["$$animateQueue",function(t){function e(t,e,n){if(n){var r=te(n);!r||r.parentNode||r.previousElementSibling||(n=null)}n?n.after(t):e.prepend(t)}return{on:t.on,off:t.off,pin:t.pin,enabled:t.enabled,cancel:function(t){t.end&&t.end()},enter:function(n,r,i,o){return r=r&&_r(r),i=i&&_r(i),r=r||i.parent(),e(n,r,i),t.push(n,"enter",ne(o))},move:function(n,r,i,o){return r=r&&_r(r),i=i&&_r(i),r=r||i.parent(),e(n,r,i),t.push(n,"move",ne(o))},leave:function(e,n){return t.push(e,"leave",ne(n),function(){e.remove()})},addClass:function(e,n,r){return r=ne(r),r.addClass=Qt(r.addclass,n),t.push(e,"addClass",r)},removeClass:function(e,n,r){return r=ne(r),r.removeClass=Qt(r.removeClass,n),t.push(e,"removeClass",r)},setClass:function(e,n,r,i){return i=ne(i),i.addClass=Qt(i.addClass,n),i.removeClass=Qt(i.removeClass,r),t.push(e,"setClass",i)},animate:function(e,n,r,i,o){return o=ne(o),o.from=o.from?h(o.from,n):n,o.to=o.to?h(o.to,r):r,i=i||"ng-inline-animate",o.tempClasses=Qt(o.tempClasses,i),t.push(e,"animate",o)}}}]}],Di=r("$compile");le.$inject=["$provide","$$sanitizeUriProvider"];var Mi=/^((?:x|data)[\:\-_])/i,Ri=r("$controller"),Pi=/^(\S+)(\s+as\s+(\w+))?$/,Oi="application/json",Li={"Content-Type":Oi+";charset=utf-8"},Ii=/^\[|^\{(?!\{)/,Ni={"[":/]$/,"{":/}$/},Bi=/^\)\]\}',?\n/,Hi=Ir.$interpolateMinErr=r("$interpolate");Hi.throwNoconcat=function(t){throw Hi("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",t)},Hi.interr=function(t,e){return Hi("interr","Can't interpolate: {0}\n{1}",t,e.toString())};var Fi=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,Vi={http:80,https:443,ftp:21},qi=r("$location"),ji={$$html5:!1,$$replace:!1,absUrl:je("$$absUrl"),url:function(t){if(y(t))return this.$$url;var e=Fi.exec(t);return(e[1]||""===t)&&this.path(decodeURIComponent(e[1])),(e[2]||e[1]||""===t)&&this.search(e[3]||""),this.hash(e[5]||""),this},protocol:je("$$protocol"),host:je("$$host"),port:je("$$port"),path:ze("$$path",function(t){return t=null!==t?t.toString():"","/"==t.charAt(0)?t:"/"+t}),search:function(t,e){switch(arguments.length){case 0:return this.$$search;case 1:if(C(t)||T(t))t=t.toString(),this.$$search=Q(t);else{if(!b(t))throw qi("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");t=H(t,{}),o(t,function(e,n){null==e&&delete t[n]}),this.$$search=t}break;default:y(e)||null===e?delete this.$$search[t]:this.$$search[t]=e}return this.$$compose(),this},hash:ze("$$hash",function(t){return null!==t?t.toString():""}),replace:function(){return this.$$replace=!0,this}};o([qe,Ve,Fe],function(t){t.prototype=Object.create(ji),t.prototype.state=function(e){if(!arguments.length)return this.$$state;if(t!==Fe||!this.$$html5)throw qi("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=y(e)?null:e,this}});var zi=r("$parse"),Wi=Function.prototype.call,Ui=Function.prototype.apply,Yi=Function.prototype.bind,Xi=gt();o("+ - * / % === !== == != < > <= >= && || ! = |".split(" "),function(t){Xi[t]=!0});var Gi={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Ki=function(t){this.options=t};Ki.prototype={constructor:Ki,lex:function(t){for(this.text=t,this.index=0,this.tokens=[];this.index<this.text.length;){var e=this.text.charAt(this.index);if('"'===e||"'"===e)this.readString(e);else if(this.isNumber(e)||"."===e&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(e))this.readIdent();else if(this.is(e,"(){}[].,;:?"))this.tokens.push({index:this.index,text:e}),this.index++;else if(this.isWhitespace(e))this.index++;else{var n=e+this.peek(),r=n+this.peek(2),i=Xi[e],o=Xi[n],a=Xi[r];if(i||o||a){var s=a?r:o?n:e;this.tokens.push({index:this.index,text:s,operator:!0}),this.index+=s.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(t,e){return-1!==e.indexOf(t)},peek:function(t){var e=t||1;return this.index+e<this.text.length?this.text.charAt(this.index+e):!1},isNumber:function(t){return t>="0"&&"9">=t&&"string"==typeof t},isWhitespace:function(t){return" "===t||"\r"===t||"	"===t||"\n"===t||""===t||" "===t},isIdent:function(t){return t>="a"&&"z">=t||t>="A"&&"Z">=t||"_"===t||"$"===t},isExpOperator:function(t){return"-"===t||"+"===t||this.isNumber(t)},throwError:function(t,e,n){n=n||this.index;var r=w(e)?"s "+e+"-"+this.index+" ["+this.text.substring(e,n)+"]":" "+n;throw zi("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",t,r,this.text)},readNumber:function(){for(var t="",e=this.index;this.index<this.text.length;){var n=xr(this.text.charAt(this.index));if("."==n||this.isNumber(n))t+=n;else{var r=this.peek();if("e"==n&&this.isExpOperator(r))t+=n;else if(this.isExpOperator(n)&&r&&this.isNumber(r)&&"e"==t.charAt(t.length-1))t+=n;else{if(!this.isExpOperator(n)||r&&this.isNumber(r)||"e"!=t.charAt(t.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:e,text:t,constant:!0,value:Number(t)})},readIdent:function(){for(var t=this.index;this.index<this.text.length;){var e=this.text.charAt(this.index);if(!this.isIdent(e)&&!this.isNumber(e))break;this.index++}this.tokens.push({index:t,text:this.text.slice(t,this.index),identifier:!0})},readString:function(t){var e=this.index;this.index++;for(var n="",r=t,i=!1;this.index<this.text.length;){var o=this.text.charAt(this.index);if(r+=o,i){if("u"===o){var a=this.text.substring(this.index+1,this.index+5);a.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+a+"]"),this.index+=4,n+=String.fromCharCode(parseInt(a,16))}else{var s=Gi[o];n+=s||o}i=!1}else if("\\"===o)i=!0;else{if(o===t)return this.index++,void this.tokens.push({index:e,text:r,constant:!0,value:n});n+=o}this.index++}this.throwError("Unterminated quote",e)}};var Zi=function(t,e){this.lexer=t,this.options=e};Zi.Program="Program",Zi.ExpressionStatement="ExpressionStatement",Zi.AssignmentExpression="AssignmentExpression",Zi.ConditionalExpression="ConditionalExpression",Zi.LogicalExpression="LogicalExpression",Zi.BinaryExpression="BinaryExpression",Zi.UnaryExpression="UnaryExpression",Zi.CallExpression="CallExpression",Zi.MemberExpression="MemberExpression",Zi.Identifier="Identifier",Zi.Literal="Literal",Zi.ArrayExpression="ArrayExpression",Zi.Property="Property",Zi.ObjectExpression="ObjectExpression",Zi.ThisExpression="ThisExpression",Zi.NGValueParameter="NGValueParameter",Zi.prototype={ast:function(t){this.text=t,this.tokens=this.lexer.lex(t);var e=this.program();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),e},program:function(){for(var t=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&t.push(this.expressionStatement()),!this.expect(";"))return{type:Zi.Program,body:t}},expressionStatement:function(){return{type:Zi.ExpressionStatement,expression:this.filterChain()}},filterChain:function(){for(var t,e=this.expression();t=this.expect("|");)e=this.filter(e);return e},expression:function(){return this.assignment()},assignment:function(){var t=this.ternary();return this.expect("=")&&(t={type:Zi.AssignmentExpression,left:t,right:this.assignment(),operator:"="}),t},ternary:function(){var t,e,n=this.logicalOR();return this.expect("?")&&(t=this.expression(),this.consume(":"))?(e=this.expression(),{type:Zi.ConditionalExpression,test:n,alternate:t,consequent:e}):n},logicalOR:function(){for(var t=this.logicalAND();this.expect("||");)t={type:Zi.LogicalExpression,operator:"||",left:t,right:this.logicalAND()};return t},logicalAND:function(){for(var t=this.equality();this.expect("&&");)t={type:Zi.LogicalExpression,operator:"&&",left:t,right:this.equality()};return t},equality:function(){for(var t,e=this.relational();t=this.expect("==","!=","===","!==");)e={type:Zi.BinaryExpression,operator:t.text,left:e,right:this.relational()};return e},relational:function(){for(var t,e=this.additive();t=this.expect("<",">","<=",">=");)e={type:Zi.BinaryExpression,operator:t.text,left:e,right:this.additive()};return e},additive:function(){for(var t,e=this.multiplicative();t=this.expect("+","-");)e={type:Zi.BinaryExpression,operator:t.text,left:e,right:this.multiplicative()};return e},multiplicative:function(){for(var t,e=this.unary();t=this.expect("*","/","%");)e={type:Zi.BinaryExpression,operator:t.text,left:e,right:this.unary()};return e},unary:function(){var t;return(t=this.expect("+","-","!"))?{type:Zi.UnaryExpression,operator:t.text,prefix:!0,argument:this.unary()}:this.primary()},primary:function(){var t;this.expect("(")?(t=this.filterChain(),this.consume(")")):this.expect("[")?t=this.arrayDeclaration():this.expect("{")?t=this.object():this.constants.hasOwnProperty(this.peek().text)?t=H(this.constants[this.consume().text]):this.peek().identifier?t=this.identifier():this.peek().constant?t=this.constant():this.throwError("not a primary expression",this.peek());for(var e;e=this.expect("(","[",".");)"("===e.text?(t={type:Zi.CallExpression,callee:t,arguments:this.parseArguments()},this.consume(")")):"["===e.text?(t={type:Zi.MemberExpression,object:t,property:this.expression(),computed:!0},this.consume("]")):"."===e.text?t={type:Zi.MemberExpression,object:t,property:this.identifier(),computed:!1}:this.throwError("IMPOSSIBLE");return t},filter:function(t){for(var e=[t],n={type:Zi.CallExpression,callee:this.identifier(),arguments:e,filter:!0};this.expect(":");)e.push(this.expression());return n},parseArguments:function(){var t=[];if(")"!==this.peekToken().text)do t.push(this.expression());while(this.expect(","));return t},identifier:function(){var t=this.consume();return t.identifier||this.throwError("is not a valid identifier",t),{type:Zi.Identifier,name:t.text}},constant:function(){return{type:Zi.Literal,value:this.consume().value}},arrayDeclaration:function(){var t=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;t.push(this.expression())}while(this.expect(","));return this.consume("]"),{type:Zi.ArrayExpression,elements:t}},object:function(){var t,e=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;t={type:Zi.Property,kind:"init"},this.peek().constant?t.key=this.constant():this.peek().identifier?t.key=this.identifier():this.throwError("invalid key",this.peek()),this.consume(":"),t.value=this.expression(),e.push(t)}while(this.expect(","));return this.consume("}"),{type:Zi.ObjectExpression,properties:e}},throwError:function(t,e){throw zi("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",e.text,t,e.index+1,this.text,this.text.substring(e.index))},consume:function(t){if(0===this.tokens.length)throw zi("ueoe","Unexpected end of expression: {0}",this.text);var e=this.expect(t);return e||this.throwError("is unexpected, expecting ["+t+"]",this.peek()),e},peekToken:function(){if(0===this.tokens.length)throw zi("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(t,e,n,r){return this.peekAhead(0,t,e,n,r)},peekAhead:function(t,e,n,r,i){if(this.tokens.length>t){var o=this.tokens[t],a=o.text;if(a===e||a===n||a===r||a===i||!e&&!n&&!r&&!i)return o}return!1},expect:function(t,e,n,r){var i=this.peek(t,e,n,r);return i?(this.tokens.shift(),i):!1},constants:{"true":{type:Zi.Literal,value:!0},"false":{type:Zi.Literal,value:!1},"null":{type:Zi.Literal,value:null},undefined:{type:Zi.Literal,value:n},"this":{type:Zi.ThisExpression}}},an.prototype={compile:function(t,e){var r=this,i=this.astBuilder.ast(t);this.state={nextId:0,filters:{},expensiveChecks:e,fn:{vars:[],body:[],own:{}},assign:{vars:[],body:[],own:{}},inputs:[]},Qe(i,r.$filter);var a,s="";if(this.stage="assign",a=nn(i)){this.state.computing="assign";var l=this.nextId();this.recurse(a,l),s="fn.assign="+this.generateFunction("assign","s,v,l")}var u=tn(i.body);r.stage="inputs",o(u,function(t,e){var n="fn"+e;r.state[n]={vars:[],body:[],own:{}},r.state.computing=n;var i=r.nextId();r.recurse(t,i),r.return_(i),r.state.inputs.push(n),t.watchId=e}),this.state.computing="fn",this.stage="main",this.recurse(i);var c='"'+this.USE+" "+this.STRICT+'";\n'+this.filterPrefix()+"var fn="+this.generateFunction("fn","s,l,a,i")+s+this.watchFns()+"return fn;",h=new Function("$filter","ensureSafeMemberName","ensureSafeObject","ensureSafeFunction","ifDefined","plus","text",c)(this.$filter,Ye,Xe,Ge,Ke,Ze,t);return this.state=this.stage=n,h.literal=rn(i),h.constant=on(i),h},USE:"use",STRICT:"strict",watchFns:function(){var t=[],e=this.state.inputs,n=this;return o(e,function(e){t.push("var "+e+"="+n.generateFunction(e,"s"))}),e.length&&t.push("fn.inputs=["+e.join(",")+"];"),t.join("")},generateFunction:function(t,e){return"function("+e+"){"+this.varsPrefix(t)+this.body(t)+"};"},filterPrefix:function(){var t=[],e=this;return o(this.state.filters,function(n,r){t.push(n+"=$filter("+e.escape(r)+")")}),t.length?"var "+t.join(",")+";":""},varsPrefix:function(t){return this.state[t].vars.length?"var "+this.state[t].vars.join(",")+";":""},body:function(t){return this.state[t].body.join("")},recurse:function(t,e,r,i,a,s){var l,u,c,h,f=this;if(i=i||g,!s&&w(t.watchId))return e=e||this.nextId(),void this.if_("i",this.lazyAssign(e,this.computedMember("i",t.watchId)),this.lazyRecurse(t,e,r,i,a,!0));switch(t.type){case Zi.Program:o(t.body,function(e,r){f.recurse(e.expression,n,n,function(t){u=t}),r!==t.body.length-1?f.current().body.push(u,";"):f.return_(u)});break;case Zi.Literal:h=this.escape(t.value),this.assign(e,h),i(h);break;case Zi.UnaryExpression:this.recurse(t.argument,n,n,function(t){u=t}),h=t.operator+"("+this.ifDefined(u,0)+")",this.assign(e,h),i(h);break;case Zi.BinaryExpression:this.recurse(t.left,n,n,function(t){l=t}),this.recurse(t.right,n,n,function(t){u=t}),h="+"===t.operator?this.plus(l,u):"-"===t.operator?this.ifDefined(l,0)+t.operator+this.ifDefined(u,0):"("+l+")"+t.operator+"("+u+")",this.assign(e,h),i(h);break;case Zi.LogicalExpression:e=e||this.nextId(),f.recurse(t.left,e),f.if_("&&"===t.operator?e:f.not(e),f.lazyRecurse(t.right,e)),i(e);break;case Zi.ConditionalExpression:e=e||this.nextId(),f.recurse(t.test,e),f.if_(e,f.lazyRecurse(t.alternate,e),f.lazyRecurse(t.consequent,e)),i(e);break;case Zi.Identifier:e=e||this.nextId(),r&&(r.context="inputs"===f.stage?"s":this.assign(this.nextId(),this.getHasOwnProperty("l",t.name)+"?l:s"),r.computed=!1,r.name=t.name),Ye(t.name),f.if_("inputs"===f.stage||f.not(f.getHasOwnProperty("l",t.name)),function(){f.if_("inputs"===f.stage||"s",function(){a&&1!==a&&f.if_(f.not(f.nonComputedMember("s",t.name)),f.lazyAssign(f.nonComputedMember("s",t.name),"{}")),f.assign(e,f.nonComputedMember("s",t.name))})},e&&f.lazyAssign(e,f.nonComputedMember("l",t.name))),(f.state.expensiveChecks||un(t.name))&&f.addEnsureSafeObject(e),i(e);break;case Zi.MemberExpression:l=r&&(r.context=this.nextId())||this.nextId(),e=e||this.nextId(),f.recurse(t.object,l,n,function(){f.if_(f.notNull(l),function(){t.computed?(u=f.nextId(),f.recurse(t.property,u),f.addEnsureSafeMemberName(u),a&&1!==a&&f.if_(f.not(f.computedMember(l,u)),f.lazyAssign(f.computedMember(l,u),"{}")),h=f.ensureSafeObject(f.computedMember(l,u)),f.assign(e,h),r&&(r.computed=!0,r.name=u)):(Ye(t.property.name),a&&1!==a&&f.if_(f.not(f.nonComputedMember(l,t.property.name)),f.lazyAssign(f.nonComputedMember(l,t.property.name),"{}")),h=f.nonComputedMember(l,t.property.name),(f.state.expensiveChecks||un(t.property.name))&&(h=f.ensureSafeObject(h)),f.assign(e,h),r&&(r.computed=!1,r.name=t.property.name))},function(){f.assign(e,"undefined")}),i(e)},!!a);break;case Zi.CallExpression:e=e||this.nextId(),t.filter?(u=f.filter(t.callee.name),c=[],o(t.arguments,function(t){var e=f.nextId();f.recurse(t,e),c.push(e)}),h=u+"("+c.join(",")+")",f.assign(e,h),i(e)):(u=f.nextId(),l={},c=[],f.recurse(t.callee,u,l,function(){f.if_(f.notNull(u),function(){f.addEnsureSafeFunction(u),o(t.arguments,function(t){f.recurse(t,f.nextId(),n,function(t){c.push(f.ensureSafeObject(t))})}),l.name?(f.state.expensiveChecks||f.addEnsureSafeObject(l.context),h=f.member(l.context,l.name,l.computed)+"("+c.join(",")+")"):h=u+"("+c.join(",")+")",h=f.ensureSafeObject(h),f.assign(e,h)},function(){f.assign(e,"undefined")}),i(e)}));break;case Zi.AssignmentExpression:if(u=this.nextId(),l={},!en(t.left))throw zi("lval","Trying to assing a value to a non l-value");this.recurse(t.left,n,l,function(){f.if_(f.notNull(l.context),function(){f.recurse(t.right,u),f.addEnsureSafeObject(f.member(l.context,l.name,l.computed)),h=f.member(l.context,l.name,l.computed)+t.operator+u,f.assign(e,h),i(e||h)})},1);break;case Zi.ArrayExpression:c=[],o(t.elements,function(t){f.recurse(t,f.nextId(),n,function(t){c.push(t)})}),h="["+c.join(",")+"]",this.assign(e,h),i(h);break;case Zi.ObjectExpression:c=[],o(t.properties,function(t){f.recurse(t.value,f.nextId(),n,function(e){c.push(f.escape(t.key.type===Zi.Identifier?t.key.name:""+t.key.value)+":"+e)})}),h="{"+c.join(",")+"}",this.assign(e,h),i(h);break;case Zi.ThisExpression:this.assign(e,"s"),i("s");break;case Zi.NGValueParameter:this.assign(e,"v"),i("v")}},getHasOwnProperty:function(t,e){var n=t+"."+e,r=this.current().own;return r.hasOwnProperty(n)||(r[n]=this.nextId(!1,t+"&&("+this.escape(e)+" in "+t+")")),r[n]},assign:function(t,e){return t?(this.current().body.push(t,"=",e,";"),t):void 0},filter:function(t){return this.state.filters.hasOwnProperty(t)||(this.state.filters[t]=this.nextId(!0)),this.state.filters[t]},ifDefined:function(t,e){return"ifDefined("+t+","+this.escape(e)+")"},plus:function(t,e){return"plus("+t+","+e+")"},return_:function(t){this.current().body.push("return ",t,";")},if_:function(t,e,n){if(t===!0)e();else{var r=this.current().body;r.push("if(",t,"){"),e(),r.push("}"),n&&(r.push("else{"),n(),r.push("}"))}},not:function(t){return"!("+t+")"},notNull:function(t){return t+"!=null"},nonComputedMember:function(t,e){return t+"."+e},computedMember:function(t,e){return t+"["+e+"]"},member:function(t,e,n){return n?this.computedMember(t,e):this.nonComputedMember(t,e)},addEnsureSafeObject:function(t){this.current().body.push(this.ensureSafeObject(t),";")},addEnsureSafeMemberName:function(t){this.current().body.push(this.ensureSafeMemberName(t),";")},addEnsureSafeFunction:function(t){this.current().body.push(this.ensureSafeFunction(t),";")},ensureSafeObject:function(t){return"ensureSafeObject("+t+",text)"},ensureSafeMemberName:function(t){return"ensureSafeMemberName("+t+",text)"},ensureSafeFunction:function(t){return"ensureSafeFunction("+t+",text)"},lazyRecurse:function(t,e,n,r,i,o){var a=this;return function(){a.recurse(t,e,n,r,i,o)}},lazyAssign:function(t,e){var n=this;return function(){n.assign(t,e)}},stringEscapeRegex:/[^ a-zA-Z0-9]/g,stringEscapeFn:function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)},escape:function(t){if(C(t))return"'"+t.replace(this.stringEscapeRegex,this.stringEscapeFn)+"'";if(T(t))return t.toString();if(t===!0)return"true";if(t===!1)return"false";if(null===t)return"null";if("undefined"==typeof t)return"undefined";throw zi("esc","IMPOSSIBLE")},nextId:function(t,e){var n="v"+this.state.nextId++;return t||this.current().vars.push(n+(e?"="+e:"")),n},current:function(){return this.state[this.state.computing]}},sn.prototype={compile:function(t,e){var n=this,r=this.astBuilder.ast(t);this.expression=t,this.expensiveChecks=e,Qe(r,n.$filter);var i,a;(i=nn(r))&&(a=this.recurse(i));var s,l=tn(r.body);l&&(s=[],o(l,function(t,e){var r=n.recurse(t);t.input=r,s.push(r),t.watchId=e}));var u=[];o(r.body,function(t){u.push(n.recurse(t.expression))});var c=0===r.body.length?function(){}:1===r.body.length?u[0]:function(t,e){var n;return o(u,function(r){n=r(t,e)}),n};return a&&(c.assign=function(t,e,n){return a(t,n,e)}),s&&(c.inputs=s),c.literal=rn(r),c.constant=on(r),c},recurse:function(t,e,r){var i,a,s,l=this;if(t.input)return this.inputs(t.input,t.watchId);switch(t.type){case Zi.Literal:return this.value(t.value,e);case Zi.UnaryExpression:return a=this.recurse(t.argument),this["unary"+t.operator](a,e);case Zi.BinaryExpression:return i=this.recurse(t.left),a=this.recurse(t.right),this["binary"+t.operator](i,a,e);case Zi.LogicalExpression:return i=this.recurse(t.left),a=this.recurse(t.right),this["binary"+t.operator](i,a,e);case Zi.ConditionalExpression:return this["ternary?:"](this.recurse(t.test),this.recurse(t.alternate),this.recurse(t.consequent),e);case Zi.Identifier:return Ye(t.name,l.expression),l.identifier(t.name,l.expensiveChecks||un(t.name),e,r,l.expression);case Zi.MemberExpression:return i=this.recurse(t.object,!1,!!r),t.computed||(Ye(t.property.name,l.expression),a=t.property.name),t.computed&&(a=this.recurse(t.property)),t.computed?this.computedMember(i,a,e,r,l.expression):this.nonComputedMember(i,a,l.expensiveChecks,e,r,l.expression);case Zi.CallExpression:return s=[],o(t.arguments,function(t){s.push(l.recurse(t))}),t.filter&&(a=this.$filter(t.callee.name)),t.filter||(a=this.recurse(t.callee,!0)),t.filter?function(t,r,i,o){for(var l=[],u=0;u<s.length;++u)l.push(s[u](t,r,i,o));var c=a.apply(n,l,o);return e?{context:n,name:n,value:c}:c}:function(t,n,r,i){var o,u=a(t,n,r,i);if(null!=u.value){Xe(u.context,l.expression),Ge(u.value,l.expression);for(var c=[],h=0;h<s.length;++h)c.push(Xe(s[h](t,n,r,i),l.expression));o=Xe(u.value.apply(u.context,c),l.expression)}return e?{value:o}:o};case Zi.AssignmentExpression:return i=this.recurse(t.left,!0,1),a=this.recurse(t.right),function(t,n,r,o){var s=i(t,n,r,o),u=a(t,n,r,o);return Xe(s.value,l.expression),s.context[s.name]=u,e?{value:u}:u};case Zi.ArrayExpression:return s=[],o(t.elements,function(t){s.push(l.recurse(t))}),function(t,n,r,i){for(var o=[],a=0;a<s.length;++a)o.push(s[a](t,n,r,i));return e?{value:o}:o};case Zi.ObjectExpression:return s=[],o(t.properties,function(t){s.push({key:t.key.type===Zi.Identifier?t.key.name:""+t.key.value,value:l.recurse(t.value)})}),function(t,n,r,i){for(var o={},a=0;a<s.length;++a)o[s[a].key]=s[a].value(t,n,r,i);return e?{value:o}:o};case Zi.ThisExpression:return function(t){return e?{value:t}:t};case Zi.NGValueParameter:return function(t,n,r,i){return e?{value:r}:r}}},"unary+":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=w(a)?+a:0,e?{value:a}:a}},"unary-":function(t,e){return function(n,r,i,o){var a=t(n,r,i,o);return a=w(a)?-a:0,e?{value:a}:a}},"unary!":function(t,e){return function(n,r,i,o){var a=!t(n,r,i,o);return e?{value:a}:a}},"binary+":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),l=e(r,i,o,a),u=Ze(s,l);return n?{value:u}:u}},"binary-":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a),l=e(r,i,o,a),u=(w(s)?s:0)-(w(l)?l:0);return n?{value:u}:u}},"binary*":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)*e(r,i,o,a);return n?{value:s}:s}},"binary/":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)/e(r,i,o,a);return n?{value:s}:s}},"binary%":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)%e(r,i,o,a);return n?{value:s}:s}},"binary===":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)===e(r,i,o,a);return n?{value:s}:s}},"binary!==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!==e(r,i,o,a);return n?{value:s}:s}},"binary==":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)==e(r,i,o,a);return n?{value:s}:s}},"binary!=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)!=e(r,i,o,a);return n?{value:s}:s}},"binary<":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<e(r,i,o,a);return n?{value:s}:s}},"binary>":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>e(r,i,o,a);return n?{value:s}:s}},"binary<=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)<=e(r,i,o,a);return n?{value:s}:s}},"binary>=":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)>=e(r,i,o,a);return n?{value:s}:s}},"binary&&":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)&&e(r,i,o,a);return n?{value:s}:s}},"binary||":function(t,e,n){return function(r,i,o,a){var s=t(r,i,o,a)||e(r,i,o,a);return n?{value:s}:s}},"ternary?:":function(t,e,n,r){return function(i,o,a,s){var l=t(i,o,a,s)?e(i,o,a,s):n(i,o,a,s);return r?{value:l}:l}},value:function(t,e){return function(){return e?{context:n,name:n,value:t}:t}},identifier:function(t,e,r,i,o){return function(a,s,l,u){var c=s&&t in s?s:a;i&&1!==i&&c&&!c[t]&&(c[t]={});var h=c?c[t]:n;return e&&Xe(h,o),r?{context:c,name:t,value:h}:h}},computedMember:function(t,e,n,r,i){return function(o,a,s,l){var u,c,h=t(o,a,s,l);return null!=h&&(u=e(o,a,s,l),Ye(u,i),r&&1!==r&&h&&!h[u]&&(h[u]={}),c=h[u],Xe(c,i)),n?{context:h,name:u,value:c}:c}},nonComputedMember:function(t,e,r,i,o,a){return function(s,l,u,c){var h=t(s,l,u,c);o&&1!==o&&h&&!h[e]&&(h[e]={});var f=null!=h?h[e]:n;return(r||un(e))&&Xe(f,a),i?{context:h,name:e,value:f}:f}},inputs:function(t,e){return function(n,r,i,o){return o?o[e]:t(n,r,i)}}};var Ji=function(t,e,n){this.lexer=t,this.$filter=e,this.options=n,this.ast=new Zi(this.lexer),this.astCompiler=n.csp?new sn(this.ast,e):new an(this.ast,e)};Ji.prototype={constructor:Ji,parse:function(t){return this.astCompiler.compile(t,this.options.expensiveChecks)}};var Qi=(gt(),gt(),Object.prototype.valueOf),to=r("$sce"),eo={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},Di=r("$compile"),no=e.createElement("a"),ro=Sn(t.location.href);An.$inject=["$document"],Mn.$inject=["$provide"],Nn.$inject=["$locale"],Bn.$inject=["$locale"];var io=".",oo={yyyy:Vn("FullYear",4),yy:Vn("FullYear",2,0,!0),y:Vn("FullYear",1),MMMM:qn("Month"),MMM:qn("Month",!0),MM:Vn("Month",2,1),M:Vn("Month",1,1),dd:Vn("Date",2),d:Vn("Date",1),HH:Vn("Hours",2),H:Vn("Hours",1),hh:Vn("Hours",2,-12),h:Vn("Hours",1,-12),mm:Vn("Minutes",2),m:Vn("Minutes",1),ss:Vn("Seconds",2),s:Vn("Seconds",1),sss:Vn("Milliseconds",3),EEEE:qn("Day"),EEE:qn("Day",!0),a:Yn,Z:jn,ww:Un(2),w:Un(1),G:Xn,GG:Xn,GGG:Xn,GGGG:Gn},ao=/((?:[^yMdHhmsaZEwG']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|G+|w+))(.*)/,so=/^\-?\d+$/;Kn.$inject=["$locale"];var lo=v(xr),uo=v(Tr);Qn.$inject=["$parse"];var co=v({restrict:"E",compile:function(t,e){return e.href||e.xlinkHref?void 0:function(t,e){if("a"===e[0].nodeName.toLowerCase()){var n="[object SVGAnimatedString]"===Pr.call(e.prop("href"))?"xlink:href":"href";e.on("click",function(t){e.attr(n)||t.preventDefault()})}}}}),ho={};o(gi,function(t,e){function n(t,n,i){t.$watch(i[r],function(t){i.$set(e,!!t)})}if("multiple"!=t){var r=ue("ng-"+e),i=n;"checked"===t&&(i=function(t,e,i){i.ngModel!==i[r]&&n(t,e,i)}),ho[r]=function(){return{restrict:"A",priority:100,link:i}}}}),o(vi,function(t,e){ho[e]=function(){return{priority:100,link:function(t,n,r){if("ngPattern"===e&&"/"==r.ngPattern.charAt(0)){var i=r.ngPattern.match(wr);if(i)return void r.$set("ngPattern",new RegExp(i[1],i[2]));

}t.$watch(r[e],function(t){r.$set(e,t)})}}}}),o(["src","srcset","href"],function(t){var e=ue("ng-"+t);ho[e]=function(){return{priority:99,link:function(n,r,i){var o=t,a=t;"href"===t&&"[object SVGAnimatedString]"===Pr.call(r.prop("href"))&&(a="xlinkHref",i.$attr[a]="xlink:href",o=null),i.$observe(e,function(e){return e?(i.$set(a,e),void(Sr&&o&&r.prop(o,i[a]))):void("href"===t&&i.$set(a,null))})}}}});var fo={$addControl:g,$$renameControl:er,$removeControl:g,$setValidity:g,$setDirty:g,$setPristine:g,$setSubmitted:g},po="ng-submitted";nr.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var go=function(t){return["$timeout",function(e){var r={name:"form",restrict:t?"EAC":"E",controller:nr,compile:function(r,i){r.addClass(Go).addClass(Yo);var o=i.name?"name":t&&i.ngForm?"ngForm":!1;return{pre:function(t,r,i,a){if(!("action"in i)){var s=function(e){t.$apply(function(){a.$commitViewValue(),a.$setSubmitted()}),e.preventDefault()};ri(r[0],"submit",s),r.on("$destroy",function(){e(function(){ii(r[0],"submit",s)},0,!1)})}var l=a.$$parentForm;o&&(ln(t,a.$name,a,a.$name),i.$observe(o,function(e){a.$name!==e&&(ln(t,a.$name,n,a.$name),l.$$renameControl(a,e),ln(t,a.$name,a,a.$name))})),r.on("$destroy",function(){l.$removeControl(a),o&&ln(t,i[o],n,a.$name),h(a,fo)})}}}};return r}]},mo=go(),vo=go(!0),yo=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,wo=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,bo=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,xo=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))([eE][+-]?\d+)?\s*$/,Co=/^(\d{4})-(\d{2})-(\d{2})$/,To=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,Eo=/^(\d{4})-W(\d\d)$/,ko=/^(\d{4})-(\d\d)$/,So=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,_o={text:ir,date:lr("date",Co,sr(Co,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":lr("datetimelocal",To,sr(To,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:lr("time",So,sr(So,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:lr("week",Eo,ar,"yyyy-Www"),month:lr("month",ko,sr(ko,["yyyy","MM"]),"yyyy-MM"),number:cr,url:hr,email:fr,radio:dr,checkbox:gr,hidden:g,button:g,submit:g,reset:g,file:g},$o=["$browser","$sniffer","$filter","$parse",function(t,e,n,r){return{restrict:"E",require:["?ngModel"],link:{pre:function(i,o,a,s){s[0]&&(_o[xr(a.type)]||_o.text)(i,o,a,s[0],e,t,n,r)}}}}],Ao=/^(true|false|\d+)$/,Do=function(){return{restrict:"A",priority:100,compile:function(t,e){return Ao.test(e.ngValue)?function(t,e,n){n.$set("value",t.$eval(n.ngValue))}:function(t,e,n){t.$watch(n.ngValue,function(t){n.$set("value",t)})}}}},Mo=["$compile",function(t){return{restrict:"AC",compile:function(e){return t.$$addBindingClass(e),function(e,r,i){t.$$addBindingInfo(r,i.ngBind),r=r[0],e.$watch(i.ngBind,function(t){r.textContent=t===n?"":t})}}}}],Ro=["$interpolate","$compile",function(t,e){return{compile:function(r){return e.$$addBindingClass(r),function(r,i,o){var a=t(i.attr(o.$attr.ngBindTemplate));e.$$addBindingInfo(i,a.expressions),i=i[0],o.$observe("ngBindTemplate",function(t){i.textContent=t===n?"":t})}}}}],Po=["$sce","$parse","$compile",function(t,e,n){return{restrict:"A",compile:function(r,i){var o=e(i.ngBindHtml),a=e(i.ngBindHtml,function(t){return(t||"").toString()});return n.$$addBindingClass(r),function(e,r,i){n.$$addBindingInfo(r,i.ngBindHtml),e.$watch(a,function(){r.html(t.getTrustedHtml(o(e))||"")})}}}}],Oo=v({restrict:"A",require:"ngModel",link:function(t,e,n,r){r.$viewChangeListeners.push(function(){t.$eval(n.ngChange)})}}),Lo=mr("",!0),Io=mr("Odd",0),No=mr("Even",1),Bo=tr({compile:function(t,e){e.$set("ngCloak",n),t.removeClass("ng-cloak")}}),Ho=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],Fo={},Vo={blur:!0,focus:!0};o("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(t){var e=ue("ng-"+t);Fo[e]=["$parse","$rootScope",function(n,r){return{restrict:"A",compile:function(i,o){var a=n(o[e],null,!0);return function(e,n){n.on(t,function(n){var i=function(){a(e,{$event:n})};Vo[t]&&r.$$phase?e.$evalAsync(i):e.$apply(i)})}}}}]});var qo=["$animate",function(t){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function(n,r,i,o,a){var s,l,u;n.$watch(i.ngIf,function(n){n?l||a(function(n,o){l=o,n[n.length++]=e.createComment(" end ngIf: "+i.ngIf+" "),s={clone:n},t.enter(n,r.parent(),r)}):(u&&(u.remove(),u=null),l&&(l.$destroy(),l=null),s&&(u=pt(s.clone),t.leave(u).then(function(){u=null}),s=null))})}}}],jo=["$templateRequest","$anchorScroll","$animate","$sce",function(t,e,n,r){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:Ir.noop,compile:function(i,o){var a=o.ngInclude||o.src,s=o.onload||"",l=o.autoscroll;return function(i,o,u,c,h){var f,d,p,g=0,m=function(){d&&(d.remove(),d=null),f&&(f.$destroy(),f=null),p&&(n.leave(p).then(function(){d=null}),d=p,p=null)};i.$watch(r.parseAsResourceUrl(a),function(r){var a=function(){!w(l)||l&&!i.$eval(l)||e()},u=++g;r?(t(r,!0).then(function(t){if(u===g){var e=i.$new();c.template=t;var l=h(e,function(t){m(),n.enter(t,null,o).then(a)});f=e,p=l,f.$emit("$includeContentLoaded",r),i.$eval(s)}},function(){u===g&&(m(),i.$emit("$includeContentError",r))}),i.$emit("$includeContentRequested",r)):(m(),c.template=null)})}}}}],zo=["$compile",function(t){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(n,r,i,o){return/SVG/.test(r[0].toString())?(r.empty(),void t(kt(o.template,e).childNodes)(n,function(t){r.append(t)},{futureParentElement:r})):(r.html(o.template),void t(r.contents())(n))}}}],Wo=tr({priority:450,compile:function(){return{pre:function(t,e,n){t.$eval(n.ngInit)}}}}),Uo=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(t,e,r,i){var a=e.attr(r.$attr.ngList)||", ",s="false"!==r.ngTrim,l=s?Vr(a):a,u=function(t){if(!y(t)){var e=[];return t&&o(t.split(l),function(t){t&&e.push(s?Vr(t):t)}),e}};i.$parsers.push(u),i.$formatters.push(function(t){return Hr(t)?t.join(a):n}),i.$isEmpty=function(t){return!t||!t.length}}}},Yo="ng-valid",Xo="ng-invalid",Go="ng-pristine",Ko="ng-dirty",Zo="ng-untouched",Jo="ng-touched",Qo="ng-pending",ta=new r("ngModel"),ea=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function(t,e,r,i,a,s,l,u,c,h){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=n,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=n,this.$name=h(r.name||"",!1)(t);var f,d=a(r.ngModel),p=d.assign,m=d,v=p,b=null,x=this;this.$$setOptions=function(t){if(x.$options=t,t&&t.getterSetter){var e=a(r.ngModel+"()"),n=a(r.ngModel+"($$$p)");m=function(t){var n=d(t);return k(n)&&(n=e(t)),n},v=function(t,e){k(d(t))?n(t,{$$$p:x.$modelValue}):p(t,x.$modelValue)}}else if(!d.assign)throw ta("nonassign","Expression '{0}' is non-assignable. Element: {1}",r.ngModel,Z(i))},this.$render=g,this.$isEmpty=function(t){return y(t)||""===t||null===t||t!==t};var C=i.inheritedData("$formController")||fo,E=0;vr({ctrl:this,$element:i,set:function(t,e){t[e]=!0},unset:function(t,e){delete t[e]},parentForm:C,$animate:s}),this.$setPristine=function(){x.$dirty=!1,x.$pristine=!0,s.removeClass(i,Ko),s.addClass(i,Go)},this.$setDirty=function(){x.$dirty=!0,x.$pristine=!1,s.removeClass(i,Go),s.addClass(i,Ko),C.$setDirty()},this.$setUntouched=function(){x.$touched=!1,x.$untouched=!0,s.setClass(i,Zo,Jo)},this.$setTouched=function(){x.$touched=!0,x.$untouched=!1,s.setClass(i,Jo,Zo)},this.$rollbackViewValue=function(){l.cancel(b),x.$viewValue=x.$$lastCommittedViewValue,x.$render()},this.$validate=function(){if(!T(x.$modelValue)||!isNaN(x.$modelValue)){var t=x.$$lastCommittedViewValue,e=x.$$rawModelValue,r=x.$valid,i=x.$modelValue,o=x.$options&&x.$options.allowInvalid;x.$$runValidators(e,t,function(t){o||r===t||(x.$modelValue=t?e:n,x.$modelValue!==i&&x.$$writeModelToScope())})}},this.$$runValidators=function(t,e,r){function i(){var t=x.$$parserName||"parse";return f!==n?(f||(o(x.$validators,function(t,e){l(e,null)}),o(x.$asyncValidators,function(t,e){l(e,null)})),l(t,f),f):(l(t,null),!0)}function a(){var n=!0;return o(x.$validators,function(r,i){var o=r(t,e);n=n&&o,l(i,o)}),n?!0:(o(x.$asyncValidators,function(t,e){l(e,null)}),!1)}function s(){var r=[],i=!0;o(x.$asyncValidators,function(o,a){var s=o(t,e);if(!P(s))throw ta("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",s);l(a,n),r.push(s.then(function(){l(a,!0)},function(t){i=!1,l(a,!1)}))}),r.length?c.all(r).then(function(){u(i)},g):u(!0)}function l(t,e){h===E&&x.$setValidity(t,e)}function u(t){h===E&&r(t)}E++;var h=E;return i()&&a()?void s():void u(!1)},this.$commitViewValue=function(){var t=x.$viewValue;l.cancel(b),(x.$$lastCommittedViewValue!==t||""===t&&x.$$hasNativeValidators)&&(x.$$lastCommittedViewValue=t,x.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function e(){x.$modelValue!==a&&x.$$writeModelToScope()}var r=x.$$lastCommittedViewValue,i=r;if(f=y(i)?n:!0)for(var o=0;o<x.$parsers.length;o++)if(i=x.$parsers[o](i),y(i)){f=!1;break}T(x.$modelValue)&&isNaN(x.$modelValue)&&(x.$modelValue=m(t));var a=x.$modelValue,s=x.$options&&x.$options.allowInvalid;x.$$rawModelValue=i,s&&(x.$modelValue=i,e()),x.$$runValidators(i,x.$$lastCommittedViewValue,function(t){s||(x.$modelValue=t?i:n,e())})},this.$$writeModelToScope=function(){v(t,x.$modelValue),o(x.$viewChangeListeners,function(t){try{t()}catch(n){e(n)}})},this.$setViewValue=function(t,e){x.$viewValue=t,(!x.$options||x.$options.updateOnDefault)&&x.$$debounceViewValueCommit(e)},this.$$debounceViewValueCommit=function(e){var n,r=0,i=x.$options;i&&w(i.debounce)&&(n=i.debounce,T(n)?r=n:T(n[e])?r=n[e]:T(n["default"])&&(r=n["default"])),l.cancel(b),r?b=l(function(){x.$commitViewValue()},r):u.$$phase?x.$commitViewValue():t.$apply(function(){x.$commitViewValue()})},t.$watch(function(){var e=m(t);if(e!==x.$modelValue&&(x.$modelValue===x.$modelValue||e===e)){x.$modelValue=x.$$rawModelValue=e,f=n;for(var r=x.$formatters,i=r.length,o=e;i--;)o=r[i](o);x.$viewValue!==o&&(x.$viewValue=x.$$lastCommittedViewValue=o,x.$render(),x.$$runValidators(e,o,g))}return e})}],na=["$rootScope",function(t){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:ea,priority:1,compile:function(e){return e.addClass(Go).addClass(Zo).addClass(Yo),{pre:function(t,e,n,r){var i=r[0],o=r[1]||fo;i.$$setOptions(r[2]&&r[2].$options),o.$addControl(i),n.$observe("name",function(t){i.$name!==t&&o.$$renameControl(i,t)}),t.$on("$destroy",function(){o.$removeControl(i)})},post:function(e,n,r,i){var o=i[0];o.$options&&o.$options.updateOn&&n.on(o.$options.updateOn,function(t){o.$$debounceViewValueCommit(t&&t.type)}),n.on("blur",function(n){o.$touched||(t.$$phase?e.$evalAsync(o.$setTouched):e.$apply(o.$setTouched))})}}}}}],ra=/(\s+|^)default(\s+|$)/,ia=function(){return{restrict:"A",controller:["$scope","$attrs",function(t,e){var r=this;this.$options=H(t.$eval(e.ngModelOptions)),this.$options.updateOn!==n?(this.$options.updateOnDefault=!1,this.$options.updateOn=Vr(this.$options.updateOn.replace(ra,function(){return r.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},oa=tr({terminal:!0,priority:1e3}),aa=r("ngOptions"),sa=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?(?:\s+disable\s+when\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,la=["$compile","$parse",function(t,n){function r(t,e,r){function o(t,e,n,r,i){this.selectValue=t,this.viewValue=e,this.label=n,this.group=r,this.disabled=i}var a=t.match(sa);if(!a)throw aa("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",t,Z(e));var s=a[5]||a[7],l=a[6],u=/ as /.test(a[0])&&a[1],c=a[9],h=n(a[2]?a[1]:s),f=u&&n(u),d=f||h,p=c&&n(c),g=c?function(t,e){return p(r,e)}:function(t){return Yt(t)},m=function(t,e){return g(t,C(t,e))},v=n(a[2]||a[1]),y=n(a[3]||""),w=n(a[4]||""),b=n(a[8]),x={},C=l?function(t,e){return x[l]=e,x[s]=t,x}:function(t){return x[s]=t,x};return{trackBy:c,getTrackByValue:m,getWatchables:n(b,function(t){var e=[];return t=t||[],Object.keys(t).forEach(function(n){if("$"!==n.charAt(0)){var i=C(t[n],n),o=g(t[n],i);if(e.push(o),a[2]||a[1]){var s=v(r,i);e.push(s)}if(a[4]){var l=w(r,i);e.push(l)}}}),e}),getOptions:function(){var t,e=[],n={},a=b(r)||[];if(!l&&i(a))t=a;else{t=[];for(var s in a)a.hasOwnProperty(s)&&"$"!==s.charAt(0)&&t.push(s)}for(var u=t.length,h=0;u>h;h++){var f=a===t?h:t[h],p=a[f],x=C(p,f),T=d(r,x),E=g(T,x),k=v(r,x),S=y(r,x),_=w(r,x),$=new o(E,T,k,S,_);e.push($),n[E]=$}return{items:e,selectValueMap:n,getOptionFromViewValue:function(t){return n[m(t)]},getViewValueFromOption:function(t){return c?Ir.copy(t.viewValue):t.viewValue}}}}}var a=e.createElement("option"),s=e.createElement("optgroup");return{restrict:"A",terminal:!0,require:["select","?ngModel"],link:function(e,n,i,l){function u(t,e){t.element=e,e.disabled=t.disabled,t.value!==e.value&&(e.value=t.selectValue),t.label!==e.label&&(e.label=t.label,e.textContent=t.label)}function c(t,e,n,r){var i;return e&&xr(e.nodeName)===n?i=e:(i=r.cloneNode(!1),e?t.insertBefore(i,e):t.appendChild(i)),i}function h(t){for(var e;t;)e=t.nextSibling,Vt(t),t=e}function f(t){var e=g&&g[0],n=C&&C[0];if(e||n)for(;t&&(t===e||t===n);)t=t.nextSibling;return t}function d(){var t=T&&m.readValue();T=E.getOptions();var e={},r=n[0].firstChild;if(x&&n.prepend(g),r=f(r),T.items.forEach(function(t){var i,o,l;t.group?(i=e[t.group],i||(o=c(n[0],r,"optgroup",s),r=o.nextSibling,o.label=t.group,i=e[t.group]={groupElement:o,currentOptionElement:o.firstChild}),l=c(i.groupElement,i.currentOptionElement,"option",a),u(t,l),i.currentOptionElement=l.nextSibling):(l=c(n[0],r,"option",a),u(t,l),r=l.nextSibling)}),Object.keys(e).forEach(function(t){h(e[t].currentOptionElement)}),h(r),p.$render(),!p.$isEmpty(t)){var i=m.readValue();(E.trackBy?V(t,i):t===i)||(p.$setViewValue(i),p.$render())}}var p=l[1];if(p){for(var g,m=l[0],v=i.multiple,y=0,w=n.children(),b=w.length;b>y;y++)if(""===w[y].value){g=w.eq(y);break}var x=!!g,C=_r(a.cloneNode(!1));C.val("?");var T,E=r(i.ngOptions,n,e),k=function(){x||n.prepend(g),n.val(""),g.prop("selected",!0),g.attr("selected",!0)},S=function(){x||g.remove()},_=function(){n.prepend(C),n.val("?"),C.prop("selected",!0),C.attr("selected",!0)},$=function(){C.remove()};v?(p.$isEmpty=function(t){return!t||0===t.length},m.writeValue=function(t){T.items.forEach(function(t){t.element.selected=!1}),t&&t.forEach(function(t){var e=T.getOptionFromViewValue(t);e&&!e.disabled&&(e.element.selected=!0)})},m.readValue=function(){var t=n.val()||[],e=[];return o(t,function(t){var n=T.selectValueMap[t];n.disabled||e.push(T.getViewValueFromOption(n))}),e},E.trackBy&&e.$watchCollection(function(){return Hr(p.$viewValue)?p.$viewValue.map(function(t){return E.getTrackByValue(t)}):void 0},function(){p.$render()})):(m.writeValue=function(t){var e=T.getOptionFromViewValue(t);e&&!e.disabled?n[0].value!==e.selectValue&&($(),S(),n[0].value=e.selectValue,e.element.selected=!0,e.element.setAttribute("selected","selected")):null===t||x?($(),k()):(S(),_())},m.readValue=function(){var t=T.selectValueMap[n.val()];return t&&!t.disabled?(S(),$(),T.getViewValueFromOption(t)):null},E.trackBy&&e.$watch(function(){return E.getTrackByValue(p.$viewValue)},function(){p.$render()})),x?(g.remove(),t(g)(e),g.removeClass("ng-scope")):g=_r(a.cloneNode(!1)),d(),e.$watchCollection(E.getWatchables,d)}}}}],ua=["$locale","$interpolate","$log",function(t,e,n){var r=/{}/g,i=/^when(Minus)?(.+)$/;return{link:function(a,s,l){function u(t){s.text(t||"")}var c,h=l.count,f=l.$attr.when&&s.attr(l.$attr.when),d=l.offset||0,p=a.$eval(f)||{},m={},v=e.startSymbol(),w=e.endSymbol(),b=v+h+"-"+d+w,x=Ir.noop;o(l,function(t,e){var n=i.exec(e);if(n){var r=(n[1]?"-":"")+xr(n[2]);p[r]=s.attr(l.$attr[e])}}),o(p,function(t,n){m[n]=e(t.replace(r,b))}),a.$watch(h,function(e){var r=parseFloat(e),i=isNaN(r);if(i||r in p||(r=t.pluralCat(r-d)),r!==c&&!(i&&T(c)&&isNaN(c))){x();var o=m[r];y(o)?(null!=e&&n.debug("ngPluralize: no rule defined for '"+r+"' in "+f),x=g,u()):x=a.$watch(o,u),c=r}})}}}],ca=["$parse","$animate",function(t,a){var s="$$NG_REMOVED",l=r("ngRepeat"),u=function(t,e,n,r,i,o,a){t[n]=r,i&&(t[i]=o),t.$index=e,t.$first=0===e,t.$last=e===a-1,t.$middle=!(t.$first||t.$last),t.$odd=!(t.$even=0===(1&e))},c=function(t){return t.clone[0]},h=function(t){return t.clone[t.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function(r,f){var d=f.ngRepeat,p=e.createComment(" end ngRepeat: "+d+" "),g=d.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!g)throw l("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",d);var m=g[1],v=g[2],y=g[3],w=g[4];if(g=m.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!g)throw l("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",m);var b=g[3]||g[1],x=g[2];if(y&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(y)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(y)))throw l("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",y);var C,T,E,k,S={$id:Yt};return w?C=t(w):(E=function(t,e){return Yt(e)},k=function(t){return t}),function(t,e,r,f,g){C&&(T=function(e,n,r){return x&&(S[x]=e),S[b]=n,S.$index=r,C(t,S)});var m=gt();t.$watchCollection(v,function(r){var f,v,w,C,S,_,$,A,D,M,R,P,O=e[0],L=gt();if(y&&(t[y]=r),i(r))D=r,A=T||E;else{A=T||k,D=[];for(var I in r)r.hasOwnProperty(I)&&"$"!==I.charAt(0)&&D.push(I)}for(C=D.length,R=new Array(C),f=0;C>f;f++)if(S=r===D?f:D[f],_=r[S],$=A(S,_,f),m[$])M=m[$],delete m[$],L[$]=M,R[f]=M;else{if(L[$])throw o(R,function(t){t&&t.scope&&(m[t.id]=t)}),l("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",d,$,_);R[f]={id:$,scope:n,clone:n},L[$]=!0}for(var N in m){if(M=m[N],P=pt(M.clone),a.leave(P),P[0].parentNode)for(f=0,v=P.length;v>f;f++)P[f][s]=!0;M.scope.$destroy()}for(f=0;C>f;f++)if(S=r===D?f:D[f],_=r[S],M=R[f],M.scope){w=O;do w=w.nextSibling;while(w&&w[s]);c(M)!=w&&a.move(pt(M.clone),null,_r(O)),O=h(M),u(M.scope,f,b,_,x,S,C)}else g(function(t,e){M.scope=e;var n=p.cloneNode(!1);t[t.length++]=n,a.enter(t,null,_r(O)),O=n,M.clone=t,L[M.id]=M,u(M.scope,f,b,_,x,S,C)});m=L})}}}}],ha="ng-hide",fa="ng-hide-animate",da=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngShow,function(e){t[e?"removeClass":"addClass"](n,ha,{tempClasses:fa})})}}}],pa=["$animate",function(t){return{restrict:"A",multiElement:!0,link:function(e,n,r){e.$watch(r.ngHide,function(e){t[e?"addClass":"removeClass"](n,ha,{tempClasses:fa})})}}}],ga=tr(function(t,e,n){t.$watch(n.ngStyle,function(t,n){n&&t!==n&&o(n,function(t,n){e.css(n,"")}),t&&e.css(t)},!0)}),ma=["$animate",function(t){return{require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(n,r,i,a){var s=i.ngSwitch||i.on,l=[],u=[],c=[],h=[],f=function(t,e){return function(){t.splice(e,1)}};n.$watch(s,function(n){var r,i;for(r=0,i=c.length;i>r;++r)t.cancel(c[r]);for(c.length=0,r=0,i=h.length;i>r;++r){var s=pt(u[r].clone);h[r].$destroy();var d=c[r]=t.leave(s);d.then(f(c,r))}u.length=0,h.length=0,(l=a.cases["!"+n]||a.cases["?"])&&o(l,function(n){n.transclude(function(r,i){h.push(i);var o=n.element;r[r.length++]=e.createComment(" end ngSwitchWhen: ");var a={clone:r};u.push(a),t.enter(r,o.parent(),o)})})})}}}],va=tr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["!"+n.ngSwitchWhen]=r.cases["!"+n.ngSwitchWhen]||[],r.cases["!"+n.ngSwitchWhen].push({transclude:i,element:e})}}),ya=tr({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(t,e,n,r,i){r.cases["?"]=r.cases["?"]||[],r.cases["?"].push({transclude:i,element:e})}}),wa=tr({restrict:"EAC",link:function(t,e,n,i,o){if(!o)throw r("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",Z(e));o(function(t){e.empty(),e.append(t)})}}),ba=["$templateCache",function(t){return{restrict:"E",terminal:!0,compile:function(e,n){if("text/ng-template"==n.type){var r=n.id,i=e[0].text;t.put(r,i)}}}}],xa={$setViewValue:g,$render:g},Ca=["$element","$scope","$attrs",function(t,r,i){var o=this,a=new Xt;o.ngModelCtrl=xa,o.unknownOption=_r(e.createElement("option")),o.renderUnknownOption=function(e){var n="? "+Yt(e)+" ?";o.unknownOption.val(n),t.prepend(o.unknownOption),t.val(n)},r.$on("$destroy",function(){o.renderUnknownOption=g}),o.removeUnknownOption=function(){o.unknownOption.parent()&&o.unknownOption.remove()},o.readValue=function(){return o.removeUnknownOption(),t.val()},o.writeValue=function(e){o.hasOption(e)?(o.removeUnknownOption(),t.val(e),""===e&&o.emptyOption.prop("selected",!0)):null==e&&o.emptyOption?(o.removeUnknownOption(),t.val("")):o.renderUnknownOption(e)},o.addOption=function(t,e){ft(t,'"option value"'),""===t&&(o.emptyOption=e);var n=a.get(t)||0;a.put(t,n+1)},o.removeOption=function(t){var e=a.get(t);e&&(1===e?(a.remove(t),""===t&&(o.emptyOption=n)):a.put(t,e-1))},o.hasOption=function(t){return!!a.get(t)}}],Ta=function(){return{restrict:"E",require:["select","?ngModel"],controller:Ca,link:function(t,e,n,r){var i=r[1];if(i){var a=r[0];if(a.ngModelCtrl=i,i.$render=function(){a.writeValue(i.$viewValue)},e.on("change",function(){t.$apply(function(){i.$setViewValue(a.readValue())})}),n.multiple){a.readValue=function(){var t=[];return o(e.find("option"),function(e){e.selected&&t.push(e.value)}),t},a.writeValue=function(t){var n=new Xt(t);o(e.find("option"),function(t){t.selected=w(n.get(t.value))})};var s,l=0/0;t.$watch(function(){l!==i.$viewValue||V(s,i.$viewValue)||(s=F(i.$viewValue),i.$render()),l=i.$viewValue}),i.$isEmpty=function(t){return!t||0===t.length}}}}}},Ea=["$interpolate",function(t){function e(t){t[0].hasAttribute("selected")&&(t[0].selected=!0)}return{restrict:"E",priority:100,compile:function(n,r){if(y(r.value)){var i=t(n.text(),!0);i||r.$set("value",n.text())}return function(t,n,r){var o="$selectController",a=n.parent(),s=a.data(o)||a.parent().data(o);s&&s.ngModelCtrl&&(i?t.$watch(i,function(t,i){r.$set("value",t),i!==t&&s.removeOption(i),s.addOption(t,n),s.ngModelCtrl.$render(),e(n)}):(s.addOption(r.value,n),s.ngModelCtrl.$render(),e(n)),n.on("$destroy",function(){s.removeOption(r.value),s.ngModelCtrl.$render()}))}}}}],ka=v({restrict:"E",terminal:!1}),Sa=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){r&&(n.required=!0,r.$validators.required=function(t,e){return!n.required||!r.$isEmpty(e)},n.$observe("required",function(){r.$validate()}))}}},_a=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,i,o){if(o){var a,s=i.ngPattern||i.pattern;i.$observe("pattern",function(t){if(C(t)&&t.length>0&&(t=new RegExp("^"+t+"$")),t&&!t.test)throw r("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",s,t,Z(e));a=t||n,o.$validate()}),o.$validators.pattern=function(t){return o.$isEmpty(t)||y(a)||a.test(t)}}}}},$a=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=-1;n.$observe("maxlength",function(t){var e=d(t);i=isNaN(e)?-1:e,r.$validate()}),r.$validators.maxlength=function(t,e){return 0>i||r.$isEmpty(e)||e.length<=i}}}}},Aa=function(){return{restrict:"A",require:"?ngModel",link:function(t,e,n,r){if(r){var i=0;n.$observe("minlength",function(t){i=d(t)||0,r.$validate()}),r.$validators.minlength=function(t,e){return r.$isEmpty(e)||e.length>=i}}}}};return t.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(ut(),wt(Ir),void _r(e).ready(function(){it(e,ot)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}.ng-animate-shim{visibility:hidden;}.ng-anchor{position:absolute;}</style>'),/**
 * @license AngularJS v1.4.1
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(t,e,n){if(!t)throw ngMinErr("areq","Argument '{0}' is {1}",e||"?",n||"required");return t}function i(t,e){return t||e?t?e?(B(t)&&(t=t.join(" ")),B(e)&&(e=e.join(" ")),t+" "+e):t:e:""}function o(t){var e={};return t&&(t.to||t.from)&&(e.to=t.to,e.from=t.from),e}function a(t,e,n){var r="";return t=B(t)?t:t&&H(t)&&t.length?t.split(/\s+/):[],N(t,function(t,i){t&&t.length>0&&(r+=i>0?" ":"",r+=n?e+t:t+e)}),r}function s(t,e){var n=t.indexOf(e);e>=0&&t.splice(n,1)}function l(t){if(t instanceof I)switch(t.length){case 0:return[];case 1:if(t[0].nodeType===W)return t;break;default:return I(u(t))}return t.nodeType===W?I(t):void 0}function u(t){if(!t[0])return t;for(var e=0;e<t.length;e++){var n=t[e];if(n.nodeType==W)return n}}function c(t,e,n){N(e,function(e){t.addClass(e,n)})}function h(t,e,n){N(e,function(e){t.removeClass(e,n)})}function f(t){return function(e,n){n.addClass&&(c(t,e,n.addClass),n.addClass=null),n.removeClass&&(h(t,e,n.removeClass),n.removeClass=null)}}function d(t){if(t=t||{},!t.$$prepared){var e=t.domOperation||O;t.domOperation=function(){t.$$domOperationFired=!0,e(),e=O},t.$$prepared=!0}return t}function p(t,e){g(t,e),m(t,e)}function g(t,e){e.from&&(t.css(e.from),e.from=null)}function m(t,e){e.to&&(t.css(e.to),e.to=null)}function v(t,e,n){var r=(e.addClass||"")+" "+(n.addClass||""),i=(e.removeClass||"")+" "+(n.removeClass||""),o=y(t.attr("class"),r,i);return L(e,n),e.addClass=o.addClass?o.addClass:null,e.removeClass=o.removeClass?o.removeClass:null,e}function y(t,e,n){function r(t){H(t)&&(t=t.split(" "));var e={};return N(t,function(t){t.length&&(e[t]=!0)}),e}var i=1,o=-1,a={};t=r(t),e=r(e),N(e,function(t,e){a[e]=i}),n=r(n),N(n,function(t,e){a[e]=a[e]===i?null:o});var s={addClass:"",removeClass:""};return N(a,function(e,n){var r,a;e===i?(r="addClass",a=!t[n]):e===o&&(r="removeClass",a=t[n]),a&&(s[r].length&&(s[r]+=" "),s[r]+=n)}),s}function w(t){return t instanceof e.element?t[0]:t}function b(t,e,n){var r=Object.create(null),i=t.getComputedStyle(e)||{};return N(n,function(t,e){var n=i[t];if(n){var o=n.charAt(0);("-"===o||"+"===o||o>=0)&&(n=x(n)),0===n&&(n=null),r[e]=n}}),r}function x(t){var e=0,n=t.split(/\s*,\s*/);return N(n,function(t){"s"==t.charAt(t.length-1)&&(t=t.substring(0,t.length-1)),t=parseFloat(t)||0,e=e?Math.max(t,e):t}),e}function C(t){return 0===t||null!=t}function T(t,e){var n=D,r=t+"s";return e?n+=Z:r+=" linear all",[n,r]}function E(t){return[lt,t+"s"]}function k(t,e){var n=e?st:ut;return[n,t+"s"]}function S(t,e){var n=e?"-"+e+"s":"";return $(t,[ut,n]),[ut,n]}function _(t,e){var n=e?"paused":"",r=R+nt;return $(t,[r,n]),[r,n]}function $(t,e){var n=e[0],r=e[1];t.style[n]=r}function A(){var t=Object.create(null);return{flush:function(){t=Object.create(null)},count:function(e){var n=t[e];return n?n.total:0},get:function(e){var n=t[e];return n&&n.value},put:function(e,n){t[e]?t[e].total++:t[e]={total:1,value:n}}}}var D,M,R,P,O=e.noop,L=e.extend,I=e.element,N=e.forEach,B=e.isArray,H=e.isString,F=e.isObject,V=e.isUndefined,q=e.isDefined,j=e.isFunction,z=e.isElement,W=1,U="ng-animate",Y="$$ngAnimateChildren",X=["$$rAF",function(t){function e(t){o.push([].concat(t)),n()}function n(){if(o.length){for(var e=[],a=0;a<o.length;a++){var s=o[a];r(s),s.length&&e.push(s)}o=e,i||t(function(){i||n()})}}function r(t){var e=t.shift();e()}var i,o=[];return e.waitUntilQuiet=function(e){i&&i(),i=t(function(){i=null,e(),n()})},e}],G=[function(){return function(t,n,r){var i=r.ngAnimateChildren;e.isString(i)&&0===i.length?n.data(Y,!0):r.$observe("ngAnimateChildren",function(t){t="on"===t||"true"===t,n.data(Y,t)})}}],K="";t.ontransitionend===n&&t.onwebkittransitionend!==n?(K="-webkit-",D="WebkitTransition",M="webkitTransitionEnd transitionend"):(D="transition",M="transitionend"),t.onanimationend===n&&t.onwebkitanimationend!==n?(K="-webkit-",R="WebkitAnimation",P="webkitAnimationEnd animationend"):(R="animation",P="animationend");var Z="Duration",J="Property",Q="Delay",tt="TimingFunction",et="IterationCount",nt="PlayState",rt=3,it=1.5,ot=1e3,at=9999,st=R+Q,lt=R+Z,ut=D+Q,ct=D+Z,ht={transitionDuration:ct,transitionDelay:ut,transitionProperty:D+J,animationDuration:lt,animationDelay:st,animationIterationCount:R+et},ft={transitionDuration:ct,transitionDelay:ut,animationDuration:lt,animationDelay:st},dt=["$animateProvider",function(t){var e=A(),n=A();this.$get=["$window","$$jqLite","$$AnimateRunner","$timeout","$document","$sniffer","$$rAFScheduler",function(t,r,i,l,u,c,h){function v(t,e){var n="$$ngAnimateParentKey",r=t.parentNode,i=r[n]||(r[n]=++H);return i+"-"+t.getAttribute("class")+"-"+e}function y(n,r,i,o){var a=e.get(i);return a||(a=b(t,n,o),"infinite"===a.animationIterationCount&&(a.animationIterationCount=1)),e.put(i,a),a}function x(i,o,s,l){var u;if(e.count(s)>0&&(u=n.get(s),!u)){var c=a(o,"-stagger");r.addClass(i,c),u=b(t,i,l),u.animationDuration=Math.max(u.animationDuration,0),u.transitionDuration=Math.max(u.transitionDuration,0),r.removeClass(i,c),n.put(s,u)}return u||{}}function A(t){V.push(t),h.waitUntilQuiet(function(){e.flush(),n.flush();for(var t=F.offsetWidth+1,r=0;r<V.length;r++)V[r](t);V.length=0})}function O(t,e,n){var r=y(t,e,n,ht),i=r.animationDelay,o=r.transitionDelay;return r.maxDelay=i&&o?Math.max(i,o):i||o,r.maxDuration=Math.max(r.animationDuration*r.animationIterationCount,r.transitionDuration),r}function L(t,n){function u(){f()}function h(){f(!0)}function f(e){F||q&&V||(F=!0,V=!1,r.removeClass(t,lt),r.removeClass(t,ct),_(H,!1),S(H,!1),N(G,function(t){H.style[t[0]]=""}),I(t,n),p(t,n),n.onDone&&n.onDone(),j&&j.complete(!e))}function y(t){Et.blockTransition&&S(H,t),Et.blockKeyframeAnimation&&_(H,!!t)}function b(){return j=new i({end:u,cancel:h}),f(),{$$willAnimate:!1,start:function(){return j},end:u}}function L(){function e(){if(!F){if(y(!1),N(G,function(t){var e=t[0],n=t[1];H.style[e]=n}),I(t,n),r.addClass(t,ct),Et.recalculateTimingStyles){if(ut=H.className+" "+lt,dt=v(H,ut),Ct=O(H,ut,dt),Tt=Ct.maxDelay,W=Math.max(Tt,0),Y=Ct.maxDuration,0===Y)return void f();Et.hasTransitions=Ct.transitionDuration>0,Et.hasAnimations=Ct.animationDuration>0}if(Et.applyTransitionDelay||Et.applyAnimationDelay){Tt="boolean"!=typeof n.delay&&C(n.delay)?parseFloat(n.delay):Tt,W=Math.max(Tt,0);var e;Et.applyTransitionDelay&&(Ct.transitionDelay=Tt,e=k(Tt),G.push(e),H.style[e[0]]=e[1]),Et.applyAnimationDelay&&(Ct.animationDelay=Tt,e=k(Tt,!0),G.push(e),H.style[e[0]]=e[1])}if(U=W*ot,X=Y*ot,n.easing){var s,c=n.easing;Et.hasTransitions&&(s=D+tt,G.push([s,c]),H.style[s]=c),Et.hasAnimations&&(s=R+tt,G.push([s,c]),H.style[s]=c)}Ct.transitionDuration&&u.push(M),Ct.animationDuration&&u.push(P),a=Date.now(),t.on(u.join(" "),o),l(i,U+it*X),m(t,n)}}function i(){f()}function o(t){t.stopPropagation();var e=t.originalEvent||t,n=e.$manualTimeStamp||e.timeStamp||Date.now(),r=parseFloat(e.elapsedTime.toFixed(rt));Math.max(n-a,0)>=U&&r>=Y&&(q=!0,f())}if(!F){var a,u=[],c=function(t){if(q)V&&t&&(V=!1,f());else if(V=!t,Ct.animationDuration){var e=_(H,V);V?G.push(e):s(G,e)}},h=bt>0&&(Ct.transitionDuration&&0===pt.transitionDuration||Ct.animationDuration&&0===pt.animationDuration)&&Math.max(pt.animationDelay,pt.transitionDelay);h?l(e,Math.floor(h*bt*ot),!1):e(),z.resume=function(){c(!0)},z.pause=function(){c(!1)}}}var H=w(t);n=d(n);var F,V,q,j,z,W,U,Y,X,G=[],K=t.attr("class"),Z=o(n);if(0===n.duration||!c.animations&&!c.transitions)return b();var Q=n.event&&B(n.event)?n.event.join(" "):n.event,et=Q&&n.structural,nt="",st="";et?nt=a(Q,"ng-",!0):Q&&(nt=Q),n.addClass&&(st+=a(n.addClass,"-add")),n.removeClass&&(st.length&&(st+=" "),st+=a(n.removeClass,"-remove")),n.applyClassesEarly&&st.length&&(I(t,n),st="");var lt=[nt,st].join(" ").trim(),ut=K+" "+lt,ct=a(lt,"-active"),ht=Z.to&&Object.keys(Z.to).length>0;if(!ht&&!lt)return b();var dt,pt;if(n.stagger>0){var gt=parseFloat(n.stagger);pt={transitionDelay:gt,animationDelay:gt,transitionDuration:0,animationDuration:0}}else dt=v(H,ut),pt=x(H,lt,dt,ft);r.addClass(t,lt);var mt;if(n.transitionStyle){var vt=[D,n.transitionStyle];$(H,vt),G.push(vt)}if(n.duration>=0){mt=H.style[D].length>0;var yt=T(n.duration,mt);$(H,yt),G.push(yt)}if(n.keyframeStyle){var wt=[R,n.keyframeStyle];$(H,wt),G.push(wt)}var bt=pt?n.staggerIndex>=0?n.staggerIndex:e.count(dt):0,xt=0===bt;xt&&S(H,at);var Ct=O(H,ut,dt),Tt=Ct.maxDelay;W=Math.max(Tt,0),Y=Ct.maxDuration;var Et={};return Et.hasTransitions=Ct.transitionDuration>0,Et.hasAnimations=Ct.animationDuration>0,Et.hasTransitionAll=Et.hasTransitions&&"all"==Ct.transitionProperty,Et.applyTransitionDuration=ht&&(Et.hasTransitions&&!Et.hasTransitionAll||Et.hasAnimations&&!Et.hasTransitions),Et.applyAnimationDuration=n.duration&&Et.hasAnimations,Et.applyTransitionDelay=C(n.delay)&&(Et.applyTransitionDuration||Et.hasTransitions),Et.applyAnimationDelay=C(n.delay)&&Et.hasAnimations,Et.recalculateTimingStyles=st.length>0,(Et.applyTransitionDuration||Et.applyAnimationDuration)&&(Y=n.duration?parseFloat(n.duration):Y,Et.applyTransitionDuration&&(Et.hasTransitions=!0,Ct.transitionDuration=Y,mt=H.style[D+J].length>0,G.push(T(Y,mt))),Et.applyAnimationDuration&&(Et.hasAnimations=!0,Ct.animationDuration=Y,G.push(E(Y)))),0!==Y||Et.recalculateTimingStyles?(null==n.duration&&Ct.transitionDuration>0&&(Et.recalculateTimingStyles=Et.recalculateTimingStyles||xt),U=W*ot,X=Y*ot,n.skipBlocking||(Et.blockTransition=Ct.transitionDuration>0,Et.blockKeyframeAnimation=Ct.animationDuration>0&&pt.animationDelay>0&&0===pt.animationDuration),g(t,n),Et.blockTransition||S(H,!1),y(Y),{$$willAnimate:!0,end:u,start:function(){return F?void 0:(z={end:u,cancel:h,resume:null,pause:null},j=new i(z),A(L),j)}}):b()}var I=f(r),H=0,F=w(u).body,V=[];return L}]}],pt=["$$animationProvider",function(t){t.drivers.push("$$animateCssDriver");var e="ng-animate-shim",n="ng-anchor",r="ng-anchor-out",i="ng-anchor-in";this.$get=["$animateCss","$rootScope","$$AnimateRunner","$rootElement","$document","$sniffer",function(t,o,a,s,l,u){function c(t){return t.replace(/\bng-\S+\b/g,"")}function h(t,e){return H(t)&&(t=t.split(" ")),H(e)&&(e=e.split(" ")),t.filter(function(t){return-1===e.indexOf(t)}).join(" ")}function f(o,s,l){function u(t){var e={},n=w(t).getBoundingClientRect();return N(["width","height","top","left"],function(t){var r=n[t];switch(t){case"top":r+=g.scrollTop;break;case"left":r+=g.scrollLeft}e[t]=Math.floor(r)+"px"}),e}function f(){var e=t(y,{addClass:r,delay:!0,from:u(s)});return e.$$willAnimate?e:null}function d(t){return t.attr("class")||""}function p(){var e=c(d(l)),n=h(e,b),o=h(b,e),a=t(y,{to:u(l),addClass:i+" "+n,removeClass:r+" "+o,delay:!0});return a.$$willAnimate?a:null}function m(){y.remove(),s.removeClass(e),l.removeClass(e)}var y=I(w(s).cloneNode(!0)),b=c(d(y));s.addClass(e),l.addClass(e),y.addClass(n),v.append(y);var x,C=f();if(!C&&(x=p(),!x))return m();var T=C||x;return{start:function(){function t(){n&&n.end()}var e,n=T.start();return n.done(function(){return n=null,!x&&(x=p())?(n=x.start(),n.done(function(){n=null,m(),e.complete()}),n):(m(),void e.complete())}),e=new a({end:t,cancel:t})}}}function d(t,e,n,r){var i=p(t),o=p(e),s=[];return N(r,function(t){var e=t.out,r=t["in"],i=f(n,e,r);i&&s.push(i)}),i||o||0!==s.length?{start:function(){function t(){N(e,function(t){t.end()})}var e=[];i&&e.push(i.start()),o&&e.push(o.start()),N(s,function(t){e.push(t.start())});var n=new a({end:t,cancel:t});return a.all(e,function(t){n.complete(t)}),n}}:void 0}function p(e){var n=e.element,r=e.options||{};e.structural?(r.structural=r.applyClassesEarly=!0,r.event=e.event,"leave"===r.event&&(r.onDone=r.domOperation)):r.event=null;var i=t(n,r);return i.$$willAnimate?i:null}if(!u.animations&&!u.transitions)return O;var g=w(l).body,m=w(s),v=I(g.parentNode===m?g:m);return function(t){return t.from&&t.to?d(t.from,t.to,t.classes,t.anchors):p(t)}}]}],gt=["$animateProvider",function(t){this.$get=["$injector","$$AnimateRunner","$$rAFMutex","$$jqLite",function(e,n,r,i){function o(n){n=B(n)?n:n.split(" ");for(var r=[],i={},o=0;o<n.length;o++){var a=n[o],s=t.$$registeredAnimations[a];s&&!i[a]&&(r.push(e.get(s)),i[a]=!0)}return r}var a=f(i);return function(t,e,r,i){function s(){i.domOperation(),a(t,i)}function l(t,e,r,i,o){var a;switch(r){case"animate":a=[e,i.from,i.to,o];break;case"setClass":a=[e,g,m,o];break;case"addClass":a=[e,g,o];break;case"removeClass":a=[e,m,o];break;default:a=[e,o]}a.push(i);var s=t.apply(t,a);if(s)if(j(s.start)&&(s=s.start()),s instanceof n)s.done(o);else if(j(s))return s;return O}function u(t,e,r,i,o){var a=[];return N(i,function(i){var s=i[o];s&&a.push(function(){var i,o,a=!1,u=function(t){a||(a=!0,(o||O)(t),i.complete(!t))};return i=new n({end:function(){u()},cancel:function(){u(!0)}}),o=l(s,t,e,r,function(t){var e=t===!1;u(e)}),i})}),a}function c(t,e,r,i,o){var a=u(t,e,r,i,o);if(0===a.length){var s,l;"beforeSetClass"===o?(s=u(t,"removeClass",r,i,"beforeRemoveClass"),l=u(t,"addClass",r,i,"beforeAddClass")):"setClass"===o&&(s=u(t,"removeClass",r,i,"removeClass"),l=u(t,"addClass",r,i,"addClass")),s&&(a=a.concat(s)),l&&(a=a.concat(l))}if(0!==a.length)return function(t){var e=[];return a.length&&N(a,function(t){e.push(t())}),e.length?n.all(e,t):t(),function(t){N(e,function(e){t?e.cancel():e.end()})}}}3===arguments.length&&F(r)&&(i=r,r=null),i=d(i),r||(r=t.attr("class")||"",i.addClass&&(r+=" "+i.addClass),i.removeClass&&(r+=" "+i.removeClass));var h,f,g=i.addClass,m=i.removeClass,v=o(r);if(v.length){var y,w;"leave"==e?(w="leave",y="afterLeave"):(w="before"+e.charAt(0).toUpperCase()+e.substr(1),y=e),"enter"!==e&&"move"!==e&&(h=c(t,e,i,v,w)),f=c(t,e,i,v,y)}return h||f?{start:function(){function e(e){l=!0,s(),p(t,i),u.complete(e)}function r(t){l||((o||O)(t),e(t))}var o,a=[];h&&a.push(function(t){o=h(t)}),a.length?a.push(function(t){s(),t(!0)}):s(),f&&a.push(function(t){o=f(t)});var l=!1,u=new n({end:function(){r()},cancel:function(){r(!0)}});return n.chain(a,e),u}}:void 0}}]}],mt=["$$animationProvider",function(t){t.drivers.push("$$animateJsDriver"),this.$get=["$$animateJs","$$AnimateRunner",function(t,e){function n(e){var n=e.element,r=e.event,i=e.options,o=e.classes;return t(n,r,o,i)}return function(t){if(t.from&&t.to){var r=n(t.from),i=n(t.to);if(!r&&!i)return;return{start:function(){function t(){return function(){N(o,function(t){t.end()})}}function n(t){a.complete(t)}var o=[];r&&o.push(r.start()),i&&o.push(i.start()),e.all(o,n);var a=new e({end:t(),cancel:t()});return a}}}return n(t)}}]}],vt="data-ng-animate",yt="$ngAnimatePin",wt=["$animateProvider",function(t){function e(t,e,n,r){return a[t].some(function(t){return t(e,n,r)})}function n(t,e){t=t||{};var n=(t.addClass||"").length>0,r=(t.removeClass||"").length>0;return e?n&&r:n||r}var i=1,o=2,a=this.rules={skip:[],cancel:[],join:[]};a.join.push(function(t,e,r){return!e.structural&&n(e.options)}),a.skip.push(function(t,e,r){return!e.structural&&!n(e.options)}),a.skip.push(function(t,e,n){return"leave"==n.event&&e.structural}),a.skip.push(function(t,e,n){return n.structural&&!e.structural}),a.cancel.push(function(t,e,n){return n.structural&&e.structural}),a.cancel.push(function(t,e,n){return n.state===o&&e.structural}),a.cancel.push(function(t,e,n){var r=e.options,i=n.options;return r.addClass&&r.addClass===i.removeClass||r.removeClass&&r.removeClass===i.addClass}),this.$get=["$$rAF","$rootScope","$rootElement","$document","$$HashMap","$$animation","$$AnimateRunner","$templateRequest","$$jqLite",function(a,s,c,h,g,m,y,b,x){function C(t,e){return v(t,e,{})}function T(t,e){var n=w(t),r=[],i=U[e];return i&&N(i,function(t){t.node.contains(n)&&r.push(t.callback)}),r}function E(t,e,n,r){a(function(){N(T(e,t),function(t){t(e,n,r)})})}function k(t,r,a){function u(e,n,r,i){E(n,t,r,i),e.progress(n,r,i)}function c(e){K(t,a),p(t,a),a.domOperation(),g.complete(!e)}var h,f;t=l(t),t&&(h=w(t),f=t.parent()),a=d(a);var g=new y;if(!h)return c(),g;B(a.addClass)&&(a.addClass=a.addClass.join(" ")),B(a.removeClass)&&(a.removeClass=a.removeClass.join(" ")),a.from&&!F(a.from)&&(a.from=null),a.to&&!F(a.to)&&(a.to=null);var b=[h.className,a.addClass,a.removeClass].join(" ");if(!G(b))return c(),g;var x=["enter","move","leave"].indexOf(r)>=0,T=!O||P.get(h),k=!T&&R.get(h)||{},$=!!k.state;if(T||$&&k.state==i||(T=!D(t,f,r)),T)return c(),g;x&&S(t);var L={structural:x,element:t,event:r,close:c,options:a,runner:g};if($){var I=e("skip",t,L,k);if(I)return k.state===o?(c(),g):(v(t,k.options,a),k.runner);var N=e("cancel",t,L,k);if(N)k.state===o?k.runner.end():k.structural?k.close():v(t,L.options,k.options);else{var H=e("join",t,L,k);if(H){if(k.state!==o)return r=L.event=k.event,a=v(t,k.options,L.options),g;C(t,a)}}}else C(t,a);var V=L.structural;if(V||(V="animate"===L.event&&Object.keys(L.options.to||{}).length>0||n(L.options)),!V)return c(),_(t),g;x&&A(f);var q=(k.counter||0)+1;return L.counter=q,M(t,i,L),s.$$postDigest(function(){var e=R.get(h),i=!e;e=e||{};var s=t.parent()||[],l=s.length>0&&("animate"===e.event||e.structural||n(e.options));if(i||e.counter!==q||!l)return i&&(K(t,a),p(t,a)),(i||x&&e.event!==r)&&(a.domOperation(),g.end()),void(l||_(t));r=!e.structural&&n(e.options,!0)?"setClass":e.event,e.structural&&A(s),M(t,o);var f=m(t,r,e.options);f.done(function(e){c(!e);var n=R.get(h);n&&n.counter===q&&_(w(t)),u(g,r,"close",{})}),g.setHost(f),u(g,r,"start",{})}),g}function S(t){var e=w(t),n=e.querySelectorAll("["+vt+"]");N(n,function(t){var e=parseInt(t.getAttribute(vt)),n=R.get(t);switch(e){case o:n.runner.end();case i:n&&R.remove(t)}})}function _(t){var e=w(t);e.removeAttribute(vt),R.remove(e)}function $(t,e){return w(t)===w(e)}function A(t){function e(t,e){!e.structural&&n(e.options)&&(e.state===o&&e.runner.end(),_(t))}for(var r=w(t);;){if(!r||r.nodeType!==W)break;var i=R.get(r);i&&e(r,i),r=r.parentNode}}function D(t,e,n){var r,i=!1,o=!1,a=!1,s=t.data(yt);for(s&&(e=s);e&&e.length;){o||(o=$(e,c));var l=e[0];if(l.nodeType!==W)break;var u=R.get(l)||{};if(a||(a=u.structural||P.get(l)),V(r)||r===!0){var h=e.data(Y);q(h)&&(r=h)}if(a&&r===!1)break;o||(o=$(e,c),o||(s=e.data(yt),s&&(e=s))),i||(i=$(e,j)),e=e.parent()}var f=!a||r;return f&&o&&i}function M(t,e,n){n=n||{},n.state=e;var r=w(t);r.setAttribute(vt,e);var i=R.get(r),o=i?L(i,n):n;R.put(r,o)}var R=new g,P=new g,O=null,H=s.$watch(function(){return 0===b.totalPendingRequests},function(t){t&&(H(),s.$$postDigest(function(){s.$$postDigest(function(){null===O&&(O=!0)})}))}),j=I(h[0].body),U={},X=t.classNameFilter(),G=X?function(t){return X.test(t)}:function(){return!0},K=f(x);return{on:function(t,e,n){var r=u(e);U[t]=U[t]||[],U[t].push({node:r,callback:n})},off:function(t,e,n){function r(t,e,n){var r=u(e);return t.filter(function(t){var e=t.node===r&&(!n||t.callback===n);return!e})}var i=U[t];i&&(U[t]=1===arguments.length?null:r(i,e,n))},pin:function(t,e){r(z(t),"element","not an element"),r(z(e),"parentElement","not an element"),t.data(yt,e)},push:function(t,e,n,r){return n=n||{},n.domOperation=r,k(t,e,n)},enabled:function(t,e){var n=arguments.length;if(0===n)e=!!O;else{var r=z(t);if(r){var i=w(t),o=P.get(i);1===n?e=!o:(e=!!e,e?o&&P.remove(i):P.put(i,!0))}else e=O=!!t}return e}}}]}],bt=["$$rAF",function(t){return function(){var e=!1;return t(function(){e=!0}),function(n){e?n():t(n)}}}],xt=["$q","$$rAFMutex",function(t,e){function n(t){this.setHost(t),this._doneCallbacks=[],this._runInAnimationFrame=e(),this._state=0}var r=0,i=1,o=2;return n.chain=function(t,e){function n(){return r===t.length?void e(!0):void t[r](function(t){return t===!1?void e(!1):(r++,void n())})}var r=0;n()},n.all=function(t,e){function n(n){i=i&&n,++r===t.length&&e(i)}var r=0,i=!0;N(t,function(t){t.done(n)})},n.prototype={setHost:function(t){this.host=t||{}},done:function(t){this._state===o?t():this._doneCallbacks.push(t)},progress:O,getPromise:function(){if(!this.promise){var e=this;this.promise=t(function(t,n){e.done(function(e){e===!1?n():t()})})}return this.promise},then:function(t,e){return this.getPromise().then(t,e)},"catch":function(t){return this.getPromise()["catch"](t)},"finally":function(t){return this.getPromise()["finally"](t)},pause:function(){this.host.pause&&this.host.pause()},resume:function(){this.host.resume&&this.host.resume()},end:function(){this.host.end&&this.host.end(),this._resolve(!0)},cancel:function(){this.host.cancel&&this.host.cancel(),this._resolve(!1)},complete:function(t){var e=this;e._state===r&&(e._state=i,e._runInAnimationFrame(function(){e._resolve(t)}))},_resolve:function(t){this._state!==o&&(N(this._doneCallbacks,function(e){e(t)}),this._doneCallbacks.length=0,this._state=o)}},n}],Ct=["$animateProvider",function(t){function e(t,e){t.data(s,e)}function n(t){t.removeData(s)}function r(t){return t.data(s)}var o="ng-animate-ref",a=this.drivers=[],s="$$animationRunner";this.$get=["$$jqLite","$rootScope","$injector","$$AnimateRunner","$$rAFScheduler",function(t,s,l,u,c){var h=[],g=f(t),m=0,v=0,y=[];return function(f,b,x){function C(t){var e="["+o+"]",n=t.hasAttribute(o)?[t]:t.querySelectorAll(e),r=[];return N(n,function(t){var e=t.getAttribute(o);e&&e.length&&r.push(t)}),r}function T(t){var e=[],n={};N(t,function(t,r){var i=t.element,a=w(i),s=t.event,l=["enter","move"].indexOf(s)>=0,u=t.structural?C(a):[];if(u.length){var c=l?"to":"from";N(u,function(t){var e=t.getAttribute(o);n[e]=n[e]||{},n[e][c]={animationID:r,element:I(t)}})}else e.push(t)});var r={},i={};return N(n,function(n,o){var a=n.from,s=n.to;if(!a||!s){var l=a?a.animationID:s.animationID,u=l.toString();return void(r[u]||(r[u]=!0,e.push(t[l])))}var c=t[a.animationID],h=t[s.animationID],f=a.animationID.toString();if(!i[f]){var d=i[f]={structural:!0,beforeStart:function(){c.beforeStart(),h.beforeStart()},close:function(){c.close(),h.close()},classes:E(c.classes,h.classes),from:c,to:h,anchors:[]};d.classes.length?e.push(d):(e.push(c),e.push(h))}i[f].anchors.push({out:a.element,"in":s.element})}),e}function E(t,e){t=t.split(" "),e=e.split(" ");for(var n=[],r=0;r<t.length;r++){var i=t[r];if("ng-"!==i.substring(0,3))for(var o=0;o<e.length;o++)if(i===e[o]){n.push(i);break}}return n.join(" ")}function k(t){for(var e=a.length-1;e>=0;e--){var n=a[e];if(l.has(n)){var r=l.get(n),i=r(t);if(i)return i}}}function S(){f.addClass(U),P&&t.addClass(f,P)}function _(t,e){function n(t){r(t).setHost(e)}t.from&&t.to?(n(t.from.element),n(t.to.element)):n(t.element)}function $(){var t=r(f);!t||"leave"===b&&x.$$domOperationFired||t.end()}function A(e){f.off("$destroy",$),n(f),g(f,x),p(f,x),x.domOperation(),P&&t.removeClass(f,P),f.removeClass(U),M.complete(!e)}x=d(x);var D=["enter","move","leave"].indexOf(b)>=0,M=new u({end:function(){A()},cancel:function(){A(!0)}});if(!a.length)return A(),M;e(f,M);var R=i(f.attr("class"),i(x.addClass,x.removeClass)),P=x.tempClasses;P&&(R+=" "+P,x.tempClasses=null);var O;return D||(O=m,m+=1),h.push({element:f,classes:R,event:b,classBasedIndex:O,structural:D,options:x,beforeStart:S,close:A}),f.on("$destroy",$),h.length>1?M:(s.$$postDigest(function(){v=m,m=0,y.length=0;var t=[];N(h,function(e){r(e.element)&&t.push(e)}),h.length=0,N(T(t),function(t){function e(){t.beforeStart();var e,n=t.close,i=t.anchors?t.from.element||t.to.element:t.element;if(r(i)){var o=k(t);o&&(e=o.start)}if(e){var a=e();a.done(function(t){n(!t)}),_(t,a)}else n()}t.structural?e():(y.push({node:w(t.element),fn:e}),t.classBasedIndex===v-1&&(y=y.sort(function(t,e){return e.node.contains(t.node)}).map(function(t){return t.fn}),c(y)))})}),M)}}]}];e.module("ngAnimate",[]).directive("ngAnimateChildren",G).factory("$$rAFMutex",bt).factory("$$rAFScheduler",X).factory("$$AnimateRunner",xt).provider("$$animateQueue",wt).provider("$$animation",Ct).provider("$animateCss",dt).provider("$$animateCssDriver",pt).provider("$$animateJs",gt).provider("$$animateJsDriver",mt)}(window,window.angular),/**
 * @license AngularJS v1.4.1
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(t){return e.lowercase(t.nodeName||t[0]&&t[0].nodeName)}function i(t,n,r){o.directive(t,["$parse","$swipe",function(i,o){var a=75,s=.3,l=30;return function(u,c,h){function f(t){if(!d)return!1;var e=Math.abs(t.y-d.y),r=(t.x-d.x)*n;return p&&a>e&&r>0&&r>l&&s>e/r}var d,p,g=i(h[t]),m=["touch"];e.isDefined(h.ngSwipeDisableMouse)||m.push("mouse"),o.bind(c,{start:function(t,e){d=t,p=!0},cancel:function(t){p=!1},end:function(t,e){f(t)&&u.$apply(function(){c.triggerHandler(r),g(u,{$event:e})})}},m)}}])}var o=e.module("ngTouch",[]);o.factory("$swipe",[function(){function t(t){var e=t.originalEvent||t,n=e.touches&&e.touches.length?e.touches:[e],r=e.changedTouches&&e.changedTouches[0]||n[0];return{x:r.clientX,y:r.clientY}}function n(t,n){var r=[];return e.forEach(t,function(t){var e=i[t][n];e&&r.push(e)}),r.join(" ")}var r=10,i={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend",cancel:"touchcancel"}};return{bind:function(e,i,o){var a,s,l,u,c=!1;o=o||["mouse","touch"],e.on(n(o,"start"),function(e){l=t(e),c=!0,a=0,s=0,u=l,i.start&&i.start(l,e)});var h=n(o,"cancel");h&&e.on(h,function(t){c=!1,i.cancel&&i.cancel(t)}),e.on(n(o,"move"),function(e){if(c&&l){var n=t(e);if(a+=Math.abs(n.x-u.x),s+=Math.abs(n.y-u.y),u=n,!(r>a&&r>s))return s>a?(c=!1,void(i.cancel&&i.cancel(e))):(e.preventDefault(),void(i.move&&i.move(n,e)))}}),e.on(n(o,"end"),function(e){c&&(c=!1,i.end&&i.end(t(e),e))})}}}]),o.config(["$provide",function(t){t.decorator("ngClickDirective",["$delegate",function(t){return t.shift(),t}])}]),o.directive("ngClick",["$parse","$timeout","$rootElement",function(t,n,i){function o(t,e,n,r){return Math.abs(t-n)<m&&Math.abs(e-r)<m}function a(t,e,n){for(var r=0;r<t.length;r+=2)if(o(t[r],t[r+1],e,n))return t.splice(r,r+2),!0;return!1}function s(t){if(!(Date.now()-c>g)){var e=t.touches&&t.touches.length?t.touches:[t],n=e[0].clientX,i=e[0].clientY;1>n&&1>i||f&&f[0]===n&&f[1]===i||(f&&(f=null),"label"===r(t.target)&&(f=[n,i]),a(h,n,i)||(t.stopPropagation(),t.preventDefault(),t.target&&t.target.blur&&t.target.blur()))}}function l(t){var e=t.touches&&t.touches.length?t.touches:[t],r=e[0].clientX,i=e[0].clientY;h.push(r,i),n(function(){for(var t=0;t<h.length;t+=2)if(h[t]==r&&h[t+1]==i)return void h.splice(t,t+2)},g,!1)}function u(t,e){h||(i[0].addEventListener("click",s,!0),i[0].addEventListener("touchstart",l,!0),h=[]),c=Date.now(),a(h,t,e)}var c,h,f,d=750,p=12,g=2500,m=25,v="ng-click-active";return function(n,r,i){function o(){f=!1,r.removeClass(v)}var a,s,l,c,h=t(i.ngClick),f=!1;r.on("touchstart",function(t){f=!0,a=t.target?t.target:t.srcElement,3==a.nodeType&&(a=a.parentNode),r.addClass(v),s=Date.now();var e=t.originalEvent||t,n=e.touches&&e.touches.length?e.touches:[e],i=n[0];l=i.clientX,c=i.clientY}),r.on("touchcancel",function(t){o()}),r.on("touchend",function(t){var n=Date.now()-s,h=t.originalEvent||t,g=h.changedTouches&&h.changedTouches.length?h.changedTouches:h.touches&&h.touches.length?h.touches:[h],m=g[0],v=m.clientX,y=m.clientY,w=Math.sqrt(Math.pow(v-l,2)+Math.pow(y-c,2));f&&d>n&&p>w&&(u(v,y),a&&a.blur(),e.isDefined(i.disabled)&&i.disabled!==!1||r.triggerHandler("click",[t])),o()}),r.onclick=function(t){},r.on("click",function(t,e){n.$apply(function(){h(n,{$event:e||t})})}),r.on("mousedown",function(t){r.addClass(v)}),r.on("mousemove mouseup",function(t){r.removeClass(v)})}}]),i("ngSwipeLeft",-1,"swipeleft"),i("ngSwipeRight",1,"swiperight")}(window,window.angular),/**
 * @license AngularJS v1.4.1
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";/*
 * HTML Parser By Misko Hevery (misko@hevery.com)
 * based on:  HTML Parser By John Resig (ejohn.org)
 * Original code by Erik Arvidsson, Mozilla Public License
 * http://erik.eae.net/simplehtmlparser/simplehtmlparser.js
 *
 * // Use like so:
 * htmlParser(htmlString, {
 *     start: function(tag, attrs, unary) {},
 *     end: function(tag) {},
 *     chars: function(text) {},
 *     comment: function(text) {}
 * });
 *
 */
function r(){this.$get=["$$sanitizeUri",function(t){return function(e){var n=[];return a(e,u(n,function(e,n){return!/^unsafe/.test(t(e,n))})),n.join("")}}]}function i(t){var n=[],r=u(n,e.noop);return r.chars(t),n.join("")}function o(t,n){var r,i={},o=t.split(",");for(r=0;r<o.length;r++)i[n?e.lowercase(o[r]):o[r]]=!0;return i}function a(t,n){function r(t,r,o,a){if(r=e.lowercase(r),k[r])for(;w.last()&&S[w.last()];)i("",w.last());E[r]&&w.last()==r&&i("",r),a=x[r]||!!a,a||w.push(r);var l={};o.replace(d,function(t,e,n,r,i){var o=n||r||i||"";l[e]=s(o)}),n.start&&n.start(r,l,a)}function i(t,r){var i,o=0;if(r=e.lowercase(r))for(o=w.length-1;o>=0&&w[o]!=r;o--);if(o>=0){for(i=w.length-1;i>=o;i--)n.end&&n.end(w[i]);w.length=o}}"string"!=typeof t&&(t=null===t||"undefined"==typeof t?"":""+t);var o,a,l,u,w=[],b=t;for(w.last=function(){return w[w.length-1]};t;){if(u="",a=!0,w.last()&&$[w.last()]?(t=t.replace(new RegExp("([\\W\\w]*)<\\s*\\/\\s*"+w.last()+"[^>]*>","i"),function(t,e){return e=e.replace(m,"$1").replace(y,"$1"),n.chars&&n.chars(s(e)),""}),i("",w.last())):(0===t.indexOf("<!--")?(o=t.indexOf("--",4),o>=0&&t.lastIndexOf("-->",o)===o&&(n.comment&&n.comment(t.substring(4,o)),t=t.substring(o+3),a=!1)):v.test(t)?(l=t.match(v),l&&(t=t.replace(l[0],""),a=!1)):g.test(t)?(l=t.match(f),l&&(t=t.substring(l[0].length),l[0].replace(f,i),a=!1)):p.test(t)&&(l=t.match(h),l?(l[4]&&(t=t.substring(l[0].length),l[0].replace(h,r)),a=!1):(u+="<",t=t.substring(1))),a&&(o=t.indexOf("<"),u+=0>o?t:t.substring(0,o),t=0>o?"":t.substring(o),n.chars&&n.chars(s(u)))),t==b)throw c("badparse","The sanitizer was unable to parse the following block of html: {0}",t);b=t}i()}function s(t){return t?(O.innerHTML=t.replace(/</g,"&lt;"),O.textContent):""}function l(t){return t.replace(/&/g,"&amp;").replace(w,function(t){var e=t.charCodeAt(0),n=t.charCodeAt(1);return"&#"+(1024*(e-55296)+(n-56320)+65536)+";"}).replace(b,function(t){return"&#"+t.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(t,n){var r=!1,i=e.bind(t,t.push);return{start:function(t,o,a){t=e.lowercase(t),!r&&$[t]&&(r=t),r||A[t]!==!0||(i("<"),i(t),e.forEach(o,function(r,o){var a=e.lowercase(o),s="img"===t&&"src"===a||"background"===a;P[a]!==!0||D[a]===!0&&!n(r,s)||(i(" "),i(o),i('="'),i(l(r)),i('"'))}),i(a?"/>":">"))},end:function(t){t=e.lowercase(t),r||A[t]!==!0||(i("</"),i(t),i(">")),t==r&&(r=!1)},chars:function(t){r||i(l(t))}}}var c=e.$$minErr("$sanitize"),h=/^<((?:[a-zA-Z])[\w:-]*)((?:\s+[\w:-]+(?:\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|[^>\s]+))?)*)\s*(\/?)\s*(>?)/,f=/^<\/\s*([\w:-]+)[^>]*>/,d=/([\w:-]+)(?:\s*=\s*(?:(?:"((?:[^"])*)")|(?:'((?:[^'])*)')|([^>\s]+)))?/g,p=/^</,g=/^<\//,m=/<!--(.*?)-->/g,v=/<!DOCTYPE([^>]*?)>/i,y=/<!\[CDATA\[(.*?)]]>/g,w=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,b=/([^\#-~| |!])/g,x=o("area,br,col,hr,img,wbr"),C=o("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),T=o("rp,rt"),E=e.extend({},T,C),k=e.extend({},C,o("address,article,aside,blockquote,caption,center,del,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,map,menu,nav,ol,pre,script,section,table,ul")),S=e.extend({},T,o("a,abbr,acronym,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,q,ruby,rp,rt,s,samp,small,span,strike,strong,sub,sup,time,tt,u,var")),_=o("circle,defs,desc,ellipse,font-face,font-face-name,font-face-src,g,glyph,hkern,image,linearGradient,line,marker,metadata,missing-glyph,mpath,path,polygon,polyline,radialGradient,rect,stop,svg,switch,text,title,tspan,use"),$=o("script,style"),A=e.extend({},x,k,S,E,_),D=o("background,cite,href,longdesc,src,usemap,xlink:href"),M=o("abbr,align,alt,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,coords,dir,face,headers,height,hreflang,hspace,ismap,lang,language,nohref,nowrap,rel,rev,rows,rowspan,rules,scope,scrolling,shape,size,span,start,summary,tabindex,target,title,type,valign,value,vspace,width"),R=o("accent-height,accumulate,additive,alphabetic,arabic-form,ascent,baseProfile,bbox,begin,by,calcMode,cap-height,class,color,color-rendering,content,cx,cy,d,dx,dy,descent,display,dur,end,fill,fill-rule,font-family,font-size,font-stretch,font-style,font-variant,font-weight,from,fx,fy,g1,g2,glyph-name,gradientUnits,hanging,height,horiz-adv-x,horiz-origin-x,ideographic,k,keyPoints,keySplines,keyTimes,lang,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mathematical,max,min,offset,opacity,orient,origin,overline-position,overline-thickness,panose-1,path,pathLength,points,preserveAspectRatio,r,refX,refY,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,rotate,rx,ry,slope,stemh,stemv,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,systemLanguage,target,text-anchor,to,transform,type,u1,u2,underline-position,underline-thickness,unicode,unicode-range,units-per-em,values,version,viewBox,visibility,width,widths,x,x-height,x1,x2,xlink:actuate,xlink:arcrole,xlink:role,xlink:show,xlink:title,xlink:type,xml:base,xml:lang,xml:space,xmlns,xmlns:xlink,y,y1,y2,zoomAndPan",!0),P=e.extend({},D,R,M),O=document.createElement("pre");e.module("ngSanitize",[]).provider("$sanitize",r),e.module("ngSanitize").filter("linky",["$sanitize",function(t){var n=/((ftp|https?):\/\/|(www\.)|(mailto:)?[A-Za-z0-9._%+-]+@)\S*[^\s.;,(){}<>"”’]/i,r=/^mailto:/i;return function(o,a){function s(t){t&&d.push(i(t))}function l(t,n){d.push("<a "),e.isDefined(a)&&d.push('target="',a,'" '),d.push('href="',t.replace(/"/g,"&quot;"),'">'),s(n),d.push("</a>")}if(!o)return o;for(var u,c,h,f=o,d=[];u=f.match(n);)c=u[0],u[2]||u[4]||(c=(u[3]?"http://":"mailto:")+c),h=u.index,s(f.substr(0,h)),l(c,u[0].replace(r,"")),f=f.substring(h+u[0].length);return s(f),t(d.join(""))}}])}(window,window.angular),/**
 * State-based routing for AngularJS
 * @version v0.2.15
 * @link http://angular-ui.github.com/
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"undefined"!=typeof module&&"undefined"!=typeof exports&&module.exports===exports&&(module.exports="ui.router"),function(t,e,n){"use strict";function r(t,e){return H(new(H(function(){},{prototype:t})),e)}function i(t){return B(arguments,function(e){e!==t&&B(e,function(e,n){t.hasOwnProperty(n)||(t[n]=e)})}),t}function o(t,e){var n=[];for(var r in t.path){if(t.path[r]!==e.path[r])break;n.push(t.path[r])}return n}function a(t){if(Object.keys)return Object.keys(t);var e=[];return B(t,function(t,n){e.push(n)}),e}function s(t,e){if(Array.prototype.indexOf)return t.indexOf(e,Number(arguments[2])||0);var n=t.length>>>0,r=Number(arguments[2])||0;for(r=0>r?Math.ceil(r):Math.floor(r),0>r&&(r+=n);n>r;r++)if(r in t&&t[r]===e)return r;return-1}function l(t,e,n,r){var i,l=o(n,r),u={},c=[];for(var h in l)if(l[h].params&&(i=a(l[h].params),i.length))for(var f in i)s(c,i[f])>=0||(c.push(i[f]),u[i[f]]=t[i[f]]);return H({},u,e)}function u(t,e,n){if(!n){n=[];for(var r in t)n.push(r)}for(var i=0;i<n.length;i++){var o=n[i];if(t[o]!=e[o])return!1}return!0}function c(t,e){var n={};return B(t,function(t){n[t]=e[t]}),n}function h(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));return B(n,function(n){n in t&&(e[n]=t[n])}),e}function f(t){var e={},n=Array.prototype.concat.apply(Array.prototype,Array.prototype.slice.call(arguments,1));for(var r in t)-1==s(n,r)&&(e[r]=t[r]);return e}function d(t,e){var n=N(t),r=n?[]:{};return B(t,function(t,i){e(t,i)&&(r[n?r.length:i]=t)}),r}function p(t,e){var n=N(t)?[]:{};return B(t,function(t,r){n[r]=e(t,r)}),n}function g(t,e){var r=1,o=2,l={},u=[],c=l,h=H(t.when(l),{$$promises:l,$$values:l});this.study=function(l){function d(t,n){if(y[n]!==o){if(v.push(n),y[n]===r)throw v.splice(0,s(v,n)),new Error("Cyclic dependency: "+v.join(" -> "));if(y[n]=r,L(t))m.push(n,[function(){return e.get(t)}],u);else{var i=e.annotate(t);B(i,function(t){t!==n&&l.hasOwnProperty(t)&&d(l[t],t)}),m.push(n,t,i)}v.pop(),y[n]=o}}function p(t){return I(t)&&t.then&&t.$$promises}if(!I(l))throw new Error("'invocables' must be an object");var g=a(l||{}),m=[],v=[],y={};return B(l,d),l=v=y=null,function(r,o,a){function s(){--b||(x||i(w,o.$$values),v.$$values=w,v.$$promises=v.$$promises||!0,delete v.$$inheritedValues,d.resolve(w))}function l(t){v.$$failure=t,d.reject(t)}function u(n,i,o){function u(t){h.reject(t),l(t)}function c(){if(!P(v.$$failure))try{h.resolve(e.invoke(i,a,w)),h.promise.then(function(t){w[n]=t,s()},u)}catch(t){u(t)}}var h=t.defer(),f=0;B(o,function(t){y.hasOwnProperty(t)&&!r.hasOwnProperty(t)&&(f++,y[t].then(function(e){w[t]=e,--f||c()},u))}),f||c(),y[n]=h.promise}if(p(r)&&a===n&&(a=o,o=r,r=null),r){if(!I(r))throw new Error("'locals' must be an object")}else r=c;if(o){if(!p(o))throw new Error("'parent' must be a promise returned by $resolve.resolve()")}else o=h;var d=t.defer(),v=d.promise,y=v.$$promises={},w=H({},r),b=1+m.length/3,x=!1;if(P(o.$$failure))return l(o.$$failure),v;o.$$inheritedValues&&i(w,f(o.$$inheritedValues,g)),H(y,o.$$promises),o.$$values?(x=i(w,f(o.$$values,g)),v.$$inheritedValues=f(o.$$values,g),s()):(o.$$inheritedValues&&(v.$$inheritedValues=f(o.$$inheritedValues,g)),o.then(s,l));for(var C=0,T=m.length;T>C;C+=3)r.hasOwnProperty(m[C])?s():u(m[C],m[C+1],m[C+2]);return v}},this.resolve=function(t,e,n,r){return this.study(t)(e,n,r)}}function m(t,e,n){this.fromConfig=function(t,e,n){return P(t.template)?this.fromString(t.template,e):P(t.templateUrl)?this.fromUrl(t.templateUrl,e):P(t.templateProvider)?this.fromProvider(t.templateProvider,e,n):null},this.fromString=function(t,e){return O(t)?t(e):t},this.fromUrl=function(n,r){return O(n)&&(n=n(r)),null==n?null:t.get(n,{cache:e,headers:{Accept:"text/html"}}).then(function(t){return t.data})},this.fromProvider=function(t,e,r){return n.invoke(t,null,r||{params:e})}}function v(t,e,i){function o(e,n,r,i){if(m.push(e),p[e])return p[e];if(!/^\w+(-+\w+)*(?:\[\])?$/.test(e))throw new Error("Invalid parameter name '"+e+"' in pattern '"+t+"'");if(g[e])throw new Error("Duplicate parameter name '"+e+"' in pattern '"+t+"'");return g[e]=new V.Param(e,n,r,i),g[e]}function a(t,e,n,r){var i=["",""],o=t.replace(/[\\\[\]\^$*+?.()|{}]/g,"\\$&");if(!e)return o;switch(n){case!1:i=["(",")"+(r?"?":"")];break;case!0:i=["?(",")?"];break;default:i=["("+n+"|",")?"]}return o+i[0]+e+i[1]}function s(i,o){var a,s,l,u,c;return a=i[2]||i[3],c=e.params[a],l=t.substring(f,i.index),s=o?i[4]:i[4]||("*"==i[1]?".*":null),u=V.type(s||"string")||r(V.type("string"),{pattern:new RegExp(s,e.caseInsensitive?"i":n)}),{id:a,regexp:s,segment:l,type:u,cfg:c}}e=H({params:{}},I(e)?e:{});var l,u=/([:*])([\w\[\]]+)|\{([\w\[\]]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,c=/([:]?)([\w\[\]-]+)|\{([\w\[\]-]+)(?:\:((?:[^{}\\]+|\\.|\{(?:[^{}\\]+|\\.)*\})+))?\}/g,h="^",f=0,d=this.segments=[],p=i?i.params:{},g=this.params=i?i.params.$$new():new V.ParamSet,m=[];this.source=t;for(var v,y,w;(l=u.exec(t))&&(v=s(l,!1),!(v.segment.indexOf("?")>=0));)y=o(v.id,v.type,v.cfg,"path"),h+=a(v.segment,y.type.pattern.source,y.squash,y.isOptional),d.push(v.segment),f=u.lastIndex;w=t.substring(f);var b=w.indexOf("?");if(b>=0){var x=this.sourceSearch=w.substring(b);if(w=w.substring(0,b),this.sourcePath=t.substring(0,f+b),x.length>0)for(f=0;l=c.exec(x);)v=s(l,!0),y=o(v.id,v.type,v.cfg,"search"),f=u.lastIndex}else this.sourcePath=t,this.sourceSearch="";h+=a(w)+(e.strict===!1?"/?":"")+"$",d.push(w),this.regexp=new RegExp(h,e.caseInsensitive?"i":n),this.prefix=d[0],this.$$paramNames=m}function y(t){H(this,t)}function w(){function t(t){return null!=t?t.toString().replace(/\//g,"%2F"):t}function i(t){return null!=t?t.toString().replace(/%2F/g,"/"):t}function o(){return{strict:g,caseInsensitive:f}}function l(t){return O(t)||N(t)&&O(t[t.length-1])}function u(){for(;C.length;){var t=C.shift();if(t.pattern)throw new Error("You cannot override a type's .pattern at runtime.");e.extend(b[t.name],h.invoke(t.def))}}function c(t){H(this,t||{})}V=this;var h,f=!1,g=!0,m=!1,b={},x=!0,C=[],T={string:{encode:t,decode:i,is:function(t){return null==t||!P(t)||"string"==typeof t},pattern:/[^/]*/},"int":{encode:t,decode:function(t){return parseInt(t,10)},is:function(t){return P(t)&&this.decode(t.toString())===t},pattern:/\d+/},bool:{encode:function(t){return t?1:0},decode:function(t){return 0!==parseInt(t,10)},is:function(t){return t===!0||t===!1},pattern:/0|1/},date:{encode:function(t){return this.is(t)?[t.getFullYear(),("0"+(t.getMonth()+1)).slice(-2),("0"+t.getDate()).slice(-2)].join("-"):n},decode:function(t){if(this.is(t))return t;var e=this.capture.exec(t);return e?new Date(e[1],e[2]-1,e[3]):n},is:function(t){return t instanceof Date&&!isNaN(t.valueOf())},equals:function(t,e){return this.is(t)&&this.is(e)&&t.toISOString()===e.toISOString()},pattern:/[0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[1-2][0-9]|3[0-1])/,capture:/([0-9]{4})-(0[1-9]|1[0-2])-(0[1-9]|[1-2][0-9]|3[0-1])/},json:{encode:e.toJson,decode:e.fromJson,is:e.isObject,equals:e.equals,pattern:/[^/]*/},any:{encode:e.identity,decode:e.identity,equals:e.equals,pattern:/.*/}};w.$$getDefaultValue=function(t){if(!l(t.value))return t.value;if(!h)throw new Error("Injectable functions cannot be called at configuration time");return h.invoke(t.value)},this.caseInsensitive=function(t){return P(t)&&(f=t),f},this.strictMode=function(t){return P(t)&&(g=t),g},this.defaultSquashPolicy=function(t){if(!P(t))return m;if(t!==!0&&t!==!1&&!L(t))throw new Error("Invalid squash policy: "+t+". Valid policies: false, true, arbitrary-string");return m=t,t},this.compile=function(t,e){return new v(t,H(o(),e))},this.isMatcher=function(t){if(!I(t))return!1;var e=!0;return B(v.prototype,function(n,r){O(n)&&(e=e&&P(t[r])&&O(t[r]))}),e},this.type=function(t,e,n){if(!P(e))return b[t];if(b.hasOwnProperty(t))throw new Error("A type named '"+t+"' has already been defined.");return b[t]=new y(H({name:t},e)),n&&(C.push({name:t,def:n}),x||u()),this},B(T,function(t,e){b[e]=new y(H({name:e},t))}),b=r(b,{}),this.$get=["$injector",function(t){return h=t,x=!1,u(),B(T,function(t,e){b[e]||(b[e]=new y(t))}),this}],this.Param=function(t,e,r,i){function o(t){var e=I(t)?a(t):[],n=-1===s(e,"value")&&-1===s(e,"type")&&-1===s(e,"squash")&&-1===s(e,"array");return n&&(t={value:t}),t.$$fn=l(t.value)?t.value:function(){return t.value},t}function u(e,n,r){if(e.type&&n)throw new Error("Param '"+t+"' has two type configurations.");return n?n:e.type?e.type instanceof y?e.type:new y(e.type):"config"===r?b.any:b.string}function c(){var e={array:"search"===i?"auto":!1},n=t.match(/\[\]$/)?{array:!0}:{};return H(e,n,r).array}function f(t,e){var n=t.squash;if(!e||n===!1)return!1;if(!P(n)||null==n)return m;if(n===!0||L(n))return n;throw new Error("Invalid squash policy: '"+n+"'. Valid policies: false, true, or arbitrary string")}function g(t,e,r,i){var o,a,l=[{from:"",to:r||e?n:""},{from:null,to:r||e?n:""}];return o=N(t.replace)?t.replace:[],L(i)&&o.push({from:i,to:n}),a=p(o,function(t){return t.from}),d(l,function(t){return-1===s(a,t.from)}).concat(o)}function v(){if(!h)throw new Error("Injectable functions cannot be called at configuration time");var t=h.invoke(r.$$fn);if(null!==t&&t!==n&&!C.type.is(t))throw new Error("Default value ("+t+") for parameter '"+C.id+"' is not an instance of Type ("+C.type.name+")");return t}function w(t){function e(t){return function(e){return e.from===t}}function n(t){var n=p(d(C.replace,e(t)),function(t){return t.to});return n.length?n[0]:t}return t=n(t),P(t)?C.type.$normalize(t):v()}function x(){return"{Param:"+t+" "+e+" squash: '"+k+"' optional: "+E+"}"}var C=this;r=o(r),e=u(r,e,i);var T=c();e=T?e.$asArray(T,"search"===i):e,"string"!==e.name||T||"path"!==i||r.value!==n||(r.value="");var E=r.value!==n,k=f(r,E),S=g(r,T,E,k);H(this,{id:t,type:e,location:i,array:T,squash:k,replace:S,isOptional:E,value:w,dynamic:n,config:r,toString:x})},c.prototype={$$new:function(){return r(this,H(new c,{$$parent:this}))},$$keys:function(){for(var t=[],e=[],n=this,r=a(c.prototype);n;)e.push(n),n=n.$$parent;return e.reverse(),B(e,function(e){B(a(e),function(e){-1===s(t,e)&&-1===s(r,e)&&t.push(e)})}),t},$$values:function(t){var e={},n=this;return B(n.$$keys(),function(r){e[r]=n[r].value(t&&t[r])}),e},$$equals:function(t,e){var n=!0,r=this;return B(r.$$keys(),function(i){var o=t&&t[i],a=e&&e[i];r[i].type.equals(o,a)||(n=!1)}),n},$$validates:function(t){var r,i,o,a,s,l=this.$$keys();for(r=0;r<l.length&&(i=this[l[r]],o=t[l[r]],o!==n&&null!==o||!i.isOptional);r++){if(a=i.type.$normalize(o),!i.type.is(a))return!1;if(s=i.type.encode(a),e.isString(s)&&!i.type.pattern.exec(s))return!1}return!0},$$parent:n},this.ParamSet=c}function b(t,r){function i(t){var e=/^\^((?:\\[^a-zA-Z0-9]|[^\\\[\]\^$*+?.()|{}]+)*)/.exec(t.source);return null!=e?e[1].replace(/\\(.)/g,"$1"):""}function o(t,e){return t.replace(/\$(\$|\d{1,2})/,function(t,n){return e["$"===n?0:Number(n)]})}function a(t,e,n){if(!n)return!1;var r=t.invoke(e,e,{$match:n});return P(r)?r:!0}function s(r,i,o,a){function s(t,e,n){return"/"===g?t:e?g.slice(0,-1)+t:n?g.slice(1)+t:t}function f(t){function e(t){var e=t(o,r);return e?(L(e)&&r.replace().url(e),!0):!1}if(!t||!t.defaultPrevented){{p&&r.url()===p}p=n;var i,a=u.length;for(i=0;a>i;i++)if(e(u[i]))return;c&&e(c)}}function d(){return l=l||i.$on("$locationChangeSuccess",f)}var p,g=a.baseHref(),m=r.url();return h||d(),{sync:function(){f()},listen:function(){return d()},update:function(t){return t?void(m=r.url()):void(r.url()!==m&&(r.url(m),r.replace()))},push:function(t,e,i){var o=t.format(e||{});null!==o&&e&&e["#"]&&(o+="#"+e["#"]),r.url(o),p=i&&i.$$avoidResync?r.url():n,i&&i.replace&&r.replace()},href:function(n,i,o){if(!n.validates(i))return null;var a=t.html5Mode();e.isObject(a)&&(a=a.enabled);var l=n.format(i);if(o=o||{},a||null===l||(l="#"+t.hashPrefix()+l),null!==l&&i&&i["#"]&&(l+="#"+i["#"]),l=s(l,a,o.absolute),!o.absolute||!l)return l;var u=!a&&l?"/":"",c=r.port();return c=80===c||443===c?"":":"+c,[r.protocol(),"://",r.host(),c,u,l].join("")}}}var l,u=[],c=null,h=!1;this.rule=function(t){if(!O(t))throw new Error("'rule' must be a function");return u.push(t),this},this.otherwise=function(t){if(L(t)){var e=t;t=function(){return e}}else if(!O(t))throw new Error("'rule' must be a function");return c=t,this},this.when=function(t,e){var n,s=L(e);if(L(t)&&(t=r.compile(t)),!s&&!O(e)&&!N(e))throw new Error("invalid 'handler' in when()");var l={matcher:function(t,e){return s&&(n=r.compile(e),e=["$match",function(t){return n.format(t)}]),H(function(n,r){return a(n,e,t.exec(r.path(),r.search()))},{prefix:L(t.prefix)?t.prefix:""})},regex:function(t,e){if(t.global||t.sticky)throw new Error("when() RegExp must not be global or sticky");return s&&(n=e,e=["$match",function(t){return o(n,t)}]),H(function(n,r){return a(n,e,t.exec(r.path()))},{prefix:i(t)})}},u={matcher:r.isMatcher(t),regex:t instanceof RegExp};for(var c in u)if(u[c])return this.rule(l[c](t,e));throw new Error("invalid 'what' in when()")},this.deferIntercept=function(t){t===n&&(t=!0),h=t},this.$get=s,s.$inject=["$location","$rootScope","$injector","$browser"]}function x(t,i){function o(t){return 0===t.indexOf(".")||0===t.indexOf("^")}function f(t,e){if(!t)return n;var r=L(t),i=r?t:t.name,a=o(i);if(a){if(!e)throw new Error("No reference point given for path '"+i+"'");e=f(e);for(var s=i.split("."),l=0,u=s.length,c=e;u>l;l++)if(""!==s[l]||0!==l){if("^"!==s[l])break;if(!c.parent)throw new Error("Path '"+i+"' not valid for state '"+e.name+"'");c=c.parent}else c=e;s=s.slice(l).join("."),i=c.name+(c.name&&s?".":"")+s}var h=k[i];return!h||!r&&(r||h!==t&&h.self!==t)?n:h}function d(t,e){S[t]||(S[t]=[]),S[t].push(e)}function g(t){for(var e=S[t]||[];e.length;)m(e.shift())}function m(e){e=r(e,{self:e,resolve:e.resolve||{},toString:function(){return this.name}});var n=e.name;if(!L(n)||n.indexOf("@")>=0)throw new Error("State must have a valid name");if(k.hasOwnProperty(n))throw new Error("State '"+n+"'' is already defined");var i=-1!==n.indexOf(".")?n.substring(0,n.lastIndexOf(".")):L(e.parent)?e.parent:I(e.parent)&&L(e.parent.name)?e.parent.name:"";if(i&&!k[i])return d(i,e.self);for(var o in $)O($[o])&&(e[o]=$[o](e,$.$delegates[o]));return k[n]=e,!e[_]&&e.url&&t.when(e.url,["$match","$stateParams",function(t,n){E.$current.navigable==e&&u(t,n)||E.transitionTo(e,t,{inherit:!0,location:!1})}]),g(n),e}function v(t){return t.indexOf("*")>-1}function y(t){for(var e=t.split("."),n=E.$current.name.split("."),r=0,i=e.length;i>r;r++)"*"===e[r]&&(n[r]="*");return"**"===e[0]&&(n=n.slice(s(n,e[1])),n.unshift("**")),"**"===e[e.length-1]&&(n.splice(s(n,e[e.length-2])+1,Number.MAX_VALUE),n.push("**")),e.length!=n.length?!1:n.join("")===e.join("")}function w(t,e){return L(t)&&!P(e)?$[t]:O(e)&&L(t)?($[t]&&!$.$delegates[t]&&($.$delegates[t]=$[t]),$[t]=e,this):this}function b(t,e){return I(t)?e=t:e.name=t,m(e),this}function x(t,i,o,s,h,d,g,m,w){function b(e,n,r,o){var a=t.$broadcast("$stateNotFound",e,n,r);if(a.defaultPrevented)return g.update(),A;if(!a.retry)return null;if(o.$retry)return g.update(),D;var s=E.transition=i.when(a.retry);return s.then(function(){return s!==E.transition?S:(e.options.$retry=!0,E.transitionTo(e.to,e.toParams,e.options))},function(){return A}),g.update(),s}function x(t,n,r,a,l,u){function f(){var n=[];return B(t.views,function(r,i){var a=r.resolve&&r.resolve!==t.resolve?r.resolve:{};a.$template=[function(){return o.load(i,{view:r,locals:l.globals,params:d,notify:u.notify})||""}],n.push(h.resolve(a,l.globals,l.resolve,t).then(function(n){if(O(r.controllerProvider)||N(r.controllerProvider)){var o=e.extend({},a,l.globals);n.$$controller=s.invoke(r.controllerProvider,null,o)}else n.$$controller=r.controller;n.$$state=t,n.$$controllerAs=r.controllerAs,l[i]=n}))}),i.all(n).then(function(){return l.globals})}var d=r?n:c(t.params.$$keys(),n),p={$stateParams:d};l.resolve=h.resolve(t.resolve,p,l.resolve,t);var g=[l.resolve.then(function(t){l.globals=t})];return a&&g.push(a),i.all(g).then(f).then(function(t){return l})}var S=i.reject(new Error("transition superseded")),$=i.reject(new Error("transition prevented")),A=i.reject(new Error("transition aborted")),D=i.reject(new Error("transition failed"));return T.locals={resolve:null,globals:{$stateParams:{}}},E={params:{},current:T.self,$current:T,transition:null},E.reload=function(t){return E.transitionTo(E.current,d,{reload:t||!0,inherit:!1,notify:!0})},E.go=function(t,e,n){return E.transitionTo(t,e,H({inherit:!0,relative:E.$current},n))},E.transitionTo=function(e,n,o){n=n||{},o=H({location:!0,inherit:!1,relative:null,notify:!0,reload:!1,$retry:!1},o||{});var a,u=E.$current,h=E.params,p=u.path,m=f(e,o.relative),v=n["#"];if(!P(m)){var y={to:e,toParams:n,options:o},w=b(y,u.self,h,o);if(w)return w;if(e=y.to,n=y.toParams,o=y.options,m=f(e,o.relative),!P(m)){if(!o.relative)throw new Error("No such state '"+e+"'");throw new Error("Could not resolve '"+e+"' from state '"+o.relative+"'")}}if(m[_])throw new Error("Cannot transition to abstract state '"+e+"'");if(o.inherit&&(n=l(d,n||{},E.$current,m)),!m.params.$$validates(n))return D;n=m.params.$$values(n),e=m;var k=e.path,A=0,M=k[A],R=T.locals,O=[];if(o.reload){if(L(o.reload)||I(o.reload)){if(I(o.reload)&&!o.reload.name)throw new Error("Invalid reload state object");var N=o.reload===!0?p[0]:f(o.reload);if(o.reload&&!N)throw new Error("No such reload state '"+(L(o.reload)?o.reload:o.reload.name)+"'");for(;M&&M===p[A]&&M!==N;)R=O[A]=M.locals,A++,M=k[A]}}else for(;M&&M===p[A]&&M.ownParams.$$equals(n,h);)R=O[A]=M.locals,A++,M=k[A];if(C(e,n,u,h,R,o))return v&&(n["#"]=v),E.params=n,F(E.params,d),o.location&&e.navigable&&e.navigable.url&&(g.push(e.navigable.url,n,{$$avoidResync:!0,replace:"replace"===o.location}),g.update(!0)),E.transition=null,i.when(E.current);if(n=c(e.params.$$keys(),n||{}),o.notify&&t.$broadcast("$stateChangeStart",e.self,n,u.self,h).defaultPrevented)return t.$broadcast("$stateChangeCancel",e.self,n,u.self,h),g.update(),$;for(var B=i.when(R),V=A;V<k.length;V++,M=k[V])R=O[V]=r(R),B=x(M,n,M===e,B,R,o);var q=E.transition=B.then(function(){var r,i,a;if(E.transition!==q)return S;for(r=p.length-1;r>=A;r--)a=p[r],a.self.onExit&&s.invoke(a.self.onExit,a.self,a.locals.globals),a.locals=null;for(r=A;r<k.length;r++)i=k[r],i.locals=O[r],i.self.onEnter&&s.invoke(i.self.onEnter,i.self,i.locals.globals);return v&&(n["#"]=v),E.transition!==q?S:(E.$current=e,E.current=e.self,E.params=n,F(E.params,d),E.transition=null,o.location&&e.navigable&&g.push(e.navigable.url,e.navigable.locals.globals.$stateParams,{$$avoidResync:!0,replace:"replace"===o.location}),o.notify&&t.$broadcast("$stateChangeSuccess",e.self,n,u.self,h),g.update(!0),E.current)},function(r){return E.transition!==q?S:(E.transition=null,a=t.$broadcast("$stateChangeError",e.self,n,u.self,h,r),a.defaultPrevented||g.update(),i.reject(r))});return q},E.is=function(t,e,r){r=H({relative:E.$current},r||{});var i=f(t,r.relative);return P(i)?E.$current!==i?!1:e?u(i.params.$$values(e),d):!0:n},E.includes=function(t,e,r){if(r=H({relative:E.$current},r||{}),L(t)&&v(t)){if(!y(t))return!1;t=E.$current.name}var i=f(t,r.relative);return P(i)?P(E.$current.includes[i.name])?e?u(i.params.$$values(e),d,a(e)):!0:!1:n},E.href=function(t,e,r){r=H({lossy:!0,inherit:!0,absolute:!1,relative:E.$current},r||{});var i=f(t,r.relative);if(!P(i))return null;r.inherit&&(e=l(d,e||{},E.$current,i));var o=i&&r.lossy?i.navigable:i;return o&&o.url!==n&&null!==o.url?g.href(o.url,c(i.params.$$keys().concat("#"),e||{}),{absolute:r.absolute}):null},E.get=function(t,e){if(0===arguments.length)return p(a(k),function(t){return k[t].self});var n=f(t,e||E.$current);return n&&n.self?n.self:null},E}function C(t,e,n,r,i,o){function a(t,e,n){function r(e){return"search"!=t.params[e].location}var i=t.params.$$keys().filter(r),o=h.apply({},[t.params].concat(i)),a=new V.ParamSet(o);return a.$$equals(e,n)}return!o.reload&&t===n&&(i===n.locals||t.self.reloadOnSearch===!1&&a(n,r,e))?!0:void 0}var T,E,k={},S={},_="abstract",$={parent:function(t){if(P(t.parent)&&t.parent)return f(t.parent);var e=/^(.+)\.[^.]+$/.exec(t.name);return e?f(e[1]):T},data:function(t){return t.parent&&t.parent.data&&(t.data=t.self.data=H({},t.parent.data,t.data)),t.data},url:function(t){var e=t.url,n={params:t.params||{}};if(L(e))return"^"==e.charAt(0)?i.compile(e.substring(1),n):(t.parent.navigable||T).url.concat(e,n);if(!e||i.isMatcher(e))return e;throw new Error("Invalid url '"+e+"' in state '"+t+"'")},navigable:function(t){return t.url?t:t.parent?t.parent.navigable:null},ownParams:function(t){var e=t.url&&t.url.params||new V.ParamSet;return B(t.params||{},function(t,n){e[n]||(e[n]=new V.Param(n,null,t,"config"))}),e},params:function(t){return t.parent&&t.parent.params?H(t.parent.params.$$new(),t.ownParams):new V.ParamSet},views:function(t){var e={};return B(P(t.views)?t.views:{"":t},function(n,r){r.indexOf("@")<0&&(r+="@"+t.parent.name),e[r]=n}),e},path:function(t){return t.parent?t.parent.path.concat(t):[]},includes:function(t){var e=t.parent?H({},t.parent.includes):{};return e[t.name]=!0,e},$delegates:{}};T=m({name:"",url:"^",views:null,"abstract":!0}),T.navigable=null,this.decorator=w,this.state=b,this.$get=x,x.$inject=["$rootScope","$q","$view","$injector","$resolve","$stateParams","$urlRouter","$location","$urlMatcherFactory"]}function C(){function t(t,e){return{load:function(n,r){var i,o={template:null,controller:null,view:null,locals:null,notify:!0,async:!0,params:{}};return r=H(o,r),r.view&&(i=e.fromConfig(r.view,r.params,r.locals)),i&&r.notify&&t.$broadcast("$viewContentLoading",r),i}}}this.$get=t,t.$inject=["$rootScope","$templateFactory"]}function T(){var t=!1;this.useAnchorScroll=function(){t=!0},this.$get=["$anchorScroll","$timeout",function(e,n){return t?e:function(t){return n(function(){t[0].scrollIntoView()},0,!1)}}]}function E(t,n,r,i){function o(){return n.has?function(t){return n.has(t)?n.get(t):null}:function(t){try{return n.get(t)}catch(e){return null}}}function a(t,e){var n=function(){return{enter:function(t,e,n){e.after(t),n()},leave:function(t,e){t.remove(),e()}}};if(u)return{enter:function(t,e,n){var r=u.enter(t,null,e,n);r&&r.then&&r.then(n)},leave:function(t,e){var n=u.leave(t,e);n&&n.then&&n.then(e)}};if(l){var r=l&&l(e,t);return{enter:function(t,e,n){r.enter(t,null,e),n()},leave:function(t,e){r.leave(t),e()}}}return n()}var s=o(),l=s("$animator"),u=s("$animate"),c={restrict:"ECA",terminal:!0,priority:400,transclude:"element",compile:function(n,o,s){return function(n,o,l){function u(){h&&(h.remove(),h=null),d&&(d.$destroy(),d=null),f&&(v.leave(f,function(){h=null}),h=f,f=null)}function c(a){var c,h=S(n,l,o,i),y=h&&t.$current&&t.$current.locals[h];if(a||y!==p){c=n.$new(),p=t.$current.locals[h];var w=s(c,function(t){v.enter(t,o,function(){d&&d.$emit("$viewContentAnimationEnded"),(e.isDefined(m)&&!m||n.$eval(m))&&r(t)}),u()});f=w,d=c,d.$emit("$viewContentLoaded"),d.$eval(g)}}var h,f,d,p,g=l.onload||"",m=l.autoscroll,v=a(l,n);n.$on("$stateChangeSuccess",function(){c(!1)}),n.$on("$viewContentLoading",function(){c(!1)}),c(!0)}}};return c}function k(t,e,n,r){return{restrict:"ECA",priority:-400,compile:function(i){var o=i.html();return function(i,a,s){var l=n.$current,u=S(i,s,a,r),c=l&&l.locals[u];if(c){a.data("$uiView",{name:u,state:c.$$state}),a.html(c.$template?c.$template:o);var h=t(a.contents());if(c.$$controller){c.$scope=i,c.$element=a;var f=e(c.$$controller,c);c.$$controllerAs&&(i[c.$$controllerAs]=f),a.data("$ngControllerController",f),a.children().data("$ngControllerController",f)}h(i)}}}}}function S(t,e,n,r){var i=r(e.uiView||e.name||"")(t),o=n.inheritedData("$uiView");return i.indexOf("@")>=0?i:i+"@"+(o?o.state.name:"")}function _(t,e){var n,r=t.match(/^\s*({[^}]*})\s*$/);if(r&&(t=e+"("+r[1]+")"),n=t.replace(/\n/g," ").match(/^([^(]+?)\s*(\((.*)\))?$/),!n||4!==n.length)throw new Error("Invalid state ref '"+t+"'");return{state:n[1],paramExpr:n[3]||null}}function $(t){var e=t.parent().inheritedData("$uiView");return e&&e.state&&e.state.name?e.state:void 0}function A(t,n){var r=["location","inherit","reload","absolute"];return{restrict:"A",require:["?^uiSrefActive","?^uiSrefActiveEq"],link:function(i,o,a,s){var l=_(a.uiSref,t.current.name),u=null,c=$(o)||t.$current,h="[object SVGAnimatedString]"===Object.prototype.toString.call(o.prop("href"))?"xlink:href":"href",f=null,d="A"===o.prop("tagName").toUpperCase(),p="FORM"===o[0].nodeName,g=p?"action":h,m=!0,v={relative:c,inherit:!0},y=i.$eval(a.uiSrefOpts)||{};e.forEach(r,function(t){t in y&&(v[t]=y[t])});var w=function(n){if(n&&(u=e.copy(n)),m){f=t.href(l.state,u,v);var r=s[1]||s[0];return r&&r.$$addStateInfo(l.state,u),null===f?(m=!1,!1):void a.$set(g,f)}};l.paramExpr&&(i.$watch(l.paramExpr,function(t,e){t!==u&&w(t)},!0),u=e.copy(i.$eval(l.paramExpr))),w(),p||o.bind("click",function(e){var r=e.which||e.button;if(!(r>1||e.ctrlKey||e.metaKey||e.shiftKey||o.attr("target"))){var i=n(function(){t.go(l.state,u,v)});e.preventDefault();var a=d&&!f?1:0;e.preventDefault=function(){a--<=0&&n.cancel(i)}}})}}}function D(t,e,n){return{restrict:"A",controller:["$scope","$element","$attrs",function(e,r,i){function o(){a()?r.addClass(l):r.removeClass(l)}function a(){for(var t=0;t<u.length;t++)if(s(u[t].state,u[t].params))return!0;return!1}function s(e,n){return"undefined"!=typeof i.uiSrefActiveEq?t.is(e.name,n):t.includes(e.name,n)}var l,u=[];l=n(i.uiSrefActiveEq||i.uiSrefActive||"",!1)(e),this.$$addStateInfo=function(e,n){var i=t.get(e,$(r));u.push({state:i||{name:e},params:n}),o()},e.$on("$stateChangeSuccess",o)}]}}function M(t){var e=function(e){return t.is(e)};return e.$stateful=!0,e}function R(t){var e=function(e){return t.includes(e)};return e.$stateful=!0,e}var P=e.isDefined,O=e.isFunction,L=e.isString,I=e.isObject,N=e.isArray,B=e.forEach,H=e.extend,F=e.copy;e.module("ui.router.util",["ng"]),e.module("ui.router.router",["ui.router.util"]),e.module("ui.router.state",["ui.router.router","ui.router.util"]),e.module("ui.router",["ui.router.state"]),e.module("ui.router.compat",["ui.router"]),g.$inject=["$q","$injector"],e.module("ui.router.util").service("$resolve",g),m.$inject=["$http","$templateCache","$injector"],e.module("ui.router.util").service("$templateFactory",m);var V;v.prototype.concat=function(t,e){var n={caseInsensitive:V.caseInsensitive(),strict:V.strictMode(),squash:V.defaultSquashPolicy()};return new v(this.sourcePath+t+this.sourceSearch,H(n,e),this)},v.prototype.toString=function(){return this.source},v.prototype.exec=function(t,e){function n(t){function e(t){return t.split("").reverse().join("")}function n(t){return t.replace(/\\-/g,"-")}var r=e(t).split(/-(?!\\)/),i=p(r,e);return p(i,n).reverse()}var r=this.regexp.exec(t);if(!r)return null;e=e||{};var i,o,a,s=this.parameters(),l=s.length,u=this.segments.length-1,c={};if(u!==r.length-1)throw new Error("Unbalanced capture group in route '"+this.source+"'");for(i=0;u>i;i++){a=s[i];var h=this.params[a],f=r[i+1];for(o=0;o<h.replace;o++)h.replace[o].from===f&&(f=h.replace[o].to);f&&h.array===!0&&(f=n(f)),c[a]=h.value(f)}for(;l>i;i++)a=s[i],c[a]=this.params[a].value(e[a]);return c},v.prototype.parameters=function(t){return P(t)?this.params[t]||null:this.$$paramNames},v.prototype.validates=function(t){return this.params.$$validates(t)},v.prototype.format=function(t){function e(t){return encodeURIComponent(t).replace(/-/g,function(t){return"%5C%"+t.charCodeAt(0).toString(16).toUpperCase()})}t=t||{};var n=this.segments,r=this.parameters(),i=this.params;if(!this.validates(t))return null;var o,a=!1,s=n.length-1,l=r.length,u=n[0];for(o=0;l>o;o++){var c=s>o,h=r[o],f=i[h],d=f.value(t[h]),g=f.isOptional&&f.type.equals(f.value(),d),m=g?f.squash:!1,v=f.type.encode(d);if(c){var y=n[o+1];if(m===!1)null!=v&&(u+=N(v)?p(v,e).join("-"):encodeURIComponent(v)),u+=y;else if(m===!0){var w=u.match(/\/$/)?/\/?(.*)/:/(.*)/;u+=y.match(w)[1]}else L(m)&&(u+=m+y)}else{if(null==v||g&&m!==!1)continue;N(v)||(v=[v]),v=p(v,encodeURIComponent).join("&"+h+"="),u+=(a?"&":"?")+(h+"="+v),a=!0}}return u},y.prototype.is=function(t,e){return!0},y.prototype.encode=function(t,e){return t},y.prototype.decode=function(t,e){return t},y.prototype.equals=function(t,e){return t==e},y.prototype.$subPattern=function(){var t=this.pattern.toString();return t.substr(1,t.length-2)},y.prototype.pattern=/.*/,y.prototype.toString=function(){return"{Type:"+this.name+"}"},y.prototype.$normalize=function(t){return this.is(t)?t:this.decode(t)},y.prototype.$asArray=function(t,e){function r(t,e){function r(t,e){return function(){return t[e].apply(t,arguments)}}function i(t){return N(t)?t:P(t)?[t]:[]}function o(t){switch(t.length){case 0:return n;case 1:return"auto"===e?t[0]:t;default:return t}}function a(t){return!t}function s(t,e){return function(n){n=i(n);var r=p(n,t);return e===!0?0===d(r,a).length:o(r)}}function l(t){return function(e,n){var r=i(e),o=i(n);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!t(r[a],o[a]))return!1;return!0}}this.encode=s(r(t,"encode")),this.decode=s(r(t,"decode")),this.is=s(r(t,"is"),!0),this.equals=l(r(t,"equals")),this.pattern=t.pattern,this.$normalize=s(r(t,"$normalize")),this.name=t.name,this.$arrayMode=e}if(!t)return this;if("auto"===t&&!e)throw new Error("'auto' array mode is for query parameters only");return new r(this,t)},e.module("ui.router.util").provider("$urlMatcherFactory",w),e.module("ui.router.util").run(["$urlMatcherFactory",function(t){}]),b.$inject=["$locationProvider","$urlMatcherFactoryProvider"],e.module("ui.router.router").provider("$urlRouter",b),x.$inject=["$urlRouterProvider","$urlMatcherFactoryProvider"],e.module("ui.router.state").value("$stateParams",{}).provider("$state",x),C.$inject=[],e.module("ui.router.state").provider("$view",C),e.module("ui.router.state").provider("$uiViewScroll",T),E.$inject=["$state","$injector","$uiViewScroll","$interpolate"],k.$inject=["$compile","$controller","$state","$interpolate"],e.module("ui.router.state").directive("uiView",E),e.module("ui.router.state").directive("uiView",k),A.$inject=["$state","$timeout"],D.$inject=["$state","$stateParams","$interpolate"],e.module("ui.router.state").directive("uiSref",A).directive("uiSrefActive",D).directive("uiSrefActiveEq",D),M.$inject=["$state"],R.$inject=["$state"],e.module("ui.router.state").filter("isState",M).filter("includedByState",R)}(window,window.angular),/* ========================================================================
 * Bootstrap: dropdown.js v3.3.5
 * http://getbootstrap.com/javascript/#dropdowns
 * ========================================================================
 * Copyright 2011-2015 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */
+function(t){"use strict";function e(e){var n=e.attr("data-target");n||(n=e.attr("href"),n=n&&/#[A-Za-z]/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&t(n);return r&&r.length?r:e.parent()}function n(n){n&&3===n.which||(t(i).remove(),t(o).each(function(){var r=t(this),i=e(r),o={relatedTarget:this};i.hasClass("open")&&(n&&"click"==n.type&&/input|textarea/i.test(n.target.tagName)&&t.contains(i[0],n.target)||(i.trigger(n=t.Event("hide.bs.dropdown",o)),n.isDefaultPrevented()||(r.attr("aria-expanded","false"),i.removeClass("open").trigger("hidden.bs.dropdown",o))))}))}function r(e){return this.each(function(){var n=t(this),r=n.data("bs.dropdown");r||n.data("bs.dropdown",r=new a(this)),"string"==typeof e&&r[e].call(n)})}var i=".dropdown-backdrop",o='[data-toggle="dropdown"]',a=function(e){t(e).on("click.bs.dropdown",this.toggle)};a.VERSION="3.3.5",a.prototype.toggle=function(r){var i=t(this);if(!i.is(".disabled, :disabled")){var o=e(i),a=o.hasClass("open");if(n(),!a){"ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t(document.createElement("div")).addClass("dropdown-backdrop").insertAfter(t(this)).on("click",n);var s={relatedTarget:this};if(o.trigger(r=t.Event("show.bs.dropdown",s)),r.isDefaultPrevented())return;i.trigger("focus").attr("aria-expanded","true"),o.toggleClass("open").trigger("shown.bs.dropdown",s)}return!1}},a.prototype.keydown=function(n){if(/(38|40|27|32)/.test(n.which)&&!/input|textarea/i.test(n.target.tagName)){var r=t(this);if(n.preventDefault(),n.stopPropagation(),!r.is(".disabled, :disabled")){var i=e(r),a=i.hasClass("open");if(!a&&27!=n.which||a&&27==n.which)return 27==n.which&&i.find(o).trigger("focus"),r.trigger("click");var s=" li:not(.disabled):visible a",l=i.find(".dropdown-menu"+s);if(l.length){var u=l.index(n.target);38==n.which&&u>0&&u--,40==n.which&&u<l.length-1&&u++,~u||(u=0),l.eq(u).trigger("focus")}}}};var s=t.fn.dropdown;t.fn.dropdown=r,t.fn.dropdown.Constructor=a,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=s,this},t(document).on("click.bs.dropdown.data-api",n).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",o,a.prototype.toggle).on("keydown.bs.dropdown.data-api",o,a.prototype.keydown).on("keydown.bs.dropdown.data-api",".dropdown-menu",a.prototype.keydown)}(jQuery),function(t){t(["jquery"],function(t){return function(){function e(t,e,n){return p({type:x.error,iconClass:g().iconClasses.error,message:t,optionsOverride:n,title:e})}function n(e,n){return e||(e=g()),v=t("#"+e.containerId),v.length?v:(n&&(v=h(e)),v)}function r(t,e,n){return p({type:x.info,iconClass:g().iconClasses.info,message:t,optionsOverride:n,title:e})}function i(t){y=t}function o(t,e,n){return p({type:x.success,iconClass:g().iconClasses.success,message:t,optionsOverride:n,title:e})}function a(t,e,n){return p({type:x.warning,iconClass:g().iconClasses.warning,message:t,optionsOverride:n,title:e})}function s(t,e){var r=g();v||n(r),c(t,r,e)||u(r)}function l(e){var r=g();return v||n(r),e&&0===t(":focus",e).length?void m(e):void(v.children().length&&v.remove())}function u(e){for(var n=v.children(),r=n.length-1;r>=0;r--)c(t(n[r]),e)}function c(e,n,r){var i=r&&r.force?r.force:!1;return e&&(i||0===t(":focus",e).length)?(e[n.hideMethod]({duration:n.hideDuration,easing:n.hideEasing,complete:function(){m(e)}}),!0):!1}function h(e){return v=t("<div/>").attr("id",e.containerId).addClass(e.positionClass).attr("aria-live","polite").attr("role","alert"),v.appendTo(t(e.target)),v}function f(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:'<button type="button">&times;</button>',newestOnTop:!0,preventDuplicates:!1,progressBar:!1}}function d(t){y&&y(t)}function p(e){function r(){a(),l(),u(),c(),h(),s()}function i(){S.hover(x,y),!T.onclick&&T.tapToDismiss&&S.click(p),T.closeButton&&D&&D.click(function(t){t.stopPropagation?t.stopPropagation():void 0!==t.cancelBubble&&t.cancelBubble!==!0&&(t.cancelBubble=!0),p(!0)}),T.onclick&&S.click(function(){T.onclick(),p()})}function o(){S.hide(),S[T.showMethod]({duration:T.showDuration,easing:T.showEasing,complete:T.onShown}),T.timeOut>0&&(k=setTimeout(p,T.timeOut),M.maxHideTime=parseFloat(T.timeOut),M.hideEta=(new Date).getTime()+M.maxHideTime,T.progressBar&&(M.intervalId=setInterval(C,10)))}function a(){e.iconClass&&S.addClass(T.toastClass).addClass(E)}function s(){T.newestOnTop?v.prepend(S):v.append(S)}function l(){e.title&&(_.append(e.title).addClass(T.titleClass),S.append(_))}function u(){e.message&&($.append(e.message).addClass(T.messageClass),S.append($))}function c(){T.closeButton&&(D.addClass("toast-close-button").attr("role","button"),S.prepend(D))}function h(){T.progressBar&&(A.addClass("toast-progress"),S.prepend(A))}function f(t,e){if(t.preventDuplicates){if(e.message===w)return!0;w=e.message}return!1}function p(e){return!t(":focus",S).length||e?(clearTimeout(M.intervalId),S[T.hideMethod]({duration:T.hideDuration,easing:T.hideEasing,complete:function(){m(S),T.onHidden&&"hidden"!==R.state&&T.onHidden(),R.state="hidden",R.endTime=new Date,d(R)}})):void 0}function y(){(T.timeOut>0||T.extendedTimeOut>0)&&(k=setTimeout(p,T.extendedTimeOut),M.maxHideTime=parseFloat(T.extendedTimeOut),M.hideEta=(new Date).getTime()+M.maxHideTime)}function x(){clearTimeout(k),M.hideEta=0,S.stop(!0,!0)[T.showMethod]({duration:T.showDuration,easing:T.showEasing})}function C(){var t=(M.hideEta-(new Date).getTime())/M.maxHideTime*100;A.width(t+"%")}var T=g(),E=e.iconClass||T.iconClass;if("undefined"!=typeof e.optionsOverride&&(T=t.extend(T,e.optionsOverride),E=e.optionsOverride.iconClass||E),!f(T,e)){b++,v=n(T,!0);var k=null,S=t("<div/>"),_=t("<div/>"),$=t("<div/>"),A=t("<div/>"),D=t(T.closeHtml),M={intervalId:null,hideEta:null,maxHideTime:null},R={toastId:b,state:"visible",startTime:new Date,options:T,map:e};return r(),o(),i(),d(R),T.debug&&console&&console.log(R),S}}function g(){return t.extend({},f(),C.options)}function m(t){v||(v=n()),t.is(":visible")||(t.remove(),t=null,0===v.children().length&&(v.remove(),w=void 0))}var v,y,w,b=0,x={error:"error",info:"info",success:"success",warning:"warning"},C={clear:s,remove:l,error:e,getContainer:n,info:r,options:{},subscribe:i,success:o,version:"2.1.1",warning:a};return C}()})}("function"==typeof define&&define.amd?define:function(t,e){"undefined"!=typeof module&&module.exports?module.exports=e(require("jquery")):window.toastr=e(window.jQuery)}),
//! license : MIT
//! momentjs.com
function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";function t(){return Dn.apply(null,arguments)}function e(t){Dn=t}function n(t){return"[object Array]"===Object.prototype.toString.call(t)}function r(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function i(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function o(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function a(t,e){for(var n in e)o(e,n)&&(t[n]=e[n]);return o(e,"toString")&&(t.toString=e.toString),o(e,"valueOf")&&(t.valueOf=e.valueOf),t}function s(t,e,n,r){return kt(t,e,n,r,!0).utc()}function l(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function u(t){return null==t._pf&&(t._pf=l()),t._pf}function c(t){if(null==t._isValid){var e=u(t);t._isValid=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour)}return t._isValid}function h(t){var e=s(0/0);return null!=t?a(u(e),t):u(e).userInvalidated=!0,e}function f(t,e){var n,r,i;if("undefined"!=typeof e._isAMomentObject&&(t._isAMomentObject=e._isAMomentObject),"undefined"!=typeof e._i&&(t._i=e._i),"undefined"!=typeof e._f&&(t._f=e._f),"undefined"!=typeof e._l&&(t._l=e._l),"undefined"!=typeof e._strict&&(t._strict=e._strict),"undefined"!=typeof e._tzm&&(t._tzm=e._tzm),"undefined"!=typeof e._isUTC&&(t._isUTC=e._isUTC),"undefined"!=typeof e._offset&&(t._offset=e._offset),"undefined"!=typeof e._pf&&(t._pf=u(e)),"undefined"!=typeof e._locale&&(t._locale=e._locale),Rn.length>0)for(n in Rn)r=Rn[n],i=e[r],"undefined"!=typeof i&&(t[r]=i);return t}function d(e){f(this,e),this._d=new Date(+e._d),Pn===!1&&(Pn=!0,t.updateOffset(this),Pn=!1)}function p(t){return t instanceof d||null!=t&&null!=t._isAMomentObject}function g(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=e>=0?Math.floor(e):Math.ceil(e)),n}function m(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;i>r;r++)(n&&t[r]!==e[r]||!n&&g(t[r])!==g(e[r]))&&a++;return a+o}function v(){}function y(t){return t?t.toLowerCase().replace("_","-"):t}function w(t){for(var e,n,r,i,o=0;o<t.length;){for(i=y(t[o]).split("-"),e=i.length,n=y(t[o+1]),n=n?n.split("-"):null;e>0;){if(r=b(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&m(i,n,!0)>=e-1)break;e--}o++}return null}function b(t){var e=null;if(!On[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=Mn._abbr,require("./locale/"+t),x(e)}catch(n){}return On[t]}function x(t,e){var n;return t&&(n="undefined"==typeof e?T(t):C(t,e),n&&(Mn=n)),Mn._abbr}function C(t,e){return null!==e?(e.abbr=t,On[t]||(On[t]=new v),On[t].set(e),x(t),On[t]):(delete On[t],null)}function T(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Mn;if(!n(t)){if(e=b(t))return e;t=[t]}return w(t)}function E(t,e){var n=t.toLowerCase();Ln[n]=Ln[n+"s"]=Ln[e]=t}function k(t){return"string"==typeof t?Ln[t]||Ln[t.toLowerCase()]:void 0}function S(t){var e,n,r={};for(n in t)o(t,n)&&(e=k(n),e&&(r[e]=t[n]));return r}function _(e,n){return function(r){return null!=r?(A(this,e,r),t.updateOffset(this,n),this):$(this,e)}}function $(t,e){return t._d["get"+(t._isUTC?"UTC":"")+e]()}function A(t,e,n){return t._d["set"+(t._isUTC?"UTC":"")+e](n)}function D(t,e){var n;if("object"==typeof t)for(n in t)this.set(n,t[n]);else if(t=k(t),"function"==typeof this[t])return this[t](e);return this}function M(t,e,n){for(var r=""+Math.abs(t),i=t>=0;r.length<e;)r="0"+r;return(i?n?"+":"":"-")+r}function R(t,e,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),t&&(Hn[t]=i),e&&(Hn[e[0]]=function(){return M(i.apply(this,arguments),e[1],e[2])}),n&&(Hn[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function P(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function O(t){var e,n,r=t.match(In);for(e=0,n=r.length;n>e;e++)r[e]=Hn[r[e]]?Hn[r[e]]:P(r[e]);return function(i){var o="";for(e=0;n>e;e++)o+=r[e]instanceof Function?r[e].call(i,t):r[e];return o}}function L(t,e){return t.isValid()?(e=I(e,t.localeData()),Bn[e]||(Bn[e]=O(e)),Bn[e](t)):t.localeData().invalidDate()}function I(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(Nn.lastIndex=0;r>=0&&Nn.test(t);)t=t.replace(Nn,n),Nn.lastIndex=0,r-=1;return t}function N(t,e,n){tr[t]="function"==typeof e?e:function(t){return t&&n?n:e}}function B(t,e){return o(tr,t)?tr[t](e._strict,e._locale):new RegExp(H(t))}function H(t){return t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function F(t,e){var n,r=e;for("string"==typeof t&&(t=[t]),"number"==typeof e&&(r=function(t,n){n[e]=g(t)}),n=0;n<t.length;n++)er[t[n]]=r}function V(t,e){F(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function q(t,e,n){null!=e&&o(er,t)&&er[t](e,n._a,n,t)}function j(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function z(t){return this._months[t.month()]}function W(t){return this._monthsShort[t.month()]}function U(t,e,n){var r,i,o;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;12>r;r++){if(i=s([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function Y(t,e){var n;return"string"==typeof e&&(e=t.localeData().monthsParse(e),"number"!=typeof e)?t:(n=Math.min(t.date(),j(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t)}function X(e){return null!=e?(Y(this,e),t.updateOffset(this,!0),this):$(this,"Month")}function G(){return j(this.year(),this.month())}function K(t){var e,n=t._a;return n&&-2===u(t).overflow&&(e=n[rr]<0||n[rr]>11?rr:n[ir]<1||n[ir]>j(n[nr],n[rr])?ir:n[or]<0||n[or]>24||24===n[or]&&(0!==n[ar]||0!==n[sr]||0!==n[lr])?or:n[ar]<0||n[ar]>59?ar:n[sr]<0||n[sr]>59?sr:n[lr]<0||n[lr]>999?lr:-1,u(t)._overflowDayOfYear&&(nr>e||e>ir)&&(e=ir),u(t).overflow=e),t}function Z(e){t.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function J(t,e){var n=!0,r=t+"\n"+(new Error).stack;return a(function(){return n&&(Z(r),n=!1),e.apply(this,arguments)},e)}function Q(t,e){hr[t]||(Z(e),hr[t]=!0)}function tt(t){var e,n,r=t._i,i=fr.exec(r);if(i){for(u(t).iso=!0,e=0,n=dr.length;n>e;e++)if(dr[e][1].exec(r)){t._f=dr[e][0]+(i[6]||" ");break}for(e=0,n=pr.length;n>e;e++)if(pr[e][1].exec(r)){t._f+=pr[e][0];break}r.match(Zn)&&(t._f+="Z"),wt(t)}else t._isValid=!1}function et(e){var n=gr.exec(e._i);return null!==n?void(e._d=new Date(+n[1])):(tt(e),void(e._isValid===!1&&(delete e._isValid,t.createFromInputFallback(e))))}function nt(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return 1970>t&&s.setFullYear(t),s}function rt(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function it(t){return ot(t)?366:365}function ot(t){return t%4===0&&t%100!==0||t%400===0}function at(){return ot(this.year())}function st(t,e,n){var r,i=n-e,o=n-t.day();return o>i&&(o-=7),i-7>o&&(o+=7),r=St(t).add(o,"d"),{week:Math.ceil(r.dayOfYear()/7),year:r.year()}}function lt(t){return st(t,this._week.dow,this._week.doy).week}function ut(){return this._week.dow}function ct(){return this._week.doy}function ht(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function ft(t){var e=st(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function dt(t,e,n,r,i){var o,a,s=rt(t,0,1).getUTCDay();return s=0===s?7:s,n=null!=n?n:i,o=i-s+(s>r?7:0)-(i>s?7:0),a=7*(e-1)+(n-i)+o+1,{year:a>0?t:t-1,dayOfYear:a>0?a:it(t-1)+a}}function pt(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function gt(t,e,n){return null!=t?t:null!=e?e:n}function mt(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function vt(t){var e,n,r,i,o=[];if(!t._d){for(r=mt(t),t._w&&null==t._a[ir]&&null==t._a[rr]&&yt(t),t._dayOfYear&&(i=gt(t._a[nr],r[nr]),t._dayOfYear>it(i)&&(u(t)._overflowDayOfYear=!0),n=rt(i,0,t._dayOfYear),t._a[rr]=n.getUTCMonth(),t._a[ir]=n.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=o[e]=r[e];for(;7>e;e++)t._a[e]=o[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[or]&&0===t._a[ar]&&0===t._a[sr]&&0===t._a[lr]&&(t._nextDay=!0,t._a[or]=0),t._d=(t._useUTC?rt:nt).apply(null,o),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[or]=24)}}function yt(t){var e,n,r,i,o,a,s;e=t._w,null!=e.GG||null!=e.W||null!=e.E?(o=1,a=4,n=gt(e.GG,t._a[nr],st(St(),1,4).year),r=gt(e.W,1),i=gt(e.E,1)):(o=t._locale._week.dow,a=t._locale._week.doy,n=gt(e.gg,t._a[nr],st(St(),o,a).year),r=gt(e.w,1),null!=e.d?(i=e.d,o>i&&++r):i=null!=e.e?e.e+o:o),s=dt(n,r,i,a,o),t._a[nr]=s.year,t._dayOfYear=s.dayOfYear}function wt(e){if(e._f===t.ISO_8601)return void tt(e);e._a=[],u(e).empty=!0;var n,r,i,o,a,s=""+e._i,l=s.length,c=0;for(i=I(e._f,e._locale).match(In)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(B(o,e))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&u(e).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Hn[o]?(r?u(e).empty=!1:u(e).unusedTokens.push(o),q(o,r,e)):e._strict&&!r&&u(e).unusedTokens.push(o);u(e).charsLeftOver=l-c,s.length>0&&u(e).unusedInput.push(s),u(e).bigHour===!0&&e._a[or]<=12&&e._a[or]>0&&(u(e).bigHour=void 0),e._a[or]=bt(e._locale,e._a[or],e._meridiem),vt(e),K(e)}function bt(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&12>e&&(e+=12),r||12!==e||(e=0),e):e}function xt(t){var e,n,r,i,o;if(0===t._f.length)return u(t).invalidFormat=!0,void(t._d=new Date(0/0));for(i=0;i<t._f.length;i++)o=0,e=f({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],wt(e),c(e)&&(o+=u(e).charsLeftOver,o+=10*u(e).unusedTokens.length,u(e).score=o,(null==r||r>o)&&(r=o,n=e));a(t,n||e)}function Ct(t){if(!t._d){var e=S(t._i);t._a=[e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],vt(t)}}function Tt(t){var e,i=t._i,o=t._f;return t._locale=t._locale||T(t._l),null===i||void 0===o&&""===i?h({nullInput:!0}):("string"==typeof i&&(t._i=i=t._locale.preparse(i)),p(i)?new d(K(i)):(n(o)?xt(t):o?wt(t):r(i)?t._d=i:Et(t),e=new d(K(t)),e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e))}function Et(e){var o=e._i;void 0===o?e._d=new Date:r(o)?e._d=new Date(+o):"string"==typeof o?et(e):n(o)?(e._a=i(o.slice(0),function(t){return parseInt(t,10)}),vt(e)):"object"==typeof o?Ct(e):"number"==typeof o?e._d=new Date(o):t.createFromInputFallback(e)}function kt(t,e,n,r,i){var o={};return"boolean"==typeof n&&(r=n,n=void 0),o._isAMomentObject=!0,o._useUTC=o._isUTC=i,o._l=n,o._i=t,o._f=e,o._strict=r,Tt(o)}function St(t,e,n,r){return kt(t,e,n,r,!1)}function _t(t,e){var r,i;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return St();for(r=e[0],i=1;i<e.length;++i)e[i][t](r)&&(r=e[i]);return r}function $t(){var t=[].slice.call(arguments,0);return _t("isBefore",t)}function At(){var t=[].slice.call(arguments,0);return _t("isAfter",t)}function Dt(t){var e=S(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*u+6e4*l+36e5*s,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=T(),this._bubble()}function Mt(t){return t instanceof Dt}function Rt(t,e){R(t,0,0,function(){var t=this.utcOffset(),n="+";return 0>t&&(t=-t,n="-"),n+M(~~(t/60),2)+e+M(~~t%60,2)})}function Pt(t){var e=(t||"").match(Zn)||[],n=e[e.length-1]||[],r=(n+"").match(br)||["-",0,0],i=+(60*r[1])+g(r[2]);return"+"===r[0]?i:-i}function Ot(e,n){var i,o;return n._isUTC?(i=n.clone(),o=(p(e)||r(e)?+e:+St(e))-+i,i._d.setTime(+i._d+o),t.updateOffset(i,!1),i):St(e).local()}function Lt(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function It(e,n){var r,i=this._offset||0;return null!=e?("string"==typeof e&&(e=Pt(e)),Math.abs(e)<16&&(e=60*e),!this._isUTC&&n&&(r=Lt(this)),this._offset=e,this._isUTC=!0,null!=r&&this.add(r,"m"),i!==e&&(!n||this._changeInProgress?Jt(this,Yt(e-i,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,t.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?i:Lt(this)}function Nt(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Bt(t){return this.utcOffset(0,t)}function Ht(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Lt(this),"m")),this}function Ft(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(Pt(this._i)),this}function Vt(t){return t=t?St(t).utcOffset():0,(this.utcOffset()-t)%60===0}function qt(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function jt(){if(this._a){var t=this._isUTC?s(this._a):St(this._a);return this.isValid()&&m(this._a,t.toArray())>0}return!1}function zt(){return!this._isUTC}function Wt(){return this._isUTC}function Ut(){return this._isUTC&&0===this._offset}function Yt(t,e){var n,r,i,a=t,s=null;return Mt(t)?a={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(a={},e?a[e]=t:a.milliseconds=t):(s=xr.exec(t))?(n="-"===s[1]?-1:1,a={y:0,d:g(s[ir])*n,h:g(s[or])*n,m:g(s[ar])*n,s:g(s[sr])*n,ms:g(s[lr])*n}):(s=Cr.exec(t))?(n="-"===s[1]?-1:1,a={y:Xt(s[2],n),M:Xt(s[3],n),d:Xt(s[4],n),h:Xt(s[5],n),m:Xt(s[6],n),s:Xt(s[7],n),w:Xt(s[8],n)}):null==a?a={}:"object"==typeof a&&("from"in a||"to"in a)&&(i=Kt(St(a.from),St(a.to)),a={},a.ms=i.milliseconds,a.M=i.months),r=new Dt(a),Mt(t)&&o(t,"_locale")&&(r._locale=t._locale),r}function Xt(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Gt(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Kt(t,e){var n;return e=Ot(e,t),t.isBefore(e)?n=Gt(t,e):(n=Gt(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n}function Zt(t,e){return function(n,r){var i,o;return null===r||isNaN(+r)||(Q(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period)."),o=n,n=r,r=o),n="string"==typeof n?+n:n,i=Yt(n,r),Jt(this,i,t),this}}function Jt(e,n,r,i){var o=n._milliseconds,a=n._days,s=n._months;i=null==i?!0:i,o&&e._d.setTime(+e._d+o*r),a&&A(e,"Date",$(e,"Date")+a*r),s&&Y(e,$(e,"Month")+s*r),i&&t.updateOffset(e,a||s)}function Qt(t){var e=t||St(),n=Ot(e,this).startOf("day"),r=this.diff(n,"days",!0),i=-6>r?"sameElse":-1>r?"lastWeek":0>r?"lastDay":1>r?"sameDay":2>r?"nextDay":7>r?"nextWeek":"sameElse";return this.format(this.localeData().calendar(i,this,St(e)))}function te(){return new d(this)}function ee(t,e){var n;return e=k("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:St(t),+this>+t):(n=p(t)?+t:+St(t),n<+this.clone().startOf(e))}function ne(t,e){var n;return e=k("undefined"!=typeof e?e:"millisecond"),"millisecond"===e?(t=p(t)?t:St(t),+t>+this):(n=p(t)?+t:+St(t),+this.clone().endOf(e)<n)}function re(t,e,n){return this.isAfter(t,n)&&this.isBefore(e,n)}function ie(t,e){var n;return e=k(e||"millisecond"),"millisecond"===e?(t=p(t)?t:St(t),+this===+t):(n=+St(t),+this.clone().startOf(e)<=n&&n<=+this.clone().endOf(e))}function oe(t){return 0>t?Math.ceil(t):Math.floor(t)}function ae(t,e,n){var r,i,o=Ot(t,this),a=6e4*(o.utcOffset()-this.utcOffset());return e=k(e),"year"===e||"month"===e||"quarter"===e?(i=se(this,o),"quarter"===e?i/=3:"year"===e&&(i/=12)):(r=this-o,i="second"===e?r/1e3:"minute"===e?r/6e4:"hour"===e?r/36e5:"day"===e?(r-a)/864e5:"week"===e?(r-a)/6048e5:r),n?i:oe(i)}function se(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return 0>e-o?(n=t.clone().add(i-1,"months"),r=(e-o)/(o-n)):(n=t.clone().add(i+1,"months"),r=(e-o)/(n-o)),-(i+r)}function le(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ue(){var t=this.clone().utc();return 0<t.year()&&t.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():L(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):L(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function ce(e){var n=L(this,e||t.defaultFormat);return this.localeData().postformat(n)}function he(t,e){return this.isValid()?Yt({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function fe(t){return this.from(St(),t)}function de(t,e){return this.isValid()?Yt({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function pe(t){return this.to(St(),t)}function ge(t){var e;return void 0===t?this._locale._abbr:(e=T(t),null!=e&&(this._locale=e),this)}function me(){return this._locale}function ve(t){switch(t=k(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function ye(t){return t=k(t),void 0===t||"millisecond"===t?this:this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms")}function we(){return+this._d-6e4*(this._offset||0)}function be(){return Math.floor(+this/1e3)}function xe(){return this._offset?new Date(+this):this._d}function Ce(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Te(){return c(this)}function Ee(){return a({},u(this))}function ke(){return u(this).overflow}function Se(t,e){R(0,[t,t.length],0,e)}function _e(t,e,n){return st(St([t,11,31+e-n]),e,n).week}function $e(t){var e=st(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==t?e:this.add(t-e,"y")}function Ae(t){var e=st(this,1,4).year;return null==t?e:this.add(t-e,"y")}function De(){return _e(this.year(),1,4)}function Me(){var t=this.localeData()._week;return _e(this.year(),t.dow,t.doy)}function Re(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Pe(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function Oe(t){return this._weekdays[t.day()]}function Le(t){return this._weekdaysShort[t.day()]}function Ie(t){return this._weekdaysMin[t.day()]}function Ne(t){var e,n,r;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(n=St([2e3,1]).day(e),r="^"+this.weekdays(n,"")+"|^"+this.weekdaysShort(n,"")+"|^"+this.weekdaysMin(n,""),this._weekdaysParse[e]=new RegExp(r.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e}function Be(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Pe(t,this.localeData()),this.add(t-e,"d")):e}function He(t){var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Fe(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)}function Ve(t,e){R(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function qe(t,e){return e._meridiemParse}function je(t){return"p"===(t+"").toLowerCase().charAt(0)}function ze(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function We(t){R(0,[t,3],0,"millisecond")}function Ue(){return this._isUTC?"UTC":""}function Ye(){return this._isUTC?"Coordinated Universal Time":""}function Xe(t){return St(1e3*t)}function Ge(){return St.apply(null,arguments).parseZone()}function Ke(t,e,n){var r=this._calendar[t];return"function"==typeof r?r.call(e,n):r}function Ze(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e}function Je(){return this._invalidDate}function Qe(t){return this._ordinal.replace("%d",t)}function tn(t){return t}function en(t,e,n,r){var i=this._relativeTime[n];return"function"==typeof i?i(t,e,n,r):i.replace(/%d/i,t)}function nn(t,e){var n=this._relativeTime[t>0?"future":"past"];return"function"==typeof n?n(e):n.replace(/%s/i,e)}function rn(t){var e,n;for(n in t)e=t[n],"function"==typeof e?this[n]=e:this["_"+n]=e;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function on(t,e,n,r){var i=T(),o=s().set(r,e);return i[n](o,t)}function an(t,e,n,r,i){if("number"==typeof t&&(e=t,t=void 0),t=t||"",null!=e)return on(t,e,n,i);var o,a=[];for(o=0;r>o;o++)a[o]=on(t,o,n,i);return a}function sn(t,e){return an(t,e,"months",12,"month")}function ln(t,e){return an(t,e,"monthsShort",12,"month")}function un(t,e){return an(t,e,"weekdays",7,"day")}function cn(t,e){return an(t,e,"weekdaysShort",7,"day")}function hn(t,e){return an(t,e,"weekdaysMin",7,"day")}function fn(){var t=this._data;return this._milliseconds=zr(this._milliseconds),this._days=zr(this._days),this._months=zr(this._months),t.milliseconds=zr(t.milliseconds),t.seconds=zr(t.seconds),t.minutes=zr(t.minutes),t.hours=zr(t.hours),t.months=zr(t.months),t.years=zr(t.years),this}function dn(t,e,n,r){var i=Yt(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function pn(t,e){return dn(this,t,e,1)}function gn(t,e){return dn(this,t,e,-1)}function mn(){var t,e,n,r=this._milliseconds,i=this._days,o=this._months,a=this._data,s=0;return a.milliseconds=r%1e3,t=oe(r/1e3),a.seconds=t%60,e=oe(t/60),a.minutes=e%60,n=oe(e/60),a.hours=n%24,i+=oe(n/24),s=oe(vn(i)),i-=oe(yn(s)),o+=oe(i/30),i%=30,s+=oe(o/12),o%=12,a.days=i,a.months=o,a.years=s,this}function vn(t){return 400*t/146097}function yn(t){return 146097*t/400}function wn(t){var e,n,r=this._milliseconds;if(t=k(t),"month"===t||"year"===t)return e=this._days+r/864e5,n=this._months+12*vn(e),"month"===t?n:n/12;switch(e=this._days+Math.round(yn(this._months/12)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function bn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*g(this._months/12)}function xn(t){return function(){return this.as(t)}}function Cn(t){return t=k(t),this[t+"s"]()}function Tn(t){return function(){return this._data[t]}}function En(){return oe(this.days()/7)}function kn(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function Sn(t,e,n){var r=Yt(t).abs(),i=ai(r.as("s")),o=ai(r.as("m")),a=ai(r.as("h")),s=ai(r.as("d")),l=ai(r.as("M")),u=ai(r.as("y")),c=i<si.s&&["s",i]||1===o&&["m"]||o<si.m&&["mm",o]||1===a&&["h"]||a<si.h&&["hh",a]||1===s&&["d"]||s<si.d&&["dd",s]||1===l&&["M"]||l<si.M&&["MM",l]||1===u&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=n,kn.apply(null,c)}function _n(t,e){return void 0===si[t]?!1:void 0===e?si[t]:(si[t]=e,!0)}function $n(t){var e=this.localeData(),n=Sn(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function An(){var t=li(this.years()),e=li(this.months()),n=li(this.days()),r=li(this.hours()),i=li(this.minutes()),o=li(this.seconds()+this.milliseconds()/1e3),a=this.asSeconds();return a?(0>a?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(n?n+"D":"")+(r||i||o?"T":"")+(r?r+"H":"")+(i?i+"M":"")+(o?o+"S":""):"P0D"}var Dn,Mn,Rn=t.momentProperties=[],Pn=!1,On={},Ln={},In=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,Nn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Bn={},Hn={},Fn=/\d/,Vn=/\d\d/,qn=/\d{3}/,jn=/\d{4}/,zn=/[+-]?\d{6}/,Wn=/\d\d?/,Un=/\d{1,3}/,Yn=/\d{1,4}/,Xn=/[+-]?\d{1,6}/,Gn=/\d+/,Kn=/[+-]?\d+/,Zn=/Z|[+-]\d\d:?\d\d/gi,Jn=/[+-]?\d+(\.\d{1,3})?/,Qn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,tr={},er={},nr=0,rr=1,ir=2,or=3,ar=4,sr=5,lr=6;R("M",["MM",2],"Mo",function(){return this.month()+1}),R("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),R("MMMM",0,0,function(t){return this.localeData().months(this,t)}),E("month","M"),N("M",Wn),N("MM",Wn,Vn),N("MMM",Qn),N("MMMM",Qn),F(["M","MM"],function(t,e){e[rr]=g(t)-1}),F(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[rr]=i:u(n).invalidMonth=t});var ur="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),cr="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),hr={};t.suppressDeprecationWarnings=!1;var fr=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dr=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],pr=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],gr=/^\/?Date\((\-?\d+)/i;t.createFromInputFallback=J("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),R(0,["YY",2],0,function(){return this.year()%100}),R(0,["YYYY",4],0,"year"),R(0,["YYYYY",5],0,"year"),R(0,["YYYYYY",6,!0],0,"year"),E("year","y"),N("Y",Kn),N("YY",Wn,Vn),N("YYYY",Yn,jn),N("YYYYY",Xn,zn),N("YYYYYY",Xn,zn),F(["YYYY","YYYYY","YYYYYY"],nr),F("YY",function(e,n){n[nr]=t.parseTwoDigitYear(e)}),t.parseTwoDigitYear=function(t){return g(t)+(g(t)>68?1900:2e3)};var mr=_("FullYear",!1);R("w",["ww",2],"wo","week"),R("W",["WW",2],"Wo","isoWeek"),E("week","w"),E("isoWeek","W"),N("w",Wn),N("ww",Wn,Vn),N("W",Wn),N("WW",Wn,Vn),V(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=g(t)});var vr={dow:0,doy:6};R("DDD",["DDDD",3],"DDDo","dayOfYear"),E("dayOfYear","DDD"),N("DDD",Un),N("DDDD",qn),F(["DDD","DDDD"],function(t,e,n){n._dayOfYear=g(t)}),t.ISO_8601=function(){};var yr=J("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(){var t=St.apply(null,arguments);return this>t?this:t}),wr=J("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(){var t=St.apply(null,arguments);return t>this?this:t});Rt("Z",":"),Rt("ZZ",""),N("Z",Zn),N("ZZ",Zn),F(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Pt(t)});var br=/([\+\-]|\d\d)/gi;t.updateOffset=function(){};var xr=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,Cr=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/;Yt.fn=Dt.prototype;var Tr=Zt(1,"add"),Er=Zt(-1,"subtract");t.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";var kr=J("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});R(0,["gg",2],0,function(){return this.weekYear()%100}),R(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Se("gggg","weekYear"),Se("ggggg","weekYear"),Se("GGGG","isoWeekYear"),Se("GGGGG","isoWeekYear"),E("weekYear","gg"),E("isoWeekYear","GG"),N("G",Kn),N("g",Kn),N("GG",Wn,Vn),N("gg",Wn,Vn),N("GGGG",Yn,jn),N("gggg",Yn,jn),N("GGGGG",Xn,zn),N("ggggg",Xn,zn),V(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=g(t)}),V(["gg","GG"],function(e,n,r,i){n[i]=t.parseTwoDigitYear(e)}),R("Q",0,0,"quarter"),E("quarter","Q"),N("Q",Fn),F("Q",function(t,e){e[rr]=3*(g(t)-1)}),R("D",["DD",2],"Do","date"),E("date","D"),N("D",Wn),N("DD",Wn,Vn),N("Do",function(t,e){return t?e._ordinalParse:e._ordinalParseLenient}),F(["D","DD"],ir),F("Do",function(t,e){e[ir]=g(t.match(Wn)[0],10)});var Sr=_("Date",!0);R("d",0,"do","day"),R("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),R("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),R("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),R("e",0,0,"weekday"),R("E",0,0,"isoWeekday"),E("day","d"),E("weekday","e"),E("isoWeekday","E"),N("d",Wn),N("e",Wn),N("E",Wn),N("dd",Qn),N("ddd",Qn),N("dddd",Qn),V(["dd","ddd","dddd"],function(t,e,n){var r=n._locale.weekdaysParse(t);null!=r?e.d=r:u(n).invalidWeekday=t}),V(["d","e","E"],function(t,e,n,r){e[r]=g(t)});var _r="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),$r="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ar="Su_Mo_Tu_We_Th_Fr_Sa".split("_");R("H",["HH",2],0,"hour"),R("h",["hh",2],0,function(){return this.hours()%12||12}),Ve("a",!0),Ve("A",!1),E("hour","h"),N("a",qe),N("A",qe),N("H",Wn),N("h",Wn),N("HH",Wn,Vn),N("hh",Wn,Vn),F(["H","HH"],or),F(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),F(["h","hh"],function(t,e,n){e[or]=g(t),u(n).bigHour=!0});var Dr=/[ap]\.?m?\.?/i,Mr=_("Hours",!0);R("m",["mm",2],0,"minute"),E("minute","m"),N("m",Wn),N("mm",Wn,Vn),F(["m","mm"],ar);var Rr=_("Minutes",!1);R("s",["ss",2],0,"second"),E("second","s"),N("s",Wn),N("ss",Wn,Vn),F(["s","ss"],sr);var Pr=_("Seconds",!1);R("S",0,0,function(){return~~(this.millisecond()/100)}),R(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),We("SSS"),We("SSSS"),E("millisecond","ms"),N("S",Un,Fn),N("SS",Un,Vn),N("SSS",Un,qn),N("SSSS",Gn),F(["S","SS","SSS","SSSS"],function(t,e){e[lr]=g(1e3*("0."+t))});var Or=_("Milliseconds",!1);R("z",0,0,"zoneAbbr"),R("zz",0,0,"zoneName");var Lr=d.prototype;Lr.add=Tr,Lr.calendar=Qt,Lr.clone=te,Lr.diff=ae,Lr.endOf=ye,Lr.format=ce,Lr.from=he,Lr.fromNow=fe,Lr.to=de,Lr.toNow=pe,Lr.get=D,Lr.invalidAt=ke,Lr.isAfter=ee,Lr.isBefore=ne,Lr.isBetween=re,Lr.isSame=ie,Lr.isValid=Te,Lr.lang=kr,Lr.locale=ge,Lr.localeData=me,Lr.max=wr,Lr.min=yr,Lr.parsingFlags=Ee,Lr.set=D,Lr.startOf=ve,Lr.subtract=Er,Lr.toArray=Ce,Lr.toDate=xe,Lr.toISOString=ue,Lr.toJSON=ue,Lr.toString=le,Lr.unix=be,Lr.valueOf=we,Lr.year=mr,Lr.isLeapYear=at,Lr.weekYear=$e,Lr.isoWeekYear=Ae,Lr.quarter=Lr.quarters=Re,Lr.month=X,Lr.daysInMonth=G,Lr.week=Lr.weeks=ht,Lr.isoWeek=Lr.isoWeeks=ft,Lr.weeksInYear=Me,Lr.isoWeeksInYear=De,Lr.date=Sr,Lr.day=Lr.days=Be,Lr.weekday=He,Lr.isoWeekday=Fe,Lr.dayOfYear=pt,Lr.hour=Lr.hours=Mr,Lr.minute=Lr.minutes=Rr,Lr.second=Lr.seconds=Pr,Lr.millisecond=Lr.milliseconds=Or,Lr.utcOffset=It,Lr.utc=Bt,Lr.local=Ht,Lr.parseZone=Ft,Lr.hasAlignedHourOffset=Vt,Lr.isDST=qt,Lr.isDSTShifted=jt,Lr.isLocal=zt,Lr.isUtcOffset=Wt,Lr.isUtc=Ut,Lr.isUTC=Ut,Lr.zoneAbbr=Ue,Lr.zoneName=Ye,Lr.dates=J("dates accessor is deprecated. Use date instead.",Sr),Lr.months=J("months accessor is deprecated. Use month instead",X),Lr.years=J("years accessor is deprecated. Use year instead",mr),Lr.zone=J("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",Nt);var Ir=Lr,Nr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Br={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},Hr="Invalid date",Fr="%d",Vr=/\d{1,2}/,qr={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",
y:"a year",yy:"%d years"},jr=v.prototype;jr._calendar=Nr,jr.calendar=Ke,jr._longDateFormat=Br,jr.longDateFormat=Ze,jr._invalidDate=Hr,jr.invalidDate=Je,jr._ordinal=Fr,jr.ordinal=Qe,jr._ordinalParse=Vr,jr.preparse=tn,jr.postformat=tn,jr._relativeTime=qr,jr.relativeTime=en,jr.pastFuture=nn,jr.set=rn,jr.months=z,jr._months=ur,jr.monthsShort=W,jr._monthsShort=cr,jr.monthsParse=U,jr.week=lt,jr._week=vr,jr.firstDayOfYear=ct,jr.firstDayOfWeek=ut,jr.weekdays=Oe,jr._weekdays=_r,jr.weekdaysMin=Ie,jr._weekdaysMin=Ar,jr.weekdaysShort=Le,jr._weekdaysShort=$r,jr.weekdaysParse=Ne,jr.isPM=je,jr._meridiemParse=Dr,jr.meridiem=ze,x("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,n=1===g(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";return t+n}}),t.lang=J("moment.lang is deprecated. Use moment.locale instead.",x),t.langData=J("moment.langData is deprecated. Use moment.localeData instead.",T);var zr=Math.abs,Wr=xn("ms"),Ur=xn("s"),Yr=xn("m"),Xr=xn("h"),Gr=xn("d"),Kr=xn("w"),Zr=xn("M"),Jr=xn("y"),Qr=Tn("milliseconds"),ti=Tn("seconds"),ei=Tn("minutes"),ni=Tn("hours"),ri=Tn("days"),ii=Tn("months"),oi=Tn("years"),ai=Math.round,si={s:45,m:45,h:22,d:26,M:11},li=Math.abs,ui=Dt.prototype;ui.abs=fn,ui.add=pn,ui.subtract=gn,ui.as=wn,ui.asMilliseconds=Wr,ui.asSeconds=Ur,ui.asMinutes=Yr,ui.asHours=Xr,ui.asDays=Gr,ui.asWeeks=Kr,ui.asMonths=Zr,ui.asYears=Jr,ui.valueOf=bn,ui._bubble=mn,ui.get=Cn,ui.milliseconds=Qr,ui.seconds=ti,ui.minutes=ei,ui.hours=ni,ui.days=ri,ui.weeks=En,ui.months=ii,ui.years=oi,ui.humanize=$n,ui.toISOString=An,ui.toString=An,ui.toJSON=An,ui.locale=ge,ui.localeData=me,ui.toIsoString=J("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",An),ui.lang=kr,R("X",0,0,"unix"),R("x",0,0,"valueOf"),N("x",Kn),N("X",Jn),F("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),F("x",function(t,e,n){n._d=new Date(g(t))}),t.version="2.10.3",e(St),t.fn=Ir,t.min=$t,t.max=At,t.utc=s,t.unix=Xe,t.months=sn,t.isDate=r,t.locale=x,t.invalid=h,t.duration=Yt,t.isMoment=p,t.weekdays=un,t.parseZone=Ge,t.localeData=T,t.isDuration=Mt,t.monthsShort=ln,t.weekdaysMin=hn,t.defineLocale=C,t.weekdaysShort=cn,t.normalizeUnits=k,t.relativeTimeThreshold=_n;var ci=t;return ci}),function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.jsyaml=t()}}(function(){return function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){var l="function"==typeof require&&require;if(!s&&l)return l(a,!0);if(o)return o(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var c=n[a]={exports:{}};e[a][0].call(c.exports,function(t){var n=e[a][1][t];return i(n?n:t)},c,c.exports,t,e,n,r)}return n[a].exports}for(var o="function"==typeof require&&require,a=0;a<r.length;a++)i(r[a]);return i}({1:[function(t,e,n){"use strict";function r(t){return function(){throw new Error("Function "+t+" is deprecated and cannot be used.")}}var i=t("./js-yaml/loader"),o=t("./js-yaml/dumper");e.exports.Type=t("./js-yaml/type"),e.exports.Schema=t("./js-yaml/schema"),e.exports.FAILSAFE_SCHEMA=t("./js-yaml/schema/failsafe"),e.exports.JSON_SCHEMA=t("./js-yaml/schema/json"),e.exports.CORE_SCHEMA=t("./js-yaml/schema/core"),e.exports.DEFAULT_SAFE_SCHEMA=t("./js-yaml/schema/default_safe"),e.exports.DEFAULT_FULL_SCHEMA=t("./js-yaml/schema/default_full"),e.exports.load=i.load,e.exports.loadAll=i.loadAll,e.exports.safeLoad=i.safeLoad,e.exports.safeLoadAll=i.safeLoadAll,e.exports.dump=o.dump,e.exports.safeDump=o.safeDump,e.exports.YAMLException=t("./js-yaml/exception"),e.exports.MINIMAL_SCHEMA=t("./js-yaml/schema/failsafe"),e.exports.SAFE_SCHEMA=t("./js-yaml/schema/default_safe"),e.exports.DEFAULT_SCHEMA=t("./js-yaml/schema/default_full"),e.exports.scan=r("scan"),e.exports.parse=r("parse"),e.exports.compose=r("compose"),e.exports.addConstructor=r("addConstructor")},{"./js-yaml/dumper":3,"./js-yaml/exception":4,"./js-yaml/loader":5,"./js-yaml/schema":7,"./js-yaml/schema/core":8,"./js-yaml/schema/default_full":9,"./js-yaml/schema/default_safe":10,"./js-yaml/schema/failsafe":11,"./js-yaml/schema/json":12,"./js-yaml/type":13}],2:[function(t,e,n){"use strict";function r(t){return"undefined"==typeof t||null===t}function i(t){return"object"==typeof t&&null!==t}function o(t){return Array.isArray(t)?t:r(t)?[]:[t]}function a(t,e){var n,r,i,o;if(e)for(o=Object.keys(e),n=0,r=o.length;r>n;n+=1)i=o[n],t[i]=e[i];return t}function s(t,e){var n,r="";for(n=0;e>n;n+=1)r+=t;return r}function l(t){return 0===t&&Number.NEGATIVE_INFINITY===1/t}e.exports.isNothing=r,e.exports.isObject=i,e.exports.toArray=o,e.exports.repeat=s,e.exports.isNegativeZero=l,e.exports.extend=a},{}],3:[function(t,e,n){"use strict";function r(t,e){var n,r,i,o,a,s,l;if(null===e)return{};for(n={},r=Object.keys(e),i=0,o=r.length;o>i;i+=1)a=r[i],s=String(e[a]),"!!"===a.slice(0,2)&&(a="tag:yaml.org,2002:"+a.slice(2)),l=t.compiledTypeMap[a],l&&D.call(l.styleAliases,s)&&(s=l.styleAliases[s]),n[a]=s;return n}function i(t){var e,n,r;if(e=t.toString(16).toUpperCase(),255>=t)n="x",r=2;else if(65535>=t)n="u",r=4;else{if(!(4294967295>=t))throw new S("code point within a string may not be greater than 0xFFFFFFFF");n="U",r=8}return"\\"+n+k.repeat("0",r-e.length)+e}function o(t){this.schema=t.schema||_,this.indent=Math.max(1,t.indent||2),this.skipInvalid=t.skipInvalid||!1,this.flowLevel=k.isNothing(t.flowLevel)?-1:t.flowLevel,this.styleMap=r(this.schema,t.styles||null),this.sortKeys=t.sortKeys||!1,this.implicitTypes=this.schema.compiledImplicit,this.explicitTypes=this.schema.compiledExplicit,this.tag=null,this.result="",this.duplicates=[],this.usedDuplicates=null}function a(t,e){for(var n,r=k.repeat(" ",e),i=0,o=-1,a="",s=t.length;s>i;)o=t.indexOf("\n",i),-1===o?(n=t.slice(i),i=s):(n=t.slice(i,o+1),i=o+1),n.length&&"\n"!==n&&(a+=r),a+=n;return a}function s(t,e){return"\n"+k.repeat(" ",t.indent*e)}function l(t,e){var n,r,i;for(n=0,r=t.implicitTypes.length;r>n;n+=1)if(i=t.implicitTypes[n],i.resolve(e))return!0;return!1}function u(t){this.source=t,this.result="",this.checkpoint=0}function c(t,e,n){var r,i,o,s,c,f,g,m,v,y,w,b,x,C,T,E,k,S,_,$,A;if(0===e.length)return void(t.dump="''");if(-1!==et.indexOf(e))return void(t.dump="'"+e+"'");for(r=!0,i=e.length?e.charCodeAt(0):0,o=O===i||O===e.charCodeAt(e.length-1),(j===i||U===i||Y===i||K===i)&&(r=!1),o?(r=!1,s=!1,c=!1):(s=!0,c=!0),f=!0,g=new u(e),m=!1,v=0,y=0,w=t.indent*n,b=80,40>w?b-=w:b=40,C=0;C<e.length;C++){if(x=e.charCodeAt(C),r){if(d(x))continue;r=!1}f&&x===F&&(f=!1),T=tt[x],E=p(x),(T||E)&&(x!==R&&x!==I&&x!==F?(s=!1,c=!1):x===R&&(m=!0,f=!1,C>0&&(k=e.charCodeAt(C-1),k===O&&(c=!1,s=!1)),s&&(S=C-v,v=C,S>y&&(y=S))),x!==I&&(f=!1),g.takeUpTo(C),g.escapeChar())}if(r&&l(t,e)&&(r=!1),_="",(s||c)&&($=0,e.charCodeAt(e.length-1)===R&&($+=1,e.charCodeAt(e.length-2)===R&&($+=1)),0===$?_="-":2===$&&(_="+")),c&&b>y&&(s=!1),m||(c=!1),r)t.dump=e;else if(f)t.dump="'"+e+"'";else if(s)A=h(e,b),t.dump=">"+_+"\n"+a(A,w);else if(c)_||(e=e.replace(/\n$/,"")),t.dump="|"+_+"\n"+a(e,w);else{if(!g)throw new Error("Failed to dump scalar value");g.finish(),t.dump='"'+g.result+'"'}}function h(t,e){var n,r="",i=0,o=t.length,a=/\n+$/.exec(t);for(a&&(o=a.index+1);o>i;)n=t.indexOf("\n",i),n>o||-1===n?(r&&(r+="\n\n"),r+=f(t.slice(i,o),e),i=o):(r&&(r+="\n\n"),r+=f(t.slice(i,n),e),i=n+1);return a&&"\n"!==a[0]&&(r+=a[0]),r}function f(t,e){if(""===t)return t;for(var n,r,i,o=/[^\s] [^\s]/g,a="",s=0,l=0,u=o.exec(t);u;)n=u.index,n-l>e&&(r=s!==l?s:n,a&&(a+="\n"),i=t.slice(l,r),a+=i,l=r+1),s=n+1,u=o.exec(t);return a&&(a+="\n"),a+=l!==s&&t.length-l>e?t.slice(l,s)+"\n"+t.slice(s+1):t.slice(l)}function d(t){return M!==t&&R!==t&&P!==t&&q!==t&&X!==t&&G!==t&&Z!==t&&Q!==t&&N!==t&&H!==t&&V!==t&&L!==t&&J!==t&&W!==t&&F!==t&&I!==t&&B!==t&&z!==t&&!tt[t]&&!p(t)}function p(t){return!(t>=32&&126>=t||133===t||t>=160&&55295>=t||t>=57344&&65533>=t||t>=65536&&1114111>=t)}function g(t,e,n){var r,i,o="",a=t.tag;for(r=0,i=n.length;i>r;r+=1)b(t,e,n[r],!1,!1)&&(0!==r&&(o+=", "),o+=t.dump);t.tag=a,t.dump="["+o+"]"}function m(t,e,n,r){var i,o,a="",l=t.tag;for(i=0,o=n.length;o>i;i+=1)b(t,e+1,n[i],!0,!0)&&(r&&0===i||(a+=s(t,e)),a+="- "+t.dump);t.tag=l,t.dump=a||"[]"}function v(t,e,n){var r,i,o,a,s,l="",u=t.tag,c=Object.keys(n);for(r=0,i=c.length;i>r;r+=1)s="",0!==r&&(s+=", "),o=c[r],a=n[o],b(t,e,o,!1,!1)&&(t.dump.length>1024&&(s+="? "),s+=t.dump+": ",b(t,e,a,!1,!1)&&(s+=t.dump,l+=s));t.tag=u,t.dump="{"+l+"}"}function y(t,e,n,r){var i,o,a,l,u,c,h="",f=t.tag,d=Object.keys(n);if(t.sortKeys===!0)d.sort();else if("function"==typeof t.sortKeys)d.sort(t.sortKeys);else if(t.sortKeys)throw new S("sortKeys must be a boolean or a function");for(i=0,o=d.length;o>i;i+=1)c="",r&&0===i||(c+=s(t,e)),a=d[i],l=n[a],b(t,e+1,a,!0,!0)&&(u=null!==t.tag&&"?"!==t.tag||t.dump&&t.dump.length>1024,u&&(c+=t.dump&&R===t.dump.charCodeAt(0)?"?":"? "),c+=t.dump,u&&(c+=s(t,e)),b(t,e+1,l,!0,u)&&(c+=t.dump&&R===t.dump.charCodeAt(0)?":":": ",c+=t.dump,h+=c));t.tag=f,t.dump=h||"{}"}function w(t,e,n){var r,i,o,a,s,l;for(i=n?t.explicitTypes:t.implicitTypes,o=0,a=i.length;a>o;o+=1)if(s=i[o],(s.instanceOf||s.predicate)&&(!s.instanceOf||"object"==typeof e&&e instanceof s.instanceOf)&&(!s.predicate||s.predicate(e))){if(t.tag=n?s.tag:"?",s.represent){if(l=t.styleMap[s.tag]||s.defaultStyle,"[object Function]"===A.call(s.represent))r=s.represent(e,l);else{if(!D.call(s.represent,l))throw new S("!<"+s.tag+'> tag resolver accepts not "'+l+'" style');r=s.represent[l](e,l)}t.dump=r}return!0}return!1}function b(t,e,n,r,i){t.tag=null,t.dump=n,w(t,n,!1)||w(t,n,!0);var o=A.call(t.dump);r&&(r=0>t.flowLevel||t.flowLevel>e),(null!==t.tag&&"?"!==t.tag||2!==t.indent&&e>0)&&(i=!1);var a,s,l="[object Object]"===o||"[object Array]"===o;if(l&&(a=t.duplicates.indexOf(n),s=-1!==a),s&&t.usedDuplicates[a])t.dump="*ref_"+a;else{if(l&&s&&!t.usedDuplicates[a]&&(t.usedDuplicates[a]=!0),"[object Object]"===o)r&&0!==Object.keys(t.dump).length?(y(t,e,t.dump,i),s&&(t.dump="&ref_"+a+(0===e?"\n":"")+t.dump)):(v(t,e,t.dump),s&&(t.dump="&ref_"+a+" "+t.dump));else if("[object Array]"===o)r&&0!==t.dump.length?(m(t,e,t.dump,i),s&&(t.dump="&ref_"+a+(0===e?"\n":"")+t.dump)):(g(t,e,t.dump),s&&(t.dump="&ref_"+a+" "+t.dump));else{if("[object String]"!==o){if(t.skipInvalid)return!1;throw new S("unacceptable kind of an object to dump "+o)}"?"!==t.tag&&c(t,t.dump,e)}null!==t.tag&&"?"!==t.tag&&(t.dump="!<"+t.tag+"> "+t.dump)}return!0}function x(t,e){var n,r,i=[],o=[];for(C(t,i,o),n=0,r=o.length;r>n;n+=1)e.duplicates.push(i[o[n]]);e.usedDuplicates=new Array(r)}function C(t,e,n){{var r,i,o;A.call(t)}if(null!==t&&"object"==typeof t)if(i=e.indexOf(t),-1!==i)-1===n.indexOf(i)&&n.push(i);else if(e.push(t),Array.isArray(t))for(i=0,o=t.length;o>i;i+=1)C(t[i],e,n);else for(r=Object.keys(t),i=0,o=r.length;o>i;i+=1)C(t[r[i]],e,n)}function T(t,e){e=e||{};var n=new o(e);return x(t,n),b(n,0,t,!0,!0)?n.dump+"\n":""}function E(t,e){return T(t,k.extend({schema:$},e))}var k=t("./common"),S=t("./exception"),_=t("./schema/default_full"),$=t("./schema/default_safe"),A=Object.prototype.toString,D=Object.prototype.hasOwnProperty,M=9,R=10,P=13,O=32,L=33,I=34,N=35,B=37,H=38,F=39,V=42,q=44,j=45,z=58,W=62,U=63,Y=64,X=91,G=93,K=96,Z=123,J=124,Q=125,tt={};tt[0]="\\0",tt[7]="\\a",tt[8]="\\b",tt[9]="\\t",tt[10]="\\n",tt[11]="\\v",tt[12]="\\f",tt[13]="\\r",tt[27]="\\e",tt[34]='\\"',tt[92]="\\\\",tt[133]="\\N",tt[160]="\\_",tt[8232]="\\L",tt[8233]="\\P";var et=["y","Y","yes","Yes","YES","on","On","ON","n","N","no","No","NO","off","Off","OFF"];u.prototype.takeUpTo=function(t){var e;if(t<this.checkpoint)throw e=new Error("position should be > checkpoint"),e.position=t,e.checkpoint=this.checkpoint,e;return this.result+=this.source.slice(this.checkpoint,t),this.checkpoint=t,this},u.prototype.escapeChar=function(){var t,e;return t=this.source.charCodeAt(this.checkpoint),e=tt[t]||i(t),this.result+=e,this.checkpoint+=1,this},u.prototype.finish=function(){this.source.length>this.checkpoint&&this.takeUpTo(this.source.length)},e.exports.dump=T,e.exports.safeDump=E},{"./common":2,"./exception":4,"./schema/default_full":9,"./schema/default_safe":10}],4:[function(t,e,n){"use strict";function r(t,e){this.name="YAMLException",this.reason=t,this.mark=e,this.message=this.toString(!1)}r.prototype.toString=function(t){var e;return e="JS-YAML: "+(this.reason||"(unknown reason)"),!t&&this.mark&&(e+=" "+this.mark.toString()),e},e.exports=r},{}],5:[function(t,e,n){"use strict";function r(t){return 10===t||13===t}function i(t){return 9===t||32===t}function o(t){return 9===t||32===t||10===t||13===t}function a(t){return 44===t||91===t||93===t||123===t||125===t}function s(t){var e;return t>=48&&57>=t?t-48:(e=32|t,e>=97&&102>=e?e-97+10:-1)}function l(t){return 120===t?2:117===t?4:85===t?8:0}function u(t){return t>=48&&57>=t?t-48:-1}function c(t){return 48===t?"\x00":97===t?"":98===t?"\b":116===t?"	":9===t?"	":110===t?"\n":118===t?"":102===t?"\f":114===t?"\r":101===t?"":32===t?" ":34===t?'"':47===t?"/":92===t?"\\":78===t?"":95===t?" ":76===t?"\u2028":80===t?"\u2029":""}function h(t){return 65535>=t?String.fromCharCode(t):String.fromCharCode((t-65536>>10)+55296,(t-65536&1023)+56320)}function f(t,e){this.input=t,this.filename=e.filename||null,this.schema=e.schema||z,this.onWarning=e.onWarning||null,this.legacy=e.legacy||!1,this.implicitTypes=this.schema.compiledImplicit,this.typeMap=this.schema.compiledTypeMap,this.length=t.length,this.position=0,this.line=0,this.lineStart=0,this.lineIndent=0,this.documents=[]}function d(t,e){return new V(e,new q(t.filename,t.input,t.position,t.line,t.position-t.lineStart))}function p(t,e){throw d(t,e)}function g(t,e){var n=d(t,e);if(!t.onWarning)throw n;t.onWarning.call(null,n)}function m(t,e,n,r){var i,o,a,s;if(n>e){if(s=t.input.slice(e,n),r)for(i=0,o=s.length;o>i;i+=1)a=s.charCodeAt(i),9===a||a>=32&&1114111>=a||p(t,"expected valid JSON character");t.result+=s}}function v(t,e,n){var r,i,o,a;for(F.isObject(n)||p(t,"cannot merge mappings; the provided source object is unacceptable"),r=Object.keys(n),o=0,a=r.length;a>o;o+=1)i=r[o],W.call(e,i)||(e[i]=n[i])}function y(t,e,n,r,i){var o,a;if(r=String(r),null===e&&(e={}),"tag:yaml.org,2002:merge"===n)if(Array.isArray(i))for(o=0,a=i.length;a>o;o+=1)v(t,e,i[o]);else v(t,e,i);else e[r]=i;return e}function w(t){var e;e=t.input.charCodeAt(t.position),10===e?t.position++:13===e?(t.position++,10===t.input.charCodeAt(t.position)&&t.position++):p(t,"a line break is expected"),t.line+=1,t.lineStart=t.position}function b(t,e,n){for(var o=0,a=t.input.charCodeAt(t.position);0!==a;){for(;i(a);)a=t.input.charCodeAt(++t.position);if(e&&35===a)do a=t.input.charCodeAt(++t.position);while(10!==a&&13!==a&&0!==a);if(!r(a))break;for(w(t),a=t.input.charCodeAt(t.position),o++,t.lineIndent=0;32===a;)t.lineIndent++,a=t.input.charCodeAt(++t.position)}return-1!==n&&0!==o&&t.lineIndent<n&&g(t,"deficient indentation"),o}function x(t){var e,n=t.position;return e=t.input.charCodeAt(n),45!==e&&46!==e||t.input.charCodeAt(n+1)!==e||t.input.charCodeAt(n+2)!==e||(n+=3,e=t.input.charCodeAt(n),0!==e&&!o(e))?!1:!0}function C(t,e){1===e?t.result+=" ":e>1&&(t.result+=F.repeat("\n",e-1))}function T(t,e,n){var s,l,u,c,h,f,d,p,g,v=t.kind,y=t.result;if(g=t.input.charCodeAt(t.position),o(g)||a(g)||35===g||38===g||42===g||33===g||124===g||62===g||39===g||34===g||37===g||64===g||96===g)return!1;if((63===g||45===g)&&(l=t.input.charCodeAt(t.position+1),o(l)||n&&a(l)))return!1;for(t.kind="scalar",t.result="",u=c=t.position,h=!1;0!==g;){if(58===g){if(l=t.input.charCodeAt(t.position+1),o(l)||n&&a(l))break}else if(35===g){if(s=t.input.charCodeAt(t.position-1),o(s))break}else{if(t.position===t.lineStart&&x(t)||n&&a(g))break;if(r(g)){if(f=t.line,d=t.lineStart,p=t.lineIndent,b(t,!1,-1),t.lineIndent>=e){h=!0,g=t.input.charCodeAt(t.position);continue}t.position=c,t.line=f,t.lineStart=d,t.lineIndent=p;break}}h&&(m(t,u,c,!1),C(t,t.line-f),u=c=t.position,h=!1),i(g)||(c=t.position+1),g=t.input.charCodeAt(++t.position)}return m(t,u,c,!1),t.result?!0:(t.kind=v,t.result=y,!1)}function E(t,e){var n,i,o;if(n=t.input.charCodeAt(t.position),39!==n)return!1;for(t.kind="scalar",t.result="",t.position++,i=o=t.position;0!==(n=t.input.charCodeAt(t.position));)if(39===n){if(m(t,i,t.position,!0),n=t.input.charCodeAt(++t.position),39!==n)return!0;i=o=t.position,t.position++}else r(n)?(m(t,i,o,!0),C(t,b(t,!1,e)),i=o=t.position):t.position===t.lineStart&&x(t)?p(t,"unexpected end of the document within a single quoted scalar"):(t.position++,o=t.position);p(t,"unexpected end of the stream within a single quoted scalar")}function k(t,e){var n,i,o,a,u,c;if(c=t.input.charCodeAt(t.position),34!==c)return!1;for(t.kind="scalar",t.result="",t.position++,n=i=t.position;0!==(c=t.input.charCodeAt(t.position));){if(34===c)return m(t,n,t.position,!0),t.position++,!0;if(92===c){if(m(t,n,t.position,!0),c=t.input.charCodeAt(++t.position),r(c))b(t,!1,e);else if(256>c&&it[c])t.result+=ot[c],t.position++;else if((u=l(c))>0){for(o=u,a=0;o>0;o--)c=t.input.charCodeAt(++t.position),(u=s(c))>=0?a=(a<<4)+u:p(t,"expected hexadecimal character");t.result+=h(a),t.position++}else p(t,"unknown escape sequence");n=i=t.position}else r(c)?(m(t,n,i,!0),C(t,b(t,!1,e)),n=i=t.position):t.position===t.lineStart&&x(t)?p(t,"unexpected end of the document within a double quoted scalar"):(t.position++,i=t.position)}p(t,"unexpected end of the stream within a double quoted scalar")}function S(t,e){var n,r,i,a,s,l,u,c,h,f,d,g=!0,m=t.tag,v=t.anchor;if(d=t.input.charCodeAt(t.position),91===d)a=93,u=!1,r=[];else{if(123!==d)return!1;a=125,u=!0,r={}}for(null!==t.anchor&&(t.anchorMap[t.anchor]=r),d=t.input.charCodeAt(++t.position);0!==d;){if(b(t,!0,e),d=t.input.charCodeAt(t.position),d===a)return t.position++,t.tag=m,t.anchor=v,t.kind=u?"mapping":"sequence",t.result=r,!0;g||p(t,"missed comma between flow collection entries"),h=c=f=null,s=l=!1,63===d&&(i=t.input.charCodeAt(t.position+1),o(i)&&(s=l=!0,t.position++,b(t,!0,e))),n=t.line,P(t,e,U,!1,!0),h=t.tag,c=t.result,b(t,!0,e),d=t.input.charCodeAt(t.position),!l&&t.line!==n||58!==d||(s=!0,d=t.input.charCodeAt(++t.position),b(t,!0,e),P(t,e,U,!1,!0),f=t.result),u?y(t,r,h,c,f):r.push(s?y(t,null,h,c,f):c),b(t,!0,e),d=t.input.charCodeAt(t.position),44===d?(g=!0,d=t.input.charCodeAt(++t.position)):g=!1}p(t,"unexpected end of the stream within a flow collection")}function _(t,e){var n,o,a,s,l=K,c=!1,h=e,f=0,d=!1;if(s=t.input.charCodeAt(t.position),124===s)o=!1;else{if(62!==s)return!1;o=!0}for(t.kind="scalar",t.result="";0!==s;)if(s=t.input.charCodeAt(++t.position),43===s||45===s)K===l?l=43===s?J:Z:p(t,"repeat of a chomping mode identifier");else{if(!((a=u(s))>=0))break;0===a?p(t,"bad explicit indentation width of a block scalar; it cannot be less than one"):c?p(t,"repeat of an indentation width identifier"):(h=e+a-1,c=!0)}if(i(s)){do s=t.input.charCodeAt(++t.position);while(i(s));if(35===s)do s=t.input.charCodeAt(++t.position);while(!r(s)&&0!==s)}for(;0!==s;){for(w(t),t.lineIndent=0,s=t.input.charCodeAt(t.position);(!c||t.lineIndent<h)&&32===s;)t.lineIndent++,s=t.input.charCodeAt(++t.position);if(!c&&t.lineIndent>h&&(h=t.lineIndent),r(s))f++;else{if(t.lineIndent<h){l===J?t.result+=F.repeat("\n",f):l===K&&c&&(t.result+="\n");break}for(o?i(s)?(d=!0,t.result+=F.repeat("\n",f+1)):d?(d=!1,t.result+=F.repeat("\n",f+1)):0===f?c&&(t.result+=" "):t.result+=F.repeat("\n",f):c&&(t.result+=F.repeat("\n",f+1)),c=!0,f=0,n=t.position;!r(s)&&0!==s;)s=t.input.charCodeAt(++t.position);m(t,n,t.position,!1)}}return!0}function $(t,e){var n,r,i,a=t.tag,s=t.anchor,l=[],u=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=l),i=t.input.charCodeAt(t.position);0!==i&&45===i&&(r=t.input.charCodeAt(t.position+1),o(r));)if(u=!0,t.position++,b(t,!0,-1)&&t.lineIndent<=e)l.push(null),i=t.input.charCodeAt(t.position);else if(n=t.line,P(t,e,X,!1,!0),l.push(t.result),b(t,!0,-1),i=t.input.charCodeAt(t.position),(t.line===n||t.lineIndent>e)&&0!==i)p(t,"bad indentation of a sequence entry");else if(t.lineIndent<e)break;return u?(t.tag=a,t.anchor=s,t.kind="sequence",t.result=l,!0):!1}function A(t,e,n){var r,a,s,l,u=t.tag,c=t.anchor,h={},f=null,d=null,g=null,m=!1,v=!1;for(null!==t.anchor&&(t.anchorMap[t.anchor]=h),l=t.input.charCodeAt(t.position);0!==l;){if(r=t.input.charCodeAt(t.position+1),s=t.line,63!==l&&58!==l||!o(r)){if(!P(t,n,Y,!1,!0))break;if(t.line===s){for(l=t.input.charCodeAt(t.position);i(l);)l=t.input.charCodeAt(++t.position);if(58===l)l=t.input.charCodeAt(++t.position),o(l)||p(t,"a whitespace character is expected after the key-value separator within a block mapping"),m&&(y(t,h,f,d,null),f=d=g=null),v=!0,m=!1,a=!1,f=t.tag,d=t.result;else{if(!v)return t.tag=u,t.anchor=c,!0;p(t,"can not read an implicit mapping pair; a colon is missed")}}else{if(!v)return t.tag=u,t.anchor=c,!0;p(t,"can not read a block mapping entry; a multiline key may not be an implicit key")}}else 63===l?(m&&(y(t,h,f,d,null),f=d=g=null),v=!0,m=!0,a=!0):m?(m=!1,a=!0):p(t,"incomplete explicit mapping pair; a key node is missed"),t.position+=1,l=r;if((t.line===s||t.lineIndent>e)&&(P(t,e,G,!0,a)&&(m?d=t.result:g=t.result),m||(y(t,h,f,d,g),f=d=g=null),b(t,!0,-1),l=t.input.charCodeAt(t.position)),t.lineIndent>e&&0!==l)p(t,"bad indentation of a mapping entry");else if(t.lineIndent<e)break}return m&&y(t,h,f,d,null),v&&(t.tag=u,t.anchor=c,t.kind="mapping",t.result=h),v}function D(t){var e,n,r,i,a=!1,s=!1;if(i=t.input.charCodeAt(t.position),33!==i)return!1;if(null!==t.tag&&p(t,"duplication of a tag property"),i=t.input.charCodeAt(++t.position),60===i?(a=!0,i=t.input.charCodeAt(++t.position)):33===i?(s=!0,n="!!",i=t.input.charCodeAt(++t.position)):n="!",e=t.position,a){do i=t.input.charCodeAt(++t.position);while(0!==i&&62!==i);t.position<t.length?(r=t.input.slice(e,t.position),i=t.input.charCodeAt(++t.position)):p(t,"unexpected end of the stream within a verbatim tag")}else{for(;0!==i&&!o(i);)33===i&&(s?p(t,"tag suffix cannot contain exclamation marks"):(n=t.input.slice(e-1,t.position+1),nt.test(n)||p(t,"named tag handle cannot contain such characters"),s=!0,e=t.position+1)),i=t.input.charCodeAt(++t.position);r=t.input.slice(e,t.position),et.test(r)&&p(t,"tag suffix cannot contain flow indicator characters")}return r&&!rt.test(r)&&p(t,"tag name cannot contain such characters: "+r),a?t.tag=r:W.call(t.tagMap,n)?t.tag=t.tagMap[n]+r:"!"===n?t.tag="!"+r:"!!"===n?t.tag="tag:yaml.org,2002:"+r:p(t,'undeclared tag handle "'+n+'"'),!0}function M(t){var e,n;if(n=t.input.charCodeAt(t.position),38!==n)return!1;for(null!==t.anchor&&p(t,"duplication of an anchor property"),n=t.input.charCodeAt(++t.position),e=t.position;0!==n&&!o(n)&&!a(n);)n=t.input.charCodeAt(++t.position);return t.position===e&&p(t,"name of an anchor node must contain at least one character"),t.anchor=t.input.slice(e,t.position),!0}function R(t){{var e,n,r;t.length,t.input}if(r=t.input.charCodeAt(t.position),42!==r)return!1;for(r=t.input.charCodeAt(++t.position),e=t.position;0!==r&&!o(r)&&!a(r);)r=t.input.charCodeAt(++t.position);return t.position===e&&p(t,"name of an alias node must contain at least one character"),n=t.input.slice(e,t.position),t.anchorMap.hasOwnProperty(n)||p(t,'unidentified alias "'+n+'"'),t.result=t.anchorMap[n],b(t,!0,-1),!0}function P(t,e,n,r,i){var o,a,s,l,u,c,h,f,d=1,m=!1,v=!1;if(t.tag=null,t.anchor=null,t.kind=null,t.result=null,o=a=s=G===n||X===n,r&&b(t,!0,-1)&&(m=!0,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)),1===d)for(;D(t)||M(t);)b(t,!0,-1)?(m=!0,s=o,t.lineIndent>e?d=1:t.lineIndent===e?d=0:t.lineIndent<e&&(d=-1)):s=!1;if(s&&(s=m||i),(1===d||G===n)&&(h=U===n||Y===n?e:e+1,f=t.position-t.lineStart,1===d?s&&($(t,f)||A(t,f,h))||S(t,h)?v=!0:(a&&_(t,h)||E(t,h)||k(t,h)?v=!0:R(t)?(v=!0,(null!==t.tag||null!==t.anchor)&&p(t,"alias node should not have any properties")):T(t,h,U===n)&&(v=!0,null===t.tag&&(t.tag="?")),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):0===d&&(v=s&&$(t,f))),null!==t.tag&&"!"!==t.tag)if("?"===t.tag){for(l=0,u=t.implicitTypes.length;u>l;l+=1)if(c=t.implicitTypes[l],c.resolve(t.result)){t.result=c.construct(t.result),t.tag=c.tag,null!==t.anchor&&(t.anchorMap[t.anchor]=t.result);break}}else W.call(t.typeMap,t.tag)?(c=t.typeMap[t.tag],null!==t.result&&c.kind!==t.kind&&p(t,"unacceptable node kind for !<"+t.tag+'> tag; it should be "'+c.kind+'", not "'+t.kind+'"'),c.resolve(t.result)?(t.result=c.construct(t.result),null!==t.anchor&&(t.anchorMap[t.anchor]=t.result)):p(t,"cannot resolve a node with !<"+t.tag+"> explicit tag")):g(t,"unknown tag !<"+t.tag+">");return null!==t.tag||null!==t.anchor||v}function O(t){var e,n,a,s,l=t.position,u=!1;for(t.version=null,t.checkLineBreaks=t.legacy,t.tagMap={},t.anchorMap={};0!==(s=t.input.charCodeAt(t.position))&&(b(t,!0,-1),s=t.input.charCodeAt(t.position),!(t.lineIndent>0||37!==s));){for(u=!0,s=t.input.charCodeAt(++t.position),e=t.position;0!==s&&!o(s);)s=t.input.charCodeAt(++t.position);for(n=t.input.slice(e,t.position),a=[],n.length<1&&p(t,"directive name must not be less than one character in length");0!==s;){for(;i(s);)s=t.input.charCodeAt(++t.position);if(35===s){do s=t.input.charCodeAt(++t.position);while(0!==s&&!r(s));break}if(r(s))break;for(e=t.position;0!==s&&!o(s);)s=t.input.charCodeAt(++t.position);a.push(t.input.slice(e,t.position))}0!==s&&w(t),W.call(st,n)?st[n](t,n,a):g(t,'unknown document directive "'+n+'"')}return b(t,!0,-1),0===t.lineIndent&&45===t.input.charCodeAt(t.position)&&45===t.input.charCodeAt(t.position+1)&&45===t.input.charCodeAt(t.position+2)?(t.position+=3,b(t,!0,-1)):u&&p(t,"directives end mark is expected"),P(t,t.lineIndent-1,G,!1,!0),b(t,!0,-1),t.checkLineBreaks&&tt.test(t.input.slice(l,t.position))&&g(t,"non-ASCII line breaks are interpreted as content"),t.documents.push(t.result),t.position===t.lineStart&&x(t)?void(46===t.input.charCodeAt(t.position)&&(t.position+=3,b(t,!0,-1))):void(t.position<t.length-1&&p(t,"end of the stream or a document separator is expected"))}function L(t,e){t=String(t),e=e||{},0!==t.length&&(10!==t.charCodeAt(t.length-1)&&13!==t.charCodeAt(t.length-1)&&(t+="\n"),65279===t.charCodeAt(0)&&(t=t.slice(1)));var n=new f(t,e);for(Q.test(n.input)&&p(n,"the stream contains non-printable characters"),n.input+="\x00";32===n.input.charCodeAt(n.position);)n.lineIndent+=1,n.position+=1;for(;n.position<n.length-1;)O(n);return n.documents}function I(t,e,n){var r,i,o=L(t,n);for(r=0,i=o.length;i>r;r+=1)e(o[r])}function N(t,e){var n=L(t,e);if(0===n.length)return void 0;if(1===n.length)return n[0];throw new V("expected a single document in the stream, but found more")}function B(t,e,n){I(t,e,F.extend({schema:j},n))}function H(t,e){return N(t,F.extend({schema:j},e))}for(var F=t("./common"),V=t("./exception"),q=t("./mark"),j=t("./schema/default_safe"),z=t("./schema/default_full"),W=Object.prototype.hasOwnProperty,U=1,Y=2,X=3,G=4,K=1,Z=2,J=3,Q=/[\x00-\x08\x0B\x0C\x0E-\x1F\x7F-\x84\x86-\x9F\uFFFE\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/,tt=/[\x85\u2028\u2029]/,et=/[,\[\]\{\}]/,nt=/^(?:!|!!|![a-z\-]+!)$/i,rt=/^(?:!|[^,\[\]\{\}])(?:%[0-9a-f]{2}|[0-9a-z\-#;\/\?:@&=\+\$,_\.!~\*'\(\)\[\]])*$/i,it=new Array(256),ot=new Array(256),at=0;256>at;at++)it[at]=c(at)?1:0,ot[at]=c(at);var st={YAML:function(t,e,n){var r,i,o;null!==t.version&&p(t,"duplication of %YAML directive"),1!==n.length&&p(t,"YAML directive accepts exactly one argument"),r=/^([0-9]+)\.([0-9]+)$/.exec(n[0]),null===r&&p(t,"ill-formed argument of the YAML directive"),i=parseInt(r[1],10),o=parseInt(r[2],10),1!==i&&p(t,"unacceptable YAML version of the document"),t.version=n[0],t.checkLineBreaks=2>o,1!==o&&2!==o&&g(t,"unsupported YAML version of the document")},TAG:function(t,e,n){var r,i;2!==n.length&&p(t,"TAG directive accepts exactly two arguments"),r=n[0],i=n[1],nt.test(r)||p(t,"ill-formed tag handle (first argument) of the TAG directive"),W.call(t.tagMap,r)&&p(t,'there is a previously declared suffix for "'+r+'" tag handle'),rt.test(i)||p(t,"ill-formed tag prefix (second argument) of the TAG directive"),t.tagMap[r]=i}};e.exports.loadAll=I,e.exports.load=N,e.exports.safeLoadAll=B,e.exports.safeLoad=H},{"./common":2,"./exception":4,"./mark":6,"./schema/default_full":9,"./schema/default_safe":10}],6:[function(t,e,n){"use strict";function r(t,e,n,r,i){this.name=t,this.buffer=e,this.position=n,this.line=r,this.column=i}var i=t("./common");r.prototype.getSnippet=function(t,e){var n,r,o,a,s;if(!this.buffer)return null;for(t=t||4,e=e||75,n="",r=this.position;r>0&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(r-1));)if(r-=1,this.position-r>e/2-1){n=" ... ",r+=5;break}for(o="",a=this.position;a<this.buffer.length&&-1==="\x00\r\n\u2028\u2029".indexOf(this.buffer.charAt(a));)if(a+=1,a-this.position>e/2-1){o=" ... ",a-=5;break}return s=this.buffer.slice(r,a),i.repeat(" ",t)+n+s+o+"\n"+i.repeat(" ",t+this.position-r+n.length)+"^"},r.prototype.toString=function(t){var e,n="";return this.name&&(n+='in "'+this.name+'" '),n+="at line "+(this.line+1)+", column "+(this.column+1),t||(e=this.getSnippet(),e&&(n+=":\n"+e)),n},e.exports=r},{"./common":2}],7:[function(t,e,n){"use strict";function r(t,e,n){var i=[];return t.include.forEach(function(t){n=r(t,e,n)}),t[e].forEach(function(t){n.forEach(function(e,n){e.tag===t.tag&&i.push(n)}),n.push(t)}),n.filter(function(t,e){return-1===i.indexOf(e)})}function i(){function t(t){r[t.tag]=t}var e,n,r={};for(e=0,n=arguments.length;n>e;e+=1)arguments[e].forEach(t);return r}function o(t){this.include=t.include||[],this.implicit=t.implicit||[],this.explicit=t.explicit||[],this.implicit.forEach(function(t){if(t.loadKind&&"scalar"!==t.loadKind)throw new s("There is a non-scalar type in the implicit list of a schema. Implicit resolving of such types is not supported.")}),this.compiledImplicit=r(this,"implicit",[]),this.compiledExplicit=r(this,"explicit",[]),this.compiledTypeMap=i(this.compiledImplicit,this.compiledExplicit)}var a=t("./common"),s=t("./exception"),l=t("./type");o.DEFAULT=null,o.create=function(){var t,e;switch(arguments.length){case 1:t=o.DEFAULT,e=arguments[0];break;case 2:t=arguments[0],e=arguments[1];break;default:throw new s("Wrong number of arguments for Schema.create function")}if(t=a.toArray(t),e=a.toArray(e),!t.every(function(t){return t instanceof o}))throw new s("Specified list of super schemas (or a single Schema object) contains a non-Schema object.");if(!e.every(function(t){return t instanceof l}))throw new s("Specified list of YAML types (or a single Type object) contains a non-Type object.");return new o({include:t,explicit:e})},e.exports=o},{"./common":2,"./exception":4,"./type":13}],8:[function(t,e,n){"use strict";var r=t("../schema");e.exports=new r({include:[t("./json")]})},{"../schema":7,"./json":12}],9:[function(t,e,n){"use strict";var r=t("../schema");e.exports=r.DEFAULT=new r({include:[t("./default_safe")],explicit:[t("../type/js/undefined"),t("../type/js/regexp"),t("../type/js/function")]})},{"../schema":7,"../type/js/function":18,"../type/js/regexp":19,"../type/js/undefined":20,"./default_safe":10}],10:[function(t,e,n){"use strict";var r=t("../schema");e.exports=new r({include:[t("./core")],implicit:[t("../type/timestamp"),t("../type/merge")],explicit:[t("../type/binary"),t("../type/omap"),t("../type/pairs"),t("../type/set")]})},{"../schema":7,"../type/binary":14,"../type/merge":22,"../type/omap":24,"../type/pairs":25,"../type/set":27,"../type/timestamp":29,"./core":8}],11:[function(t,e,n){"use strict";var r=t("../schema");e.exports=new r({explicit:[t("../type/str"),t("../type/seq"),t("../type/map")]})},{"../schema":7,"../type/map":21,"../type/seq":26,"../type/str":28}],12:[function(t,e,n){"use strict";var r=t("../schema");e.exports=new r({include:[t("./failsafe")],implicit:[t("../type/null"),t("../type/bool"),t("../type/int"),t("../type/float")]})},{"../schema":7,"../type/bool":15,"../type/float":16,"../type/int":17,"../type/null":23,"./failsafe":11}],13:[function(t,e,n){
"use strict";function r(t){var e={};return null!==t&&Object.keys(t).forEach(function(n){t[n].forEach(function(t){e[String(t)]=n})}),e}function i(t,e){if(e=e||{},Object.keys(e).forEach(function(e){if(-1===a.indexOf(e))throw new o('Unknown option "'+e+'" is met in definition of "'+t+'" YAML type.')}),this.tag=t,this.kind=e.kind||null,this.resolve=e.resolve||function(){return!0},this.construct=e.construct||function(t){return t},this.instanceOf=e.instanceOf||null,this.predicate=e.predicate||null,this.represent=e.represent||null,this.defaultStyle=e.defaultStyle||null,this.styleAliases=r(e.styleAliases||null),-1===s.indexOf(this.kind))throw new o('Unknown kind "'+this.kind+'" is specified for "'+t+'" YAML type.')}var o=t("./exception"),a=["kind","resolve","construct","instanceOf","predicate","represent","defaultStyle","styleAliases"],s=["scalar","sequence","mapping"];e.exports=i},{"./exception":4}],14:[function(t,e,n){"use strict";function r(t){if(null===t)return!1;var e,n,r=0,i=t.length,o=u;for(n=0;i>n;n++)if(e=o.indexOf(t.charAt(n)),!(e>64)){if(0>e)return!1;r+=6}return r%8===0}function i(t){var e,n,r=t.replace(/[\r\n=]/g,""),i=r.length,o=u,a=0,l=[];for(e=0;i>e;e++)e%4===0&&e&&(l.push(a>>16&255),l.push(a>>8&255),l.push(255&a)),a=a<<6|o.indexOf(r.charAt(e));return n=i%4*6,0===n?(l.push(a>>16&255),l.push(a>>8&255),l.push(255&a)):18===n?(l.push(a>>10&255),l.push(a>>2&255)):12===n&&l.push(a>>4&255),s?new s(l):l}function o(t){var e,n,r="",i=0,o=t.length,a=u;for(e=0;o>e;e++)e%3===0&&e&&(r+=a[i>>18&63],r+=a[i>>12&63],r+=a[i>>6&63],r+=a[63&i]),i=(i<<8)+t[e];return n=o%3,0===n?(r+=a[i>>18&63],r+=a[i>>12&63],r+=a[i>>6&63],r+=a[63&i]):2===n?(r+=a[i>>10&63],r+=a[i>>4&63],r+=a[i<<2&63],r+=a[64]):1===n&&(r+=a[i>>2&63],r+=a[i<<4&63],r+=a[64],r+=a[64]),r}function a(t){return s&&s.isBuffer(t)}var s=t("buffer").Buffer,l=t("../type"),u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\n\r";e.exports=new l("tag:yaml.org,2002:binary",{kind:"scalar",resolve:r,construct:i,predicate:a,represent:o})},{"../type":13,buffer:30}],15:[function(t,e,n){"use strict";function r(t){if(null===t)return!1;var e=t.length;return 4===e&&("true"===t||"True"===t||"TRUE"===t)||5===e&&("false"===t||"False"===t||"FALSE"===t)}function i(t){return"true"===t||"True"===t||"TRUE"===t}function o(t){return"[object Boolean]"===Object.prototype.toString.call(t)}var a=t("../type");e.exports=new a("tag:yaml.org,2002:bool",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:{lowercase:function(t){return t?"true":"false"},uppercase:function(t){return t?"TRUE":"FALSE"},camelcase:function(t){return t?"True":"False"}},defaultStyle:"lowercase"})},{"../type":13}],16:[function(t,e,n){"use strict";function r(t){if(null===t)return!1;return u.test(t)?!0:!1}function i(t){var e,n,r,i;return e=t.replace(/_/g,"").toLowerCase(),n="-"===e[0]?-1:1,i=[],0<="+-".indexOf(e[0])&&(e=e.slice(1)),".inf"===e?1===n?Number.POSITIVE_INFINITY:Number.NEGATIVE_INFINITY:".nan"===e?0/0:0<=e.indexOf(":")?(e.split(":").forEach(function(t){i.unshift(parseFloat(t,10))}),e=0,r=1,i.forEach(function(t){e+=t*r,r*=60}),n*e):n*parseFloat(e,10)}function o(t,e){if(isNaN(t))switch(e){case"lowercase":return".nan";case"uppercase":return".NAN";case"camelcase":return".NaN"}else if(Number.POSITIVE_INFINITY===t)switch(e){case"lowercase":return".inf";case"uppercase":return".INF";case"camelcase":return".Inf"}else if(Number.NEGATIVE_INFINITY===t)switch(e){case"lowercase":return"-.inf";case"uppercase":return"-.INF";case"camelcase":return"-.Inf"}else if(s.isNegativeZero(t))return"-0.0";return t.toString(10)}function a(t){return"[object Number]"===Object.prototype.toString.call(t)&&(0!==t%1||s.isNegativeZero(t))}var s=t("../common"),l=t("../type"),u=new RegExp("^(?:[-+]?(?:[0-9][0-9_]*)\\.[0-9_]*(?:[eE][-+][0-9]+)?|\\.[0-9_]+(?:[eE][-+][0-9]+)?|[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*|[-+]?\\.(?:inf|Inf|INF)|\\.(?:nan|NaN|NAN))$");e.exports=new l("tag:yaml.org,2002:float",{kind:"scalar",resolve:r,construct:i,predicate:a,represent:o,defaultStyle:"lowercase"})},{"../common":2,"../type":13}],17:[function(t,e,n){"use strict";function r(t){return t>=48&&57>=t||t>=65&&70>=t||t>=97&&102>=t}function i(t){return t>=48&&55>=t}function o(t){return t>=48&&57>=t}function a(t){if(null===t)return!1;var e,n=t.length,a=0,s=!1;if(!n)return!1;if(e=t[a],("-"===e||"+"===e)&&(e=t[++a]),"0"===e){if(a+1===n)return!0;if(e=t[++a],"b"===e){for(a++;n>a;a++)if(e=t[a],"_"!==e){if("0"!==e&&"1"!==e)return!1;s=!0}return s}if("x"===e){for(a++;n>a;a++)if(e=t[a],"_"!==e){if(!r(t.charCodeAt(a)))return!1;s=!0}return s}for(;n>a;a++)if(e=t[a],"_"!==e){if(!i(t.charCodeAt(a)))return!1;s=!0}return s}for(;n>a;a++)if(e=t[a],"_"!==e){if(":"===e)break;if(!o(t.charCodeAt(a)))return!1;s=!0}return s?":"!==e?!0:/^(:[0-5]?[0-9])+$/.test(t.slice(a)):!1}function s(t){var e,n,r=t,i=1,o=[];return-1!==r.indexOf("_")&&(r=r.replace(/_/g,"")),e=r[0],("-"===e||"+"===e)&&("-"===e&&(i=-1),r=r.slice(1),e=r[0]),"0"===r?0:"0"===e?"b"===r[1]?i*parseInt(r.slice(2),2):"x"===r[1]?i*parseInt(r,16):i*parseInt(r,8):-1!==r.indexOf(":")?(r.split(":").forEach(function(t){o.unshift(parseInt(t,10))}),r=0,n=1,o.forEach(function(t){r+=t*n,n*=60}),i*r):i*parseInt(r,10)}function l(t){return"[object Number]"===Object.prototype.toString.call(t)&&0===t%1&&!u.isNegativeZero(t)}var u=t("../common"),c=t("../type");e.exports=new c("tag:yaml.org,2002:int",{kind:"scalar",resolve:a,construct:s,predicate:l,represent:{binary:function(t){return"0b"+t.toString(2)},octal:function(t){return"0"+t.toString(8)},decimal:function(t){return t.toString(10)},hexadecimal:function(t){return"0x"+t.toString(16).toUpperCase()}},defaultStyle:"decimal",styleAliases:{binary:[2,"bin"],octal:[8,"oct"],decimal:[10,"dec"],hexadecimal:[16,"hex"]}})},{"../common":2,"../type":13}],18:[function(t,e,n){"use strict";function r(t){if(null===t)return!1;try{var e="("+t+")",n=s.parse(e,{range:!0});return"Program"!==n.type||1!==n.body.length||"ExpressionStatement"!==n.body[0].type||"FunctionExpression"!==n.body[0].expression.type?!1:!0}catch(r){return!1}}function i(t){var e,n="("+t+")",r=s.parse(n,{range:!0}),i=[];if("Program"!==r.type||1!==r.body.length||"ExpressionStatement"!==r.body[0].type||"FunctionExpression"!==r.body[0].expression.type)throw new Error("Failed to resolve function");return r.body[0].expression.params.forEach(function(t){i.push(t.name)}),e=r.body[0].expression.body.range,new Function(i,n.slice(e[0]+1,e[1]-1))}function o(t){return t.toString()}function a(t){return"[object Function]"===Object.prototype.toString.call(t)}var s;try{s=t("esprima")}catch(l){"undefined"!=typeof window&&(s=window.esprima)}var u=t("../../type");e.exports=new u("tag:yaml.org,2002:js/function",{kind:"scalar",resolve:r,construct:i,predicate:a,represent:o})},{"../../type":13,esprima:"esprima"}],19:[function(t,e,n){"use strict";function r(t){if(null===t)return!1;if(0===t.length)return!1;var e=t,n=/\/([gim]*)$/.exec(t),r="";if("/"===e[0]){if(n&&(r=n[1]),r.length>3)return!1;if("/"!==e[e.length-r.length-1])return!1;e=e.slice(1,e.length-r.length-1)}try{{new RegExp(e,r)}return!0}catch(i){return!1}}function i(t){var e=t,n=/\/([gim]*)$/.exec(t),r="";return"/"===e[0]&&(n&&(r=n[1]),e=e.slice(1,e.length-r.length-1)),new RegExp(e,r)}function o(t){var e="/"+t.source+"/";return t.global&&(e+="g"),t.multiline&&(e+="m"),t.ignoreCase&&(e+="i"),e}function a(t){return"[object RegExp]"===Object.prototype.toString.call(t)}var s=t("../../type");e.exports=new s("tag:yaml.org,2002:js/regexp",{kind:"scalar",resolve:r,construct:i,predicate:a,represent:o})},{"../../type":13}],20:[function(t,e,n){"use strict";function r(){return!0}function i(){return void 0}function o(){return""}function a(t){return"undefined"==typeof t}var s=t("../../type");e.exports=new s("tag:yaml.org,2002:js/undefined",{kind:"scalar",resolve:r,construct:i,predicate:a,represent:o})},{"../../type":13}],21:[function(t,e,n){"use strict";var r=t("../type");e.exports=new r("tag:yaml.org,2002:map",{kind:"mapping",construct:function(t){return null!==t?t:{}}})},{"../type":13}],22:[function(t,e,n){"use strict";function r(t){return"<<"===t||null===t}var i=t("../type");e.exports=new i("tag:yaml.org,2002:merge",{kind:"scalar",resolve:r})},{"../type":13}],23:[function(t,e,n){"use strict";function r(t){if(null===t)return!0;var e=t.length;return 1===e&&"~"===t||4===e&&("null"===t||"Null"===t||"NULL"===t)}function i(){return null}function o(t){return null===t}var a=t("../type");e.exports=new a("tag:yaml.org,2002:null",{kind:"scalar",resolve:r,construct:i,predicate:o,represent:{canonical:function(){return"~"},lowercase:function(){return"null"},uppercase:function(){return"NULL"},camelcase:function(){return"Null"}},defaultStyle:"lowercase"})},{"../type":13}],24:[function(t,e,n){"use strict";function r(t){if(null===t)return!0;var e,n,r,i,o,l=[],u=t;for(e=0,n=u.length;n>e;e+=1){if(r=u[e],o=!1,"[object Object]"!==s.call(r))return!1;for(i in r)if(a.call(r,i)){if(o)return!1;o=!0}if(!o)return!1;if(-1!==l.indexOf(i))return!1;l.push(i)}return!0}function i(t){return null!==t?t:[]}var o=t("../type"),a=Object.prototype.hasOwnProperty,s=Object.prototype.toString;e.exports=new o("tag:yaml.org,2002:omap",{kind:"sequence",resolve:r,construct:i})},{"../type":13}],25:[function(t,e,n){"use strict";function r(t){if(null===t)return!0;var e,n,r,i,o,s=t;for(o=new Array(s.length),e=0,n=s.length;n>e;e+=1){if(r=s[e],"[object Object]"!==a.call(r))return!1;if(i=Object.keys(r),1!==i.length)return!1;o[e]=[i[0],r[i[0]]]}return!0}function i(t){if(null===t)return[];var e,n,r,i,o,a=t;for(o=new Array(a.length),e=0,n=a.length;n>e;e+=1)r=a[e],i=Object.keys(r),o[e]=[i[0],r[i[0]]];return o}var o=t("../type"),a=Object.prototype.toString;e.exports=new o("tag:yaml.org,2002:pairs",{kind:"sequence",resolve:r,construct:i})},{"../type":13}],26:[function(t,e,n){"use strict";var r=t("../type");e.exports=new r("tag:yaml.org,2002:seq",{kind:"sequence",construct:function(t){return null!==t?t:[]}})},{"../type":13}],27:[function(t,e,n){"use strict";function r(t){if(null===t)return!0;var e,n=t;for(e in n)if(a.call(n,e)&&null!==n[e])return!1;return!0}function i(t){return null!==t?t:{}}var o=t("../type"),a=Object.prototype.hasOwnProperty;e.exports=new o("tag:yaml.org,2002:set",{kind:"mapping",resolve:r,construct:i})},{"../type":13}],28:[function(t,e,n){"use strict";var r=t("../type");e.exports=new r("tag:yaml.org,2002:str",{kind:"scalar",construct:function(t){return null!==t?t:""}})},{"../type":13}],29:[function(t,e,n){"use strict";function r(t){if(null===t)return!1;var e;return e=s.exec(t),null===e?!1:!0}function i(t){var e,n,r,i,o,a,l,u,c,h,f=0,d=null;if(e=s.exec(t),null===e)throw new Error("Date resolve error");if(n=+e[1],r=+e[2]-1,i=+e[3],!e[4])return new Date(Date.UTC(n,r,i));if(o=+e[4],a=+e[5],l=+e[6],e[7]){for(f=e[7].slice(0,3);f.length<3;)f+="0";f=+f}return e[9]&&(u=+e[10],c=+(e[11]||0),d=6e4*(60*u+c),"-"===e[9]&&(d=-d)),h=new Date(Date.UTC(n,r,i,o,a,l,f)),d&&h.setTime(h.getTime()-d),h}function o(t){return t.toISOString()}var a=t("../type"),s=new RegExp("^([0-9][0-9][0-9][0-9])-([0-9][0-9]?)-([0-9][0-9]?)(?:(?:[Tt]|[ \\t]+)([0-9][0-9]?):([0-9][0-9]):([0-9][0-9])(?:\\.([0-9]*))?(?:[ \\t]*(Z|([-+])([0-9][0-9]?)(?::([0-9][0-9]))?))?)?$");e.exports=new a("tag:yaml.org,2002:timestamp",{kind:"scalar",resolve:r,construct:i,instanceOf:Date,represent:o})},{"../type":13}],30:[function(t,e,n){},{}],"/":[function(t,e,n){"use strict";var r=t("./lib/js-yaml.js");e.exports=r},{"./lib/js-yaml.js":1}]},{},[])("/")}),/**
 * @license AngularJS v1.4.1
 * (c) 2010-2015 Google, Inc. http://angularjs.org
 * License: MIT
 */
function(t,e,n){"use strict";function r(t){return null!=t&&""!==t&&"hasOwnProperty"!==t&&s.test("."+t)}function i(t,e){if(!r(e))throw a("badmember",'Dotted member path "@{0}" is invalid.',e);for(var i=e.split("."),o=0,s=i.length;s>o&&t!==n;o++){var l=i[o];t=null!==t?t[l]:n}return t}function o(t,n){n=n||{},e.forEach(n,function(t,e){delete n[e]});for(var r in t)!t.hasOwnProperty(r)||"$"===r.charAt(0)&&"$"===r.charAt(1)||(n[r]=t[r]);return n}var a=e.$$minErr("$resource"),s=/^(\.[a-zA-Z_$@][0-9a-zA-Z_$@]*)+$/;e.module("ngResource",["ng"]).provider("$resource",function(){var t=this;this.defaults={stripTrailingSlashes:!0,actions:{get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}}},this.$get=["$http","$q",function(r,s){function l(t){return u(t,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function u(t,e){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,e?"%20":"+")}function c(e,n){this.template=e,this.defaults=p({},t.defaults,n),this.urlParams={}}function h(l,u,v,y){function w(t,e){var n={};return e=p({},u,e),d(e,function(e,r){m(e)&&(e=e()),n[r]=e&&e.charAt&&"@"==e.charAt(0)?i(t,e.substr(1)):e}),n}function b(t){return t.resource}function x(t){o(t||{},this)}var C=new c(l,y);return v=p({},t.defaults.actions,v),x.prototype.toJSON=function(){var t=p({},this);return delete t.$promise,delete t.$resolved,t},d(v,function(t,i){var l=/^(POST|PUT|PATCH)$/i.test(t.method);x[i]=function(u,c,h,v){var y,T,E,k={};switch(arguments.length){case 4:E=v,T=h;case 3:case 2:if(!m(c)){k=u,y=c,T=h;break}if(m(u)){T=u,E=c;break}T=c,E=h;case 1:m(u)?T=u:l?y=u:k=u;break;case 0:break;default:throw a("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var S=this instanceof x,_=S?y:t.isArray?[]:new x(y),$={},A=t.interceptor&&t.interceptor.response||b,D=t.interceptor&&t.interceptor.responseError||n;d(t,function(t,e){"params"!=e&&"isArray"!=e&&"interceptor"!=e&&($[e]=g(t))}),l&&($.data=y),C.setUrlParams($,p({},w(y,t.params||{}),k),t.url);var M=r($).then(function(n){var r=n.data,s=_.$promise;if(r){if(e.isArray(r)!==!!t.isArray)throw a("badcfg","Error in resource configuration for action `{0}`. Expected response to contain an {1} but got an {2} (Request: {3} {4})",i,t.isArray?"array":"object",e.isArray(r)?"array":"object",$.method,$.url);t.isArray?(_.length=0,d(r,function(t){_.push("object"==typeof t?new x(t):t)})):(o(r,_),_.$promise=s)}return _.$resolved=!0,n.resource=_,n},function(t){return _.$resolved=!0,(E||f)(t),s.reject(t)});return M=M.then(function(t){var e=A(t);return(T||f)(e,t.headers),e},D),S?M:(_.$promise=M,_.$resolved=!1,_)},x.prototype["$"+i]=function(t,e,n){m(t)&&(n=e,e=t,t={});var r=x[i].call(this,t,this,e,n);return r.$promise||r}}),x.bind=function(t){return h(l,p({},u,t),v)},x}var f=e.noop,d=e.forEach,p=e.extend,g=e.copy,m=e.isFunction;return c.prototype={setUrlParams:function(t,n,r){var i,o,s=this,u=r||s.template,c=s.urlParams={};d(u.split(/\W/),function(t){if("hasOwnProperty"===t)throw a("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(t)&&t&&new RegExp("(^|[^\\\\]):"+t+"(\\W|$)").test(u)&&(c[t]=!0)}),u=u.replace(/\\:/g,":"),n=n||{},d(s.urlParams,function(t,r){i=n.hasOwnProperty(r)?n[r]:s.defaults[r],e.isDefined(i)&&null!==i?(o=l(i),u=u.replace(new RegExp(":"+r+"(\\W|$)","g"),function(t,e){return o+e})):u=u.replace(new RegExp("(/?):"+r+"(\\W|$)","g"),function(t,e,n){return"/"==n.charAt(0)?n:e+n})}),s.defaults.stripTrailingSlashes&&(u=u.replace(/\/+$/,"")||"/"),u=u.replace(/\/\.(?=\w+($|\?))/,"."),t.url=u.replace(/\/\\\./,"/."),d(n,function(e,n){s.urlParams[n]||(t.params=t.params||{},t.params[n]=e)})}},h}]})}(window,window.angular),!function(){function t(t,e){return e>t?-1:t>e?1:t>=e?0:0/0}function e(t){return null===t?0/0:+t}function n(t){return!isNaN(t)}function r(t){return{left:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)<0?r=o+1:i=o}return r},right:function(e,n,r,i){for(arguments.length<3&&(r=0),arguments.length<4&&(i=e.length);i>r;){var o=r+i>>>1;t(e[o],n)>0?i=o:r=o+1}return r}}}function i(t){return t.length}function o(t){for(var e=1;t*e%1;)e*=10;return e}function a(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function s(){this._=Object.create(null)}function l(t){return(t+="")===va||t[0]===ya?ya+t:t}function u(t){return(t+="")[0]===ya?t.slice(1):t}function c(t){return l(t)in this._}function h(t){return(t=l(t))in this._&&delete this._[t]}function f(){var t=[];for(var e in this._)t.push(u(e));return t}function d(){var t=0;for(var e in this._)++t;return t}function p(){for(var t in this._)return!1;return!0}function g(){this._=Object.create(null)}function m(t,e,n){return function(){var r=n.apply(e,arguments);return r===e?t:r}}function v(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,r=wa.length;r>n;++n){var i=wa[n]+e;if(i in t)return i}}function y(){}function w(){}function b(t){function e(){for(var e,r=n,i=-1,o=r.length;++i<o;)(e=r[i].on)&&e.apply(this,arguments);return t}var n=[],r=new s;return e.on=function(e,i){var o,a=r.get(e);return arguments.length<2?a&&a.on:(a&&(a.on=null,n=n.slice(0,o=n.indexOf(a)).concat(n.slice(o+1)),r.remove(e)),i&&n.push(r.set(e,{on:i})),t)},e}function x(){na.event.preventDefault()}function C(){for(var t,e=na.event;t=e.sourceEvent;)e=t;return e}function T(t){for(var e=new w,n=0,r=arguments.length;++n<r;)e[arguments[n]]=b(e);return e.of=function(n,r){return function(i){try{var o=i.sourceEvent=na.event;i.target=t,na.event=i,e[i.type].apply(n,r)}finally{na.event=o}}},e}function E(t){return xa(t,Sa),t}function k(t){return"function"==typeof t?t:function(){return Ca(t,this)}}function S(t){return"function"==typeof t?t:function(){return Ta(t,this)}}function _(t,e){function n(){this.removeAttribute(t)}function r(){this.removeAttributeNS(t.space,t.local)}function i(){this.setAttribute(t,e)}function o(){this.setAttributeNS(t.space,t.local,e)}function a(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=na.ns.qualify(t),null==e?t.local?r:n:"function"==typeof e?t.local?s:a:t.local?o:i}function $(t){return t.trim().replace(/\s+/g," ")}function A(t){return new RegExp("(?:^|\\s+)"+na.requote(t)+"(?:\\s+|$)","g")}function D(t){return(t+"").trim().split(/^|\s+/)}function M(t,e){function n(){for(var n=-1;++n<i;)t[n](this,e)}function r(){for(var n=-1,r=e.apply(this,arguments);++n<i;)t[n](this,r)}t=D(t).map(R);var i=t.length;return"function"==typeof e?r:n}function R(t){var e=A(t);return function(n,r){if(i=n.classList)return r?i.add(t):i.remove(t);var i=n.getAttribute("class")||"";r?(e.lastIndex=0,e.test(i)||n.setAttribute("class",$(i+" "+t))):n.setAttribute("class",$(i.replace(e," ")))}}function P(t,e,n){function r(){this.style.removeProperty(t)}function i(){this.style.setProperty(t,e,n)}function o(){var r=e.apply(this,arguments);null==r?this.style.removeProperty(t):this.style.setProperty(t,r,n)}return null==e?r:"function"==typeof e?o:i}function O(t,e){function n(){delete this[t]}function r(){this[t]=e}function i(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?i:r}function L(t){return"function"==typeof t?t:(t=na.ns.qualify(t)).local?function(){return this.ownerDocument.createElementNS(t.space,t.local)}:function(){return this.ownerDocument.createElementNS(this.namespaceURI,t)}}function I(){var t=this.parentNode;t&&t.removeChild(this)}function N(t){return{__data__:t}}function B(t){return function(){return ka(this,t)}}function H(e){return arguments.length||(e=t),function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}function F(t,e){for(var n=0,r=t.length;r>n;n++)for(var i,o=t[n],a=0,s=o.length;s>a;a++)(i=o[a])&&e(i,a,n);return t}function V(t){return xa(t,$a),t}function q(t){var e,n;return function(r,i,o){var a,s=t[o].update,l=s.length;for(o!=n&&(n=o,e=0),i>=e&&(e=i+1);!(a=s[e])&&++e<l;);return a}}function j(t){var e=t.__transition__;e&&++e.active}function z(t,e,n){function r(){var e=this[a];e&&(this.removeEventListener(t,e,e.$),delete this[a])}function i(){var i=l(e,ia(arguments));r.call(this),this.addEventListener(t,this[a]=i,i.$=n),i._=e}function o(){var e,n=new RegExp("^__on([^.]+)"+na.requote(t)+"$");for(var r in this)if(e=r.match(n)){var i=this[r];this.removeEventListener(e[1],i,i.$),delete this[r]}}var a="__on"+t,s=t.indexOf("."),l=W;s>0&&(t=t.slice(0,s));var u=Da.get(t);return u&&(t=u,l=U),s?e?i:r:e?y:o}function W(t,e){return function(n){var r=na.event;na.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{na.event=r}}}function U(t,e){var n=W(t,e);return function(t){var e=this,r=t.relatedTarget;r&&(r===e||8&r.compareDocumentPosition(e))||n.call(e,t)}}function Y(){var t=".dragsuppress-"+ ++Ra,e="click"+t,n=na.select(sa).on("touchmove"+t,x).on("dragstart"+t,x).on("selectstart"+t,x);if(Ma){var r=aa.style,i=r[Ma];r[Ma]="none"}return function(o){if(n.on(t,null),Ma&&(r[Ma]=i),o){var a=function(){n.on(e,null)};n.on(e,function(){x(),a()},!0),setTimeout(a,0)}}}function X(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();if(0>Pa&&(sa.scrollX||sa.scrollY)){n=na.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var i=n[0][0].getScreenCTM();Pa=!(i.f||i.e),n.remove()}return Pa?(r.x=e.pageX,r.y=e.pageY):(r.x=e.clientX,r.y=e.clientY),r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}var o=t.getBoundingClientRect();return[e.clientX-o.left-t.clientLeft,e.clientY-o.top-t.clientTop]}function G(){return na.event.changedTouches[0].identifier}function K(){return na.event.target}function Z(){return sa}function J(t){return t>0?1:0>t?-1:0}function Q(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function tt(t){return t>1?0:-1>t?Ia:Math.acos(t)}function et(t){return t>1?Ha:-1>t?-Ha:Math.asin(t)}function nt(t){return((t=Math.exp(t))-1/t)/2}function rt(t){return((t=Math.exp(t))+1/t)/2}function it(t){return((t=Math.exp(2*t))-1)/(t+1)}function ot(t){return(t=Math.sin(t/2))*t}function at(){}function st(t,e,n){return this instanceof st?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof st?new st(t.h,t.s,t.l):xt(""+t,Ct,st):new st(t,e,n)}function lt(t,e,n){function r(t){return t>360?t-=360:0>t&&(t+=360),60>t?o+(a-o)*t/60:180>t?a:240>t?o+(a-o)*(240-t)/60:o}function i(t){return Math.round(255*r(t))}var o,a;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:0>e?0:e>1?1:e,n=0>n?0:n>1?1:n,a=.5>=n?n*(1+e):n+e-n*e,o=2*n-a,new vt(i(t+120),i(t),i(t-120))}function ut(t,e,n){return this instanceof ut?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof ut?new ut(t.h,t.c,t.l):t instanceof ht?dt(t.l,t.a,t.b):dt((t=Tt((t=na.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new ut(t,e,n)}function ct(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new ht(n,Math.cos(t*=Fa)*e,Math.sin(t)*e)}function ht(t,e,n){return this instanceof ht?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof ht?new ht(t.l,t.a,t.b):t instanceof ut?ct(t.h,t.c,t.l):Tt((t=vt(t)).r,t.g,t.b):new ht(t,e,n)}function ft(t,e,n){var r=(t+16)/116,i=r+e/500,o=r-n/200;return i=pt(i)*Za,r=pt(r)*Ja,o=pt(o)*Qa,new vt(mt(3.2404542*i-1.5371385*r-.4985314*o),mt(-.969266*i+1.8760108*r+.041556*o),mt(.0556434*i-.2040259*r+1.0572252*o))}function dt(t,e,n){return t>0?new ut(Math.atan2(n,e)*Va,Math.sqrt(e*e+n*n),t):new ut(0/0,0/0,t)}function pt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function gt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function mt(t){return Math.round(255*(.00304>=t?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function vt(t,e,n){return this instanceof vt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof vt?new vt(t.r,t.g,t.b):xt(""+t,vt,lt):new vt(t,e,n)}function yt(t){return new vt(t>>16,t>>8&255,255&t)}function wt(t){return yt(t)+""}function bt(t){return 16>t?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function xt(t,e,n){var r,i,o,a=0,s=0,l=0;if(r=/([a-z]+)\((.*)\)/i.exec(t))switch(i=r[2].split(","),r[1]){case"hsl":return n(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case"rgb":return e(kt(i[0]),kt(i[1]),kt(i[2]))}return(o=ns.get(t))?e(o.r,o.g,o.b):(null==t||"#"!==t.charAt(0)||isNaN(o=parseInt(t.slice(1),16))||(4===t.length?(a=(3840&o)>>4,a=a>>4|a,s=240&o,s=s>>4|s,l=15&o,l=l<<4|l):7===t.length&&(a=(16711680&o)>>16,s=(65280&o)>>8,l=255&o)),e(a,s,l))}function Ct(t,e,n){var r,i,o=Math.min(t/=255,e/=255,n/=255),a=Math.max(t,e,n),s=a-o,l=(a+o)/2;return s?(i=.5>l?s/(a+o):s/(2-a-o),r=t==a?(e-n)/s+(n>e?6:0):e==a?(n-t)/s+2:(t-e)/s+4,r*=60):(r=0/0,i=l>0&&1>l?0:r),new st(r,i,l)}function Tt(t,e,n){t=Et(t),e=Et(e),n=Et(n);var r=gt((.4124564*t+.3575761*e+.1804375*n)/Za),i=gt((.2126729*t+.7151522*e+.072175*n)/Ja),o=gt((.0193339*t+.119192*e+.9503041*n)/Qa);return ht(116*i-16,500*(r-i),200*(i-o))}function Et(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function kt(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function St(t){return"function"==typeof t?t:function(){return t}}function _t(t){return t}function $t(t){return function(e,n,r){return 2===arguments.length&&"function"==typeof n&&(r=n,n=null),At(e,n,t,r)}}function At(t,e,n,r){function i(){var t,e=l.status;if(!e&&Mt(l)||e>=200&&300>e||304===e){try{t=n.call(o,l)}catch(r){return void a.error.call(o,r)}a.load.call(o,t)}else a.error.call(o,l)}var o={},a=na.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!sa.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=i:l.onreadystatechange=function(){l.readyState>3&&i()},l.onprogress=function(t){var e=na.event;na.event=t;try{a.progress.call(o,l)}finally{na.event=e}},o.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",o)},o.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",o):e},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return n=t,o},["get","post"].forEach(function(t){o[t]=function(){return o.send.apply(o,[t].concat(ia(arguments)))}}),o.send=function(n,r,i){if(2===arguments.length&&"function"==typeof r&&(i=r,r=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=i&&o.on("error",i).on("load",function(t){i(null,t)}),a.beforesend.call(o,l),l.send(null==r?null:r),o},o.abort=function(){return l.abort(),o},na.rebind(o,a,"on"),null==r?o:o.get(Dt(r))}function Dt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Mt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Rt(){var t=Pt(),e=Ot()-t;e>24?(isFinite(e)&&(clearTimeout(as),as=setTimeout(Rt,e)),os=0):(os=1,ls(Rt))}function Pt(){var t=Date.now();for(ss=rs;ss;)t>=ss.t&&(ss.f=ss.c(t-ss.t)),ss=ss.n;return t}function Ot(){for(var t,e=rs,n=1/0;e;)e.f?e=t?t.n=e.n:rs=e.n:(e.t<n&&(n=e.t),e=(t=e).n);return is=t,n}function Lt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function It(t,e){var n=Math.pow(10,3*ma(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Nt(t){var e=t.decimal,n=t.thousands,r=t.grouping,i=t.currency,o=r&&n?function(t,e){for(var i=t.length,o=[],a=0,s=r[0],l=0;i>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),o.push(t.substring(i-=s,i+s)),!((l+=s+1)>e));)s=r[a=(a+1)%r.length];return o.reverse().join(n)}:_t;return function(t){var n=cs.exec(t),r=n[1]||" ",a=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],h=n[7],f=n[8],d=n[9],p=1,g="",m="",v=!1,y=!0;switch(f&&(f=+f.substring(1)),(u||"0"===r&&"="===a)&&(u=r="0",a="="),d){case"n":h=!0,d="g";break;case"%":p=100,m="%",d="f";break;case"p":p=100,m="%",d="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+d.toLowerCase());case"c":y=!1;case"d":v=!0,f=0;break;case"s":p=-1,d="r"}"$"===l&&(g=i[0],m=i[1]),"r"!=d||f||(d="g"),null!=f&&("g"==d?f=Math.max(1,Math.min(21,f)):("e"==d||"f"==d)&&(f=Math.max(0,Math.min(20,f)))),d=hs.get(d)||Bt;var w=u&&h;return function(t){var n=m;if(v&&t%1)return"";var i=0>t||0===t&&0>1/t?(t=-t,"-"):"-"===s?"":s;if(0>p){var l=na.formatPrefix(t,f);t=l.scale(t),n=l.symbol+m}else t*=p;t=d(t,f);var b,x,C=t.lastIndexOf(".");if(0>C){var T=y?t.lastIndexOf("e"):-1;0>T?(b=t,x=""):(b=t.substring(0,T),x=t.substring(T))}else b=t.substring(0,C),x=e+t.substring(C+1);!u&&h&&(b=o(b,1/0));var E=g.length+b.length+x.length+(w?0:i.length),k=c>E?new Array(E=c-E+1).join(r):"";return w&&(b=o(k+b,k.length?c-x.length:1/0)),i+=g,t=b+x,("<"===a?i+t+k:">"===a?k+i+t:"^"===a?k.substring(0,E>>=1)+i+t+k.substring(E):i+(w?t:k+t))+n}}}function Bt(t){return t+""}function Ht(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Ft(t,e,n){function r(e){var n=t(e),r=o(n,1);return r-e>e-n?n:r}function i(n){return e(n=t(new ds(n-1)),1),n}function o(t,n){return e(t=new ds(+t),n),t}function a(t,r,o){var a=i(t),s=[];if(o>1)for(;r>a;)n(a)%o||s.push(new Date(+a)),e(a,1);else for(;r>a;)s.push(new Date(+a)),e(a,1);return s}function s(t,e,n){try{ds=Ht;var r=new Ht;return r._=t,a(r,e,n)}finally{ds=Date}}t.floor=t,t.round=r,t.ceil=i,t.offset=o,t.range=a;var l=t.utc=Vt(t);return l.floor=l,l.round=Vt(r),l.ceil=Vt(i),l.offset=Vt(o),l.range=s,t}function Vt(t){return function(e,n){try{ds=Ht;var r=new Ht;return r._=e,t(r,n)._}finally{ds=Date}}}function qt(t){function e(t){function e(e){for(var n,i,o,a=[],s=-1,l=0;++s<r;)37===t.charCodeAt(s)&&(a.push(t.slice(l,s)),null!=(i=gs[n=t.charAt(++s)])&&(n=t.charAt(++s)),(o=$[n])&&(n=o(e,null==i?"e"===n?" ":"0":i)),a.push(n),l=s+1);return a.push(t.slice(l,s)),a.join("")}var r=t.length;return e.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},i=n(r,t,e,0);if(i!=e.length)return null;"p"in r&&(r.H=r.H%12+12*r.p);var o=null!=r.Z&&ds!==Ht,a=new(o?Ht:ds);return"j"in r?a.setFullYear(r.y,0,r.j):"w"in r&&("W"in r||"U"in r)?(a.setFullYear(r.y,0,1),a.setFullYear(r.y,0,"W"in r?(r.w+6)%7+7*r.W-(a.getDay()+5)%7:r.w+7*r.U-(a.getDay()+6)%7)):a.setFullYear(r.y,r.m,r.d),a.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),o?a._:a},e.toString=function(){return t},e}function n(t,e,n,r){for(var i,o,a,s=0,l=e.length,u=n.length;l>s;){if(r>=u)return-1;if(i=e.charCodeAt(s++),37===i){if(a=e.charAt(s++),o=A[a in gs?e.charAt(s++):a],!o||(r=o(t,n,r))<0)return-1}else if(i!=n.charCodeAt(r++))return-1}return r}function r(t,e,n){C.lastIndex=0;var r=C.exec(e.slice(n));return r?(t.w=T.get(r[0].toLowerCase()),n+r[0].length):-1}function i(t,e,n){b.lastIndex=0;var r=b.exec(e.slice(n));return r?(t.w=x.get(r[0].toLowerCase()),n+r[0].length):-1}function o(t,e,n){S.lastIndex=0;var r=S.exec(e.slice(n));return r?(t.m=_.get(r[0].toLowerCase()),n+r[0].length):-1}function a(t,e,n){E.lastIndex=0;var r=E.exec(e.slice(n));return r?(t.m=k.get(r[0].toLowerCase()),n+r[0].length):-1}function s(t,e,r){return n(t,$.c.toString(),e,r)}function l(t,e,r){return n(t,$.x.toString(),e,r)}function u(t,e,r){return n(t,$.X.toString(),e,r)}function c(t,e,n){var r=w.get(e.slice(n,n+=2).toLowerCase());return null==r?-1:(t.p=r,n)}var h=t.dateTime,f=t.date,d=t.time,p=t.periods,g=t.days,m=t.shortDays,v=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{ds=Ht;var e=new ds;return e._=t,r(e)}finally{ds=Date}}var r=e(t);return n.parse=function(t){try{ds=Ht;var e=r.parse(t);return e&&e._}finally{ds=Date}},n.toString=r.toString,n},e.multi=e.utc.multi=le;var w=na.map(),b=zt(g),x=Wt(g),C=zt(m),T=Wt(m),E=zt(v),k=Wt(v),S=zt(y),_=Wt(y);p.forEach(function(t,e){w.set(t.toLowerCase(),e)});var $={a:function(t){return m[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return v[t.getMonth()]},c:e(h),d:function(t,e){return jt(t.getDate(),e,2)},e:function(t,e){return jt(t.getDate(),e,2)},H:function(t,e){return jt(t.getHours(),e,2)},I:function(t,e){return jt(t.getHours()%12||12,e,2)},j:function(t,e){return jt(1+fs.dayOfYear(t),e,3)},L:function(t,e){return jt(t.getMilliseconds(),e,3)},m:function(t,e){return jt(t.getMonth()+1,e,2)},M:function(t,e){return jt(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return jt(t.getSeconds(),e,2)},U:function(t,e){return jt(fs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return jt(fs.mondayOfYear(t),e,2)},x:e(f),X:e(d),y:function(t,e){return jt(t.getFullYear()%100,e,2)},Y:function(t,e){return jt(t.getFullYear()%1e4,e,4)},Z:ae,"%":function(){return"%"}},A={a:r,A:i,b:o,B:a,c:s,d:te,e:te,H:ne,I:ne,j:ee,L:oe,m:Qt,M:re,p:c,S:ie,U:Yt,w:Ut,W:Xt,x:l,X:u,y:Kt,Y:Gt,Z:Zt,"%":se};return e}function jt(t,e,n){var r=0>t?"-":"",i=(r?-t:t)+"",o=i.length;return r+(n>o?new Array(n-o+1).join(e)+i:i)}function zt(t){return new RegExp("^(?:"+t.map(na.requote).join("|")+")","i")}function Wt(t){for(var e=new s,n=-1,r=t.length;++n<r;)e.set(t[n].toLowerCase(),n);return e}function Ut(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Yt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n));return r?(t.U=+r[0],n+r[0].length):-1}function Xt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n));return r?(t.W=+r[0],n+r[0].length):-1}function Gt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Kt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.y=Jt(+r[0]),n+r[0].length):-1}function Zt(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function Jt(t){return t+(t>68?1900:2e3)}function Qt(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function te(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function ee(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+3));return r?(t.j=+r[0],n+r[0].length):-1}function ne(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function re(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function ie(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function oe(t,e,n){ms.lastIndex=0;var r=ms.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function ae(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",r=ma(e)/60|0,i=ma(e)%60;return n+jt(r,"0",2)+jt(i,"0",2)}function se(t,e,n){vs.lastIndex=0;var r=vs.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function le(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,r=t[n];!r[1](e);)r=t[++n];return r[0](e)}}function ue(){}function ce(t,e,n){var r=n.s=t+e,i=r-t,o=r-i;n.t=t-o+(e-i)}function he(t,e){t&&xs.hasOwnProperty(t.type)&&xs[t.type](t,e)}function fe(t,e,n){var r,i=-1,o=t.length-n;for(e.lineStart();++i<o;)r=t[i],e.point(r[0],r[1],r[2]);e.lineEnd()}function de(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)fe(t[n],e,1);e.polygonEnd()}function pe(){function t(t,e){t*=Fa,e=e*Fa/2+Ia/4;var n=t-r,a=n>=0?1:-1,s=a*n,l=Math.cos(e),u=Math.sin(e),c=o*u,h=i*l+c*Math.cos(s),f=c*a*Math.sin(s);Ts.add(Math.atan2(f,h)),r=t,i=l,o=u}var e,n,r,i,o;Es.point=function(a,s){Es.point=t,r=(e=a)*Fa,i=Math.cos(s=(n=s)*Fa/2+Ia/4),o=Math.sin(s)},Es.lineEnd=function(){t(e,n)}}function ge(t){var e=t[0],n=t[1],r=Math.cos(n);return[r*Math.cos(e),r*Math.sin(e),Math.sin(n)]}function me(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function ve(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function ye(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function we(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function be(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function xe(t){return[Math.atan2(t[1],t[0]),et(t[2])]}function Ce(t,e){return ma(t[0]-e[0])<Oa&&ma(t[1]-e[1])<Oa}function Te(t,e){t*=Fa;var n=Math.cos(e*=Fa);Ee(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Ee(t,e,n){++ks,_s+=(t-_s)/ks,$s+=(e-$s)/ks,As+=(n-As)/ks}function ke(){function t(t,i){t*=Fa;var o=Math.cos(i*=Fa),a=o*Math.cos(t),s=o*Math.sin(t),l=Math.sin(i),u=Math.atan2(Math.sqrt((u=n*l-r*s)*u+(u=r*a-e*l)*u+(u=e*s-n*a)*u),e*a+n*s+r*l);Ss+=u,Ds+=u*(e+(e=a)),Ms+=u*(n+(n=s)),Rs+=u*(r+(r=l)),Ee(e,n,r)}var e,n,r;Is.point=function(i,o){i*=Fa;var a=Math.cos(o*=Fa);e=a*Math.cos(i),n=a*Math.sin(i),r=Math.sin(o),Is.point=t,Ee(e,n,r)}}function Se(){Is.point=Te}function _e(){function t(t,e){t*=Fa;var n=Math.cos(e*=Fa),a=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=i*l-o*s,c=o*a-r*l,h=r*s-i*a,f=Math.sqrt(u*u+c*c+h*h),d=r*a+i*s+o*l,p=f&&-tt(d)/f,g=Math.atan2(f,d);Ps+=p*u,Os+=p*c,Ls+=p*h,Ss+=g,Ds+=g*(r+(r=a)),Ms+=g*(i+(i=s)),Rs+=g*(o+(o=l)),Ee(r,i,o)}var e,n,r,i,o;Is.point=function(a,s){e=a,n=s,Is.point=t,a*=Fa;var l=Math.cos(s*=Fa);r=l*Math.cos(a),i=l*Math.sin(a),o=Math.sin(s),Ee(r,i,o)},Is.lineEnd=function(){t(e,n),Is.lineEnd=Se,Is.point=Te}}function $e(t,e){function n(n,r){return n=t(n,r),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,r){return n=e.invert(n,r),n&&t.invert(n[0],n[1])}),n}function Ae(){return!0}function De(t,e,n,r,i){var o=[],a=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],r=t[e];if(Ce(n,r)){i.lineStart();for(var s=0;e>s;++s)i.point((n=t[s])[0],n[1]);return void i.lineEnd()}var l=new Re(n,t,null,!0),u=new Re(n,null,l,!1);l.o=u,o.push(l),a.push(u),l=new Re(r,t,null,!1),u=new Re(r,null,l,!0),l.o=u,o.push(l),a.push(u)}}),a.sort(e),Me(o),Me(a),o.length){for(var s=0,l=n,u=a.length;u>s;++s)a[s].e=l=!l;for(var c,h,f=o[0];;){for(var d=f,p=!0;d.v;)if((d=d.n)===f)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(p)for(var s=0,u=c.length;u>s;++s)i.point((h=c[s])[0],h[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(p){c=d.p.z;for(var s=c.length-1;s>=0;--s)i.point((h=c[s])[0],h[1])}else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,p=!p}while(!d.v);i.lineEnd()}}}function Me(t){if(e=t.length){for(var e,n,r=0,i=t[0];++r<e;)i.n=n=t[r],n.p=i,i=n;i.n=n=t[0],n.p=i}}function Re(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Pe(t,e,n,r){return function(i,o){function a(e,n){var r=i(e,n);t(e=r[0],n=r[1])&&o.point(e,n)}function s(t,e){var n=i(t,e);m.point(n[0],n[1])}function l(){y.point=s,m.lineStart()}function u(){y.point=a,m.lineEnd()}function c(t,e){g.push([t,e]);var n=i(t,e);b.point(n[0],n[1])}function h(){b.lineStart(),g=[]}function f(){c(g[0][0],g[0][1]),b.lineEnd();var t,e=b.clean(),n=w.buffer(),r=n.length;if(g.pop(),p.push(g),g=null,r)if(1&e){t=n[0];var i,r=t.length-1,a=-1;if(r>0){for(x||(o.polygonStart(),x=!0),o.lineStart();++a<r;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else r>1&&2&e&&n.push(n.pop().concat(n.shift())),d.push(n.filter(Oe))}var d,p,g,m=e(o),v=i.invert(r[0],r[1]),y={point:a,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=h,y.lineEnd=f,d=[],p=[]},polygonEnd:function(){y.point=a,y.lineStart=l,y.lineEnd=u,d=na.merge(d);var t=Fe(v,p);d.length?(x||(o.polygonStart(),x=!0),De(d,Ie,t,n,o)):t&&(x||(o.polygonStart(),x=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),x&&(o.polygonEnd(),x=!1),d=p=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}},w=Le(),b=e(w),x=!1;return y}}function Oe(t){return t.length>1}function Le(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:y,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function Ie(t,e){return((t=t.x)[0]<0?t[1]-Ha-Oa:Ha-t[1])-((e=e.x)[0]<0?e[1]-Ha-Oa:Ha-e[1])}function Ne(t){var e,n=0/0,r=0/0,i=0/0;return{lineStart:function(){t.lineStart(),e=1},point:function(o,a){var s=o>0?Ia:-Ia,l=ma(o-n);ma(l-Ia)<Oa?(t.point(n,r=(r+a)/2>0?Ha:-Ha),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),t.point(o,r),e=0):i!==s&&l>=Ia&&(ma(n-i)<Oa&&(n-=i*Oa),ma(o-s)<Oa&&(o-=s*Oa),r=Be(n,r,o,a),t.point(i,r),t.lineEnd(),t.lineStart(),t.point(s,r),e=0),t.point(n=o,r=a),i=s},lineEnd:function(){t.lineEnd(),n=r=0/0},clean:function(){return 2-e}}}function Be(t,e,n,r){var i,o,a=Math.sin(t-n);return ma(a)>Oa?Math.atan((Math.sin(e)*(o=Math.cos(r))*Math.sin(n)-Math.sin(r)*(i=Math.cos(e))*Math.sin(t))/(i*o*a)):(e+r)/2}function He(t,e,n,r){var i;if(null==t)i=n*Ha,r.point(-Ia,i),r.point(0,i),r.point(Ia,i),r.point(Ia,0),r.point(Ia,-i),r.point(0,-i),r.point(-Ia,-i),r.point(-Ia,0),r.point(-Ia,i);else if(ma(t[0]-e[0])>Oa){var o=t[0]<e[0]?Ia:-Ia;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function Fe(t,e){var n=t[0],r=t[1],i=[Math.sin(n),-Math.cos(n),0],o=0,a=0;Ts.reset();for(var s=0,l=e.length;l>s;++s){var u=e[s],c=u.length;if(c)for(var h=u[0],f=h[0],d=h[1]/2+Ia/4,p=Math.sin(d),g=Math.cos(d),m=1;;){m===c&&(m=0),t=u[m];var v=t[0],y=t[1]/2+Ia/4,w=Math.sin(y),b=Math.cos(y),x=v-f,C=x>=0?1:-1,T=C*x,E=T>Ia,k=p*w;if(Ts.add(Math.atan2(k*C*Math.sin(T),g*b+k*Math.cos(T))),o+=E?x+C*Na:x,E^f>=n^v>=n){var S=ve(ge(h),ge(t));be(S);var _=ve(i,S);be(_);var $=(E^x>=0?-1:1)*et(_[2]);(r>$||r===$&&(S[0]||S[1]))&&(a+=E^x>=0?1:-1)}if(!m++)break;f=v,p=w,g=b,h=t}}return(-Oa>o||Oa>o&&0>Ts)^1&a}function Ve(t){function e(t,e){return Math.cos(t)*Math.cos(e)>o}function n(t){var n,o,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,f){var d,p=[h,f],g=e(h,f),m=a?g?0:i(h,f):g?i(h+(0>h?Ia:-Ia),f):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(d=r(n,p),(Ce(n,d)||Ce(p,d))&&(p[0]+=Oa,p[1]+=Oa,g=e(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),d=r(p,n),t.point(d[0],d[1])):(d=r(n,p),t.point(d[0],d[1]),t.lineEnd()),n=d;else if(s&&n&&a^g){var v;m&o||!(v=r(p,n,!0))||(c=0,a?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||n&&Ce(n,p)||t.point(p[0],p[1]),n=p,l=g,o=m},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function r(t,e,n){var r=ge(t),i=ge(e),a=[1,0,0],s=ve(r,i),l=me(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var h=o*l/c,f=-o*u/c,d=ve(a,s),p=we(a,h),g=we(s,f);ye(p,g);var m=d,v=me(p,m),y=me(m,m),w=v*v-y*(me(p,p)-1);if(!(0>w)){var b=Math.sqrt(w),x=we(m,(-v-b)/y);if(ye(x,p),x=xe(x),!n)return x;var C,T=t[0],E=e[0],k=t[1],S=e[1];T>E&&(C=T,T=E,E=C);var _=E-T,$=ma(_-Ia)<Oa,A=$||Oa>_;if(!$&&k>S&&(C=k,k=S,S=C),A?$?k+S>0^x[1]<(ma(x[0]-T)<Oa?k:S):k<=x[1]&&x[1]<=S:_>Ia^(T<=x[0]&&x[0]<=E)){var D=we(m,(-v+b)/y);return ye(D,p),[x,xe(D)]}}}function i(e,n){var r=a?t:Ia-t,i=0;return-r>e?i|=1:e>r&&(i|=2),-r>n?i|=4:n>r&&(i|=8),i}var o=Math.cos(t),a=o>0,s=ma(o)>Oa,l=gn(t,6*Fa);return Pe(e,n,l,a?[0,-t]:[-Ia,t-Ia])}function qe(t,e,n,r){return function(i){var o,a=i.a,s=i.b,l=a.x,u=a.y,c=s.x,h=s.y,f=0,d=1,p=c-l,g=h-u;if(o=t-l,p||!(o>0)){if(o/=p,0>p){if(f>o)return;d>o&&(d=o)}else if(p>0){if(o>d)return;o>f&&(f=o)}if(o=n-l,p||!(0>o)){if(o/=p,0>p){if(o>d)return;o>f&&(f=o)}else if(p>0){if(f>o)return;d>o&&(d=o)}if(o=e-u,g||!(o>0)){if(o/=g,0>g){if(f>o)return;d>o&&(d=o)}else if(g>0){if(o>d)return;o>f&&(f=o)}if(o=r-u,g||!(0>o)){if(o/=g,0>g){if(o>d)return;o>f&&(f=o)}else if(g>0){if(f>o)return;d>o&&(d=o)}return f>0&&(i.a={x:l+f*p,y:u+f*g}),1>d&&(i.b={x:l+d*p,y:u+d*g}),i}}}}}}function je(t,e,n,r){function i(r,i){return ma(r[0]-t)<Oa?i>0?0:3:ma(r[0]-n)<Oa?i>0?2:1:ma(r[1]-e)<Oa?i>0?1:0:i>0?3:2}function o(t,e){return a(t.x,e.x)}function a(t,e){var n=i(t,1),r=i(e,1);return n!==r?n-r:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=m.length,r=t[1],i=0;n>i;++i)for(var o,a=1,s=m[i],l=s.length,u=s[0];l>a;++a)o=s[a],u[1]<=r?o[1]>r&&Q(u,o,t)>0&&++e:o[1]<=r&&Q(u,o,t)<0&&--e,u=o;return 0!==e}function u(o,s,l,u){var c=0,h=0;if(null==o||(c=i(o,l))!==(h=i(s,l))||a(o,s)<0^l>0){do u.point(0===c||3===c?t:n,c>1?r:e);
while((c=(c+l+4)%4)!==h)}else u.point(s[0],s[1])}function c(i,o){return i>=t&&n>=i&&o>=e&&r>=o}function h(t,e){c(t,e)&&s.point(t,e)}function f(){A.point=p,m&&m.push(v=[]),E=!0,T=!1,x=C=0/0}function d(){g&&(p(y,w),b&&T&&_.rejoin(),g.push(_.buffer())),A.point=h,T&&s.lineEnd()}function p(t,e){t=Math.max(-Bs,Math.min(Bs,t)),e=Math.max(-Bs,Math.min(Bs,e));var n=c(t,e);if(m&&v.push([t,e]),E)y=t,w=e,b=n,E=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&T)s.point(t,e);else{var r={a:{x:x,y:C},b:{x:t,y:e}};$(r)?(T||(s.lineStart(),s.point(r.a.x,r.a.y)),s.point(r.b.x,r.b.y),n||s.lineEnd(),k=!1):n&&(s.lineStart(),s.point(t,e),k=!1)}x=t,C=e,T=n}var g,m,v,y,w,b,x,C,T,E,k,S=s,_=Le(),$=qe(t,e,n,r),A={point:h,lineStart:f,lineEnd:d,polygonStart:function(){s=_,g=[],m=[],k=!0},polygonEnd:function(){s=S,g=na.merge(g);var e=l([t,r]),n=k&&e,i=g.length;(n||i)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),i&&De(g,o,e,u,s),s.polygonEnd()),g=m=v=null}};return A}}function ze(t){var e=0,n=Ia/3,r=sn(t),i=r(e,n);return i.parallels=function(t){return arguments.length?r(e=t[0]*Ia/180,n=t[1]*Ia/180):[e/Ia*180,n/Ia*180]},i}function We(t,e){function n(t,e){var n=Math.sqrt(o-2*i*Math.sin(e))/i;return[n*Math.sin(t*=i),a-n*Math.cos(t)]}var r=Math.sin(t),i=(r+Math.sin(e))/2,o=1+r*(2*i-r),a=Math.sqrt(o)/i;return n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/i,et((o-(t*t+n*n)*i*i)/(2*i))]},n}function Ue(){function t(t,e){Fs+=i*t-r*e,r=t,i=e}var e,n,r,i;Ws.point=function(o,a){Ws.point=t,e=r=o,n=i=a},Ws.lineEnd=function(){t(e,n)}}function Ye(t,e){Vs>t&&(Vs=t),t>js&&(js=t),qs>e&&(qs=e),e>zs&&(zs=e)}function Xe(){function t(t,e){a.push("M",t,",",e,o)}function e(t,e){a.push("M",t,",",e),s.point=n}function n(t,e){a.push("L",t,",",e)}function r(){s.point=t}function i(){a.push("Z")}var o=Ge(4.5),a=[],s={point:t,lineStart:function(){s.point=e},lineEnd:r,polygonStart:function(){s.lineEnd=i},polygonEnd:function(){s.lineEnd=r,s.point=t},pointRadius:function(t){return o=Ge(t),s},result:function(){if(a.length){var t=a.join("");return a=[],t}}};return s}function Ge(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function Ke(t,e){_s+=t,$s+=e,++As}function Ze(){function t(t,r){var i=t-e,o=r-n,a=Math.sqrt(i*i+o*o);Ds+=a*(e+t)/2,Ms+=a*(n+r)/2,Rs+=a,Ke(e=t,n=r)}var e,n;Ys.point=function(r,i){Ys.point=t,Ke(e=r,n=i)}}function Je(){Ys.point=Ke}function Qe(){function t(t,e){var n=t-r,o=e-i,a=Math.sqrt(n*n+o*o);Ds+=a*(r+t)/2,Ms+=a*(i+e)/2,Rs+=a,a=i*t-r*e,Ps+=a*(r+t),Os+=a*(i+e),Ls+=3*a,Ke(r=t,i=e)}var e,n,r,i;Ys.point=function(o,a){Ys.point=t,Ke(e=r=o,n=i=a)},Ys.lineEnd=function(){t(e,n)}}function tn(t){function e(e,n){t.moveTo(e+a,n),t.arc(e,n,a,0,Na)}function n(e,n){t.moveTo(e,n),s.point=r}function r(e,n){t.lineTo(e,n)}function i(){s.point=e}function o(){t.closePath()}var a=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:i,polygonStart:function(){s.lineEnd=o},polygonEnd:function(){s.lineEnd=i,s.point=e},pointRadius:function(t){return a=t,s},result:y};return s}function en(t){function e(t){return(s?r:n)(t)}function n(e){return on(e,function(n,r){n=t(n,r),e.point(n[0],n[1])})}function r(e){function n(n,r){n=t(n,r),e.point(n[0],n[1])}function r(){w=0/0,E.point=o,e.lineStart()}function o(n,r){var o=ge([n,r]),a=t(n,r);i(w,b,y,x,C,T,w=a[0],b=a[1],y=n,x=o[0],C=o[1],T=o[2],s,e),e.point(w,b)}function a(){E.point=n,e.lineEnd()}function l(){r(),E.point=u,E.lineEnd=c}function u(t,e){o(h=t,f=e),d=w,p=b,g=x,m=C,v=T,E.point=o}function c(){i(w,b,y,x,C,T,d,p,h,g,m,v,s,e),E.lineEnd=a,a()}var h,f,d,p,g,m,v,y,w,b,x,C,T,E={point:n,lineStart:r,lineEnd:a,polygonStart:function(){e.polygonStart(),E.lineStart=l},polygonEnd:function(){e.polygonEnd(),E.lineStart=r}};return E}function i(e,n,r,s,l,u,c,h,f,d,p,g,m,v){var y=c-e,w=h-n,b=y*y+w*w;if(b>4*o&&m--){var x=s+d,C=l+p,T=u+g,E=Math.sqrt(x*x+C*C+T*T),k=Math.asin(T/=E),S=ma(ma(T)-1)<Oa||ma(r-f)<Oa?(r+f)/2:Math.atan2(C,x),_=t(S,k),$=_[0],A=_[1],D=$-e,M=A-n,R=w*D-y*M;(R*R/b>o||ma((y*D+w*M)/b-.5)>.3||a>s*d+l*p+u*g)&&(i(e,n,r,s,l,u,$,A,S,x/=E,C/=E,T,m,v),v.point($,A),i($,A,S,x,C,T,c,h,f,d,p,g,m,v))}}var o=.5,a=Math.cos(30*Fa),s=16;return e.precision=function(t){return arguments.length?(s=(o=t*t)>0&&16,e):Math.sqrt(o)},e}function nn(t){var e=en(function(e,n){return t([e*Va,n*Va])});return function(t){return ln(e(t))}}function rn(t){this.stream=t}function on(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function an(t){return sn(function(){return t})()}function sn(t){function e(t){return t=s(t[0]*Fa,t[1]*Fa),[t[0]*f+l,u-t[1]*f]}function n(t){return t=s.invert((t[0]-l)/f,(u-t[1])/f),t&&[t[0]*Va,t[1]*Va]}function r(){s=$e(a=hn(v,y,w),o);var t=o(g,m);return l=d-t[0]*f,u=p+t[1]*f,i()}function i(){return c&&(c.valid=!1,c=null),e}var o,a,s,l,u,c,h=en(function(t,e){return t=o(t,e),[t[0]*f+l,u-t[1]*f]}),f=150,d=480,p=250,g=0,m=0,v=0,y=0,w=0,b=Ns,x=_t,C=null,T=null;return e.stream=function(t){return c&&(c.valid=!1),c=ln(b(a,h(x(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(C=t,Ns):Ve((C=+t)*Fa),i()):C},e.clipExtent=function(t){return arguments.length?(T=t,x=t?je(t[0][0],t[0][1],t[1][0],t[1][1]):_t,i()):T},e.scale=function(t){return arguments.length?(f=+t,r()):f},e.translate=function(t){return arguments.length?(d=+t[0],p=+t[1],r()):[d,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Fa,m=t[1]%360*Fa,r()):[g*Va,m*Va]},e.rotate=function(t){return arguments.length?(v=t[0]%360*Fa,y=t[1]%360*Fa,w=t.length>2?t[2]%360*Fa:0,r()):[v*Va,y*Va,w*Va]},na.rebind(e,h,"precision"),function(){return o=t.apply(this,arguments),e.invert=o.invert&&n,r()}}function ln(t){return on(t,function(e,n){t.point(e*Fa,n*Fa)})}function un(t,e){return[t,e]}function cn(t,e){return[t>Ia?t-Na:-Ia>t?t+Na:t,e]}function hn(t,e,n){return t?e||n?$e(dn(t),pn(e,n)):dn(t):e||n?pn(e,n):cn}function fn(t){return function(e,n){return e+=t,[e>Ia?e-Na:-Ia>e?e+Na:e,n]}}function dn(t){var e=fn(t);return e.invert=fn(-t),e}function pn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*r+s*i;return[Math.atan2(l*o-c*a,s*r-u*i),et(c*o+l*a)]}var r=Math.cos(t),i=Math.sin(t),o=Math.cos(e),a=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*o-l*a;return[Math.atan2(l*o+u*a,s*r+c*i),et(c*r-s*i)]},n}function gn(t,e){var n=Math.cos(t),r=Math.sin(t);return function(i,o,a,s){var l=a*e;null!=i?(i=mn(n,i),o=mn(n,o),(a>0?o>i:i>o)&&(i+=a*Na)):(i=t+a*Na,o=t-.5*l);for(var u,c=i;a>0?c>o:o>c;c-=l)s.point((u=xe([n,-r*Math.cos(c),-r*Math.sin(c)]))[0],u[1])}}function mn(t,e){var n=ge(e);n[0]-=t,be(n);var r=tt(-n[1]);return((-n[2]<0?-r:r)+2*Math.PI-Oa)%(2*Math.PI)}function vn(t,e,n){var r=na.range(t,e-Oa,n).concat(e);return function(t){return r.map(function(e){return[t,e]})}}function yn(t,e,n){var r=na.range(t,e-Oa,n).concat(e);return function(t){return r.map(function(e){return[e,t]})}}function wn(t){return t.source}function bn(t){return t.target}function xn(t,e,n,r){var i=Math.cos(e),o=Math.sin(e),a=Math.cos(r),s=Math.sin(r),l=i*Math.cos(t),u=i*Math.sin(t),c=a*Math.cos(n),h=a*Math.sin(n),f=2*Math.asin(Math.sqrt(ot(r-e)+i*a*ot(n-t))),d=1/Math.sin(f),p=f?function(t){var e=Math.sin(t*=f)*d,n=Math.sin(f-t)*d,r=n*l+e*c,i=n*u+e*h,a=n*o+e*s;return[Math.atan2(i,r)*Va,Math.atan2(a,Math.sqrt(r*r+i*i))*Va]}:function(){return[t*Va,e*Va]};return p.distance=f,p}function Cn(){function t(t,i){var o=Math.sin(i*=Fa),a=Math.cos(i),s=ma((t*=Fa)-e),l=Math.cos(s);Xs+=Math.atan2(Math.sqrt((s=a*Math.sin(s))*s+(s=r*o-n*a*l)*s),n*o+r*a*l),e=t,n=o,r=a}var e,n,r;Gs.point=function(i,o){e=i*Fa,n=Math.sin(o*=Fa),r=Math.cos(o),Gs.point=t},Gs.lineEnd=function(){Gs.point=Gs.lineEnd=y}}function Tn(t,e){function n(e,n){var r=Math.cos(e),i=Math.cos(n),o=t(r*i);return[o*i*Math.sin(e),o*Math.sin(n)]}return n.invert=function(t,n){var r=Math.sqrt(t*t+n*n),i=e(r),o=Math.sin(i),a=Math.cos(i);return[Math.atan2(t*o,r*a),Math.asin(r&&n*o/r)]},n}function En(t,e){function n(t,e){a>0?-Ha+Oa>e&&(e=-Ha+Oa):e>Ha-Oa&&(e=Ha-Oa);var n=a/Math.pow(i(e),o);return[n*Math.sin(o*t),a-n*Math.cos(o*t)]}var r=Math.cos(t),i=function(t){return Math.tan(Ia/4+t/2)},o=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(i(e)/i(t)),a=r*Math.pow(i(t),o)/o;return o?(n.invert=function(t,e){var n=a-e,r=J(o)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/o,2*Math.atan(Math.pow(a/r,1/o))-Ha]},n):Sn}function kn(t,e){function n(t,e){var n=o-e;return[n*Math.sin(i*t),o-n*Math.cos(i*t)]}var r=Math.cos(t),i=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),o=r/i+t;return ma(i)<Oa?un:(n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/i,o-J(i)*Math.sqrt(t*t+n*n)]},n)}function Sn(t,e){return[t,Math.log(Math.tan(Ia/4+e/2))]}function _n(t){var e,n=an(t),r=n.scale,i=n.translate,o=n.clipExtent;return n.scale=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var a=o.apply(n,arguments);if(a===n){if(e=null==t){var s=Ia*r(),l=i();o([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(a=null);return a},n.clipExtent(null)}function $n(t,e){return[Math.log(Math.tan(Ia/4+e/2)),-t]}function An(t){return t[0]}function Dn(t){return t[1]}function Mn(t){for(var e=t.length,n=[0,1],r=2,i=2;e>i;i++){for(;r>1&&Q(t[n[r-2]],t[n[r-1]],t[i])<=0;)--r;n[r++]=i}return n.slice(0,r)}function Rn(t,e){return t[0]-e[0]||t[1]-e[1]}function Pn(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function On(t,e,n,r){var i=t[0],o=n[0],a=e[0]-i,s=r[0]-o,l=t[1],u=n[1],c=e[1]-l,h=r[1]-u,f=(s*(l-u)-h*(i-o))/(h*a-s*c);return[i+f*a,l+f*c]}function Ln(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function In(){rr(this),this.edge=this.site=this.circle=null}function Nn(t){var e=sl.pop()||new In;return e.site=t,e}function Bn(t){Xn(t),il.remove(t),sl.push(t),rr(t)}function Hn(t){var e=t.circle,n=e.x,r=e.cy,i={x:n,y:r},o=t.P,a=t.N,s=[t];Bn(t);for(var l=o;l.circle&&ma(n-l.circle.x)<Oa&&ma(r-l.circle.cy)<Oa;)o=l.P,s.unshift(l),Bn(l),l=o;s.unshift(l),Xn(l);for(var u=a;u.circle&&ma(n-u.circle.x)<Oa&&ma(r-u.circle.cy)<Oa;)a=u.N,s.push(u),Bn(u),u=a;s.push(u),Xn(u);var c,h=s.length;for(c=1;h>c;++c)u=s[c],l=s[c-1],tr(u.edge,l.site,u.site,i);l=s[0],u=s[h-1],u.edge=Jn(l.site,u.site,null,i),Yn(l),Yn(u)}function Fn(t){for(var e,n,r,i,o=t.x,a=t.y,s=il._;s;)if(r=Vn(s,a)-o,r>Oa)s=s.L;else{if(i=o-qn(s,a),!(i>Oa)){r>-Oa?(e=s.P,n=s):i>-Oa?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=Nn(t);if(il.insert(e,l),e||n){if(e===n)return Xn(e),n=Nn(e.site),il.insert(l,n),l.edge=n.edge=Jn(e.site,l.site),Yn(e),void Yn(n);if(!n)return void(l.edge=Jn(e.site,l.site));Xn(e),Xn(n);var u=e.site,c=u.x,h=u.y,f=t.x-c,d=t.y-h,p=n.site,g=p.x-c,m=p.y-h,v=2*(f*m-d*g),y=f*f+d*d,w=g*g+m*m,b={x:(m*y-d*w)/v+c,y:(f*w-g*y)/v+h};tr(n.edge,u,p,b),l.edge=Jn(u,t,null,b),n.edge=Jn(t,p,null,b),Yn(e),Yn(n)}}function Vn(t,e){var n=t.site,r=n.x,i=n.y,o=i-e;if(!o)return r;var a=t.P;if(!a)return-(1/0);n=a.site;var s=n.x,l=n.y,u=l-e;if(!u)return s;var c=s-r,h=1/o-1/u,f=c/u;return h?(-f+Math.sqrt(f*f-2*h*(c*c/(-2*u)-l+u/2+i-o/2)))/h+r:(r+s)/2}function qn(t,e){var n=t.N;if(n)return Vn(n,e);var r=t.site;return r.y===e?r.x:1/0}function jn(t){this.site=t,this.edges=[]}function zn(t){for(var e,n,r,i,o,a,s,l,u,c,h=t[0][0],f=t[1][0],d=t[0][1],p=t[1][1],g=rl,m=g.length;m--;)if(o=g[m],o&&o.prepare())for(s=o.edges,l=s.length,a=0;l>a;)c=s[a].end(),r=c.x,i=c.y,u=s[++a%l].start(),e=u.x,n=u.y,(ma(r-e)>Oa||ma(i-n)>Oa)&&(s.splice(a,0,new er(Qn(o.site,c,ma(r-h)<Oa&&p-i>Oa?{x:h,y:ma(e-h)<Oa?n:p}:ma(i-p)<Oa&&f-r>Oa?{x:ma(n-p)<Oa?e:f,y:p}:ma(r-f)<Oa&&i-d>Oa?{x:f,y:ma(e-f)<Oa?n:d}:ma(i-d)<Oa&&r-h>Oa?{x:ma(n-d)<Oa?e:h,y:d}:null),o.site,null)),++l)}function Wn(t,e){return e.angle-t.angle}function Un(){rr(this),this.x=this.y=this.arc=this.site=this.cy=null}function Yn(t){var e=t.P,n=t.N;if(e&&n){var r=e.site,i=t.site,o=n.site;if(r!==o){var a=i.x,s=i.y,l=r.x-a,u=r.y-s,c=o.x-a,h=o.y-s,f=2*(l*h-u*c);if(!(f>=-La)){var d=l*l+u*u,p=c*c+h*h,g=(h*d-u*p)/f,m=(l*p-c*d)/f,h=m+s,v=ll.pop()||new Un;v.arc=t,v.site=i,v.x=g+a,v.y=h+Math.sqrt(g*g+m*m),v.cy=h,t.circle=v;for(var y=null,w=al._;w;)if(v.y<w.y||v.y===w.y&&v.x<=w.x){if(!w.L){y=w.P;break}w=w.L}else{if(!w.R){y=w;break}w=w.R}al.insert(y,v),y||(ol=v)}}}}function Xn(t){var e=t.circle;e&&(e.P||(ol=e.N),al.remove(e),ll.push(e),rr(e),t.circle=null)}function Gn(t){for(var e,n=nl,r=qe(t[0][0],t[0][1],t[1][0],t[1][1]),i=n.length;i--;)e=n[i],(!Kn(e,t)||!r(e)||ma(e.a.x-e.b.x)<Oa&&ma(e.a.y-e.b.y)<Oa)&&(e.a=e.b=null,n.splice(i,1))}function Kn(t,e){var n=t.b;if(n)return!0;var r,i,o=t.a,a=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,f=c.x,d=c.y,p=h.x,g=h.y,m=(f+p)/2,v=(d+g)/2;if(g===d){if(a>m||m>=s)return;if(f>p){if(o){if(o.y>=u)return}else o={x:m,y:l};n={x:m,y:u}}else{if(o){if(o.y<l)return}else o={x:m,y:u};n={x:m,y:l}}}else if(r=(f-p)/(g-d),i=v-r*m,-1>r||r>1)if(f>p){if(o){if(o.y>=u)return}else o={x:(l-i)/r,y:l};n={x:(u-i)/r,y:u}}else{if(o){if(o.y<l)return}else o={x:(u-i)/r,y:u};n={x:(l-i)/r,y:l}}else if(g>d){if(o){if(o.x>=s)return}else o={x:a,y:r*a+i};n={x:s,y:r*s+i}}else{if(o){if(o.x<a)return}else o={x:s,y:r*s+i};n={x:a,y:r*a+i}}return t.a=o,t.b=n,!0}function Zn(t,e){this.l=t,this.r=e,this.a=this.b=null}function Jn(t,e,n,r){var i=new Zn(t,e);return nl.push(i),n&&tr(i,t,e,n),r&&tr(i,e,t,r),rl[t.i].edges.push(new er(i,t,e)),rl[e.i].edges.push(new er(i,e,t)),i}function Qn(t,e,n){var r=new Zn(t,null);return r.a=e,r.b=n,nl.push(r),r}function tr(t,e,n,r){t.a||t.b?t.l===n?t.b=r:t.a=r:(t.a=r,t.l=e,t.r=n)}function er(t,e,n){var r=t.a,i=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(i.x-r.x,r.y-i.y):Math.atan2(r.x-i.x,i.y-r.y)}function nr(){this._=null}function rr(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ir(t,e){var n=e,r=e.R,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.R=r.L,n.R&&(n.R.U=n),r.L=n}function or(t,e){var n=e,r=e.L,i=n.U;i?i.L===n?i.L=r:i.R=r:t._=r,r.U=i,n.U=r,n.L=r.R,n.L&&(n.L.U=n),r.R=n}function ar(t){for(;t.L;)t=t.L;return t}function sr(t,e){var n,r,i,o=t.sort(lr).pop();for(nl=[],rl=new Array(t.length),il=new nr,al=new nr;;)if(i=ol,o&&(!i||o.y<i.y||o.y===i.y&&o.x<i.x))(o.x!==n||o.y!==r)&&(rl[o.i]=new jn(o),Fn(o),n=o.x,r=o.y),o=t.pop();else{if(!i)break;Hn(i.arc)}e&&(Gn(e),zn(e));var a={cells:rl,edges:nl};return il=al=nl=rl=null,a}function lr(t,e){return e.y-t.y||e.x-t.x}function ur(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function cr(t){return t.x}function hr(t){return t.y}function fr(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function dr(t,e,n,r,i,o){if(!t(e,n,r,i,o)){var a=.5*(n+i),s=.5*(r+o),l=e.nodes;l[0]&&dr(t,l[0],n,r,a,s),l[1]&&dr(t,l[1],a,r,i,s),l[2]&&dr(t,l[2],n,s,a,o),l[3]&&dr(t,l[3],a,s,i,o)}}function pr(t,e,n,r,i,o,a){var s,l=1/0;return function u(t,c,h,f,d){if(!(c>o||h>a||r>f||i>d)){if(p=t.point){var p,g=e-p[0],m=n-p[1],v=g*g+m*m;if(l>v){var y=Math.sqrt(l=v);r=e-y,i=n-y,o=e+y,a=n+y,s=p}}for(var w=t.nodes,b=.5*(c+f),x=.5*(h+d),C=e>=b,T=n>=x,E=T<<1|C,k=E+4;k>E;++E)if(t=w[3&E])switch(3&E){case 0:u(t,c,h,b,x);break;case 1:u(t,b,h,f,x);break;case 2:u(t,c,x,b,d);break;case 3:u(t,b,x,f,d)}}}(t,r,i,o,a),s}function gr(t,e){t=na.rgb(t),e=na.rgb(e);var n=t.r,r=t.g,i=t.b,o=e.r-n,a=e.g-r,s=e.b-i;return function(t){return"#"+bt(Math.round(n+o*t))+bt(Math.round(r+a*t))+bt(Math.round(i+s*t))}}function mr(t,e){var n,r={},i={};for(n in t)n in e?r[n]=wr(t[n],e[n]):i[n]=t[n];for(n in e)n in t||(i[n]=e[n]);return function(t){for(n in r)i[n]=r[n](t);return i}}function vr(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function yr(t,e){var n,r,i,o=cl.lastIndex=hl.lastIndex=0,a=-1,s=[],l=[];for(t+="",e+="";(n=cl.exec(t))&&(r=hl.exec(e));)(i=r.index)>o&&(i=e.slice(o,i),s[a]?s[a]+=i:s[++a]=i),(n=n[0])===(r=r[0])?s[a]?s[a]+=r:s[++a]=r:(s[++a]=null,l.push({i:a,x:vr(n,r)})),o=hl.lastIndex;return o<e.length&&(i=e.slice(o),s[a]?s[a]+=i:s[++a]=i),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,r=0;e>r;++r)s[(n=l[r]).i]=n.x(t);return s.join("")})}function wr(t,e){for(var n,r=na.interpolators.length;--r>=0&&!(n=na.interpolators[r](t,e)););return n}function br(t,e){var n,r=[],i=[],o=t.length,a=e.length,s=Math.min(t.length,e.length);for(n=0;s>n;++n)r.push(wr(t[n],e[n]));for(;o>n;++n)i[n]=t[n];for(;a>n;++n)i[n]=e[n];return function(t){for(n=0;s>n;++n)i[n]=r[n](t);return i}}function xr(t){return function(e){return 0>=e?0:e>=1?1:t(e)}}function Cr(t){return function(e){return 1-t(1-e)}}function Tr(t){return function(e){return.5*(.5>e?t(2*e):2-t(2-2*e))}}function Er(t){return t*t}function kr(t){return t*t*t}function Sr(t){if(0>=t)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(.5>t?n:3*(t-e)+n-.75)}function _r(t){return function(e){return Math.pow(e,t)}}function $r(t){return 1-Math.cos(t*Ha)}function Ar(t){return Math.pow(2,10*(t-1))}function Dr(t){return 1-Math.sqrt(1-t*t)}function Mr(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Na*Math.asin(1/t):(t=1,n=e/4),function(r){return 1+t*Math.pow(2,-10*r)*Math.sin((r-n)*Na/e)}}function Rr(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Pr(t){return 1/2.75>t?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Or(t,e){t=na.hcl(t),e=na.hcl(e);var n=t.h,r=t.c,i=t.l,o=e.h-n,a=e.c-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.c:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return ct(n+o*t,r+a*t,i+s*t)+""}}function Lr(t,e){t=na.hsl(t),e=na.hsl(e);var n=t.h,r=t.s,i=t.l,o=e.h-n,a=e.s-r,s=e.l-i;return isNaN(a)&&(a=0,r=isNaN(r)?e.s:r),isNaN(o)?(o=0,n=isNaN(n)?e.h:n):o>180?o-=360:-180>o&&(o+=360),function(t){return lt(n+o*t,r+a*t,i+s*t)+""}}function Ir(t,e){t=na.lab(t),e=na.lab(e);var n=t.l,r=t.a,i=t.b,o=e.l-n,a=e.a-r,s=e.b-i;return function(t){return ft(n+o*t,r+a*t,i+s*t)+""}}function Nr(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Br(t){var e=[t.a,t.b],n=[t.c,t.d],r=Fr(e),i=Hr(e,n),o=Fr(Vr(n,e,-i))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,r*=-1,i*=-1),this.rotate=(r?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Va,this.translate=[t.e,t.f],this.scale=[r,o],this.skew=o?Math.atan2(i,o)*Va:0}function Hr(t,e){return t[0]*e[0]+t[1]*e[1]}function Fr(t){var e=Math.sqrt(Hr(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Vr(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function qr(t,e){var n,r=[],i=[],o=na.transform(t),a=na.transform(e),s=o.translate,l=a.translate,u=o.rotate,c=a.rotate,h=o.skew,f=a.skew,d=o.scale,p=a.scale;return s[0]!=l[0]||s[1]!=l[1]?(r.push("translate(",null,",",null,")"),i.push({i:1,x:vr(s[0],l[0])},{i:3,x:vr(s[1],l[1])})):r.push(l[0]||l[1]?"translate("+l+")":""),u!=c?(u-c>180?c+=360:c-u>180&&(u+=360),i.push({i:r.push(r.pop()+"rotate(",null,")")-2,x:vr(u,c)})):c&&r.push(r.pop()+"rotate("+c+")"),h!=f?i.push({i:r.push(r.pop()+"skewX(",null,")")-2,x:vr(h,f)}):f&&r.push(r.pop()+"skewX("+f+")"),d[0]!=p[0]||d[1]!=p[1]?(n=r.push(r.pop()+"scale(",null,",",null,")"),i.push({i:n-4,x:vr(d[0],p[0])},{i:n-2,x:vr(d[1],p[1])})):(1!=p[0]||1!=p[1])&&r.push(r.pop()+"scale("+p+")"),n=i.length,function(t){for(var e,o=-1;++o<n;)r[(e=i[o]).i]=e.x(t);return r.join("")}}function jr(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function zr(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function Wr(t){for(var e=t.source,n=t.target,r=Yr(e,n),i=[e];e!==r;)e=e.parent,i.push(e);for(var o=i.length;n!==r;)i.splice(o,0,n),n=n.parent;return i}function Ur(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function Yr(t,e){if(t===e)return t;for(var n=Ur(t),r=Ur(e),i=n.pop(),o=r.pop(),a=null;i===o;)a=i,i=n.pop(),o=r.pop();return a}function Xr(t){t.fixed|=2}function Gr(t){t.fixed&=-7}function Kr(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Zr(t){t.fixed&=-5}function Jr(t,e,n){var r=0,i=0;if(t.charge=0,!t.leaf)for(var o,a=t.nodes,s=a.length,l=-1;++l<s;)o=a[l],null!=o&&(Jr(o,e,n),t.charge+=o.charge,r+=o.charge*o.cx,i+=o.charge*o.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,i+=u*t.point.y}t.cx=r/t.charge,t.cy=i/t.charge}function Qr(t,e){return na.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=oi,t}function ti(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(i=t.children)&&(r=i.length))for(var r,i;--r>=0;)n.push(i[r])}function ei(t,e){for(var n=[t],r=[];null!=(t=n.pop());)if(r.push(t),(o=t.children)&&(i=o.length))for(var i,o,a=-1;++a<i;)n.push(o[a]);for(;null!=(t=r.pop());)e(t)}function ni(t){return t.children}function ri(t){return t.value}function ii(t,e){return e.value-t.value}function oi(t){return na.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function ai(t){return t.x}function si(t){return t.y}function li(t,e,n){t.y0=e,t.y=n}function ui(t){return na.range(t.length)}function ci(t){for(var e=-1,n=t[0].length,r=[];++e<n;)r[e]=0;return r}function hi(t){for(var e,n=1,r=0,i=t[0][1],o=t.length;o>n;++n)(e=t[n][1])>i&&(r=n,i=e);return r}function fi(t){return t.reduce(di,0)}function di(t,e){return t+e[1]}function pi(t,e){return gi(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function gi(t,e){for(var n=-1,r=+t[0],i=(t[1]-r)/e,o=[];++n<=e;)o[n]=i*n+r;return o}function mi(t){return[na.min(t),na.max(t)]}function vi(t,e){return t.value-e.value}function yi(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function wi(t,e){t._pack_next=e,e._pack_prev=t}function bi(t,e){var n=e.x-t.x,r=e.y-t.y,i=t.r+e.r;return.999*i*i>n*n+r*r}function xi(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),f=Math.min(t.y-t.r,f),d=Math.max(t.y+t.r,d)}if((n=t.children)&&(u=n.length)){var n,r,i,o,a,s,l,u,c=1/0,h=-(1/0),f=1/0,d=-(1/0);if(n.forEach(Ci),r=n[0],r.x=-r.r,r.y=0,e(r),u>1&&(i=n[1],i.x=i.r,i.y=0,e(i),u>2))for(o=n[2],ki(r,i,o),e(o),yi(r,o),r._pack_prev=o,yi(o,i),i=r._pack_next,a=3;u>a;a++){ki(r,i,o=n[a]);var p=0,g=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,g++)if(bi(s,o)){p=1;break}if(1==p)for(l=r._pack_prev;l!==s._pack_prev&&!bi(l,o);l=l._pack_prev,m++);p?(m>g||g==m&&i.r<r.r?wi(r,i=s):wi(r=l,i),a--):(yi(r,o),i=o,e(o))}var v=(c+h)/2,y=(f+d)/2,w=0;for(a=0;u>a;a++)o=n[a],o.x-=v,o.y-=y,w=Math.max(w,o.r+Math.sqrt(o.x*o.x+o.y*o.y));t.r=w,n.forEach(Ti)}}function Ci(t){t._pack_next=t._pack_prev=t}function Ti(t){delete t._pack_next,delete t._pack_prev}function Ei(t,e,n,r){var i=t.children;if(t.x=e+=r*t.x,t.y=n+=r*t.y,t.r*=r,i)for(var o=-1,a=i.length;++o<a;)Ei(i[o],e,n,r)}function ki(t,e,n){var r=t.r+n.r,i=e.x-t.x,o=e.y-t.y;if(r&&(i||o)){var a=e.r+n.r,s=i*i+o*o;a*=a,r*=r;var l=.5+(r-a)/(2*s),u=Math.sqrt(Math.max(0,2*a*(r+s)-(r-=s)*r-a*a))/(2*s);n.x=t.x+l*i+u*o,n.y=t.y+l*o-u*i}else n.x=t.x+r,n.y=t.y}function Si(t,e){return t.parent==e.parent?1:2}function _i(t){var e=t.children;return e.length?e[0]:t.t}function $i(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Ai(t,e,n){var r=n/(e.i-t.i);e.c-=r,e.s+=n,t.c+=r,e.z+=n,e.m+=n}function Di(t){for(var e,n=0,r=0,i=t.children,o=i.length;--o>=0;)e=i[o],e.z+=n,e.m+=n,n+=e.s+(r+=e.c)}function Mi(t,e,n){return t.a.parent===e.parent?t.a:n}function Ri(t){return 1+na.max(t,function(t){return t.y})}function Pi(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function Oi(t){var e=t.children;return e&&e.length?Oi(e[0]):t}function Li(t){var e,n=t.children;return n&&(e=n.length)?Li(n[e-1]):t}function Ii(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ni(t,e){var n=t.x+e[3],r=t.y+e[0],i=t.dx-e[1]-e[3],o=t.dy-e[0]-e[2];return 0>i&&(n+=i/2,i=0),0>o&&(r+=o/2,o=0),{x:n,y:r,dx:i,dy:o}}function Bi(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function Hi(t){return t.rangeExtent?t.rangeExtent():Bi(t.range())}function Fi(t,e,n,r){var i=n(t[0],t[1]),o=r(e[0],e[1]);return function(t){return o(i(t))}}function Vi(t,e){var n,r=0,i=t.length-1,o=t[r],a=t[i];return o>a&&(n=r,r=i,i=n,n=o,o=a,a=n),t[r]=e.floor(o),t[i]=e.ceil(a),t}function qi(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Cl}function ji(t,e,n,r){var i=[],o=[],a=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<=s;)i.push(n(t[a-1],t[a])),o.push(r(e[a-1],e[a]));return function(e){var n=na.bisect(t,e,1,s)-1;return o[n](i[n](e))}}function zi(t,e,n,r){function i(){var i=Math.min(t.length,e.length)>2?ji:Fi,l=r?zr:jr;return a=i(t,e,l,n),s=i(e,t,l,wr),o}function o(t){return a(t)}var a,s;return o.invert=function(t){return s(t)},o.domain=function(e){return arguments.length?(t=e.map(Number),i()):t},o.range=function(t){return arguments.length?(e=t,i()):e},o.rangeRound=function(t){return o.range(t).interpolate(Nr)},o.clamp=function(t){return arguments.length?(r=t,i()):r},o.interpolate=function(t){return arguments.length?(n=t,i()):n},o.ticks=function(e){return Xi(t,e)},o.tickFormat=function(e,n){return Gi(t,e,n)},o.nice=function(e){return Ui(t,e),i()},o.copy=function(){return zi(t,e,n,r)},i()}function Wi(t,e){return na.rebind(t,e,"range","rangeRound","interpolate","clamp")}function Ui(t,e){return Vi(t,qi(Yi(t,e)[2]))}function Yi(t,e){null==e&&(e=10);var n=Bi(t),r=n[1]-n[0],i=Math.pow(10,Math.floor(Math.log(r/e)/Math.LN10)),o=e/r*i;return.15>=o?i*=10:.35>=o?i*=5:.75>=o&&(i*=2),n[0]=Math.ceil(n[0]/i)*i,n[1]=Math.floor(n[1]/i)*i+.5*i,n[2]=i,n}function Xi(t,e){return na.range.apply(na,Yi(t,e))}function Gi(t,e,n){var r=Yi(t,e);if(n){var i=cs.exec(n);if(i.shift(),"s"===i[8]){var o=na.formatPrefix(Math.max(ma(r[0]),ma(r[1])));return i[7]||(i[7]="."+Ki(o.scale(r[2]))),i[8]="f",n=na.format(i.join("")),function(t){return n(o.scale(t))+o.symbol}}i[7]||(i[7]="."+Zi(i[8],r)),n=i.join("")}else n=",."+Ki(r[2])+"f";return na.format(n)}function Ki(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function Zi(t,e){var n=Ki(e[2]);return t in Tl?Math.abs(n-Ki(Math.max(ma(e[0]),ma(e[1]))))+ +("e"!==t):n-2*("%"===t)}function Ji(t,e,n,r){function i(t){return(n?Math.log(0>t?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function o(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function a(e){return t(i(e))}return a.invert=function(e){return o(t.invert(e))},a.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((r=e.map(Number)).map(i)),a):r},a.base=function(n){return arguments.length?(e=+n,t.domain(r.map(i)),a):e},a.nice=function(){var e=Vi(r.map(i),n?Math:kl);return t.domain(e),r=e.map(o),a},a.ticks=function(){var t=Bi(r),a=[],s=t[0],l=t[1],u=Math.floor(i(s)),c=Math.ceil(i(l)),h=e%1?2:e;if(isFinite(c-u)){if(n){for(;c>u;u++)for(var f=1;h>f;f++)a.push(o(u)*f);a.push(o(u))}else for(a.push(o(u));u++<c;)for(var f=h-1;f>0;f--)a.push(o(u)*f);for(u=0;a[u]<s;u++);for(c=a.length;a[c-1]>l;c--);a=a.slice(u,c)}return a},a.tickFormat=function(t,e){if(!arguments.length)return El;arguments.length<2?e=El:"function"!=typeof e&&(e=na.format(e));var r,s=Math.max(.1,t/a.ticks().length),l=n?(r=1e-12,Math.ceil):(r=-1e-12,Math.floor);return function(t){return t/o(l(i(t)+r))<=s?e(t):""}},a.copy=function(){return Ji(t.copy(),e,n,r)},Wi(a,t)}function Qi(t,e,n){function r(e){return t(i(e))}var i=to(e),o=to(1/e);return r.invert=function(e){return o(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(i)),r):n},r.ticks=function(t){return Xi(n,t)},r.tickFormat=function(t,e){return Gi(n,t,e)},r.nice=function(t){return r.domain(Ui(n,t))},r.exponent=function(a){return arguments.length?(i=to(e=a),o=to(1/e),t.domain(n.map(i)),r):e},r.copy=function(){return Qi(t.copy(),e,n)},Wi(r,t)}function to(t){return function(e){return 0>e?-Math.pow(-e,t):Math.pow(e,t)}}function eo(t,e){function n(n){return o[((i.get(n)||("range"===e.t?i.set(n,t.push(n)):0/0))-1)%o.length]}function r(e,n){return na.range(t.length).map(function(t){return e+n*t})}var i,o,a;return n.domain=function(r){if(!arguments.length)return t;t=[],i=new s;for(var o,a=-1,l=r.length;++a<l;)i.has(o=r[a])||i.set(o,t.push(o));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(o=t,a=0,e={t:"range",a:arguments},n):o},n.rangePoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return o=r(l+c*s/2,c),a=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(i,s){arguments.length<2&&(s=0);var l=i[0],u=i[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return o=r(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),a=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],h=i[1-u],f=(h-c)/(t.length-s+2*l);return o=r(c+f*l,f),u&&o.reverse(),a=f*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(i,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=i[1]<i[0],c=i[u-0],h=i[1-u],f=Math.floor((h-c)/(t.length-s+2*l));return o=r(c+Math.round((h-c-(t.length-s)*f)/2),f),u&&o.reverse(),a=Math.round(f*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return a},n.rangeExtent=function(){return Bi(e.a[0])},n.copy=function(){return eo(t,e)},n.domain(t)}function no(r,i){function o(){var t=0,e=i.length;for(s=[];++t<e;)s[t-1]=na.quantile(r,t/e);return a}function a(t){return isNaN(t=+t)?void 0:i[na.bisect(s,t)]}var s;return a.domain=function(i){return arguments.length?(r=i.map(e).filter(n).sort(t),o()):r},a.range=function(t){return arguments.length?(i=t,o()):i},a.quantiles=function(){return s},a.invertExtent=function(t){return t=i.indexOf(t),0>t?[0/0,0/0]:[t>0?s[t-1]:r[0],t<s.length?s[t]:r[r.length-1]]},a.copy=function(){return no(r,i)},o()}function ro(t,e,n){function r(e){return n[Math.max(0,Math.min(a,Math.floor(o*(e-t))))]}function i(){return o=n.length/(e-t),a=n.length-1,r}var o,a;return r.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],i()):[t,e]},r.range=function(t){return arguments.length?(n=t,i()):n},r.invertExtent=function(e){return e=n.indexOf(e),e=0>e?0/0:e/o+t,[e,e+1/o]},r.copy=function(){return ro(t,e,n)},i()}function io(t,e){function n(n){return n>=n?e[na.bisect(t,n)]:void 0}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return io(t,e)},n}function oo(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return Xi(t,e)},e.tickFormat=function(e,n){return Gi(t,e,n)},e.copy=function(){return oo(t)},e}function ao(){return 0}function so(t){return t.innerRadius}function lo(t){return t.outerRadius}function uo(t){return t.startAngle}function co(t){return t.endAngle}function ho(t){return t&&t.padAngle}function fo(t,e,n,r){return(t-n)*e-(e-r)*t>0?0:1}function po(t,e,n,r,i){var o=t[0]-e[0],a=t[1]-e[1],s=(i?r:-r)/Math.sqrt(o*o+a*a),l=s*a,u=-s*o,c=t[0]+l,h=t[1]+u,f=e[0]+l,d=e[1]+u,p=(c+f)/2,g=(h+d)/2,m=f-c,v=d-h,y=m*m+v*v,w=n-r,b=c*d-f*h,x=(0>v?-1:1)*Math.sqrt(w*w*y-b*b),C=(b*v-m*x)/y,T=(-b*m-v*x)/y,E=(b*v+m*x)/y,k=(-b*m+v*x)/y,S=C-p,_=T-g,$=E-p,A=k-g;return S*S+_*_>$*$+A*A&&(C=E,T=k),[[C-l,T-u],[C*n/w,T*n/w]]}function go(t){function e(e){function a(){u.push("M",o(t(c),s))}for(var l,u=[],c=[],h=-1,f=e.length,d=St(n),p=St(r);++h<f;)i.call(this,l=e[h],h)?c.push([+d.call(this,l,h),+p.call(this,l,h)]):c.length&&(a(),c=[]);return c.length&&a(),u.length?u.join(""):null}var n=An,r=Dn,i=Ae,o=mo,a=o.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e.defined=function(t){return arguments.length?(i=t,e):i},e.interpolate=function(t){return arguments.length?(a="function"==typeof t?o=t:(o=Ml.get(t)||mo).key,e):a},e.tension=function(t){return arguments.length?(s=t,e):s},e}function mo(t){return t.join("L")}function vo(t){return mo(t)+"Z"}function yo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r[0]+(r=t[e])[0])/2,"V",r[1]);

return n>1&&i.push("H",r[0]),i.join("")}function wo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("V",(r=t[e])[1],"H",r[0]);return i.join("")}function bo(t){for(var e=0,n=t.length,r=t[0],i=[r[0],",",r[1]];++e<n;)i.push("H",(r=t[e])[0],"V",r[1]);return i.join("")}function xo(t,e){return t.length<4?mo(t):t[1]+Eo(t.slice(1,-1),ko(t,e))}function Co(t,e){return t.length<3?mo(t):t[0]+Eo((t.push(t[0]),t),ko([t[t.length-2]].concat(t,[t[1]]),e))}function To(t,e){return t.length<3?mo(t):t[0]+Eo(t,ko(t,e))}function Eo(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return mo(t);var n=t.length!=e.length,r="",i=t[0],o=t[1],a=e[0],s=a,l=1;if(n&&(r+="Q"+(o[0]-2*a[0]/3)+","+(o[1]-2*a[1]/3)+","+o[0]+","+o[1],i=t[1],l=2),e.length>1){s=e[1],o=t[l],l++,r+="C"+(i[0]+a[0])+","+(i[1]+a[1])+","+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1];for(var u=2;u<e.length;u++,l++)o=t[l],s=e[u],r+="S"+(o[0]-s[0])+","+(o[1]-s[1])+","+o[0]+","+o[1]}if(n){var c=t[l];r+="Q"+(o[0]+2*s[0]/3)+","+(o[1]+2*s[1]/3)+","+c[0]+","+c[1]}return r}function ko(t,e){for(var n,r=[],i=(1-e)/2,o=t[0],a=t[1],s=1,l=t.length;++s<l;)n=o,o=a,a=t[s],r.push([i*(a[0]-n[0]),i*(a[1]-n[1])]);return r}function So(t){if(t.length<3)return mo(t);var e=1,n=t.length,r=t[0],i=r[0],o=r[1],a=[i,i,i,(r=t[1])[0]],s=[o,o,o,r[1]],l=[i,",",o,"L",Do(Ol,a),",",Do(Ol,s)];for(t.push(t[n-1]);++e<=n;)r=t[e],a.shift(),a.push(r[0]),s.shift(),s.push(r[1]),Mo(l,a,s);return t.pop(),l.push("L",r),l.join("")}function _o(t){if(t.length<4)return mo(t);for(var e,n=[],r=-1,i=t.length,o=[0],a=[0];++r<3;)e=t[r],o.push(e[0]),a.push(e[1]);for(n.push(Do(Ol,o)+","+Do(Ol,a)),--r;++r<i;)e=t[r],o.shift(),o.push(e[0]),a.shift(),a.push(e[1]),Mo(n,o,a);return n.join("")}function $o(t){for(var e,n,r=-1,i=t.length,o=i+4,a=[],s=[];++r<4;)n=t[r%i],a.push(n[0]),s.push(n[1]);for(e=[Do(Ol,a),",",Do(Ol,s)],--r;++r<o;)n=t[r%i],a.shift(),a.push(n[0]),s.shift(),s.push(n[1]),Mo(e,a,s);return e.join("")}function Ao(t,e){var n=t.length-1;if(n)for(var r,i,o=t[0][0],a=t[0][1],s=t[n][0]-o,l=t[n][1]-a,u=-1;++u<=n;)r=t[u],i=u/n,r[0]=e*r[0]+(1-e)*(o+i*s),r[1]=e*r[1]+(1-e)*(a+i*l);return So(t)}function Do(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function Mo(t,e,n){t.push("C",Do(Rl,e),",",Do(Rl,n),",",Do(Pl,e),",",Do(Pl,n),",",Do(Ol,e),",",Do(Ol,n))}function Ro(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Po(t){for(var e=0,n=t.length-1,r=[],i=t[0],o=t[1],a=r[0]=Ro(i,o);++e<n;)r[e]=(a+(a=Ro(i=o,o=t[e+1])))/2;return r[e]=a,r}function Oo(t){for(var e,n,r,i,o=[],a=Po(t),s=-1,l=t.length-1;++s<l;)e=Ro(t[s],t[s+1]),ma(e)<Oa?a[s]=a[s+1]=0:(n=a[s]/e,r=a[s+1]/e,i=n*n+r*r,i>9&&(i=3*e/Math.sqrt(i),a[s]=i*n,a[s+1]=i*r));for(s=-1;++s<=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+a[s]*a[s])),o.push([i||0,a[s]*i||0]);return o}function Lo(t){return t.length<3?mo(t):t[0]+Eo(t,Oo(t))}function Io(t){for(var e,n,r,i=-1,o=t.length;++i<o;)e=t[i],n=e[0],r=e[1]-Ha,e[0]=n*Math.cos(r),e[1]=n*Math.sin(r);return t}function No(t){function e(e){function l(){g.push("M",s(t(v),h),c,u(t(m.reverse()),h),"Z")}for(var f,d,p,g=[],m=[],v=[],y=-1,w=e.length,b=St(n),x=St(i),C=n===r?function(){return d}:St(r),T=i===o?function(){return p}:St(o);++y<w;)a.call(this,f=e[y],y)?(m.push([d=+b.call(this,f,y),p=+x.call(this,f,y)]),v.push([+C.call(this,f,y),+T.call(this,f,y)])):m.length&&(l(),m=[],v=[]);return m.length&&l(),g.length?g.join(""):null}var n=An,r=An,i=0,o=Dn,a=Ae,s=mo,l=s.key,u=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=r=t,e):r},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(r=t,e):r},e.y=function(t){return arguments.length?(i=o=t,e):o},e.y0=function(t){return arguments.length?(i=t,e):i},e.y1=function(t){return arguments.length?(o=t,e):o},e.defined=function(t){return arguments.length?(a=t,e):a},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=Ml.get(t)||mo).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Bo(t){return t.radius}function Ho(t){return[t.x,t.y]}function Fo(t){return function(){var e=t.apply(this,arguments),n=e[0],r=e[1]-Ha;return[n*Math.cos(r),n*Math.sin(r)]}}function Vo(){return 64}function qo(){return"circle"}function jo(t){var e=Math.sqrt(t/Ia);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function zo(t,e,n){return xa(t,Fl),t.namespace=e,t.id=n,t}function Wo(t,e,n,r){var i=t.id,o=t.namespace;return F(t,"function"==typeof n?function(t,a,s){t[o][i].tween.set(e,r(n.call(t,t.__data__,a,s)))}:(n=r(n),function(t){t[o][i].tween.set(e,n)}))}function Uo(t){return null==t&&(t=""),function(){this.textContent=t}}function Yo(t){return null==t?"__transition__":"__transition_"+t+"__"}function Xo(t,e,n,r,i){var o=t[n]||(t[n]={active:0,count:0}),a=o[r];if(!a){var l=i.time;a=o[r]={tween:new s,time:l,delay:i.delay,duration:i.duration,ease:i.ease},i=null,++o.count,na.timer(function(i){function s(n){return o.active>r?c(!1):(o.active=r,a.event&&a.event.start.call(t,d,e),a.tween.forEach(function(n,r){(r=r.call(t,d,e))&&m.push(r)}),f=a.ease,h=a.duration,void na.timer(function(){return g.c=u(n||1)?Ae:u,1},0,l))}function u(e){if(o.active!==r)return c(!1);for(var n=e/h,i=f(n),a=m.length;a>0;)m[--a].call(t,i);return n>=1?c(!0):void 0}function c(i){return a.event&&a.event[i?"end":"interrupt"].call(t,d,e),--o.count?delete o[r]:delete t[n],1}var h,f,d=t.__data__,p=a.delay,g=ss,m=[];return g.t=p+l,i>=p?s(i-p):void(g.c=s)},0,l)}}function Go(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate("+(isFinite(r)?r:n(t))+",0)"})}function Ko(t,e,n){t.attr("transform",function(t){var r=e(t);return"translate(0,"+(isFinite(r)?r:n(t))+")"})}function Zo(t){return t.toISOString()}function Jo(t,e,n){function r(e){return t(e)}function i(t,n){var r=t[1]-t[0],i=r/n,o=na.bisect(Gl,i);return o==Gl.length?[e.year,Yi(t.map(function(t){return t/31536e6}),n)[2]]:o?e[i/Gl[o-1]<Gl[o]/i?o-1:o]:[Jl,Yi(t,n)[2]]}return r.invert=function(e){return Qo(t.invert(e))},r.domain=function(e){return arguments.length?(t.domain(e),r):t.domain().map(Qo)},r.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,Qo(+n+1),e).length}var o=r.domain(),a=Bi(o),s=null==t?i(a,10):"number"==typeof t&&i(a,t);return s&&(t=s[0],e=s[1]),r.domain(Vi(o,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=Qo(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=Qo(+e+1);return e}}:t))},r.ticks=function(t,e){var n=Bi(r.domain()),o=null==t?i(n,10):"number"==typeof t?i(n,t):!t.range&&[{range:t},e];return o&&(t=o[0],e=o[1]),t.range(n[0],Qo(+n[1]+1),1>e?1:e)},r.tickFormat=function(){return n},r.copy=function(){return Jo(t.copy(),e,n)},Wi(r,t)}function Qo(t){return new Date(t)}function ta(t){return JSON.parse(t.responseText)}function ea(t){var e=oa.createRange();return e.selectNode(oa.body),e.createContextualFragment(t.responseText)}var na={version:"3.5.0"};Date.now||(Date.now=function(){return+new Date});var ra=[].slice,ia=function(t){return ra.call(t)},oa=document,aa=oa.documentElement,sa=window;try{ia(aa.childNodes)[0].nodeType}catch(la){ia=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}try{oa.createElement("div").style.setProperty("opacity",0,"")}catch(ua){var ca=sa.Element.prototype,ha=ca.setAttribute,fa=ca.setAttributeNS,da=sa.CSSStyleDeclaration.prototype,pa=da.setProperty;ca.setAttribute=function(t,e){ha.call(this,t,e+"")},ca.setAttributeNS=function(t,e,n){fa.call(this,t,e,n+"")},da.setProperty=function(t,e,n){pa.call(this,t,e+"",n)}}na.ascending=t,na.descending=function(t,e){return t>e?-1:e>t?1:e>=t?0:0/0},na.min=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&n>r&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&n>r&&(n=r)}return n},na.max=function(t,e){var n,r,i=-1,o=t.length;if(1===arguments.length){for(;++i<o;)if(null!=(r=t[i])&&r>=r){n=r;break}for(;++i<o;)null!=(r=t[i])&&r>n&&(n=r)}else{for(;++i<o;)if(null!=(r=e.call(t,t[i],i))&&r>=r){n=r;break}for(;++i<o;)null!=(r=e.call(t,t[i],i))&&r>n&&(n=r)}return n},na.extent=function(t,e){var n,r,i,o=-1,a=t.length;if(1===arguments.length){for(;++o<a;)if(null!=(r=t[o])&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=t[o])&&(n>r&&(n=r),r>i&&(i=r))}else{for(;++o<a;)if(null!=(r=e.call(t,t[o],o))&&r>=r){n=i=r;break}for(;++o<a;)null!=(r=e.call(t,t[o],o))&&(n>r&&(n=r),r>i&&(i=r))}return[n,i]},na.sum=function(t,e){var r,i=0,o=t.length,a=-1;if(1===arguments.length)for(;++a<o;)n(r=+t[a])&&(i+=r);else for(;++a<o;)n(r=+e.call(t,t[a],a))&&(i+=r);return i},na.mean=function(t,r){var i,o=0,a=t.length,s=-1,l=a;if(1===arguments.length)for(;++s<a;)n(i=e(t[s]))?o+=i:--l;else for(;++s<a;)n(i=e(r.call(t,t[s],s)))?o+=i:--l;return l?o/l:void 0},na.quantile=function(t,e){var n=(t.length-1)*e+1,r=Math.floor(n),i=+t[r-1],o=n-r;return o?i+o*(t[r]-i):i},na.median=function(r,i){var o,a=[],s=r.length,l=-1;if(1===arguments.length)for(;++l<s;)n(o=e(r[l]))&&a.push(o);else for(;++l<s;)n(o=e(i.call(r,r[l],l)))&&a.push(o);return a.length?na.quantile(a.sort(t),.5):void 0};var ga=r(t);na.bisectLeft=ga.left,na.bisect=na.bisectRight=ga.right,na.bisector=function(e){return r(1===e.length?function(n,r){return t(e(n),r)}:e)},na.shuffle=function(t,e,n){(o=arguments.length)<3&&(n=t.length,2>o&&(e=0));for(var r,i,o=n-e;o;)i=Math.random()*o--|0,r=t[o+e],t[o+e]=t[i+e],t[i+e]=r;return t},na.permute=function(t,e){for(var n=e.length,r=new Array(n);n--;)r[n]=t[e[n]];return r},na.pairs=function(t){for(var e,n=0,r=t.length-1,i=t[0],o=new Array(0>r?0:r);r>n;)o[n]=[e=i,i=t[++n]];return o},na.zip=function(){if(!(r=arguments.length))return[];for(var t=-1,e=na.min(arguments,i),n=new Array(e);++t<e;)for(var r,o=-1,a=n[t]=new Array(r);++o<r;)a[o]=arguments[o][t];return n},na.transpose=function(t){return na.zip.apply(na,t)},na.keys=function(t){var e=[];for(var n in t)e.push(n);return e},na.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},na.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},na.merge=function(t){for(var e,n,r,i=t.length,o=-1,a=0;++o<i;)a+=t[o].length;for(n=new Array(a);--i>=0;)for(r=t[i],e=r.length;--e>=0;)n[--a]=r[e];return n};var ma=Math.abs;na.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var r,i=[],a=o(ma(n)),s=-1;if(t*=a,e*=a,n*=a,0>n)for(;(r=t+n*++s)>e;)i.push(r/a);else for(;(r=t+n*++s)<e;)i.push(r/a);return i},na.map=function(t,e){var n=new s;if(t instanceof s)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var r,i=-1,o=t.length;if(1===arguments.length)for(;++i<o;)n.set(i,t[i]);else for(;++i<o;)n.set(e.call(t,r=t[i],i),r)}else for(var a in t)n.set(a,t[a]);return n};var va="__proto__",ya="\x00";a(s,{has:c,get:function(t){return this._[l(t)]},set:function(t,e){return this._[l(t)]=e},remove:h,keys:f,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:u(e),value:this._[e]});return t},size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,u(e),this._[e])}}),na.nest=function(){function t(e,a,l){if(l>=o.length)return r?r.call(i,a):n?a.sort(n):a;for(var u,c,h,f,d=-1,p=a.length,g=o[l++],m=new s;++d<p;)(f=m.get(u=g(c=a[d])))?f.push(c):m.set(u,[c]);return e?(c=e(),h=function(n,r){c.set(n,t(e,r,l))}):(c={},h=function(n,r){c[n]=t(e,r,l)}),m.forEach(h),c}function e(t,n){if(n>=o.length)return t;var r=[],i=a[n++];return t.forEach(function(t,i){r.push({key:t,values:e(i,n)})}),i?r.sort(function(t,e){return i(t.key,e.key)}):r}var n,r,i={},o=[],a=[];return i.map=function(e,n){return t(n,e,0)},i.entries=function(n){return e(t(na.map,n,0),0)},i.key=function(t){return o.push(t),i},i.sortKeys=function(t){return a[o.length-1]=t,i},i.sortValues=function(t){return n=t,i},i.rollup=function(t){return r=t,i},i},na.set=function(t){var e=new g;if(t)for(var n=0,r=t.length;r>n;++n)e.add(t[n]);return e},a(g,{has:c,add:function(t){return this._[l(t+="")]=!0,t},remove:h,values:f,size:d,empty:p,forEach:function(t){for(var e in this._)t.call(this,u(e))}}),na.behavior={},na.rebind=function(t,e){for(var n,r=1,i=arguments.length;++r<i;)t[n=arguments[r]]=m(t,e,e[n]);return t};var wa=["webkit","ms","moz","Moz","o","O"];na.dispatch=function(){for(var t=new w,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=b(t);return t},w.prototype.on=function(t,e){var n=t.indexOf("."),r="";if(n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(r):this[t].on(r,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(r,null);return this}},na.event=null,na.requote=function(t){return t.replace(ba,"\\$&")};var ba=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,xa={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Ca=function(t,e){return e.querySelector(t)},Ta=function(t,e){return e.querySelectorAll(t)},Ea=aa.matches||aa[v(aa,"matchesSelector")],ka=function(t,e){return Ea.call(t,e)};"function"==typeof Sizzle&&(Ca=function(t,e){return Sizzle(t,e)[0]||null},Ta=Sizzle,ka=Sizzle.matchesSelector),na.selection=function(){return Aa};var Sa=na.selection.prototype=[];Sa.select=function(t){var e,n,r,i,o=[];t=k(t);for(var a=-1,s=this.length;++a<s;){o.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var l=-1,u=r.length;++l<u;)(i=r[l])?(e.push(n=t.call(i,i.__data__,l,a)),n&&"__data__"in i&&(n.__data__=i.__data__)):e.push(null)}return E(o)},Sa.selectAll=function(t){var e,n,r=[];t=S(t);for(var i=-1,o=this.length;++i<o;)for(var a=this[i],s=-1,l=a.length;++s<l;)(n=a[s])&&(r.push(e=ia(t.call(n,n.__data__,s,i))),e.parentNode=n);return E(r)};var _a={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};na.ns={prefix:_a,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&(n=t.slice(0,e),t=t.slice(e+1)),_a.hasOwnProperty(n)?{space:_a[n],local:t}:t}},Sa.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=na.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(_(e,t[e]));return this}return this.each(_(t,e))},Sa.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),r=(t=D(t)).length,i=-1;if(e=n.classList){for(;++i<r;)if(!e.contains(t[i]))return!1}else for(e=n.getAttribute("class");++i<r;)if(!A(t[i]).test(e))return!1;return!0}for(e in t)this.each(M(e,t[e]));return this}return this.each(M(t,e))},Sa.style=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e="");for(n in t)this.each(P(n,t[n],e));return this}if(2>r)return sa.getComputedStyle(this.node(),null).getPropertyValue(t);n=""}return this.each(P(t,e,n))},Sa.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(O(e,t[e]));return this}return this.each(O(t,e))},Sa.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Sa.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Sa.append=function(t){return t=L(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Sa.insert=function(t,e){return t=L(t),e=k(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Sa.remove=function(){return this.each(I)},Sa.data=function(t,e){function n(t,n){var r,i,o,a=t.length,h=n.length,f=Math.min(a,h),d=new Array(h),p=new Array(h),g=new Array(a);if(e){var m,v=new s,y=new Array(a);for(r=-1;++r<a;)v.has(m=e.call(i=t[r],i.__data__,r))?g[r]=i:v.set(m,i),y[r]=m;for(r=-1;++r<h;)(i=v.get(m=e.call(n,o=n[r],r)))?i!==!0&&(d[r]=i,i.__data__=o):p[r]=N(o),v.set(m,!0);for(r=-1;++r<a;)v.get(y[r])!==!0&&(g[r]=t[r])}else{for(r=-1;++r<f;)i=t[r],o=n[r],i?(i.__data__=o,d[r]=i):p[r]=N(o);for(;h>r;++r)p[r]=N(n[r]);for(;a>r;++r)g[r]=t[r]}p.update=d,p.parentNode=d.parentNode=g.parentNode=t.parentNode,l.push(p),u.push(d),c.push(g)}var r,i,o=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++o<a;)(i=r[o])&&(t[o]=i.__data__);return t}var l=V([]),u=E([]),c=E([]);if("function"==typeof t)for(;++o<a;)n(r=this[o],t.call(r,r.parentNode.__data__,o));else for(;++o<a;)n(r=this[o],t);return u.enter=function(){return l},u.exit=function(){return c},u},Sa.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Sa.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=B(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var s=0,l=n.length;l>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return E(i)},Sa.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,r=this[t],i=r.length-1,o=r[i];--i>=0;)(n=r[i])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},Sa.sort=function(t){t=H.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Sa.each=function(t){return F(this,function(e,n,r){t.call(e,e.__data__,n,r)})},Sa.call=function(t){var e=ia(arguments);return t.apply(e[0]=this,e),this},Sa.empty=function(){return!this.node()},Sa.node=function(){for(var t=0,e=this.length;e>t;t++)for(var n=this[t],r=0,i=n.length;i>r;r++){var o=n[r];if(o)return o}return null},Sa.size=function(){var t=0;return F(this,function(){++t}),t};var $a=[];na.selection.enter=V,na.selection.enter.prototype=$a,$a.append=Sa.append,$a.empty=Sa.empty,$a.node=Sa.node,$a.call=Sa.call,$a.size=Sa.size,$a.select=function(t){for(var e,n,r,i,o,a=[],s=-1,l=this.length;++s<l;){r=(i=this[s]).update,a.push(e=[]),e.parentNode=i.parentNode;for(var u=-1,c=i.length;++u<c;)(o=i[u])?(e.push(r[u]=n=t.call(i.parentNode,o.__data__,u,s)),n.__data__=o.__data__):e.push(null)}return E(a)},$a.insert=function(t,e){return arguments.length<2&&(e=q(this)),Sa.insert.call(this,t,e)},Sa.transition=function(t){for(var e,n,r=Il||++Vl,i=Yo(t),o=[],a=Nl||{time:Date.now(),ease:Sr,delay:0,duration:250},s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(n=u[c])&&Xo(n,c,i,r,a),e.push(n)}return zo(o,i,r)},Sa.interrupt=function(t){var e=Yo(t);return this.each(function(){var t=this[e];t&&++t.active})},na.select=function(t){var e=["string"==typeof t?Ca(t,oa):t];return e.parentNode=aa,E([e])},na.selectAll=function(t){var e=ia("string"==typeof t?Ta(t,oa):t);return e.parentNode=aa,E([e])};var Aa=na.select(aa);Sa.on=function(t,e,n){var r=arguments.length;if(3>r){if("string"!=typeof t){2>r&&(e=!1);for(n in t)this.each(z(n,t[n],e));return this}if(2>r)return(r=this.node()["__on"+t])&&r._;n=!1}return this.each(z(t,e,n))};var Da=na.map({mouseenter:"mouseover",mouseleave:"mouseout"});Da.forEach(function(t){"on"+t in oa&&Da.remove(t)});var Ma="onselectstart"in oa?null:v(aa.style,"userSelect"),Ra=0;na.mouse=function(t){return X(t,C())};var Pa=/WebKit/.test(sa.navigator.userAgent)?-1:0;na.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=C().changedTouches),e)for(var r,i=0,o=e.length;o>i;++i)if((r=e[i]).identifier===n)return X(t,r)},na.behavior.drag=function(){function t(){this.on("mousedown.drag",i).on("touchstart.drag",o)}function e(t,e,i,o,a){return function(){function s(){var t,n,r=e(f,g);r&&(t=r[0]-w[0],n=r[1]-w[1],p|=t|n,w=r,d({type:"drag",x:r[0]+u[0],y:r[1]+u[1],dx:t,dy:n}))}function l(){e(f,g)&&(v.on(o+m,null).on(a+m,null),y(p&&na.event.target===h),d({type:"dragend"}))}var u,c=this,h=na.event.target,f=c.parentNode,d=n.of(c,arguments),p=0,g=t(),m=".drag"+(null==g?"":"-"+g),v=na.select(i()).on(o+m,s).on(a+m,l),y=Y(),w=e(f,g);r?(u=r.apply(c,arguments),u=[u.x-w[0],u.y-w[1]]):u=[0,0],d({type:"dragstart"})}}var n=T(t,"drag","dragstart","dragend"),r=null,i=e(y,na.mouse,Z,"mousemove","mouseup"),o=e(G,na.touch,K,"touchmove","touchend");return t.origin=function(e){return arguments.length?(r=e,t):r},na.rebind(t,n,"on")},na.touches=function(t,e){return arguments.length<2&&(e=C().touches),e?ia(e).map(function(e){var n=X(t,e);return n.identifier=e.identifier,n}):[]};var Oa=1e-6,La=Oa*Oa,Ia=Math.PI,Na=2*Ia,Ba=Na-Oa,Ha=Ia/2,Fa=Ia/180,Va=180/Ia,qa=Math.SQRT2,ja=2,za=4;na.interpolateZoom=function(t,e){function n(t){var e=t*y;if(v){var n=rt(g),a=o/(ja*f)*(n*it(qa*e+g)-nt(g));return[r+a*u,i+a*c,o*n/rt(qa*e+g)]}return[r+t*u,i+t*c,o*Math.exp(qa*e)]}var r=t[0],i=t[1],o=t[2],a=e[0],s=e[1],l=e[2],u=a-r,c=s-i,h=u*u+c*c,f=Math.sqrt(h),d=(l*l-o*o+za*h)/(2*o*ja*f),p=(l*l-o*o-za*h)/(2*l*ja*f),g=Math.log(Math.sqrt(d*d+1)-d),m=Math.log(Math.sqrt(p*p+1)-p),v=m-g,y=(v||Math.log(l/o))/qa;return n.duration=1e3*y,n},na.behavior.zoom=function(){function t(t){t.on(D,c).on(Ya+".zoom",f).on("dblclick.zoom",d).on(P,h)}function e(t){return[(t[0]-k.x)/k.k,(t[1]-k.y)/k.k]}function n(t){return[t[0]*k.k+k.x,t[1]*k.k+k.y]}function r(t){k.k=Math.max(_[0],Math.min(_[1],t))}function i(t,e){e=n(e),k.x+=t[0]-e[0],k.y+=t[1]-e[1]}function o(e,n,o,a){e.__chart__={x:k.x,y:k.y,k:k.k},r(Math.pow(2,a)),i(g=n,o),e=na.select(e),$>0&&(e=e.transition().duration($)),e.call(t.event)}function a(){b&&b.domain(w.range().map(function(t){return(t-k.x)/k.k}).map(w.invert)),E&&E.domain(C.range().map(function(t){return(t-k.y)/k.k}).map(C.invert))}function s(t){A++||t({type:"zoomstart"})}function l(t){a(),t({type:"zoom",scale:k.k,translate:[k.x,k.y]})}function u(t){--A||t({type:"zoomend"}),g=null}function c(){function t(){c=1,i(na.mouse(r),f),l(a)}function n(){h.on(M,null).on(R,null),d(c&&na.event.target===o),u(a)}var r=this,o=na.event.target,a=O.of(r,arguments),c=0,h=na.select(sa).on(M,t).on(R,n),f=e(na.mouse(r)),d=Y();j(r),s(a)}function h(){function t(){var t=na.touches(p);return d=k.k,t.forEach(function(t){t.identifier in m&&(m[t.identifier]=e(t))}),t}function n(){var e=na.event.target;na.select(e).on(b,a).on(C,f),T.push(e);for(var n=na.event.changedTouches,r=0,i=n.length;i>r;++r)m[n[r].identifier]=null;var s=t(),l=Date.now();if(1===s.length){if(500>l-y){var u=s[0];o(p,u,m[u.identifier],Math.floor(Math.log(k.k)/Math.LN2)+1),x()}y=l}else if(s.length>1){var u=s[0],c=s[1],h=u[0]-c[0],d=u[1]-c[1];v=h*h+d*d}}function a(){var t,e,n,o,a=na.touches(p);j(p);for(var s=0,u=a.length;u>s;++s,o=null)if(n=a[s],o=m[n.identifier]){if(e)break;t=n,e=o}if(o){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=v&&Math.sqrt(c/v);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+o[0])/2,(e[1]+o[1])/2],r(h*d)}y=null,i(t,e),l(g)}function f(){if(na.event.touches.length){for(var e=na.event.changedTouches,n=0,r=e.length;r>n;++n)delete m[e[n].identifier];for(var i in m)return void t()}na.selectAll(T).on(w,null),E.on(D,c).on(P,h),S(),u(g)}var d,p=this,g=O.of(p,arguments),m={},v=0,w=".zoom-"+na.event.changedTouches[0].identifier,b="touchmove"+w,C="touchend"+w,T=[],E=na.select(p),S=Y();n(),s(g),E.on(D,null).on(P,n)}function f(){var t=O.of(this,arguments);v?clearTimeout(v):(p=e(g=m||na.mouse(this)),j(this),s(t)),v=setTimeout(function(){v=null,u(t)},50),x(),r(Math.pow(2,.002*Wa())*k.k),i(g,p),l(t)}function d(){var t=na.mouse(this),n=Math.log(k.k)/Math.LN2;o(this,t,e(t),na.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var p,g,m,v,y,w,b,C,E,k={x:0,y:0,k:1},S=[960,500],_=Ua,$=250,A=0,D="mousedown.zoom",M="mousemove.zoom",R="mouseup.zoom",P="touchstart.zoom",O=T(t,"zoomstart","zoom","zoomend");return t.event=function(t){t.each(function(){var t=O.of(this,arguments),e=k;Il?na.select(this).transition().each("start.zoom",function(){k=this.__chart__||{x:0,y:0,k:1},s(t)}).tween("zoom:zoom",function(){var n=S[0],r=S[1],i=g?g[0]:n/2,o=g?g[1]:r/2,a=na.interpolateZoom([(i-k.x)/k.k,(o-k.y)/k.k,n/k.k],[(i-e.x)/e.k,(o-e.y)/e.k,n/e.k]);return function(e){var r=a(e),s=n/r[2];this.__chart__=k={x:i-r[0]*s,y:o-r[1]*s,k:s},l(t)}}).each("interrupt.zoom",function(){u(t)}).each("end.zoom",function(){u(t)}):(this.__chart__=k,s(t),l(t),u(t))})},t.translate=function(e){return arguments.length?(k={x:+e[0],y:+e[1],k:k.k},a(),t):[k.x,k.y]},t.scale=function(e){return arguments.length?(k={x:k.x,y:k.y,k:+e},a(),t):k.k},t.scaleExtent=function(e){return arguments.length?(_=null==e?Ua:[+e[0],+e[1]],t):_},t.center=function(e){return arguments.length?(m=e&&[+e[0],+e[1]],t):m},t.size=function(e){return arguments.length?(S=e&&[+e[0],+e[1]],t):S},t.duration=function(e){return arguments.length?($=+e,t):$},t.x=function(e){return arguments.length?(b=e,w=e.copy(),k={x:0,y:0,k:1},t):b},t.y=function(e){return arguments.length?(E=e,C=e.copy(),k={x:0,y:0,k:1},t):E},na.rebind(t,O,"on")};var Wa,Ua=[0,1/0],Ya="onwheel"in oa?(Wa=function(){return-na.event.deltaY*(na.event.deltaMode?120:1)},"wheel"):"onmousewheel"in oa?(Wa=function(){return na.event.wheelDelta},"mousewheel"):(Wa=function(){return-na.event.detail},"MozMousePixelScroll");na.color=at,at.prototype.toString=function(){return this.rgb()+""},na.hsl=st;var Xa=st.prototype=new at;Xa.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,this.l/t)},Xa.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new st(this.h,this.s,t*this.l)},Xa.rgb=function(){return lt(this.h,this.s,this.l)},na.hcl=ut;var Ga=ut.prototype=new at;Ga.brighter=function(t){return new ut(this.h,this.c,Math.min(100,this.l+Ka*(arguments.length?t:1)))},Ga.darker=function(t){return new ut(this.h,this.c,Math.max(0,this.l-Ka*(arguments.length?t:1)))},Ga.rgb=function(){return ct(this.h,this.c,this.l).rgb()},na.lab=ht;var Ka=18,Za=.95047,Ja=1,Qa=1.08883,ts=ht.prototype=new at;ts.brighter=function(t){return new ht(Math.min(100,this.l+Ka*(arguments.length?t:1)),this.a,this.b)},ts.darker=function(t){return new ht(Math.max(0,this.l-Ka*(arguments.length?t:1)),this.a,this.b)},ts.rgb=function(){return ft(this.l,this.a,this.b)},na.rgb=vt;var es=vt.prototype=new at;es.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,r=this.b,i=30;return e||n||r?(e&&i>e&&(e=i),n&&i>n&&(n=i),r&&i>r&&(r=i),new vt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,r/t))):new vt(i,i,i)},es.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new vt(t*this.r,t*this.g,t*this.b)},es.hsl=function(){return Ct(this.r,this.g,this.b)},es.toString=function(){return"#"+bt(this.r)+bt(this.g)+bt(this.b)};var ns=na.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});ns.forEach(function(t,e){ns.set(t,yt(e))}),na.functor=St,na.xhr=$t(_t),na.dsv=function(t,e){function n(t,n,o){arguments.length<3&&(o=n,n=null);var a=At(t,e,null==n?r:i(n),o);return a.row=function(t){return arguments.length?a.response(null==(n=t)?r:i(t)):n},a}function r(t){return n.parse(t.responseText)}function i(t){return function(e){return n.parse(e.responseText,t)}}function o(e){return e.map(a).join(t)}function a(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var r;return n.parseRows(t,function(t,n){if(r)return r(t,n-1);var i=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");r=e?function(t,n){return e(i(t),n)}:i})},n.parseRows=function(t,e){function n(){if(c>=u)return a;if(i)return i=!1,o;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var r=t.charCodeAt(n+1);return 13===r?(i=!0,10===t.charCodeAt(n+2)&&++c):10===r&&(i=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;u>c;){var r=t.charCodeAt(c++),s=1;if(10===r)i=!0;else if(13===r)i=!0,10===t.charCodeAt(c)&&(++c,++s);else if(r!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var r,i,o={},a={},s=[],u=t.length,c=0,h=0;(r=n())!==a;){for(var f=[];r!==o&&r!==a;)f.push(r),r=n();e&&null==(f=e(f,h++))||s.push(f)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var r=new g,i=[];return e.forEach(function(t){for(var e in t)r.has(e)||i.push(r.add(e))}),[i.map(a).join(t)].concat(e.map(function(e){return i.map(function(t){return a(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(o).join("\n")},n},na.csv=na.dsv(",","text/csv"),na.tsv=na.dsv("	","text/tab-separated-values");var rs,is,os,as,ss,ls=sa[v(sa,"requestAnimationFrame")]||function(t){setTimeout(t,17)};na.timer=function(t,e,n){var r=arguments.length;2>r&&(e=0),3>r&&(n=Date.now());var i=n+e,o={c:t,t:i,f:!1,n:null};is?is.n=o:rs=o,is=o,os||(as=clearTimeout(as),os=1,ls(Rt))},na.timer.flush=function(){Pt(),Ot()},na.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var us=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(It);na.formatPrefix=function(t,e){var n=0;return t&&(0>t&&(t*=-1),e&&(t=na.round(t,Lt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),us[8+n/3]};var cs=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,hs=na.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){
return t.toFixed(e)},r:function(t,e){return(t=na.round(t,Lt(t,e))).toFixed(Math.max(0,Math.min(20,Lt(t*(1+1e-15),e))))}}),fs=na.time={},ds=Date;Ht.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ps.setUTCDate.apply(this._,arguments)},setDay:function(){ps.setUTCDay.apply(this._,arguments)},setFullYear:function(){ps.setUTCFullYear.apply(this._,arguments)},setHours:function(){ps.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ps.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ps.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ps.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ps.setUTCSeconds.apply(this._,arguments)},setTime:function(){ps.setTime.apply(this._,arguments)}};var ps=Date.prototype;fs.year=Ft(function(t){return t=fs.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),fs.years=fs.year.range,fs.years.utc=fs.year.utc.range,fs.day=Ft(function(t){var e=new ds(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),fs.days=fs.day.range,fs.days.utc=fs.day.utc.range,fs.dayOfYear=function(t){var e=fs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=fs[t]=Ft(function(t){return(t=fs.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});fs[t+"s"]=n.range,fs[t+"s"].utc=n.utc.range,fs[t+"OfYear"]=function(t){var n=fs.year(t).getDay();return Math.floor((fs.dayOfYear(t)+(n+e)%7)/7)}}),fs.week=fs.sunday,fs.weeks=fs.sunday.range,fs.weeks.utc=fs.sunday.utc.range,fs.weekOfYear=fs.sundayOfYear;var gs={"-":"",_:" ",0:"0"},ms=/^\s*\d+/,vs=/^%/;na.locale=function(t){return{numberFormat:Nt(t),timeFormat:qt(t)}};var ys=na.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});na.format=ys.numberFormat,na.geo={},ue.prototype={s:0,t:0,add:function(t){ce(t,this.t,ws),ce(ws.s,this.s,this),this.s?this.t+=ws.t:this.s=ws.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var ws=new ue;na.geo.stream=function(t,e){t&&bs.hasOwnProperty(t.type)?bs[t.type](t,e):he(t,e)};var bs={Feature:function(t,e){he(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)he(n[r].geometry,e)}},xs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){fe(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)fe(n[r],e,0)},Polygon:function(t,e){de(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)de(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)he(n[r],e)}};na.geo.area=function(t){return Cs=0,na.geo.stream(t,Es),Cs};var Cs,Ts=new ue,Es={sphere:function(){Cs+=4*Ia},point:y,lineStart:y,lineEnd:y,polygonStart:function(){Ts.reset(),Es.lineStart=pe},polygonEnd:function(){var t=2*Ts;Cs+=0>t?4*Ia+t:t,Es.lineStart=Es.lineEnd=Es.point=y}};na.geo.bounds=function(){function t(t,e){w.push(b=[c=t,f=t]),h>e&&(h=e),e>d&&(d=e)}function e(e,n){var r=ge([e*Fa,n*Fa]);if(v){var i=ve(v,r),o=[i[1],-i[0],0],a=ve(o,i);be(a),a=xe(a);var l=e-p,u=l>0?1:-1,g=a[0]*Va*u,m=ma(l)>180;if(m^(g>u*p&&u*e>g)){var y=a[1]*Va;y>d&&(d=y)}else if(g=(g+360)%360-180,m^(g>u*p&&u*e>g)){var y=-a[1]*Va;h>y&&(h=y)}else h>n&&(h=n),n>d&&(d=n);m?p>e?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e):f>=c?(c>e&&(c=e),e>f&&(f=e)):e>p?s(c,e)>s(c,f)&&(f=e):s(e,f)>s(c,f)&&(c=e)}else t(e,n);v=r,p=e}function n(){x.point=e}function r(){b[0]=c,b[1]=f,x.point=t,v=null}function i(t,n){if(v){var r=t-p;y+=ma(r)>180?r+(r>0?360:-360):r}else g=t,m=n;Es.point(t,n),e(t,n)}function o(){Es.lineStart()}function a(){i(g,m),Es.lineEnd(),ma(y)>Oa&&(c=-(f=180)),b[0]=c,b[1]=f,v=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,f,d,p,g,m,v,y,w,b,x={point:t,lineStart:n,lineEnd:r,polygonStart:function(){x.point=i,x.lineStart=o,x.lineEnd=a,y=0,Es.polygonStart()},polygonEnd:function(){Es.polygonEnd(),x.point=t,x.lineStart=n,x.lineEnd=r,0>Ts?(c=-(f=180),h=-(d=90)):y>Oa?d=90:-Oa>y&&(h=-90),b[0]=c,b[1]=f}};return function(t){d=f=-(c=h=1/0),w=[],na.geo.stream(t,x);var e=w.length;if(e){w.sort(l);for(var n,r=1,i=w[0],o=[i];e>r;++r)n=w[r],u(n[0],i)||u(n[1],i)?(s(i[0],n[1])>s(i[0],i[1])&&(i[1]=n[1]),s(n[0],i[1])>s(i[0],i[1])&&(i[0]=n[0])):o.push(i=n);for(var a,n,p=-(1/0),e=o.length-1,r=0,i=o[e];e>=r;i=n,++r)n=o[r],(a=s(i[1],n[0]))>p&&(p=a,c=n[0],f=i[1])}return w=b=null,c===1/0||h===1/0?[[0/0,0/0],[0/0,0/0]]:[[c,h],[f,d]]}}(),na.geo.centroid=function(t){ks=Ss=_s=$s=As=Ds=Ms=Rs=Ps=Os=Ls=0,na.geo.stream(t,Is);var e=Ps,n=Os,r=Ls,i=e*e+n*n+r*r;return La>i&&(e=Ds,n=Ms,r=Rs,Oa>Ss&&(e=_s,n=$s,r=As),i=e*e+n*n+r*r,La>i)?[0/0,0/0]:[Math.atan2(n,e)*Va,et(r/Math.sqrt(i))*Va]};var ks,Ss,_s,$s,As,Ds,Ms,Rs,Ps,Os,Ls,Is={sphere:y,point:Te,lineStart:ke,lineEnd:Se,polygonStart:function(){Is.lineStart=_e},polygonEnd:function(){Is.lineStart=ke}},Ns=Pe(Ae,Ne,He,[-Ia,-Ia/2]),Bs=1e9;na.geo.clipExtent=function(){var t,e,n,r,i,o,a={stream:function(t){return i&&(i.valid=!1),i=o(t),i.valid=!0,i},extent:function(s){return arguments.length?(o=je(t=+s[0][0],e=+s[0][1],n=+s[1][0],r=+s[1][1]),i&&(i.valid=!1,i=null),a):[[t,e],[n,r]]}};return a.extent([[0,0],[960,500]])},(na.geo.conicEqualArea=function(){return ze(We)}).raw=We,na.geo.albers=function(){return na.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},na.geo.albersUsa=function(){function t(t){var o=t[0],a=t[1];return e=null,n(o,a),e||(r(o,a),e)||i(o,a),e}var e,n,r,i,o=na.geo.albers(),a=na.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=na.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=o.scale(),n=o.translate(),r=(t[0]-n[0])/e,i=(t[1]-n[1])/e;return(i>=.12&&.234>i&&r>=-.425&&-.214>r?a:i>=.166&&.234>i&&r>=-.214&&-.115>r?s:o).invert(t)},t.stream=function(t){var e=o.stream(t),n=a.stream(t),r=s.stream(t);return{point:function(t,i){e.point(t,i),n.point(t,i),r.point(t,i)},sphere:function(){e.sphere(),n.sphere(),r.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),r.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),r.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),r.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),r.polygonEnd()}}},t.precision=function(e){return arguments.length?(o.precision(e),a.precision(e),s.precision(e),t):o.precision()},t.scale=function(e){return arguments.length?(o.scale(e),a.scale(.35*e),s.scale(e),t.translate(o.translate())):o.scale()},t.translate=function(e){if(!arguments.length)return o.translate();var u=o.scale(),c=+e[0],h=+e[1];return n=o.translate(e).clipExtent([[c-.455*u,h-.238*u],[c+.455*u,h+.238*u]]).stream(l).point,r=a.translate([c-.307*u,h+.201*u]).clipExtent([[c-.425*u+Oa,h+.12*u+Oa],[c-.214*u-Oa,h+.234*u-Oa]]).stream(l).point,i=s.translate([c-.205*u,h+.212*u]).clipExtent([[c-.214*u+Oa,h+.166*u+Oa],[c-.115*u-Oa,h+.234*u-Oa]]).stream(l).point,t},t.scale(1070)};var Hs,Fs,Vs,qs,js,zs,Ws={point:y,lineStart:y,lineEnd:y,polygonStart:function(){Fs=0,Ws.lineStart=Ue},polygonEnd:function(){Ws.lineStart=Ws.lineEnd=Ws.point=y,Hs+=ma(Fs/2)}},Us={point:Ye,lineStart:y,lineEnd:y,polygonStart:y,polygonEnd:y},Ys={point:Ke,lineStart:Ze,lineEnd:Je,polygonStart:function(){Ys.lineStart=Qe},polygonEnd:function(){Ys.point=Ke,Ys.lineStart=Ze,Ys.lineEnd=Je}};na.geo.path=function(){function t(t){return t&&("function"==typeof s&&o.pointRadius(+s.apply(this,arguments)),a&&a.valid||(a=i(o)),na.geo.stream(t,a)),o.result()}function e(){return a=null,t}var n,r,i,o,a,s=4.5;return t.area=function(t){return Hs=0,na.geo.stream(t,i(Ws)),Hs},t.centroid=function(t){return _s=$s=As=Ds=Ms=Rs=Ps=Os=Ls=0,na.geo.stream(t,i(Ys)),Ls?[Ps/Ls,Os/Ls]:Rs?[Ds/Rs,Ms/Rs]:As?[_s/As,$s/As]:[0/0,0/0]},t.bounds=function(t){return js=zs=-(Vs=qs=1/0),na.geo.stream(t,i(Us)),[[Vs,qs],[js,zs]]},t.projection=function(t){return arguments.length?(i=(n=t)?t.stream||nn(t):_t,e()):n},t.context=function(t){return arguments.length?(o=null==(r=t)?new Xe:new tn(t),"function"!=typeof s&&o.pointRadius(s),e()):r},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(o.pointRadius(+e),+e),t):s},t.projection(na.geo.albersUsa()).context(null)},na.geo.transform=function(t){return{stream:function(e){var n=new rn(e);for(var r in t)n[r]=t[r];return n}}},rn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},na.geo.projection=an,na.geo.projectionMutator=sn,(na.geo.equirectangular=function(){return an(un)}).raw=un.invert=un,na.geo.rotation=function(t){function e(e){return e=t(e[0]*Fa,e[1]*Fa),e[0]*=Va,e[1]*=Va,e}return t=hn(t[0]%360*Fa,t[1]*Fa,t.length>2?t[2]*Fa:0),e.invert=function(e){return e=t.invert(e[0]*Fa,e[1]*Fa),e[0]*=Va,e[1]*=Va,e},e},cn.invert=un,na.geo.circle=function(){function t(){var t="function"==typeof r?r.apply(this,arguments):r,e=hn(-t[0]*Fa,-t[1]*Fa,0).invert,i=[];return n(null,null,1,{point:function(t,n){i.push(t=e(t,n)),t[0]*=Va,t[1]*=Va}}),{type:"Polygon",coordinates:[i]}}var e,n,r=[0,0],i=6;return t.origin=function(e){return arguments.length?(r=e,t):r},t.angle=function(r){return arguments.length?(n=gn((e=+r)*Fa,i*Fa),t):e},t.precision=function(r){return arguments.length?(n=gn(e*Fa,(i=+r)*Fa),t):i},t.angle(90)},na.geo.distance=function(t,e){var n,r=(e[0]-t[0])*Fa,i=t[1]*Fa,o=e[1]*Fa,a=Math.sin(r),s=Math.cos(r),l=Math.sin(i),u=Math.cos(i),c=Math.sin(o),h=Math.cos(o);return Math.atan2(Math.sqrt((n=h*a)*n+(n=u*c-l*h*s)*n),l*c+u*h*s)},na.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return na.range(Math.ceil(o/m)*m,i,m).map(f).concat(na.range(Math.ceil(u/v)*v,l,v).map(d)).concat(na.range(Math.ceil(r/p)*p,n,p).filter(function(t){return ma(t%m)>Oa}).map(c)).concat(na.range(Math.ceil(s/g)*g,a,g).filter(function(t){return ma(t%v)>Oa}).map(h))}var n,r,i,o,a,s,l,u,c,h,f,d,p=10,g=p,m=90,v=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[f(o).concat(d(l).slice(1),f(i).reverse().slice(1),d(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(o=+e[0][0],i=+e[1][0],u=+e[0][1],l=+e[1][1],o>i&&(e=o,o=i,i=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[o,u],[i,l]]},t.minorExtent=function(e){return arguments.length?(r=+e[0][0],n=+e[1][0],s=+e[0][1],a=+e[1][1],r>n&&(e=r,r=n,n=e),s>a&&(e=s,s=a,a=e),t.precision(y)):[[r,s],[n,a]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(m=+e[0],v=+e[1],t):[m,v]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=vn(s,a,90),h=yn(r,n,y),f=vn(u,l,90),d=yn(o,i,y),t):y},t.majorExtent([[-180,-90+Oa],[180,90-Oa]]).minorExtent([[-180,-80-Oa],[180,80+Oa]])},na.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||r.apply(this,arguments),n||i.apply(this,arguments)]}}var e,n,r=wn,i=bn;return t.distance=function(){return na.geo.distance(e||r.apply(this,arguments),n||i.apply(this,arguments))},t.source=function(n){return arguments.length?(r=n,e="function"==typeof n?null:n,t):r},t.target=function(e){return arguments.length?(i=e,n="function"==typeof e?null:e,t):i},t.precision=function(){return arguments.length?t:0},t},na.geo.interpolate=function(t,e){return xn(t[0]*Fa,t[1]*Fa,e[0]*Fa,e[1]*Fa)},na.geo.length=function(t){return Xs=0,na.geo.stream(t,Gs),Xs};var Xs,Gs={sphere:y,point:y,lineStart:Cn,lineEnd:y,polygonStart:y,polygonEnd:y},Ks=Tn(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(na.geo.azimuthalEqualArea=function(){return an(Ks)}).raw=Ks;var Zs=Tn(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},_t);(na.geo.azimuthalEquidistant=function(){return an(Zs)}).raw=Zs,(na.geo.conicConformal=function(){return ze(En)}).raw=En,(na.geo.conicEquidistant=function(){return ze(kn)}).raw=kn;var Js=Tn(function(t){return 1/t},Math.atan);(na.geo.gnomonic=function(){return an(Js)}).raw=Js,Sn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ha]},(na.geo.mercator=function(){return _n(Sn)}).raw=Sn;var Qs=Tn(function(){return 1},Math.asin);(na.geo.orthographic=function(){return an(Qs)}).raw=Qs;var tl=Tn(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(na.geo.stereographic=function(){return an(tl)}).raw=tl,$n.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ha]},(na.geo.transverseMercator=function(){var t=_n($n),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=$n,na.geom={},na.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,i=St(n),o=St(r),a=t.length,s=[],l=[];for(e=0;a>e;e++)s.push([+i.call(this,t[e],e),+o.call(this,t[e],e),e]);for(s.sort(Rn),e=0;a>e;e++)l.push([s[e][0],-s[e][1]]);var u=Mn(s),c=Mn(l),h=c[0]===u[0],f=c[c.length-1]===u[u.length-1],d=[];for(e=u.length-1;e>=0;--e)d.push(t[s[u[e]][2]]);for(e=+h;e<c.length-f;++e)d.push(t[s[c[e]][2]]);return d}var n=An,r=Dn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(r=t,e):r},e)},na.geom.polygon=function(t){return xa(t,el),t};var el=na.geom.polygon.prototype=[];el.area=function(){for(var t,e=-1,n=this.length,r=this[n-1],i=0;++e<n;)t=r,r=this[e],i+=t[1]*r[0]-t[0]*r[1];return.5*i},el.centroid=function(t){var e,n,r=-1,i=this.length,o=0,a=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++r<i;)e=s,s=this[r],n=e[0]*s[1]-s[0]*e[1],o+=(e[0]+s[0])*n,a+=(e[1]+s[1])*n;return[o*t,a*t]},el.clip=function(t){for(var e,n,r,i,o,a,s=Ln(t),l=-1,u=this.length-Ln(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,i=this[l],o=e[(r=e.length-s)-1],n=-1;++n<r;)a=e[n],Pn(a,c,i)?(Pn(o,c,i)||t.push(On(o,a,c,i)),t.push(a)):Pn(o,c,i)&&t.push(On(o,a,c,i)),o=a;s&&t.push(t[0]),c=i}return t};var nl,rl,il,ol,al,sl=[],ll=[];jn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort(Wn),e.length},er.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},nr.prototype={insert:function(t,e){var n,r,i;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=ar(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)r=n.U,n===r.L?(i=r.R,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.R&&(ir(this,n),t=n,n=t.U),n.C=!1,r.C=!0,or(this,r))):(i=r.L,i&&i.C?(n.C=i.C=!1,r.C=!0,t=r):(t===n.L&&(or(this,n),t=n,n=t.U),n.C=!1,r.C=!0,ir(this,r))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,r,i=t.U,o=t.L,a=t.R;if(n=o?a?ar(a):o:a,i?i.L===t?i.L=n:i.R=n:this._=n,o&&a?(r=n.C,n.C=t.C,n.L=o,o.U=n,n!==a?(i=n.U,n.U=t.U,t=n.R,i.L=t,n.R=a,a.U=n):(n.U=i,i=n,t=n.R)):(r=t.C,t=n),t&&(t.U=i),!r){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===i.L){if(e=i.R,e.C&&(e.C=!1,i.C=!0,ir(this,i),e=i.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,or(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,ir(this,i),t=this._;break}}else if(e=i.L,e.C&&(e.C=!1,i.C=!0,or(this,i),e=i.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ir(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,or(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&&(t.C=!1)}}},na.geom.voronoi=function(t){function e(t){var e=new Array(t.length),r=s[0][0],i=s[0][1],o=s[1][0],a=s[1][1];return sr(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site,c=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=r&&u.x<=o&&u.y>=i&&u.y<=a?[[r,a],[o,a],[o,i],[r,i]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(o(t,e)/Oa)*Oa,y:Math.round(a(t,e)/Oa)*Oa,i:e}})}var r=An,i=Dn,o=r,a=i,s=ul;return t?e(t):(e.links=function(t){return sr(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return sr(n(t)).cells.forEach(function(n,r){for(var i,o,a=n.site,s=n.edges.sort(Wn),l=-1,u=s.length,c=s[u-1].edge,h=c.l===a?c.r:c.l;++l<u;)i=c,o=h,c=s[l].edge,h=c.l===a?c.r:c.l,r<o.i&&r<h.i&&ur(a,o,h)<0&&e.push([t[r],t[o.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(o=St(r=t),e):r},e.y=function(t){return arguments.length?(a=St(i=t),e):i},e.clipExtent=function(t){return arguments.length?(s=null==t?ul:t,e):s===ul?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===ul?null:s&&s[1]},e)};var ul=[[-1e6,-1e6],[1e6,1e6]];na.geom.delaunay=function(t){return na.geom.voronoi().triangles(t)},na.geom.quadtree=function(t,e,n,r,i){function o(t){function o(t,e,n,r,i,o,a,s){if(!isNaN(n)&&!isNaN(r))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(ma(l-n)+ma(c-r)<.01)u(t,e,n,r,i,o,a,s);else{var h=t.point;t.x=t.y=t.point=null,u(t,h,l,c,i,o,a,s),u(t,e,n,r,i,o,a,s)}else t.x=n,t.y=r,t.point=e}else u(t,e,n,r,i,o,a,s)}function u(t,e,n,r,i,a,s,l){var u=.5*(i+s),c=.5*(a+l),h=n>=u,f=r>=c,d=f<<1|h;t.leaf=!1,t=t.nodes[d]||(t.nodes[d]=fr()),h?i=u:s=u,f?a=c:l=c,o(t,e,n,r,i,a,s,l)}var c,h,f,d,p,g,m,v,y,w=St(s),b=St(l);if(null!=e)g=e,m=n,v=r,y=i;else if(v=y=-(g=m=1/0),h=[],f=[],p=t.length,a)for(d=0;p>d;++d)c=t[d],c.x<g&&(g=c.x),c.y<m&&(m=c.y),c.x>v&&(v=c.x),c.y>y&&(y=c.y),h.push(c.x),f.push(c.y);else for(d=0;p>d;++d){var x=+w(c=t[d],d),C=+b(c,d);g>x&&(g=x),m>C&&(m=C),x>v&&(v=x),C>y&&(y=C),h.push(x),f.push(C)}var T=v-g,E=y-m;T>E?y=m+T:v=g+E;var k=fr();if(k.add=function(t){o(k,t,+w(t,++d),+b(t,d),g,m,v,y)},k.visit=function(t){dr(t,k,g,m,v,y)},k.find=function(t){return pr(k,t[0],t[1],g,m,v,y)},d=-1,null==e){for(;++d<p;)o(k,t[d],h[d],f[d],g,m,v,y);--d}else t.forEach(k.add);return h=f=t=c=null,k}var a,s=An,l=Dn;return(a=arguments.length)?(s=cr,l=hr,3===a&&(i=n,r=e,n=e=0),o(t)):(o.x=function(t){return arguments.length?(s=t,o):s},o.y=function(t){return arguments.length?(l=t,o):l},o.extent=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=+t[0][0],n=+t[0][1],r=+t[1][0],i=+t[1][1]),o):null==e?null:[[e,n],[r,i]]},o.size=function(t){return arguments.length?(null==t?e=n=r=i=null:(e=n=0,r=+t[0],i=+t[1]),o):null==e?null:[r-e,i-n]},o)},na.interpolateRgb=gr,na.interpolateObject=mr,na.interpolateNumber=vr,na.interpolateString=yr;var cl=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,hl=new RegExp(cl.source,"g");na.interpolate=wr,na.interpolators=[function(t,e){var n=typeof e;return("string"===n?ns.has(e)||/^(#|rgb\(|hsl\()/.test(e)?gr:yr:e instanceof at?gr:Array.isArray(e)?br:"object"===n&&isNaN(e)?mr:vr)(t,e)}],na.interpolateArray=br;var fl=function(){return _t},dl=na.map({linear:fl,poly:_r,quad:function(){return Er},cubic:function(){return kr},sin:function(){return $r},exp:function(){return Ar},circle:function(){return Dr},elastic:Mr,back:Rr,bounce:function(){return Pr}}),pl=na.map({"in":_t,out:Cr,"in-out":Tr,"out-in":function(t){return Tr(Cr(t))}});na.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,r=e>=0?t.slice(e+1):"in";return n=dl.get(n)||fl,r=pl.get(r)||_t,xr(r(n.apply(null,ra.call(arguments,1))))},na.interpolateHcl=Or,na.interpolateHsl=Lr,na.interpolateLab=Ir,na.interpolateRound=Nr,na.transform=function(t){var e=oa.createElementNS(na.ns.prefix.svg,"g");return(na.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Br(n?n.matrix:gl)})(t)},Br.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var gl={a:1,b:0,c:0,d:1,e:0,f:0};na.interpolateTransform=qr,na.layout={},na.layout.bundle=function(){return function(t){for(var e=[],n=-1,r=t.length;++n<r;)e.push(Wr(t[n]));return e}},na.layout.chord=function(){function t(){var t,u,h,f,d,p={},g=[],m=na.range(o),v=[];for(n=[],r=[],t=0,f=-1;++f<o;){for(u=0,d=-1;++d<o;)u+=i[f][d];g.push(u),v.push(na.range(o)),t+=u}for(a&&m.sort(function(t,e){return a(g[t],g[e])}),s&&v.forEach(function(t,e){t.sort(function(t,n){return s(i[e][t],i[e][n])})}),t=(Na-c*o)/t,u=0,f=-1;++f<o;){for(h=u,d=-1;++d<o;){var y=m[f],w=v[y][d],b=i[y][w],x=u,C=u+=b*t;p[y+"-"+w]={index:y,subindex:w,startAngle:x,endAngle:C,value:b}}r[y]={index:y,startAngle:h,endAngle:u,value:(u-h)/t},u+=c}for(f=-1;++f<o;)for(d=f-1;++d<o;){var T=p[f+"-"+d],E=p[d+"-"+f];(T.value||E.value)&&n.push(T.value<E.value?{source:E,target:T}:{source:T,target:E})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,r,i,o,a,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(o=(i=t)&&i.length,n=r=null,u):i},u.padding=function(t){return arguments.length?(c=t,n=r=null,u):c},u.sortGroups=function(t){return arguments.length?(a=t,n=r=null,u):a},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return r||t(),r},u},na.layout.force=function(){function t(t){return function(e,n,r,i){if(e.point!==t){var o=e.cx-t.x,a=e.cy-t.y,s=i-n,l=o*o+a*a;if(l>s*s/m){if(p>l){var u=e.charge/l;t.px-=o*u,t.py-=a*u}return!0}if(e.point&&l&&p>l){var u=e.pointCharge/l;t.px-=o*u,t.py-=a*u}}return!e.charge}}function e(t){t.px=na.event.x,t.py=na.event.y,s.resume()}var n,r,i,o,a,s={},l=na.dispatch("start","tick","end"),u=[1,1],c=.9,h=ml,f=vl,d=-30,p=yl,g=.1,m=.64,v=[],y=[];return s.tick=function(){if((r*=.99)<.005)return l.end({type:"end",alpha:r=0}),!0;var e,n,s,h,f,p,m,w,b,x=v.length,C=y.length;for(n=0;C>n;++n)s=y[n],h=s.source,f=s.target,w=f.x-h.x,b=f.y-h.y,(p=w*w+b*b)&&(p=r*o[n]*((p=Math.sqrt(p))-i[n])/p,w*=p,b*=p,f.x-=w*(m=h.weight/(f.weight+h.weight)),f.y-=b*m,h.x+=w*(m=1-m),h.y+=b*m);if((m=r*g)&&(w=u[0]/2,b=u[1]/2,n=-1,m))for(;++n<x;)s=v[n],s.x+=(w-s.x)*m,s.y+=(b-s.y)*m;if(d)for(Jr(e=na.geom.quadtree(v),r,a),n=-1;++n<x;)(s=v[n]).fixed||e.visit(t(s));for(n=-1;++n<x;)s=v[n],s.fixed?(s.x=s.px,s.y=s.py):(s.x-=(s.px-(s.px=s.x))*c,s.y-=(s.py-(s.py=s.y))*c);l.tick({type:"tick",alpha:r})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(u=t,s):u},s.linkDistance=function(t){return arguments.length?(h="function"==typeof t?t:+t,s):h},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,s):f},s.friction=function(t){return arguments.length?(c=+t,s):c},s.charge=function(t){return arguments.length?(d="function"==typeof t?t:+t,s):d},s.chargeDistance=function(t){return arguments.length?(p=t*t,s):Math.sqrt(p)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(m=t*t,s):Math.sqrt(m)},s.alpha=function(t){return arguments.length?(t=+t,r?r=t>0?t:0:t>0&&(l.start({type:"start",alpha:r=t}),na.timer(s.tick)),s):r},s.start=function(){function t(t,r){if(!n){for(n=new Array(l),s=0;l>s;++s)n[s]=[];for(s=0;u>s;++s){var i=y[s];n[i.source.index].push(i.target),n[i.target.index].push(i.source)}}for(var o,a=n[e],s=-1,u=a.length;++s<u;)if(!isNaN(o=a[s][t]))return o;return Math.random()*r}var e,n,r,l=v.length,c=y.length,p=u[0],g=u[1];for(e=0;l>e;++e)(r=v[e]).index=e,r.weight=0;for(e=0;c>e;++e)r=y[e],"number"==typeof r.source&&(r.source=v[r.source]),"number"==typeof r.target&&(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(e=0;l>e;++e)r=v[e],isNaN(r.x)&&(r.x=t("x",p)),isNaN(r.y)&&(r.y=t("y",g)),isNaN(r.px)&&(r.px=r.x),isNaN(r.py)&&(r.py=r.y);if(i=[],"function"==typeof h)for(e=0;c>e;++e)i[e]=+h.call(this,y[e],e);else for(e=0;c>e;++e)i[e]=h;if(o=[],"function"==typeof f)for(e=0;c>e;++e)o[e]=+f.call(this,y[e],e);else for(e=0;c>e;++e)o[e]=f;if(a=[],"function"==typeof d)for(e=0;l>e;++e)a[e]=+d.call(this,v[e],e);else for(e=0;l>e;++e)a[e]=d;return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){return n||(n=na.behavior.drag().origin(_t).on("dragstart.force",Xr).on("drag.force",e).on("dragend.force",Gr)),arguments.length?void this.on("mouseover.force",Kr).on("mouseout.force",Zr).call(n):n},na.rebind(s,l,"on")};var ml=20,vl=1,yl=1/0;na.layout.hierarchy=function(){function t(i){var o,a=[i],s=[];for(i.depth=0;null!=(o=a.pop());)if(s.push(o),(u=n.call(t,o,o.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)a.push(c=u[l]),c.parent=o,c.depth=o.depth+1;r&&(o.value=0),o.children=u}else r&&(o.value=+r.call(t,o,o.depth)||0),delete o.children;return ei(i,function(t){var n,i;e&&(n=t.children)&&n.sort(e),r&&(i=t.parent)&&(i.value+=t.value)}),s}var e=ii,n=ni,r=ri;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(r=e,t):r},t.revalue=function(e){return r&&(ti(e,function(t){t.children&&(t.value=0)}),ei(e,function(e){var n;e.children||(e.value=+r.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},na.layout.partition=function(){function t(e,n,r,i){var o=e.children;if(e.x=n,e.y=e.depth*i,e.dx=r,e.dy=i,o&&(a=o.length)){var a,s,l,u=-1;for(r=e.value?r/e.value:0;++u<a;)t(s=o[u],n,l=s.value*r,i),n+=l}}function e(t){var n=t.children,r=0;if(n&&(i=n.length))for(var i,o=-1;++o<i;)r=Math.max(r,e(n[o]));return 1+r}function n(n,o){var a=r.call(this,n,o);return t(a[0],0,i[0],i[1]/e(a[0])),a}var r=na.layout.hierarchy(),i=[1,1];return n.size=function(t){return arguments.length?(i=t,n):i},Qr(n,r)},na.layout.pie=function(){function t(a){var s,l=a.length,u=a.map(function(n,r){return+e.call(t,n,r)}),c=+("function"==typeof r?r.apply(this,arguments):r),h=("function"==typeof i?i.apply(this,arguments):i)-c,f=Math.min(Math.abs(h)/l,+("function"==typeof o?o.apply(this,arguments):o)),d=f*(0>h?-1:1),p=(h-l*d)/na.sum(u),g=na.range(l),m=[];return null!=n&&g.sort(n===wl?function(t,e){return u[e]-u[t]}:function(t,e){return n(a[t],a[e])}),g.forEach(function(t){m[t]={data:a[t],value:s=u[t],startAngle:c,endAngle:c+=s*p+d,padAngle:f}}),m}var e=Number,n=wl,r=0,i=Na,o=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(r=e,t):r},t.endAngle=function(e){return arguments.length?(i=e,t):i},t.padAngle=function(e){return arguments.length?(o=e,t):o},t};var wl={};na.layout.stack=function(){function t(s,l){if(!(f=s.length))return s;var u=s.map(function(n,r){return e.call(t,n,r)}),c=u.map(function(e){return e.map(function(e,n){return[o.call(t,e,n),a.call(t,e,n)]})}),h=n.call(t,c,l);u=na.permute(u,h),c=na.permute(c,h);var f,d,p,g,m=r.call(t,c,l),v=u[0].length;for(p=0;v>p;++p)for(i.call(t,u[0][p],g=m[p],c[0][p][1]),d=1;f>d;++d)i.call(t,u[d][p],g+=c[d-1][p][1],c[d][p][1]);return s}var e=_t,n=ui,r=ci,i=li,o=ai,a=si;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:bl.get(e)||ui,t):n},t.offset=function(e){return arguments.length?(r="function"==typeof e?e:xl.get(e)||ci,t):r},t.x=function(e){return arguments.length?(o=e,t):o},t.y=function(e){return arguments.length?(a=e,t):a},t.out=function(e){return arguments.length?(i=e,t):i},t};var bl=na.map({"inside-out":function(t){var e,n,r=t.length,i=t.map(hi),o=t.map(fi),a=na.range(r).sort(function(t,e){return i[t]-i[e]}),s=0,l=0,u=[],c=[];for(e=0;r>e;++e)n=a[e],l>s?(s+=o[n],u.push(n)):(l+=o[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return na.range(t.length).reverse()},"default":ui}),xl=na.map({silhouette:function(t){var e,n,r,i=t.length,o=t[0].length,a=[],s=0,l=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];r>s&&(s=r),a.push(r)}for(n=0;o>n;++n)l[n]=(s-a[n])/2;return l},wiggle:function(t){var e,n,r,i,o,a,s,l,u,c=t.length,h=t[0],f=h.length,d=[];for(d[0]=l=u=0,n=1;f>n;++n){for(e=0,i=0;c>e;++e)i+=t[e][n][1];for(e=0,o=0,s=h[n][0]-h[n-1][0];c>e;++e){for(r=0,a=(t[e][n][1]-t[e][n-1][1])/(2*s);e>r;++r)a+=(t[r][n][1]-t[r][n-1][1])/s;o+=a*t[e][n][1]}d[n]=l-=i?o/i*s:0,u>l&&(u=l)}for(n=0;f>n;++n)d[n]-=u;return d},expand:function(t){var e,n,r,i=t.length,o=t[0].length,a=1/i,s=[];for(n=0;o>n;++n){for(e=0,r=0;i>e;e++)r+=t[e][n][1];if(r)for(e=0;i>e;e++)t[e][n][1]/=r;else for(e=0;i>e;e++)t[e][n][1]=a}for(n=0;o>n;++n)s[n]=0;return s},zero:ci});na.layout.histogram=function(){function t(t,o){for(var a,s,l=[],u=t.map(n,this),c=r.call(this,u,o),h=i.call(this,c,u,o),o=-1,f=u.length,d=h.length-1,p=e?1:1/f;++o<d;)a=l[o]=[],a.dx=h[o+1]-(a.x=h[o]),a.y=0;if(d>0)for(o=-1;++o<f;)s=u[o],s>=c[0]&&s<=c[1]&&(a=l[na.bisect(h,s,1,d)-1],a.y+=p,a.push(t[o]));return l}var e=!0,n=Number,r=mi,i=pi;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(r=St(e),t):r},t.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return gi(t,e)}:St(e),t):i},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},na.layout.pack=function(){function t(t,o){var a=n.call(this,t,o),s=a[0],l=i[0],u=i[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,ei(s,function(t){t.r=+c(t.value)}),ei(s,xi),r){var h=r*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;ei(s,function(t){t.r+=h}),ei(s,xi),ei(s,function(t){t.r-=h})}return Ei(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),a}var e,n=na.layout.hierarchy().sort(vi),r=0,i=[1,1];return t.size=function(e){return arguments.length?(i=e,t):i},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(r=+e,t):r},Qr(t,n)},na.layout.tree=function(){function t(t,i){var c=a.call(this,t,i),h=c[0],f=e(h);if(ei(f,n),f.parent.m=-f.z,ti(f,r),u)ti(h,o);else{var d=h,p=h,g=h;ti(h,function(t){t.x<d.x&&(d=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var m=s(d,p)/2-d.x,v=l[0]/(p.x+s(p,d)/2+m),y=l[1]/(g.depth||1);ti(h,function(t){t.x=(t.x+m)*v,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},r=[n];null!=(e=r.pop());)for(var i,o=e.children,a=0,s=o.length;s>a;++a)r.push((o[a]=i={_:o[a],parent:e,
children:(i=o[a].children)&&i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:a}).a=i);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,r=t.i?n[t.i-1]:null;if(e.length){Di(t);var o=(e[0].z+e[e.length-1].z)/2;r?(t.z=r.z+s(t._,r._),t.m=t.z-o):t.z=o}else r&&(t.z=r.z+s(t._,r._));t.parent.A=i(t,r,t.parent.A||n[0])}function r(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function i(t,e,n){if(e){for(var r,i=t,o=t,a=e,l=i.parent.children[0],u=i.m,c=o.m,h=a.m,f=l.m;a=$i(a),i=_i(i),a&&i;)l=_i(l),o=$i(o),o.a=t,r=a.z+h-i.z-u+s(a._,i._),r>0&&(Ai(Mi(a,t,n),t,r),u+=r,c+=r),h+=a.m,u+=i.m,f+=l.m,c+=o.m;a&&!$i(o)&&(o.t=a,o.m+=h-c),i&&!_i(l)&&(l.t=i,l.m+=u-f,n=t)}return n}function o(t){t.x*=l[0],t.y=t.depth*l[1]}var a=na.layout.hierarchy().sort(null).value(null),s=Si,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?o:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:o,t):u?l:null},Qr(t,a)},na.layout.cluster=function(){function t(t,o){var a,s=e.call(this,t,o),l=s[0],u=0;ei(l,function(t){var e=t.children;e&&e.length?(t.x=Pi(e),t.y=Ri(e)):(t.x=a?u+=n(t,a):0,t.y=0,a=t)});var c=Oi(l),h=Li(l),f=c.x-n(c,h)/2,d=h.x+n(h,c)/2;return ei(l,i?function(t){t.x=(t.x-l.x)*r[0],t.y=(l.y-t.y)*r[1]}:function(t){t.x=(t.x-f)/(d-f)*r[0],t.y=(1-(l.y?t.y/l.y:1))*r[1]}),s}var e=na.layout.hierarchy().sort(null).value(null),n=Si,r=[1,1],i=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(i=null==(r=e),t):i?null:r},t.nodeSize=function(e){return arguments.length?(i=null!=(r=e),t):i?r:null},Qr(t,e)},na.layout.treemap=function(){function t(t,e){for(var n,r,i=-1,o=t.length;++i<o;)r=(n=t[i]).value*(0>e?0:e),n.area=isNaN(r)||0>=r?0:r}function e(n){var o=n.children;if(o&&o.length){var a,s,l,u=h(n),c=[],f=o.slice(),p=1/0,g="slice"===d?u.dx:"dice"===d?u.dy:"slice-dice"===d?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(f,u.dx*u.dy/n.value),c.area=0;(l=f.length)>0;)c.push(a=f[l-1]),c.area+=a.area,"squarify"!==d||(s=r(c,g))<=p?(f.pop(),p=s):(c.area-=c.pop().area,i(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(i(c,g,u,!0),c.length=c.area=0),o.forEach(e)}}function n(e){var r=e.children;if(r&&r.length){var o,a=h(e),s=r.slice(),l=[];for(t(s,a.dx*a.dy/e.value),l.area=0;o=s.pop();)l.push(o),l.area+=o.area,null!=o.z&&(i(l,o.z?a.dx:a.dy,a,!s.length),l.length=l.area=0);r.forEach(n)}}function r(t,e){for(var n,r=t.area,i=0,o=1/0,a=-1,s=t.length;++a<s;)(n=t[a].area)&&(o>n&&(o=n),n>i&&(i=n));return r*=r,e*=e,r?Math.max(e*i*p/r,r/(e*o*p)):1/0}function i(t,e,n,r){var i,o=-1,a=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((r||c>n.dy)&&(c=n.dy);++o<a;)i=t[o],i.x=s,i.y=u,i.dy=c,s+=i.dx=Math.min(n.x+n.dx-s,c?l(i.area/c):0);i.z=!0,i.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((r||c>n.dx)&&(c=n.dx);++o<a;)i=t[o],i.x=s,i.y=u,i.dx=c,u+=i.dy=Math.min(n.y+n.dy-u,c?l(i.area/c):0);i.z=!1,i.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function o(r){var i=a||s(r),o=i[0];return o.x=0,o.y=0,o.dx=u[0],o.dy=u[1],a&&s.revalue(o),t([o],o.dx*o.dy/o.value),(a?n:e)(o),f&&(a=i),i}var a,s=na.layout.hierarchy(),l=Math.round,u=[1,1],c=null,h=Ii,f=!1,d="squarify",p=.5*(1+Math.sqrt(5));return o.size=function(t){return arguments.length?(u=t,o):u},o.padding=function(t){function e(e){var n=t.call(o,e,e.depth);return null==n?Ii(e):Ni(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Ni(e,t)}if(!arguments.length)return c;var r;return h=null==(c=t)?Ii:"function"==(r=typeof t)?e:"number"===r?(t=[t,t,t,t],n):n,o},o.round=function(t){return arguments.length?(l=t?Math.round:Number,o):l!=Number},o.sticky=function(t){return arguments.length?(f=t,a=null,o):f},o.ratio=function(t){return arguments.length?(p=t,o):p},o.mode=function(t){return arguments.length?(d=t+"",o):d},Qr(o,s)},na.random={normal:function(t,e){var n=arguments.length;return 2>n&&(e=1),1>n&&(t=0),function(){var n,r,i;do n=2*Math.random()-1,r=2*Math.random()-1,i=n*n+r*r;while(!i||i>1);return t+e*n*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var t=na.random.normal.apply(na,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=na.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;t>n;n++)e+=Math.random();return e}}},na.scale={};var Cl={floor:_t,ceil:_t};na.scale.linear=function(){return zi([0,1],[0,1],wr,!1)};var Tl={s:1,g:1,p:1,r:1,e:1};na.scale.log=function(){return Ji(na.scale.linear().domain([0,1]),10,!0,[1,10])};var El=na.format(".0e"),kl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};na.scale.pow=function(){return Qi(na.scale.linear(),1,[0,1])},na.scale.sqrt=function(){return na.scale.pow().exponent(.5)},na.scale.ordinal=function(){return eo([],{t:"range",a:[[]]})},na.scale.category10=function(){return na.scale.ordinal().range(Sl)},na.scale.category20=function(){return na.scale.ordinal().range(_l)},na.scale.category20b=function(){return na.scale.ordinal().range($l)},na.scale.category20c=function(){return na.scale.ordinal().range(Al)};var Sl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(wt),_l=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(wt),$l=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(wt),Al=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(wt);na.scale.quantile=function(){return no([],[])},na.scale.quantize=function(){return ro(0,1,[0,1])},na.scale.threshold=function(){return io([.5],[0,1])},na.scale.identity=function(){return oo([0,1])},na.svg={},na.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+r.apply(this,arguments)),c=a.apply(this,arguments)-Ha,h=s.apply(this,arguments)-Ha,f=Math.abs(h-c),d=c>h?0:1;if(t>u&&(p=u,u=t,t=p),f>=Ba)return e(u,d)+(t?e(t,1-d):"")+"Z";var p,g,m,v,y,w,b,x,C,T,E,k,S=0,_=0,$=[];if((v=(+l.apply(this,arguments)||0)/2)&&(m=o===Dl?Math.sqrt(t*t+u*u):+o.apply(this,arguments),d||(_*=-1),u&&(_=et(m/u*Math.sin(v))),t&&(S=et(m/t*Math.sin(v)))),u){y=u*Math.cos(c+_),w=u*Math.sin(c+_),b=u*Math.cos(h-_),x=u*Math.sin(h-_);var A=Math.abs(h-c-2*_)<=Ia?0:1;if(_&&fo(y,w,b,x)===d^A){var D=(c+h)/2;y=u*Math.cos(D),w=u*Math.sin(D),b=x=null}}else y=w=0;if(t){C=t*Math.cos(h-S),T=t*Math.sin(h-S),E=t*Math.cos(c+S),k=t*Math.sin(c+S);var M=Math.abs(c-h+2*S)<=Ia?0:1;if(S&&fo(C,T,E,k)===1-d^M){var R=(c+h)/2;C=t*Math.cos(R),T=t*Math.sin(R),E=k=null}}else C=T=0;if((p=Math.min(Math.abs(u-t)/2,+i.apply(this,arguments)))>.001){g=u>t^d?0:1;var P=null==E?[C,T]:null==b?[y,w]:On([y,w],[E,k],[b,x],[C,T]),O=y-P[0],L=w-P[1],I=b-P[0],N=x-P[1],B=1/Math.sin(Math.acos((O*I+L*N)/(Math.sqrt(O*O+L*L)*Math.sqrt(I*I+N*N)))/2),H=Math.sqrt(P[0]*P[0]+P[1]*P[1]);if(null!=b){var F=Math.min(p,(u-H)/(B+1)),V=po(null==E?[C,T]:[E,k],[y,w],u,F,d),q=po([b,x],[C,T],u,F,d);p===F?$.push("M",V[0],"A",F,",",F," 0 0,",g," ",V[1],"A",u,",",u," 0 ",1-d^fo(V[1][0],V[1][1],q[1][0],q[1][1]),",",d," ",q[1],"A",F,",",F," 0 0,",g," ",q[0]):$.push("M",V[0],"A",F,",",F," 0 1,",g," ",q[0])}else $.push("M",y,",",w);if(null!=E){var j=Math.min(p,(t-H)/(B-1)),z=po([y,w],[E,k],t,-j,d),W=po([C,T],null==b?[y,w]:[b,x],t,-j,d);p===j?$.push("L",W[0],"A",j,",",j," 0 0,",g," ",W[1],"A",t,",",t," 0 ",d^fo(W[1][0],W[1][1],z[1][0],z[1][1]),",",1-d," ",z[1],"A",j,",",j," 0 0,",g," ",z[0]):$.push("L",W[0],"A",j,",",j," 0 0,",g," ",z[0])}else $.push("L",C,",",T)}else $.push("M",y,",",w),null!=b&&$.push("A",u,",",u," 0 ",A,",",d," ",b,",",x),$.push("L",C,",",T),null!=E&&$.push("A",t,",",t," 0 ",M,",",1-d," ",E,",",k);return $.push("Z"),$.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=so,r=lo,i=ao,o=Dl,a=uo,s=co,l=ho;return t.innerRadius=function(e){return arguments.length?(n=St(e),t):n},t.outerRadius=function(e){return arguments.length?(r=St(e),t):r},t.cornerRadius=function(e){return arguments.length?(i=St(e),t):i},t.padRadius=function(e){return arguments.length?(o=e==Dl?Dl:St(e),t):o},t.startAngle=function(e){return arguments.length?(a=St(e),t):a},t.endAngle=function(e){return arguments.length?(s=St(e),t):s},t.padAngle=function(e){return arguments.length?(l=St(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +r.apply(this,arguments))/2,e=(+a.apply(this,arguments)+ +s.apply(this,arguments))/2-Ha;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Dl="auto";na.svg.line=function(){return go(_t)};var Ml=na.map({linear:mo,"linear-closed":vo,step:yo,"step-before":wo,"step-after":bo,basis:So,"basis-open":_o,"basis-closed":$o,bundle:Ao,cardinal:To,"cardinal-open":xo,"cardinal-closed":Co,monotone:Lo});Ml.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Rl=[0,2/3,1/3,0],Pl=[0,1/3,2/3,0],Ol=[0,1/6,2/3,1/6];na.svg.line.radial=function(){var t=go(Io);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},wo.reverse=bo,bo.reverse=wo,na.svg.area=function(){return No(_t)},na.svg.area.radial=function(){var t=No(Io);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},na.svg.chord=function(){function t(t,s){var l=e(this,o,t,s),u=e(this,a,t,s);return"M"+l.p0+r(l.r,l.p1,l.a1-l.a0)+(n(l,u)?i(l.r,l.p1,l.r,l.p0):i(l.r,l.p1,u.r,u.p0)+r(u.r,u.p1,u.a1-u.a0)+i(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,r){var i=e.call(t,n,r),o=s.call(t,i,r),a=l.call(t,i,r)-Ha,c=u.call(t,i,r)-Ha;return{r:o,a0:a,a1:c,p0:[o*Math.cos(a),o*Math.sin(a)],p1:[o*Math.cos(c),o*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function r(t,e,n){return"A"+t+","+t+" 0 "+ +(n>Ia)+",1 "+e}function i(t,e,n,r){return"Q 0,0 "+r}var o=wn,a=bn,s=Bo,l=uo,u=co;return t.radius=function(e){return arguments.length?(s=St(e),t):s},t.source=function(e){return arguments.length?(o=St(e),t):o},t.target=function(e){return arguments.length?(a=St(e),t):a},t.startAngle=function(e){return arguments.length?(l=St(e),t):l},t.endAngle=function(e){return arguments.length?(u=St(e),t):u},t},na.svg.diagonal=function(){function t(t,i){var o=e.call(this,t,i),a=n.call(this,t,i),s=(o.y+a.y)/2,l=[o,{x:o.x,y:s},{x:a.x,y:s},a];return l=l.map(r),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=wn,n=bn,r=Ho;return t.source=function(n){return arguments.length?(e=St(n),t):e},t.target=function(e){return arguments.length?(n=St(e),t):n},t.projection=function(e){return arguments.length?(r=e,t):r},t},na.svg.diagonal.radial=function(){var t=na.svg.diagonal(),e=Ho,n=t.projection;return t.projection=function(t){return arguments.length?n(Fo(e=t)):e},t},na.svg.symbol=function(){function t(t,r){return(Ll.get(e.call(this,t,r))||jo)(n.call(this,t,r))}var e=qo,n=Vo;return t.type=function(n){return arguments.length?(e=St(n),t):e},t.size=function(e){return arguments.length?(n=St(e),t):n},t};var Ll=na.map({circle:jo,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*Hl)),n=e*Hl;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Bl),n=e*Bl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Bl),n=e*Bl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});na.svg.symbolTypes=Ll.keys();var Il,Nl,Bl=Math.sqrt(3),Hl=Math.tan(30*Fa),Fl=[],Vl=0;Fl.call=Sa.call,Fl.empty=Sa.empty,Fl.node=Sa.node,Fl.size=Sa.size,na.transition=function(t){return arguments.length?Il?t.transition():t:Aa.transition()},na.transition.prototype=Fl,Fl.select=function(t){var e,n,r,i=this.id,o=this.namespace,a=[];t=k(t);for(var s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(r=u[c])&&(n=t.call(r,r.__data__,c,s))?("__data__"in r&&(n.__data__=r.__data__),Xo(n,c,o,i,r[o][i]),e.push(n)):e.push(null)}return zo(a,o,i)},Fl.selectAll=function(t){var e,n,r,i,o,a=this.id,s=this.namespace,l=[];t=S(t);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],f=-1,d=h.length;++f<d;)if(r=h[f]){o=r[s][a],n=t.call(r,r.__data__,f,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(i=n[p])&&Xo(i,p,s,a,o),e.push(i)}return zo(l,s,a)},Fl.filter=function(t){var e,n,r,i=[];"function"!=typeof t&&(t=B(t));for(var o=0,a=this.length;a>o;o++){i.push(e=[]);for(var n=this[o],s=0,l=n.length;l>s;s++)(r=n[s])&&t.call(r,r.__data__,s,o)&&e.push(r)}return zo(i,this.namespace,this.id)},Fl.tween=function(t,e){var n=this.id,r=this.namespace;return arguments.length<2?this.node()[r][n].tween.get(t):F(this,null==e?function(e){e[r][n].tween.remove(t)}:function(i){i[r][n].tween.set(t,e)})},Fl.attr=function(t,e){function n(){this.removeAttribute(s)}function r(){this.removeAttributeNS(s.space,s.local)}function i(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=a(n,t),function(t){this.setAttribute(s,e(t))})})}function o(t){return null==t?r:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=a(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var a="transform"==t?qr:wr,s=na.ns.qualify(t);return Wo(this,"attr."+t,e,s.local?o:i)},Fl.attrTween=function(t,e){function n(t,n){var r=e.call(this,t,n,this.getAttribute(i));return r&&function(t){this.setAttribute(i,r(t))}}function r(t,n){var r=e.call(this,t,n,this.getAttributeNS(i.space,i.local));return r&&function(t){this.setAttributeNS(i.space,i.local,r(t))}}var i=na.ns.qualify(t);return this.tween("attr."+t,i.local?r:n)},Fl.style=function(t,e,n){function r(){this.style.removeProperty(t)}function i(e){return null==e?r:(e+="",function(){var r,i=sa.getComputedStyle(this,null).getPropertyValue(t);return i!==e&&(r=wr(i,e),function(e){this.style.setProperty(t,r(e),n)})})}var o=arguments.length;if(3>o){if("string"!=typeof t){2>o&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return Wo(this,"style."+t,e,i)},Fl.styleTween=function(t,e,n){function r(r,i){var o=e.call(this,r,i,sa.getComputedStyle(this,null).getPropertyValue(t));return o&&function(e){this.style.setProperty(t,o(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,r)},Fl.text=function(t){return Wo(this,"text",t,Uo)},Fl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Fl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=na.ease.apply(na,arguments)),F(this,function(r){r[n][e].ease=t}))},Fl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:F(this,"function"==typeof t?function(r,i,o){r[n][e].delay=+t.call(r,r.__data__,i,o)}:(t=+t,function(r){r[n][e].delay=t}))},Fl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:F(this,"function"==typeof t?function(r,i,o){r[n][e].duration=Math.max(1,t.call(r,r.__data__,i,o))}:(t=Math.max(1,t),function(r){r[n][e].duration=t}))},Fl.each=function(t,e){var n=this.id,r=this.namespace;if(arguments.length<2){var i=Nl,o=Il;Il=n,F(this,function(e,i,o){Nl=e[r][n],t.call(e,e.__data__,i,o)}),Nl=i,Il=o}else F(this,function(i){var o=i[r][n];(o.event||(o.event=na.dispatch("start","end","interrupt"))).on(t,e)});return this},Fl.transition=function(){for(var t,e,n,r,i=this.id,o=++Vl,a=this.namespace,s=[],l=0,u=this.length;u>l;l++){s.push(t=[]);for(var e=this[l],c=0,h=e.length;h>c;c++)(n=e[c])&&(r=n[a][i],Xo(n,c,a,o,{time:r.time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration})),t.push(n)}return zo(s,a,o)},na.svg.axis=function(){function t(t){t.each(function(){var t,u=na.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),f=null==l?h.ticks?h.ticks.apply(h,s):h.domain():l,d=null==e?h.tickFormat?h.tickFormat.apply(h,s):_t:e,p=u.selectAll(".tick").data(f,h),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Oa),m=na.transition(p.exit()).style("opacity",Oa).remove(),v=na.transition(p.order()).style("opacity",1),y=Math.max(i,0)+a,w=Hi(h),b=u.selectAll(".domain").data([0]),x=(b.enter().append("path").attr("class","domain"),na.transition(b));g.append("line"),g.append("text");var C,T,E,k,S=g.select("line"),_=v.select("line"),$=p.select("text").text(d),A=g.select("text"),D=v.select("text"),M="top"===r||"left"===r?-1:1;if("bottom"===r||"top"===r?(t=Go,C="x",E="y",T="x2",k="y2",$.attr("dy",0>M?"0em":".71em").style("text-anchor","middle"),x.attr("d","M"+w[0]+","+M*o+"V0H"+w[1]+"V"+M*o)):(t=Ko,C="y",E="x",T="y2",k="x2",$.attr("dy",".32em").style("text-anchor",0>M?"end":"start"),x.attr("d","M"+M*o+","+w[0]+"H0V"+w[1]+"H"+M*o)),S.attr(k,M*i),A.attr(E,M*y),_.attr(T,0).attr(k,M*i),D.attr(C,0).attr(E,M*y),h.rangeBand){var R=h,P=R.rangeBand()/2;c=h=function(t){return R(t)+P}}else c.rangeBand?c=h:m.call(t,h,c);g.call(t,c,h),v.call(t,h,h)})}var e,n=na.scale.linear(),r=ql,i=6,o=6,a=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(r=e in jl?e+"":ql,t):r},t.ticks=function(){return arguments.length?(s=arguments,t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(i=+e,o=+arguments[n-1],t):i},t.innerTickSize=function(e){return arguments.length?(i=+e,t):i},t.outerTickSize=function(e){return arguments.length?(o=+e,t):o},t.tickPadding=function(e){return arguments.length?(a=+e,t):a},t.tickSubdivide=function(){return arguments.length&&t},t};var ql="bottom",jl={top:1,right:1,bottom:1,left:1};na.svg.brush=function(){function t(o){o.each(function(){var o=na.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",i).on("touchstart.brush",i),a=o.selectAll(".background").data([0]);a.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),o.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=o.selectAll(".resize").data(p,_t);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return zl[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var c,h=na.transition(o),f=na.transition(a);l&&(c=Hi(l),f.attr("x",c[0]).attr("width",c[1]-c[0]),n(h)),u&&(c=Hi(u),f.attr("y",c[0]).attr("height",c[1]-c[0]),r(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+c[+/e$/.test(t)]+","+h[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",c[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",c[1]-c[0])}function r(t){t.select(".extent").attr("y",h[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",h[1]-h[0])}function i(){function i(){32==na.event.keyCode&&($||(y=null,D[0]-=c[1],D[1]-=h[1],$=2),x())}function p(){32==na.event.keyCode&&2==$&&(D[0]+=c[1],D[1]+=h[1],$=0,x())}function g(){var t=na.mouse(b),i=!1;w&&(t[0]+=w[0],t[1]+=w[1]),$||(na.event.altKey?(y||(y=[(c[0]+c[1])/2,(h[0]+h[1])/2]),D[0]=c[+(t[0]<y[0])],D[1]=h[+(t[1]<y[1])]):y=null),S&&m(t,l,0)&&(n(E),i=!0),_&&m(t,u,1)&&(r(E),i=!0),i&&(e(E),T({type:"brush",mode:$?"move":"resize"}))}function m(t,e,n){var r,i,s=Hi(e),l=s[0],u=s[1],p=D[n],g=n?h:c,m=g[1]-g[0];return $&&(l-=p,u-=m+p),r=(n?d:f)?Math.max(l,Math.min(u,t[n])):t[n],$?i=(r+=p)+m:(y&&(p=Math.max(l,Math.min(u,2*y[n]-r))),r>p?(i=r,r=p):i=p),g[0]!=r||g[1]!=i?(n?a=null:o=null,g[0]=r,g[1]=i,!0):void 0}function v(){g(),E.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),na.select("body").style("cursor",null),M.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),A(),T({type:"brushend"})}var y,w,b=this,C=na.select(na.event.target),T=s.of(b,arguments),E=na.select(b),k=C.datum(),S=!/^(n|s)$/.test(k)&&l,_=!/^(e|w)$/.test(k)&&u,$=C.classed("extent"),A=Y(),D=na.mouse(b),M=na.select(sa).on("keydown.brush",i).on("keyup.brush",p);if(na.event.changedTouches?M.on("touchmove.brush",g).on("touchend.brush",v):M.on("mousemove.brush",g).on("mouseup.brush",v),E.interrupt().selectAll("*").interrupt(),$)D[0]=c[0]-D[0],D[1]=h[0]-D[1];else if(k){var R=+/w$/.test(k),P=+/^n/.test(k);w=[c[1-R]-D[0],h[1-P]-D[1]],D[0]=c[R],D[1]=h[P]}else na.event.altKey&&(y=D.slice());E.style("pointer-events","none").selectAll(".resize").style("display",null),na.select("body").style("cursor",C.style("cursor")),T({type:"brushstart"}),g()}var o,a,s=T(t,"brushstart","brush","brushend"),l=null,u=null,c=[0,0],h=[0,0],f=!0,d=!0,p=Wl[0];return t.event=function(t){t.each(function(){var t=s.of(this,arguments),e={x:c,y:h,i:o,j:a},n=this.__chart__||e;this.__chart__=e,Il?na.select(this).transition().each("start.brush",function(){o=n.i,a=n.j,c=n.x,h=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=br(c,e.x),r=br(h,e.y);return o=a=null,function(i){c=e.x=n(i),h=e.y=r(i),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){o=e.i,a=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(l=e,p=Wl[!l<<1|!u],t):l},t.y=function(e){return arguments.length?(u=e,p=Wl[!l<<1|!u],t):u},t.clamp=function(e){return arguments.length?(l&&u?(f=!!e[0],d=!!e[1]):l?f=!!e:u&&(d=!!e),t):l&&u?[f,d]:l?f:u?d:null},t.extent=function(e){var n,r,i,s,f;return arguments.length?(l&&(n=e[0],r=e[1],u&&(n=n[0],r=r[0]),o=[n,r],l.invert&&(n=l(n),r=l(r)),n>r&&(f=n,n=r,r=f),(n!=c[0]||r!=c[1])&&(c=[n,r])),u&&(i=e[0],s=e[1],l&&(i=i[1],s=s[1]),a=[i,s],u.invert&&(i=u(i),s=u(s)),i>s&&(f=i,i=s,s=f),(i!=h[0]||s!=h[1])&&(h=[i,s])),t):(l&&(o?(n=o[0],r=o[1]):(n=c[0],r=c[1],l.invert&&(n=l.invert(n),r=l.invert(r)),n>r&&(f=n,n=r,r=f))),u&&(a?(i=a[0],s=a[1]):(i=h[0],s=h[1],u.invert&&(i=u.invert(i),s=u.invert(s)),i>s&&(f=i,i=s,s=f))),l&&u?[[n,i],[r,s]]:l?[n,r]:u&&[i,s])},t.clear=function(){return t.empty()||(c=[0,0],h=[0,0],o=a=null),t},t.empty=function(){return!!l&&c[0]==c[1]||!!u&&h[0]==h[1]},na.rebind(t,s,"on")};var zl={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Wl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Ul=fs.format=ys.timeFormat,Yl=Ul.utc,Xl=Yl("%Y-%m-%dT%H:%M:%S.%LZ");Ul.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Zo:Xl,Zo.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Zo.toString=Xl.toString,fs.second=Ft(function(t){return new ds(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),fs.seconds=fs.second.range,fs.seconds.utc=fs.second.utc.range,fs.minute=Ft(function(t){return new ds(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),fs.minutes=fs.minute.range,fs.minutes.utc=fs.minute.utc.range,fs.hour=Ft(function(t){var e=t.getTimezoneOffset()/60;return new ds(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),fs.hours=fs.hour.range,fs.hours.utc=fs.hour.utc.range,fs.month=Ft(function(t){return t=fs.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),fs.months=fs.month.range,fs.months.utc=fs.month.utc.range;var Gl=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Kl=[[fs.second,1],[fs.second,5],[fs.second,15],[fs.second,30],[fs.minute,1],[fs.minute,5],[fs.minute,15],[fs.minute,30],[fs.hour,1],[fs.hour,3],[fs.hour,6],[fs.hour,12],[fs.day,1],[fs.day,2],[fs.week,1],[fs.month,1],[fs.month,3],[fs.year,1]],Zl=Ul.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Ae]]),Jl={range:function(t,e,n){return na.range(Math.ceil(t/n)*n,+e,n).map(Qo)},floor:_t,ceil:_t};Kl.year=fs.year,fs.scale=function(){return Jo(na.scale.linear(),Kl,Zl)};var Ql=Kl.map(function(t){return[t[0].utc,t[1]]}),tu=Yl.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Ae]]);Ql.year=fs.year.utc,fs.scale.utc=function(){return Jo(na.scale.linear(),Ql,tu)},na.text=$t(function(t){return t.responseText}),na.json=function(t,e){return At(t,"application/json",ta,e)},na.html=function(t,e){return At(t,"text/html",ea,e)},na.xml=$t(function(t){return t.responseXML}),"function"==typeof define&&define.amd?define(na):"object"==typeof module&&module.exports&&(module.exports=na),this.d3=na}(),function(t){"use strict";function e(t){this.owner=t}function n(t,e){if(Object.create)e.prototype=Object.create(t.prototype);else{var n=function(){};n.prototype=t.prototype,e.prototype=new n}return e.prototype.constructor=e,e}function r(t){var e=this.internal=new i(this);e.loadConfig(t),e.init(),function n(t,e,r){Object.keys(t).forEach(function(i){e[i]=t[i].bind(r),Object.keys(t[i]).length>0&&n(t[i],e[i],r)})}(s,this,this)}function i(e){var n=this;n.d3=t.d3?t.d3:"undefined"!=typeof require?require("d3"):void 0,n.api=e,n.config=n.getDefaultConfig(),n.data={},n.cache={},n.axes={}}function o(t){e.call(this,t)}function a(t,e){function n(t,e){t.attr("transform",function(t){return"translate("+Math.ceil(e(t)+b)+", 0)"})}function r(t,e){t.attr("transform",function(t){return"translate(0,"+Math.ceil(e(t))+")"})}function i(t){var e=t[0],n=t[t.length-1];return n>e?[e,n]:[n,e]}function o(t){var e,n,r=[];if(t.ticks)return t.ticks.apply(t,d);for(n=t.domain(),e=Math.ceil(n[0]);e<n[1];e++)r.push(e);return r.length>0&&r[0]>0&&r.unshift(r[0]-(r[1]-r[0])),r}function a(){var t,n=g.copy();return e.isCategory&&(t=g.domain(),n.domain([t[0],t[1]-1])),n}function s(t){var e=f?f(t):t;return"undefined"!=typeof e?e:""}function l(t){if(k)return k;var e={h:11.5,w:5.5};return t.select("text").text(s).each(function(t){var n=this.getBoundingClientRect(),r=s(t),i=n.height,o=r?n.width/r.length:void 0;i&&o&&(e.h=i,e.w=o)}).text(""),k=e,e}function u(n){return e.withoutTransition?n:t.transition(n)}function c(f){f.each(function(){function f(t,n){function r(t,e){o=void 0;for(var s=1;s<e.length;s++)if(" "===e.charAt(s)&&(o=s),i=e.substr(0,s+1),a=U.w*i.length,a>n)return r(t.concat(e.substr(0,o?o:s)),e.slice(o?o+1:s));return t.concat(e)}var i,o,a,l=s(t),u=[];return"[object Array]"===Object.prototype.toString.call(l)?l:((!n||0>=n)&&(n=G?95:e.isCategory?Math.ceil(M(R[1])-M(R[0]))-12:110),r(u,l+""))}function d(t,e){var n=U.h;return 0===e&&(n="left"===m||"right"===m?-((Y[t.index]-1)*(U.h/2)-3):".71em"),n}function x(t){var e=g(t)+(p?0:b);return N[0]<e&&e<N[1]?v:0}function C(t){return t?t>0?"start":"end":"middle"}function T(t){return t?"rotate("+t+")":""}function E(t){return t?8*Math.sin(Math.PI*(t/180)):0}function k(t){return t?11.5-2.5*(t/15)*(t>0?1:-1):X}var S,_,$,A=c.g=t.select(this),D=this.__chart__||g,M=this.__chart__=a(),R=w?w:o(M),P=A.selectAll(".tick").data(R,M),O=P.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),L=P.exit().remove(),I=u(P).style("opacity",1),N=g.rangeExtent?g.rangeExtent():i(g.range()),B=A.selectAll(".domain").data([0]),H=(B.enter().append("path").attr("class","domain"),u(B));O.append("line"),O.append("text");var F=O.select("line"),V=I.select("line"),q=O.select("text"),j=I.select("text");e.isCategory?(b=Math.ceil((M(1)-M(0))/2),_=p?0:b,$=p?b:0):b=_=0;var z,W,U=l(A.select(".tick")),Y=[],X=Math.max(v,0)+y,G="left"===m||"right"===m;z=P.select("text"),W=z.selectAll("tspan").data(function(t,n){var r=e.tickMultiline?f(t,e.tickWidth):[].concat(s(t));return Y[n]=r.length,r.map(function(t){return{index:n,splitted:t}})}),W.enter().append("tspan"),W.exit().remove(),W.text(function(t){return t.splitted});var K=e.tickTextRotate;switch(m){case"bottom":S=n,F.attr("y2",v),q.attr("y",X),V.attr("x1",_).attr("x2",_).attr("y2",x),j.attr("x",0).attr("y",k(K)).style("text-anchor",C(K)).attr("transform",T(K)),W.attr("x",0).attr("dy",d).attr("dx",E(K)),H.attr("d","M"+N[0]+","+h+"V0H"+N[1]+"V"+h);break;case"top":S=n,F.attr("y2",-v),q.attr("y",-X),V.attr("x2",0).attr("y2",-v),j.attr("x",0).attr("y",-X),z.style("text-anchor","middle"),W.attr("x",0).attr("dy","0em"),H.attr("d","M"+N[0]+","+-h+"V0H"+N[1]+"V"+-h);break;case"left":S=r,F.attr("x2",-v),q.attr("x",-X),V.attr("x2",-v).attr("y1",$).attr("y2",$),j.attr("x",-X).attr("y",b),z.style("text-anchor","end"),W.attr("x",-X).attr("dy",d),H.attr("d","M"+-h+","+N[0]+"H0V"+N[1]+"H"+-h);break;case"right":S=r,F.attr("x2",v),q.attr("x",X),V.attr("x2",v).attr("y2",0),j.attr("x",X).attr("y",0),z.style("text-anchor","start"),W.attr("x",X).attr("dy",d),H.attr("d","M"+h+","+N[0]+"H0V"+N[1]+"H"+h)}if(M.rangeBand){var Z=M,J=Z.rangeBand()/2;D=M=function(t){return Z(t)+J}}else D.rangeBand?D=M:L.call(S,M);O.call(S,D),I.call(S,M)})}var h,f,d,p,g=t.scale.linear(),m="bottom",v=6,y=3,w=null,b=0,x=!0;return e=e||{},h=e.withOuterTick?6:0,c.scale=function(t){return arguments.length?(g=t,c):g},c.orient=function(t){return arguments.length?(m=t in{top:1,right:1,bottom:1,left:1}?t+"":"bottom",c):m},c.tickFormat=function(t){return arguments.length?(f=t,c):f},c.tickCentered=function(t){return arguments.length?(p=t,c):p},c.tickOffset=function(){return b},c.tickInterval=function(){var t,n;return e.isCategory?t=2*b:(n=c.g.select("path.domain").node().getTotalLength()-2*h,t=n/c.g.selectAll("line").size()),t===1/0?0:t},c.ticks=function(){return arguments.length?(d=arguments,c):d},c.tickCulling=function(t){return arguments.length?(x=t,c):x},c.tickValues=function(t){if("function"==typeof t)w=function(){return t(g.domain())};else{if(!arguments.length)return w;w=t}return c},c}var s,l,u,c={version:"0.4.11-rc1"};c.generate=function(t){return new r(t)},c.chart={fn:r.prototype,internal:{fn:i.prototype,axis:{fn:o.prototype}}},s=c.chart.fn,l=c.chart.internal.fn,u=c.chart.internal.axis.fn,l.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},l.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+ +new Date+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),
t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=!1,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeFormat=n.data_xLocaltime?e.time.format:e.time.format.utc,t.axisTimeFormat=n.axis_x_localtime?e.time.format:e.time.format.utc,t.defaultAxisTimeFormat=t.axisTimeFormat.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%-m/%-d",function(t){return t.getDay()&&1!==t.getDate()}],["%-m/%-d",function(t){return 1!==t.getDate()}],["%-m/%-d",function(t){return t.getMonth()}],["%Y/%-m/%-d",function(){return!0}]]),t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?"left":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},l.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},l.initWithData=function(t){var e,n,r=this,i=r.d3,a=r.config,s=!0;r.axis=new o(r),r.initPie&&r.initPie(),r.initBrush&&r.initBrush(),r.initZoom&&r.initZoom(),r.selectChart=a.bindto?"function"==typeof a.bindto.node?a.bindto:i.select(a.bindto):i.selectAll([]),r.selectChart.empty()&&(r.selectChart=i.select(document.createElement("div")).style("opacity",0),r.observeInserted(r.selectChart),s=!1),r.selectChart.html("").classed("c3",!0),r.data.xs={},r.data.targets=r.convertDataToTargets(t),a.data_filter&&(r.data.targets=r.data.targets.filter(a.data_filter)),a.data_hide&&r.addHiddenTargetIds(a.data_hide===!0?r.mapToIds(r.data.targets):a.data_hide),a.legend_hide&&r.addHiddenLegendIds(a.legend_hide===!0?r.mapToIds(r.data.targets):a.legend_hide),r.hasType("gauge")&&(a.legend_show=!1),r.updateSizes(),r.updateScales(),r.x.domain(i.extent(r.getXDomain(r.data.targets))),r.y.domain(r.getYDomain(r.data.targets,"y")),r.y2.domain(r.getYDomain(r.data.targets,"y2")),r.subX.domain(r.x.domain()),r.subY.domain(r.y.domain()),r.subY2.domain(r.y2.domain()),r.orgXDomain=r.x.domain(),r.brush&&r.brush.scale(r.subX),a.zoom_enabled&&r.zoom.scale(r.x),r.svg=r.selectChart.append("svg").style("overflow","hidden").on("mouseenter",function(){return a.onmouseover.call(r)}).on("mouseleave",function(){return a.onmouseout.call(r)}),e=r.svg.append("defs"),r.clipChart=r.appendClip(e,r.clipId),r.clipXAxis=r.appendClip(e,r.clipIdForXAxis),r.clipYAxis=r.appendClip(e,r.clipIdForYAxis),r.clipGrid=r.appendClip(e,r.clipIdForGrid),r.clipSubchart=r.appendClip(e,r.clipIdForSubchart),r.updateSvgSize(),n=r.main=r.svg.append("g").attr("transform",r.getTranslate("main")),r.initSubchart&&r.initSubchart(),r.initTooltip&&r.initTooltip(),r.initLegend&&r.initLegend(),r.initTitle&&r.initTitle(),n.append("text").attr("class",h.text+" "+h.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),r.initRegion(),r.initGrid(),n.append("g").attr("clip-path",r.clipPath).attr("class",h.chart),a.grid_lines_front&&r.initGridLines(),r.initEventRect(),r.initChartElements(),n.insert("rect",a.zoom_privileged?null:"g."+h.regions).attr("class",h.zoomRect).attr("width",r.width).attr("height",r.height).style("opacity",0).on("dblclick.zoom",null),a.axis_x_extent&&r.brush.extent(r.getDefaultExtent()),r.axis.init(),r.updateTargets(r.data.targets),s&&(r.updateDimension(),r.config.oninit.call(r),r.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),r.bindResize(),r.api.element=r.selectChart.node()},l.smoothLines=function(t,e){var n=this;"grid"===e&&t.each(function(){var t=n.d3.select(this),e=t.attr("x1"),r=t.attr("x2"),i=t.attr("y1"),o=t.attr("y2");t.attr({x1:Math.ceil(e),x2:Math.ceil(r),y1:Math.ceil(i),y2:Math.ceil(o)})})},l.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,r=t.legend?t.getLegendWidth():0,i=t.isLegendRight||t.isLegendInset?0:n,o=t.hasArcType(),a=e.axis_rotated||o?0:t.getHorizontalAxisHeight("x"),s=e.subchart_show&&!o?e.subchart_size_height+a:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+i+t.getCurrentPaddingBottom(),left:s+(o?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:o?0:t.getCurrentPaddingRight(),bottom:a+s+i+t.getCurrentPaddingBottom(),left:o?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:0/0,bottom:20+i,left:t.rotated_padding_left}:{top:t.currentHeight-s-i,right:0/0,bottom:a+i,left:t.margin.left},t.margin3={top:0,right:0/0,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,r),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?r+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&o&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},l.updateTargets=function(t){var e=this;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},l.showTargets=function(){var t=this;t.svg.selectAll("."+h.target).filter(function(e){return t.isTargetToShow(e.id)}).transition().duration(t.config.transition_duration).style("opacity",1)},l.redraw=function(t,e){var n,r,i,o,a,s,l,u,c,f,d,p,g,m,v,y,w,b,x,T,E,k,S,_,$,A,D,M,R,P=this,O=P.main,L=P.d3,I=P.config,N=P.getShapeIndices(P.isAreaType),B=P.getShapeIndices(P.isBarType),H=P.getShapeIndices(P.isLineType),F=P.hasArcType(),V=P.filterTargetsToShow(P.data.targets),q=P.xv.bind(P);if(t=t||{},n=C(t,"withY",!0),r=C(t,"withSubchart",!0),i=C(t,"withTransition",!0),s=C(t,"withTransform",!1),l=C(t,"withUpdateXDomain",!1),u=C(t,"withUpdateOrgXDomain",!1),c=C(t,"withTrimXDomain",!0),g=C(t,"withUpdateXAxis",l),f=C(t,"withLegend",!1),d=C(t,"withEventRect",!0),p=C(t,"withDimension",!0),o=C(t,"withTransitionForExit",i),a=C(t,"withTransitionForAxis",i),x=i?I.transition_duration:0,T=o?x:0,E=a?x:0,e=e||P.axis.generateTransitions(E),f&&I.legend_show?P.updateLegend(P.mapToIds(P.data.targets),t,e):p&&P.updateDimension(!0),P.isCategorized()&&0===V.length&&P.x.domain([0,P.axes.x.selectAll(".tick").size()]),V.length?(P.updateXDomain(V,l,u,c),I.axis_x_tick_values||(_=P.axis.updateXAxisTickValues(V))):(P.xAxis.tickValues([]),P.subXAxis.tickValues([])),I.zoom_rescale&&!t.flow&&(D=P.x.orgDomain()),P.y.domain(P.getYDomain(V,"y",D)),P.y2.domain(P.getYDomain(V,"y2",D)),!I.axis_y_tick_values&&I.axis_y_tick_count&&P.yAxis.tickValues(P.axis.generateTickValues(P.y.domain(),I.axis_y_tick_count)),!I.axis_y2_tick_values&&I.axis_y2_tick_count&&P.y2Axis.tickValues(P.axis.generateTickValues(P.y2.domain(),I.axis_y2_tick_count)),P.axis.redraw(e,F),P.axis.updateLabels(i),(l||g)&&V.length)if(I.axis_x_tick_culling&&_){for($=1;$<_.length;$++)if(_.length/$<I.axis_x_tick_culling_max){A=$;break}P.svg.selectAll("."+h.axisX+" .tick text").each(function(t){var e=_.indexOf(t);e>=0&&L.select(this).style("display",e%A?"none":"block")})}else P.svg.selectAll("."+h.axisX+" .tick text").style("display","block");m=P.generateDrawArea?P.generateDrawArea(N,!1):void 0,v=P.generateDrawBar?P.generateDrawBar(B):void 0,y=P.generateDrawLine?P.generateDrawLine(H,!1):void 0,w=P.generateXYForText(N,B,H,!0),b=P.generateXYForText(N,B,H,!1),n&&(P.subY.domain(P.getYDomain(V,"y")),P.subY2.domain(P.getYDomain(V,"y2"))),P.updateXgridFocus(),O.select("text."+h.text+"."+h.empty).attr("x",P.width/2).attr("y",P.height/2).text(I.data_empty_label_text).transition().style("opacity",V.length?0:1),P.updateGrid(x),P.updateRegion(x),P.updateBar(T),P.updateLine(T),P.updateArea(T),P.updateCircle(),P.hasDataLabel()&&P.updateText(T),P.redrawTitle&&P.redrawTitle(),P.redrawArc&&P.redrawArc(x,T,s),P.redrawSubchart&&P.redrawSubchart(r,e,x,T,N,B,H),O.selectAll("."+h.selectedCircles).filter(P.isBarType.bind(P)).selectAll("circle").remove(),I.interaction_enabled&&!t.flow&&d&&(P.redrawEventRect(),P.updateZoom&&P.updateZoom()),P.updateCircleY(),M=(P.config.axis_rotated?P.circleY:P.circleX).bind(P),R=(P.config.axis_rotated?P.circleX:P.circleY).bind(P),t.flow&&(S=P.generateFlow({targets:V,flow:t.flow,duration:t.flow.duration,drawBar:v,drawLine:y,drawArea:m,cx:M,cy:R,xv:q,xForText:w,yForText:b})),(x||S)&&P.isTabVisible()?L.transition().duration(x).each(function(){var e=[];[P.redrawBar(v,!0),P.redrawLine(y,!0),P.redrawArea(m,!0),P.redrawCircle(M,R,!0),P.redrawText(w,b,t.flow,!0),P.redrawRegion(!0),P.redrawGrid(!0)].forEach(function(t){t.forEach(function(t){e.push(t)})}),k=P.generateWait(),e.forEach(function(t){k.add(t)})}).call(k,function(){S&&S(),I.onrendered&&I.onrendered.call(P)}):(P.redrawBar(v),P.redrawLine(y),P.redrawArea(m),P.redrawCircle(M,R),P.redrawText(w,b,t.flow),P.redrawRegion(),P.redrawGrid(),I.onrendered&&I.onrendered.call(P)),P.mapToIds(P.data.targets).forEach(function(t){P.withoutFadeIn[t]=!0})},l.updateAndRedraw=function(t){var e,n=this,r=n.config;t=t||{},t.withTransition=C(t,"withTransition",!0),t.withTransform=C(t,"withTransform",!1),t.withLegend=C(t,"withLegend",!1),t.withUpdateXDomain=!0,t.withUpdateOrgXDomain=!0,t.withTransitionForExit=!1,t.withTransitionForTransform=C(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&r.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?r.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},l.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},l.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},l.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},l.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||x(e.data_xs))},l.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},l.getTranslate=function(t){var e,n,r=this,i=r.config;return"main"===t?(e=y(r.margin.left),n=y(r.margin.top)):"context"===t?(e=y(r.margin2.left),n=y(r.margin2.top)):"legend"===t?(e=r.margin3.left,n=r.margin3.top):"x"===t?(e=0,n=i.axis_rotated?0:r.height):"y"===t?(e=0,n=i.axis_rotated?r.height:0):"y2"===t?(e=i.axis_rotated?0:r.width,n=i.axis_rotated?1:0):"subx"===t?(e=0,n=i.axis_rotated?0:r.height2):"arc"===t&&(e=r.arcWidth/2,n=r.arcHeight/2),"translate("+e+","+n+")"},l.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},l.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},l.opacityForCircle=function(t){var e=this.config.point_show?1:0;return f(t.value)?this.isScatterType(t)?.5:e:0},l.opacityForText=function(){return this.hasDataLabel()?1:0},l.xx=function(t){return t?this.x(t.x):null},l.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},l.yv=function(t){var e=this,n=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(n(t.value))},l.subxx=function(t){return t?this.subX(t.x):null},l.transformMain=function(t,e){var n,r,i,o=this;e&&e.axisX?n=e.axisX:(n=o.main.select("."+h.axisX),t&&(n=n.transition())),e&&e.axisY?r=e.axisY:(r=o.main.select("."+h.axisY),t&&(r=r.transition())),e&&e.axisY2?i=e.axisY2:(i=o.main.select("."+h.axisY2),t&&(i=i.transition())),(t?o.main.transition():o.main).attr("transform",o.getTranslate("main")),n.attr("transform",o.getTranslate("x")),r.attr("transform",o.getTranslate("y")),i.attr("transform",o.getTranslate("y2")),o.main.select("."+h.chartArcs).attr("transform",o.getTranslate("arc"))},l.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},l.updateSvgSize=function(){var t=this,e=t.svg.select(".c3-brush .background");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()?e.attr("height"):0),t.svg.select("."+h.zoomRect).attr("width",t.width).attr("height",t.height),t.selectChart.style("max-height",t.currentHeight+"px")},l.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},l.observeInserted=function(e){var n,r=this;return"undefined"==typeof MutationObserver?void t.console.error("MutationObserver not defined."):(n=new MutationObserver(function(i){i.forEach(function(i){"childList"===i.type&&i.previousSibling&&(n.disconnect(),r.intervalForObserveInserted=t.setInterval(function(){e.node().parentNode&&(t.clearInterval(r.intervalForObserveInserted),r.updateDimension(),r.brush&&r.brush.update(),r.config.oninit.call(r),r.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),e.transition().style("opacity",1))},10))})}),void n.observe(e.node(),{attributes:!0,childList:!0,characterData:!0}))},l.bindResize=function(){var e=this,n=e.config;if(e.resizeFunction=e.generateResize(),e.resizeFunction.add(function(){n.onresize.call(e)}),n.resize_auto&&e.resizeFunction.add(function(){void 0!==e.resizeTimeout&&t.clearTimeout(e.resizeTimeout),e.resizeTimeout=t.setTimeout(function(){delete e.resizeTimeout,e.api.flush()},100)}),e.resizeFunction.add(function(){n.onresized.call(e)}),t.attachEvent)t.attachEvent("onresize",e.resizeFunction);else if(t.addEventListener)t.addEventListener("resize",e.resizeFunction,!1);else{var r=t.onresize;r?r.add&&r.remove||(r=e.generateResize(),r.add(t.onresize)):r=e.generateResize(),r.add(e.resizeFunction),t.onresize=r}},l.generateResize=function(){function t(){e.forEach(function(t){t()})}var e=[];return t.add=function(t){e.push(t)},t.remove=function(t){for(var n=0;n<e.length;n++)if(e[n]===t){e.splice(n,1);break}},t},l.endall=function(t,e){var n=0;t.each(function(){++n}).each("end",function(){--n||e.apply(this,arguments)})},l.generateWait=function(){var t=[],e=function(e,n){var r=setInterval(function(){var e=0;t.forEach(function(t){if(t.empty())return void(e+=1);try{t.transition()}catch(n){e+=1}}),e===t.length&&(clearInterval(r),n&&n())},10)};return e.add=function(e){t.push(e)},e},l.parseDate=function(e){var n,r=this;return e instanceof Date?n=e:"string"==typeof e?n=r.dataTimeFormat(r.config.data_xFormat).parse(e):"number"!=typeof e&&isNaN(e)||(n=new Date(+e)),(!n||isNaN(+n))&&t.console.error("Failed to parse x '"+e+"' to Date object"),n},l.isTabVisible=function(){var t;return"undefined"!=typeof document.hidden?t="hidden":"undefined"!=typeof document.mozHidden?t="mozHidden":"undefined"!=typeof document.msHidden?t="msHidden":"undefined"!=typeof document.webkitHidden&&(t="webkitHidden"),document[t]?!1:!0},l.getDefaultConfig=function(){var t={bindto:"#chart",size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_extent:void 0,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_extent:void 0,axis_x_label:{},axis_y_show:!0,axis_y_type:void 0,axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_count:void 0,axis_y_tick_time_value:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,area_zerobased:!0,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_expand:{},pie_expand_duration:50,gauge_label_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_units:void 0,gauge_width:void 0,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,r){return this.getTooltipContent?this.getTooltipContent(t,e,n,r):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_author:void 0,title_source:void 0,title_spacing:5,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach(function(e){t[e]=this.additionalConfig[e]},this),t},l.additionalConfig={},l.loadConfig=function(t){function e(){var t=r.shift();return t&&n&&"object"==typeof n&&t in n?(n=n[t],e()):t?void 0:n}var n,r,i,o=this.config;Object.keys(o).forEach(function(a){n=t,r=a.split("_"),i=e(),m(i)&&(o[a]=i)})},l.getScale=function(t,e,n){return(n?this.d3.time.scale():this.d3.scale.linear()).range([t,e])},l.getX=function(t,e,n,r){var i,o=this,a=o.getScale(t,e,o.isTimeSeries()),s=n?a.domain(n):a;o.isCategorized()?(r=r||function(){return 0},a=function(t,e){var n=s(t)+r(t);return e?n:Math.ceil(n)}):a=function(t,e){var n=s(t);return e?n:Math.ceil(n)};for(i in s)a[i]=s[i];return a.orgDomain=function(){return s.domain()},o.isCategorized()&&(a.domain=function(t){return arguments.length?(s.domain(t),a):(t=this.orgDomain(),[t[0],t[1]+1])}),a},l.getY=function(t,e,n){var r=this.getScale(t,e,this.isTimeSeriesY());return n&&r.domain(n),r},l.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},l.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},l.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),function(){return t.xAxis.tickOffset()}),t.y=t.getY(t.yMin,t.yMax,n?e.axis_y_default:t.y.domain()),t.y2=t.getY(t.yMin,t.yMax,n?e.axis_y2_default:t.y2.domain()),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,function(e){return e%1?0:t.subXAxis.tickOffset()}),t.subY=t.getY(t.subYMin,t.subYMax,n?e.axis_y_default:t.subY.domain()),t.subY2=t.getY(t.subYMin,t.subYMax,n?e.axis_y2_default:t.subY2.domain()),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis(t.y,t.yOrient,e.axis_y_tick_format,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis(t.y2,t.y2Orient,e.axis_y2_tick_format,t.y2AxisTickValues,e.axis_y2_tick_outer),n||(t.brush&&t.brush.scale(t.subX),e.zoom_enabled&&t.zoom.scale(t.x)),t.updateArc&&t.updateArc()},l.getYDomainMin=function(t){var e,n,r,i,o,a,s=this,l=s.config,u=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(a=s.hasNegativeValueInTargets(t),e=0;e<l.data_groups.length;e++)if(i=l.data_groups[e].filter(function(t){return u.indexOf(t)>=0}),0!==i.length)for(r=i[0],a&&c[r]&&c[r].forEach(function(t,e){c[r][e]=0>t?t:0}),n=1;n<i.length;n++)o=i[n],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(r)||!c[r]||a&&+t>0||(c[r][e]+=+t)});return s.d3.min(Object.keys(c).map(function(t){return s.d3.min(c[t])}))},l.getYDomainMax=function(t){var e,n,r,i,o,a,s=this,l=s.config,u=s.mapToIds(t),c=s.getValuesAsIdKeyed(t);if(l.data_groups.length>0)for(a=s.hasPositiveValueInTargets(t),e=0;e<l.data_groups.length;e++)if(i=l.data_groups[e].filter(function(t){return u.indexOf(t)>=0}),0!==i.length)for(r=i[0],a&&c[r]&&c[r].forEach(function(t,e){c[r][e]=t>0?t:0}),n=1;n<i.length;n++)o=i[n],c[o]&&c[o].forEach(function(t,e){s.axis.getId(o)!==s.axis.getId(r)||!c[r]||a&&0>+t||(c[r][e]+=+t)});return s.d3.max(Object.keys(c).map(function(t){return s.d3.max(c[t])}))},l.getYDomain=function(t,e,n){var r,i,o,a,s,l,u,c,h,d,p,g=this,m=g.config,v=t.filter(function(t){return g.axis.getId(t.id)===e}),y=n?g.filterByXDomain(v,n):v,b="y2"===e?m.axis_y2_min:m.axis_y_min,C="y2"===e?m.axis_y2_max:m.axis_y_max,T=g.getYDomainMin(y),E=g.getYDomainMax(y),k="y2"===e?m.axis_y2_center:m.axis_y_center,S=g.hasType("bar",y)&&m.bar_zerobased||g.hasType("area",y)&&m.area_zerobased,_="y2"===e?m.axis_y2_inverted:m.axis_y_inverted,$=g.hasDataLabel()&&m.axis_rotated,A=g.hasDataLabel()&&!m.axis_rotated;return T=f(b)?b:f(C)?C>T?T:C-10:T,E=f(C)?C:f(b)?E>b?E:b+10:E,0===y.length?"y2"===e?g.y2.domain():g.y.domain():(isNaN(T)&&(T=0),isNaN(E)&&(E=T),T===E&&(0>T?E=0:T=0),d=T>=0&&E>=0,p=0>=T&&0>=E,(f(b)&&d||f(C)&&p)&&(S=!1),S&&(d&&(T=0),p&&(E=0)),i=Math.abs(E-T),o=a=s=.1*i,"undefined"!=typeof k&&(l=Math.max(Math.abs(T),Math.abs(E)),E=k+l,T=k-l),$?(u=g.getDataLabelLength(T,E,"width"),c=w(g.y.range()),h=[u[0]/c,u[1]/c],a+=i*(h[1]/(1-h[0]-h[1])),s+=i*(h[0]/(1-h[0]-h[1]))):A&&(u=g.getDataLabelLength(T,E,"height"),a+=g.axis.convertPixelsToAxisPadding(u[1],i),s+=g.axis.convertPixelsToAxisPadding(u[0],i)),"y"===e&&x(m.axis_y_padding)&&(a=g.axis.getPadding(m.axis_y_padding,"top",a,i),s=g.axis.getPadding(m.axis_y_padding,"bottom",s,i)),"y2"===e&&x(m.axis_y2_padding)&&(a=g.axis.getPadding(m.axis_y2_padding,"top",a,i),s=g.axis.getPadding(m.axis_y2_padding,"bottom",s,i)),S&&(d&&(s=T),p&&(a=-E)),r=[T-s,E+a],_?r.reverse():r)},l.getXDomainMin=function(t){var e=this,n=e.config;return m(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,function(t){return e.d3.min(t.values,function(t){return t.x})})},l.getXDomainMax=function(t){var e=this,n=e.config;return m(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,function(t){return e.d3.max(t.values,function(t){return t.x})})},l.getXDomainPadding=function(t){var e,n,r,i,o=this,a=o.config,s=t[1]-t[0];return o.isCategorized()?n=0:o.hasType("bar")?(e=o.getMaxDataCount(),n=e>1?s/(e-1)/2:.5):n=.01*s,"object"==typeof a.axis_x_padding&&x(a.axis_x_padding)?(r=f(a.axis_x_padding.left)?a.axis_x_padding.left:n,i=f(a.axis_x_padding.right)?a.axis_x_padding.right:n):r=i="number"==typeof a.axis_x_padding?a.axis_x_padding:n,{left:r,right:i}},l.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],r=n[0],i=n[1],o=e.getXDomainPadding(n),a=0,s=0;return r-i!==0||e.isCategorized()||(e.isTimeSeries()?(r=new Date(.5*r.getTime()),i=new Date(1.5*i.getTime())):(r=0===r?1:.5*r,i=0===i?-1:1.5*i)),(r||0===r)&&(a=e.isTimeSeries()?new Date(r.getTime()-o.left):r-o.left),(i||0===i)&&(s=e.isTimeSeries()?new Date(i.getTime()+o.right):i+o.right),[a,s]},l.updateXDomain=function(t,e,n,r,i){var o=this,a=o.config;return n&&(o.x.domain(i?i:o.d3.extent(o.getXDomain(t))),o.orgXDomain=o.x.domain(),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent(),o.subX.domain(o.x.domain()),o.brush&&o.brush.scale(o.subX)),e&&(o.x.domain(i?i:!o.brush||o.brush.empty()?o.orgXDomain:o.brush.extent()),a.zoom_enabled&&o.zoom.scale(o.x).updateScaleExtent()),r&&o.x.domain(o.trimXDomain(o.x.orgDomain())),o.x.domain()},l.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],r=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),r<=t[1]&&(t[0]=+t[0]-(t[1]-r),t[1]=r),t},l.isX=function(t){var e=this,n=e.config;return n.data_x&&t===n.data_x||x(n.data_xs)&&T(n.data_xs,t)},l.isNotX=function(t){return!this.isX(t)},l.getXKey=function(t){var e=this,n=e.config;return n.data_x?n.data_x:x(n.data_xs)?n.data_xs[t]:null},l.getXValuesOfXKey=function(t,e){var n,r=this,i=e&&x(e)?r.mapToIds(e):[];return i.forEach(function(e){r.getXKey(e)===t&&(n=r.data.xs[e])}),n},l.getIndexByX=function(t){var e=this,n=e.filterByX(e.data.targets,t);return n.length?n[0].index:null},l.getXValue=function(t,e){var n=this;return t in n.data.xs&&n.data.xs[t]&&f(n.data.xs[t][e])?n.data.xs[t][e]:e},l.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},l.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},l.addXs=function(t){var e=this;Object.keys(t).forEach(function(n){e.config.data_xs[n]=t[n]})},l.hasMultipleX=function(t){return this.d3.set(Object.keys(t).map(function(e){return t[e]})).size()>1},l.isMultipleX=function(){return x(this.config.data_xs)||!this.config.data_xSort||this.hasType("scatter")},l.addName=function(t){var e,n=this;return t&&(e=n.config.data_names[t.id],t.name=void 0!==e?e:t.id),t},l.getValueOnIndex=function(t,e){var n=t.filter(function(t){return t.index===e});return n.length?n[0]:null},l.updateTargetX=function(t,e){var n=this;t.forEach(function(t){t.values.forEach(function(r,i){r.x=n.generateTargetX(e[i],t.id,i)}),n.data.xs[t.id]=e})},l.updateTargetXs=function(t,e){var n=this;t.forEach(function(t){e[t.id]&&n.updateTargetX([t],e[t.id])})},l.generateTargetX=function(t,e,n){var r,i=this;return r=i.isTimeSeries()?i.parseDate(t?t:i.getXValue(e,n)):i.isCustomX()&&!i.isCategorized()?f(t)?+t:i.getXValue(e,n):n},l.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map(function(t){return{x:t.x,value:t.value,id:t.id}})}},l.updateXs=function(){var t=this;t.data.targets.length&&(t.xs=[],t.data.targets[0].values.forEach(function(e){t.xs[e.index]=e.x}))},l.getPrevX=function(t){var e=this.xs[t-1];return"undefined"!=typeof e?e:null},l.getNextX=function(t){var e=this.xs[t+1];return"undefined"!=typeof e?e:null},l.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,function(t){return t.values.length})},l.getMaxDataCountTarget=function(t){var e,n=t.length,r=0;return n>1?t.forEach(function(t){t.values.length>r&&(e=t,r=t.values.length)}):e=n?t[0]:null,e},l.getEdgeX=function(t){var e=this;return t.length?[e.d3.min(t,function(t){return t.values[0].x}),e.d3.max(t,function(t){return t.values[t.values.length-1].x})]:[0,0]},l.mapToIds=function(t){return t.map(function(t){return t.id})},l.mapToTargetIds=function(t){var e=this;return t?p(t)?[t]:t:e.mapToIds(e.data.targets)},l.hasTarget=function(t,e){var n,r=this.mapToIds(t);for(n=0;n<r.length;n++)if(r[n]===e)return!0;return!1},l.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},l.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},l.filterTargetsToShow=function(t){var e=this;return t.filter(function(t){return e.isTargetToShow(t.id)})},l.mapTargetsToUniqueXs=function(t){var e=this,n=e.d3.set(e.d3.merge(t.map(function(t){return t.values.map(function(t){return+t.x})}))).values();return n.map(e.isTimeSeries()?function(t){return new Date(+t)}:function(t){return+t})},l.addHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.concat(t)},l.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter(function(e){return t.indexOf(e)<0})},l.addHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.concat(t)},l.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter(function(e){return t.indexOf(e)<0})},l.getValuesAsIdKeyed=function(t){var e={};return t.forEach(function(t){e[t.id]=[],t.values.forEach(function(n){e[t.id].push(n.value)})}),e},l.checkValueInTargets=function(t,e){var n,r,i,o=Object.keys(t);for(n=0;n<o.length;n++)for(i=t[o[n]].values,r=0;r<i.length;r++)if(e(i[r].value))return!0;return!1},l.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,function(t){return 0>t})},l.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,function(t){
return t>0})},l.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},l.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},l.orderTargets=function(t){var e=this,n=e.config,r=e.isOrderAsc(),i=e.isOrderDesc();return r||i?t.sort(function(t,e){var n=function(t,e){return t+Math.abs(e.value)},i=t.values.reduce(n,0),o=e.values.reduce(n,0);return r?o-i:i-o}):d(n.data_order)&&t.sort(n.data_order),t},l.filterByX=function(t,e){return this.d3.merge(t.map(function(t){return t.values})).filter(function(t){return t.x-e===0})},l.filterRemoveNull=function(t){return t.filter(function(t){return f(t.value)})},l.filterByXDomain=function(t,e){return t.map(function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter(function(t){return e[0]<=t.x&&t.x<=e[1]})}})},l.hasDataLabel=function(){var t=this.config;return"boolean"==typeof t.data_labels&&t.data_labels?!0:"object"==typeof t.data_labels&&x(t.data_labels)?!0:!1},l.getDataLabelLength=function(t,e,n){var r=this,i=[0,0],o=1.3;return r.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text(function(t){return r.dataLabelFormat(t.id)(t)}).each(function(t,e){i[e]=this.getBoundingClientRect()[n]*o}).remove(),i},l.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},l.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},l.findSameXOfValues=function(t,e){var n,r=t[e].x,i=[];for(n=e-1;n>=0&&r===t[n].x;n--)i.push(t[n]);for(n=e;n<t.length&&r===t[n].x;n++)i.push(t[n]);return i},l.findClosestFromTargets=function(t,e){var n,r=this;return n=t.map(function(t){return r.findClosest(t.values,e)}),r.findClosest(n,e)},l.findClosest=function(t,e){var n,r=this,i=r.config.point_sensitivity;return t.filter(function(t){return t&&r.isBarType(t.id)}).forEach(function(t){var e=r.main.select("."+h.bars+r.getTargetSelectorSuffix(t.id)+" ."+h.bar+"-"+t.index).node();!n&&r.isWithinBar(e)&&(n=t)}),t.filter(function(t){return t&&!r.isBarType(t.id)}).forEach(function(t){var o=r.dist(t,e);i>o&&(i=o,n=t)}),n},l.dist=function(t,e){var n=this,r=n.config,i=r.axis_rotated?1:0,o=r.axis_rotated?0:1,a=n.circleY(t,t.index),s=n.x(t.x);return Math.sqrt(Math.pow(s-e[i],2)+Math.pow(a-e[o],2))},l.convertValuesToStep=function(t){var e,n=[].concat(t);if(!this.isCategorized())return t;for(e=t.length+1;e>0;e--)n[e]=n[e-1];return n[0]={x:n[0].x-1,value:n[0].value,id:n[0].id},n[t.length+1]={x:n[t.length].x+1,value:n[t.length].value,id:n[t.length].id},n},l.updateDataAttributes=function(t,e){var n=this,r=n.config,i=r["data_"+t];return"undefined"==typeof e?i:(Object.keys(e).forEach(function(t){i[t]=e[t]}),n.redraw({withLegend:!0}),i)},l.convertUrlToData=function(t,e,n,r){var i=this,o=e?e:"csv";i.d3.xhr(t,function(t,e){var a;if(!e)throw new Error(t.responseURL+" "+t.status+" ("+t.statusText+")");a="json"===o?i.convertJsonToData(JSON.parse(e.response),n):"tsv"===o?i.convertTsvToData(e.response):i.convertCsvToData(e.response),r.call(i,a)})},l.convertXsvToData=function(t,e){var n,r=e.parseRows(t);return 1===r.length?(n=[{}],r[0].forEach(function(t){n[0][t]=null})):n=e.parse(t),n},l.convertCsvToData=function(t){return this.convertXsvToData(t,this.d3.csv)},l.convertTsvToData=function(t){return this.convertXsvToData(t,this.d3.tsv)},l.convertJsonToData=function(t,e){var n,r,i=this,o=[];return e?(e.x?(n=e.value.concat(e.x),i.config.data_x=e.x):n=e.value,o.push(n),t.forEach(function(t){var e=[];n.forEach(function(n){var r=g(t[n])?null:t[n];e.push(r)}),o.push(e)}),r=i.convertRowsToData(o)):(Object.keys(t).forEach(function(e){o.push([e].concat(t[e]))}),r=i.convertColumnsToData(o)),r},l.convertRowsToData=function(t){var e,n,r=t[0],i={},o=[];for(e=1;e<t.length;e++){for(i={},n=0;n<t[e].length;n++){if(g(t[e][n]))throw new Error("Source data is missing a component at ("+e+","+n+")!");i[r[n]]=t[e][n]}o.push(i)}return o},l.convertColumnsToData=function(t){var e,n,r,i=[];for(e=0;e<t.length;e++)for(r=t[e][0],n=1;n<t[e].length;n++){if(g(i[n-1])&&(i[n-1]={}),g(t[e][n]))throw new Error("Source data is missing a component at ("+e+","+n+")!");i[n-1][r]=t[e][n]}return i},l.convertDataToTargets=function(t,e){var n,r=this,i=r.config,o=r.d3.keys(t[0]).filter(r.isNotX,r),a=r.d3.keys(t[0]).filter(r.isX,r);return o.forEach(function(n){var o=r.getXKey(n);r.isCustomX()||r.isTimeSeries()?a.indexOf(o)>=0?r.data.xs[n]=(e&&r.data.xs[n]?r.data.xs[n]:[]).concat(t.map(function(t){return t[o]}).filter(f).map(function(t,e){return r.generateTargetX(t,n,e)})):i.data_x?r.data.xs[n]=r.getOtherTargetXs():x(i.data_xs)&&(r.data.xs[n]=r.getXValuesOfXKey(o,r.data.targets)):r.data.xs[n]=t.map(function(t,e){return e})}),o.forEach(function(t){if(!r.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')}),n=o.map(function(e,n){var o=i.data_idConverter(e);return{id:o,id_org:e,values:t.map(function(t,a){var s=r.getXKey(e),l=t[s],u=r.generateTargetX(l,e,a),c=null===t[e]||isNaN(t[e])?null:+t[e];return r.isCustomX()&&r.isCategorized()&&0===n&&l&&(0===a&&(i.axis_x_categories=[]),i.axis_x_categories.push(l)),(g(t[e])||r.data.xs[e].length<=a)&&(u=void 0),{x:u,value:c,id:o}}).filter(function(t){return m(t.x)})}}),n.forEach(function(t){var e;i.data_xSort&&(t.values=t.values.sort(function(t,e){var n=t.x||0===t.x?t.x:1/0,r=e.x||0===e.x?e.x:1/0;return n-r})),e=0,t.values.forEach(function(t){t.index=e++}),r.data.xs[t.id].sort(function(t,e){return t-e})}),r.hasNegativeValue=r.hasNegativeValueInTargets(n),r.hasPositiveValue=r.hasPositiveValueInTargets(n),i.data_type&&r.setTargetType(r.mapToIds(n).filter(function(t){return!(t in i.data_types)}),i.data_type),n.forEach(function(t){r.addCache(t.id_org,t)}),n},l.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach(function(t){var r=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,r)}),n.data.targets.forEach(function(e){for(var n=0;n<t.length;n++)if(e.id===t[n].id){e.values=t[n].values,t.splice(n,1);break}}),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},l.loadFromArgs=function(t){var e=this;t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.keys,function(n){e.load(e.convertDataToTargets(n),t)}):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},l.unload=function(t,e){var n=this;return e||(e=function(){}),t=t.filter(function(t){return n.hasTarget(n.data.targets,t)}),t&&0!==t.length?(n.svg.selectAll(t.map(function(t){return n.selectorTarget(t)})).transition().style("opacity",0).remove().call(n.endall,e),void t.forEach(function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+h.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter(function(e){return e.id!==t})})):void e()},l.categoryName=function(t){var e=this.config;return t<e.axis_x_categories.length?e.axis_x_categories[t]:t},l.initEventRect=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.eventRects).style("fill-opacity",0)},l.redrawEventRect=function(){var t,e,n=this,r=n.config,i=n.isMultipleX(),o=n.main.select("."+h.eventRects).style("cursor",r.zoom_enabled?r.axis_rotated?"ns-resize":"ew-resize":null).classed(h.eventRectsMultiple,i).classed(h.eventRectsSingle,!i);o.selectAll("."+h.eventRect).remove(),n.eventRect=o.selectAll("."+h.eventRect),i?(t=n.eventRect.data([0]),n.generateEventRectsForMultipleXs(t.enter()),n.updateEventRect(t)):(e=n.getMaxDataCountTarget(n.data.targets),o.datum(e?e.values:[]),n.eventRect=o.selectAll("."+h.eventRect),t=n.eventRect.data(function(t){return t}),n.generateEventRectsForSingleX(t.enter()),n.updateEventRect(t),t.exit().remove())},l.updateEventRect=function(t){var e,n,r,i,o,a,s=this,l=s.config;t=t||s.eventRect.data(function(t){return t}),s.isMultipleX()?(e=0,n=0,r=s.width,i=s.height):(!s.isCustomX()&&!s.isTimeSeries()||s.isCategorized()?(o=s.getEventRectWidth(),a=function(t){return s.x(t.x)-o/2}):(s.updateXs(),o=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index);return null===e&&null===n?l.axis_rotated?s.height:s.width:(null===e&&(e=s.x.domain()[0]),null===n&&(n=s.x.domain()[1]),Math.max(0,(s.x(n)-s.x(e))/2))},a=function(t){var e=s.getPrevX(t.index),n=s.getNextX(t.index),r=s.data.xs[t.id][t.index];return null===e&&null===n?0:(null===e&&(e=s.x.domain()[0]),(s.x(r)+s.x(e))/2)}),e=l.axis_rotated?0:a,n=l.axis_rotated?a:0,r=l.axis_rotated?s.width:o,i=l.axis_rotated?o:s.height),t.attr("class",s.classEvent.bind(s)).attr("x",e).attr("y",n).attr("width",r).attr("height",i)},l.generateEventRectsForSingleX=function(t){var e=this,n=e.d3,r=e.config;t.append("rect").attr("class",e.classEvent.bind(e)).style("cursor",r.data_selection_enabled&&r.data_selection_grouped?"pointer":null).on("mouseover",function(t){var n=t.index;e.dragging||e.flowing||e.hasArcType()||(r.point_focus_expand_enabled&&e.expandCircles(n,null,!0),e.expandBars(n,null,!0),e.main.selectAll("."+h.shape+"-"+n).each(function(t){r.data_onmouseover.call(e.api,t)}))}).on("mouseout",function(t){var n=t.index;e.config&&(e.hasArcType()||(e.hideXGridFocus(),e.hideTooltip(),e.unexpandCircles(),e.unexpandBars(),e.main.selectAll("."+h.shape+"-"+n).each(function(t){r.data_onmouseout.call(e.api,t)})))}).on("mousemove",function(t){var i,o=t.index,a=e.svg.select("."+h.eventRect+"-"+o);e.dragging||e.flowing||e.hasArcType()||(e.isStepType(t)&&"step-after"===e.config.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,o))&&(o-=1),i=e.filterTargetsToShow(e.data.targets).map(function(t){return e.addName(e.getValueOnIndex(t.values,o))}),r.tooltip_grouped&&(e.showTooltip(i,this),e.showXGridFocus(i)),(!r.tooltip_grouped||r.data_selection_enabled&&!r.data_selection_grouped)&&e.main.selectAll("."+h.shape+"-"+o).each(function(){n.select(this).classed(h.EXPANDED,!0),r.data_selection_enabled&&a.style("cursor",r.data_selection_grouped?"pointer":null),r.tooltip_grouped||(e.hideXGridFocus(),e.hideTooltip(),r.data_selection_grouped||(e.unexpandCircles(o),e.unexpandBars(o)))}).filter(function(t){return e.isWithinShape(this,t)}).each(function(t){r.data_selection_enabled&&(r.data_selection_grouped||r.data_selection_isselectable(t))&&a.style("cursor","pointer"),r.tooltip_grouped||(e.showTooltip([t],this),e.showXGridFocus([t]),r.point_focus_expand_enabled&&e.expandCircles(o,t.id,!0),e.expandBars(o,t.id,!0))}))}).on("click",function(t){var i=t.index;if(!e.hasArcType()&&e.toggleShape){if(e.cancelClick)return void(e.cancelClick=!1);e.isStepType(t)&&"step-after"===r.line_step_type&&n.mouse(this)[0]<e.x(e.getXValue(t.id,i))&&(i-=1),e.main.selectAll("."+h.shape+"-"+i).each(function(t){(r.data_selection_grouped||e.isWithinShape(this,t))&&(e.toggleShape(this,t,i),e.config.data_onclick.call(e.api,t,this))})}}).call(r.data_selection_draggable&&e.drag?n.behavior.drag().origin(Object).on("drag",function(){e.drag(n.mouse(this))}).on("dragstart",function(){e.dragstart(n.mouse(this))}).on("dragend",function(){e.dragend()}):function(){})},l.generateEventRectsForMultipleXs=function(t){function e(){n.svg.select("."+h.eventRect).style("cursor",null),n.hideXGridFocus(),n.hideTooltip(),n.unexpandCircles(),n.unexpandBars()}var n=this,r=n.d3,i=n.config;t.append("rect").attr("x",0).attr("y",0).attr("width",n.width).attr("height",n.height).attr("class",h.eventRect).on("mouseout",function(){n.config&&(n.hasArcType()||e())}).on("mousemove",function(){var t,o,a,s,l=n.filterTargetsToShow(n.data.targets);if(!n.dragging&&!n.hasArcType(l)){if(t=r.mouse(this),o=n.findClosestFromTargets(l,t),!n.mouseover||o&&o.id===n.mouseover.id||(i.data_onmouseout.call(n.api,n.mouseover),n.mouseover=void 0),!o)return void e();a=n.isScatterType(o)||!i.tooltip_grouped?[o]:n.filterByX(l,o.x),s=a.map(function(t){return n.addName(t)}),n.showTooltip(s,this),i.point_focus_expand_enabled&&n.expandCircles(o.index,o.id,!0),n.expandBars(o.index,o.id,!0),n.showXGridFocus(s),(n.isBarType(o.id)||n.dist(o,t)<i.point_sensitivity)&&(n.svg.select("."+h.eventRect).style("cursor","pointer"),n.mouseover||(i.data_onmouseover.call(n.api,o),n.mouseover=o))}}).on("click",function(){var t,e,o=n.filterTargetsToShow(n.data.targets);n.hasArcType(o)||(t=r.mouse(this),e=n.findClosestFromTargets(o,t),e&&(n.isBarType(e.id)||n.dist(e,t)<i.point_sensitivity)&&n.main.selectAll("."+h.shapes+n.getTargetSelectorSuffix(e.id)).selectAll("."+h.shape+"-"+e.index).each(function(){(i.data_selection_grouped||n.isWithinShape(this,e))&&(n.toggleShape(this,e,e.index),n.config.data_onclick.call(n.api,e,this))}))}).call(i.data_selection_draggable&&n.drag?r.behavior.drag().origin(Object).on("drag",function(){n.drag(r.mouse(this))}).on("dragstart",function(){n.dragstart(r.mouse(this))}).on("dragend",function(){n.dragend()}):function(){})},l.dispatchEvent=function(e,n,r){var i=this,o="."+h.eventRect+(i.isMultipleX()?"":"-"+n),a=i.main.select(o).node(),s=a.getBoundingClientRect(),l=s.left+(r?r[0]:0),u=s.top+(r?r[1]:0),c=document.createEvent("MouseEvents");c.initMouseEvent(e,!0,!0,t,0,l,u,l,u,!1,!1,!1,!1,0,null),a.dispatchEvent(c)},l.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},l.getCurrentHeight=function(){var t=this,e=t.config,n=e.size_height?e.size_height:t.getParentHeight();return n>0?n:320/(t.hasType("gauge")?2:1)},l.getCurrentPaddingTop=function(){var t=this,e=t.config,n=f(e.padding_top)?e.padding_top:0;return t.title&&t.title.node()&&(n+=t.getTitlePadding()),n},l.getCurrentPaddingBottom=function(){var t=this.config;return f(t.padding_bottom)?t.padding_bottom:0},l.getCurrentPaddingLeft=function(t){var e=this,n=e.config;return f(n.padding_left)?n.padding_left:n.axis_rotated?n.axis_x_show?Math.max(v(e.getAxisWidthByAxisId("x",t)),40):1:!n.axis_y_show||n.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:v(e.getAxisWidthByAxisId("y",t))},l.getCurrentPaddingRight=function(){var t=this,e=t.config,n=10,r=t.isLegendRight?t.getLegendWidth()+20:0;return f(e.padding_right)?e.padding_right+1:e.axis_rotated?n+r:!e.axis_y2_show||e.axis_y2_inner?2+r+(t.axis.getY2AxisLabelPosition().isOuter?20:0):v(t.getAxisWidthByAxisId("y2"))+r},l.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(r){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},l.getParentWidth=function(){return this.getParentRectValue("width")},l.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},l.getSvgLeft=function(t){var e=this,n=e.config,r=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,i=n.axis_rotated?h.axisX:h.axisY,o=e.main.select("."+i).node(),a=o&&r?o.getBoundingClientRect():{right:0},s=e.selectChart.node().getBoundingClientRect(),l=e.hasArcType(),u=a.right-s.left-(l?0:e.getCurrentPaddingLeft(t));return u>0?u:0},l.getAxisWidthByAxisId=function(t,e){var n=this,r=n.axis.getLabelPositionById(t);return n.axis.getMaxTickWidth(t,e)+(r.isInner?20:40)},l.getHorizontalAxisHeight=function(t){var e=this,n=e.config,r=30;return"x"!==t||n.axis_x_show?"x"===t&&n.axis_x_height?n.axis_x_height:"y"!==t||n.axis_y_show?"y2"!==t||n.axis_y2_show?("x"===t&&!n.axis_rotated&&n.axis_x_tick_rotate&&(r=30+e.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-n.axis_x_tick_rotate)/180)),r+(e.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):e.rotated_padding_top:!n.legend_show||e.isLegendRight||e.isLegendInset?1:10:8},l.getEventRectWidth=function(){return Math.max(0,this.xAxis.tickInterval())},l.getShapeIndices=function(t){var e,n,r=this,i=r.config,o={},a=0;return r.filterTargetsToShow(r.data.targets.filter(t,r)).forEach(function(t){for(e=0;e<i.data_groups.length;e++)if(!(i.data_groups[e].indexOf(t.id)<0))for(n=0;n<i.data_groups[e].length;n++)if(i.data_groups[e][n]in o){o[t.id]=o[i.data_groups[e][n]];break}g(o[t.id])&&(o[t.id]=a++)}),o.__max__=a-1,o},l.getShapeX=function(t,e,n,r){var i=this,o=r?i.subX:i.x;return function(r){var i=r.id in n?n[r.id]:0;return r.x||0===r.x?o(r.x)-t*(e/2-i):0}},l.getShapeY=function(t){var e=this;return function(n){var r=t?e.getSubYScale(n.id):e.getYScale(n.id);return r(n.value)}},l.getShapeOffset=function(t,e,n){var r=this,i=r.orderTargets(r.filterTargetsToShow(r.data.targets.filter(t,r))),o=i.map(function(t){return t.id});return function(t,a){var s=n?r.getSubYScale(t.id):r.getYScale(t.id),l=s(0),u=l;return i.forEach(function(n){var i=r.isStepType(t)?r.convertValuesToStep(n.values):n.values;n.id!==t.id&&e[n.id]===e[t.id]&&o.indexOf(n.id)<o.indexOf(t.id)&&i[a].value*t.value>=0&&(u+=s(i[a].value)-l)}),u}},l.isWithinShape=function(t,e){var n,r=this,i=r.d3.select(t);return r.isTargetToShow(e.id)?"circle"===t.nodeName?n=r.isStepType(e)?r.isWithinStep(t,r.getYScale(e.id)(e.value)):r.isWithinCircle(t,1.5*r.pointSelectR(e)):"path"===t.nodeName&&(n=i.classed(h.bar)?r.isWithinBar(t):!0):n=!1,n},l.getInterpolate=function(t){var e=this;return e.isSplineType(t)?"cardinal":e.isStepType(t)?e.config.line_step_type:"linear"},l.initLine=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.chartLines)},l.updateTargetsForLine=function(t){var e,n,r=this,i=r.config,o=r.classChartLine.bind(r),a=r.classLines.bind(r),s=r.classAreas.bind(r),l=r.classCircles.bind(r),u=r.classFocus.bind(r);e=r.main.select("."+h.chartLines).selectAll("."+h.chartLine).data(t).attr("class",function(t){return o(t)+u(t)}),n=e.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",a),n.append("g").attr("class",s),n.append("g").attr("class",function(t){return r.generateClass(h.selectedCircles,t.id)}),n.append("g").attr("class",l).style("cursor",function(t){return i.data_selection_isselectable(t)?"pointer":null}),t.forEach(function(t){r.main.selectAll("."+h.selectedCircles+r.getTargetSelectorSuffix(t.id)).selectAll("."+h.selectedCircle).each(function(e){e.value=t.values[e.index].value})})},l.updateLine=function(t){var e=this;e.mainLine=e.main.selectAll("."+h.lines).selectAll("."+h.line).data(e.lineData.bind(e)),e.mainLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.mainLine.style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",function(t){return e.isStepType(t)?"crispEdges":""}).attr("transform",null),e.mainLine.exit().transition().duration(t).style("opacity",0).remove()},l.redrawLine=function(t,e){return[(e?this.mainLine.transition():this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},l.generateDrawLine=function(t,e){var n=this,r=n.config,i=n.d3.svg.line(),o=n.generateGetLinePoints(t,e),a=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},l=function(t,e){return r.data_groups.length>0?o(t,e)[0][1]:a.call(n,t.id)(t.value)};return i=r.axis_rotated?i.x(l).y(s):i.x(s).y(l),r.line_connectNull||(i=i.defined(function(t){return null!=t.value})),function(t){var o,s=r.line_connectNull?n.filterRemoveNull(t.values):t.values,l=e?n.x:n.subX,u=a.call(n,t.id),c=0,h=0;return n.isLineType(t)?r.data_regions[t.id]?o=n.lineWithRegions(s,l,u,r.data_regions[t.id]):(n.isStepType(t)&&(s=n.convertValuesToStep(s)),o=i.interpolate(n.getInterpolate(t))(s)):(s[0]&&(c=l(s[0].x),h=u(s[0].value)),o=r.axis_rotated?"M "+h+" "+c:"M "+c+" "+h),o?o:"M 0 0"}},l.generateGetLinePoints=function(t,e){var n=this,r=n.config,i=t.__max__+1,o=n.getShapeX(0,i,t,!!e),a=n.getShapeY(!!e),s=n.getShapeOffset(n.isLineType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var i=l.call(n,t.id)(0),u=s(t,e)||i,c=o(t),h=a(t);return r.axis_rotated&&(0<t.value&&i>h||t.value<0&&h>i)&&(h=i),[[c,h-(i-u)],[c,h-(i-u)],[c,h-(i-u)],[c,h-(i-u)]]}},l.lineWithRegions=function(t,e,n,r){function i(t,e){var n;for(n=0;n<e.length;n++)if(e[n].start<t&&t<=e[n].end)return!0;return!1}function o(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}var a,s,l,u,c,h,f,d,p,v,y,w,b=this,x=b.config,C=-1,T="M",E=b.isCategorized()?.5:0,k=[];if(m(r))for(a=0;a<r.length;a++)k[a]={},k[a].start=g(r[a].start)?t[0].x:b.isTimeSeries()?b.parseDate(r[a].start):r[a].start,k[a].end=g(r[a].end)?t[t.length-1].x:b.isTimeSeries()?b.parseDate(r[a].end):r[a].end;for(y=x.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},w=x.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},l=b.isTimeSeries()?function(t,r,i,a){var s,l=t.x.getTime(),u=r.x-t.x,h=new Date(l+u*i),f=new Date(l+u*(i+a));return s=x.axis_rotated?[[n(c(i)),e(h)],[n(c(i+a)),e(f)]]:[[e(h),n(c(i))],[e(f),n(c(i+a))]],o(s)}:function(t,r,i,a){var s;return s=x.axis_rotated?[[n(c(i),!0),e(u(i))],[n(c(i+a),!0),e(u(i+a))]]:[[e(u(i),!0),n(c(i))],[e(u(i+a),!0),n(c(i+a))]],o(s)},a=0;a<t.length;a++){if(g(k)||!i(t[a].x,k))T+=" "+y(t[a])+" "+w(t[a]);else for(u=b.getScale(t[a-1].x+E,t[a].x+E,b.isTimeSeries()),c=b.getScale(t[a-1].value,t[a].value),h=e(t[a].x)-e(t[a-1].x),f=n(t[a].value)-n(t[a-1].value),d=Math.sqrt(Math.pow(h,2)+Math.pow(f,2)),p=2/d,v=2*p,s=p;1>=s;s+=v)T+=l(t[a-1],t[a],s,p);C=t[a].x}return T},l.updateArea=function(t){var e=this,n=e.d3;e.mainArea=e.main.selectAll("."+h.areas).selectAll("."+h.area).data(e.lineData.bind(e)),e.mainArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.mainArea.style("opacity",e.orgAreaOpacity),e.mainArea.exit().transition().duration(t).style("opacity",0).remove()},l.redrawArea=function(t,e){return[(e?this.mainArea.transition():this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},l.generateDrawArea=function(t,e){var n=this,r=n.config,i=n.d3.svg.area(),o=n.generateGetAreaPoints(t,e),a=e?n.getSubYScale:n.getYScale,s=function(t){return(e?n.subxx:n.xx).call(n,t)},l=function(t,e){return r.data_groups.length>0?o(t,e)[0][1]:a.call(n,t.id)(n.getAreaBaseValue(t.id))},u=function(t,e){return r.data_groups.length>0?o(t,e)[1][1]:a.call(n,t.id)(t.value)};return i=r.axis_rotated?i.x0(l).x1(u).y(s):i.x(s).y0(l).y1(u),r.line_connectNull||(i=i.defined(function(t){return null!==t.value})),function(t){var e,o=r.line_connectNull?n.filterRemoveNull(t.values):t.values,a=0,s=0;return n.isAreaType(t)?(n.isStepType(t)&&(o=n.convertValuesToStep(o)),e=i.interpolate(n.getInterpolate(t))(o)):(o[0]&&(a=n.x(o[0].x),s=n.getYScale(t.id)(o[0].value)),e=r.axis_rotated?"M "+s+" "+a:"M "+a+" "+s),e?e:"M 0 0"}},l.getAreaBaseValue=function(){return 0},l.generateGetAreaPoints=function(t,e){var n=this,r=n.config,i=t.__max__+1,o=n.getShapeX(0,i,t,!!e),a=n.getShapeY(!!e),s=n.getShapeOffset(n.isAreaType,t,!!e),l=e?n.getSubYScale:n.getYScale;return function(t,e){var i=l.call(n,t.id)(0),u=s(t,e)||i,c=o(t),h=a(t);return r.axis_rotated&&(0<t.value&&i>h||t.value<0&&h>i)&&(h=i),[[c,u],[c,h-(i-u)],[c,h-(i-u)],[c,u]]}},l.updateCircle=function(){var t=this;t.mainCircle=t.main.selectAll("."+h.circles).selectAll("."+h.circle).data(t.lineOrScatterData.bind(t)),t.mainCircle.enter().append("circle").attr("class",t.classCircle.bind(t)).attr("r",t.pointR.bind(t)).style("fill",t.color),t.mainCircle.style("opacity",t.initialOpacityForCircle.bind(t)),t.mainCircle.exit().remove()},l.redrawCircle=function(t,e,n){var r=this.main.selectAll("."+h.selectedCircle);return[(n?this.mainCircle.transition():this.mainCircle).style("opacity",this.opacityForCircle.bind(this)).style("fill",this.color).attr("cx",t).attr("cy",e),(n?r.transition():r).attr("cx",t).attr("cy",e)]},l.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},l.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,n){return e(t,n)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},l.getCircles=function(t,e){var n=this;return(e?n.main.selectAll("."+h.circles+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+h.circle+(f(t)?"-"+t:""))},l.expandCircles=function(t,e,n){var r=this,i=r.pointExpandedR.bind(r);n&&r.unexpandCircles(),r.getCircles(t,e).classed(h.EXPANDED,!0).attr("r",i)},l.unexpandCircles=function(t){var e=this,n=e.pointR.bind(e);e.getCircles(t).filter(function(){return e.d3.select(this).classed(h.EXPANDED)}).classed(h.EXPANDED,!1).attr("r",n)},l.pointR=function(t){var e=this,n=e.config;return e.isStepType(t)?0:d(n.point_r)?n.point_r(t):n.point_r},l.pointExpandedR=function(t){var e=this,n=e.config;return n.point_focus_expand_enabled?n.point_focus_expand_r?n.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},l.pointSelectR=function(t){var e=this,n=e.config;return n.point_select_r?n.point_select_r:4*e.pointR(t)},l.isWithinCircle=function(t,e){var n=this.d3,r=n.mouse(t),i=n.select(t),o=+i.attr("cx"),a=+i.attr("cy");return Math.sqrt(Math.pow(o-r[0],2)+Math.pow(a-r[1],2))<e},l.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},l.initBar=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.chartBars)},l.updateTargetsForBar=function(t){var e,n,r=this,i=r.config,o=r.classChartBar.bind(r),a=r.classBars.bind(r),s=r.classFocus.bind(r);e=r.main.select("."+h.chartBars).selectAll("."+h.chartBar).data(t).attr("class",function(t){return o(t)+s(t)}),n=e.enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",a).style("cursor",function(t){return i.data_selection_isselectable(t)?"pointer":null})},l.updateBar=function(t){var e=this,n=e.barData.bind(e),r=e.classBar.bind(e),i=e.initialOpacity.bind(e),o=function(t){return e.color(t.id)};e.mainBar=e.main.selectAll("."+h.bars).selectAll("."+h.bar).data(n),e.mainBar.enter().append("path").attr("class",r).style("stroke",o).style("fill",o),e.mainBar.style("opacity",i),e.mainBar.exit().transition().duration(t).style("opacity",0).remove()},l.redrawBar=function(t,e){return[(e?this.mainBar.transition():this.mainBar).attr("d",t).style("fill",this.color).style("opacity",1)]},l.getBarW=function(t,e){var n=this,r=n.config,i="number"==typeof r.bar_width?r.bar_width:e?t.tickInterval()*r.bar_width_ratio/e:0;return r.bar_width_max&&i>r.bar_width_max?r.bar_width_max:i},l.getBars=function(t,e){var n=this;return(e?n.main.selectAll("."+h.bars+n.getTargetSelectorSuffix(e)):n.main).selectAll("."+h.bar+(f(t)?"-"+t:""))},l.expandBars=function(t,e,n){var r=this;n&&r.unexpandBars(),r.getBars(t,e).classed(h.EXPANDED,!0)},l.unexpandBars=function(t){var e=this;e.getBars(t).classed(h.EXPANDED,!1)},l.generateDrawBar=function(t,e){var n=this,r=n.config,i=n.generateGetBarPoints(t,e);return function(t,e){var n=i(t,e),o=r.axis_rotated?1:0,a=r.axis_rotated?0:1,s="M "+n[0][o]+","+n[0][a]+" L"+n[1][o]+","+n[1][a]+" L"+n[2][o]+","+n[2][a]+" L"+n[3][o]+","+n[3][a]+" z";return s}},l.generateGetBarPoints=function(t,e){var n=this,r=e?n.subXAxis:n.xAxis,i=t.__max__+1,o=n.getBarW(r,i),a=n.getShapeX(o,i,t,!!e),s=n.getShapeY(!!e),l=n.getShapeOffset(n.isBarType,t,!!e),u=e?n.getSubYScale:n.getYScale;return function(t,e){var r=u.call(n,t.id)(0),i=l(t,e)||r,c=a(t),h=s(t);return n.config.axis_rotated&&(0<t.value&&r>h||t.value<0&&h>r)&&(h=r),[[c,i],[c,h-(r-i)],[c+o,h-(r-i)],[c+o,i]]}},l.isWithinBar=function(t){var e=this.d3.mouse(t),n=t.getBoundingClientRect(),r=t.pathSegList.getItem(0),i=t.pathSegList.getItem(1),o=Math.min(r.x,i.x),a=Math.min(r.y,i.y),s=n.width,l=n.height,u=2,c=o-u,h=o+s+u,f=a+l+u,d=a-u;return c<e[0]&&e[0]<h&&d<e[1]&&e[1]<f},l.initText=function(){var t=this;t.main.select("."+h.chart).append("g").attr("class",h.chartTexts),t.mainText=t.d3.selectAll([])},l.updateTargetsForText=function(t){var e,n,r=this,i=r.classChartText.bind(r),o=r.classTexts.bind(r),a=r.classFocus.bind(r);e=r.main.select("."+h.chartTexts).selectAll("."+h.chartText).data(t).attr("class",function(t){return i(t)+a(t)}),n=e.enter().append("g").attr("class",i).style("opacity",0).style("pointer-events","none"),n.append("g").attr("class",o)},l.updateText=function(t){var e=this,n=e.config,r=e.barOrLineData.bind(e),i=e.classText.bind(e);e.mainText=e.main.selectAll("."+h.texts).selectAll("."+h.text).data(r),e.mainText.enter().append("text").attr("class",i).attr("text-anchor",function(t){return n.axis_rotated?t.value<0?"end":"start":"middle"}).style("stroke","none").style("fill",function(t){return e.color(t)}).style("fill-opacity",0),e.mainText.text(function(t,n,r){return e.dataLabelFormat(t.id)(t.value,t.id,n,r)}),e.mainText.exit().transition().duration(t).style("fill-opacity",0).remove()},l.redrawText=function(t,e,n,r){return[(r?this.mainText.transition():this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},l.getTextRect=function(t,e){var n,r=this.d3.select("body").append("div").classed("c3",!0),i=r.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0);return i.selectAll(".dummy").data([t]).enter().append("text").classed(e?e:"",!0).text(t).each(function(){n=this.getBoundingClientRect()}),r.remove(),n},l.generateXYForText=function(t,e,n,r){var i=this,o=i.generateGetAreaPoints(t,!1),a=i.generateGetBarPoints(e,!1),s=i.generateGetLinePoints(n,!1),l=r?i.getXForText:i.getYForText;return function(t,e){var n=i.isAreaType(t)?o:i.isBarType(t)?a:s;return l.call(i,n(t,e),t,this)}},l.getXForText=function(t,e,n){var r,i,o=this,a=n.getBoundingClientRect();return o.config.axis_rotated?(i=o.isBarType(e)?4:6,r=t[2][1]+i*(e.value<0?-1:1)):r=o.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(r>o.width?r=o.width-a.width:0>r&&(r=4)),r},l.getYForText=function(t,e,n){var r,i=this,o=n.getBoundingClientRect();return i.config.axis_rotated?r=(t[0][0]+t[2][0]+.6*o.height)/2:(r=t[2][1],e.value<0||0===e.value&&!i.hasPositiveValue?(r+=o.height,i.isBarType(e)&&i.isSafari()?r-=3:!i.isBarType(e)&&i.isChrome()&&(r+=3)):r+=i.isBarType(e)?-3:-6),null!==e.value||i.config.axis_rotated||(r<o.height?r=o.height:r>this.height&&(r=this.height-4)),r},l.setTargetType=function(t,e){var n=this,r=n.config;n.mapToTargetIds(t).forEach(function(t){n.withoutFadeIn[t]=e===r.data_types[t],r.data_types[t]=e}),t||(r.data_type=e)},l.hasType=function(t,e){var n=this,r=n.config.data_types,i=!1;return e=e||n.data.targets,e&&e.length?e.forEach(function(e){var n=r[e.id];(n&&n.indexOf(t)>=0||!n&&"line"===t)&&(i=!0)}):Object.keys(r).length?Object.keys(r).forEach(function(e){r[e]===t&&(i=!0)}):i=n.config.data_type===t,i},l.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},l.isLineType=function(t){var e=this.config,n=p(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},l.isStepType=function(t){var e=p(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},l.isSplineType=function(t){var e=p(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},l.isAreaType=function(t){var e=p(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},l.isBarType=function(t){var e=p(t)?t:t.id;return"bar"===this.config.data_types[e]},l.isScatterType=function(t){var e=p(t)?t:t.id;return"scatter"===this.config.data_types[e]},l.isPieType=function(t){var e=p(t)?t:t.id;return"pie"===this.config.data_types[e]},l.isGaugeType=function(t){var e=p(t)?t:t.id;return"gauge"===this.config.data_types[e]},l.isDonutType=function(t){var e=p(t)?t:t.id;return"donut"===this.config.data_types[e]},l.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},l.lineData=function(t){return this.isLineType(t)?[t]:[]},l.arcData=function(t){return this.isArcType(t.data)?[t]:[]},l.barData=function(t){return this.isBarType(t)?t.values:[]},l.lineOrScatterData=function(t){return this.isLineType(t)||this.isScatterType(t)?t.values:[]},l.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[];

},l.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",h.grid),e.grid_x_show&&t.grid.append("g").attr("class",h.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",h.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",h.xgridFocus).append("line").attr("class",h.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},l.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",h.grid+" "+h.gridLines),t.gridLines.append("g").attr("class",h.xgridLines),t.gridLines.append("g").attr("class",h.ygridLines),t.xgridLines=e.selectAll([])},l.updateXGrid=function(t){var e=this,n=e.config,r=e.d3,i=e.generateGridData(n.grid_x_type,e.x),o=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-o},y2:function(t){return e.x(t)-o}}:{x1:function(t){return e.x(t)+o},x2:function(t){return e.x(t)+o},y1:0,y2:e.height},e.xgrid=e.main.select("."+h.xgrids).selectAll("."+h.xgrid).data(i),e.xgrid.enter().append("line").attr("class",h.xgrid),t||e.xgrid.attr(e.xgridAttr).style("opacity",function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1}),e.xgrid.exit().remove()},l.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks);t.ygrid=t.main.select("."+h.ygrids).selectAll("."+h.ygrid).data(n),t.ygrid.enter().append("line").attr("class",h.ygrid),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),t.ygrid.exit().remove(),t.smoothLines(t.ygrid,"grid")},l.gridTextAnchor=function(t){return t.position?t.position:"end"},l.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},l.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},l.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},l.updateGrid=function(t){var e,n,r,i=this,o=i.main,a=i.config;i.grid.style("visibility",i.hasArcType()?"hidden":"visible"),o.select("line."+h.xgridFocus).style("visibility","hidden"),a.grid_x_show&&i.updateXGrid(),i.xgridLines=o.select("."+h.xgridLines).selectAll("."+h.xgridLine).data(a.grid_x_lines),e=i.xgridLines.enter().append("g").attr("class",function(t){return h.xgridLine+(t["class"]?" "+t["class"]:"")}),e.append("line").style("opacity",0),e.append("text").attr("text-anchor",i.gridTextAnchor).attr("transform",a.axis_rotated?"":"rotate(-90)").attr("dx",i.gridTextDx).attr("dy",-5).style("opacity",0),i.xgridLines.exit().transition().duration(t).style("opacity",0).remove(),a.grid_y_show&&i.updateYGrid(),i.ygridLines=o.select("."+h.ygridLines).selectAll("."+h.ygridLine).data(a.grid_y_lines),n=i.ygridLines.enter().append("g").attr("class",function(t){return h.ygridLine+(t["class"]?" "+t["class"]:"")}),n.append("line").style("opacity",0),n.append("text").attr("text-anchor",i.gridTextAnchor).attr("transform",a.axis_rotated?"rotate(-90)":"").attr("dx",i.gridTextDx).attr("dy",-5).style("opacity",0),r=i.yv.bind(i),i.ygridLines.select("line").transition().duration(t).attr("x1",a.axis_rotated?r:0).attr("x2",a.axis_rotated?r:i.width).attr("y1",a.axis_rotated?0:r).attr("y2",a.axis_rotated?i.height:r).style("opacity",1),i.ygridLines.select("text").transition().duration(t).attr("x",a.axis_rotated?i.xGridTextX.bind(i):i.yGridTextX.bind(i)).attr("y",r).text(function(t){return t.text}).style("opacity",1),i.ygridLines.exit().transition().duration(t).style("opacity",0).remove()},l.redrawGrid=function(t){var e=this,n=e.config,r=e.xv.bind(e),i=e.xgridLines.select("line"),o=e.xgridLines.select("text");return[(t?i.transition():i).attr("x1",n.axis_rotated?0:r).attr("x2",n.axis_rotated?e.width:r).attr("y1",n.axis_rotated?r:0).attr("y2",n.axis_rotated?r:e.height).style("opacity",1),(t?o.transition():o).attr("x",n.axis_rotated?e.yGridTextX.bind(e):e.xGridTextX.bind(e)).attr("y",r).text(function(t){return t.text}).style("opacity",1)]},l.showXGridFocus=function(t){var e=this,n=e.config,r=t.filter(function(t){return t&&f(t.value)}),i=e.main.selectAll("line."+h.xgridFocus),o=e.xx.bind(e);n.tooltip_show&&(e.hasType("scatter")||e.hasArcType()||(i.style("visibility","visible").data([r[0]]).attr(n.axis_rotated?"y1":"x1",o).attr(n.axis_rotated?"y2":"x2",o),e.smoothLines(i,"grid")))},l.hideXGridFocus=function(){this.main.select("line."+h.xgridFocus).style("visibility","hidden")},l.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+h.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},l.generateGridData=function(t,e){var n,r,i,o,a=this,s=[],l=a.main.select("."+h.axisX).selectAll(".tick").size();if("year"===t)for(n=a.getXDomain(),r=n[0].getFullYear(),i=n[1].getFullYear(),o=r;i>=o;o++)s.push(new Date(o+"-01-01 00:00:00"));else s=e.ticks(10),s.length>l&&(s=s.filter(function(t){return(""+t).indexOf(".")<0}));return s},l.getGridFilterToRemove=function(t){return t?function(e){var n=!1;return[].concat(t).forEach(function(t){("value"in t&&e.value===t.value||"class"in t&&e["class"]===t["class"])&&(n=!0)}),n}:function(){return!0}},l.removeGridLines=function(t,e){var n=this,r=n.config,i=n.getGridFilterToRemove(t),o=function(t){return!i(t)},a=e?h.xgridLines:h.ygridLines,s=e?h.xgridLine:h.ygridLine;n.main.select("."+a).selectAll("."+s).filter(i).transition().duration(r.transition_duration).style("opacity",0).remove(),e?r.grid_x_lines=r.grid_x_lines.filter(o):r.grid_y_lines=r.grid_y_lines.filter(o)},l.initTooltip=function(){var t,e=this,n=e.config;if(e.tooltip=e.selectChart.style("position","relative").append("div").attr("class",h.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),n.tooltip_init_show){if(e.isTimeSeries()&&p(n.tooltip_init_x)){for(n.tooltip_init_x=e.parseDate(n.tooltip_init_x),t=0;t<e.data.targets[0].values.length&&e.data.targets[0].values[t].x-n.tooltip_init_x!==0;t++);n.tooltip_init_x=t}e.tooltip.html(n.tooltip_contents.call(e,e.data.targets.map(function(t){return e.addName(t.values[n.tooltip_init_x])}),e.axis.getXAxisTickFormat(),e.getYFormat(e.hasArcType()),e.color)),e.tooltip.style("top",n.tooltip_init_position.top).style("left",n.tooltip_init_position.left).style("display","block")}},l.getTooltipContent=function(t,e,n,r){var i,o,a,s,l,u,c=this,f=c.config,d=f.tooltip_format_title||e,p=f.tooltip_format_name||function(t){return t},g=f.tooltip_format_value||n;for(o=0;o<t.length;o++)if(t[o]&&(t[o].value||0===t[o].value)&&(i||(a=d?d(t[o].x):t[o].x,i="<table class='"+h.tooltip+"'>"+(a||0===a?"<tr><th colspan='2'>"+a+"</th></tr>":"")),s=g(t[o].value,t[o].ratio,t[o].id,t[o].index),void 0!==s)){if(null===t[o].name)continue;l=p(t[o].name,t[o].ratio,t[o].id,t[o].index),u=c.levelColor?c.levelColor(t[o].value):r(t[o].id),i+="<tr class='"+h.tooltipName+"-"+t[o].id+"'>",i+="<td class='name'><span style='background-color:"+u+"'></span>"+l+"</td>",i+="<td class='value'>"+s+"</td>",i+="</tr>"}return i+"</table>"},l.tooltipPosition=function(t,e,n,r){var i,o,a,s,l,u=this,c=u.config,h=u.d3,f=u.hasArcType(),d=h.mouse(r);return f?(o=(u.width-(u.isLegendRight?u.getLegendWidth():0))/2+d[0],s=u.height/2+d[1]+20):(i=u.getSvgLeft(!0),c.axis_rotated?(o=i+d[0]+100,a=o+e,l=u.currentWidth-u.getCurrentPaddingRight(),s=u.x(t[0].x)+20):(o=i+u.getCurrentPaddingLeft(!0)+u.x(t[0].x)+20,a=o+e,l=i+u.currentWidth-u.getCurrentPaddingRight(),s=d[1]+15),a>l&&(o-=a-l+20),s+n>u.currentHeight&&(s-=n+30)),0>s&&(s=0),{top:s,left:o}},l.showTooltip=function(t,e){var n,r,i,o=this,a=o.config,s=o.hasArcType(),u=t.filter(function(t){return t&&f(t.value)}),c=a.tooltip_position||l.tooltipPosition;0!==u.length&&a.tooltip_show&&(o.tooltip.html(a.tooltip_contents.call(o,t,o.axis.getXAxisTickFormat(),o.getYFormat(s),o.color)).style("display","block"),n=o.tooltip.property("offsetWidth"),r=o.tooltip.property("offsetHeight"),i=c.call(this,u,n,r,e),o.tooltip.style("top",i.top+"px").style("left",i.left+"px"))},l.hideTooltip=function(){this.tooltip.style("display","none")},l.initLegend=function(){var t=this;return t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),t.config.legend_show?void t.updateLegendWithDefaults():(t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets)))},l.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},l.updateSizeForLegend=function(t,e){var n=this,r=n.config,i={top:n.isLegendTop?n.getCurrentPaddingTop()+r.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-r.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+r.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-r.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?i.top:n.currentHeight-t,right:0/0,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?i.left:0}},l.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},l.updateLegendStep=function(t){this.legendStep=t},l.updateLegendItemWidth=function(t){this.legendItemWidth=t},l.updateLegendItemHeight=function(t){this.legendItemHeight=t},l.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},l.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},l.opacityForLegend=function(t){return t.classed(h.legendItemHidden)?null:1},l.opacityForUnfocusedLegend=function(t){return t.classed(h.legendItemHidden)?null:.3},l.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+h.legendItem).filter(function(e){return t.indexOf(e)>=0}).classed(h.legendItemFocused,e).transition().duration(100).style("opacity",function(){var t=e?n.opacityForLegend:n.opacityForUnfocusedLegend;return t.call(n,n.d3.select(this))})},l.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+h.legendItem).classed(h.legendItemFocused,!1).transition().duration(100).style("opacity",function(){return t.opacityForLegend(e.select(this))})},l.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",function(){return e.opacityForLegend(e.d3.select(this))})},l.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&b(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},l.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},l.updateLegend=function(t,e,n){function r(t,e){return E.legendItemTextBox[e]||(E.legendItemTextBox[e]=E.getTextRect(t.textContent,h.legendItem)),E.legendItemTextBox[e]}function i(e,n,i){function o(t,e){e||(a=(p-R-d)/2,D>a&&(a=(p-d)/2,R=0,B++)),N[t]=B,I[B]=E.isLegendInset?10:a,P[t]=R,R+=d}var a,s,l=0===i,u=i===t.length-1,c=r(e,n),h=c.width+M+(!u||E.isLegendRight||E.isLegendInset?_:0)+k.legend_padding,f=c.height+S,d=E.isLegendRight||E.isLegendInset?f:h,p=E.isLegendRight||E.isLegendInset?E.getLegendHeight():E.getLegendWidth();return l&&(R=0,B=0,$=0,A=0),k.legend_show&&!E.isLegendToShow(n)?void(O[n]=L[n]=N[n]=P[n]=0):(O[n]=h,L[n]=f,(!$||h>=$)&&($=h),(!A||f>=A)&&(A=f),s=E.isLegendRight||E.isLegendInset?A:$,void(k.legend_equally?(Object.keys(O).forEach(function(t){O[t]=$}),Object.keys(L).forEach(function(t){L[t]=A}),a=(p-s*t.length)/2,D>a?(R=0,B=0,t.forEach(function(t){o(t)})):o(n,!0)):o(n)))}var o,a,s,l,u,c,f,d,p,g,v,y,w,b,x,T,E=this,k=E.config,S=4,_=10,$=0,A=0,D=10,M=k.legend_item_tile_width+5,R=0,P={},O={},L={},I=[0],N={},B=0;t=t.filter(function(t){return!m(k.data_names[t])||null!==k.data_names[t]}),e=e||{},v=C(e,"withTransition",!0),y=C(e,"withTransitionForTransform",!0),E.isLegendInset&&(B=k.legend_inset_step?k.legend_inset_step:t.length,E.updateLegendStep(B)),E.isLegendRight?(o=function(t){return $*N[t]},l=function(t){return I[N[t]]+P[t]}):E.isLegendInset?(o=function(t){return $*N[t]+10},l=function(t){return I[N[t]]+P[t]}):(o=function(t){return I[N[t]]+P[t]},l=function(t){return A*N[t]}),a=function(t,e){return o(t,e)+4+k.legend_item_tile_width},u=function(t,e){return l(t,e)+9},s=function(t,e){return o(t,e)},c=function(t,e){return l(t,e)-5},f=function(t,e){return o(t,e)-2},d=function(t,e){return o(t,e)-2+k.legend_item_tile_width},p=function(t,e){return l(t,e)+4},g=E.legend.selectAll("."+h.legendItem).data(t).enter().append("g").attr("class",function(t){return E.generateClass(h.legendItem,t)}).style("visibility",function(t){return E.isLegendToShow(t)?"visible":"hidden"}).style("cursor","pointer").on("click",function(t){k.legend_item_onclick?k.legend_item_onclick.call(E,t):E.d3.event.altKey?(E.api.hide(),E.api.show(t)):(E.api.toggle(t),E.isTargetToShow(t)?E.api.focus(t):E.api.revert())}).on("mouseover",function(t){E.d3.select(this).classed(h.legendItemFocused,!0),!E.transiting&&E.isTargetToShow(t)&&E.api.focus(t),k.legend_item_onmouseover&&k.legend_item_onmouseover.call(E,t)}).on("mouseout",function(t){E.d3.select(this).classed(h.legendItemFocused,!1),E.api.revert(),k.legend_item_onmouseout&&k.legend_item_onmouseout.call(E,t)}),g.append("text").text(function(t){return m(k.data_names[t])?k.data_names[t]:t}).each(function(t,e){i(this,t,e)}).style("pointer-events","none").attr("x",E.isLegendRight||E.isLegendInset?a:-200).attr("y",E.isLegendRight||E.isLegendInset?-200:u),g.append("rect").attr("class",h.legendItemEvent).style("fill-opacity",0).attr("x",E.isLegendRight||E.isLegendInset?s:-200).attr("y",E.isLegendRight||E.isLegendInset?-200:c),g.append("line").attr("class",h.legendItemTile).style("pointer-events","none").attr("stroke-width",k.legend_item_tile_height),T=E.legend.select("."+h.legendBackground+" rect"),E.isLegendInset&&$>0&&0===T.size()&&(T=E.legend.insert("g","."+h.legendItem).attr("class",h.legendBackground).append("rect")),w=E.legend.selectAll("text").data(t).text(function(t){return m(k.data_names[t])?k.data_names[t]:t}).each(function(t,e){i(this,t,e)}),(v?w.transition():w).attr("x",a).attr("y",u),b=E.legend.selectAll("rect."+h.legendItemEvent).data(t),(v?b.transition():b).attr("width",function(t){return O[t]}).attr("height",function(t){return L[t]}).attr("x",s).attr("y",c),x=E.legend.selectAll("line."+h.legendItemTile).data(t),(v?x.transition():x).style("stroke",E.color).attr("x1",f).attr("y1",p).attr("x2",d).attr("y2",p),T&&(v?T.transition():T).attr("height",E.getLegendHeight()-12).attr("width",$*(B+1)+10),E.legend.selectAll("."+h.legendItem).classed(h.legendItemHidden,function(t){return!E.isTargetToShow(t)}),E.updateLegendItemWidth($),E.updateLegendItemHeight(A),E.updateLegendStep(B),E.updateSizes(),E.updateScales(),E.updateSvgSize(),E.transformAll(y,n),E.legendHasRendered=!0},l.initTitle=function(){var t=this;t.title=t.svg.append("text").attr("class",t.CLASS.title),t.titleText=t.title.append("tspan").text(t.config.title_text).attr("class",t.CLASS.titleText),t.config.title_author&&(t.titleAuthor=t.title.append("tspan").text(t.config.title_author).attr("class",t.CLASS.titleAuthor).attr("dx",t.config.title_spacing)),t.config.title_source&&(t.titleSource=t.title.append("tspan").text(t.config.title_source).attr("class",t.CLASS.titleSource).attr("dx",t.config.title_spacing))},l.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},l.xForTitle=function(){var t,e=this,n=e.config,r=n.title_position||"left";return t=r.indexOf("right")>=0?e.currentWidth-e.title.node().getBBox().width-n.title_padding.right:r.indexOf("center")>=0?(e.currentWidth-e.title.node().getBBox().width)/2:n.title_padding.left},l.yForTitle=function(){var t=this;return t.config.title_padding.top+t.title.node().getBBox().height},l.getTitlePadding=function(){var t=this;return t.yForTitle()+t.config.title_padding.bottom},n(e,o),o.prototype.init=function(){var t=this.owner,e=t.config,n=t.main;t.axes.x=n.append("g").attr("class",h.axis+" "+h.axisX).attr("clip-path",t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",h.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=n.append("g").attr("class",h.axis+" "+h.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",h.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=n.append("g").attr("class",h.axis+" "+h.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",h.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},o.prototype.getXAxis=function(t,e,n,r,i,o,s){var l=this.owner,u=l.config,c={isCategory:l.isCategorized(),withOuterTick:i,tickMultiline:u.axis_x_tick_multiline,tickWidth:u.axis_x_tick_width,tickTextRotate:s?0:u.axis_x_tick_rotate,withoutTransition:o},h=a(l.d3,c).scale(t).orient(e);return l.isTimeSeries()&&r&&"function"!=typeof r&&(r=r.map(function(t){return l.parseDate(t)})),h.tickFormat(n).tickValues(r),l.isCategorized()&&(h.tickCentered(u.axis_x_tick_centered),b(u.axis_x_tick_culling)&&(u.axis_x_tick_culling=!1)),h},o.prototype.updateXAxisTickValues=function(t,e){var n,r=this.owner,i=r.config;return(i.axis_x_tick_fit||i.axis_x_tick_count)&&(n=this.generateTickValues(r.mapTargetsToUniqueXs(t),i.axis_x_tick_count,r.isTimeSeries())),e?e.tickValues(n):(r.xAxis.tickValues(n),r.subXAxis.tickValues(n)),n},o.prototype.getYAxis=function(t,e,n,r,i,o){var s={withOuterTick:i,withoutTransition:o},l=this.owner,u=l.d3,c=l.config,h=a(u,s).scale(t).orient(e).tickFormat(n);return l.isTimeSeriesY()?h.ticks(u.time[c.axis_y_tick_time_value],c.axis_y_tick_time_interval):h.tickValues(r),h},o.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},o.prototype.getXAxisTickFormat=function(){var t=this.owner,e=t.config,n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return 0>t?t.toFixed(0):t};return e.axis_x_tick_format&&(d(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),d(n)?function(e){return n.call(t,e)}:n},o.prototype.getTickValues=function(t,e){return t?t:e?e.tickValues():void 0},o.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},o.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},o.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},o.prototype.getLabelOptionByAxisId=function(t){var e,n=this.owner,r=n.config;return"y"===t?e=r.axis_y_label:"y2"===t?e=r.axis_y2_label:"x"===t&&(e=r.axis_x_label),e},o.prototype.getLabelText=function(t){var e=this.getLabelOptionByAxisId(t);return p(e)?e:e?e.text:null},o.prototype.setLabelText=function(t,e){var n=this.owner,r=n.config,i=this.getLabelOptionByAxisId(t);p(i)?"y"===t?r.axis_y_label=e:"y2"===t?r.axis_y2_label=e:"x"===t&&(r.axis_x_label=e):i&&(i.text=e)},o.prototype.getLabelPosition=function(t,e){var n=this.getLabelOptionByAxisId(t),r=n&&"object"==typeof n&&n.position?n.position:e;return{isInner:r.indexOf("inner")>=0,isOuter:r.indexOf("outer")>=0,isLeft:r.indexOf("left")>=0,isCenter:r.indexOf("center")>=0,isRight:r.indexOf("right")>=0,isTop:r.indexOf("top")>=0,isMiddle:r.indexOf("middle")>=0,isBottom:r.indexOf("bottom")>=0}},o.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},o.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},o.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},o.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},o.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},o.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},o.prototype.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},o.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},o.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},o.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},o.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},o.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},o.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-this.getMaxTickWidth("x"):n.isInner?"-0.5em":e.axis_x_height?e.axis_x_height-10:"3em"},o.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},o.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},o.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},o.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},o.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},o.prototype.getMaxTickWidth=function(t,e){var n,r,i,o,a,s=this.owner,l=s.config,u=0;return e&&s.currentMaxTickWidths[t]?s.currentMaxTickWidths[t]:(s.svg&&(n=s.filterTargetsToShow(s.data.targets),"y"===t?(r=s.y.copy().domain(s.getYDomain(n,"y")),i=this.getYAxis(r,s.yOrient,l.axis_y_tick_format,s.yAxisTickValues,!1,!0)):"y2"===t?(r=s.y2.copy().domain(s.getYDomain(n,"y2")),i=this.getYAxis(r,s.y2Orient,l.axis_y2_tick_format,s.y2AxisTickValues,!1,!0)):(r=s.x.copy().domain(s.getXDomain(n)),i=this.getXAxis(r,s.xOrient,s.xAxisTickFormat,s.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,i)),o=s.d3.select("body").append("div").classed("c3",!0),a=o.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),a.append("g").call(i).each(function(){s.d3.select(this).selectAll("text").each(function(){var t=this.getBoundingClientRect();u<t.width&&(u=t.width)}),o.remove()})),s.currentMaxTickWidths[t]=0>=u?s.currentMaxTickWidths[t]:u,s.currentMaxTickWidths[t])},o.prototype.updateLabels=function(t){var e=this.owner,n=e.main.select("."+h.axisX+" ."+h.axisXLabel),r=e.main.select("."+h.axisY+" ."+h.axisYLabel),i=e.main.select("."+h.axisY2+" ."+h.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?i.transition():i).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},o.prototype.getPadding=function(t,e,n,r){return f(t[e])?"ratio"===t.unit?t[e]*r:this.convertPixelsToAxisPadding(t[e],r):n},o.prototype.convertPixelsToAxisPadding=function(t,e){var n=this.owner,r=n.config.axis_rotated?n.width:n.height;return e*(t/r)},o.prototype.generateTickValues=function(t,e,n){var r,i,o,a,s,l,u,c=t;if(e)if(r=d(e)?e():e,1===r)c=[t[0]];else if(2===r)c=[t[0],t[t.length-1]];else if(r>2){for(a=r-2,i=t[0],o=t[t.length-1],s=(o-i)/(a+1),c=[i],l=0;a>l;l++)u=+i+s*(l+1),c.push(n?new Date(u):u);c.push(o)}return n||(c=c.sort(function(t,e){return t-e})),c},o.prototype.generateTransitions=function(t){var e=this.owner,n=e.axes;return{axisX:t?n.x.transition().duration(t):n.x,axisY:t?n.y.transition().duration(t):n.y,axisY2:t?n.y2.transition().duration(t):n.y2,axisSubX:t?n.subx.transition().duration(t):n.subx}},o.prototype.redraw=function(t,e){var n=this.owner;n.axes.x.style("opacity",e?0:1),n.axes.y.style("opacity",e?0:1),n.axes.y2.style("opacity",e?0:1),n.axes.subx.style("opacity",e?0:1),t.axisX.call(n.xAxis),t.axisY.call(n.yAxis),t.axisY2.call(n.y2Axis),t.axisSubX.call(n.subXAxis)},l.getClipPath=function(e){var n=t.navigator.appVersion.toLowerCase().indexOf("msie 9.")>=0;return"url("+(n?"":document.URL.split("#")[0])+"#"+e+")"},l.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},l.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},l.getAxisClipY=function(t){return t?-20:-this.margin.top},l.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},l.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},l.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},l.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},l.getAxisClipWidth=function(t){var e=this,n=Math.max(30,e.margin.left),r=Math.max(30,e.margin.right);return t?e.width+2+n+r:e.margin.left+20},l.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},l.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},l.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},l.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},l.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},l.initPie=function(){var t=this,e=t.d3,n=t.config;t.pie=e.layout.pie().value(function(t){return t.values.reduce(function(t,e){return t+e.value},0)}),n.data_order||t.pie.sort(null)},l.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2,t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0},l.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},l.updateAngle=function(t){var e,n,r=this,i=r.config,o=!1,a=0,s=i.gauge_min,l=i.gauge_max;return r.pie(r.filterTargetsToShow(r.data.targets)).forEach(function(e){o||e.data.id!==t.data.id||(o=!0,t=e,t.index=a),a++}),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),r.isGaugeType(t.data)&&(e=Math.PI/(l-s),n=t.value<s?0:t.value<l?t.value-s:l-s,t.startAngle=-1*(Math.PI/2),t.endAngle=t.startAngle+e*n),o?t:null},l.getSvgArc=function(){var t=this,e=t.d3.svg.arc().outerRadius(t.radius).innerRadius(t.innerRadius),n=function(n,r){var i;return r?e(n):(i=t.updateAngle(n),i?e(i):"M 0 0")};return n.centroid=e.centroid,n},l.getSvgArcExpanded=function(t){var e=this,n=e.d3.svg.arc().outerRadius(e.radiusExpanded*(t?t:1)).innerRadius(e.innerRadius);return function(t){var r=e.updateAngle(t);return r?n(r):"M 0 0"}},l.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},l.transformForArcLabel=function(t){var e,n,r,i,o,a=this,s=a.updateAngle(t),l="";return s&&!a.hasType("gauge")&&(e=this.svgArc.centroid(s),n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?0:e[1],i=Math.sqrt(n*n+r*r),o=a.radius&&i?(36/a.radius>.375?1.175-36/a.radius:.8)*a.radius/i:0,l="translate("+n*o+","+r*o+")"),l},l.getArcRatio=function(t){var e=this,n=e.hasType("gauge")?Math.PI:2*Math.PI;return t?(t.endAngle-t.startAngle)/n:null},l.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getArcRatio(t),index:t.index})},l.textForArcLabel=function(t){var e,n,r,i,o,a=this;return a.shouldShowArcLabel()?(e=a.updateAngle(t),n=e?e.value:null,r=a.getArcRatio(e),i=t.data.id,a.hasType("gauge")||a.meetsArcLabelThreshold(r)?(o=a.getArcLabelFormat(),o?o(n,r,i):a.defaultArcValueFormat(n,r)):""):""},l.expandArc=function(e){var n,r=this;return r.transiting?void(n=t.setInterval(function(){r.transiting||(t.clearInterval(n),r.legend.selectAll(".c3-legend-item-focused").size()>0&&r.expandArc(e))},10)):(e=r.mapToTargetIds(e),void r.svg.selectAll(r.selectorTargets(e,"."+h.chartArc)).each(function(t){r.shouldExpand(t.data.id)&&r.d3.select(this).selectAll("path").transition().duration(r.expandDuration(t.data.id)).attr("d",r.svgArcExpanded).transition().duration(2*r.expandDuration(t.data.id)).attr("d",r.svgArcExpandedSub).each(function(t){r.isDonutType(t.data)})}))},l.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+h.chartArc)).selectAll("path").transition().duration(function(t){return e.expandDuration(t.data.id)}).attr("d",e.svgArc),e.svg.selectAll("."+h.arc).style("opacity",1))},l.expandDuration=function(t){var e=this,n=e.config;return e.isDonutType(t)?n.donut_expand_duration:e.isGaugeType(t)?n.gauge_expand_duration:e.isPieType(t)?n.pie_expand_duration:50},l.shouldExpand=function(t){var e=this,n=e.config;return e.isDonutType(t)&&n.donut_expand||e.isGaugeType(t)&&n.gauge_expand||e.isPieType(t)&&n.pie_expand},l.shouldShowArcLabel=function(){var t=this,e=t.config,n=!0;return t.hasType("donut")?n=e.donut_label_show:t.hasType("pie")&&(n=e.pie_label_show),n},l.meetsArcLabelThreshold=function(t){var e=this,n=e.config,r=e.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold;return t>=r},l.getArcLabelFormat=function(){var t=this,e=t.config,n=e.pie_label_format;return t.hasType("gauge")?n=e.gauge_label_format:t.hasType("donut")&&(n=e.donut_label_format),n},l.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},l.updateTargetsForArc=function(t){var e,n,r=this,i=r.main,o=r.classChartArc.bind(r),a=r.classArcs.bind(r),s=r.classFocus.bind(r);e=i.select("."+h.chartArcs).selectAll("."+h.chartArc).data(r.pie(t)).attr("class",function(t){
return o(t)+s(t.data)}),n=e.enter().append("g").attr("class",o),n.append("g").attr("class",a),n.append("text").attr("dy",r.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},l.initArc=function(){var t=this;t.arcs=t.main.select("."+h.chart).append("g").attr("class",h.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",h.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},l.redrawArc=function(t,e,n){var r,i=this,o=i.d3,a=i.config,s=i.main;r=s.selectAll("."+h.arcs).selectAll("."+h.arc).data(i.arcData.bind(i)),r.enter().append("path").attr("class",i.classArc.bind(i)).style("fill",function(t){return i.color(t.data)}).style("cursor",function(t){return a.interaction_enabled&&a.data_selection_isselectable(t)?"pointer":null}).style("opacity",0).each(function(t){i.isGaugeType(t.data)&&(t.startAngle=t.endAngle=-1*(Math.PI/2)),this._current=t}),r.attr("transform",function(t){return!i.isGaugeType(t.data)&&n?"scale(0)":""}).style("opacity",function(t){return t===this._current?0:1}).on("mouseover",a.interaction_enabled?function(t){var e,n;i.transiting||(e=i.updateAngle(t),e&&(n=i.convertToArcData(e),i.expandArc(e.data.id),i.api.focus(e.data.id),i.toggleFocusLegend(e.data.id,!0),i.config.data_onmouseover(n,this)))}:null).on("mousemove",a.interaction_enabled?function(t){var e,n,r=i.updateAngle(t);r&&(e=i.convertToArcData(r),n=[e],i.showTooltip(n,this))}:null).on("mouseout",a.interaction_enabled?function(t){var e,n;i.transiting||(e=i.updateAngle(t),e&&(n=i.convertToArcData(e),i.unexpandArc(e.data.id),i.api.revert(),i.revertLegend(),i.hideTooltip(),i.config.data_onmouseout(n,this)))}:null).on("click",a.interaction_enabled?function(t,e){var n,r=i.updateAngle(t);r&&(n=i.convertToArcData(r),i.toggleShape&&i.toggleShape(this,n,e),i.config.data_onclick.call(i.api,n,this))}:null).each(function(){i.transiting=!0}).transition().duration(t).attrTween("d",function(t){var e,n=i.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=o.interpolate(this._current,n),this._current=e(0),function(n){var r=e(n);return r.data=t.data,i.getArc(r,!0)}):function(){return"M 0 0"}}).attr("transform",n?"scale(1)":"").style("fill",function(t){return i.levelColor?i.levelColor(t.data.values[0].value):i.color(t.data.id)}).style("opacity",1).call(i.endall,function(){i.transiting=!1}),r.exit().transition().duration(e).style("opacity",0).remove(),s.selectAll("."+h.chartArc).select("text").style("opacity",0).attr("class",function(t){return i.isGaugeType(t.data)?h.gaugeValue:""}).text(i.textForArcLabel.bind(i)).attr("transform",i.transformForArcLabel.bind(i)).style("font-size",function(t){return i.isGaugeType(t.data)?Math.round(i.radius/5)+"px":""}).transition().duration(t).style("opacity",function(t){return i.isTargetToShow(t.data.id)&&i.isArcType(t.data)?1:0}),s.select("."+h.chartArcsTitle).style("opacity",i.hasType("donut")||i.hasType("gauge")?1:0),i.hasType("gauge")&&(i.arcs.select("."+h.chartArcsBackground).attr("d",function(){var t={data:[{value:a.gauge_max}],startAngle:-1*(Math.PI/2),endAngle:Math.PI/2};return i.getArc(t,!0,!0)}),i.arcs.select("."+h.chartArcsGaugeUnit).attr("dy",".75em").text(a.gauge_label_show?a.gauge_units:""),i.arcs.select("."+h.chartArcsGaugeMin).attr("dx",-1*(i.innerRadius+(i.radius-i.innerRadius)/2)+"px").attr("dy","1.2em").text(a.gauge_label_show?a.gauge_min:""),i.arcs.select("."+h.chartArcsGaugeMax).attr("dx",i.innerRadius+(i.radius-i.innerRadius)/2+"px").attr("dy","1.2em").text(a.gauge_label_show?a.gauge_max:""))},l.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("path").attr("class",h.chartArcsBackground),t.append("text").attr("class",h.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",h.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",h.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},l.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},l.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",h.regions)},l.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible"),e.mainRegion=e.main.select("."+h.regions).selectAll("."+h.region).data(n.regions),e.mainRegion.enter().append("g").attr("class",e.classRegion.bind(e)).append("rect").style("fill-opacity",0),e.mainRegion.exit().transition().duration(t).style("opacity",0).remove()},l.redrawRegion=function(t){var e=this,n=e.mainRegion.selectAll("rect"),r=e.regionX.bind(e),i=e.regionY.bind(e),o=e.regionWidth.bind(e),a=e.regionHeight.bind(e);return[(t?n.transition():n).attr("x",r).attr("y",i).attr("width",o).attr("height",a).style("fill-opacity",function(t){return f(t.opacity)?t.opacity:.1})]},l.regionX=function(t){var e,n=this,r=n.config,i="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?r.axis_rotated&&"start"in t?i(t.start):0:r.axis_rotated?0:"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},l.regionY=function(t){var e,n=this,r=n.config,i="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?r.axis_rotated?0:"end"in t?i(t.end):0:r.axis_rotated&&"start"in t?n.x(n.isTimeSeries()?n.parseDate(t.start):t.start):0},l.regionWidth=function(t){var e,n=this,r=n.config,i=n.regionX(t),o="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?r.axis_rotated&&"end"in t?o(t.end):n.width:r.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width,i>e?0:e-i},l.regionHeight=function(t){var e,n=this,r=n.config,i=this.regionY(t),o="y"===t.axis?n.y:n.y2;return e="y"===t.axis||"y2"===t.axis?r.axis_rotated?n.height:"start"in t?o(t.start):n.height:r.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height,i>e?0:e-i},l.isRegionOnX=function(t){return!t.axis||"x"===t.axis},l.drag=function(t){var e,n,r,i,o,a,s,l,u=this,c=u.config,f=u.main,d=u.d3;u.hasArcType()||c.data_selection_enabled&&(!c.zoom_enabled||u.zoom.altDomain)&&c.data_selection_multiple&&(e=u.dragStart[0],n=u.dragStart[1],r=t[0],i=t[1],o=Math.min(e,r),a=Math.max(e,r),s=c.data_selection_grouped?u.margin.top:Math.min(n,i),l=c.data_selection_grouped?u.height:Math.max(n,i),f.select("."+h.dragarea).attr("x",o).attr("y",s).attr("width",a-o).attr("height",l-s),f.selectAll("."+h.shapes).selectAll("."+h.shape).filter(function(t){return c.data_selection_isselectable(t)}).each(function(t,e){var n,r,i,c,f,p,g=d.select(this),m=g.classed(h.SELECTED),v=g.classed(h.INCLUDED),y=!1;if(g.classed(h.circle))n=1*g.attr("cx"),r=1*g.attr("cy"),f=u.togglePoint,y=n>o&&a>n&&r>s&&l>r;else{if(!g.classed(h.bar))return;p=E(this),n=p.x,r=p.y,i=p.width,c=p.height,f=u.togglePath,y=!(n>a||o>n+i||r>l||s>r+c)}y^v&&(g.classed(h.INCLUDED,!v),g.classed(h.SELECTED,!m),f.call(u,!m,g,t,e))}))},l.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+h.chart).append("rect").attr("class",h.dragarea).style("opacity",.1),e.dragging=!0)},l.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+h.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+h.shape).classed(h.INCLUDED,!1),t.dragging=!1)},l.selectPoint=function(t,e,n){var r=this,i=r.config,o=(i.axis_rotated?r.circleY:r.circleX).bind(r),a=(i.axis_rotated?r.circleX:r.circleY).bind(r),s=r.pointSelectR.bind(r);i.data_onselected.call(r.api,e,t.node()),r.main.select("."+h.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+h.selectedCircle+"-"+n).data([e]).enter().append("circle").attr("class",function(){return r.generateClass(h.selectedCircle,n)}).attr("cx",o).attr("cy",a).attr("stroke",function(){return r.color(e)}).attr("r",function(t){return 1.4*r.pointSelectR(t)}).transition().duration(100).attr("r",s)},l.unselectPoint=function(t,e,n){var r=this;r.config.data_onunselected.call(r.api,e,t.node()),r.main.select("."+h.selectedCircles+r.getTargetSelectorSuffix(e.id)).selectAll("."+h.selectedCircle+"-"+n).transition().duration(100).attr("r",0).remove()},l.togglePoint=function(t,e,n,r){t?this.selectPoint(e,n,r):this.unselectPoint(e,n,r)},l.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),t.transition().duration(100).style("fill",function(){return n.d3.rgb(n.color(e)).brighter(.75)})},l.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),t.transition().duration(100).style("fill",function(){return n.color(e)})},l.togglePath=function(t,e,n,r){t?this.selectPath(e,n,r):this.unselectPath(e,n,r)},l.getToggle=function(t,e){var n,r=this;return"circle"===t.nodeName?n=r.isStepType(e)?function(){}:r.togglePoint:"path"===t.nodeName&&(n=r.togglePath),n},l.toggleShape=function(t,e,n){var r=this,i=r.d3,o=r.config,a=i.select(t),s=a.classed(h.SELECTED),l=r.getToggle(t,e).bind(r);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||r.main.selectAll("."+h.shapes+(o.data_selection_grouped?r.getTargetSelectorSuffix(e.id):"")).selectAll("."+h.shape).each(function(t,e){var n=i.select(this);n.classed(h.SELECTED)&&l(!1,n.classed(h.SELECTED,!1),t,e)}),a.classed(h.SELECTED,!s),l(!s,a,e,n))},l.initBrush=function(){var t=this,e=t.d3;t.brush=e.svg.brush().on("brush",function(){t.redrawForBrush()}),t.brush.update=function(){return t.context&&t.context.select("."+h.brush).call(this),this},t.brush.scale=function(e){return t.config.axis_rotated?this.y(e):this.x(e)}},l.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));n.style("visibility",e.subchart_show?"visible":"hidden"),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",h.chart),n.select("."+h.chart).append("g").attr("class",h.chartBars),n.select("."+h.chart).append("g").attr("class",h.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",h.brush).call(t.brush),t.axes.subx=n.append("g").attr("class",h.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?"visible":"hidden")},l.updateTargetsForSubchart=function(t){var e,n,r,i,o=this,a=o.context,s=o.config,l=o.classChartBar.bind(o),u=o.classBars.bind(o),c=o.classChartLine.bind(o),f=o.classLines.bind(o),d=o.classAreas.bind(o);s.subchart_show&&(i=a.select("."+h.chartBars).selectAll("."+h.chartBar).data(t).attr("class",l),r=i.enter().append("g").style("opacity",0).attr("class",l),r.append("g").attr("class",u),n=a.select("."+h.chartLines).selectAll("."+h.chartLine).data(t).attr("class",c),e=n.enter().append("g").style("opacity",0).attr("class",c),e.append("g").attr("class",f),e.append("g").attr("class",d),a.selectAll("."+h.brush+" rect").attr(s.axis_rotated?"width":"height",s.axis_rotated?o.width2:o.height2))},l.updateBarForSubchart=function(t){var e=this;e.contextBar=e.context.selectAll("."+h.bars).selectAll("."+h.bar).data(e.barData.bind(e)),e.contextBar.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color),e.contextBar.style("opacity",e.initialOpacity.bind(e)),e.contextBar.exit().transition().duration(t).style("opacity",0).remove()},l.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition().duration(n):this.contextBar).attr("d",t).style("opacity",1)},l.updateLineForSubchart=function(t){var e=this;e.contextLine=e.context.selectAll("."+h.lines).selectAll("."+h.line).data(e.lineData.bind(e)),e.contextLine.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color),e.contextLine.style("opacity",e.initialOpacity.bind(e)),e.contextLine.exit().transition().duration(t).style("opacity",0).remove()},l.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition().duration(n):this.contextLine).attr("d",t).style("opacity",1)},l.updateAreaForSubchart=function(t){var e=this,n=e.d3;e.contextArea=e.context.selectAll("."+h.areas).selectAll("."+h.area).data(e.lineData.bind(e)),e.contextArea.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}),e.contextArea.style("opacity",0),e.contextArea.exit().transition().duration(t).style("opacity",0).remove()},l.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition().duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},l.redrawSubchart=function(t,e,n,r,i,o,a){var s,l,u,c=this,h=c.d3,f=c.config;c.context.style("visibility",f.subchart_show?"visible":"hidden"),f.subchart_show&&(h.event&&"zoom"===h.event.type&&c.brush.extent(c.x.orgDomain()).update(),t&&(c.brush.empty()||c.brush.extent(c.x.orgDomain()).update(),s=c.generateDrawArea(i,!0),l=c.generateDrawBar(o,!0),u=c.generateDrawLine(a,!0),c.updateBarForSubchart(n),c.updateLineForSubchart(n),c.updateAreaForSubchart(n),c.redrawBarForSubchart(l,n,n),c.redrawLineForSubchart(u,n,n),c.redrawAreaForSubchart(s,n,n)))},l.redrawForBrush=function(){var t=this,e=t.x;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withDimension:!1}),t.config.subchart_onbrush.call(t.api,e.orgDomain())},l.transformContext=function(t,e){var n,r=this;e&&e.axisSubX?n=e.axisSubX:(n=r.context.select("."+h.axisX),t&&(n=n.transition())),r.context.attr("transform",r.getTranslate("context")),n.attr("transform",r.getTranslate("subx"))},l.getDefaultExtent=function(){var t=this,e=t.config,n=d(e.axis_x_extent)?e.axis_x_extent(t.getXDomain(t.data.targets)):e.axis_x_extent;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},l.initZoom=function(){var t,e=this,n=e.d3,r=e.config;e.zoom=n.behavior.zoom().on("zoomstart",function(){t=n.event.sourceEvent,e.zoom.altDomain=n.event.sourceEvent.altKey?e.x.orgDomain():null,r.zoom_onzoomstart.call(e.api,n.event.sourceEvent)}).on("zoom",function(){e.redrawForZoom.call(e)}).on("zoomend",function(){var i=n.event.sourceEvent;i&&t.clientX===i.clientX&&t.clientY===i.clientY||(e.redrawEventRect(),e.updateZoom(),r.zoom_onzoomend.call(e.api,e.x.orgDomain()))}),e.zoom.scale=function(t){return r.axis_rotated?this.y(t):this.x(t)},e.zoom.orgScaleExtent=function(){var t=r.zoom_extent?r.zoom_extent:[1,10];return[t[0],Math.max(e.getMaxDataCount()/t[1],t[1])]},e.zoom.updateScaleExtent=function(){var t=w(e.x.orgDomain())/w(e.getZoomDomain()),n=this.orgScaleExtent();return this.scaleExtent([n[0]*t,n[1]*t]),this}},l.getZoomDomain=function(){var t=this,e=t.config,n=t.d3,r=n.min([t.orgXDomain[0],e.zoom_x_min]),i=n.max([t.orgXDomain[1],e.zoom_x_max]);return[r,i]},l.updateZoom=function(){var t=this,e=t.config.zoom_enabled?t.zoom:function(){};t.main.select("."+h.zoomRect).call(e).on("dblclick.zoom",null),t.main.selectAll("."+h.eventRect).call(e).on("dblclick.zoom",null)},l.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,r=t.zoom,i=t.x;if(n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length){if("mousemove"===e.event.sourceEvent.type&&r.altDomain)return i.domain(r.altDomain),void r.scale(i).updateScaleExtent();t.isCategorized()&&i.orgDomain()[0]===t.orgXDomain[0]&&i.domain([t.orgXDomain[0]-1e-10,i.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0),n.zoom_onzoom.call(t.api,i.orgDomain())}},l.generateColor=function(){var t=this,e=t.config,n=t.d3,r=e.data_colors,i=x(e.color_pattern)?e.color_pattern:n.scale.category10().range(),o=e.data_color,a=[];return function(t){var e,n=t.id||t.data&&t.data.id||t;return r[n]instanceof Function?e=r[n](t):r[n]?e=r[n]:(a.indexOf(n)<0&&a.push(n),e=i[a.indexOf(n)%i.length],r[n]=e),o instanceof Function?o(e,t):e}},l.generateLevelColor=function(){var t=this,e=t.config,n=e.color_pattern,r=e.color_threshold,i="value"===r.unit,o=r.values&&r.values.length?r.values:[],a=r.max||100;return x(e.color_threshold)?function(t){var e,r,s=n[n.length-1];for(e=0;e<o.length;e++)if(r=i?t:100*t/a,r<o[e]){s=n[e];break}return s}:null},l.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,r=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,i,o){var a="y2"===e.axis.getId(o)?r:n;return a.call(e,t,i)}},l.yFormat=function(t){var e=this,n=e.config,r=n.axis_y_tick_format?n.axis_y_tick_format:e.defaultValueFormat;return r(t)},l.y2Format=function(t){var e=this,n=e.config,r=n.axis_y2_tick_format?n.axis_y2_tick_format:e.defaultValueFormat;return r(t)},l.defaultValueFormat=function(t){return f(t)?+t:""},l.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},l.dataLabelFormat=function(t){var e,n=this,r=n.config.data_labels,i=function(t){return f(t)?+t:""};return e="function"==typeof r.format?r.format:"object"==typeof r.format?r.format[t]?r.format[t]===!0?i:r.format[t]:function(){return""}:i},l.hasCaches=function(t){for(var e=0;e<t.length;e++)if(!(t[e]in this.cache))return!1;return!0},l.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},l.getCaches=function(t){var e,n=[];for(e=0;e<t.length;e++)t[e]in this.cache&&n.push(this.cloneTarget(this.cache[t[e]]));return n};var h=l.CLASS={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",titleText:"c3-title-text",titleAuthor:"c3-title-author",titleSource:"c3-title-source",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"};l.generateClass=function(t,e){return" "+t+" "+t+this.getTargetSelectorSuffix(e)},l.classText=function(t){return this.generateClass(h.text,t.index)},l.classTexts=function(t){return this.generateClass(h.texts,t.id)},l.classShape=function(t){return this.generateClass(h.shape,t.index)},l.classShapes=function(t){return this.generateClass(h.shapes,t.id)},l.classLine=function(t){return this.classShape(t)+this.generateClass(h.line,t.id)},l.classLines=function(t){return this.classShapes(t)+this.generateClass(h.lines,t.id)},l.classCircle=function(t){return this.classShape(t)+this.generateClass(h.circle,t.index)},l.classCircles=function(t){return this.classShapes(t)+this.generateClass(h.circles,t.id)},l.classBar=function(t){return this.classShape(t)+this.generateClass(h.bar,t.index)},l.classBars=function(t){return this.classShapes(t)+this.generateClass(h.bars,t.id)},l.classArc=function(t){return this.classShape(t.data)+this.generateClass(h.arc,t.data.id)},l.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(h.arcs,t.data.id)},l.classArea=function(t){return this.classShape(t)+this.generateClass(h.area,t.id)},l.classAreas=function(t){return this.classShapes(t)+this.generateClass(h.areas,t.id)},l.classRegion=function(t,e){return this.generateClass(h.region,e)+" "+("class"in t?t["class"]:"")},l.classEvent=function(t){return this.generateClass(h.eventRect,t.index)},l.classTarget=function(t){var e=this,n=e.config.data_classes[t],r="";return n&&(r=" "+h.target+"-"+n),e.generateClass(h.target,t)+r},l.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},l.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?h.focused:"")},l.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?h.defocused:"")},l.classChartText=function(t){return h.chartText+this.classTarget(t.id)},l.classChartLine=function(t){return h.chartLine+this.classTarget(t.id)},l.classChartBar=function(t){return h.chartBar+this.classTarget(t.id)},l.classChartArc=function(t){return h.chartArc+this.classTarget(t.data.id)},l.getTargetSelectorSuffix=function(t){return t||0===t?("-"+t).replace(/[\s?!@#$%^&*()_=+,.<>'":;\[\]\/|~`{}\\]/g,"-"):""},l.selectorTarget=function(t,e){return(e||"")+"."+h.target+this.getTargetSelectorSuffix(t)},l.selectorTargets=function(t,e){var n=this;return t=t||[],t.length?t.map(function(t){return n.selectorTarget(t,e)}):null},l.selectorLegend=function(t){return"."+h.legendItem+this.getTargetSelectorSuffix(t)},l.selectorLegends=function(t){var e=this;return t&&t.length?t.map(function(t){return e.selectorLegend(t)}):null};var f=l.isValue=function(t){return t||0===t},d=l.isFunction=function(t){return"function"==typeof t},p=l.isString=function(t){return"string"==typeof t},g=l.isUndefined=function(t){return"undefined"==typeof t},m=l.isDefined=function(t){return"undefined"!=typeof t},v=l.ceil10=function(t){return 10*Math.ceil(t/10)},y=l.asHalfPixel=function(t){return Math.ceil(t)+.5},w=l.diffDomain=function(t){return t[1]-t[0]},b=l.isEmpty=function(t){return!t||p(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length},x=l.notEmpty=function(t){return Object.keys(t).length>0},C=l.getOption=function(t,e,n){return m(t[e])?t[e]:n},T=l.hasValue=function(t,e){var n=!1;return Object.keys(t).forEach(function(r){t[r]===e&&(n=!0)}),n},E=l.getPathBox=function(t){var e=t.getBoundingClientRect(),n=[t.pathSegList.getItem(0),t.pathSegList.getItem(1)],r=n[0].x,i=Math.min(n[0].y,n[1].y);return{x:r,y:i,width:e.width,height:e.height}};s.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(h.focused,!0).classed(h.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter(function(e){return t.indexOf(e)<0})},s.defocus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),e.classed(h.focused,!1).classed(h.defocused,!0),n.hasArcType()&&n.unexpandArc(t),n.toggleFocusLegend(t,!1),n.focusedTargetIds=n.focusedTargetIds.filter(function(e){return t.indexOf(e)<0}),n.defocusedTargetIds=t},s.revert=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t)),e.classed(h.focused,!1).classed(h.defocused,!1),n.hasArcType()&&n.unexpandArc(t),n.config.legend_show&&(n.showLegend(t.filter(n.isLegendToShow.bind(n))),n.legend.selectAll(n.selectorLegends(t)).filter(function(){return n.d3.select(this).classed(h.legendItemFocused)}).classed(h.legendItemFocused,!1)),n.focusedTargetIds=[],n.defocusedTargetIds=[]},s.show=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.removeHiddenTargetIds(t),n=r.svg.selectAll(r.selectorTargets(t)),n.transition().style("opacity",1,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",1)}),e.withLegend&&r.showLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},s.hide=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.addHiddenTargetIds(t),n=r.svg.selectAll(r.selectorTargets(t)),n.transition().style("opacity",0,"important").call(r.endall,function(){n.style("opacity",null).style("opacity",0)}),e.withLegend&&r.hideLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},s.toggle=function(t,e){var n=this,r=this.internal;r.mapToTargetIds(t).forEach(function(t){r.isTargetToShow(t)?n.hide(t,e):n.show(t,e)})},s.zoom=function(t){var e=this.internal;return t&&(e.isTimeSeries()&&(t=t.map(function(t){return e.parseDate(t)})),e.brush.extent(t),e.redraw({withUpdateXDomain:!0,withY:e.config.zoom_rescale}),e.config.zoom_onzoom.call(this,e.x.orgDomain())),e.brush.extent()},s.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},s.unzoom=function(){var t=this.internal;t.brush.clear().update(),t.redraw({withUpdateXDomain:!0})},s.zoom.max=function(t){var e=this.internal,n=e.config,r=e.d3;return 0===t||t?void(n.zoom_x_max=r.max([e.orgXDomain[1],t])):n.zoom_x_max},s.zoom.min=function(t){var e=this.internal,n=e.config,r=e.d3;return 0===t||t?void(n.zoom_x_min=r.min([e.orgXDomain[0],t])):n.zoom_x_min},s.zoom.range=function(t){return arguments.length?(m(t.max)&&this.domain.max(t.max),void(m(t.min)&&this.domain.min(t.min))):{max:this.domain.max(),min:this.domain.min()}},s.load=function(t){var e=this.internal,n=e.config;return t.xs&&e.addXs(t.xs),"classes"in t&&Object.keys(t.classes).forEach(function(e){n.data_classes[e]=t.classes[e]}),"categories"in t&&e.isCategorized()&&(n.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach(function(e){n.data_axes[e]=t.axes[e]}),"colors"in t&&Object.keys(t.colors).forEach(function(e){n.data_colors[e]=t.colors[e]}),"cacheIds"in t&&e.hasCaches(t.cacheIds)?void e.load(e.getCaches(t.cacheIds),t.done):void("unload"in t?e.unload(e.mapToTargetIds("boolean"==typeof t.unload&&t.unload?null:t.unload),function(){e.loadFromArgs(t)}):e.loadFromArgs(t))},s.unload=function(t){var e=this.internal;t=t||{},t instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()})},s.flow=function(t){var e,n,r,i,o,a,s,l,u=this.internal,c=[],h=u.getMaxDataCount(),d=0,p=0;if(t.json)n=u.convertJsonToData(t.json,t.keys);else if(t.rows)n=u.convertRowsToData(t.rows);else{if(!t.columns)return;n=u.convertColumnsToData(t.columns)}e=u.convertDataToTargets(n,!0),u.data.targets.forEach(function(t){var n,r,i=!1;for(n=0;n<e.length;n++)if(t.id===e[n].id){for(i=!0,t.values[t.values.length-1]&&(p=t.values[t.values.length-1].index+1),d=e[n].values.length,r=0;d>r;r++)e[n].values[r].index=p+r,u.isTimeSeries()||(e[n].values[r].x=p+r);t.values=t.values.concat(e[n].values),e.splice(n,1);break}i||c.push(t.id)}),u.data.targets.forEach(function(t){var e,n;for(e=0;e<c.length;e++)if(t.id===c[e])for(p=t.values[t.values.length-1].index+1,n=0;d>n;n++)t.values.push({id:t.id,index:p+n,x:u.isTimeSeries()?u.getOtherTargetX(p+n):p+n,value:null})}),u.data.targets.length&&e.forEach(function(t){var e,n=[];for(e=u.data.targets[0].values[0].index;p>e;e++)n.push({id:t.id,index:e,x:u.isTimeSeries()?u.getOtherTargetX(e):e,value:null});t.values.forEach(function(t){t.index+=p,u.isTimeSeries()||(t.x+=p)}),t.values=n.concat(t.values)}),u.data.targets=u.data.targets.concat(e),r=u.getMaxDataCount(),o=u.data.targets[0],a=o.values[0],m(t.to)?(d=0,l=u.isTimeSeries()?u.parseDate(t.to):t.to,o.values.forEach(function(t){t.x<l&&d++})):m(t.length)&&(d=t.length),h?1===h&&u.isTimeSeries()&&(s=(o.values[o.values.length-1].x-a.x)/2,i=[new Date(+a.x-s),new Date(+a.x+s)],u.updateXDomain(null,!0,!0,!1,i)):(s=u.isTimeSeries()?o.values.length>1?o.values[o.values.length-1].x-a.x:a.x-u.getXDomain(u.data.targets)[0]:1,i=[a.x-s,a.x],u.updateXDomain(null,!0,!0,!1,i)),u.updateTargets(u.data.targets),u.redraw({flow:{index:a.index,length:d,duration:f(t.duration)?t.duration:u.config.transition_duration,done:t.done,orgDataCount:h},withLegend:!0,withTransition:h>1,withTrimXDomain:!1,withUpdateXAxis:!0})},l.generateFlow=function(t){var e=this,n=e.config,r=e.d3;return function(){var i,o,a,s=t.targets,l=t.flow,u=t.drawBar,c=t.drawLine,f=t.drawArea,d=t.cx,p=t.cy,g=t.xv,m=t.xForText,v=t.yForText,y=t.duration,b=1,x=l.index,C=l.length,T=e.getValueOnIndex(e.data.targets[0].values,x),E=e.getValueOnIndex(e.data.targets[0].values,x+C),k=e.x.domain(),S=l.duration||y,_=l.done||function(){},$=e.generateWait(),A=e.xgrid||r.selectAll([]),D=e.xgridLines||r.selectAll([]),M=e.mainRegion||r.selectAll([]),R=e.mainText||r.selectAll([]),P=e.mainBar||r.selectAll([]),O=e.mainLine||r.selectAll([]),L=e.mainArea||r.selectAll([]),I=e.mainCircle||r.selectAll([]);e.flowing=!0,e.data.targets.forEach(function(t){t.values.splice(0,C)}),a=e.updateXDomain(s,!0,!0),e.updateXGrid&&e.updateXGrid(!0),l.orgDataCount?i=1===l.orgDataCount||T.x===E.x?e.x(k[0])-e.x(a[0]):e.isTimeSeries()?e.x(k[0])-e.x(a[0]):e.x(T.x)-e.x(E.x):1!==e.data.targets[0].values.length?i=e.x(k[0])-e.x(a[0]):e.isTimeSeries()?(T=e.getValueOnIndex(e.data.targets[0].values,0),E=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),i=e.x(T.x)-e.x(E.x)):i=w(a)/2,b=w(k)/w(a),o="translate("+i+",0) scale("+b+",1)",e.hideXGridFocus(),r.transition().ease("linear").duration(S).each(function(){$.add(e.axes.x.transition().call(e.xAxis)),$.add(P.transition().attr("transform",o)),$.add(O.transition().attr("transform",o)),$.add(L.transition().attr("transform",o)),$.add(I.transition().attr("transform",o)),$.add(R.transition().attr("transform",o)),$.add(M.filter(e.isRegionOnX).transition().attr("transform",o)),$.add(A.transition().attr("transform",o)),$.add(D.transition().attr("transform",o))}).call($,function(){var t,r=[],i=[],o=[];if(C){for(t=0;C>t;t++)r.push("."+h.shape+"-"+(x+t)),i.push("."+h.text+"-"+(x+t)),o.push("."+h.eventRect+"-"+(x+t));e.svg.selectAll("."+h.shapes).selectAll(r).remove(),e.svg.selectAll("."+h.texts).selectAll(i).remove(),e.svg.selectAll("."+h.eventRects).selectAll(o).remove(),e.svg.select("."+h.xgrid).remove()}A.attr("transform",null).attr(e.xgridAttr),D.attr("transform",null),D.select("line").attr("x1",n.axis_rotated?0:g).attr("x2",n.axis_rotated?e.width:g),D.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",g),P.attr("transform",null).attr("d",u),O.attr("transform",null).attr("d",c),L.attr("transform",null).attr("d",f),I.attr("transform",null).attr("cx",d).attr("cy",p),R.attr("transform",null).attr("x",m).attr("y",v).style("fill-opacity",e.opacityForText.bind(e)),M.attr("transform",null),M.select("rect").filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),n.interaction_enabled&&e.redrawEventRect(),_(),e.flowing=!1})}},s.selected=function(t){var e=this.internal,n=e.d3;return n.merge(e.main.selectAll("."+h.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+h.shape).filter(function(){return n.select(this).classed(h.SELECTED)}).map(function(t){return t.map(function(t){var e=t.__data__;return e.data?e.data:e})}))},s.select=function(t,e,n){var r=this.internal,i=r.d3,o=r.config;o.data_selection_enabled&&r.main.selectAll("."+h.shapes).selectAll("."+h.shape).each(function(a,s){var l=i.select(this),u=a.data?a.data.id:a.id,c=r.getToggle(this,a).bind(r),f=o.data_selection_grouped||!t||t.indexOf(u)>=0,d=!e||e.indexOf(s)>=0,p=l.classed(h.SELECTED);l.classed(h.line)||l.classed(h.area)||(f&&d?o.data_selection_isselectable(a)&&!p&&c(!0,l.classed(h.SELECTED,!0),a,s):m(n)&&n&&p&&c(!1,l.classed(h.SELECTED,!1),a,s));

})},s.unselect=function(t,e){var n=this.internal,r=n.d3,i=n.config;i.data_selection_enabled&&n.main.selectAll("."+h.shapes).selectAll("."+h.shape).each(function(o,a){var s=r.select(this),l=o.data?o.data.id:o.id,u=n.getToggle(this,o).bind(n),c=i.data_selection_grouped||!t||t.indexOf(l)>=0,f=!e||e.indexOf(a)>=0,d=s.classed(h.SELECTED);s.classed(h.line)||s.classed(h.area)||c&&f&&i.data_selection_isselectable(o)&&d&&u(!1,s.classed(h.SELECTED,!1),o,a)})},s.transform=function(t,e){var n=this.internal,r=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,r)},l.transformTo=function(t,e,n){var r=this,i=!r.hasArcType(),o=n||{withTransitionForAxis:i};o.withTransitionForTransform=!1,r.transiting=!1,r.setTargetType(t,e),r.updateTargets(r.data.targets),r.updateAndRedraw(o)},s.groups=function(t){var e=this.internal,n=e.config;return g(t)?n.data_groups:(n.data_groups=t,e.redraw(),n.data_groups)},s.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},s.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t?t:[]))},s.xgrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!0)},s.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},s.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t?t:[]))},s.ygrids.remove=function(t){var e=this.internal;e.removeGridLines(t,!1)},s.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions},s.regions.add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},s.regions.remove=function(t){var e,n,r,i=this.internal,o=i.config;return t=t||{},e=i.getOption(t,"duration",o.transition_duration),n=i.getOption(t,"classes",[h.region]),r=i.main.select("."+h.regions).selectAll(n.map(function(t){return"."+t})),(e?r.transition().duration(e):r).style("opacity",0).remove(),o.regions=o.regions.filter(function(t){var e=!1;return t["class"]?(t["class"].split(" ").forEach(function(t){n.indexOf(t)>=0&&(e=!0)}),!e):!0}),o.regions},s.data=function(t){var e=this.internal.data.targets;return"undefined"==typeof t?e:e.filter(function(e){return[].concat(t).indexOf(e.id)>=0})},s.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},s.data.values=function(t){var e,n=null;return t&&(e=this.data(t),n=e[0]?e[0].values.map(function(t){return t.value}):null),n},s.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},s.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},s.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},s.category=function(t,e){var n=this.internal,r=n.config;return arguments.length>1&&(r.axis_x_categories[t]=e,n.redraw()),r.axis_x_categories[t]},s.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},s.color=function(t){var e=this.internal;return e.color(t)},s.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},s.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},s.axis=function(){},s.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach(function(n){e.axis.setLabelText(n,t[n])}),e.axis.updateLabels())},s.axis.max=function(t){var e=this.internal,n=e.config;return arguments.length?("object"==typeof t?(f(t.x)&&(n.axis_x_max=t.x),f(t.y)&&(n.axis_y_max=t.y),f(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max}},s.axis.min=function(t){var e=this.internal,n=e.config;return arguments.length?("object"==typeof t?(f(t.x)&&(n.axis_x_min=t.x),f(t.y)&&(n.axis_y_min=t.y),f(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,void e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})):{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min}},s.axis.range=function(t){return arguments.length?(m(t.max)&&this.axis.max(t.max),void(m(t.min)&&this.axis.min(t.min))):{max:this.axis.max(),min:this.axis.min()}},s.legend=function(){},s.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},s.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},s.resize=function(t){var e=this.internal,n=e.config;n.size_width=t?t.width:null,n.size_height=t?t.height:null,this.flush()},s.flush=function(){var t=this.internal;t.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},s.destroy=function(){var e=this.internal;if(t.clearInterval(e.intervalForObserveInserted),void 0!==e.resizeTimeout&&t.clearTimeout(e.resizeTimeout),t.detachEvent)t.detachEvent("onresize",e.resizeFunction);else if(t.removeEventListener)t.removeEventListener("resize",e.resizeFunction);else{var n=t.onresize;n&&n.add&&n.remove&&n.remove(e.resizeFunction)}return e.selectChart.classed("c3",!1).html(""),Object.keys(e).forEach(function(t){e[t]=null}),null},s.tooltip=function(){},s.tooltip.show=function(t){var e,n,r=this.internal;t.mouse&&(n=t.mouse),t.data?r.isMultipleX()?(n=[r.x(t.data.x),r.getYScale(t.data.id)(t.data.value)],e=null):e=f(t.data.index)?t.data.index:r.getIndexByX(t.data.x):"undefined"!=typeof t.x?e=r.getIndexByX(t.x):"undefined"!=typeof t.index&&(e=t.index),r.dispatchEvent("mouseover",e,n),r.dispatchEvent("mousemove",e,n),this.config.tooltip_onshow.call(r,t.data)},s.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.config.tooltip_onhide.call(this)};var k;l.isSafari=function(){var e=t.navigator.userAgent;return e.indexOf("Safari")>=0&&e.indexOf("Chrome")<0},l.isChrome=function(){var e=t.navigator.userAgent;return e.indexOf("Chrome")>=0},Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:t,e.concat(Array.prototype.slice.call(arguments)))};return r.prototype=this.prototype,i.prototype=new r,i}),"function"==typeof define&&define.amd?define("c3",["d3"],function(){return c}):"undefined"!=typeof exports&&"undefined"!=typeof module?module.exports=c:t.c3=c}(window),/*!
	Papa Parse
	v4.1.1
	https://github.com/mholt/PapaParse
*/
function(t){"use strict";function e(e,n){if(n=n||{},n.worker&&T.WORKERS_SUPPORTED){var r=c();return r.userStep=n.step,r.userChunk=n.chunk,r.userComplete=n.complete,r.userError=n.error,n.step=v(n.step),n.chunk=v(n.chunk),n.complete=v(n.complete),n.error=v(n.error),delete n.worker,void r.postMessage({input:e,config:n,workerId:r.id})}var s=null;return"string"==typeof e?s=n.download?new i(n):new a(n):(t.File&&e instanceof File||e instanceof Object)&&(s=new o(n)),s.stream(e)}function n(t,e){function n(){"object"==typeof e&&("string"==typeof e.delimiter&&1==e.delimiter.length&&-1==T.BAD_DELIMITERS.indexOf(e.delimiter)&&(l=e.delimiter),("boolean"==typeof e.quotes||e.quotes instanceof Array)&&(s=e.quotes),"string"==typeof e.newline&&(u=e.newline))}function r(t){if("object"!=typeof t)return[];var e=[];for(var n in t)e.push(n);return e}function i(t,e){var n="";"string"==typeof t&&(t=JSON.parse(t)),"string"==typeof e&&(e=JSON.parse(e));var r=t instanceof Array&&t.length>0,i=!(e[0]instanceof Array);if(r){for(var a=0;a<t.length;a++)a>0&&(n+=l),n+=o(t[a],a);e.length>0&&(n+=u)}for(var s=0;s<e.length;s++){for(var c=r?t.length:e[s].length,h=0;c>h;h++){h>0&&(n+=l);var f=r&&i?t[h]:h;n+=o(e[s][f],h)}s<e.length-1&&(n+=u)}return n}function o(t,e){if("undefined"==typeof t||null===t)return"";t=t.toString().replace(/"/g,'""');var n="boolean"==typeof s&&s||s instanceof Array&&s[e]||a(t,T.BAD_DELIMITERS)||t.indexOf(l)>-1||" "==t.charAt(0)||" "==t.charAt(t.length-1);return n?'"'+t+'"':t}function a(t,e){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])>-1)return!0;return!1}var s=!1,l=",",u="\r\n";if(n(),"string"==typeof t&&(t=JSON.parse(t)),t instanceof Array){if(!t.length||t[0]instanceof Array)return i(null,t);if("object"==typeof t[0])return i(r(t[0]),t)}else if("object"==typeof t)return"string"==typeof t.data&&(t.data=JSON.parse(t.data)),t.data instanceof Array&&(t.fields||(t.fields=t.data[0]instanceof Array?t.fields:r(t.data[0])),t.data[0]instanceof Array||"object"==typeof t.data[0]||(t.data=[t.data])),i(t.fields||[],t.data||[]);throw"exception: Unable to serialize unrecognized input"}function r(e){function n(t){var e=g(t);e.chunkSize=parseInt(e.chunkSize),this._handle=new s(e),this._handle.streamer=this,this._config=e}this._handle=null,this._paused=!1,this._finished=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this._completeResults={data:[],errors:[],meta:{}},n.call(this,e),this.parseChunk=function(e){var n=this._partialLine+e;this._partialLine="";var r=this._handle.parse(n,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var i=r.meta.cursor;this._finished||(this._partialLine=n.substring(i-this._baseIndex),this._baseIndex=i),r&&r.data&&(this._rowCount+=r.data.length);var o=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(w)t.postMessage({results:r,workerId:T.WORKER_ID,finished:o});else if(v(this._config.chunk)){if(this._config.chunk(r,this._handle),this._paused)return;r=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(r.data),this._completeResults.errors=this._completeResults.errors.concat(r.errors),this._completeResults.meta=r.meta),!o||!v(this._config.complete)||r&&r.meta.aborted||this._config.complete(this._completeResults),o||r&&r.meta.paused||this._nextChunk(),r}},this._sendError=function(e){v(this._config.error)?this._config.error(e):w&&this._config.error&&t.postMessage({workerId:T.WORKER_ID,error:e,finished:!1})}}function i(t){function e(t){var e=t.getResponseHeader("Content-Range");return parseInt(e.substr(e.lastIndexOf("/")+1))}t=t||{},t.chunkSize||(t.chunkSize=T.RemoteChunkSize),r.call(this,t);var n;this._nextChunk=w?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(t){this._input=t,this._nextChunk()},this._readChunk=function(){if(this._finished)return void this._chunkLoaded();if(n=new XMLHttpRequest,w||(n.onload=m(this._chunkLoaded,this),n.onerror=m(this._chunkError,this)),n.open("GET",this._input,!w),this._config.chunkSize){var t=this._start+this._config.chunkSize-1;n.setRequestHeader("Range","bytes="+this._start+"-"+t),n.setRequestHeader("If-None-Match","webkit-no-cache")}try{n.send()}catch(e){this._chunkError(e.message)}w&&0==n.status?this._chunkError():this._start+=this._config.chunkSize},this._chunkLoaded=function(){if(4==n.readyState){if(n.status<200||n.status>=400)return void this._chunkError();this._finished=!this._config.chunkSize||this._start>e(n),this.parseChunk(n.responseText)}},this._chunkError=function(t){var e=n.statusText||t;this._sendError(e)}}function o(t){t=t||{},t.chunkSize||(t.chunkSize=T.LocalChunkSize),r.call(this,t);var e,n,i="undefined"!=typeof FileReader;this.stream=function(t){this._input=t,n=t.slice||t.webkitSlice||t.mozSlice,i?(e=new FileReader,e.onload=m(this._chunkLoaded,this),e.onerror=m(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var t=this._input;if(this._config.chunkSize){var r=Math.min(this._start+this._config.chunkSize,this._input.size);t=n.call(t,this._start,r)}var o=e.readAsText(t,this._config.encoding);i||this._chunkLoaded({target:{result:o}})},this._chunkLoaded=function(t){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(t.target.result)},this._chunkError=function(){this._sendError(e.error)}}function a(t){t=t||{},r.call(this,t);var e,n;this.stream=function(t){return e=t,n=t,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var t=this._config.chunkSize,e=t?n.substr(0,t):n;return n=t?n.substr(t):"",this._finished=!n,this.parseChunk(e)}}}function s(t){function e(){if(x&&f&&(u("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+T.DefaultDelimiter+"'"),f=!1),t.skipEmptyLines)for(var e=0;e<x.data.length;e++)1==x.data[e].length&&""==x.data[e][0]&&x.data.splice(e--,1);return n()&&r(),i()}function n(){return t.header&&0==b.length}function r(){if(x){for(var t=0;n()&&t<x.data.length;t++)for(var e=0;e<x.data[t].length;e++)b.push(x.data[t][e]);x.data.splice(0,1)}}function i(){if(!x||!t.header&&!t.dynamicTyping)return x;for(var e=0;e<x.data.length;e++){for(var n={},r=0;r<x.data[e].length;r++){if(t.dynamicTyping){var i=x.data[e][r];x.data[e][r]="true"==i||"TRUE"==i?!0:"false"==i||"FALSE"==i?!1:s(i)}t.header&&(r>=b.length?(n.__parsed_extra||(n.__parsed_extra=[]),n.__parsed_extra.push(x.data[e][r])):n[b[r]]=x.data[e][r])}t.header&&(x.data[e]=n,r>b.length?u("FieldMismatch","TooManyFields","Too many fields: expected "+b.length+" fields but parsed "+r,e):r<b.length&&u("FieldMismatch","TooFewFields","Too few fields: expected "+b.length+" fields but parsed "+r,e))}return t.header&&x.meta&&(x.meta.fields=b),x}function o(e){for(var n,r,i,o=[",","	","|",";",T.RECORD_SEP,T.UNIT_SEP],a=0;a<o.length;a++){var s=o[a],u=0,c=0;i=void 0;for(var h=new l({delimiter:s,preview:10}).parse(e),f=0;f<h.data.length;f++){var d=h.data[f].length;c+=d,"undefined"!=typeof i?d>1&&(u+=Math.abs(d-i),i=d):i=d}c/=h.data.length,("undefined"==typeof r||r>u)&&c>1.99&&(r=u,n=s)}return t.delimiter=n,{successful:!!n,bestDelimiter:n}}function a(t){t=t.substr(0,1048576);var e=t.split("\r");if(1==e.length)return"\n";for(var n=0,r=0;r<e.length;r++)"\n"==e[r][0]&&n++;return n>=e.length/2?"\r\n":"\r"}function s(t){var e=d.test(t);return e?parseFloat(t):t}function u(t,e,n,r){x.errors.push({type:t,code:e,message:n,row:r})}var c,h,f,d=/^\s*-?(\d*\.?\d+|\d+\.?\d*)(e[-+]?\d+)?\s*$/i,p=this,m=0,y=!1,w=!1,b=[],x={data:[],errors:[],meta:{}};if(v(t.step)){var C=t.step;t.step=function(r){if(x=r,n())e();else{if(e(),0==x.data.length)return;m+=r.data.length,t.preview&&m>t.preview?h.abort():C(x,p)}}}this.parse=function(n,r,i){if(t.newline||(t.newline=a(n)),f=!1,!t.delimiter){var s=o(n);s.successful?t.delimiter=s.bestDelimiter:(f=!0,t.delimiter=T.DefaultDelimiter),x.meta.delimiter=t.delimiter}var u=g(t);return t.preview&&t.header&&u.preview++,c=n,h=new l(u),x=h.parse(c,r,i),e(),y?{meta:{paused:!0}}:x||{meta:{paused:!1}}},this.paused=function(){return y},this.pause=function(){y=!0,h.abort(),c=c.substr(h.getCharIndex())},this.resume=function(){y=!1,p.streamer.parseChunk(c)},this.aborted=function(){return w},this.abort=function(){w=!0,h.abort(),x.meta.aborted=!0,v(t.complete)&&t.complete(x),c=""}}function l(t){t=t||{};var e=t.delimiter,n=t.newline,r=t.comments,i=t.step,o=t.preview,a=t.fastMode;if(("string"!=typeof e||T.BAD_DELIMITERS.indexOf(e)>-1)&&(e=","),r===e)throw"Comment character same as delimiter";r===!0?r="#":("string"!=typeof r||T.BAD_DELIMITERS.indexOf(r)>-1)&&(r=!1),"\n"!=n&&"\r"!=n&&"\r\n"!=n&&(n="\n");var s=0,l=!1;this.parse=function(t,u,c){function h(t){x.push(t),E=s}function f(e){return c?p():(e||(e=t.substr(s)),T.push(e),s=m,h(T),b&&g(),p())}function d(e){s=e,h(T),T=[],$=t.indexOf(n,s)}function p(t){return{data:x,errors:C,meta:{delimiter:e,linebreak:n,aborted:l,truncated:!!t,cursor:E+(u||0)}}}function g(){i(p()),x=[],C=[]}if("string"!=typeof t)throw"Input must be a string";var m=t.length,v=e.length,y=n.length,w=r.length,b="function"==typeof i;s=0;var x=[],C=[],T=[],E=0;if(!t)return p();if(a||a!==!1&&-1===t.indexOf('"')){for(var k=t.split(n),S=0;S<k.length;S++){var T=k[S];if(s+=T.length,S!==k.length-1)s+=n.length;else if(c)return p();if(!r||T.substr(0,w)!=r){if(b){if(x=[],h(T.split(e)),g(),l)return p()}else h(T.split(e));if(o&&S>=o)return x=x.slice(0,o),p(!0)}}return p()}for(var _=t.indexOf(e,s),$=t.indexOf(n,s);;)if('"'!=t[s])if(r&&0===T.length&&t.substr(s,w)===r){if(-1==$)return p();s=$+y,$=t.indexOf(n,s),_=t.indexOf(e,s)}else if(-1!==_&&($>_||-1===$))T.push(t.substring(s,_)),s=_+v,_=t.indexOf(e,s);else{if(-1===$)break;if(T.push(t.substring(s,$)),d($+y),b&&(g(),l))return p();if(o&&x.length>=o)return p(!0)}else{var A=s;for(s++;;){var A=t.indexOf('"',A+1);if(-1===A)return c||C.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:x.length,index:s}),f();if(A===m-1){var D=t.substring(s,A).replace(/""/g,'"');return f(D)}if('"'!=t[A+1]){if(t[A+1]==e){T.push(t.substring(s,A).replace(/""/g,'"')),s=A+1+v,_=t.indexOf(e,s),$=t.indexOf(n,s);break}if(t.substr(A+1,y)===n){if(T.push(t.substring(s,A).replace(/""/g,'"')),d(A+1+y),_=t.indexOf(e,s),b&&(g(),l))return p();if(o&&x.length>=o)return p(!0);break}}else A++}}return f()},this.abort=function(){l=!0},this.getCharIndex=function(){return s}}function u(){var t=document.getElementsByTagName("script");return t.length?t[t.length-1].src:""}function c(){if(!T.WORKERS_SUPPORTED)return!1;if(!b&&null===T.SCRIPT_PATH)throw new Error("Script path cannot be determined automatically when Papa Parse is loaded asynchronously. You need to set Papa.SCRIPT_PATH manually.");var e=new t.Worker(T.SCRIPT_PATH||y);return e.onmessage=h,e.id=C++,x[e.id]=e,e}function h(t){var e=t.data,n=x[e.workerId],r=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var i=function(){r=!0,f(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},o={abort:i,pause:d,resume:d};if(v(n.userStep)){for(var a=0;a<e.results.data.length&&(n.userStep({data:[e.results.data[a]],errors:e.results.errors,meta:e.results.meta},o),!r);a++);delete e.results}else v(n.userChunk)&&(n.userChunk(e.results,o,e.file),delete e.results)}e.finished&&!r&&f(e.workerId,e.results)}function f(t,e){var n=x[t];v(n.userComplete)&&n.userComplete(e),n.terminate(),delete x[t]}function d(){throw"Not implemented."}function p(e){var n=e.data;if("undefined"==typeof T.WORKER_ID&&n&&(T.WORKER_ID=n.workerId),"string"==typeof n.input)t.postMessage({workerId:T.WORKER_ID,results:T.parse(n.input,n.config),finished:!0});else if(t.File&&n.input instanceof File||n.input instanceof Object){var r=T.parse(n.input,n.config);r&&t.postMessage({workerId:T.WORKER_ID,results:r,finished:!0})}}function g(t){if("object"!=typeof t)return t;var e=t instanceof Array?[]:{};for(var n in t)e[n]=g(t[n]);return e}function m(t,e){return function(){t.apply(e,arguments)}}function v(t){return"function"==typeof t}var y,w=!t.document&&!!t.postMessage,b=!1,x={},C=0,T={};if(T.parse=e,T.unparse=n,T.RECORD_SEP=String.fromCharCode(30),T.UNIT_SEP=String.fromCharCode(31),T.BYTE_ORDER_MARK="\ufeff",T.BAD_DELIMITERS=["\r","\n",'"',T.BYTE_ORDER_MARK],T.WORKERS_SUPPORTED=!!t.Worker,T.SCRIPT_PATH=null,T.LocalChunkSize=10485760,T.RemoteChunkSize=5242880,T.DefaultDelimiter=",",T.Parser=l,T.ParserHandle=s,T.NetworkStreamer=i,T.FileStreamer=o,T.StringStreamer=a,"undefined"!=typeof module&&module.exports?module.exports=T:v(t.define)&&t.define.amd?t.define(function(){return T}):t.Papa=T,t.jQuery){var E=t.jQuery;E.fn.parse=function(e){function n(){if(0==a.length)return void(v(e.complete)&&e.complete());var t=a[0];if(v(e.before)){var n=e.before(t.file,t.inputElem);if("object"==typeof n){if("abort"==n.action)return void r("AbortError",t.file,t.inputElem,n.reason);if("skip"==n.action)return void i();"object"==typeof n.config&&(t.instanceConfig=E.extend(t.instanceConfig,n.config))}else if("skip"==n)return void i()}var o=t.instanceConfig.complete;t.instanceConfig.complete=function(e){v(o)&&o(e,t.file,t.inputElem),i()},T.parse(t.file,t.instanceConfig)}function r(t,n,r,i){v(e.error)&&e.error({name:t},n,r,i)}function i(){a.splice(0,1),n()}var o=e.config||{},a=[];return this.each(function(e){var n="INPUT"==E(this).prop("tagName").toUpperCase()&&"file"==E(this).attr("type").toLowerCase()&&t.FileReader;if(!n||!this.files||0==this.files.length)return!0;for(var r=0;r<this.files.length;r++)a.push({file:this.files[r],inputElem:this,instanceConfig:E.extend({},o)})}),n(),this}}w?t.onmessage=p:T.WORKERS_SUPPORTED&&(y=u(),document.body?document.addEventListener("DOMContentLoaded",function(){b=!0},!0):b=!0),i.prototype=Object.create(r.prototype),i.prototype.constructor=i,o.prototype=Object.create(r.prototype),o.prototype.constructor=o,a.prototype=Object.create(a.prototype),a.prototype.constructor=a}("undefined"!=typeof window?window:this),/*
 * A colorselector for Twitter Bootstrap which lets you select a color from a predefined set of colors only.
 * https://github.com/flaute/bootstrap-colorselector
 *
 * Copyright (C) 2014 Flaute
 *
 * Licensed under the MIT license
 */
function(t){"use strict";var e=function(e,n){this.options=n,this.$select=t(e),this._init()};e.prototype={constructor:e,_init:function(){var e=this.options.callback,n=this.$select.val(),r=this.$select.find("option:selected").data("color"),i=t("<ul>").addClass("dropdown-menu").addClass("dropdown-caret"),o=t("<div>").addClass("dropdown").addClass("dropdown-colorselector"),a=t("<span>").addClass("btn-colorselector").css("background-color",r),s=t("<a>").attr("data-toggle","dropdown").addClass("dropdown-toggle").attr("href","#").append(a);t("option",this.$select).each(function(){var e=t(this),r=e.attr("value"),o=e.data("color"),a=e.text(),s=t("<a>").addClass("color-btn");(e.prop("selected")===!0||n===o)&&s.addClass("selected"),s.css("background-color",o),s.attr("href","#").attr("data-color",o).attr("data-value",r).attr("title",a),i.append(t("<li>").append(s))}),o.append(s),o.append(i),this.$select.hide(),this.$selector=t(o).insertAfter(this.$select),this.$select.on("change",function(){var n=t(this).val(),r=t(this).find("option[value='"+n+"']").data("color"),i=t(this).find("option[value='"+n+"']").text();t(this).next().find("ul").find("li").find(".selected").removeClass("selected"),t(this).next().find("ul").find("li").find("a[data-color='"+r+"']").addClass("selected"),t(this).next().find(".btn-colorselector").css("background-color",r),e(n,r,i)}),i.on("click.colorselector",t.proxy(this._clickColor,this))},_clickColor:function(e){var n=t(e.target);return n.is(".color-btn")?(this.$select.val(n.data("value")).change(),e.preventDefault(),!0):!1},setColor:function(e){var n=t(this.$selector).find("li").find("a[data-color='"+e+"']").data("value");this.setValue(n)},setValue:function(t){this.$select.val(t).change()}},t.fn.colorselector=function(n){var r=Array.apply(null,arguments);return r.shift(),this.each(function(){var i=t(this),o=i.data("colorselector"),a=t.extend({},t.fn.colorselector.defaults,i.data(),"object"==typeof n&&n);o||i.data("colorselector",o=new e(this,a)),"string"==typeof n&&o[n].apply(o,r)})},t.fn.colorselector.defaults={callback:function(t,e,n){},colorsPerRow:8},t.fn.colorselector.Constructor=e}(jQuery,window,document);/*!

StackBlur - a fast almost Gaussian Blur For Canvas

Version: 	0.5
Author:		Mario Klingemann
Contact: 	mario@quasimondo.com
Website:	http://www.quasimondo.com/StackBlurForCanvas
Twitter:	@quasimondo

In case you find this class useful - especially in commercial projects -
I am not totally unhappy for a small donation to my PayPal account
mario@quasimondo.de

Or support me on flattr: 
https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript

Copyright (c) 2010 Mario Klingemann

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
*/
var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];/*!
 * canvg.js - Javascript SVG parser and renderer on Canvas
 * MIT Licensed 
 * Gabe Lerner (gabelerner@gmail.com)
 * http://code.google.com/p/canvg/
 *
 * Requires: rgbcolor.js - http://www.phpied.com/rgb-color-parser-in-javascript/
 */
!function(){function t(){var t={};return t.FRAMERATE=30,t.MAX_VIRTUAL_PIXELS=3e4,t.init=function(e){var n=0;t.UniqueId=function(){return n++,"canvg"+n},t.Definitions={},t.Styles={},t.Animations=[],t.Images=[],t.ctx=e,t.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(t){return null!=t&&"number"==typeof t?t:"x"==t?this.width():"y"==t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},t.init(),t.ImagesLoaded=function(){for(var e=0;e<t.Images.length;e++)if(!t.Images[e].loaded)return!1;return!0},t.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},t.compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},t.ajax=function(t){var e;return e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e?(e.open("GET",t,!1),e.send(null),e.responseText):null},t.parseXml=function(t){if(window.DOMParser){var e=new DOMParser;return e.parseFromString(t,"text/xml")}t=t.replace(/<!DOCTYPE svg[^>]*>/,"");var n=new ActiveXObject("Microsoft.XMLDOM");return n.async="false",n.loadXML(t),n},t.Property=function(t,e){this.name=t,this.value=e},t.Property.prototype.getValue=function(){return this.value},t.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},t.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);return(this.value+"").match(/%$/)&&(t/=100),t},t.Property.prototype.valueOrDefault=function(t){return this.hasValue()?this.value:t},t.Property.prototype.numValueOrDefault=function(t){return this.hasValue()?this.numValue():t},t.Property.prototype.addOpacity=function(e){var n=this.value;if(null!=e&&""!=e&&"string"==typeof this.value){var r=new RGBColor(this.value);r.ok&&(n="rgba("+r.r+", "+r.g+", "+r.b+", "+e+")")}return new t.Property(this.name,n)},t.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=this.value),t.Definitions[e]},t.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},t.Property.prototype.getFillStyleDefinition=function(e,n){var r=this.getDefinition();if(null!=r&&r.createGradient)return r.createGradient(t.ctx,e,n);if(null!=r&&r.createPattern){if(r.getHrefAttribute().hasValue()){var i=r.attribute("patternTransform");r=r.getHrefAttribute().getDefinition(),i.hasValue()&&(r.attribute("patternTransform",!0).value=i.value)}return r.createPattern(t.ctx,e)}return null},t.Property.prototype.getDPI=function(t){return 96},t.Property.prototype.getEM=function(e){var n=12,r=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);return r.hasValue()&&(n=r.toPixels(e)),n},t.Property.prototype.getUnits=function(){var t=this.value+"";return t.replace(/[0-9\.\-]/g,"")},t.Property.prototype.toPixels=function(e,n){if(!this.hasValue())return 0;var r=this.value+"";if(r.match(/em$/))return this.numValue()*this.getEM(e);if(r.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(r.match(/px$/))return this.numValue();if(r.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(r.match(/pc$/))return 15*this.numValue();if(r.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(r.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(r.match(/in$/))return this.numValue()*this.getDPI(e);if(r.match(/%$/))return this.numValue()*t.ViewPort.ComputeSize(e);var i=this.numValue();return n&&1>i?i*t.ViewPort.ComputeSize(e):i},t.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/s$/)?1e3*this.numValue():(t.match(/ms$/),this.numValue())},t.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/deg$/)?this.numValue()*(Math.PI/180):t.match(/grad$/)?this.numValue()*(Math.PI/200):t.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},t.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,n,r,i,o,a){var s=null!=a?this.Parse(a):this.CreateFont("","","","","",t.ctx.font);return{fontFamily:o||s.fontFamily,fontSize:i||s.fontSize,fontStyle:e||s.fontStyle,fontWeight:r||s.fontWeight,fontVariant:n||s.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var e=this;this.Parse=function(n){for(var r={},i=t.trim(t.compressSpaces(n||"")).split(" "),o={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},a="",s=0;s<i.length;s++)o.fontStyle||-1==e.Styles.indexOf(i[s])?o.fontVariant||-1==e.Variants.indexOf(i[s])?o.fontWeight||-1==e.Weights.indexOf(i[s])?o.fontSize?"inherit"!=i[s]&&(a+=i[s]):("inherit"!=i[s]&&(r.fontSize=i[s].split("/")[0]),o.fontStyle=o.fontVariant=o.fontWeight=o.fontSize=!0):("inherit"!=i[s]&&(r.fontWeight=i[s]),o.fontStyle=o.fontVariant=o.fontWeight=!0):("inherit"!=i[s]&&(r.fontVariant=i[s]),o.fontStyle=o.fontVariant=!0):("inherit"!=i[s]&&(r.fontStyle=i[s]),o.fontStyle=!0);return""!=a&&(r.fontFamily=a),r}},t.ToNumberArray=function(e){for(var n=t.trim(t.compressSpaces((e||"").replace(/,/g," "))).split(" "),r=0;r<n.length;r++)n[r]=parseFloat(n[r]);return n},t.Point=function(t,e){this.x=t,this.y=e},t.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},t.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],n=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=n},t.CreatePoint=function(e){var n=t.ToNumberArray(e);return new t.Point(n[0],n[1])},t.CreatePath=function(e){for(var n=t.ToNumberArray(e),r=[],i=0;i<n.length;i+=2)r.push(new t.Point(n[i],n[i+1]));return r},t.BoundingBox=function(t,e,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,n,r,i,o){var a=t+2/3*(n-t),s=e+2/3*(r-e),l=a+1/3*(i-t),u=s+1/3*(o-e);this.addBezierCurve(t,e,a,l,s,u,i,o)},this.addBezierCurve=function(t,e,n,r,o,a,s,l){var u=[t,e],c=[n,r],h=[o,a],f=[s,l];for(this.addPoint(u[0],u[1]),this.addPoint(f[0],f[1]),i=0;i<=1;i++){var d=function(t){return Math.pow(1-t,3)*u[i]+3*Math.pow(1-t,2)*t*c[i]+3*(1-t)*Math.pow(t,2)*h[i]+Math.pow(t,3)*f[i]},p=6*u[i]-12*c[i]+6*h[i],g=-3*u[i]+9*c[i]-9*h[i]+3*f[i],m=3*c[i]-3*u[i];if(0!=g){var v=Math.pow(p,2)-4*m*g;if(!(0>v)){var y=(-p+Math.sqrt(v))/(2*g);y>0&&1>y&&(0==i&&this.addX(d(y)),1==i&&this.addY(d(y)));var w=(-p-Math.sqrt(v))/(2*g);w>0&&1>w&&(0==i&&this.addX(d(w)),1==i&&this.addY(d(w)))}}else{if(0==p)continue;var b=-m/p;b>0&&1>b&&(0==i&&this.addX(d(b)),1==i&&this.addY(d(b)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(n,r)},t.Transform=function(e){var n=this;this.Type={},this.Type.translate=function(e){this.p=t.CreatePoint(e),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var n=t.ToNumberArray(e);this.angle=new t.Property("angle",n[0]),this.cx=n[1]||0,this.cy=n[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=t.CreatePoint(e),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=t.ToNumberArray(e),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=n.Type.matrix,this.base(e),this.angle=new t.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=n.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=n.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;e>=0;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)};for(var r=t.trim(t.compressSpaces(e)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<r.length;i++){var o=t.trim(r[i].split("(")[0]),a=r[i].split("(")[1].replace(")",""),s=new this.Type[o](a);s.type=o,this.transforms.push(s)}},t.AspectRatio=function(e,n,r,i,o,a,s,l,u,c){n=t.compressSpaces(n),n=n.replace(/^defer\s/,"");var h=n.split(" ")[0]||"xMidYMid",f=n.split(" ")[1]||"meet",d=r/i,p=o/a,g=Math.min(d,p),m=Math.max(d,p);"meet"==f&&(i*=g,a*=g),"slice"==f&&(i*=m,a*=m),u=new t.Property("refX",u),c=new t.Property("refY",c),u.hasValue()&&c.hasValue()?e.translate(-g*u.toPixels("x"),-g*c.toPixels("y")):(h.match(/^xMid/)&&("meet"==f&&g==p||"slice"==f&&m==p)&&e.translate(r/2-i/2,0),h.match(/YMid$/)&&("meet"==f&&g==d||"slice"==f&&m==d)&&e.translate(0,o/2-a/2),h.match(/^xMax/)&&("meet"==f&&g==p||"slice"==f&&m==p)&&e.translate(r-i,0),h.match(/YMax$/)&&("meet"==f&&g==d||"slice"==f&&m==d)&&e.translate(0,o-a)),"none"==h?e.scale(d,p):"meet"==f?e.scale(g,g):"slice"==f&&e.scale(m,m),e.translate(null==s?0:-s,null==l?0:-l)},t.Element={},t.EmptyProperty=new t.Property("EMPTY",""),t.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(e,n){var r=this.attributes[e];return null!=r?r:(1==n&&(r=new t.Property(e,""),this.attributes[e]=r),r||t.EmptyProperty)},this.getHrefAttribute=function(){for(var e in this.attributes)if(e.match(/:href$/))return this.attributes[e];return t.EmptyProperty},this.style=function(e,n){var r=this.styles[e];if(null!=r)return r;var i=this.attribute(e);if(null!=i&&i.hasValue())return this.styles[e]=i,i;var o=this.parent;if(null!=o){var a=o.style(e);if(null!=a&&a.hasValue())return a}return 1==n&&(r=new t.Property(e,""),this.styles[e]=r),r||t.EmptyProperty},this.render=function(t){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(t.save(),this.attribute("mask").hasValue()){var e=this.attribute("mask").getDefinition();null!=e&&e.apply(t,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(t,this)}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}},this.setContext=function(t){},this.clearContext=function(t){},this.renderChildren=function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},this.addChild=function(e,n){var r=e;n&&(r=t.CreateElement(e)),r.parent=this,this.children.push(r)},null!=e&&1==e.nodeType){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1==r.nodeType&&this.addChild(r,!0),this.captureTextNodes&&3==r.nodeType){var i=r.nodeValue||r.text||"";""!=t.trim(t.compressSpaces(i))&&this.addChild(new t.Element.tspan(r),!1)}}for(var n=0;n<e.attributes.length;n++){var o=e.attributes[n];this.attributes[o.nodeName]=new t.Property(o.nodeName,o.nodeValue)}var a=t.Styles[e.nodeName];if(null!=a)for(var s in a)this.styles[s]=a[s];if(this.attribute("class").hasValue())for(var l=t.compressSpaces(this.attribute("class").value).split(" "),u=0;u<l.length;u++){if(a=t.Styles["."+l[u]],null!=a)for(var s in a)this.styles[s]=a[s];if(a=t.Styles[e.nodeName+"."+l[u]],null!=a)for(var s in a)this.styles[s]=a[s]}if(this.attribute("id").hasValue()){var a=t.Styles["#"+this.attribute("id").value];if(null!=a)for(var s in a)this.styles[s]=a[s]}if(this.attribute("style").hasValue())for(var a=this.attribute("style").value.split(";"),n=0;n<a.length;n++)if(""!=t.trim(a[n])){var c=a[n].split(":"),s=t.trim(c[0]),h=t.trim(c[1]);this.styles[s]=new t.Property(s,h)}this.attribute("id").hasValue()&&null==t.Definitions[this.attribute("id").value]&&(t.Definitions[this.attribute("id").value]=this)}},t.Element.RenderedElementBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.setContext=function(e){if(this.style("fill").isUrlDefinition()){var n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=n&&(e.fillStyle=n)}else if(this.style("fill").hasValue()){var r=this.style("fill");"currentColor"==r.value&&(r.value=this.style("color").value),e.fillStyle="none"==r.value?"rgba(0,0,0,0)":r.value}if(this.style("fill-opacity").hasValue()){var r=new t.Property("fill",e.fillStyle);r=r.addOpacity(this.style("fill-opacity").value),e.fillStyle=r.value}if(this.style("stroke").isUrlDefinition()){var n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=n&&(e.strokeStyle=n)}else if(this.style("stroke").hasValue()){var i=this.style("stroke");"currentColor"==i.value&&(i.value=this.style("color").value),e.strokeStyle="none"==i.value?"rgba(0,0,0,0)":i.value}if(this.style("stroke-opacity").hasValue()){var i=new t.Property("stroke",e.strokeStyle);i=i.addOpacity(this.style("stroke-opacity").value),e.strokeStyle=i.value}if(this.style("stroke-width").hasValue()){var o=this.style("stroke-width").toPixels();e.lineWidth=0==o?.001:o}if(this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()){var a=t.ToNumberArray(this.style("stroke-dasharray").value);"undefined"!=typeof e.setLineDash?e.setLineDash(a):"undefined"!=typeof e.webkitLineDash?e.webkitLineDash=a:"undefined"!=typeof e.mozDash&&(e.mozDash=a);var s=this.style("stroke-dashoffset").numValueOrDefault(1);"undefined"!=typeof e.lineDashOffset?e.lineDashOffset=s:"undefined"!=typeof e.webkitLineDashOffset?e.webkitLineDashOffset=s:"undefined"!=typeof e.mozDashOffset&&(e.mozDashOffset=s)}if("undefined"!=typeof e.font&&(e.font=t.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var l=new t.Transform(this.attribute("transform").value);l.apply(e)}if(this.style("clip-path").hasValue()){var u=this.style("clip-path").getDefinition();null!=u&&u.apply(e)}this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},t.Element.RenderedElementBase.prototype=new t.Element.ElementBase,t.Element.PathElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new t.BoundingBox},this.renderChildren=function(e){this.path(e),t.Mouse.checkPath(this,e),""!=e.fillStyle&&(this.attribute("fill-rule").hasValue()?e.fill(this.attribute("fill-rule").value):e.fill()),""!=e.strokeStyle&&e.stroke();var n=this.getMarkers();if(null!=n){if(this.style("marker-start").isUrlDefinition()){var r=this.style("marker-start").getDefinition();r.render(e,n[0][0],n[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var r=this.style("marker-mid").getDefinition(),i=1;i<n.length-1;i++)r.render(e,n[i][0],n[i][1]);if(this.style("marker-end").isUrlDefinition()){var r=this.style("marker-end").getDefinition();r.render(e,n[n.length-1][0],n[n.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},t.Element.PathElementBase.prototype=new t.Element.RenderedElementBase,t.Element.svg=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),t.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var n=t.ViewPort.width(),r=t.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){n=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");var i=0,o=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(i=-this.attribute("refX").toPixels("x"),o=-this.attribute("refY").toPixels("y")),e.beginPath(),e.moveTo(i,o),e.lineTo(n,o),e.lineTo(n,r),e.lineTo(i,r),e.closePath(),e.clip()}if(t.ViewPort.SetCurrent(n,r),this.attribute("viewBox").hasValue()){var a=t.ToNumberArray(this.attribute("viewBox").value),s=a[0],l=a[1];n=a[2],r=a[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,t.ViewPort.width(),n,t.ViewPort.height(),r,s,l,this.attribute("refX").value,this.attribute("refY").value),t.ViewPort.RemoveCurrent(),t.ViewPort.SetCurrent(a[2],a[3])}}},t.Element.svg.prototype=new t.Element.RenderedElementBase,t.Element.rect=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y"),a=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=a),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(a=s),a=Math.min(a,i/2),s=Math.min(s,o/2),null!=e&&(e.beginPath(),e.moveTo(n+a,r),e.lineTo(n+i-a,r),e.quadraticCurveTo(n+i,r,n+i,r+s),e.lineTo(n+i,r+o-s),e.quadraticCurveTo(n+i,r+o,n+i-a,r+o),e.lineTo(n+a,r+o),e.quadraticCurveTo(n,r+o,n,r+o-s),e.lineTo(n,r+s),e.quadraticCurveTo(n,r,n+a,r),e.closePath()),new t.BoundingBox(n,r,n+i,r+o)}},t.Element.rect.prototype=new t.Element.PathElementBase,t.Element.circle=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=this.attribute("cx").toPixels("x"),r=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(n,r,i,0,2*Math.PI,!0),e.closePath()),new t.BoundingBox(n-i,r-i,n+i,r+i)}},t.Element.circle.prototype=new t.Element.PathElementBase,t.Element.ellipse=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=4*((Math.sqrt(2)-1)/3),r=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),o=this.attribute("cx").toPixels("x"),a=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(o,a-i),e.bezierCurveTo(o+n*r,a-i,o+r,a-n*i,o+r,a),e.bezierCurveTo(o+r,a+n*i,o+n*r,a+i,o,a+i),e.bezierCurveTo(o-n*r,a+i,o-r,a+n*i,o-r,a),e.bezierCurveTo(o-r,a-n*i,o-n*r,a-i,o,a-i),e.closePath()),new t.BoundingBox(o-r,a-i,o+r,a+i)}},t.Element.ellipse.prototype=new t.Element.PathElementBase,t.Element.line=function(e){this.base=t.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new t.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new t.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var n=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(n[0].x,n[0].y),e.lineTo(n[1].x,n[1].y)),new t.BoundingBox(n[0].x,n[0].y,n[1].x,n[1].y)},this.getMarkers=function(){var t=this.getPoints(),e=t[0].angleTo(t[1]);return[[t[0],e],[t[1],e]]}},t.Element.line.prototype=new t.Element.PathElementBase,t.Element.polyline=function(e){this.base=t.Element.PathElementBase,this.base(e),this.points=t.CreatePath(this.attribute("points").value),this.path=function(e){var n=new t.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var r=1;r<this.points.length;r++)n.addPoint(this.points[r].x,this.points[r].y),null!=e&&e.lineTo(this.points[r].x,this.points[r].y);return n},this.getMarkers=function(){for(var t=[],e=0;e<this.points.length-1;e++)t.push([this.points[e],this.points[e].angleTo(this.points[e+1])]);return t.push([this.points[this.points.length-1],t[t.length-1][1]]),t}},t.Element.polyline.prototype=new t.Element.PathElementBase,t.Element.polygon=function(e){this.base=t.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(t){var e=this.basePath(t);return null!=t&&(t.lineTo(this.points[0].x,this.points[0].y),t.closePath()),e}},t.Element.polygon.prototype=new t.Element.polyline,t.Element.path=function(e){this.base=t.Element.PathElementBase,this.base(e);var n=this.attribute("d").value;n=n.replace(/,/gm," "),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),n=n.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([0-9])([+\-])/gm,"$1 $2"),n=n.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),n=n.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=t.compressSpaces(n),n=t.trim(n),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new t.Point(0,0),this.control=new t.Point(0,0),this.current=new t.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new t.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase())return this.current;var e=new t.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return e},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}}(n),this.path=function(e){var n=this.PathParser;n.reset();var r=new t.BoundingBox;for(null!=e&&e.beginPath();!n.isEnd();)switch(n.nextCommand(),n.command){case"M":case"m":var i=n.getAsCurrentPoint();for(n.addMarker(i),r.addPoint(i.x,i.y),null!=e&&e.moveTo(i.x,i.y),n.start=n.current;!n.isCommandOrEnd();){var i=n.getAsCurrentPoint();n.addMarker(i,n.start),r.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"L":case"l":for(;!n.isCommandOrEnd();){var o=n.current,i=n.getAsCurrentPoint();n.addMarker(i,o),r.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"H":case"h":for(;!n.isCommandOrEnd();){var a=new t.Point((n.isRelativeCommand()?n.current.x:0)+n.getScalar(),n.current.y);n.addMarker(a,n.current),n.current=a,r.addPoint(n.current.x,n.current.y),null!=e&&e.lineTo(n.current.x,n.current.y)}break;case"V":case"v":for(;!n.isCommandOrEnd();){var a=new t.Point(n.current.x,(n.isRelativeCommand()?n.current.y:0)+n.getScalar());n.addMarker(a,n.current),n.current=a,r.addPoint(n.current.x,n.current.y),null!=e&&e.lineTo(n.current.x,n.current.y)}break;case"C":case"c":for(;!n.isCommandOrEnd();){var s=n.current,l=n.getPoint(),u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,l),r.addBezierCurve(s.x,s.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"S":case"s":for(;!n.isCommandOrEnd();){var s=n.current,l=n.getReflectedControlPoint(),u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,l),r.addBezierCurve(s.x,s.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"Q":case"q":for(;!n.isCommandOrEnd();){var s=n.current,u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,u),r.addQuadraticCurve(s.x,s.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y)}break;case"T":case"t":for(;!n.isCommandOrEnd();){var s=n.current,u=n.getReflectedControlPoint();n.control=u;var c=n.getAsCurrentPoint();n.addMarker(c,u,u),r.addQuadraticCurve(s.x,s.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y)}break;case"A":case"a":for(;!n.isCommandOrEnd();){var s=n.current,h=n.getScalar(),f=n.getScalar(),d=n.getScalar()*(Math.PI/180),p=n.getScalar(),g=n.getScalar(),c=n.getAsCurrentPoint(),m=new t.Point(Math.cos(d)*(s.x-c.x)/2+Math.sin(d)*(s.y-c.y)/2,-Math.sin(d)*(s.x-c.x)/2+Math.cos(d)*(s.y-c.y)/2),v=Math.pow(m.x,2)/Math.pow(h,2)+Math.pow(m.y,2)/Math.pow(f,2);v>1&&(h*=Math.sqrt(v),f*=Math.sqrt(v));var y=(p==g?-1:1)*Math.sqrt((Math.pow(h,2)*Math.pow(f,2)-Math.pow(h,2)*Math.pow(m.y,2)-Math.pow(f,2)*Math.pow(m.x,2))/(Math.pow(h,2)*Math.pow(m.y,2)+Math.pow(f,2)*Math.pow(m.x,2)));isNaN(y)&&(y=0);var w=new t.Point(y*h*m.y/f,y*-f*m.x/h),b=new t.Point((s.x+c.x)/2+Math.cos(d)*w.x-Math.sin(d)*w.y,(s.y+c.y)/2+Math.sin(d)*w.x+Math.cos(d)*w.y),x=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},C=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(x(t)*x(e))},T=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(C(t,e))},E=T([1,0],[(m.x-w.x)/h,(m.y-w.y)/f]),k=[(m.x-w.x)/h,(m.y-w.y)/f],S=[(-m.x-w.x)/h,(-m.y-w.y)/f],_=T(k,S);C(k,S)<=-1&&(_=Math.PI),C(k,S)>=1&&(_=0);var $=1-g?1:-1,A=E+$*(_/2),D=new t.Point(b.x+h*Math.cos(A),b.y+f*Math.sin(A));if(n.addMarkerAngle(D,A-$*Math.PI/2),n.addMarkerAngle(c,A-$*Math.PI),r.addPoint(c.x,c.y),null!=e){var C=h>f?h:f,M=h>f?1:h/f,R=h>f?f/h:1;e.translate(b.x,b.y),e.rotate(d),e.scale(M,R),e.arc(0,0,C,E,E+_,1-g),e.scale(1/M,1/R),e.rotate(-d),e.translate(-b.x,-b.y)}}break;case"Z":case"z":null!=e&&e.closePath(),n.current=n.start}return r},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),n=[],r=0;r<t.length;r++)n.push([t[r],e[r]]);return n}},t.Element.path.prototype=new t.Element.PathElementBase,t.Element.pattern=function(e){this.base=t.Element.ElementBase,this.base(e),this.createPattern=function(e,n){var r=this.attribute("width").toPixels("x",!0),i=this.attribute("height").toPixels("y",!0),o=new t.Element.svg;o.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),o.attributes.width=new t.Property("width",r+"px"),o.attributes.height=new t.Property("height",i+"px"),o.attributes.transform=new t.Property("transform",this.attribute("patternTransform").value),o.children=this.children;var a=document.createElement("canvas");a.width=r,a.height=i;var s=a.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&s.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var l=-1;1>=l;l++)for(var u=-1;1>=u;u++)s.save(),s.translate(l*a.width,u*a.height),o.render(s),s.restore();var c=e.createPattern(a,"repeat");return c}},t.Element.pattern.prototype=new t.Element.ElementBase,t.Element.marker=function(e){this.base=t.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,n,r){e.translate(n.x,n.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(r),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var i=new t.Element.svg;i.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new t.Property("refX",this.attribute("refX").value),i.attributes.refY=new t.Property("refY",this.attribute("refY").value),i.attributes.width=new t.Property("width",this.attribute("markerWidth").value),i.attributes.height=new t.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new t.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new t.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-r),e.translate(-n.x,-n.y)}},t.Element.marker.prototype=new t.Element.ElementBase,t.Element.defs=function(e){this.base=t.Element.ElementBase,this.base(e),this.render=function(t){}},t.Element.defs.prototype=new t.Element.ElementBase,t.Element.GradientBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var n=0;n<this.children.length;n++){var r=this.children[n];"stop"==r.type&&this.stops.push(r)}this.getGradient=function(){},this.createGradient=function(e,n,r){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition());var o=function(e){if(r.hasValue()){var n=new t.Property("color",e);return n.addOpacity(r.value).value}return e},a=this.getGradient(e,n);if(null==a)return o(i.stops[i.stops.length-1].color);for(var s=0;s<i.stops.length;s++)a.addColorStop(i.stops[s].offset,o(i.stops[s].color));if(this.attribute("gradientTransform").hasValue()){var l=t.ViewPort.viewPorts[0],u=new t.Element.rect;u.attributes.x=new t.Property("x",-t.MAX_VIRTUAL_PIXELS/3),u.attributes.y=new t.Property("y",-t.MAX_VIRTUAL_PIXELS/3),u.attributes.width=new t.Property("width",t.MAX_VIRTUAL_PIXELS),u.attributes.height=new t.Property("height",t.MAX_VIRTUAL_PIXELS);var c=new t.Element.g;c.attributes.transform=new t.Property("transform",this.attribute("gradientTransform").value),
c.children=[u];var h=new t.Element.svg;h.attributes.x=new t.Property("x",0),h.attributes.y=new t.Property("y",0),h.attributes.width=new t.Property("width",l.width),h.attributes.height=new t.Property("height",l.height),h.children=[c];var f=document.createElement("canvas");f.width=l.width,f.height=l.height;var d=f.getContext("2d");return d.fillStyle=a,h.render(d),d.createPattern(f,"no-repeat")}return a}},t.Element.GradientBase.prototype=new t.Element.ElementBase,t.Element.linearGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.getGradient=function(t,e){var n=e.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var r="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),i="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),o="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),a="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return r==o&&i==a?null:t.createLinearGradient(r,i,o,a)}},t.Element.linearGradient.prototype=new t.Element.GradientBase,t.Element.radialGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.getGradient=function(t,e){var n=e.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var r="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),i="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),o=r,a=i;this.attribute("fx").hasValue()&&(o="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(a="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var s="objectBoundingBox"==this.gradientUnits?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return t.createRadialGradient(o,a,0,r,i,s)}},t.Element.radialGradient.prototype=new t.Element.GradientBase,t.Element.stop=function(e){this.base=t.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var n=this.style("stop-color");this.style("stop-opacity").hasValue()&&(n=n.addOpacity(this.style("stop-opacity").value)),this.color=n.value},t.Element.stop.prototype=new t.Element.ElementBase,t.Element.AnimateBase=function(e){this.base=t.Element.ElementBase,this.base(e),t.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var t=this.attribute("attributeType").value,e=this.attribute("attributeName").value;return"CSS"==t?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(t){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value)return"remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed?!1:(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+t;var e=!1;if(this.begin<this.duration){var n=this.calcValue();if(this.attribute("type").hasValue()){var r=this.attribute("type").value;n=r+"("+n+")"}this.getProperty().value=n,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var n=e.progress*(this.values.value.length-1),r=Math.floor(n),i=Math.ceil(n);e.from=new t.Property("from",parseFloat(this.values.value[r])),e.to=new t.Property("to",parseFloat(this.values.value[i])),e.progress=(n-r)/(i-r)}else e.from=this.from,e.to=this.to;return e}},t.Element.AnimateBase.prototype=new t.Element.ElementBase,t.Element.animate=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var t=this.progress(),e=t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress;return e+this.initialUnits}},t.Element.animate.prototype=new t.Element.AnimateBase,t.Element.animateColor=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var t=this.progress(),e=new RGBColor(t.from.value),n=new RGBColor(t.to.value);if(e.ok&&n.ok){var r=e.r+(n.r-e.r)*t.progress,i=e.g+(n.g-e.g)*t.progress,o=e.b+(n.b-e.b)*t.progress;return"rgb("+parseInt(r,10)+","+parseInt(i,10)+","+parseInt(o,10)+")"}return this.attribute("from").value}},t.Element.animateColor.prototype=new t.Element.AnimateBase,t.Element.animateTransform=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),n=t.ToNumberArray(e.from.value),r=t.ToNumberArray(e.to.value),i="",o=0;o<n.length;o++)i+=n[o]+(r[o]-n[o])*e.progress+" ";return i}},t.Element.animateTransform.prototype=new t.Element.animate,t.Element.font=function(e){this.base=t.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var n=0;n<this.children.length;n++){var r=this.children[n];"font-face"==r.type?(this.fontFace=r,r.style("font-family").hasValue()&&(t.Definitions[r.style("font-family").value]=this)):"missing-glyph"==r.type?this.missingGlyph=r:"glyph"==r.type&&(""!=r.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[r.unicode]&&(this.glyphs[r.unicode]=[]),this.glyphs[r.unicode][r.arabicForm]=r):this.glyphs[r.unicode]=r)}},t.Element.font.prototype=new t.Element.ElementBase,t.Element.fontface=function(e){this.base=t.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},t.Element.fontface.prototype=new t.Element.ElementBase,t.Element.missingglyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=0},t.Element.missingglyph.prototype=new t.Element.path,t.Element.glyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},t.Element.glyph.prototype=new t.Element.path,t.Element.text=function(e){this.captureTextNodes=!0,this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.style("dominant-baseline").hasValue()&&(t.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(t.textBaseline=this.style("alignment-baseline").value)},this.getBoundingBox=function(){return new t.BoundingBox(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"),0,0)},this.renderChildren=function(t){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.x+=this.getAnchorDelta(t,this,0);for(var e=0;e<this.children.length;e++)this.renderChild(t,this,e)},this.getAnchorDelta=function(t,e,n){var r=this.style("text-anchor").valueOrDefault("start");if("start"!=r){for(var i=0,o=n;o<e.children.length;o++){var a=e.children[o];if(o>n&&a.attribute("x").hasValue())break;i+=a.measureTextRecursive(t)}return-1*("end"==r?i:i/2)}return 0},this.renderChild=function(t,e,n){var r=e.children[n];r.attribute("x").hasValue()?r.x=r.attribute("x").toPixels("x")+this.getAnchorDelta(t,e,n):(this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),r.attribute("dx").hasValue()&&(this.x+=r.attribute("dx").toPixels("x")),r.x=this.x),this.x=r.x+r.measureText(t),r.attribute("y").hasValue()?r.y=r.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),r.attribute("dy").hasValue()&&(this.y+=r.attribute("dy").toPixels("y")),r.y=this.y),this.y=r.y,r.render(t);for(var n=0;n<r.children.length;n++)this.renderChild(t,r,n)}},t.Element.text.prototype=new t.Element.RenderedElementBase,t.Element.TextElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getGlyph=function(t,e,n){var r=e[n],i=null;if(t.isArabic){var o="isolated";(0==n||" "==e[n-1])&&n<e.length-2&&" "!=e[n+1]&&(o="terminal"),n>0&&" "!=e[n-1]&&n<e.length-2&&" "!=e[n+1]&&(o="medial"),n>0&&" "!=e[n-1]&&(n==e.length-1||" "==e[n+1])&&(o="initial"),"undefined"!=typeof t.glyphs[r]&&(i=t.glyphs[r][o],null==i&&"glyph"==t.glyphs[r].type&&(i=t.glyphs[r]))}else i=t.glyphs[r];return null==i&&(i=t.missingGlyph),i},this.renderChildren=function(e){var n=this.parent.style("font-family").getDefinition();if(null==n)""!=e.fillStyle&&e.fillText(t.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(t.compressSpaces(this.getText()),this.x,this.y);else{var r=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(t.Font.Parse(t.ctx.font).fontStyle),o=this.getText();n.isRTL&&(o=o.split("").reverse().join(""));for(var a=t.ToNumberArray(this.parent.attribute("dx").value),s=0;s<o.length;s++){var l=this.getGlyph(n,o,s),u=r/n.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(u,-u);var c=e.lineWidth;e.lineWidth=e.lineWidth*n.fontFace.unitsPerEm/r,"italic"==i&&e.transform(1,0,.4,1,0,0),l.render(e),"italic"==i&&e.transform(1,0,-.4,1,0,0),e.lineWidth=c,e.scale(1/u,-1/u),e.translate(-this.x,-this.y),this.x+=r*(l.horizAdvX||n.horizAdvX)/n.fontFace.unitsPerEm,"undefined"==typeof a[s]||isNaN(a[s])||(this.x+=a[s])}}},this.getText=function(){},this.measureTextRecursive=function(t){for(var e=this.measureText(t),n=0;n<this.children.length;n++)e+=this.children[n].measureTextRecursive(t);return e},this.measureText=function(e){var n=this.parent.style("font-family").getDefinition();if(null!=n){var r=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),i=0,o=this.getText();n.isRTL&&(o=o.split("").reverse().join(""));for(var a=t.ToNumberArray(this.parent.attribute("dx").value),s=0;s<o.length;s++){var l=this.getGlyph(n,o,s);i+=(l.horizAdvX||n.horizAdvX)*r/n.fontFace.unitsPerEm,"undefined"==typeof a[s]||isNaN(a[s])||(i+=a[s])}return i}var u=t.compressSpaces(this.getText());if(!e.measureText)return 10*u.length;e.save(),this.setContext(e);var c=e.measureText(u).width;return e.restore(),c}},t.Element.TextElementBase.prototype=new t.Element.RenderedElementBase,t.Element.tspan=function(e){this.captureTextNodes=!0,this.base=t.Element.TextElementBase,this.base(e),this.text=e.nodeValue||e.text||"",this.getText=function(){return this.text}},t.Element.tspan.prototype=new t.Element.TextElementBase,t.Element.tref=function(e){this.base=t.Element.TextElementBase,this.base(e),this.getText=function(){var t=this.getHrefAttribute().getDefinition();return null!=t?t.children[0].getText():void 0}},t.Element.tref.prototype=new t.Element.TextElementBase,t.Element.a=function(e){this.base=t.Element.TextElementBase,this.base(e),this.hasText=!0;for(var n=0;n<e.childNodes.length;n++)3!=e.childNodes[n].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var n=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);t.Mouse.checkBoundingBox(this,new t.BoundingBox(this.x,this.y-n.toPixels("y"),this.x+this.measureText(e),this.y))}else{var r=new t.Element.g;r.children=this.children,r.parent=this,r.render(e)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){t.ctx.canvas.style.cursor="pointer"}},t.Element.a.prototype=new t.Element.TextElementBase,t.Element.image=function(e){this.base=t.Element.RenderedElementBase,this.base(e);var n=this.getHrefAttribute().value,r=n.match(/\.svg$/);if(t.Images.push(this),this.loaded=!1,r)this.img=t.ajax(n),this.loaded=!0;else{this.img=document.createElement("img");var i=this;this.img.onload=function(){i.loaded=!0},this.img.onerror=function(){"undefined"!=typeof console&&(console.log('ERROR: image "'+n+'" not found'),i.loaded=!0)},this.img.src=n}this.renderChildren=function(e){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y");0!=o&&0!=a&&(e.save(),r?e.drawSvg(this.img,n,i,o,a):(e.translate(n,i),t.AspectRatio(e,this.attribute("preserveAspectRatio").value,o,this.img.width,a,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new t.BoundingBox(e,n,e+r,n+i)}},t.Element.image.prototype=new t.Element.RenderedElementBase,t.Element.g=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new t.BoundingBox,n=0;n<this.children.length;n++)e.addBoundingBox(this.children[n].getBoundingBox());return e}},t.Element.g.prototype=new t.Element.RenderedElementBase,t.Element.symbol=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){if(this.baseSetContext(e),this.attribute("viewBox").hasValue()){var n=t.ToNumberArray(this.attribute("viewBox").value),r=n[0],i=n[1];width=n[2],height=n[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,r,i),t.ViewPort.SetCurrent(n[2],n[3])}}},t.Element.symbol.prototype=new t.Element.RenderedElementBase,t.Element.style=function(e){this.base=t.Element.ElementBase,this.base(e);for(var n="",r=0;r<e.childNodes.length;r++)n+=e.childNodes[r].nodeValue;n=n.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),n=t.compressSpaces(n);for(var i=n.split("}"),r=0;r<i.length;r++)if(""!=t.trim(i[r]))for(var o=i[r].split("{"),a=o[0].split(","),s=o[1].split(";"),l=0;l<a.length;l++){var u=t.trim(a[l]);if(""!=u){for(var c={},h=0;h<s.length;h++){var f=s[h].indexOf(":"),d=s[h].substr(0,f),p=s[h].substr(f+1,s[h].length-f);null!=d&&null!=p&&(c[t.trim(d)]=new t.Property(t.trim(d),t.trim(p)))}if(t.Styles[u]=c,"@font-face"==u)for(var g=c["font-family"].value.replace(/"/g,""),m=c.src.value.split(","),v=0;v<m.length;v++)if(m[v].indexOf('format("svg")')>0)for(var y=m[v].indexOf("url"),w=m[v].indexOf(")",y),b=m[v].substr(y+5,w-y-6),x=t.parseXml(t.ajax(b)),C=x.getElementsByTagName("font"),T=0;T<C.length;T++){var E=t.CreateElement(C[T]);t.Definitions[g]=E}}}},t.Element.style.prototype=new t.Element.ElementBase,t.Element.use=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var t=this.getHrefAttribute().getDefinition();return this.attribute("width").hasValue()&&(t.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(t.attribute("height",!0).value=this.attribute("height").value),t},this.path=function(t){var e=this.getDefinition();null!=e&&e.path(t)},this.getBoundingBox=function(){var t=this.getDefinition();return null!=t?t.getBoundingBox():void 0},this.renderChildren=function(t){var e=this.getDefinition();if(null!=e){var n=e.parent;e.parent=null,e.render(t),e.parent=n}}},t.Element.use.prototype=new t.Element.RenderedElementBase,t.Element.mask=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e,n){var r=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y");if(0==o&&0==a){for(var s=new t.BoundingBox,l=0;l<this.children.length;l++)s.addBoundingBox(this.children[l].getBoundingBox());var r=Math.floor(s.x1),i=Math.floor(s.y1),o=Math.floor(s.width()),a=Math.floor(s.height())}var u=n.attribute("mask").value;n.attribute("mask").value="";var c=document.createElement("canvas");c.width=r+o,c.height=i+a;var h=c.getContext("2d");this.renderChildren(h);var f=document.createElement("canvas");f.width=r+o,f.height=i+a;var d=f.getContext("2d");n.render(d),d.globalCompositeOperation="destination-in",d.fillStyle=h.createPattern(c,"no-repeat"),d.fillRect(0,0,r+o,i+a),e.fillStyle=d.createPattern(f,"no-repeat"),e.fillRect(0,0,r+o,i+a),n.attribute("mask").value=u},this.render=function(t){}},t.Element.mask.prototype=new t.Element.ElementBase,t.Element.clipPath=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e){for(var n=0;n<this.children.length;n++){var r=this.children[n];if("undefined"!=typeof r.path){var i=null;r.attribute("transform").hasValue()&&(i=new t.Transform(r.attribute("transform").value),i.apply(e)),r.path(e),e.clip(),i&&i.unapply(e)}}},this.render=function(t){}},t.Element.clipPath.prototype=new t.Element.ElementBase,t.Element.filter=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e){var n=e.getBoundingBox(),r=Math.floor(n.x1),i=Math.floor(n.y1),o=Math.floor(n.width()),a=Math.floor(n.height()),s=e.style("filter").value;e.style("filter").value="";for(var l=0,u=0,c=0;c<this.children.length;c++){var h=this.children[c].extraFilterDistance||0;l=Math.max(l,h),u=Math.max(u,h)}var f=document.createElement("canvas");f.width=o+2*l,f.height=a+2*u;var d=f.getContext("2d");d.translate(-r+l,-i+u),e.render(d);for(var c=0;c<this.children.length;c++)this.children[c].apply(d,0,0,o+2*l,a+2*u);t.drawImage(f,0,0,o+2*l,a+2*u,r-l,i-u,o+2*l,a+2*u),e.style("filter",!0).value=s},this.render=function(t){}},t.Element.filter.prototype=new t.Element.ElementBase,t.Element.feMorphology=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e,n,r,i){}},t.Element.feMorphology.prototype=new t.Element.ElementBase,t.Element.feColorMatrix=function(e){function n(t,e,n,r,i,o){return t[n*r*4+4*e+o]}function r(t,e,n,r,i,o,a){t[n*r*4+4*e+o]=a}this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e,i,o,a){for(var s=t.getImageData(0,0,o,a),i=0;a>i;i++)for(var e=0;o>e;e++){var l=n(s.data,e,i,o,a,0),u=n(s.data,e,i,o,a,1),c=n(s.data,e,i,o,a,2),h=(l+u+c)/3;r(s.data,e,i,o,a,0,h),r(s.data,e,i,o,a,1,h),r(s.data,e,i,o,a,2,h)}t.clearRect(0,0,o,a),t.putImageData(s,0,0)}},t.Element.feColorMatrix.prototype=new t.Element.ElementBase,t.Element.feGaussianBlur=function(e){this.base=t.Element.ElementBase,this.base(e),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(e,n,r,i,o){return"undefined"==typeof stackBlurCanvasRGBA?void("undefined"!=typeof console&&console.log("ERROR: StackBlur.js must be included for blur to work")):(e.canvas.id=t.UniqueId(),e.canvas.style.display="none",document.body.appendChild(e.canvas),stackBlurCanvasRGBA(e.canvas.id,n,r,i,o,this.blurRadius),void document.body.removeChild(e.canvas))}},t.Element.feGaussianBlur.prototype=new t.Element.ElementBase,t.Element.title=function(t){},t.Element.title.prototype=new t.Element.ElementBase,t.Element.desc=function(t){},t.Element.desc.prototype=new t.Element.ElementBase,t.Element.MISSING=function(t){"undefined"!=typeof console&&console.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")},t.Element.MISSING.prototype=new t.Element.ElementBase,t.CreateElement=function(e){var n=e.nodeName.replace(/^[^:]+:/,"");n=n.replace(/\-/g,"");var r=null;return r="undefined"!=typeof t.Element[n]?new t.Element[n](e):new t.Element.MISSING(e),r.type=e.nodeName,r},t.load=function(e,n){t.loadXml(e,t.ajax(n))},t.loadXml=function(e,n){t.loadXmlDoc(e,t.parseXml(n))},t.loadXmlDoc=function(e,n){t.init(e);var r=function(t){for(var n=e.canvas;n;)t.x-=n.offsetLeft,t.y-=n.offsetTop,n=n.offsetParent;return window.scrollX&&(t.x+=window.scrollX),window.scrollY&&(t.y+=window.scrollY),t};1!=t.opts.ignoreMouse&&(e.canvas.onclick=function(e){var n=r(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onclick(n.x,n.y)},e.canvas.onmousemove=function(e){var n=r(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onmousemove(n.x,n.y)});var i=t.CreateElement(n.documentElement);i.root=!0;var o=!0,a=function(){t.ViewPort.Clear(),e.canvas.parentNode&&t.ViewPort.SetCurrent(e.canvas.parentNode.clientWidth,e.canvas.parentNode.clientHeight),1!=t.opts.ignoreDimensions&&(i.style("width").hasValue()&&(e.canvas.width=i.style("width").toPixels("x"),e.canvas.style.width=e.canvas.width+"px"),i.style("height").hasValue()&&(e.canvas.height=i.style("height").toPixels("y"),e.canvas.style.height=e.canvas.height+"px"));var r=e.canvas.clientWidth||e.canvas.width,a=e.canvas.clientHeight||e.canvas.height;if(1==t.opts.ignoreDimensions&&i.style("width").hasValue()&&i.style("height").hasValue()&&(r=i.style("width").toPixels("x"),a=i.style("height").toPixels("y")),t.ViewPort.SetCurrent(r,a),null!=t.opts.offsetX&&(i.attribute("x",!0).value=t.opts.offsetX),null!=t.opts.offsetY&&(i.attribute("y",!0).value=t.opts.offsetY),null!=t.opts.scaleWidth&&null!=t.opts.scaleHeight){var s=1,l=1,u=t.ToNumberArray(i.attribute("viewBox").value);i.attribute("width").hasValue()?s=i.attribute("width").toPixels("x")/t.opts.scaleWidth:isNaN(u[2])||(s=u[2]/t.opts.scaleWidth),i.attribute("height").hasValue()?l=i.attribute("height").toPixels("y")/t.opts.scaleHeight:isNaN(u[3])||(l=u[3]/t.opts.scaleHeight),i.attribute("width",!0).value=t.opts.scaleWidth,i.attribute("height",!0).value=t.opts.scaleHeight,i.attribute("viewBox",!0).value="0 0 "+r*s+" "+a*l,i.attribute("preserveAspectRatio",!0).value="none"}1!=t.opts.ignoreClear&&e.clearRect(0,0,r,a),i.render(e),o&&(o=!1,"function"==typeof t.opts.renderCallback&&t.opts.renderCallback(n))},s=!0;t.ImagesLoaded()&&(s=!1,a()),t.intervalID=setInterval(function(){var e=!1;if(s&&t.ImagesLoaded()&&(s=!1,e=!0),1!=t.opts.ignoreMouse&&(e|=t.Mouse.hasEvents()),1!=t.opts.ignoreAnimation)for(var n=0;n<t.Animations.length;n++)e|=t.Animations[n].update(1e3/t.FRAMERATE);"function"==typeof t.opts.forceRedraw&&1==t.opts.forceRedraw()&&(e=!0),e&&(a(),t.Mouse.runEvents())},1e3/t.FRAMERATE)},t.stop=function(){t.intervalID&&clearInterval(t.intervalID)},t.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){t.onclick&&t.onclick()}})},this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){t.onmousemove&&t.onmousemove()}})},this.eventElements=[],this.checkPath=function(t,e){for(var n=0;n<this.events.length;n++){var r=this.events[n];e.isPointInPath&&e.isPointInPath(r.x,r.y)&&(this.eventElements[n]=t)}},this.checkBoundingBox=function(t,e){for(var n=0;n<this.events.length;n++){var r=this.events[n];e.isPointInBox(r.x,r.y)&&(this.eventElements[n]=t)}},this.runEvents=function(){t.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var n=this.events[e],r=this.eventElements[e];r;)n.run(r),r=r.parent;this.events=[],this.eventElements=[]}},t}this.canvg=function(e,n,r){if(null!=e||null!=n||null!=r){r=r||{},"string"==typeof e&&(e=document.getElementById(e)),null!=e.svg&&e.svg.stop();var i=t();(1!=e.childNodes.length||"OBJECT"!=e.childNodes[0].nodeName)&&(e.svg=i),i.opts=r;var o=e.getContext("2d");"undefined"!=typeof n.documentElement?i.loadXmlDoc(o,n):"<"==n.substr(0,1)?i.loadXml(o,n):i.load(o,n)}else for(var a=document.getElementsByTagName("svg"),s=0;s<a.length;s++){var l=a[s],u=document.createElement("canvas");u.width=l.clientWidth,u.height=l.clientHeight,l.parentNode.insertBefore(u,l),l.parentNode.removeChild(l);var c=document.createElement("div");c.appendChild(l),canvg(u,c.innerHTML)}}}(),"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,e,n,r,i){canvg(this.canvas,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:e,offsetY:n,scaleWidth:r,scaleHeight:i})});/*!

StackBlur - a fast almost Gaussian Blur For Canvas

Version: 	0.5
Author:		Mario Klingemann
Contact: 	mario@quasimondo.com
Website:	http://www.quasimondo.com/StackBlurForCanvas
Twitter:	@quasimondo

In case you find this class useful - especially in commercial projects -
I am not totally unhappy for a small donation to my PayPal account
mario@quasimondo.de

Or support me on flattr: 
https://flattr.com/thing/72791/StackBlur-a-fast-almost-Gaussian-Blur-Effect-for-CanvasJavascript

Copyright (c) 2010 Mario Klingemann

Permission is hereby granted, free of charge, to any person
obtaining a copy of this software and associated documentation
files (the "Software"), to deal in the Software without
restriction, including without limitation the rights to use,
copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the
Software is furnished to do so, subject to the following
conditions:

The above copyright notice and this permission notice shall be
included in all copies or substantial portions of the Software.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES
OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT
HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,
WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR
OTHER DEALINGS IN THE SOFTWARE.
*/
var mul_table=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],shg_table=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];/*!
 * canvg.js - Javascript SVG parser and renderer on Canvas
 * MIT Licensed 
 * Gabe Lerner (gabelerner@gmail.com)
 * http://code.google.com/p/canvg/
 *
 * Requires: rgbcolor.js - http://www.phpied.com/rgb-color-parser-in-javascript/
 */
!function(){function t(){var t={};return t.FRAMERATE=30,t.MAX_VIRTUAL_PIXELS=3e4,t.init=function(e){var n=0;t.UniqueId=function(){return n++,"canvg"+n},t.Definitions={},t.Styles={},t.Animations=[],t.Images=[],t.ctx=e,t.ViewPort=new function(){this.viewPorts=[],this.Clear=function(){this.viewPorts=[]},this.SetCurrent=function(t,e){this.viewPorts.push({width:t,height:e})},this.RemoveCurrent=function(){this.viewPorts.pop()},this.Current=function(){return this.viewPorts[this.viewPorts.length-1]},this.width=function(){return this.Current().width},this.height=function(){return this.Current().height},this.ComputeSize=function(t){return null!=t&&"number"==typeof t?t:"x"==t?this.width():"y"==t?this.height():Math.sqrt(Math.pow(this.width(),2)+Math.pow(this.height(),2))/Math.sqrt(2)}}},t.init(),t.ImagesLoaded=function(){for(var e=0;e<t.Images.length;e++)if(!t.Images[e].loaded)return!1;return!0},t.trim=function(t){return t.replace(/^\s+|\s+$/g,"")},t.compressSpaces=function(t){return t.replace(/[\s\r\t\n]+/gm," ")},t.ajax=function(t){var e;return e=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),e?(e.open("GET",t,!1),e.send(null),e.responseText):null},t.parseXml=function(t){if(window.DOMParser){var e=new DOMParser;return e.parseFromString(t,"text/xml")}t=t.replace(/<!DOCTYPE svg[^>]*>/,"");var n=new ActiveXObject("Microsoft.XMLDOM");return n.async="false",n.loadXML(t),n},t.Property=function(t,e){this.name=t,this.value=e},t.Property.prototype.getValue=function(){return this.value},t.Property.prototype.hasValue=function(){return null!=this.value&&""!==this.value},t.Property.prototype.numValue=function(){if(!this.hasValue())return 0;var t=parseFloat(this.value);return(this.value+"").match(/%$/)&&(t/=100),t},t.Property.prototype.valueOrDefault=function(t){return this.hasValue()?this.value:t},t.Property.prototype.numValueOrDefault=function(t){return this.hasValue()?this.numValue():t},t.Property.prototype.addOpacity=function(e){var n=this.value;if(null!=e&&""!=e&&"string"==typeof this.value){var r=new RGBColor(this.value);r.ok&&(n="rgba("+r.r+", "+r.g+", "+r.b+", "+e+")")}return new t.Property(this.name,n)},t.Property.prototype.getDefinition=function(){var e=this.value.match(/#([^\)'"]+)/);return e&&(e=e[1]),e||(e=this.value),t.Definitions[e]},t.Property.prototype.isUrlDefinition=function(){return 0==this.value.indexOf("url(")},t.Property.prototype.getFillStyleDefinition=function(e,n){var r=this.getDefinition();if(null!=r&&r.createGradient)return r.createGradient(t.ctx,e,n);if(null!=r&&r.createPattern){if(r.getHrefAttribute().hasValue()){var i=r.attribute("patternTransform");r=r.getHrefAttribute().getDefinition(),i.hasValue()&&(r.attribute("patternTransform",!0).value=i.value)}return r.createPattern(t.ctx,e)}return null},t.Property.prototype.getDPI=function(){return 96},t.Property.prototype.getEM=function(e){var n=12,r=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);return r.hasValue()&&(n=r.toPixels(e)),n},t.Property.prototype.getUnits=function(){var t=this.value+"";return t.replace(/[0-9\.\-]/g,"")},t.Property.prototype.toPixels=function(e,n){if(!this.hasValue())return 0;var r=this.value+"";if(r.match(/em$/))return this.numValue()*this.getEM(e);if(r.match(/ex$/))return this.numValue()*this.getEM(e)/2;if(r.match(/px$/))return this.numValue();if(r.match(/pt$/))return this.numValue()*this.getDPI(e)*(1/72);if(r.match(/pc$/))return 15*this.numValue();if(r.match(/cm$/))return this.numValue()*this.getDPI(e)/2.54;if(r.match(/mm$/))return this.numValue()*this.getDPI(e)/25.4;if(r.match(/in$/))return this.numValue()*this.getDPI(e);if(r.match(/%$/))return this.numValue()*t.ViewPort.ComputeSize(e);var i=this.numValue();return n&&1>i?i*t.ViewPort.ComputeSize(e):i},t.Property.prototype.toMilliseconds=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/s$/)?1e3*this.numValue():(t.match(/ms$/),this.numValue())},t.Property.prototype.toRadians=function(){if(!this.hasValue())return 0;var t=this.value+"";return t.match(/deg$/)?this.numValue()*(Math.PI/180):t.match(/grad$/)?this.numValue()*(Math.PI/200):t.match(/rad$/)?this.numValue():this.numValue()*(Math.PI/180)},t.Font=new function(){this.Styles="normal|italic|oblique|inherit",this.Variants="normal|small-caps|inherit",this.Weights="normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900|inherit",this.CreateFont=function(e,n,r,i,o,a){var s=null!=a?this.Parse(a):this.CreateFont("","","","","",t.ctx.font);return{fontFamily:o||s.fontFamily,fontSize:i||s.fontSize,fontStyle:e||s.fontStyle,fontWeight:r||s.fontWeight,fontVariant:n||s.fontVariant,toString:function(){return[this.fontStyle,this.fontVariant,this.fontWeight,this.fontSize,this.fontFamily].join(" ")}}};var e=this;this.Parse=function(n){for(var r={},i=t.trim(t.compressSpaces(n||"")).split(" "),o={fontSize:!1,fontStyle:!1,fontWeight:!1,fontVariant:!1},a="",s=0;s<i.length;s++)o.fontStyle||-1==e.Styles.indexOf(i[s])?o.fontVariant||-1==e.Variants.indexOf(i[s])?o.fontWeight||-1==e.Weights.indexOf(i[s])?o.fontSize?"inherit"!=i[s]&&(a+=i[s]):("inherit"!=i[s]&&(r.fontSize=i[s].split("/")[0]),o.fontStyle=o.fontVariant=o.fontWeight=o.fontSize=!0):("inherit"!=i[s]&&(r.fontWeight=i[s]),o.fontStyle=o.fontVariant=o.fontWeight=!0):("inherit"!=i[s]&&(r.fontVariant=i[s]),o.fontStyle=o.fontVariant=!0):("inherit"!=i[s]&&(r.fontStyle=i[s]),o.fontStyle=!0);return""!=a&&(r.fontFamily=a),r}},t.ToNumberArray=function(e){for(var n=t.trim(t.compressSpaces((e||"").replace(/,/g," "))).split(" "),r=0;r<n.length;r++)n[r]=parseFloat(n[r]);return n},t.Point=function(t,e){this.x=t,this.y=e},t.Point.prototype.angleTo=function(t){return Math.atan2(t.y-this.y,t.x-this.x)},t.Point.prototype.applyTransform=function(t){var e=this.x*t[0]+this.y*t[2]+t[4],n=this.x*t[1]+this.y*t[3]+t[5];this.x=e,this.y=n},t.CreatePoint=function(e){var n=t.ToNumberArray(e);return new t.Point(n[0],n[1])},t.CreatePath=function(e){for(var n=t.ToNumberArray(e),r=[],i=0;i<n.length;i+=2)r.push(new t.Point(n[i],n[i+1]));return r},t.BoundingBox=function(t,e,n,r){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN,this.x=function(){return this.x1},this.y=function(){return this.y1},this.width=function(){return this.x2-this.x1},this.height=function(){return this.y2-this.y1},this.addPoint=function(t,e){null!=t&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=t,this.x2=t),t<this.x1&&(this.x1=t),t>this.x2&&(this.x2=t)),null!=e&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=e,this.y2=e),e<this.y1&&(this.y1=e),e>this.y2&&(this.y2=e))},this.addX=function(t){this.addPoint(t,null)},this.addY=function(t){this.addPoint(null,t)},this.addBoundingBox=function(t){this.addPoint(t.x1,t.y1),this.addPoint(t.x2,t.y2)},this.addQuadraticCurve=function(t,e,n,r,i,o){var a=t+2/3*(n-t),s=e+2/3*(r-e),l=a+1/3*(i-t),u=s+1/3*(o-e);this.addBezierCurve(t,e,a,l,s,u,i,o)},this.addBezierCurve=function(t,e,n,r,o,a,s,l){var u=[t,e],c=[n,r],h=[o,a],f=[s,l];for(this.addPoint(u[0],u[1]),this.addPoint(f[0],f[1]),i=0;1>=i;i++){var d=function(t){return Math.pow(1-t,3)*u[i]+3*Math.pow(1-t,2)*t*c[i]+3*(1-t)*Math.pow(t,2)*h[i]+Math.pow(t,3)*f[i]},p=6*u[i]-12*c[i]+6*h[i],g=-3*u[i]+9*c[i]-9*h[i]+3*f[i],m=3*c[i]-3*u[i];if(0!=g){var v=Math.pow(p,2)-4*m*g;if(!(0>v)){var y=(-p+Math.sqrt(v))/(2*g);y>0&&1>y&&(0==i&&this.addX(d(y)),1==i&&this.addY(d(y)));var w=(-p-Math.sqrt(v))/(2*g);w>0&&1>w&&(0==i&&this.addX(d(w)),1==i&&this.addY(d(w)))}}else{if(0==p)continue;var b=-m/p;b>0&&1>b&&(0==i&&this.addX(d(b)),1==i&&this.addY(d(b)))}}},this.isPointInBox=function(t,e){return this.x1<=t&&t<=this.x2&&this.y1<=e&&e<=this.y2},this.addPoint(t,e),this.addPoint(n,r)},t.Transform=function(e){var n=this;this.Type={},this.Type.translate=function(e){this.p=t.CreatePoint(e),this.apply=function(t){t.translate(this.p.x||0,this.p.y||0)},this.unapply=function(t){t.translate(-1*this.p.x||0,-1*this.p.y||0)},this.applyToPoint=function(t){t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0])}},this.Type.rotate=function(e){var n=t.ToNumberArray(e);this.angle=new t.Property("angle",n[0]),this.cx=n[1]||0,this.cy=n[2]||0,this.apply=function(t){t.translate(this.cx,this.cy),t.rotate(this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.unapply=function(t){t.translate(this.cx,this.cy),t.rotate(-1*this.angle.toRadians()),t.translate(-this.cx,-this.cy)},this.applyToPoint=function(t){var e=this.angle.toRadians();t.applyTransform([1,0,0,1,this.p.x||0,this.p.y||0]),t.applyTransform([Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0]),t.applyTransform([1,0,0,1,-this.p.x||0,-this.p.y||0])}},this.Type.scale=function(e){this.p=t.CreatePoint(e),this.apply=function(t){t.scale(this.p.x||1,this.p.y||this.p.x||1)},this.unapply=function(t){t.scale(1/this.p.x||1,1/this.p.y||this.p.x||1)},this.applyToPoint=function(t){t.applyTransform([this.p.x||0,0,0,this.p.y||0,0,0])}},this.Type.matrix=function(e){this.m=t.ToNumberArray(e),this.apply=function(t){t.transform(this.m[0],this.m[1],this.m[2],this.m[3],this.m[4],this.m[5])},this.applyToPoint=function(t){t.applyTransform(this.m)}},this.Type.SkewBase=function(e){this.base=n.Type.matrix,this.base(e),this.angle=new t.Property("angle",e)},this.Type.SkewBase.prototype=new this.Type.matrix,this.Type.skewX=function(t){this.base=n.Type.SkewBase,this.base(t),this.m=[1,0,Math.tan(this.angle.toRadians()),1,0,0]},this.Type.skewX.prototype=new this.Type.SkewBase,this.Type.skewY=function(t){this.base=n.Type.SkewBase,this.base(t),this.m=[1,Math.tan(this.angle.toRadians()),0,1,0,0]},this.Type.skewY.prototype=new this.Type.SkewBase,this.transforms=[],this.apply=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].apply(t)},this.unapply=function(t){for(var e=this.transforms.length-1;e>=0;e--)this.transforms[e].unapply(t)},this.applyToPoint=function(t){for(var e=0;e<this.transforms.length;e++)this.transforms[e].applyToPoint(t)};for(var r=t.trim(t.compressSpaces(e)).replace(/\)(\s?,\s?)/g,") ").split(/\s(?=[a-z])/),i=0;i<r.length;i++){var o=t.trim(r[i].split("(")[0]),a=r[i].split("(")[1].replace(")",""),s=new this.Type[o](a);s.type=o,this.transforms.push(s)}},t.AspectRatio=function(e,n,r,i,o,a,s,l,u,c){n=t.compressSpaces(n),n=n.replace(/^defer\s/,"");var h=n.split(" ")[0]||"xMidYMid",f=n.split(" ")[1]||"meet",d=r/i,p=o/a,g=Math.min(d,p),m=Math.max(d,p);"meet"==f&&(i*=g,a*=g),"slice"==f&&(i*=m,a*=m),u=new t.Property("refX",u),c=new t.Property("refY",c),u.hasValue()&&c.hasValue()?e.translate(-g*u.toPixels("x"),-g*c.toPixels("y")):(h.match(/^xMid/)&&("meet"==f&&g==p||"slice"==f&&m==p)&&e.translate(r/2-i/2,0),h.match(/YMid$/)&&("meet"==f&&g==d||"slice"==f&&m==d)&&e.translate(0,o/2-a/2),h.match(/^xMax/)&&("meet"==f&&g==p||"slice"==f&&m==p)&&e.translate(r-i,0),h.match(/YMax$/)&&("meet"==f&&g==d||"slice"==f&&m==d)&&e.translate(0,o-a)),"none"==h?e.scale(d,p):"meet"==f?e.scale(g,g):"slice"==f&&e.scale(m,m),e.translate(null==s?0:-s,null==l?0:-l)},t.Element={},t.EmptyProperty=new t.Property("EMPTY",""),t.Element.ElementBase=function(e){if(this.attributes={},this.styles={},this.children=[],this.attribute=function(e,n){var r=this.attributes[e];return null!=r?r:(1==n&&(r=new t.Property(e,""),this.attributes[e]=r),r||t.EmptyProperty)},this.getHrefAttribute=function(){for(var e in this.attributes)if(e.match(/:href$/))return this.attributes[e];return t.EmptyProperty},this.style=function(e,n){var r=this.styles[e];if(null!=r)return r;var i=this.attribute(e);if(null!=i&&i.hasValue())return this.styles[e]=i,i;var o=this.parent;if(null!=o){var a=o.style(e);if(null!=a&&a.hasValue())return a}return 1==n&&(r=new t.Property(e,""),this.styles[e]=r),r||t.EmptyProperty},this.render=function(t){if("none"!=this.style("display").value&&"hidden"!=this.attribute("visibility").value){if(t.save(),this.attribute("mask").hasValue()){var e=this.attribute("mask").getDefinition();null!=e&&e.apply(t,this)}else if(this.style("filter").hasValue()){var n=this.style("filter").getDefinition();null!=n&&n.apply(t,this)}else this.setContext(t),this.renderChildren(t),this.clearContext(t);t.restore()}},this.setContext=function(){},this.clearContext=function(){},this.renderChildren=function(t){for(var e=0;e<this.children.length;e++)this.children[e].render(t)},this.addChild=function(e,n){var r=e;n&&(r=t.CreateElement(e)),r.parent=this,this.children.push(r)},null!=e&&1==e.nodeType){for(var n=0;n<e.childNodes.length;n++){var r=e.childNodes[n];if(1==r.nodeType&&this.addChild(r,!0),this.captureTextNodes&&3==r.nodeType){var i=r.nodeValue||r.text||"";""!=t.trim(t.compressSpaces(i))&&this.addChild(new t.Element.tspan(r),!1)}}for(var n=0;n<e.attributes.length;n++){var o=e.attributes[n];this.attributes[o.nodeName]=new t.Property(o.nodeName,o.nodeValue)}var a=t.Styles[e.nodeName];if(null!=a)for(var s in a)this.styles[s]=a[s];if(this.attribute("class").hasValue())for(var l=t.compressSpaces(this.attribute("class").value).split(" "),u=0;u<l.length;u++){if(a=t.Styles["."+l[u]],null!=a)for(var s in a)this.styles[s]=a[s];if(a=t.Styles[e.nodeName+"."+l[u]],null!=a)for(var s in a)this.styles[s]=a[s]}if(this.attribute("id").hasValue()){var a=t.Styles["#"+this.attribute("id").value];if(null!=a)for(var s in a)this.styles[s]=a[s]}if(this.attribute("style").hasValue())for(var a=this.attribute("style").value.split(";"),n=0;n<a.length;n++)if(""!=t.trim(a[n])){var c=a[n].split(":"),s=t.trim(c[0]),h=t.trim(c[1]);this.styles[s]=new t.Property(s,h)}this.attribute("id").hasValue()&&null==t.Definitions[this.attribute("id").value]&&(t.Definitions[this.attribute("id").value]=this)}},t.Element.RenderedElementBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.setContext=function(e){if(this.style("fill").isUrlDefinition()){var n=this.style("fill").getFillStyleDefinition(this,this.style("fill-opacity"));null!=n&&(e.fillStyle=n)}else if(this.style("fill").hasValue()){var r=this.style("fill");"currentColor"==r.value&&(r.value=this.style("color").value),e.fillStyle="none"==r.value?"rgba(0,0,0,0)":r.value}if(this.style("fill-opacity").hasValue()){var r=new t.Property("fill",e.fillStyle);r=r.addOpacity(this.style("fill-opacity").value),e.fillStyle=r.value}if(this.style("stroke").isUrlDefinition()){var n=this.style("stroke").getFillStyleDefinition(this,this.style("stroke-opacity"));null!=n&&(e.strokeStyle=n)}else if(this.style("stroke").hasValue()){var i=this.style("stroke");"currentColor"==i.value&&(i.value=this.style("color").value),e.strokeStyle="none"==i.value?"rgba(0,0,0,0)":i.value}if(this.style("stroke-opacity").hasValue()){var i=new t.Property("stroke",e.strokeStyle);i=i.addOpacity(this.style("stroke-opacity").value),e.strokeStyle=i.value}if(this.style("stroke-width").hasValue()){var o=this.style("stroke-width").toPixels();e.lineWidth=0==o?.001:o}if(this.style("stroke-linecap").hasValue()&&(e.lineCap=this.style("stroke-linecap").value),this.style("stroke-linejoin").hasValue()&&(e.lineJoin=this.style("stroke-linejoin").value),this.style("stroke-miterlimit").hasValue()&&(e.miterLimit=this.style("stroke-miterlimit").value),this.style("stroke-dasharray").hasValue()){var a=t.ToNumberArray(this.style("stroke-dasharray").value);"undefined"!=typeof e.setLineDash?e.setLineDash(a):"undefined"!=typeof e.webkitLineDash?e.webkitLineDash=a:"undefined"!=typeof e.mozDash&&(e.mozDash=a);var s=this.style("stroke-dashoffset").numValueOrDefault(1);"undefined"!=typeof e.lineDashOffset?e.lineDashOffset=s:"undefined"!=typeof e.webkitLineDashOffset?e.webkitLineDashOffset=s:"undefined"!=typeof e.mozDashOffset&&(e.mozDashOffset=s)}if("undefined"!=typeof e.font&&(e.font=t.Font.CreateFont(this.style("font-style").value,this.style("font-variant").value,this.style("font-weight").value,this.style("font-size").hasValue()?this.style("font-size").toPixels()+"px":"",this.style("font-family").value).toString()),this.attribute("transform").hasValue()){var l=new t.Transform(this.attribute("transform").value);l.apply(e)}if(this.style("clip-path").hasValue()){var u=this.style("clip-path").getDefinition();null!=u&&u.apply(e)}this.style("opacity").hasValue()&&(e.globalAlpha=this.style("opacity").numValue())}},t.Element.RenderedElementBase.prototype=new t.Element.ElementBase,t.Element.PathElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.path=function(e){return null!=e&&e.beginPath(),new t.BoundingBox},this.renderChildren=function(e){this.path(e),t.Mouse.checkPath(this,e),""!=e.fillStyle&&(this.attribute("fill-rule").hasValue()?e.fill(this.attribute("fill-rule").value):e.fill()),""!=e.strokeStyle&&e.stroke();var n=this.getMarkers();if(null!=n){if(this.style("marker-start").isUrlDefinition()){var r=this.style("marker-start").getDefinition();r.render(e,n[0][0],n[0][1])}if(this.style("marker-mid").isUrlDefinition())for(var r=this.style("marker-mid").getDefinition(),i=1;i<n.length-1;i++)r.render(e,n[i][0],n[i][1]);if(this.style("marker-end").isUrlDefinition()){var r=this.style("marker-end").getDefinition();r.render(e,n[n.length-1][0],n[n.length-1][1])}}},this.getBoundingBox=function(){return this.path()},this.getMarkers=function(){return null}},t.Element.PathElementBase.prototype=new t.Element.RenderedElementBase,t.Element.svg=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseClearContext=this.clearContext,this.clearContext=function(e){this.baseClearContext(e),t.ViewPort.RemoveCurrent()},this.baseSetContext=this.setContext,this.setContext=function(e){e.strokeStyle="rgba(0,0,0,0)",e.lineCap="butt",e.lineJoin="miter",e.miterLimit=4,this.baseSetContext(e),this.attribute("x").hasValue()||(this.attribute("x",!0).value=0),this.attribute("y").hasValue()||(this.attribute("y",!0).value=0),e.translate(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"));var n=t.ViewPort.width(),r=t.ViewPort.height();if(this.attribute("width").hasValue()||(this.attribute("width",!0).value="100%"),this.attribute("height").hasValue()||(this.attribute("height",!0).value="100%"),"undefined"==typeof this.root){n=this.attribute("width").toPixels("x"),r=this.attribute("height").toPixels("y");var i=0,o=0;this.attribute("refX").hasValue()&&this.attribute("refY").hasValue()&&(i=-this.attribute("refX").toPixels("x"),o=-this.attribute("refY").toPixels("y")),e.beginPath(),e.moveTo(i,o),e.lineTo(n,o),e.lineTo(n,r),e.lineTo(i,r),e.closePath(),e.clip()}if(t.ViewPort.SetCurrent(n,r),this.attribute("viewBox").hasValue()){var a=t.ToNumberArray(this.attribute("viewBox").value),s=a[0],l=a[1];n=a[2],r=a[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,t.ViewPort.width(),n,t.ViewPort.height(),r,s,l,this.attribute("refX").value,this.attribute("refY").value),t.ViewPort.RemoveCurrent(),t.ViewPort.SetCurrent(a[2],a[3])}}},t.Element.svg.prototype=new t.Element.RenderedElementBase,t.Element.rect=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=this.attribute("x").toPixels("x"),r=this.attribute("y").toPixels("y"),i=this.attribute("width").toPixels("x"),o=this.attribute("height").toPixels("y"),a=this.attribute("rx").toPixels("x"),s=this.attribute("ry").toPixels("y");return this.attribute("rx").hasValue()&&!this.attribute("ry").hasValue()&&(s=a),this.attribute("ry").hasValue()&&!this.attribute("rx").hasValue()&&(a=s),a=Math.min(a,i/2),s=Math.min(s,o/2),null!=e&&(e.beginPath(),e.moveTo(n+a,r),e.lineTo(n+i-a,r),e.quadraticCurveTo(n+i,r,n+i,r+s),e.lineTo(n+i,r+o-s),e.quadraticCurveTo(n+i,r+o,n+i-a,r+o),e.lineTo(n+a,r+o),e.quadraticCurveTo(n,r+o,n,r+o-s),e.lineTo(n,r+s),e.quadraticCurveTo(n,r,n+a,r),e.closePath()),new t.BoundingBox(n,r,n+i,r+o)}},t.Element.rect.prototype=new t.Element.PathElementBase,t.Element.circle=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=this.attribute("cx").toPixels("x"),r=this.attribute("cy").toPixels("y"),i=this.attribute("r").toPixels();return null!=e&&(e.beginPath(),e.arc(n,r,i,0,2*Math.PI,!0),e.closePath()),new t.BoundingBox(n-i,r-i,n+i,r+i)}},t.Element.circle.prototype=new t.Element.PathElementBase,t.Element.ellipse=function(e){this.base=t.Element.PathElementBase,this.base(e),this.path=function(e){var n=4*((Math.sqrt(2)-1)/3),r=this.attribute("rx").toPixels("x"),i=this.attribute("ry").toPixels("y"),o=this.attribute("cx").toPixels("x"),a=this.attribute("cy").toPixels("y");return null!=e&&(e.beginPath(),e.moveTo(o,a-i),e.bezierCurveTo(o+n*r,a-i,o+r,a-n*i,o+r,a),e.bezierCurveTo(o+r,a+n*i,o+n*r,a+i,o,a+i),e.bezierCurveTo(o-n*r,a+i,o-r,a+n*i,o-r,a),e.bezierCurveTo(o-r,a-n*i,o-n*r,a-i,o,a-i),e.closePath()),new t.BoundingBox(o-r,a-i,o+r,a+i)}},t.Element.ellipse.prototype=new t.Element.PathElementBase,t.Element.line=function(e){this.base=t.Element.PathElementBase,this.base(e),this.getPoints=function(){return[new t.Point(this.attribute("x1").toPixels("x"),this.attribute("y1").toPixels("y")),new t.Point(this.attribute("x2").toPixels("x"),this.attribute("y2").toPixels("y"))]},this.path=function(e){var n=this.getPoints();return null!=e&&(e.beginPath(),e.moveTo(n[0].x,n[0].y),e.lineTo(n[1].x,n[1].y)),new t.BoundingBox(n[0].x,n[0].y,n[1].x,n[1].y)},this.getMarkers=function(){var t=this.getPoints(),e=t[0].angleTo(t[1]);return[[t[0],e],[t[1],e]]}},t.Element.line.prototype=new t.Element.PathElementBase,t.Element.polyline=function(e){this.base=t.Element.PathElementBase,this.base(e),this.points=t.CreatePath(this.attribute("points").value),this.path=function(e){var n=new t.BoundingBox(this.points[0].x,this.points[0].y);null!=e&&(e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y));for(var r=1;r<this.points.length;r++)n.addPoint(this.points[r].x,this.points[r].y),null!=e&&e.lineTo(this.points[r].x,this.points[r].y);return n},this.getMarkers=function(){for(var t=[],e=0;e<this.points.length-1;e++)t.push([this.points[e],this.points[e].angleTo(this.points[e+1])]);return t.push([this.points[this.points.length-1],t[t.length-1][1]]),t}},t.Element.polyline.prototype=new t.Element.PathElementBase,t.Element.polygon=function(e){this.base=t.Element.polyline,this.base(e),this.basePath=this.path,this.path=function(t){var e=this.basePath(t);return null!=t&&(t.lineTo(this.points[0].x,this.points[0].y),t.closePath()),e}},t.Element.polygon.prototype=new t.Element.polyline,t.Element.path=function(e){this.base=t.Element.PathElementBase,this.base(e);var n=this.attribute("d").value;n=n.replace(/,/gm," "),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([MmZzLlHhVvCcSsQqTtAa])([^\s])/gm,"$1 $2"),n=n.replace(/([^\s])([MmZzLlHhVvCcSsQqTtAa])/gm,"$1 $2"),n=n.replace(/([0-9])([+\-])/gm,"$1 $2"),n=n.replace(/(\.[0-9]*)(\.)/gm,"$1 $2"),n=n.replace(/([Aa](\s+[0-9]+){3})\s+([01])\s*([01])/gm,"$1 $3 $4 "),n=t.compressSpaces(n),n=t.trim(n),this.PathParser=new function(e){this.tokens=e.split(" "),this.reset=function(){this.i=-1,this.command="",this.previousCommand="",this.start=new t.Point(0,0),this.control=new t.Point(0,0),this.current=new t.Point(0,0),this.points=[],this.angles=[]},this.isEnd=function(){return this.i>=this.tokens.length-1},this.isCommandOrEnd=function(){return this.isEnd()?!0:null!=this.tokens[this.i+1].match(/^[A-Za-z]$/)},this.isRelativeCommand=function(){switch(this.command){case"m":case"l":case"h":case"v":case"c":case"s":case"q":case"t":case"a":case"z":return!0}return!1},this.getToken=function(){return this.i++,this.tokens[this.i]},this.getScalar=function(){return parseFloat(this.getToken())},this.nextCommand=function(){this.previousCommand=this.command,this.command=this.getToken()},this.getPoint=function(){var e=new t.Point(this.getScalar(),this.getScalar());return this.makeAbsolute(e)},this.getAsControlPoint=function(){var t=this.getPoint();return this.control=t,t},this.getAsCurrentPoint=function(){var t=this.getPoint();return this.current=t,t},this.getReflectedControlPoint=function(){if("c"!=this.previousCommand.toLowerCase()&&"s"!=this.previousCommand.toLowerCase()&&"q"!=this.previousCommand.toLowerCase()&&"t"!=this.previousCommand.toLowerCase())return this.current;var e=new t.Point(2*this.current.x-this.control.x,2*this.current.y-this.control.y);return e},this.makeAbsolute=function(t){return this.isRelativeCommand()&&(t.x+=this.current.x,t.y+=this.current.y),t},this.addMarker=function(t,e,n){null!=n&&this.angles.length>0&&null==this.angles[this.angles.length-1]&&(this.angles[this.angles.length-1]=this.points[this.points.length-1].angleTo(n)),this.addMarkerAngle(t,null==e?null:e.angleTo(t))},this.addMarkerAngle=function(t,e){this.points.push(t),this.angles.push(e)},this.getMarkerPoints=function(){return this.points},this.getMarkerAngles=function(){for(var t=0;t<this.angles.length;t++)if(null==this.angles[t])for(var e=t+1;e<this.angles.length;e++)if(null!=this.angles[e]){this.angles[t]=this.angles[e];break}return this.angles}}(n),this.path=function(e){var n=this.PathParser;n.reset();var r=new t.BoundingBox;for(null!=e&&e.beginPath();!n.isEnd();)switch(n.nextCommand(),n.command){case"M":case"m":var i=n.getAsCurrentPoint();for(n.addMarker(i),r.addPoint(i.x,i.y),null!=e&&e.moveTo(i.x,i.y),n.start=n.current;!n.isCommandOrEnd();){var i=n.getAsCurrentPoint();n.addMarker(i,n.start),r.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"L":case"l":for(;!n.isCommandOrEnd();){var o=n.current,i=n.getAsCurrentPoint();n.addMarker(i,o),r.addPoint(i.x,i.y),null!=e&&e.lineTo(i.x,i.y)}break;case"H":case"h":for(;!n.isCommandOrEnd();){var a=new t.Point((n.isRelativeCommand()?n.current.x:0)+n.getScalar(),n.current.y);n.addMarker(a,n.current),n.current=a,r.addPoint(n.current.x,n.current.y),null!=e&&e.lineTo(n.current.x,n.current.y)}break;case"V":case"v":for(;!n.isCommandOrEnd();){var a=new t.Point(n.current.x,(n.isRelativeCommand()?n.current.y:0)+n.getScalar());n.addMarker(a,n.current),n.current=a,r.addPoint(n.current.x,n.current.y),null!=e&&e.lineTo(n.current.x,n.current.y)}break;case"C":case"c":for(;!n.isCommandOrEnd();){var s=n.current,l=n.getPoint(),u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,l),r.addBezierCurve(s.x,s.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"S":case"s":for(;!n.isCommandOrEnd();){var s=n.current,l=n.getReflectedControlPoint(),u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,l),r.addBezierCurve(s.x,s.y,l.x,l.y,u.x,u.y,c.x,c.y),null!=e&&e.bezierCurveTo(l.x,l.y,u.x,u.y,c.x,c.y)}break;case"Q":case"q":for(;!n.isCommandOrEnd();){var s=n.current,u=n.getAsControlPoint(),c=n.getAsCurrentPoint();n.addMarker(c,u,u),r.addQuadraticCurve(s.x,s.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y)}break;case"T":case"t":for(;!n.isCommandOrEnd();){var s=n.current,u=n.getReflectedControlPoint();n.control=u;var c=n.getAsCurrentPoint();n.addMarker(c,u,u),r.addQuadraticCurve(s.x,s.y,u.x,u.y,c.x,c.y),null!=e&&e.quadraticCurveTo(u.x,u.y,c.x,c.y)}break;case"A":case"a":for(;!n.isCommandOrEnd();){var s=n.current,h=n.getScalar(),f=n.getScalar(),d=n.getScalar()*(Math.PI/180),p=n.getScalar(),g=n.getScalar(),c=n.getAsCurrentPoint(),m=new t.Point(Math.cos(d)*(s.x-c.x)/2+Math.sin(d)*(s.y-c.y)/2,-Math.sin(d)*(s.x-c.x)/2+Math.cos(d)*(s.y-c.y)/2),v=Math.pow(m.x,2)/Math.pow(h,2)+Math.pow(m.y,2)/Math.pow(f,2);v>1&&(h*=Math.sqrt(v),f*=Math.sqrt(v));var y=(p==g?-1:1)*Math.sqrt((Math.pow(h,2)*Math.pow(f,2)-Math.pow(h,2)*Math.pow(m.y,2)-Math.pow(f,2)*Math.pow(m.x,2))/(Math.pow(h,2)*Math.pow(m.y,2)+Math.pow(f,2)*Math.pow(m.x,2)));isNaN(y)&&(y=0);var w=new t.Point(y*h*m.y/f,y*-f*m.x/h),b=new t.Point((s.x+c.x)/2+Math.cos(d)*w.x-Math.sin(d)*w.y,(s.y+c.y)/2+Math.sin(d)*w.x+Math.cos(d)*w.y),x=function(t){return Math.sqrt(Math.pow(t[0],2)+Math.pow(t[1],2))},C=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(x(t)*x(e))},T=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(C(t,e))},E=T([1,0],[(m.x-w.x)/h,(m.y-w.y)/f]),k=[(m.x-w.x)/h,(m.y-w.y)/f],S=[(-m.x-w.x)/h,(-m.y-w.y)/f],_=T(k,S);C(k,S)<=-1&&(_=Math.PI),C(k,S)>=1&&(_=0);var $=1-g?1:-1,A=E+$*(_/2),D=new t.Point(b.x+h*Math.cos(A),b.y+f*Math.sin(A));if(n.addMarkerAngle(D,A-$*Math.PI/2),n.addMarkerAngle(c,A-$*Math.PI),r.addPoint(c.x,c.y),null!=e){var C=h>f?h:f,M=h>f?1:h/f,R=h>f?f/h:1;e.translate(b.x,b.y),e.rotate(d),e.scale(M,R),e.arc(0,0,C,E,E+_,1-g),e.scale(1/M,1/R),e.rotate(-d),e.translate(-b.x,-b.y)}}break;case"Z":case"z":null!=e&&e.closePath(),n.current=n.start}return r},this.getMarkers=function(){for(var t=this.PathParser.getMarkerPoints(),e=this.PathParser.getMarkerAngles(),n=[],r=0;r<t.length;r++)n.push([t[r],e[r]]);return n}},t.Element.path.prototype=new t.Element.PathElementBase,t.Element.pattern=function(e){this.base=t.Element.ElementBase,this.base(e),this.createPattern=function(e){var n=this.attribute("width").toPixels("x",!0),r=this.attribute("height").toPixels("y",!0),i=new t.Element.svg;i.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),i.attributes.width=new t.Property("width",n+"px"),i.attributes.height=new t.Property("height",r+"px"),i.attributes.transform=new t.Property("transform",this.attribute("patternTransform").value),i.children=this.children;var o=document.createElement("canvas");o.width=n,o.height=r;var a=o.getContext("2d");this.attribute("x").hasValue()&&this.attribute("y").hasValue()&&a.translate(this.attribute("x").toPixels("x",!0),this.attribute("y").toPixels("y",!0));for(var s=-1;1>=s;s++)for(var l=-1;1>=l;l++)a.save(),a.translate(s*o.width,l*o.height),i.render(a),a.restore();var u=e.createPattern(o,"repeat");return u}},t.Element.pattern.prototype=new t.Element.ElementBase,t.Element.marker=function(e){this.base=t.Element.ElementBase,this.base(e),this.baseRender=this.render,this.render=function(e,n,r){e.translate(n.x,n.y),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(r),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(e.lineWidth,e.lineWidth),e.save();var i=new t.Element.svg;i.attributes.viewBox=new t.Property("viewBox",this.attribute("viewBox").value),i.attributes.refX=new t.Property("refX",this.attribute("refX").value),i.attributes.refY=new t.Property("refY",this.attribute("refY").value),i.attributes.width=new t.Property("width",this.attribute("markerWidth").value),i.attributes.height=new t.Property("height",this.attribute("markerHeight").value),i.attributes.fill=new t.Property("fill",this.attribute("fill").valueOrDefault("black")),i.attributes.stroke=new t.Property("stroke",this.attribute("stroke").valueOrDefault("none")),i.children=this.children,i.render(e),e.restore(),"strokeWidth"==this.attribute("markerUnits").valueOrDefault("strokeWidth")&&e.scale(1/e.lineWidth,1/e.lineWidth),"auto"==this.attribute("orient").valueOrDefault("auto")&&e.rotate(-r),e.translate(-n.x,-n.y)}},t.Element.marker.prototype=new t.Element.ElementBase,t.Element.defs=function(e){this.base=t.Element.ElementBase,this.base(e),this.render=function(){}},t.Element.defs.prototype=new t.Element.ElementBase,t.Element.GradientBase=function(e){this.base=t.Element.ElementBase,this.base(e),this.gradientUnits=this.attribute("gradientUnits").valueOrDefault("objectBoundingBox"),this.stops=[];for(var n=0;n<this.children.length;n++){var r=this.children[n];"stop"==r.type&&this.stops.push(r)}this.getGradient=function(){},this.createGradient=function(e,n,r){var i=this;this.getHrefAttribute().hasValue()&&(i=this.getHrefAttribute().getDefinition());var o=function(e){if(r.hasValue()){var n=new t.Property("color",e);return n.addOpacity(r.value).value}return e},a=this.getGradient(e,n);if(null==a)return o(i.stops[i.stops.length-1].color);for(var s=0;s<i.stops.length;s++)a.addColorStop(i.stops[s].offset,o(i.stops[s].color));if(this.attribute("gradientTransform").hasValue()){var l=t.ViewPort.viewPorts[0],u=new t.Element.rect;u.attributes.x=new t.Property("x",-t.MAX_VIRTUAL_PIXELS/3),u.attributes.y=new t.Property("y",-t.MAX_VIRTUAL_PIXELS/3),u.attributes.width=new t.Property("width",t.MAX_VIRTUAL_PIXELS),u.attributes.height=new t.Property("height",t.MAX_VIRTUAL_PIXELS);var c=new t.Element.g;c.attributes.transform=new t.Property("transform",this.attribute("gradientTransform").value),c.children=[u];

var h=new t.Element.svg;h.attributes.x=new t.Property("x",0),h.attributes.y=new t.Property("y",0),h.attributes.width=new t.Property("width",l.width),h.attributes.height=new t.Property("height",l.height),h.children=[c];var f=document.createElement("canvas");f.width=l.width,f.height=l.height;var d=f.getContext("2d");return d.fillStyle=a,h.render(d),d.createPattern(f,"no-repeat")}return a}},t.Element.GradientBase.prototype=new t.Element.ElementBase,t.Element.linearGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.getGradient=function(t,e){var n=e.getBoundingBox();this.attribute("x1").hasValue()||this.attribute("y1").hasValue()||this.attribute("x2").hasValue()||this.attribute("y2").hasValue()||(this.attribute("x1",!0).value=0,this.attribute("y1",!0).value=0,this.attribute("x2",!0).value=1,this.attribute("y2",!0).value=0);var r="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x1").numValue():this.attribute("x1").toPixels("x"),i="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y1").numValue():this.attribute("y1").toPixels("y"),o="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("x2").numValue():this.attribute("x2").toPixels("x"),a="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("y2").numValue():this.attribute("y2").toPixels("y");return r==o&&i==a?null:t.createLinearGradient(r,i,o,a)}},t.Element.linearGradient.prototype=new t.Element.GradientBase,t.Element.radialGradient=function(e){this.base=t.Element.GradientBase,this.base(e),this.getGradient=function(t,e){var n=e.getBoundingBox();this.attribute("cx").hasValue()||(this.attribute("cx",!0).value="50%"),this.attribute("cy").hasValue()||(this.attribute("cy",!0).value="50%"),this.attribute("r").hasValue()||(this.attribute("r",!0).value="50%");var r="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("cx").numValue():this.attribute("cx").toPixels("x"),i="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("cy").numValue():this.attribute("cy").toPixels("y"),o=r,a=i;this.attribute("fx").hasValue()&&(o="objectBoundingBox"==this.gradientUnits?n.x()+n.width()*this.attribute("fx").numValue():this.attribute("fx").toPixels("x")),this.attribute("fy").hasValue()&&(a="objectBoundingBox"==this.gradientUnits?n.y()+n.height()*this.attribute("fy").numValue():this.attribute("fy").toPixels("y"));var s="objectBoundingBox"==this.gradientUnits?(n.width()+n.height())/2*this.attribute("r").numValue():this.attribute("r").toPixels();return t.createRadialGradient(o,a,0,r,i,s)}},t.Element.radialGradient.prototype=new t.Element.GradientBase,t.Element.stop=function(e){this.base=t.Element.ElementBase,this.base(e),this.offset=this.attribute("offset").numValue(),this.offset<0&&(this.offset=0),this.offset>1&&(this.offset=1);var n=this.style("stop-color");this.style("stop-opacity").hasValue()&&(n=n.addOpacity(this.style("stop-opacity").value)),this.color=n.value},t.Element.stop.prototype=new t.Element.ElementBase,t.Element.AnimateBase=function(e){this.base=t.Element.ElementBase,this.base(e),t.Animations.push(this),this.duration=0,this.begin=this.attribute("begin").toMilliseconds(),this.maxDuration=this.begin+this.attribute("dur").toMilliseconds(),this.getProperty=function(){var t=this.attribute("attributeType").value,e=this.attribute("attributeName").value;return"CSS"==t?this.parent.style(e,!0):this.parent.attribute(e,!0)},this.initialValue=null,this.initialUnits="",this.removed=!1,this.calcValue=function(){return""},this.update=function(t){if(null==this.initialValue&&(this.initialValue=this.getProperty().value,this.initialUnits=this.getProperty().getUnits()),this.duration>this.maxDuration){if("indefinite"!=this.attribute("repeatCount").value&&"indefinite"!=this.attribute("repeatDur").value)return"remove"!=this.attribute("fill").valueOrDefault("remove")||this.removed?!1:(this.removed=!0,this.getProperty().value=this.initialValue,!0);this.duration=0}this.duration=this.duration+t;var e=!1;if(this.begin<this.duration){var n=this.calcValue();if(this.attribute("type").hasValue()){var r=this.attribute("type").value;n=r+"("+n+")"}this.getProperty().value=n,e=!0}return e},this.from=this.attribute("from"),this.to=this.attribute("to"),this.values=this.attribute("values"),this.values.hasValue()&&(this.values.value=this.values.value.split(";")),this.progress=function(){var e={progress:(this.duration-this.begin)/(this.maxDuration-this.begin)};if(this.values.hasValue()){var n=e.progress*(this.values.value.length-1),r=Math.floor(n),i=Math.ceil(n);e.from=new t.Property("from",parseFloat(this.values.value[r])),e.to=new t.Property("to",parseFloat(this.values.value[i])),e.progress=(n-r)/(i-r)}else e.from=this.from,e.to=this.to;return e}},t.Element.AnimateBase.prototype=new t.Element.ElementBase,t.Element.animate=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var t=this.progress(),e=t.from.numValue()+(t.to.numValue()-t.from.numValue())*t.progress;return e+this.initialUnits}},t.Element.animate.prototype=new t.Element.AnimateBase,t.Element.animateColor=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){var t=this.progress(),e=new RGBColor(t.from.value),n=new RGBColor(t.to.value);if(e.ok&&n.ok){var r=e.r+(n.r-e.r)*t.progress,i=e.g+(n.g-e.g)*t.progress,o=e.b+(n.b-e.b)*t.progress;return"rgb("+parseInt(r,10)+","+parseInt(i,10)+","+parseInt(o,10)+")"}return this.attribute("from").value}},t.Element.animateColor.prototype=new t.Element.AnimateBase,t.Element.animateTransform=function(e){this.base=t.Element.AnimateBase,this.base(e),this.calcValue=function(){for(var e=this.progress(),n=t.ToNumberArray(e.from.value),r=t.ToNumberArray(e.to.value),i="",o=0;o<n.length;o++)i+=n[o]+(r[o]-n[o])*e.progress+" ";return i}},t.Element.animateTransform.prototype=new t.Element.animate,t.Element.font=function(e){this.base=t.Element.ElementBase,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.isRTL=!1,this.isArabic=!1,this.fontFace=null,this.missingGlyph=null,this.glyphs=[];for(var n=0;n<this.children.length;n++){var r=this.children[n];"font-face"==r.type?(this.fontFace=r,r.style("font-family").hasValue()&&(t.Definitions[r.style("font-family").value]=this)):"missing-glyph"==r.type?this.missingGlyph=r:"glyph"==r.type&&(""!=r.arabicForm?(this.isRTL=!0,this.isArabic=!0,"undefined"==typeof this.glyphs[r.unicode]&&(this.glyphs[r.unicode]=[]),this.glyphs[r.unicode][r.arabicForm]=r):this.glyphs[r.unicode]=r)}},t.Element.font.prototype=new t.Element.ElementBase,t.Element.fontface=function(e){this.base=t.Element.ElementBase,this.base(e),this.ascent=this.attribute("ascent").value,this.descent=this.attribute("descent").value,this.unitsPerEm=this.attribute("units-per-em").numValue()},t.Element.fontface.prototype=new t.Element.ElementBase,t.Element.missingglyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=0},t.Element.missingglyph.prototype=new t.Element.path,t.Element.glyph=function(e){this.base=t.Element.path,this.base(e),this.horizAdvX=this.attribute("horiz-adv-x").numValue(),this.unicode=this.attribute("unicode").value,this.arabicForm=this.attribute("arabic-form").value},t.Element.glyph.prototype=new t.Element.path,t.Element.text=function(e){this.captureTextNodes=!0,this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.style("dominant-baseline").hasValue()&&(t.textBaseline=this.style("dominant-baseline").value),this.style("alignment-baseline").hasValue()&&(t.textBaseline=this.style("alignment-baseline").value)},this.getBoundingBox=function(){return new t.BoundingBox(this.attribute("x").toPixels("x"),this.attribute("y").toPixels("y"),0,0)},this.renderChildren=function(t){this.x=this.attribute("x").toPixels("x"),this.y=this.attribute("y").toPixels("y"),this.x+=this.getAnchorDelta(t,this,0);for(var e=0;e<this.children.length;e++)this.renderChild(t,this,e)},this.getAnchorDelta=function(t,e,n){var r=this.style("text-anchor").valueOrDefault("start");if("start"!=r){for(var i=0,o=n;o<e.children.length;o++){var a=e.children[o];if(o>n&&a.attribute("x").hasValue())break;i+=a.measureTextRecursive(t)}return-1*("end"==r?i:i/2)}return 0},this.renderChild=function(t,e,n){var r=e.children[n];r.attribute("x").hasValue()?r.x=r.attribute("x").toPixels("x")+this.getAnchorDelta(t,e,n):(this.attribute("dx").hasValue()&&(this.x+=this.attribute("dx").toPixels("x")),r.attribute("dx").hasValue()&&(this.x+=r.attribute("dx").toPixels("x")),r.x=this.x),this.x=r.x+r.measureText(t),r.attribute("y").hasValue()?r.y=r.attribute("y").toPixels("y"):(this.attribute("dy").hasValue()&&(this.y+=this.attribute("dy").toPixels("y")),r.attribute("dy").hasValue()&&(this.y+=r.attribute("dy").toPixels("y")),r.y=this.y),this.y=r.y,r.render(t);for(var n=0;n<r.children.length;n++)this.renderChild(t,r,n)}},t.Element.text.prototype=new t.Element.RenderedElementBase,t.Element.TextElementBase=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getGlyph=function(t,e,n){var r=e[n],i=null;if(t.isArabic){var o="isolated";(0==n||" "==e[n-1])&&n<e.length-2&&" "!=e[n+1]&&(o="terminal"),n>0&&" "!=e[n-1]&&n<e.length-2&&" "!=e[n+1]&&(o="medial"),n>0&&" "!=e[n-1]&&(n==e.length-1||" "==e[n+1])&&(o="initial"),"undefined"!=typeof t.glyphs[r]&&(i=t.glyphs[r][o],null==i&&"glyph"==t.glyphs[r].type&&(i=t.glyphs[r]))}else i=t.glyphs[r];return null==i&&(i=t.missingGlyph),i},this.renderChildren=function(e){var n=this.parent.style("font-family").getDefinition();if(null==n)""!=e.fillStyle&&e.fillText(t.compressSpaces(this.getText()),this.x,this.y),""!=e.strokeStyle&&e.strokeText(t.compressSpaces(this.getText()),this.x,this.y);else{var r=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),i=this.parent.style("font-style").valueOrDefault(t.Font.Parse(t.ctx.font).fontStyle),o=this.getText();n.isRTL&&(o=o.split("").reverse().join(""));for(var a=t.ToNumberArray(this.parent.attribute("dx").value),s=0;s<o.length;s++){var l=this.getGlyph(n,o,s),u=r/n.fontFace.unitsPerEm;e.translate(this.x,this.y),e.scale(u,-u);var c=e.lineWidth;e.lineWidth=e.lineWidth*n.fontFace.unitsPerEm/r,"italic"==i&&e.transform(1,0,.4,1,0,0),l.render(e),"italic"==i&&e.transform(1,0,-.4,1,0,0),e.lineWidth=c,e.scale(1/u,-1/u),e.translate(-this.x,-this.y),this.x+=r*(l.horizAdvX||n.horizAdvX)/n.fontFace.unitsPerEm,"undefined"==typeof a[s]||isNaN(a[s])||(this.x+=a[s])}}},this.getText=function(){},this.measureTextRecursive=function(t){for(var e=this.measureText(t),n=0;n<this.children.length;n++)e+=this.children[n].measureTextRecursive(t);return e},this.measureText=function(e){var n=this.parent.style("font-family").getDefinition();if(null!=n){var r=this.parent.style("font-size").numValueOrDefault(t.Font.Parse(t.ctx.font).fontSize),i=0,o=this.getText();n.isRTL&&(o=o.split("").reverse().join(""));for(var a=t.ToNumberArray(this.parent.attribute("dx").value),s=0;s<o.length;s++){var l=this.getGlyph(n,o,s);i+=(l.horizAdvX||n.horizAdvX)*r/n.fontFace.unitsPerEm,"undefined"==typeof a[s]||isNaN(a[s])||(i+=a[s])}return i}var u=t.compressSpaces(this.getText());if(!e.measureText)return 10*u.length;e.save(),this.setContext(e);var c=e.measureText(u).width;return e.restore(),c}},t.Element.TextElementBase.prototype=new t.Element.RenderedElementBase,t.Element.tspan=function(e){this.captureTextNodes=!0,this.base=t.Element.TextElementBase,this.base(e),this.text=e.nodeValue||e.text||"",this.getText=function(){return this.text}},t.Element.tspan.prototype=new t.Element.TextElementBase,t.Element.tref=function(e){this.base=t.Element.TextElementBase,this.base(e),this.getText=function(){var t=this.getHrefAttribute().getDefinition();return null!=t?t.children[0].getText():void 0}},t.Element.tref.prototype=new t.Element.TextElementBase,t.Element.a=function(e){this.base=t.Element.TextElementBase,this.base(e),this.hasText=!0;for(var n=0;n<e.childNodes.length;n++)3!=e.childNodes[n].nodeType&&(this.hasText=!1);this.text=this.hasText?e.childNodes[0].nodeValue:"",this.getText=function(){return this.text},this.baseRenderChildren=this.renderChildren,this.renderChildren=function(e){if(this.hasText){this.baseRenderChildren(e);var n=new t.Property("fontSize",t.Font.Parse(t.ctx.font).fontSize);t.Mouse.checkBoundingBox(this,new t.BoundingBox(this.x,this.y-n.toPixels("y"),this.x+this.measureText(e),this.y))}else{var r=new t.Element.g;r.children=this.children,r.parent=this,r.render(e)}},this.onclick=function(){window.open(this.getHrefAttribute().value)},this.onmousemove=function(){t.ctx.canvas.style.cursor="pointer"}},t.Element.a.prototype=new t.Element.TextElementBase,t.Element.image=function(e){this.base=t.Element.RenderedElementBase,this.base(e);var n=this.getHrefAttribute().value,r=n.match(/\.svg$/);if(t.Images.push(this),this.loaded=!1,r)this.img=t.ajax(n),this.loaded=!0;else{this.img=document.createElement("img");var i=this;this.img.onload=function(){i.loaded=!0},this.img.onerror=function(){"undefined"!=typeof console&&(console.log('ERROR: image "'+n+'" not found'),i.loaded=!0)},this.img.src=n}this.renderChildren=function(e){var n=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y");0!=o&&0!=a&&(e.save(),r?e.drawSvg(this.img,n,i,o,a):(e.translate(n,i),t.AspectRatio(e,this.attribute("preserveAspectRatio").value,o,this.img.width,a,this.img.height,0,0),e.drawImage(this.img,0,0)),e.restore())},this.getBoundingBox=function(){var e=this.attribute("x").toPixels("x"),n=this.attribute("y").toPixels("y"),r=this.attribute("width").toPixels("x"),i=this.attribute("height").toPixels("y");return new t.BoundingBox(e,n,e+r,n+i)}},t.Element.image.prototype=new t.Element.RenderedElementBase,t.Element.g=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.getBoundingBox=function(){for(var e=new t.BoundingBox,n=0;n<this.children.length;n++)e.addBoundingBox(this.children[n].getBoundingBox());return e}},t.Element.g.prototype=new t.Element.RenderedElementBase,t.Element.symbol=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(e){if(this.baseSetContext(e),this.attribute("viewBox").hasValue()){var n=t.ToNumberArray(this.attribute("viewBox").value),r=n[0],i=n[1];width=n[2],height=n[3],t.AspectRatio(e,this.attribute("preserveAspectRatio").value,this.attribute("width").toPixels("x"),width,this.attribute("height").toPixels("y"),height,r,i),t.ViewPort.SetCurrent(n[2],n[3])}}},t.Element.symbol.prototype=new t.Element.RenderedElementBase,t.Element.style=function(e){this.base=t.Element.ElementBase,this.base(e);for(var n="",r=0;r<e.childNodes.length;r++)n+=e.childNodes[r].nodeValue;n=n.replace(/(\/\*([^*]|[\r\n]|(\*+([^*\/]|[\r\n])))*\*+\/)|(^[\s]*\/\/.*)/gm,""),n=t.compressSpaces(n);for(var i=n.split("}"),r=0;r<i.length;r++)if(""!=t.trim(i[r]))for(var o=i[r].split("{"),a=o[0].split(","),s=o[1].split(";"),l=0;l<a.length;l++){var u=t.trim(a[l]);if(""!=u){for(var c={},h=0;h<s.length;h++){var f=s[h].indexOf(":"),d=s[h].substr(0,f),p=s[h].substr(f+1,s[h].length-f);null!=d&&null!=p&&(c[t.trim(d)]=new t.Property(t.trim(d),t.trim(p)))}if(t.Styles[u]=c,"@font-face"==u)for(var g=c["font-family"].value.replace(/"/g,""),m=c.src.value.split(","),v=0;v<m.length;v++)if(m[v].indexOf('format("svg")')>0)for(var y=m[v].indexOf("url"),w=m[v].indexOf(")",y),b=m[v].substr(y+5,w-y-6),x=t.parseXml(t.ajax(b)),C=x.getElementsByTagName("font"),T=0;T<C.length;T++){var E=t.CreateElement(C[T]);t.Definitions[g]=E}}}},t.Element.style.prototype=new t.Element.ElementBase,t.Element.use=function(e){this.base=t.Element.RenderedElementBase,this.base(e),this.baseSetContext=this.setContext,this.setContext=function(t){this.baseSetContext(t),this.attribute("x").hasValue()&&t.translate(this.attribute("x").toPixels("x"),0),this.attribute("y").hasValue()&&t.translate(0,this.attribute("y").toPixels("y"))},this.getDefinition=function(){var t=this.getHrefAttribute().getDefinition();return this.attribute("width").hasValue()&&(t.attribute("width",!0).value=this.attribute("width").value),this.attribute("height").hasValue()&&(t.attribute("height",!0).value=this.attribute("height").value),t},this.path=function(t){var e=this.getDefinition();null!=e&&e.path(t)},this.getBoundingBox=function(){var t=this.getDefinition();return null!=t?t.getBoundingBox():void 0},this.renderChildren=function(t){var e=this.getDefinition();if(null!=e){var n=e.parent;e.parent=null,e.render(t),e.parent=n}}},t.Element.use.prototype=new t.Element.RenderedElementBase,t.Element.mask=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e,n){var r=this.attribute("x").toPixels("x"),i=this.attribute("y").toPixels("y"),o=this.attribute("width").toPixels("x"),a=this.attribute("height").toPixels("y");if(0==o&&0==a){for(var s=new t.BoundingBox,l=0;l<this.children.length;l++)s.addBoundingBox(this.children[l].getBoundingBox());var r=Math.floor(s.x1),i=Math.floor(s.y1),o=Math.floor(s.width()),a=Math.floor(s.height())}var u=n.attribute("mask").value;n.attribute("mask").value="";var c=document.createElement("canvas");c.width=r+o,c.height=i+a;var h=c.getContext("2d");this.renderChildren(h);var f=document.createElement("canvas");f.width=r+o,f.height=i+a;var d=f.getContext("2d");n.render(d),d.globalCompositeOperation="destination-in",d.fillStyle=h.createPattern(c,"no-repeat"),d.fillRect(0,0,r+o,i+a),e.fillStyle=d.createPattern(f,"no-repeat"),e.fillRect(0,0,r+o,i+a),n.attribute("mask").value=u},this.render=function(){}},t.Element.mask.prototype=new t.Element.ElementBase,t.Element.clipPath=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(e){for(var n=0;n<this.children.length;n++){var r=this.children[n];if("undefined"!=typeof r.path){var i=null;r.attribute("transform").hasValue()&&(i=new t.Transform(r.attribute("transform").value),i.apply(e)),r.path(e),e.clip(),i&&i.unapply(e)}}},this.render=function(){}},t.Element.clipPath.prototype=new t.Element.ElementBase,t.Element.filter=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e){var n=e.getBoundingBox(),r=Math.floor(n.x1),i=Math.floor(n.y1),o=Math.floor(n.width()),a=Math.floor(n.height()),s=e.style("filter").value;e.style("filter").value="";for(var l=0,u=0,c=0;c<this.children.length;c++){var h=this.children[c].extraFilterDistance||0;l=Math.max(l,h),u=Math.max(u,h)}var f=document.createElement("canvas");f.width=o+2*l,f.height=a+2*u;var d=f.getContext("2d");d.translate(-r+l,-i+u),e.render(d);for(var c=0;c<this.children.length;c++)this.children[c].apply(d,0,0,o+2*l,a+2*u);t.drawImage(f,0,0,o+2*l,a+2*u,r-l,i-u,o+2*l,a+2*u),e.style("filter",!0).value=s},this.render=function(){}},t.Element.filter.prototype=new t.Element.ElementBase,t.Element.feMorphology=function(e){this.base=t.Element.ElementBase,this.base(e),this.apply=function(){}},t.Element.feMorphology.prototype=new t.Element.ElementBase,t.Element.feColorMatrix=function(e){function n(t,e,n,r,i,o){return t[n*r*4+4*e+o]}function r(t,e,n,r,i,o,a){t[n*r*4+4*e+o]=a}this.base=t.Element.ElementBase,this.base(e),this.apply=function(t,e,i,o,a){for(var s=t.getImageData(0,0,o,a),i=0;a>i;i++)for(var e=0;o>e;e++){var l=n(s.data,e,i,o,a,0),u=n(s.data,e,i,o,a,1),c=n(s.data,e,i,o,a,2),h=(l+u+c)/3;r(s.data,e,i,o,a,0,h),r(s.data,e,i,o,a,1,h),r(s.data,e,i,o,a,2,h)}t.clearRect(0,0,o,a),t.putImageData(s,0,0)}},t.Element.feColorMatrix.prototype=new t.Element.ElementBase,t.Element.feGaussianBlur=function(e){this.base=t.Element.ElementBase,this.base(e),this.blurRadius=Math.floor(this.attribute("stdDeviation").numValue()),this.extraFilterDistance=this.blurRadius,this.apply=function(e,n,r,i,o){return"undefined"==typeof stackBlurCanvasRGBA?void("undefined"!=typeof console&&console.log("ERROR: StackBlur.js must be included for blur to work")):(e.canvas.id=t.UniqueId(),e.canvas.style.display="none",document.body.appendChild(e.canvas),stackBlurCanvasRGBA(e.canvas.id,n,r,i,o,this.blurRadius),void document.body.removeChild(e.canvas))}},t.Element.feGaussianBlur.prototype=new t.Element.ElementBase,t.Element.title=function(){},t.Element.title.prototype=new t.Element.ElementBase,t.Element.desc=function(){},t.Element.desc.prototype=new t.Element.ElementBase,t.Element.MISSING=function(t){"undefined"!=typeof console&&console.log("ERROR: Element '"+t.nodeName+"' not yet implemented.")},t.Element.MISSING.prototype=new t.Element.ElementBase,t.CreateElement=function(e){var n=e.nodeName.replace(/^[^:]+:/,"");n=n.replace(/\-/g,"");var r=null;return r="undefined"!=typeof t.Element[n]?new t.Element[n](e):new t.Element.MISSING(e),r.type=e.nodeName,r},t.load=function(e,n){t.loadXml(e,t.ajax(n))},t.loadXml=function(e,n){t.loadXmlDoc(e,t.parseXml(n))},t.loadXmlDoc=function(e,n){t.init(e);var r=function(t){for(var n=e.canvas;n;)t.x-=n.offsetLeft,t.y-=n.offsetTop,n=n.offsetParent;return window.scrollX&&(t.x+=window.scrollX),window.scrollY&&(t.y+=window.scrollY),t};1!=t.opts.ignoreMouse&&(e.canvas.onclick=function(e){var n=r(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onclick(n.x,n.y)},e.canvas.onmousemove=function(e){var n=r(new t.Point(null!=e?e.clientX:event.clientX,null!=e?e.clientY:event.clientY));t.Mouse.onmousemove(n.x,n.y)});var i=t.CreateElement(n.documentElement);i.root=!0;var o=!0,a=function(){t.ViewPort.Clear(),e.canvas.parentNode&&t.ViewPort.SetCurrent(e.canvas.parentNode.clientWidth,e.canvas.parentNode.clientHeight),1!=t.opts.ignoreDimensions&&(i.style("width").hasValue()&&(e.canvas.width=i.style("width").toPixels("x"),e.canvas.style.width=e.canvas.width+"px"),i.style("height").hasValue()&&(e.canvas.height=i.style("height").toPixels("y"),e.canvas.style.height=e.canvas.height+"px"));var r=e.canvas.clientWidth||e.canvas.width,a=e.canvas.clientHeight||e.canvas.height;if(1==t.opts.ignoreDimensions&&i.style("width").hasValue()&&i.style("height").hasValue()&&(r=i.style("width").toPixels("x"),a=i.style("height").toPixels("y")),t.ViewPort.SetCurrent(r,a),null!=t.opts.offsetX&&(i.attribute("x",!0).value=t.opts.offsetX),null!=t.opts.offsetY&&(i.attribute("y",!0).value=t.opts.offsetY),null!=t.opts.scaleWidth&&null!=t.opts.scaleHeight){var s=1,l=1,u=t.ToNumberArray(i.attribute("viewBox").value);i.attribute("width").hasValue()?s=i.attribute("width").toPixels("x")/t.opts.scaleWidth:isNaN(u[2])||(s=u[2]/t.opts.scaleWidth),i.attribute("height").hasValue()?l=i.attribute("height").toPixels("y")/t.opts.scaleHeight:isNaN(u[3])||(l=u[3]/t.opts.scaleHeight),i.attribute("width",!0).value=t.opts.scaleWidth,i.attribute("height",!0).value=t.opts.scaleHeight,i.attribute("viewBox",!0).value="0 0 "+r*s+" "+a*l,i.attribute("preserveAspectRatio",!0).value="none"}1!=t.opts.ignoreClear&&e.clearRect(0,0,r,a),i.render(e),o&&(o=!1,"function"==typeof t.opts.renderCallback&&t.opts.renderCallback(n))},s=!0;t.ImagesLoaded()&&(s=!1,a()),t.intervalID=setInterval(function(){var e=!1;if(s&&t.ImagesLoaded()&&(s=!1,e=!0),1!=t.opts.ignoreMouse&&(e|=t.Mouse.hasEvents()),1!=t.opts.ignoreAnimation)for(var n=0;n<t.Animations.length;n++)e|=t.Animations[n].update(1e3/t.FRAMERATE);"function"==typeof t.opts.forceRedraw&&1==t.opts.forceRedraw()&&(e=!0),e&&(a(),t.Mouse.runEvents())},1e3/t.FRAMERATE)},t.stop=function(){t.intervalID&&clearInterval(t.intervalID)},t.Mouse=new function(){this.events=[],this.hasEvents=function(){return 0!=this.events.length},this.onclick=function(t,e){this.events.push({type:"onclick",x:t,y:e,run:function(t){t.onclick&&t.onclick()}})},this.onmousemove=function(t,e){this.events.push({type:"onmousemove",x:t,y:e,run:function(t){t.onmousemove&&t.onmousemove()}})},this.eventElements=[],this.checkPath=function(t,e){for(var n=0;n<this.events.length;n++){var r=this.events[n];e.isPointInPath&&e.isPointInPath(r.x,r.y)&&(this.eventElements[n]=t)}},this.checkBoundingBox=function(t,e){for(var n=0;n<this.events.length;n++){var r=this.events[n];e.isPointInBox(r.x,r.y)&&(this.eventElements[n]=t)}},this.runEvents=function(){t.ctx.canvas.style.cursor="";for(var e=0;e<this.events.length;e++)for(var n=this.events[e],r=this.eventElements[e];r;)n.run(r),r=r.parent;this.events=[],this.eventElements=[]}},t}this.canvg=function(e,n,r){if(null!=e||null!=n||null!=r){r=r||{},"string"==typeof e&&(e=document.getElementById(e)),null!=e.svg&&e.svg.stop();var i=t();(1!=e.childNodes.length||"OBJECT"!=e.childNodes[0].nodeName)&&(e.svg=i),i.opts=r;var o=e.getContext("2d");"undefined"!=typeof n.documentElement?i.loadXmlDoc(o,n):"<"==n.substr(0,1)?i.loadXml(o,n):i.load(o,n)}else for(var a=document.getElementsByTagName("svg"),s=0;s<a.length;s++){var l=a[s],u=document.createElement("canvas");u.width=l.clientWidth,u.height=l.clientHeight,l.parentNode.insertBefore(u,l),l.parentNode.removeChild(l);var c=document.createElement("div");c.appendChild(l),canvg(u,c.innerHTML)}}}(),"undefined"!=typeof CanvasRenderingContext2D&&(CanvasRenderingContext2D.prototype.drawSvg=function(t,e,n,r,i){canvg(this.canvas,t,{ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0,ignoreClear:!0,offsetX:e,offsetY:n,scaleWidth:r,scaleHeight:i})}),/*
 * jQuery MiniColors: A tiny color picker built on jQuery
 *
 * Copyright Cory LaViska for A Beautiful Site, LLC. (http://www.abeautifulsite.net/)
 *
 * Licensed under the MIT license: http://opensource.org/licenses/MIT
 *
 */
jQuery&&function(t){function e(e,n){var r=t('<div class="minicolors" />'),i=t.minicolors.defaults;e.data("minicolors-initialized")||(n=t.extend(!0,{},i,n),r.addClass("minicolors-theme-"+n.theme).toggleClass("minicolors-with-opacity",n.opacity).toggleClass("minicolors-no-data-uris",n.dataUris!==!0),void 0!==n.position&&t.each(n.position.split(" "),function(){r.addClass("minicolors-position-"+this)}),e.addClass("minicolors-input").data("minicolors-initialized",!1).data("minicolors-settings",n).prop("size",7).wrap(r).after('<div class="minicolors-panel minicolors-slider-'+n.control+'"><div class="minicolors-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-opacity-slider minicolors-sprite"><div class="minicolors-picker"></div></div><div class="minicolors-grid minicolors-sprite"><div class="minicolors-grid-inner"></div><div class="minicolors-picker"><div></div></div></div></div>'),n.inline||(e.after('<span class="minicolors-swatch minicolors-sprite"><span class="minicolors-swatch-color"></span></span>'),e.next(".minicolors-swatch").on("click",function(t){t.preventDefault(),e.focus()})),e.parent().find(".minicolors-panel").on("selectstart",function(){return!1}).end(),n.inline&&e.parent().addClass("minicolors-inline"),s(e,!1),e.data("minicolors-initialized",!0))}function n(t){var e=t.parent();t.removeData("minicolors-initialized").removeData("minicolors-settings").removeProp("size").removeClass("minicolors-input"),e.before(t).remove()}function r(t){var e=t.parent(),n=e.find(".minicolors-panel"),r=t.data("minicolors-settings");!t.data("minicolors-initialized")||t.prop("disabled")||e.hasClass("minicolors-inline")||e.hasClass("minicolors-focus")||(i(),e.addClass("minicolors-focus"),n.stop(!0,!0).fadeIn(r.showSpeed,function(){r.show&&r.show.call(t.get(0))}))}function i(){t(".minicolors-focus").each(function(){var e=t(this),n=e.find(".minicolors-input"),r=e.find(".minicolors-panel"),i=n.data("minicolors-settings");r.fadeOut(i.hideSpeed,function(){i.hide&&i.hide.call(n.get(0)),e.removeClass("minicolors-focus")})})}function o(t,e,n){var r,i,o,s,l=t.parents(".minicolors").find(".minicolors-input"),u=l.data("minicolors-settings"),c=t.find("[class$=-picker]"),h=t.offset().left,f=t.offset().top,d=Math.round(e.pageX-h),p=Math.round(e.pageY-f),g=n?u.animationSpeed:0;e.originalEvent.changedTouches&&(d=e.originalEvent.changedTouches[0].pageX-h,p=e.originalEvent.changedTouches[0].pageY-f),0>d&&(d=0),0>p&&(p=0),d>t.width()&&(d=t.width()),p>t.height()&&(p=t.height()),t.parent().is(".minicolors-slider-wheel")&&c.parent().is(".minicolors-grid")&&(r=75-d,i=75-p,o=Math.sqrt(r*r+i*i),s=Math.atan2(i,r),0>s&&(s+=2*Math.PI),o>75&&(o=75,d=75-75*Math.cos(s),p=75-75*Math.sin(s)),d=Math.round(d),p=Math.round(p)),t.is(".minicolors-grid")?c.stop(!0).animate({top:p+"px",left:d+"px"},g,u.animationEasing,function(){a(l,t)}):c.stop(!0).animate({top:p+"px"},g,u.animationEasing,function(){a(l,t)})}function a(t,e){function n(t,e){var n,r;return t.length&&e?(n=t.offset().left,r=t.offset().top,{x:n-e.offset().left+t.outerWidth()/2,y:r-e.offset().top+t.outerHeight()/2}):null}var r,i,o,a,s,u,c,f=t.val(),p=t.attr("data-opacity"),g=t.parent(),v=t.data("minicolors-settings"),y=g.find(".minicolors-swatch"),w=g.find(".minicolors-grid"),b=g.find(".minicolors-slider"),x=g.find(".minicolors-opacity-slider"),C=w.find("[class$=-picker]"),T=b.find("[class$=-picker]"),E=x.find("[class$=-picker]"),k=n(C,w),S=n(T,b),_=n(E,x);if(e.is(".minicolors-grid, .minicolors-slider")){switch(v.control){case"wheel":a=w.width()/2-k.x,s=w.height()/2-k.y,u=Math.sqrt(a*a+s*s),c=Math.atan2(s,a),0>c&&(c+=2*Math.PI),u>75&&(u=75,k.x=69-75*Math.cos(c),k.y=69-75*Math.sin(c)),i=d(u/.75,0,100),r=d(180*c/Math.PI,0,360),o=d(100-Math.floor(S.y*(100/b.height())),0,100),f=m({h:r,s:i,b:o}),b.css("backgroundColor",m({h:r,s:i,b:100}));break;case"saturation":r=d(parseInt(k.x*(360/w.width()),10),0,360),i=d(100-Math.floor(S.y*(100/b.height())),0,100),o=d(100-Math.floor(k.y*(100/w.height())),0,100),f=m({h:r,s:i,b:o}),b.css("backgroundColor",m({h:r,s:100,b:o})),g.find(".minicolors-grid-inner").css("opacity",i/100);break;case"brightness":r=d(parseInt(k.x*(360/w.width()),10),0,360),i=d(100-Math.floor(k.y*(100/w.height())),0,100),o=d(100-Math.floor(S.y*(100/b.height())),0,100),f=m({h:r,s:i,b:o}),b.css("backgroundColor",m({h:r,s:i,b:100})),g.find(".minicolors-grid-inner").css("opacity",1-o/100);break;default:r=d(360-parseInt(S.y*(360/b.height()),10),0,360),i=d(Math.floor(k.x*(100/w.width())),0,100),o=d(100-Math.floor(k.y*(100/w.height())),0,100),f=m({h:r,s:i,b:o}),w.css("backgroundColor",m({h:r,s:100,b:100}))}t.val(h(f,v.letterCase))}e.is(".minicolors-opacity-slider")&&(p=v.opacity?parseFloat(1-_.y/x.height()).toFixed(2):1,v.opacity&&t.attr("data-opacity",p)),y.find("SPAN").css({backgroundColor:f,opacity:p}),l(t,f,p)}function s(t,e){var n,r,i,o,a,s,u,c=t.parent(),p=t.data("minicolors-settings"),g=c.find(".minicolors-swatch"),y=c.find(".minicolors-grid"),w=c.find(".minicolors-slider"),b=c.find(".minicolors-opacity-slider"),x=y.find("[class$=-picker]"),C=w.find("[class$=-picker]"),T=b.find("[class$=-picker]");switch(n=h(f(t.val(),!0),p.letterCase),n||(n=h(f(p.defaultValue,!0),p.letterCase)),r=v(n),e||t.val(n),p.opacity&&(i=""===t.attr("data-opacity")?1:d(parseFloat(t.attr("data-opacity")).toFixed(2),0,1),isNaN(i)&&(i=1),t.attr("data-opacity",i),g.find("SPAN").css("opacity",i),a=d(b.height()-b.height()*i,0,b.height()),T.css("top",a+"px")),g.find("SPAN").css("backgroundColor",n),p.control){case"wheel":s=d(Math.ceil(.75*r.s),0,y.height()/2),u=r.h*Math.PI/180,o=d(75-Math.cos(u)*s,0,y.width()),a=d(75-Math.sin(u)*s,0,y.height()),x.css({top:a+"px",left:o+"px"}),a=150-r.b/(100/y.height()),""===n&&(a=0),C.css("top",a+"px"),w.css("backgroundColor",m({h:r.h,s:r.s,b:100}));break;case"saturation":o=d(5*r.h/12,0,150),a=d(y.height()-Math.ceil(r.b/(100/y.height())),0,y.height()),x.css({top:a+"px",left:o+"px"}),a=d(w.height()-r.s*(w.height()/100),0,w.height()),C.css("top",a+"px"),w.css("backgroundColor",m({h:r.h,s:100,b:r.b})),c.find(".minicolors-grid-inner").css("opacity",r.s/100);break;case"brightness":o=d(5*r.h/12,0,150),a=d(y.height()-Math.ceil(r.s/(100/y.height())),0,y.height()),x.css({top:a+"px",left:o+"px"}),a=d(w.height()-r.b*(w.height()/100),0,w.height()),C.css("top",a+"px"),w.css("backgroundColor",m({h:r.h,s:r.s,b:100})),c.find(".minicolors-grid-inner").css("opacity",1-r.b/100);break;default:o=d(Math.ceil(r.s/(100/y.width())),0,y.width()),a=d(y.height()-Math.ceil(r.b/(100/y.height())),0,y.height()),x.css({top:a+"px",left:o+"px"}),a=d(w.height()-r.h/(360/w.height()),0,w.height()),C.css("top",a+"px"),y.css("backgroundColor",m({h:r.h,s:100,b:100}))}t.data("minicolors-initialized")&&l(t,n,i)}function l(t,e,n){var r=t.data("minicolors-settings"),i=t.data("minicolors-lastChange");i&&i.hex===e&&i.opacity===n||(t.data("minicolors-lastChange",{hex:e,opacity:n}),r.change&&(r.changeDelay?(clearTimeout(t.data("minicolors-changeTimeout")),t.data("minicolors-changeTimeout",setTimeout(function(){r.change.call(t.get(0),e,n)},r.changeDelay))):r.change.call(t.get(0),e,n)),t.trigger("change").trigger("input"))}function u(e){var n=f(t(e).val(),!0),r=w(n),i=t(e).attr("data-opacity");return r?(void 0!==i&&t.extend(r,{a:parseFloat(i)}),r):null}function c(e,n){var r=f(t(e).val(),!0),i=w(r),o=t(e).attr("data-opacity");return i?(void 0===o&&(o=1),n?"rgba("+i.r+", "+i.g+", "+i.b+", "+parseFloat(o)+")":"rgb("+i.r+", "+i.g+", "+i.b+")"):null}function h(t,e){return"uppercase"===e?t.toUpperCase():t.toLowerCase()}function f(t,e){return t=t.replace(/[^A-F0-9]/gi,""),3!==t.length&&6!==t.length?"":(3===t.length&&e&&(t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2]),"#"+t)}function d(t,e,n){return e>t&&(t=e),t>n&&(t=n),t}function p(t){var e={},n=Math.round(t.h),r=Math.round(255*t.s/100),i=Math.round(255*t.b/100);if(0===r)e.r=e.g=e.b=i;else{var o=i,a=(255-r)*i/255,s=(o-a)*(n%60)/60;360===n&&(n=0),60>n?(e.r=o,e.b=a,e.g=a+s):120>n?(e.g=o,e.b=a,e.r=o-s):180>n?(e.g=o,e.r=a,e.b=a+s):240>n?(e.b=o,e.r=a,e.g=o-s):300>n?(e.b=o,e.g=a,e.r=a+s):360>n?(e.r=o,e.g=a,e.b=o-s):(e.r=0,e.g=0,e.b=0)}return{r:Math.round(e.r),g:Math.round(e.g),b:Math.round(e.b)}}function g(e){var n=[e.r.toString(16),e.g.toString(16),e.b.toString(16)];return t.each(n,function(t,e){1===e.length&&(n[t]="0"+e)}),"#"+n.join("")}function m(t){return g(p(t))}function v(t){var e=y(w(t));return 0===e.s&&(e.h=360),e}function y(t){var e={h:0,s:0,b:0},n=Math.min(t.r,t.g,t.b),r=Math.max(t.r,t.g,t.b),i=r-n;return e.b=r,e.s=0!==r?255*i/r:0,e.h=0!==e.s?t.r===r?(t.g-t.b)/i:t.g===r?2+(t.b-t.r)/i:4+(t.r-t.g)/i:-1,e.h*=60,e.h<0&&(e.h+=360),e.s*=100/255,e.b*=100/255,e}function w(t){return t=parseInt(t.indexOf("#")>-1?t.substring(1):t,16),{r:t>>16,g:(65280&t)>>8,b:255&t}}t.minicolors={defaults:{animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",dataUris:!0,defaultValue:"",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,position:"bottom left",show:null,showSpeed:100,theme:"default"}},t.extend(t.fn,{minicolors:function(o,a){switch(o){case"destroy":return t(this).each(function(){n(t(this))}),t(this);case"hide":return i(),t(this);case"opacity":return void 0===a?t(this).attr("data-opacity"):(t(this).each(function(){s(t(this).attr("data-opacity",a))}),t(this));case"rgbObject":return u(t(this),"rgbaObject"===o);case"rgbString":case"rgbaString":return c(t(this),"rgbaString"===o);case"settings":return void 0===a?t(this).data("minicolors-settings"):(t(this).each(function(){var e=t(this).data("minicolors-settings")||{};n(t(this)),t(this).minicolors(t.extend(!0,e,a))}),t(this));case"show":return r(t(this).eq(0)),t(this);case"value":return void 0===a?t(this).val():(t(this).each(function(){s(t(this).val(a))}),t(this));default:return"create"!==o&&(a=o),t(this).each(function(){e(t(this),a)}),t(this)}}}),t(document).on("mousedown.minicolors touchstart.minicolors",function(e){t(e.target).parents().add(e.target).hasClass("minicolors")||i()}).on("mousedown.minicolors touchstart.minicolors",".minicolors-grid, .minicolors-slider, .minicolors-opacity-slider",function(e){var n=t(this);e.preventDefault(),t(document).data("minicolors-target",n),o(n,e,!0)}).on("mousemove.minicolors touchmove.minicolors",function(e){var n=t(document).data("minicolors-target");n&&o(n,e)}).on("mouseup.minicolors touchend.minicolors",function(){t(this).removeData("minicolors-target")}).on("mousedown.minicolors touchstart.minicolors",".minicolors-swatch",function(e){var n=t(this).parent().find(".minicolors-input");e.preventDefault(),r(n)}).on("focus.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&r(e)}).on("blur.minicolors",".minicolors-input",function(){var e=t(this),n=e.data("minicolors-settings");e.data("minicolors-initialized")&&(e.val(f(e.val(),!0)),""===e.val()&&e.val(f(n.defaultValue,!0)),e.val(h(e.val(),n.letterCase)))}).on("keydown.minicolors",".minicolors-input",function(e){var n=t(this);if(n.data("minicolors-initialized"))switch(e.keyCode){case 9:i();break;case 13:case 27:i(),n.blur()}}).on("keyup.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&s(e,!0)}).on("paste.minicolors",".minicolors-input",function(){var e=t(this);e.data("minicolors-initialized")&&setTimeout(function(){s(e,!0)},1)})}(jQuery),angular.module("minicolors",[]),angular.module("minicolors").provider("minicolors",function(){this.defaults={theme:"bootstrap",position:"top left",defaultValue:"",animationSpeed:50,animationEasing:"swing",change:null,changeDelay:0,control:"hue",hide:null,hideSpeed:100,inline:!1,letterCase:"lowercase",opacity:!1,show:null,showSpeed:100},this.$get=function(){return this}}),angular.module("minicolors").directive("minicolors",["minicolors","$timeout",function(t,e){return{require:"?ngModel",restrict:"A",priority:1,link:function(n,r,i,o){var a=!1,s=function(){var e=angular.extend({},t.defaults,n.$eval(i.minicolors));return e};o.$render=function(){e(function(){var t=o.$viewValue;r.minicolors("value",t)},0,!1)};var l=function(){if(o){var t=s();return t.change=function(t){n.$apply(function(){o.$setViewValue(t)})},r.minicolors("destroy"),r.minicolors(t),a?void 0:(e(function(){var t=o.$viewValue;r.minicolors("value",t)},0),void(a=!0))}};l(),n.$watch(s,l,!0)}}}]),function(exports){exports.stringify=function(t){return JSON.stringify(t,function(t,e){return e instanceof Function||"function"==typeof e?e.toString():e instanceof RegExp?"_PxEgEr_"+e:e})},exports.parse=function(str,date2obj){var iso8061=date2obj?/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2}(?:\.\d*)?)Z$/:!1;return JSON.parse(str,function(key,value){var prefix;return"string"!=typeof value?value:value.length<8?value:(prefix=value.substring(0,8),iso8061&&value.match(iso8061)?new Date(value):"function"===prefix?eval("("+value+")"):"_PxEgEr_"===prefix?eval(value.slice(8)):value)})},exports.clone=function(t,e){return exports.parse(exports.stringify(t),e)}}("undefined"==typeof exports?window.JSONfn={}:exports);/** @preserve
 * jsPDF - PDF Document creation from JavaScript
 * Version 1.0.272-git Built on 2014-09-29T15:09
 *                           CommitID d4770725ca
 *
 * Copyright (c) 2010-2014 James Hall, https://github.com/MrRio/jsPDF
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, willow-systems.com
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth,
 */
var jsPDF=function(t){"use strict";function e(e){var n={};this.subscribe=function(t,e,r){if("function"!=typeof e)return!1;n.hasOwnProperty(t)||(n[t]={});var i=Math.random().toString(35);return n[t][i]=[e,!!r],i},this.unsubscribe=function(t){for(var e in n)if(n[e][t])return delete n[e][t],!0;return!1},this.publish=function(r){if(n.hasOwnProperty(r)){var i=Array.prototype.slice.call(arguments,1),o=[];for(var a in n[r]){var s=n[r][a];try{s[0].apply(e,i)}catch(l){t.console&&console.error("jsPDF PubSub Error",l.message,l)}s[1]&&o.push(a)}o.length&&o.forEach(this.unsubscribe)}}}function n(o,a,s,l){var u={};"object"==typeof o&&(u=o,o=u.orientation,a=u.unit||a,s=u.format||s,l=u.compress||u.compressPdf||l),a=a||"mm",s=s||"a4",o=(""+(o||"P")).toLowerCase();var c,h,f,d,p,g,m,v,y,w=((""+s).toLowerCase(),!!l&&"function"==typeof Uint8Array),b=u.textColor||"0 g",x=u.drawColor||"0 G",C=u.fontSize||16,T=u.lineHeight||1.15,E=u.lineWidth||.200025,k=2,S=!1,_=[],$={},A={},D=0,M=[],R={},P=[],O=0,L=0,I=0,N={title:"",subject:"",author:"",keywords:"",creator:""},B={},H=new e(B),F=function(t){return t.toFixed(2)},V=function(t){return t.toFixed(3)},q=function(t){return("0"+parseInt(t)).slice(-2)},j=function(t){S?M[d].push(t):(I+=t.length+1,P.push(t))},z=function(){return k++,_[k]=I,j(k+" 0 obj"),k},W=function(t){j("stream"),j(t),j("endstream")},U=function(){var e,r,i,o,a,s,l,u,c;for(l=t.adler32cs||n.adler32cs,w&&"undefined"==typeof l&&(w=!1),e=1;D>=e;e++){if(z(),u=(p=R[e].width)*h,c=(g=R[e].height)*h,j("<</Type /Page"),j("/Parent 1 0 R"),j("/Resources 2 0 R"),j("/MediaBox [0 0 "+F(u)+" "+F(c)+"]"),j("/Contents "+(k+1)+" 0 R>>"),j("endobj"),r=M[e].join("\n"),z(),w){for(i=[],o=r.length;o--;)i[o]=r.charCodeAt(o);s=l.from(r),a=new Deflater(6),a.append(new Uint8Array(i)),r=a.flush(),i=new Uint8Array(r.length+6),i.set(new Uint8Array([120,156])),i.set(r,2),i.set(new Uint8Array([255&s,s>>8&255,s>>16&255,s>>24&255]),r.length+2),r=String.fromCharCode.apply(null,i),j("<</Length "+r.length+" /Filter [/FlateDecode]>>")}else j("<</Length "+r.length+">>");W(r),j("endobj")}_[1]=I,j("1 0 obj"),j("<</Type /Pages");var f="/Kids [";for(o=0;D>o;o++)f+=3+2*o+" 0 R ";j(f+"]"),j("/Count "+D),j(">>"),j("endobj")},Y=function(t){t.objectNumber=z(),j("<</BaseFont/"+t.PostScriptName+"/Type/Font"),"string"==typeof t.encoding&&j("/Encoding/"+t.encoding),j("/Subtype/Type1>>"),j("endobj")},X=function(){for(var t in $)$.hasOwnProperty(t)&&Y($[t])},G=function(){H.publish("putXobjectDict")},K=function(){j("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),j("/Font <<");for(var t in $)$.hasOwnProperty(t)&&j("/"+t+" "+$[t].objectNumber+" 0 R");j(">>"),j("/XObject <<"),G(),j(">>")},Z=function(){X(),H.publish("putResources"),_[2]=I,j("2 0 obj"),j("<<"),K(),j(">>"),j("endobj"),H.publish("postPutResources")},J=function(t,e,n){A.hasOwnProperty(e)||(A[e]={}),A[e][n]=t},Q=function(t,e,n,r){var i="F"+(Object.keys($).length+1).toString(10),o=$[i]={id:i,PostScriptName:t,fontName:e,fontStyle:n,encoding:r,metadata:{}};return J(i,e,n),H.publish("addFont",o),i},tt=function(){for(var t="helvetica",e="times",n="courier",r="normal",i="bold",o="italic",a="bolditalic",s="StandardEncoding",l=[["Helvetica",t,r],["Helvetica-Bold",t,i],["Helvetica-Oblique",t,o],["Helvetica-BoldOblique",t,a],["Courier",n,r],["Courier-Bold",n,i],["Courier-Oblique",n,o],["Courier-BoldOblique",n,a],["Times-Roman",e,r],["Times-Bold",e,i],["Times-Italic",e,o],["Times-BoldItalic",e,a]],u=0,c=l.length;c>u;u++){var h=Q(l[u][0],l[u][1],l[u][2],s),f=l[u][0].split("-");J(h,f[0],f[1]||"")}H.publish("addFonts",{fonts:$,dictionary:A})},et=function(e){return e.foo=function(){try{return e.apply(this,arguments)}catch(n){var r=n.stack||"";~r.indexOf(" at ")&&(r=r.split(" at ")[1]);var i="Error in function "+r.split("\n")[0].split("<")[0]+": "+n.message;if(!t.console)throw new Error(i);t.console.error(i,n),t.alert&&alert(i)}},e.foo.bar=e,e.foo},nt=function(t,e){var n,r,i,o,a,s,l,u,h;if(e=e||{},i=e.sourceEncoding||"Unicode",a=e.outputEncoding,(e.autoencode||a)&&$[c].metadata&&$[c].metadata[i]&&$[c].metadata[i].encoding&&(o=$[c].metadata[i].encoding,!a&&$[c].encoding&&(a=$[c].encoding),!a&&o.codePages&&(a=o.codePages[0]),"string"==typeof a&&(a=o[a]),a)){for(l=!1,s=[],n=0,r=t.length;r>n;n++)u=a[t.charCodeAt(n)],s.push(u?String.fromCharCode(u):t[n]),s[n].charCodeAt(0)>>8&&(l=!0);t=s.join("")}for(n=t.length;void 0===l&&0!==n;)t.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return t;for(s=e.noBOM?[]:[254,255],n=0,r=t.length;r>n;n++){if(u=t.charCodeAt(n),h=u>>8,h>>8)throw new Error("Character at position "+n+" of string '"+t+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");s.push(h),s.push(u-(h<<8))}return String.fromCharCode.apply(void 0,s)},rt=function(t,e){return nt(t,e).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},it=function(){j("/Producer (jsPDF "+n.version+")");for(var t in N)N.hasOwnProperty(t)&&N[t]&&j("/"+t.substr(0,1).toUpperCase()+t.substr(1)+" ("+rt(N[t])+")");var e=new Date,r=e.getTimezoneOffset(),i=0>r?"+":"-",o=Math.floor(Math.abs(r/60)),a=Math.abs(r%60),s=[i,q(o),"'",q(a),"'"].join("");j(["/CreationDate (D:",e.getFullYear(),q(e.getMonth()+1),q(e.getDate()),q(e.getHours()),q(e.getMinutes()),q(e.getSeconds()),s,")"].join(""))},ot=function(){switch(j("/Type /Catalog"),j("/Pages 1 0 R"),v||(v="fullwidth"),v){case"fullwidth":j("/OpenAction [3 0 R /FitH null]");break;case"fullheight":j("/OpenAction [3 0 R /FitV null]");break;case"fullpage":j("/OpenAction [3 0 R /Fit]");break;case"original":j("/OpenAction [3 0 R /XYZ null null 1]");break;default:var t=""+v;"%"===t.substr(t.length-1)&&(v=parseInt(v)/100),"number"==typeof v&&j("/OpenAction [3 0 R /XYZ null null "+F(v)+"]")}switch(y||(y="continuous"),y){case"continuous":j("/PageLayout /OneColumn");break;case"single":j("/PageLayout /SinglePage");break;case"two":case"twoleft":j("/PageLayout /TwoColumnLeft");break;case"tworight":j("/PageLayout /TwoColumnRight")}m&&j("/PageMode /"+m),H.publish("putCatalog")},at=function(){j("/Size "+(k+1)),j("/Root "+k+" 0 R"),j("/Info "+(k-1)+" 0 R")},st=function(t,e){var n="string"==typeof e&&e.toLowerCase();if("string"==typeof t){var r=t.toLowerCase();i.hasOwnProperty(r)&&(t=i[r][0]/h,e=i[r][1]/h)}if(Array.isArray(t)&&(e=t[1],t=t[0]),n){switch(n.substr(0,1)){case"l":e>t&&(n="s");break;case"p":t>e&&(n="s")}"s"===n&&(f=t,t=e,e=f)}S=!0,M[++D]=[],R[D]={width:Number(t)||p,height:Number(e)||g},ut(D)},lt=function(){st.apply(this,arguments),j(F(E*h)+" w"),j(x),0!==O&&j(O+" J"),0!==L&&j(L+" j"),H.publish("addPage",{pageNumber:D})},ut=function(t){t>0&&D>=t&&(d=t,p=R[t].width,g=R[t].height)},ct=function(t,e){var n;t=void 0!==t?t:$[c].fontName,e=void 0!==e?e:$[c].fontStyle;try{n=A[t][e]}catch(r){}if(!n)throw new Error("Unable to look up font label for font '"+t+"', '"+e+"'. Refer to getFontList() for available fonts.");return n},ht=function(){S=!1,k=2,P=[],_=[],j("%PDF-"+r),U(),Z(),z(),j("<<"),it(),j(">>"),j("endobj"),z(),j("<<"),ot(),j(">>"),j("endobj");var t,e=I,n="0000000000";for(j("xref"),j("0 "+(k+1)),j(n+" 65535 f "),t=1;k>=t;t++)j((n+_[t]).slice(-10)+" 00000 n ");return j("trailer"),j("<<"),at(),j(">>"),j("startxref"),j(e),j("%%EOF"),S=!0,P.join("\n")},ft=function(t){var e="S";return"F"===t?e="f":"FD"===t||"DF"===t?e="B":("f"===t||"f*"===t||"B"===t||"B*"===t)&&(e=t),e},dt=function(){for(var t=ht(),e=t.length,n=new ArrayBuffer(e),r=new Uint8Array(n);e--;)r[e]=t.charCodeAt(e);return n},pt=function(){return new Blob([dt()],{type:"application/pdf"})},gt=et(function(e,n){var r="dataur"===(""+e).substr(0,6)?"data:application/pdf;base64,"+btoa(ht()):0;switch(e){case void 0:return ht();case"save":if(navigator.getUserMedia&&(void 0===t.URL||void 0===t.URL.createObjectURL))return B.output("dataurlnewwindow");saveAs(pt(),n),"function"==typeof saveAs.unload&&t.setTimeout&&setTimeout(saveAs.unload,911);break;case"arraybuffer":return dt();case"blob":return pt();case"bloburi":case"bloburl":return t.URL&&t.URL.createObjectURL(pt())||void 0;case"datauristring":case"dataurlstring":return r;case"dataurlnewwindow":var i=t.open(r);if(i||"undefined"==typeof safari)return i;case"datauri":case"dataurl":return t.document.location.href=r;default:throw new Error('Output type "'+e+'" is not supported.')}});switch(a){case"pt":h=1;break;case"mm":h=72/25.4;break;case"cm":h=72/2.54;break;case"in":h=72;break;case"px":h=96/72;break;case"pc":h=12;break;case"em":h=12;break;case"ex":h=6;break;default:throw"Invalid unit: "+a}B.internal={pdfEscape:rt,getStyle:ft,getFont:function(){return $[ct.apply(B,arguments)]},getFontSize:function(){return C},getLineHeight:function(){return C*T},write:function(t){j(1===arguments.length?t:Array.prototype.join.call(arguments," "))},getCoordinateString:function(t){return F(t*h)},getVerticalCoordinateString:function(t){return F((g-t)*h)},collections:{},newObject:z,putStream:W,events:H,scaleFactor:h,pageSize:{get width(){return p},get height(){return g}},output:function(t,e){return gt(t,e)},getNumberOfPages:function(){return M.length-1},pages:M},B.addPage=function(){return lt.apply(this,arguments),this},B.setPage=function(){return ut.apply(this,arguments),this},B.setDisplayMode=function(t,e,n){return v=t,y=e,m=n,this},B.text=function(t,e,n,r,i){function o(t){return t=t.split("	").join(Array(u.TabLen||9).join(" ")),rt(t,r)}"number"==typeof t&&(f=n,n=e,e=t,t=f),"string"==typeof t&&t.match(/[\n\r]/)&&(t=t.split(/\r\n|\r|\n/g)),"number"==typeof r&&(i=r,r=null);var a,s="",l="Td";if(i){i*=Math.PI/180;var d=Math.cos(i),p=Math.sin(i);s=[F(d),F(p),F(-1*p),F(d),""].join(" "),l="Tm"}if(r=r||{},"noBOM"in r||(r.noBOM=!0),"autoencode"in r||(r.autoencode=!0),"string"==typeof t)t=o(t);else{if(!(t instanceof Array))throw new Error('Type of text must be string or Array. "'+t+'" is not recognized.');for(var m=t.concat(),v=[],y=m.length;y--;)v.push(o(m.shift()));var w=Math.ceil((g-n)*h/(C*T));w>=0&&w<v.length+1&&(a=v.splice(w-1)),t=v.join(") Tj\nT* (")}return j("BT\n/"+c+" "+C+" Tf\n"+C*T+" TL\n"+b+"\n"+s+F(e*h)+" "+F((g-n)*h)+" "+l+"\n("+t+") Tj\nET"),a&&(this.addPage(),this.text(a,e,1.7*C/h)),this},B.lstext=function(t,e,n,r){for(var i=0,o=t.length;o>i;i++,e+=r)this.text(t[i],e,n)},B.line=function(t,e,n,r){return this.lines([[n-t,r-e]],t,e)},B.clip=function(){j("W"),j("S")},B.lines=function(t,e,n,r,i,o){var a,s,l,u,c,d,p,m,v,y,w;for("number"==typeof t&&(f=n,n=e,e=t,t=f),r=r||[1,1],j(V(e*h)+" "+V((g-n)*h)+" m "),a=r[0],s=r[1],u=t.length,y=e,w=n,l=0;u>l;l++)c=t[l],2===c.length?(y=c[0]*a+y,w=c[1]*s+w,j(V(y*h)+" "+V((g-w)*h)+" l")):(d=c[0]*a+y,p=c[1]*s+w,m=c[2]*a+y,v=c[3]*s+w,y=c[4]*a+y,w=c[5]*s+w,j(V(d*h)+" "+V((g-p)*h)+" "+V(m*h)+" "+V((g-v)*h)+" "+V(y*h)+" "+V((g-w)*h)+" c"));return o&&j(" h"),null!==i&&j(ft(i)),this},B.rect=function(t,e,n,r,i){ft(i);return j([F(t*h),F((g-e)*h),F(n*h),F(-r*h),"re"].join(" ")),null!==i&&j(ft(i)),this},B.triangle=function(t,e,n,r,i,o,a){return this.lines([[n-t,r-e],[i-n,o-r],[t-i,e-o]],t,e,[1,1],a,!0),this},B.roundedRect=function(t,e,n,r,i,o,a){var s=4/3*(Math.SQRT2-1);return this.lines([[n-2*i,0],[i*s,0,i,o-o*s,i,o],[0,r-2*o],[0,o*s,-(i*s),o,-i,o],[-n+2*i,0],[-(i*s),0,-i,-(o*s),-i,-o],[0,-r+2*o],[0,-(o*s),i*s,-o,i,-o]],t+i,e,[1,1],a),this},B.ellipse=function(t,e,n,r,i){var o=4/3*(Math.SQRT2-1)*n,a=4/3*(Math.SQRT2-1)*r;return j([F((t+n)*h),F((g-e)*h),"m",F((t+n)*h),F((g-(e-a))*h),F((t+o)*h),F((g-(e-r))*h),F(t*h),F((g-(e-r))*h),"c"].join(" ")),j([F((t-o)*h),F((g-(e-r))*h),F((t-n)*h),F((g-(e-a))*h),F((t-n)*h),F((g-e)*h),"c"].join(" ")),j([F((t-n)*h),F((g-(e+a))*h),F((t-o)*h),F((g-(e+r))*h),F(t*h),F((g-(e+r))*h),"c"].join(" ")),j([F((t+o)*h),F((g-(e+r))*h),F((t+n)*h),F((g-(e+a))*h),F((t+n)*h),F((g-e)*h),"c"].join(" ")),null!==i&&j(ft(i)),this},B.circle=function(t,e,n,r){return this.ellipse(t,e,n,n,r)},B.setProperties=function(t){for(var e in N)N.hasOwnProperty(e)&&t[e]&&(N[e]=t[e]);return this},B.setFontSize=function(t){return C=t,this},B.setFont=function(t,e){return c=ct(t,e),this},B.setFontStyle=B.setFontType=function(t){return c=ct(void 0,t),this},B.getFontList=function(){var t,e,n,r={};for(t in A)if(A.hasOwnProperty(t)){r[t]=n=[];for(e in A[t])A[t].hasOwnProperty(e)&&n.push(e)}return r},B.setLineWidth=function(t){return j((t*h).toFixed(2)+" w"),this},B.setDrawColor=function(t,e,n,r){var i;return i=void 0===e||void 0===r&&t===e===n?"string"==typeof t?t+" G":F(t/255)+" G":void 0===r?"string"==typeof t?[t,e,n,"RG"].join(" "):[F(t/255),F(e/255),F(n/255),"RG"].join(" "):"string"==typeof t?[t,e,n,r,"K"].join(" "):[F(t),F(e),F(n),F(r),"K"].join(" "),j(i),this},B.setFillColor=function(t,e,n,r){var i;return i=void 0===e||void 0===r&&t===e===n?"string"==typeof t?t+" g":F(t/255)+" g":void 0===r?"string"==typeof t?[t,e,n,"rg"].join(" "):[F(t/255),F(e/255),F(n/255),"rg"].join(" "):"string"==typeof t?[t,e,n,r,"k"].join(" "):[F(t),F(e),F(n),F(r),"k"].join(" "),j(i),this},B.setTextColor=function(t,e,n){if("string"==typeof t&&/^#[0-9A-Fa-f]{6}$/.test(t)){var r=parseInt(t.substr(1),16);t=r>>16&255,e=r>>8&255,n=255&r}return b=0===t&&0===e&&0===n||"undefined"==typeof e?V(t/255)+" g":[V(t/255),V(e/255),V(n/255),"rg"].join(" "),this},B.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},B.setLineCap=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line cap style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return O=e,j(e+" J"),this},B.setLineJoin=function(t){var e=this.CapJoinStyles[t];if(void 0===e)throw new Error("Line join style of '"+t+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return L=e,j(e+" j"),this},B.output=gt,B.save=function(t){B.output("save",t)};for(var mt in n.API)n.API.hasOwnProperty(mt)&&("events"===mt&&n.API.events.length?!function(t,e){var n,r,i;for(i=e.length-1;-1!==i;i--)n=e[i][0],r=e[i][1],t.subscribe.apply(t,[n].concat("function"==typeof r?[r]:r))}(H,n.API.events):B[mt]=n.API[mt]);return tt(),c="F1",lt(s,o),H.publish("initialized"),B}var r="1.3",i={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};return n.API={events:[]},n.version="1.0.272-debug 2014-09-29T15:09:diegocr","function"==typeof define&&define.amd?define("jsPDF",function(){return n}):t.jsPDF=n,n}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this);/**
 * jsPDF addHTML PlugIn
 * Copyright (c) 2014 Diego Casorran
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
!function(t){"use strict";t.addHTML=function(t,e,n,r,i){if("undefined"==typeof html2canvas&&"undefined"==typeof rasterizeHTML)throw new Error("You need either https://github.com/niklasvh/html2canvas or https://github.com/cburgmer/rasterizeHTML.js");"number"!=typeof e&&(r=e,i=n),"function"==typeof r&&(i=r,r=null);var o=this.internal,a=o.scaleFactor,s=o.pageSize.width,l=o.pageSize.height;if(r=r||{},r.onrendered=function(t){e=parseInt(e)||0,n=parseInt(n)||0;var o=r.dim||{},u=o.h||0,c=o.w||Math.min(s,t.width/a)-e,h="JPEG";if(r.format&&(h=r.format),t.height>l&&r.pagesplit){var f=function(){for(var r=0;;){var o=document.createElement("canvas");o.width=Math.min(s*a,t.width),o.height=Math.min(l*a,t.height-r);var u=o.getContext("2d");u.drawImage(t,0,r,t.width,o.height,0,0,o.width,o.height);var f=[o,e,r?0:n,o.width/a,o.height/a,h,null,"SLOW"];if(this.addImage.apply(this,f),r+=o.height,r>=t.height)break;this.addPage()}i(c,r,null,f)}.bind(this);if("CANVAS"===t.nodeName){var d=new Image;d.onload=f,d.src=t.toDataURL("image/png"),t=d}else f()}else{var p=Math.random().toString(35),g=[t,e,n,c,u,h,p,"SLOW"];this.addImage.apply(this,g),i(c,u,p,g)}}.bind(this),"undefined"!=typeof html2canvas&&!r.rstz)return html2canvas(t,r);if("undefined"!=typeof rasterizeHTML){var u="drawDocument";return"string"==typeof t&&(u=/^http/.test(t)?"drawURL":"drawHTML"),r.width=r.width||s*a,rasterizeHTML[u](t,void 0,r).then(function(t){r.onrendered(t.image)},function(t){i(null,t)})}return null}}(jsPDF.API),function(t){"use strict";var e="addImage_",n=["jpeg","jpg","png"],r=function(t){var e=this.internal.newObject(),n=this.internal.write,i=this.internal.putStream;if(t.n=e,n("<</Type /XObject"),n("/Subtype /Image"),n("/Width "+t.w),n("/Height "+t.h),t.cs===this.color_spaces.INDEXED?n("/ColorSpace [/Indexed /DeviceRGB "+(t.pal.length/3-1)+" "+("smask"in t?e+2:e+1)+" 0 R]"):(n("/ColorSpace /"+t.cs),t.cs===this.color_spaces.DEVICE_CMYK&&n("/Decode [1 0 1 0 1 0 1 0]")),n("/BitsPerComponent "+t.bpc),"f"in t&&n("/Filter /"+t.f),"dp"in t&&n("/DecodeParms <<"+t.dp+">>"),"trns"in t&&t.trns.constructor==Array){for(var o="",a=0,s=t.trns.length;s>a;a++)o+=t.trns[a]+" "+t.trns[a]+" ";n("/Mask ["+o+"]")}if("smask"in t&&n("/SMask "+(e+1)+" 0 R"),n("/Length "+t.data.length+">>"),i(t.data),n("endobj"),"smask"in t){var l="/Predictor 15 /Colors 1 /BitsPerComponent "+t.bpc+" /Columns "+t.w,u={w:t.w,h:t.h,cs:"DeviceGray",bpc:t.bpc,dp:l,data:t.smask};"f"in t&&(u.f=t.f),r.call(this,u)}t.cs===this.color_spaces.INDEXED&&(this.internal.newObject(),n("<< /Length "+t.pal.length+">>"),i(this.arrayBufferToBinaryString(new Uint8Array(t.pal))),n("endobj"))},i=function(){var t=this.internal.collections[e+"images"];for(var n in t)r.call(this,t[n])},o=function(){var t,n=this.internal.collections[e+"images"],r=this.internal.write;for(var i in n)t=n[i],r("/I"+t.i,t.n,"0","R")},a=function(e){return e&&"string"==typeof e&&(e=e.toUpperCase()),e in t.image_compression?e:t.image_compression.NONE},s=function(){var t=this.internal.collections[e+"images"];return t||(this.internal.collections[e+"images"]=t={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o)),t},l=function(t){var e=0;return t&&(e=Object.keys?Object.keys(t).length:function(t){var e=0;for(var n in t)t.hasOwnProperty(n)&&e++;return e}(t)),e},u=function(t){return"undefined"==typeof t||null===t},c=function(e){return"string"==typeof e&&t.sHashCode(e)},h=function(t){return-1===n.indexOf(t)},f=function(e){return"function"!=typeof t["process"+e.toUpperCase()]},d=function(t){return"object"==typeof t&&1===t.nodeType},p=function(t,e,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(!n&&0===r.indexOf("data:image/"))return r;!e&&/\.png(?:[?#].*)?$/i.test(r)&&(e="png")}if("CANVAS"===t.nodeName)var i=t;else{var i=document.createElement("canvas");i.width=t.clientWidth||t.width,i.height=t.clientHeight||t.height;var o=i.getContext("2d");if(!o)throw"addImage requires canvas to be supported by browser.";if(n){var a,s,l,u,c,h,f,d,p=Math.PI/180;"object"==typeof n&&(a=n.x,s=n.y,l=n.bg,n=n.angle),d=n*p,u=Math.abs(Math.cos(d)),c=Math.abs(Math.sin(d)),h=i.width,f=i.height,i.width=f*c+h*u,i.height=f*u+h*c,isNaN(a)&&(a=i.width/2),isNaN(s)&&(s=i.height/2),o.clearRect(0,0,i.width,i.height),o.fillStyle=l||"white",o.fillRect(0,0,i.width,i.height),o.save(),o.translate(a,s),o.rotate(d),o.drawImage(t,-(h/2),-(f/2)),o.rotate(-d),o.translate(-a,-s),o.restore()}else o.drawImage(t,0,0,i.width,i.height)}return i.toDataURL("png"==(""+e).toLowerCase()?"image/png":"image/jpeg")},g=function(t,e){var n;if(e)for(var r in e)if(t===e[r].alias){n=e[r];break}return n},m=function(t,e,n){return t||e||(t=-96,e=-96),0>t&&(t=-1*n.w*72/t/this.internal.scaleFactor),0>e&&(e=-1*n.h*72/e/this.internal.scaleFactor),0===t&&(t=e*n.w/n.h),0===e&&(e=t*n.h/n.w),[t,e]},v=function(t,e,n,r,i,o,a){var s=m.call(this,n,r,i),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;n=s[0],r=s[1],a[o]=i,this.internal.write("q",l(n),"0 0",l(r),l(t),u(e+r),"cm /I"+i.i,"Do Q")};t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPERATION:"Seperation",DEVICE_N:"DeviceN"},t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"},t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},t.sHashCode=function(t){return Array.prototype.reduce&&t.split("").reduce(function(t,e){return t=(t<<5)-t+e.charCodeAt(0),t&t},0)},t.isString=function(t){return"string"==typeof t},t.extractInfoFromBase64DataURI=function(t){return/^data:([\w]+?\/([\w]+?));base64,(.+?)$/g.exec(t)},t.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array},t.isArrayBuffer=function(t){return this.supportsArrayBuffer()?t instanceof ArrayBuffer:!1},t.isArrayBufferView=function(t){return this.supportsArrayBuffer()?"undefined"==typeof Uint32Array?!1:t instanceof Int8Array||t instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array:!1},t.binaryStringToUint8Array=function(t){for(var e=t.length,n=new Uint8Array(e),r=0;e>r;r++)n[r]=t.charCodeAt(r);return n},t.arrayBufferToBinaryString=function(t){this.isArrayBuffer(t)&&(t=new Uint8Array(t));for(var e="",n=t.byteLength,r=0;n>r;r++)e+=String.fromCharCode(t[r]);return e},t.arrayBufferToBase64=function(t){for(var e,n,r,i,o,a="",s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=new Uint8Array(t),u=l.byteLength,c=u%3,h=u-c,f=0;h>f;f+=3)o=l[f]<<16|l[f+1]<<8|l[f+2],e=(16515072&o)>>18,n=(258048&o)>>12,r=(4032&o)>>6,i=63&o,a+=s[e]+s[n]+s[r]+s[i];return 1==c?(o=l[h],e=(252&o)>>2,n=(3&o)<<4,a+=s[e]+s[n]+"=="):2==c&&(o=l[h]<<8|l[h+1],e=(64512&o)>>10,n=(1008&o)>>4,r=(15&o)<<2,a+=s[e]+s[n]+s[r]+"="),a},t.createImageInfo=function(t,e,n,r,i,o,a,s,l,u,c,h){var f={alias:s,w:e,h:n,cs:r,bpc:i,i:a,data:t};return o&&(f.f=o),l&&(f.dp=l),u&&(f.trns=u),c&&(f.pal=c),h&&(f.smask=h),f},t.addImage=function(t,e,r,i,o,m,y,w,b){if("string"!=typeof e){var x=m;m=o,o=i,i=r,r=e,e=x}if("object"==typeof t&&!d(t)&&"imageData"in t){var C=t;t=C.imageData,e=C.format||e,r=C.x||r||0,i=C.y||i||0,o=C.w||o,m=C.h||m,y=C.alias||y,w=C.compression||w,b=C.rotation||C.angle||b}if(isNaN(r)||isNaN(i))throw console.error("jsPDF.addImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addImage");var T,E=s.call(this);if(!(T=g(t,E))){var k;if(d(t)&&(t=p(t,e,b)),u(y)&&(y=c(t)),!(T=g(y,E))){if(this.isString(t)){var S=this.extractInfoFromBase64DataURI(t);S?(e=S[2],t=atob(S[3])):137===t.charCodeAt(0)&&80===t.charCodeAt(1)&&78===t.charCodeAt(2)&&71===t.charCodeAt(3)&&(e="png")}if(e=(e||"JPEG").toLowerCase(),h(e))throw new Error("addImage currently only supports formats "+n+", not '"+e+"'");if(f(e))throw new Error("please ensure that the plugin for '"+e+"' support is added");if(this.supportsArrayBuffer()&&(k=t,t=this.binaryStringToUint8Array(t)),T=this["process"+e.toUpperCase()](t,l(E),y,a(w),k),!T)throw new Error("An unkwown error occurred whilst processing the image")}}return v.call(this,r,i,o,m,T,T.i,E),this};var y=function(t){var e,n,r;if(255===!t.charCodeAt(0)||216===!t.charCodeAt(1)||255===!t.charCodeAt(2)||224===!t.charCodeAt(3)||!t.charCodeAt(6)==="J".charCodeAt(0)||!t.charCodeAt(7)==="F".charCodeAt(0)||!t.charCodeAt(8)==="I".charCodeAt(0)||!t.charCodeAt(9)==="F".charCodeAt(0)||0===!t.charCodeAt(10))throw new Error("getJpegSize requires a binary string jpeg file");for(var i=256*t.charCodeAt(4)+t.charCodeAt(5),o=4,a=t.length;a>o;){if(o+=i,255!==t.charCodeAt(o))throw new Error("getJpegSize could not find the size of the image");if(192===t.charCodeAt(o+1)||193===t.charCodeAt(o+1)||194===t.charCodeAt(o+1)||195===t.charCodeAt(o+1)||196===t.charCodeAt(o+1)||197===t.charCodeAt(o+1)||198===t.charCodeAt(o+1)||199===t.charCodeAt(o+1))return n=256*t.charCodeAt(o+5)+t.charCodeAt(o+6),e=256*t.charCodeAt(o+7)+t.charCodeAt(o+8),r=t.charCodeAt(o+9),[e,n,r];o+=2,i=256*t.charCodeAt(o)+t.charCodeAt(o+1)}},w=function(t){var e=t[0]<<8|t[1];if(65496!==e)throw new Error("Supplied data is not a JPEG");for(var n,r,i,o,a=t.length,s=(t[4]<<8)+t[5],l=4;a>l;){if(l+=s,n=b(t,l),s=(n[2]<<8)+n[3],(192===n[1]||194===n[1])&&255===n[0]&&s>7)return n=b(t,l+5),r=(n[2]<<8)+n[3],i=(n[0]<<8)+n[1],o=n[4],{width:r,height:i,numcomponents:o};l+=2}throw new Error("getJpegSizeFromBytes could not find the size of the image")},b=function(t,e){return t.subarray(e,e+5)};t.processJPEG=function(t,e,n,r,i){var o,a=this.color_spaces.DEVICE_RGB,s=this.decode.DCT_DECODE,l=8;return this.isString(t)?(o=y(t),this.createImageInfo(t,o[0],o[1],1==o[3]?this.color_spaces.DEVICE_GRAY:a,l,s,e,n)):(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)?(o=w(t),t=i||this.arrayBufferToBinaryString(t),this.createImageInfo(t,o.width,o.height,1==o.numcomponents?this.color_spaces.DEVICE_GRAY:a,l,s,e,n)):null)},t.processJPG=function(){return this.processJPEG.apply(this,arguments)}}(jsPDF.API),function(t){"use strict";t.autoPrint=function(){var t;return this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.write("<< /S/Named /Type/Action /N/Print >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.write("/OpenAction "+t+" 0 R")}),this}}(jsPDF.API),/** ====================================================================
 * jsPDF Cell plugin
 * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
 *               2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Hall, james@parall.ax
 *               2014 Diego Casorran, https://github.com/diegocr
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(t){"use strict";var e,n,r,i,o=3,a=13,s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},l=1,u=function(t,e,n,r,i){s={x:t,y:e,w:n,h:r,ln:i}},c=function(){return s},h={left:0,top:0,bottom:0};t.setHeaderFunction=function(t){i=t},t.getTextDimensions=function(t){e=this.internal.getFont().fontName,n=this.table_font_size||this.internal.getFontSize(),r=this.internal.getFont().fontStyle;var i,o,a=19.049976/25.4;return o=document.createElement("font"),o.id="jsPDFCell",o.style.fontStyle=r,o.style.fontName=e,o.style.fontSize=n+"pt",o.textContent=t,document.body.appendChild(o),i={w:(o.offsetWidth+1)*a,h:(o.offsetHeight+1)*a},document.body.removeChild(o),i},t.cellAddPage=function(){var t=this.margins||h;this.addPage(),u(t.left,t.top,void 0,void 0),l+=1},t.cellInitialize=function(){s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},l=1},t.cell=function(t,e,n,r,i,s,l){var f=c();if(void 0!==f.ln)if(f.ln===s)t=f.x+f.w,e=f.y;else{var d=this.margins||h;f.y+f.h+r+a>=this.internal.pageSize.height-d.bottom&&(this.cellAddPage(),this.printHeaders&&this.tableHeaderRow&&this.printHeaderRow(s,!0)),e=c().y+c().h}if(void 0!==i[0])if(this.printingHeaderRow?this.rect(t,e,n,r,"FD"):this.rect(t,e,n,r),"right"===l){if(i instanceof Array)for(var p=0;p<i.length;p++){var g=i[p],m=this.getStringUnitWidth(g)*this.internal.getFontSize();this.text(g,t+n-m-o,e+this.internal.getLineHeight()*(p+1))}}else this.text(i,t+o,e+this.internal.getLineHeight());return u(t,e,n,r,s),this},t.arrayMax=function(t,e){var n,r,i,o=t[0];for(n=0,r=t.length;r>n;n+=1)i=t[n],e?-1===e(o,i)&&(o=i):i>o&&(o=i);return o},t.table=function(e,n,r,i,o){if(!r)throw"No data for PDF table";var a,u,c,f,d,p,g,m,v,y,w=[],b=[],x={},C={},T=[],E=[],k=!1,S=!0,_=12,$=h;if($.width=this.internal.pageSize.width,o&&(o.autoSize===!0&&(k=!0),o.printHeaders===!1&&(S=!1),o.fontSize&&(_=o.fontSize),o.margins&&($=o.margins)),this.lnMod=0,s={x:void 0,y:void 0,w:void 0,h:void 0,ln:void 0},l=1,this.printHeaders=S,this.margins=$,this.setFontSize(_),this.table_font_size=_,void 0===i||null===i)w=Object.keys(r[0]);else if(i[0]&&"string"!=typeof i[0]){var A=19.049976/25.4;for(u=0,c=i.length;c>u;u+=1)a=i[u],w.push(a.name),b.push(a.prompt),C[a.name]=a.width*A}else w=i;if(k)for(y=function(t){return t[a]},u=0,c=w.length;c>u;u+=1){for(a=w[u],x[a]=r.map(y),T.push(this.getTextDimensions(b[u]||a).w),p=x[a],g=0,f=p.length;f>g;g+=1)d=p[g],T.push(this.getTextDimensions(d).w);C[a]=t.arrayMax(T)}if(S){var D=this.calculateLineHeight(w,C,b.length?b:w);for(u=0,c=w.length;c>u;u+=1)a=w[u],E.push([e,n,C[a],D,String(b.length?b[u]:a)]);this.setTableHeaderRow(E),this.printHeaderRow(1,!1)}for(u=0,c=r.length;c>u;u+=1){var D;for(m=r[u],D=this.calculateLineHeight(w,C,m),g=0,v=w.length;v>g;g+=1)a=w[g],this.cell(e,n,C[a],D,m[a],u+2,a.align)}return this.lastCellPos=s,this.table_x=e,this.table_y=n,this},t.calculateLineHeight=function(t,e,n){for(var r,i=0,a=0;a<t.length;a++){r=t[a],n[r]=this.splitTextToSize(String(n[r]),e[r]-o);var s=this.internal.getLineHeight()*n[r].length+o;s>i&&(i=s)}return i},t.setTableHeaderRow=function(t){this.tableHeaderRow=t},t.printHeaderRow=function(t,e){if(!this.tableHeaderRow)throw"Property tableHeaderRow does not exist.";var n,r,o,a;if(this.printingHeaderRow=!0,void 0!==i){var s=i(this,l);u(s[0],s[1],s[2],s[3],-1)}this.setFontStyle("bold");var c=[];for(o=0,a=this.tableHeaderRow.length;a>o;o+=1)this.setFillColor(200,200,200),n=this.tableHeaderRow[o],e&&(n[1]=this.margins&&this.margins.top||0,c.push(n)),r=[].concat(n),this.cell.apply(this,r.concat(t));c.length>0&&this.setTableHeaderRow(c),this.setFontStyle("normal"),this.printingHeaderRow=!1}}(jsPDF.API),/** @preserve
 * jsPDF fromHTML plugin. BETA stage. API subject to change. Needs browser
 * Copyright (c) 2012 Willow Systems Corporation, willow-systems.com
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Daniel Husar, https://github.com/danielhusar
 *               2014 Wolfgang Gassler, https://github.com/woolfg
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(t){var e,n,r,i,o,a,s,l,u,c,h,f,d,p,g,m,v,y,w;e=function(){function t(){}return function(e){return t.prototype=e,new t}}(),u=function(t){var e,n,r,i,o,a,s;for(n=0,r=t.length,e=void 0,i=!1,a=!1;!i&&n!==r;)e=t[n]=t[n].trimLeft(),e&&(i=!0),n++;for(n=r-1;r&&!a&&-1!==n;)e=t[n]=t[n].trimRight(),e&&(a=!0),n--;for(o=/\s+$/g,s=!0,n=0;n!==r;)e=t[n].replace(/\s+/g," "),s&&(e=e.trimLeft()),e&&(s=o.test(e)),t[n]=e,n++;return t},c=function(t,e,n,r){return this.pdf=t,this.x=e,this.y=n,this.settings=r,this.watchFunctions=[],this.init(),this},h=function(t){var e,n,i;for(e=void 0,i=t.split(","),n=i.shift();!e&&n;)e=r[n.trim().toLowerCase()],n=i.shift();return e},f=function(t){t="auto"===t?"0px":t,t.indexOf("em")>-1&&!isNaN(Number(t.replace("em","")))&&(t=18.719*Number(t.replace("em",""))+"px"),t.indexOf("pt")>-1&&!isNaN(Number(t.replace("pt","")))&&(t=1.333*Number(t.replace("pt",""))+"px");var e,n,r;return n=void 0,e=16,(r=d[t])?r:(r={"xx-small":9,"x-small":11,small:13,medium:16,large:19,"x-large":23,"xx-large":28,auto:0}[{css_line_height_string:t}],r!==n?d[t]=r/e:(r=parseFloat(t))?d[t]=r/e:(r=t.match(/([\d\.]+)(px)/),d[t]=3===r.length?parseFloat(r[1])/e:1))},l=function(t){var e,n,r;return r=function(t){var e;return e=function(t){return document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(t,null):t.currentStyle?t.currentStyle:t.style}(t),function(t){return t=t.replace(/-\D/g,function(t){return t.charAt(1).toUpperCase()}),e[t]}}(t),e={},n=void 0,e["font-family"]=h(r("font-family"))||"times",e["font-style"]=i[r("font-style")]||"normal",e["text-align"]=TextAlignMap[r("text-align")]||"left",n=o[r("font-weight")]||"normal","bold"===n&&(e["font-style"]="normal"===e["font-style"]?n:n+e["font-style"]),e["font-size"]=f(r("font-size"))||1,e["line-height"]=f(r("line-height"))||1,e.display="inline"===r("display")?"inline":"block",n="block"===e.display,e["margin-top"]=n&&f(r("margin-top"))||0,e["margin-bottom"]=n&&f(r("margin-bottom"))||0,e["padding-top"]=n&&f(r("padding-top"))||0,e["padding-bottom"]=n&&f(r("padding-bottom"))||0,e["margin-left"]=n&&f(r("margin-left"))||0,e["margin-right"]=n&&f(r("margin-right"))||0,e["padding-left"]=n&&f(r("padding-left"))||0,e["padding-right"]=n&&f(r("padding-right"))||0,e["float"]=a[r("cssFloat")]||"none",e.clear=s[r("clear")]||"none",e},p=function(t,e,n){var r,i,o,a,s;if(o=!1,i=void 0,a=void 0,s=void 0,r=n["#"+t.id])if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;if(r=n[t.nodeName],!o&&r)if("function"==typeof r)o=r(t,e);else for(i=0,a=r.length;!o&&i!==a;)o=r[i](t,e),i++;return o},w=function(t,e){var n,r,i,o,a,s,l,u,c,h;for(n=[],r=[],i=0,h=t.rows[0].cells.length,u=t.clientWidth;h>i;)c=t.rows[0].cells[i],r[i]={name:c.textContent.toLowerCase().replace(/\s+/g,""),prompt:c.textContent.replace(/\r?\n/g,""),width:c.clientWidth/u*e.pdf.internal.pageSize.width},i++;for(i=1;i<t.rows.length;){for(s=t.rows[i],a={},o=0;o<s.cells.length;)a[r[o].name]=s.cells[o].textContent.replace(/\r?\n/g,""),o++;n.push(a),i++}return l={rows:n,headers:r}};var b={SCRIPT:1,STYLE:1,NOSCRIPT:1,OBJECT:1,EMBED:1,SELECT:1},x=1;n=function(t,e,r){var i,o,a,s,u,c,h,f,d;for(o=t.childNodes,i=void 0,a=l(t),u="block"===a.display,u&&(e.setBlockBoundary(),e.setBlockStyle(a)),h=19.049976/25.4,s=0,c=o.length;c>s;){if(i=o[s],"object"==typeof i){if(e.executeWatchFunctions(i),1===i.nodeType&&"HEADER"===i.nodeName){var m=i,v=e.pdf.margins_doc.top;e.pdf.internal.events.subscribe("addPage",function(t){e.y=v,n(m,e,r),e.pdf.margins_doc.top=e.y+10,e.y+=10},!1)}if(8===i.nodeType&&"#comment"===i.nodeName)~i.textContent.indexOf("ADD_PAGE")&&(e.pdf.addPage(),e.y=e.pdf.margins_doc.top);else if(1!==i.nodeType||b[i.nodeName])if(3===i.nodeType){var y=i.nodeValue;if(i.nodeValue&&"LI"===i.parentNode.nodeName)if("OL"===i.parentNode.parentNode.nodeName)y=x++ +". "+y;else{var C=16*a["font-size"],T=2;C>20&&(T=3),d=function(t,e){this.pdf.circle(t,e,T,"FD")}}e.addText(y,a)}else"string"==typeof i&&e.addText(i,a);else{var E;if("IMG"===i.nodeName){var k=i.getAttribute("src");E=g[e.pdf.sHashCode(k)||k]}if(E){e.pdf.internal.pageSize.height-e.pdf.margins_doc.bottom<e.y+i.height&&e.y>e.pdf.margins_doc.top&&(e.pdf.addPage(),e.y=e.pdf.margins_doc.top,e.executeWatchFunctions(i));var S=l(i),_=e.x,$=12/e.pdf.internal.scaleFactor,A=(S["margin-left"]+S["padding-left"])*$,D=(S["margin-right"]+S["padding-right"])*$,M=(S["margin-top"]+S["padding-top"])*$,R=(S["margin-bottom"]+S["padding-bottom"])*$;_+=void 0!==S["float"]&&"right"===S["float"]?e.settings.width-i.width-D:A,e.pdf.addImage(E,_,e.y+M,i.width,i.height),E=void 0,"right"===S["float"]||"left"===S["float"]?(e.watchFunctions.push(function(t,n,r,i){return e.y>=n?(e.x+=t,e.settings.width+=r,!0):i&&1===i.nodeType&&!b[i.nodeName]&&e.x+i.width>e.pdf.margins_doc.left+e.pdf.margins_doc.width?(e.x+=t,e.y=n,e.settings.width+=r,!0):!1}.bind(this,"left"===S["float"]?-i.width-A-D:0,e.y+i.height+M+R,i.width)),e.watchFunctions.push(function(t,n,r){return e.y<t&&n===e.pdf.internal.getNumberOfPages()?1===r.nodeType&&"both"===l(r).clear?(e.y=t,!0):!1:!0}.bind(this,e.y+i.height,e.pdf.internal.getNumberOfPages())),e.settings.width-=i.width+A+D,"left"===S["float"]&&(e.x+=i.width+A+D)):e.y+=i.height+R}else if("TABLE"===i.nodeName)f=w(i,e),e.y+=10,e.pdf.table(e.x,e.y,f.rows,f.headers,{autoSize:!1,printHeaders:!0,margins:e.pdf.margins_doc}),e.y=e.pdf.lastCellPos.y+e.pdf.lastCellPos.h+20;else if("OL"===i.nodeName||"UL"===i.nodeName)x=1,p(i,e,r)||n(i,e,r),e.y+=10;else if("LI"===i.nodeName){var P=e.x;e.x+="UL"===i.parentNode.nodeName?22:10,e.y+=3,p(i,e,r)||n(i,e,r),e.x=P}else"BR"===i.nodeName?e.y+=a["font-size"]*e.pdf.internal.scaleFactor:p(i,e,r)||n(i,e,r)}}s++}return u?e.setBlockBoundary(d):void 0},g={},m=function(t,e,n,r){function i(){e.pdf.internal.events.publish("imagesLoaded"),r(a)}function o(t,n,r){if(t){var o=new Image;a=++u,o.crossOrigin="",o.onerror=o.onload=function(){if(o.complete&&(0===o.src.indexOf("data:image/")&&(o.width=n||o.width||0,o.height=r||o.height||0),o.width+o.height)){var a=e.pdf.sHashCode(t)||t;g[a]=g[a]||o}--u||i()},o.src=t}}for(var a,s=t.getElementsByTagName("img"),l=s.length,u=0;l--;)o(s[l].getAttribute("src"),s[l].width,s[l].height);return u||i()},v=function(t,e,r){var i=t.getElementsByTagName("footer");if(i.length>0){i=i[0];var o=e.pdf.internal.write,a=e.y;e.pdf.internal.write=function(){},n(i,e,r);var s=Math.ceil(e.y-a)+5;e.y=a,e.pdf.internal.write=o,e.pdf.margins_doc.bottom+=s;for(var l=function(t){var o=void 0!==t?t.pageNumber:1,a=e.y;e.y=e.pdf.internal.pageSize.height-e.pdf.margins_doc.bottom,e.pdf.margins_doc.bottom-=s;for(var l=i.getElementsByTagName("span"),u=0;u<l.length;++u)(" "+l[u].className+" ").replace(/[\n\t]/g," ").indexOf(" pageCounter ")>-1&&(l[u].innerHTML=o),(" "+l[u].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&(l[u].innerHTML="###jsPDFVarTotalPages###");n(i,e,r),e.pdf.margins_doc.bottom+=s,e.y=a},u=i.getElementsByTagName("span"),c=0;c<u.length;++c)(" "+u[c].className+" ").replace(/[\n\t]/g," ").indexOf(" totalPages ")>-1&&e.pdf.internal.events.subscribe("htmlRenderingFinished",e.pdf.putTotalPages.bind(e.pdf,"###jsPDFVarTotalPages###"),!0);e.pdf.internal.events.subscribe("addPage",l,!1),l(),b.FOOTER=1}},y=function(t,e,r,i,o,a){if(!e)return!1;"string"==typeof e||e.parentNode||(e=""+e.innerHTML),"string"==typeof e&&(e=function(t){var e,n,r,i;return r="jsPDFhtmlText"+Date.now().toString()+(1e3*Math.random()).toFixed(0),i="position: absolute !important;clip: rect(1px 1px 1px 1px); /* IE6, IE7 */clip: rect(1px, 1px, 1px, 1px);padding:0 !important;border:0 !important;height: 1px !important;width: 1px !important; top:auto;left:-100px;overflow: hidden;",n=document.createElement("div"),n.style.cssText=i,n.innerHTML='<iframe style="height:1px;width:1px" name="'+r+'" />',document.body.appendChild(n),e=window.frames[r],e.document.body.innerHTML=t,e.document.body}(e.replace(/<\/?script[^>]*?>/gi,"")));var s,l=new c(t,r,i,o);return m.call(this,e,l,o.elementHandlers,function(t){v(e,l,o.elementHandlers),n(e,l,o.elementHandlers),l.pdf.internal.events.publish("htmlRenderingFinished"),s=l.dispose(),"function"==typeof a?a(s):t&&console.error("jsPDF Warning: rendering issues? provide a callback to fromHTML!")}),s||{x:l.x,y:l.y}},c.prototype.init=function(){return this.paragraph={text:[],style:[]},this.pdf.internal.write("q")},c.prototype.dispose=function(){return this.pdf.internal.write("Q"),{x:this.x,y:this.y,ready:!0}},c.prototype.executeWatchFunctions=function(t){var e=!1,n=[];if(this.watchFunctions.length>0){for(var r=0;r<this.watchFunctions.length;++r)this.watchFunctions[r](t)===!0?e=!0:n.push(this.watchFunctions[r]);this.watchFunctions=n}return e},c.prototype.splitFragmentsIntoLines=function(t,n){var r,i,o,a,s,l,u,c,h,f,d,p,g,m,v;for(i=12,d=this.pdf.internal.scaleFactor,s={},o=void 0,f=void 0,a=void 0,l=void 0,v=void 0,h=void 0,c=void 0,u=void 0,p=[],g=[p],r=0,m=this.settings.width;t.length;)if(l=t.shift(),v=n.shift(),l)if(o=v["font-family"],f=v["font-style"],a=s[o+f],a||(a=this.pdf.internal.getFont(o,f).metadata.Unicode,s[o+f]=a),h={widths:a.widths,kerning:a.kerning,fontSize:v["font-size"]*i,textIndent:r},c=this.pdf.getStringUnitWidth(l,h)*h.fontSize/d,r+c>m){for(u=this.pdf.splitTextToSize(l,m,h),p.push([u.shift(),v]);u.length;)p=[[u.shift(),v]],g.push(p);r=this.pdf.getStringUnitWidth(p[0][0],h)*h.fontSize/d}else p.push([l,v]),r+=c;if(void 0!==v["text-align"]&&("center"===v["text-align"]||"right"===v["text-align"]||"justify"===v["text-align"]))for(var y=0;y<g.length;++y){var w=this.pdf.getStringUnitWidth(g[y][0][0],h)*h.fontSize/d;y>0&&(g[y][0][1]=e(g[y][0][1]));var b=m-w;if("right"===v["text-align"])g[y][0][1]["margin-left"]=b;else if("center"===v["text-align"])g[y][0][1]["margin-left"]=b/2;else if("justify"===v["text-align"]){var x=g[y][0][0].split(" ").length-1;g[y][0][1]["word-spacing"]=b/x,y===g.length-1&&(g[y][0][1]["word-spacing"]=0)}}return g},c.prototype.RenderTextFragment=function(t,e){var n,r,i;i=0,n=12,this.pdf.internal.pageSize.height-this.pdf.margins_doc.bottom<this.y+this.pdf.internal.getFontSize()&&(this.pdf.internal.write("ET","Q"),this.pdf.addPage(),this.y=this.pdf.margins_doc.top,this.pdf.internal.write("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td"),i=Math.max(i,e["line-height"],e["font-size"]),this.pdf.internal.write(0,(-1*n*i).toFixed(2),"Td")),r=this.pdf.internal.getFont(e["font-family"],e["font-style"]),void 0!==e["word-spacing"]&&e["word-spacing"]>0&&this.pdf.internal.write(e["word-spacing"].toFixed(2),"Tw"),this.pdf.internal.write("/"+r.id,(n*e["font-size"]).toFixed(2),"Tf","("+this.pdf.internal.pdfEscape(t)+") Tj"),void 0!==e["word-spacing"]&&this.pdf.internal.write(0,"Tw")},c.prototype.renderParagraph=function(t){var e,n,r,i,o,a,s,l,c,h,f,d,p,g,m;if(i=u(this.paragraph.text),g=this.paragraph.style,e=this.paragraph.blockstyle,p=this.paragraph.blockstyle||{},this.paragraph={text:[],style:[],blockstyle:{},priorblockstyle:e},i.join("").trim()){l=this.splitFragmentsIntoLines(i,g),s=void 0,c=void 0,n=12,r=n/this.pdf.internal.scaleFactor,d=(Math.max((e["margin-top"]||0)-(p["margin-bottom"]||0),0)+(e["padding-top"]||0))*r,f=((e["margin-bottom"]||0)+(e["padding-bottom"]||0))*r,h=this.pdf.internal.write,o=void 0,a=void 0,this.y+=d,h("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td");for(var v=0;l.length;){for(s=l.shift(),c=0,o=0,a=s.length;o!==a;)s[o][0].trim()&&(c=Math.max(c,s[o][1]["line-height"],s[o][1]["font-size"]),m=7*s[o][1]["font-size"]),o++;var y=0;for(void 0!==s[0][1]["margin-left"]&&s[0][1]["margin-left"]>0&&(wantedIndent=this.pdf.internal.getCoordinateString(s[0][1]["margin-left"]),y=wantedIndent-v,v=wantedIndent),h(y,(-1*n*c).toFixed(2),"Td"),o=0,a=s.length;o!==a;)s[o][0]&&this.RenderTextFragment(s[o][0],s[o][1]),o++;if(this.y+=c*r,this.executeWatchFunctions(s[0][1])&&l.length>0){var w=[],b=[];l.forEach(function(t){for(var e=0,n=t.length;e!==n;)t[e][0]&&(w.push(t[e][0]+" "),b.push(t[e][1])),++e}),l=this.splitFragmentsIntoLines(u(w),b),h("ET","Q"),h("q","BT 0 g",this.pdf.internal.getCoordinateString(this.x),this.pdf.internal.getVerticalCoordinateString(this.y),"Td")}}return t&&"function"==typeof t&&t.call(this,this.x-9,this.y-m/2),h("ET","Q"),this.y+=f}},c.prototype.setBlockBoundary=function(t){return this.renderParagraph(t)},c.prototype.setBlockStyle=function(t){return this.paragraph.blockstyle=t},c.prototype.addText=function(t,e){return this.paragraph.text.push(t),this.paragraph.style.push(e)},r={helvetica:"helvetica","sans-serif":"helvetica","times new roman":"times",serif:"times",times:"times",monospace:"courier",courier:"courier"},o={100:"normal",200:"normal",300:"normal",400:"normal",500:"bold",600:"bold",700:"bold",800:"bold",900:"bold",normal:"normal",bold:"bold",bolder:"bold",lighter:"normal"},i={normal:"normal",italic:"italic",oblique:"italic"},TextAlignMap={left:"left",right:"right",center:"center",justify:"justify"},a={none:"none",right:"right",left:"left"},s={none:"none",both:"both"},d={normal:1},t.fromHTML=function(t,e,n,r,i,o){"use strict";return this.margins_doc=o||{top:0,bottom:0},r||(r={}),r.elementHandlers||(r.elementHandlers={}),y(this,t,isNaN(e)?4:e,isNaN(n)?4:n,r,i)}}(jsPDF.API),/** ==================================================================== 
 * jsPDF JavaScript plugin
 * Copyright (c) 2013 Youssef Beddad, youssef.beddad@gmail.com
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(t){"use strict";var e,n,r;t.addJS=function(t){return r=t,this.internal.events.subscribe("postPutResources",function(t){e=this.internal.newObject(),this.internal.write("<< /Names [(EmbeddedJS) "+(e+1)+" 0 R] >>","endobj"),n=this.internal.newObject(),this.internal.write("<< /S /JavaScript /JS (",r,") >>","endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==e&&void 0!==n&&this.internal.write("/Names <</JavaScript "+e+" 0 R>>")}),this}}(jsPDF.API),/**@preserve
 *  ==================================================================== 
 * jsPDF PNG PlugIn
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(t){"use strict";var e=function(){return"function"!=typeof PNG||"function"!=typeof FlateStream},n=function(e){return e!==t.image_compression.NONE&&r()},r=function(){var t="function"==typeof Deflater;if(!t)throw new Error("requires deflate.js for compression");return t},i=function(e,n,r,i){var l=5,d=c;switch(i){case t.image_compression.FAST:l=3,d=u;break;case t.image_compression.MEDIUM:l=6,d=h;break;case t.image_compression.SLOW:l=9,d=f}e=s(e,n,r,d);var p=new Uint8Array(o(l)),g=a(e),m=new Deflater(l),v=m.append(e),y=m.flush(),w=p.length+v.length+y.length,b=new Uint8Array(w+4);return b.set(p),b.set(v,p.length),b.set(y,p.length+v.length),b[w++]=g>>>24&255,b[w++]=g>>>16&255,b[w++]=g>>>8&255,b[w++]=255&g,t.arrayBufferToBinaryString(b)},o=function(t,e){var n=8,r=Math.LOG2E*Math.log(32768)-8,i=r<<4|n,o=i<<8,a=Math.min(3,(e-1&255)>>1);return o|=a<<6,o|=0,o+=31-o%31,[i,255&o&255]},a=function(t,e){for(var n,r=1,i=65535&r,o=r>>>16&65535,a=t.length,s=0;a>0;){n=a>e?e:a,a-=n;do i+=t[s++],o+=i;while(--n);i%=65521,o%=65521}return(o<<16|i)>>>0},s=function(t,e,n,r){for(var i,o,a,s=t.length/e,l=new Uint8Array(t.length+s),u=p(),c=0;s>c;c++){if(a=c*e,i=t.subarray(a,a+e),r)l.set(r(i,n,o),a+c);else{for(var h=0,f=u.length,d=[];f>h;h++)d[h]=u[h](i,n,o);var m=g(d.concat());l.set(d[m],a+c)}o=i}return l},l=function(t,e,n){var r=Array.apply([],t);return r.unshift(0),r},u=function(t,e,n){var r,i=[],o=0,a=t.length;for(i[0]=1;a>o;o++)r=t[o-e]||0,i[o+1]=t[o]-r+256&255;return i},c=function(t,e,n){var r,i=[],o=0,a=t.length;for(i[0]=2;a>o;o++)r=n&&n[o]||0,i[o+1]=t[o]-r+256&255;return i},h=function(t,e,n){var r,i,o=[],a=0,s=t.length;for(o[0]=3;s>a;a++)r=t[a-e]||0,i=n&&n[a]||0,o[a+1]=t[a]+256-(r+i>>>1)&255;return o},f=function(t,e,n){var r,i,o,a,s=[],l=0,u=t.length;for(s[0]=4;u>l;l++)r=t[l-e]||0,i=n&&n[l]||0,o=n&&n[l-e]||0,a=d(r,i,o),s[l+1]=t[l]-a+256&255;return s},d=function(t,e,n){var r=t+e-n,i=Math.abs(r-t),o=Math.abs(r-e),a=Math.abs(r-n);return o>=i&&a>=i?t:a>=o?e:n},p=function(){return[l,u,c,h,f]},g=function(t){for(var e,n,r,i=0,o=t.length;o>i;)e=m(t[i].slice(1)),(n>e||!n)&&(n=e,r=i),i++;return r},m=function(t){for(var e=0,n=t.length,r=0;n>e;)r+=Math.abs(t[e++]);return r};t.processPNG=function(t,r,o,a,s){var l,u,c,h,f,d,p=this.color_spaces.DEVICE_RGB,g=this.decode.FLATE_DECODE,m=8;if(this.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.isArrayBufferView(t)){if(e())throw new Error("PNG support requires png.js and zlib.js");if(l=new PNG(t),t=l.imgData,m=l.bits,p=l.colorSpace,h=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits)for(var v,y,w=window["Uint"+l.pixelBitlength+"Array"],b=new w(l.decodePixels().buffer),x=b.length,C=new Uint8Array(x*l.colors),T=new Uint8Array(x),E=l.pixelBitlength-l.bits,k=0,S=0;x>k;k++){for(v=b[k],y=0;E>y;)C[S++]=v>>>y&255,y+=l.bits;T[k]=v>>>y&255}if(16===l.bits){for(var v,b=new Uint32Array(l.decodePixels().buffer),x=b.length,C=new Uint8Array(x*(32/l.pixelBitlength)*l.colors),T=new Uint8Array(x*(32/l.pixelBitlength)),_=l.colors>1,k=0,S=0,$=0;x>k;)v=b[k++],C[S++]=v>>>0&255,_&&(C[S++]=v>>>16&255,v=b[k++],C[S++]=v>>>0&255),T[$++]=v>>>16&255;m=8}n(a)?(t=i(C,l.width*l.colors,l.colors,a),d=i(T,l.width,1,a)):(t=C,d=T,g=null)}if(3===l.colorType&&(p=this.color_spaces.INDEXED,f=l.palette,l.transparency.indexed)){for(var A=l.transparency.indexed,D=0,k=0,x=A.length;x>k;++k)D+=A[k];if(D/=255,D===x-1&&-1!==A.indexOf(0))c=[A.indexOf(0)];else if(D!==x){for(var b=l.decodePixels(),T=new Uint8Array(b.length),k=0,x=b.length;x>k;k++)T[k]=A[b[k]];d=i(T,l.width,1)}}return u=g===this.decode.FLATE_DECODE?"/Predictor 15 /Colors "+h+" /BitsPerComponent "+m+" /Columns "+l.width:"/Colors "+h+" /BitsPerComponent "+m+" /Columns "+l.width,(this.isArrayBuffer(t)||this.isArrayBufferView(t))&&(t=this.arrayBufferToBinaryString(t)),(d&&this.isArrayBuffer(d)||this.isArrayBufferView(d))&&(d=this.arrayBufferToBinaryString(d)),this.createImageInfo(t,l.width,l.height,p,m,g,r,o,u,c,f,d)}throw new Error("Unsupported PNG image data, try using JPEG instead.")}}(jsPDF.API),function(t){"use strict";t.addSVG=function(t,e,n,r,i){function o(t,e){var n=e.createElement("style");n.type="text/css",n.styleSheet?n.styleSheet.cssText=t:n.appendChild(e.createTextNode(t)),e.getElementsByTagName("head")[0].appendChild(n)}function a(t){var e="childframe",n=t.createElement("iframe");return o(".jsPDF_sillysvg_iframe {display:none;position:absolute;}",t),n.name=e,n.setAttribute("width",0),n.setAttribute("height",0),n.setAttribute("frameborder","0"),n.setAttribute("scrolling","no"),n.setAttribute("seamless","seamless"),n.setAttribute("class","jsPDF_sillysvg_iframe"),t.body.appendChild(n),n}function s(t,e){var n=(e.contentWindow||e.contentDocument).document;return n.write(t),n.close(),n.getElementsByTagName("svg")[0]}function l(t){for(var e=parseFloat(t[1]),n=parseFloat(t[2]),r=[],i=3,o=t.length;o>i;)"c"===t[i]?(r.push([parseFloat(t[i+1]),parseFloat(t[i+2]),parseFloat(t[i+3]),parseFloat(t[i+4]),parseFloat(t[i+5]),parseFloat(t[i+6])]),i+=7):"l"===t[i]?(r.push([parseFloat(t[i+1]),parseFloat(t[i+2])]),i+=3):i+=1;return[e,n,r]}var u;if(e===u||n===u)throw new Error("addSVG needs values for 'x' and 'y'");var c=a(document),h=s(t,c),f=[1,1],d=parseFloat(h.getAttribute("width")),p=parseFloat(h.getAttribute("height"));d&&p&&(r&&i?f=[r/d,i/p]:r?f=[r/d,r/d]:i&&(f=[i/p,i/p]));var g,m,v,y,w=h.childNodes;for(g=0,m=w.length;m>g;g++)v=w[g],v.tagName&&"PATH"===v.tagName.toUpperCase()&&(y=l(v.getAttribute("d").split(" ")),y[0]=y[0]*f[0]+e,y[1]=y[1]*f[1]+n,this.lines.call(this,y[2],y[0],y[1],f));return this}}(jsPDF.API),function(t){"use strict";var e=t.getCharWidthsArray=function(t,e){e||(e={});var n,r,i,o=e.widths?e.widths:this.internal.getFont().metadata.Unicode.widths,a=o.fof?o.fof:1,s=e.kerning?e.kerning:this.internal.getFont().metadata.Unicode.kerning,l=s.fof?s.fof:1,u=0,c=o[0]||a,h=[];for(n=0,r=t.length;r>n;n++)i=t.charCodeAt(n),h.push((o[i]||c)/a+(s[i]&&s[i][u]||0)/l),u=i;return h},n=function(t){for(var e=t.length,n=0;e;)e--,n+=t[e];return n},r=t.getStringUnitWidth=function(t,r){return n(e.call(this,t,r))},i=function(t,e,n,r){for(var i=[],o=0,a=t.length,s=0;o!==a&&s+e[o]<n;)s+=e[o],o++;i.push(t.slice(0,o));var l=o;for(s=0;o!==a;)s+e[o]>r&&(i.push(t.slice(l,o)),s=0,l=o),s+=e[o],o++;return l!==o&&i.push(t.slice(l,o)),i},o=function(t,o,a){a||(a={});var s,l,u,c,h,f,d=[],p=[d],g=a.textIndent||0,m=0,v=0,y=t.split(" "),w=e(" ",a)[0];if(f=-1===a.lineIndent?y[0].length+2:a.lineIndent||0){var b=Array(f).join(" "),x=[];y.map(function(t){t=t.split(/\s*\n/),t.length>1?x=x.concat(t.map(function(t,e){return(e&&t.length?"\n":"")+t})):x.push(t[0])}),y=x,f=r(b,a)}for(u=0,c=y.length;c>u;u++){var C=0;if(s=y[u],f&&"\n"==s[0]&&(s=s.substr(1),C=1),l=e(s,a),v=n(l),g+m+v>o||C){if(v>o){for(h=i(s,l,o-(g+m),o),d.push(h.shift()),d=[h.pop()];h.length;)p.push([h.shift()]);v=n(l.slice(s.length-d[0].length))}else d=[s];p.push(d),g=v+f,m=w}else d.push(s),g+=m+v,m=w}if(f)var T=function(t,e){return(e?b:"")+t.join(" ")};else var T=function(t){return t.join(" ")};return p.map(T)};t.splitTextToSize=function(t,e,n){n||(n={});var r,i=n.fontSize||this.internal.getFontSize(),a=function(t){var e={0:1},n={};if(t.widths&&t.kerning)return{widths:t.widths,kerning:t.kerning};var r=this.internal.getFont(t.fontName,t.fontStyle),i="Unicode";return r.metadata[i]?{widths:r.metadata[i].widths||e,kerning:r.metadata[i].kerning||n}:{widths:e,kerning:n}}.call(this,n);r=Array.isArray(t)?t:t.split(/\r?\n/);var s=1*this.internal.scaleFactor*e/i;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,a.lineIndent=n.lineIndent;var l,u,c=[];for(l=0,u=r.length;u>l;l++)c=c.concat(o(r[l],s,a));return c}}(jsPDF.API),function(t){"use strict";var e=function(t){for(var e="0123456789abcdef",n="klmnopqrstuvwxyz",r={},i=0;i<n.length;i++)r[n[i]]=e[i];var o,a,s,l,u,c={},h=1,f=c,d=[],p="",g="",m=t.length-1;for(i=1;i!=m;)u=t[i],i+=1,"'"==u?a?(l=a.join(""),a=o):a=[]:a?a.push(u):"{"==u?(d.push([f,l]),f={},l=o):"}"==u?(s=d.pop(),s[0][s[1]]=f,l=o,f=s[0]):"-"==u?h=-1:l===o?r.hasOwnProperty(u)?(p+=r[u],l=parseInt(p,16)*h,h=1,p=""):p+=u:r.hasOwnProperty(u)?(g+=r[u],f[l]=parseInt(g,16)*h,h=1,l=o,g=""):g+=u;return c},n={codePages:["WinAnsiEncoding"],WinAnsiEncoding:e("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},r={Unicode:{Courier:n,"Courier-Bold":n,"Courier-BoldOblique":n,"Courier-Oblique":n,Helvetica:n,"Helvetica-Bold":n,"Helvetica-BoldOblique":n,"Helvetica-Oblique":n,"Times-Roman":n,"Times-Bold":n,"Times-BoldItalic":n,"Times-Italic":n}},i={Unicode:{"Courier-Oblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":e("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":e("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Helvetica:e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":e("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),"Courier-Bold":e("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":e("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":e("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":e("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFonts",function(t){var e,n,o,a,s,l="Unicode";for(n in t.fonts)t.fonts.hasOwnProperty(n)&&(e=t.fonts[n],o=i[l][e.PostScriptName],o&&(a=e.metadata[l]?e.metadata[l]:e.metadata[l]={},a.widths=o.widths,a.kerning=o.kerning),s=r[l][e.PostScriptName],s&&(a=e.metadata[l]?e.metadata[l]:e.metadata[l]={},a.encoding=s,s.codePages&&s.codePages.length&&(e.encoding=s.codePages[0])))}])}(jsPDF.API),/** ==================================================================== 
 * jsPDF total_pages plugin
 * Copyright (c) 2013 Eduardo Menezes de Morais, eduardo.morais@usp.br
 * 
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 * 
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 */
function(t){"use strict";t.putTotalPages=function(t){for(var e=new RegExp(t,"g"),n=1;n<=this.internal.getNumberOfPages();n++)for(var r=0;r<this.internal.pages[n].length;r++)this.internal.pages[n][r]=this.internal.pages[n][r].replace(e,this.internal.getNumberOfPages());return this}}(jsPDF.API),/* Blob.js
 * A Blob implementation.
 * 2014-07-24
 *
 * By Eli Grey, http://eligrey.com
 * By Devin Samarin, https://github.com/dsamarin
 * License: X11/MIT
 *   See https://github.com/eligrey/Blob.js/blob/master/LICENSE.md
 */
/*! @source http://purl.eligrey.com/github/Blob.js/blob/master/Blob.js */
function(t){"use strict";if(t.URL=t.URL||t.webkitURL,t.Blob&&t.URL)try{return void new Blob}catch(e){}var n=t.BlobBuilder||t.WebKitBlobBuilder||t.MozBlobBuilder||function(t){var e=function(t){return Object.prototype.toString.call(t).match(/^\[object\s(.*)\]$/)[1]},n=function(){this.data=[]},r=function(t,e,n){this.data=t,this.size=t.length,this.type=e,this.encoding=n},i=n.prototype,o=r.prototype,a=t.FileReaderSync,s=function(t){this.code=this[this.name=t]},l="NOT_FOUND_ERR SECURITY_ERR ABORT_ERR NOT_READABLE_ERR ENCODING_ERR NO_MODIFICATION_ALLOWED_ERR INVALID_STATE_ERR SYNTAX_ERR".split(" "),u=l.length,c=t.URL||t.webkitURL||t,h=c.createObjectURL,f=c.revokeObjectURL,d=c,p=t.btoa,g=t.atob,m=t.ArrayBuffer,v=t.Uint8Array,y=/^[\w-]+:\/*\[?[\w\.:-]+\]?(?::[0-9]+)?/;for(r.fake=o.fake=!0;u--;)s.prototype[l[u]]=u+1;return c.createObjectURL||(d=t.URL=function(t){var e,n=document.createElementNS("http://www.w3.org/1999/xhtml","a");return n.href=t,"origin"in n||("data:"===n.protocol.toLowerCase()?n.origin=null:(e=t.match(y),n.origin=e&&e[1])),n}),d.createObjectURL=function(t){var e,n=t.type;return null===n&&(n="application/octet-stream"),t instanceof r?(e="data:"+n,"base64"===t.encoding?e+";base64,"+t.data:"URI"===t.encoding?e+","+decodeURIComponent(t.data):p?e+";base64,"+p(t.data):e+","+encodeURIComponent(t.data)):h?h.call(c,t):void 0},d.revokeObjectURL=function(t){"data:"!==t.substring(0,5)&&f&&f.call(c,t)},i.append=function(t){var n=this.data;if(v&&(t instanceof m||t instanceof v)){for(var i="",o=new v(t),l=0,u=o.length;u>l;l++)i+=String.fromCharCode(o[l]);n.push(i)}else if("Blob"===e(t)||"File"===e(t)){if(!a)throw new s("NOT_READABLE_ERR");var c=new a;n.push(c.readAsBinaryString(t))}else t instanceof r?"base64"===t.encoding&&g?n.push(g(t.data)):"URI"===t.encoding?n.push(decodeURIComponent(t.data)):"raw"===t.encoding&&n.push(t.data):("string"!=typeof t&&(t+=""),n.push(unescape(encodeURIComponent(t))))},i.getBlob=function(t){return arguments.length||(t=null),new r(this.data.join(""),t,"raw")},i.toString=function(){return"[object BlobBuilder]"},o.slice=function(t,e,n){var i=arguments.length;return 3>i&&(n=null),new r(this.data.slice(t,i>1?e:this.data.length),n,this.encoding)},o.toString=function(){return"[object Blob]"},o.close=function(){this.size=0,delete this.data},n}(t);t.Blob=function(t,e){var r=e?e.type||"":"",i=new n;if(t)for(var o=0,a=t.length;a>o;o++)i.append(t[o]);return i.getBlob(r)}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content||this);/* FileSaver.js
 * A saveAs() FileSaver implementation.
 * 2014-08-29
 *
 * By Eli Grey, http://eligrey.com
 * License: X11/MIT
 *   See https://github.com/eligrey/FileSaver.js/blob/master/LICENSE.md
 */
/*! @source http://purl.eligrey.com/github/FileSaver.js/blob/master/FileSaver.js */
var saveAs=saveAs||"undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob&&navigator.msSaveOrOpenBlob.bind(navigator)||function(t){"use strict";if("undefined"==typeof navigator||!/MSIE [1-9]\./.test(navigator.userAgent)){var e=t.document,n=function(){return t.URL||t.webkitURL||t},r=e.createElementNS("http://www.w3.org/1999/xhtml","a"),i="download"in r,o=function(n){var r=e.createEvent("MouseEvents");r.initMouseEvent("click",!0,!1,t,0,0,0,0,0,!1,!1,!1,!1,0,null),n.dispatchEvent(r)},a=t.webkitRequestFileSystem,s=t.requestFileSystem||a||t.mozRequestFileSystem,l=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},u="application/octet-stream",c=0,h=10,f=function(e){var r=function(){"string"==typeof e?n().revokeObjectURL(e):e.remove()};t.chrome?r():setTimeout(r,h)},d=function(t,e,n){e=[].concat(e);for(var r=e.length;r--;){var i=t["on"+e[r]];if("function"==typeof i)try{i.call(t,n||t)}catch(o){l(o)}}},p=function(e,l){var h,p,g,m=this,v=e.type,y=!1,w=function(){d(m,"writestart progress write writeend".split(" "))},b=function(){if((y||!h)&&(h=n().createObjectURL(e)),p)p.location.href=h;else{var r=t.open(h,"_blank");void 0==r&&"undefined"!=typeof safari&&(t.location.href=h)}m.readyState=m.DONE,w(),f(h)},x=function(t){return function(){return m.readyState!==m.DONE?t.apply(this,arguments):void 0}},C={create:!0,exclusive:!1};return m.readyState=m.INIT,l||(l="download"),i?(h=n().createObjectURL(e),r.href=h,r.download=l,o(r),m.readyState=m.DONE,w(),void f(h)):(t.chrome&&v&&v!==u&&(g=e.slice||e.webkitSlice,e=g.call(e,0,e.size,u),y=!0),a&&"download"!==l&&(l+=".download"),(v===u||a)&&(p=t),s?(c+=e.size,void s(t.TEMPORARY,c,x(function(t){t.root.getDirectory("saved",C,x(function(t){var n=function(){t.getFile(l,C,x(function(t){t.createWriter(x(function(n){n.onwriteend=function(e){p.location.href=t.toURL(),m.readyState=m.DONE,d(m,"writeend",e),f(t)},n.onerror=function(){var t=n.error;t.code!==t.ABORT_ERR&&b()},"writestart progress write abort".split(" ").forEach(function(t){n["on"+t]=m["on"+t]}),n.write(e),m.abort=function(){n.abort(),m.readyState=m.DONE},m.readyState=m.WRITING}),b)}),b)};t.getFile(l,{create:!1},x(function(t){t.remove(),n()}),x(function(t){t.code===t.NOT_FOUND_ERR?n():b()}))}),b)}),b)):void b())},g=p.prototype,m=function(t,e){return new p(t,e)};return g.abort=function(){var t=this;t.readyState=t.DONE,d(t,"abort")},g.readyState=g.INIT=0,g.WRITING=1,g.DONE=2,g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null,m}}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this.content);"undefined"!=typeof module&&null!==module?module.exports=saveAs:("undefined"!=typeof define,1),/*
 * Copyright (c) 2012 chick307 <chick307@gmail.com>
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */
void function(t,e){"object"==typeof module?module.exports=e():t.adler32cs=e()}(jsPDF,function(){var t="function"==typeof ArrayBuffer&&"function"==typeof Uint8Array,e=null,n=function(){if(!t)return function(){return!1};try{var n=require("buffer");"function"==typeof n.Buffer&&(e=n.Buffer)}catch(r){}return function(t){return t instanceof ArrayBuffer||null!==e&&t instanceof e}}(),r=function(){return null!==e?function(t){return new e(t,"utf8").toString("binary")}:function(t){return unescape(encodeURIComponent(t))}}(),i=65521,o=function(t,e){for(var n=65535&t,r=t>>>16,o=0,a=e.length;a>o;o++)n=(n+(255&e.charCodeAt(o)))%i,r=(r+n)%i;return(r<<16|n)>>>0},a=function(t,e){for(var n=65535&t,r=t>>>16,o=0,a=e.length;a>o;o++)n=(n+e[o])%i,r=(r+n)%i;return(r<<16|n)>>>0},s={},l=s.Adler32=function(){var e=function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!isFinite(t=null==t?1:+t))throw new Error("First arguments needs to be a finite number.");this.checksum=t>>>0},i=e.prototype={};return i.constructor=e,e.from=function(t){return t.prototype=i,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");this.checksum=o(1,t.toString())}),e.fromUtf8=function(t){return t.prototype=i,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(null==t)throw new Error("First argument needs to be a string.");var n=r(t.toString());this.checksum=o(1,n)}),t&&(e.fromBuffer=function(t){return t.prototype=i,t}(function(t){if(!(this instanceof e))throw new TypeError("Constructor cannot called be as a function.");if(!n(t))throw new Error("First argument needs to be ArrayBuffer.");var r=new Uint8Array(t);return this.checksum=a(1,r)})),i.update=function(t){if(null==t)throw new Error("First argument needs to be a string.");return t=t.toString(),this.checksum=o(this.checksum,t)},i.updateUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=r(t.toString());return this.checksum=o(this.checksum,e)},t&&(i.updateBuffer=function(t){if(!n(t))throw new Error("First argument needs to be ArrayBuffer.");var e=new Uint8Array(t);return this.checksum=a(this.checksum,e)}),i.clone=function(){return new l(this.checksum)},e}();return s.from=function(t){if(null==t)throw new Error("First argument needs to be a string.");return o(1,t.toString())},s.fromUtf8=function(t){if(null==t)throw new Error("First argument needs to be a string.");var e=r(t.toString());return o(1,e)},t&&(s.fromBuffer=function(t){if(!n(t))throw new Error("First argument need to be ArrayBuffer.");var e=new Uint8Array(t);return a(1,e)}),s});/*
 Deflate.js - https://github.com/gildas-lormeau/zip.js
 Copyright (c) 2013 Gildas Lormeau. All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 1. Redistributions of source code must retain the above copyright notice,
 this list of conditions and the following disclaimer.

 2. Redistributions in binary form must reproduce the above copyright 
 notice, this list of conditions and the following disclaimer in 
 the documentation and/or other materials provided with the distribution.

 3. The names of the authors may not be used to endorse or promote products
 derived from this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
 INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
 INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
 INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
 OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
var Deflater=function(t){function e(){function t(t){var e,n,i,o,a,l,u=r.dyn_tree,c=r.stat_desc.static_tree,h=r.stat_desc.extra_bits,f=r.stat_desc.extra_base,p=r.stat_desc.max_length,g=0;for(o=0;s>=o;o++)t.bl_count[o]=0;for(u[2*t.heap[t.heap_max]+1]=0,e=t.heap_max+1;d>e;e++)n=t.heap[e],o=u[2*u[2*n+1]+1]+1,o>p&&(o=p,g++),u[2*n+1]=o,n>r.max_code||(t.bl_count[o]++,a=0,n>=f&&(a=h[n-f]),l=u[2*n],t.opt_len+=l*(o+a),c&&(t.static_len+=l*(c[2*n+1]+a)));if(0!==g){do{for(o=p-1;0===t.bl_count[o];)o--;t.bl_count[o]--,t.bl_count[o+1]+=2,t.bl_count[p]--,g-=2}while(g>0);for(o=p;0!==o;o--)for(n=t.bl_count[o];0!==n;)i=t.heap[--e],i>r.max_code||(u[2*i+1]!=o&&(t.opt_len+=(o-u[2*i+1])*u[2*i],u[2*i+1]=o),n--)}}function e(t,e){var n=0;do n|=1&t,t>>>=1,n<<=1;while(--e>0);return n>>>1}function n(t,n,r){var i,o,a,l=[],u=0;for(i=1;s>=i;i++)l[i]=u=u+r[i-1]<<1;for(o=0;n>=o;o++)a=t[2*o+1],0!==a&&(t[2*o]=e(l[a]++,a))}var r=this;r.build_tree=function(e){var i,o,a,s=r.dyn_tree,l=r.stat_desc.static_tree,u=r.stat_desc.elems,c=-1;for(e.heap_len=0,e.heap_max=d,i=0;u>i;i++)0!==s[2*i]?(e.heap[++e.heap_len]=c=i,e.depth[i]=0):s[2*i+1]=0;for(;e.heap_len<2;)a=e.heap[++e.heap_len]=2>c?++c:0,s[2*a]=1,e.depth[a]=0,e.opt_len--,l&&(e.static_len-=l[2*a+1]);for(r.max_code=c,i=Math.floor(e.heap_len/2);i>=1;i--)e.pqdownheap(s,i);a=u;do i=e.heap[1],e.heap[1]=e.heap[e.heap_len--],e.pqdownheap(s,1),o=e.heap[1],e.heap[--e.heap_max]=i,e.heap[--e.heap_max]=o,s[2*a]=s[2*i]+s[2*o],e.depth[a]=Math.max(e.depth[i],e.depth[o])+1,s[2*i+1]=s[2*o+1]=a,e.heap[1]=a++,e.pqdownheap(s,1);while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],t(e),n(s,r.max_code,e.bl_count)}}function n(t,e,n,r,i){var o=this;o.static_tree=t,o.extra_bits=e,o.extra_base=n,o.elems=r,o.max_length=i}function r(t,e,n,r,i){var o=this;o.good_length=t,o.max_lazy=e,o.nice_length=n,o.max_chain=r,o.func=i}function i(t,e,n,r){var i=t[2*e],o=t[2*n];return o>i||i==o&&r[e]<=r[n]}function o(){function t(){var t;for(Dt=2*St,Rt[Ot-1]=0,t=0;Ot-1>t;t++)Rt[t]=0;Yt=F[Xt].max_lazy,Kt=F[Xt].good_length,Zt=F[Xt].nice_length,Ut=F[Xt].max_chain,qt=0,Bt=0,zt=0,Ht=Wt=tt-1,Vt=0,Pt=0}function r(){var t;for(t=0;f>t;t++)Jt[2*t]=0;for(t=0;l>t;t++)Qt[2*t]=0;for(t=0;u>t;t++)te[2*t]=0;Jt[2*p]=1,ee.opt_len=ee.static_len=0,se=ue=0}function o(){ne.dyn_tree=Jt,ne.stat_desc=n.static_l_desc,re.dyn_tree=Qt,re.stat_desc=n.static_d_desc,ie.dyn_tree=te,ie.stat_desc=n.static_bl_desc,he=0,fe=0,ce=8,r()}function a(t,e){var n,r,i=-1,o=t[1],a=0,s=7,l=4;for(0===o&&(s=138,l=3),t[2*(e+1)+1]=65535,n=0;e>=n;n++)r=o,o=t[2*(n+1)+1],++a<s&&r==o||(l>a?te[2*r]+=a:0!==r?(r!=i&&te[2*r]++,te[2*m]++):10>=a?te[2*v]++:te[2*y]++,a=0,i=r,0===o?(s=138,l=3):r==o?(s=6,l=3):(s=7,l=4))}function s(){var t;for(a(Jt,ne.max_code),a(Qt,re.max_code),ie.build_tree(ee),t=u-1;t>=3&&0===te[2*e.bl_order[t]+1];t--);return ee.opt_len+=3*(t+1)+5+5+4,t}function c(t){ee.pending_buf[ee.pending++]=t}function d(t){c(255&t),c(t>>>8&255)}function g(t){c(t>>8&255),c(255&t&255)}function O(t,e){var n,r=e;fe>w-r?(n=t,he|=n<<fe&65535,d(he),he=n>>>w-fe,fe+=r-w):(he|=t<<fe&65535,fe+=r)}function rt(t,e){var n=2*t;O(65535&e[n],65535&e[n+1])}function it(t,e){var n,r,i=-1,o=t[1],a=0,s=7,l=4;for(0===o&&(s=138,l=3),n=0;e>=n;n++)if(r=o,o=t[2*(n+1)+1],!(++a<s&&r==o)){if(l>a){do rt(r,te);while(0!==--a)}else 0!==r?(r!=i&&(rt(r,te),a--),rt(m,te),O(a-3,2)):10>=a?(rt(v,te),O(a-3,3)):(rt(y,te),O(a-11,7));a=0,i=r,0===o?(s=138,l=3):r==o?(s=6,l=3):(s=7,l=4)}}function ot(t,n,r){var i;for(O(t-257,5),O(n-1,5),O(r-4,4),i=0;r>i;i++)O(te[2*e.bl_order[i]+1],3);it(Jt,t-1),it(Qt,n-1)}function at(){16==fe?(d(he),he=0,fe=0):fe>=8&&(c(255&he),he>>>=8,fe-=8)}function st(){O(J<<1,3),rt(p,n.static_ltree),at(),9>1+ce+10-fe&&(O(J<<1,3),rt(p,n.static_ltree),at()),ce=7}function lt(t,n){var r,i,o;if(ee.pending_buf[le+2*se]=t>>>8&255,ee.pending_buf[le+2*se+1]=255&t,ee.pending_buf[oe+se]=255&n,se++,0===t?Jt[2*n]++:(ue++,t--,Jt[2*(e._length_code[n]+h+1)]++,Qt[2*e.d_code(t)]++),0===(8191&se)&&Xt>2){for(r=8*se,i=qt-Bt,o=0;l>o;o++)r+=Qt[2*o]*(5+e.extra_dbits[o]);if(r>>>=3,ue<Math.floor(se/2)&&r<Math.floor(i/2))return!0}return se==ae-1}function ut(t,n){var r,i,o,a,s=0;if(0!==se)do r=ee.pending_buf[le+2*s]<<8&65280|255&ee.pending_buf[le+2*s+1],i=255&ee.pending_buf[oe+s],s++,0===r?rt(i,t):(o=e._length_code[i],rt(o+h+1,t),a=e.extra_lbits[o],0!==a&&(i-=e.base_length[o],O(i,a)),r--,o=e.d_code(r),rt(o,n),a=e.extra_dbits[o],0!==a&&(r-=e.base_dist[o],O(r,a)));while(se>s);rt(p,t),ce=t[2*p+1]}function ct(){fe>8?d(he):fe>0&&c(255&he),he=0,fe=0}function ht(t,e,n){ct(),ce=8,n&&(d(e),d(~e)),ee.pending_buf.set(At.subarray(t,t+e),ee.pending),ee.pending+=e}function ft(t,e,n){O((Z<<1)+(n?1:0),3),ht(t,e,!0)}function dt(t,e,i){var o,a,l=0;Xt>0?(ne.build_tree(ee),re.build_tree(ee),l=s(),o=ee.opt_len+3+7>>>3,a=ee.static_len+3+7>>>3,o>=a&&(o=a)):o=a=e+5,o>=e+4&&-1!=t?ft(t,e,i):a==o?(O((J<<1)+(i?1:0),3),ut(n.static_ltree,n.static_dtree)):(O((Q<<1)+(i?1:0),3),ot(ne.max_code+1,re.max_code+1,l+1),ut(Jt,Qt)),r(),i&&ct()}function pt(t){dt(Bt>=0?Bt:-1,qt-Bt,t),Bt=qt,xt.flush_pending()}function gt(){var t,e,n,r;do{if(r=Dt-zt-qt,0===r&&0===qt&&0===zt)r=St;else if(-1==r)r--;else if(qt>=St+St-nt){At.set(At.subarray(St,St+St),0),jt-=St,qt-=St,Bt-=St,t=Ot,n=t;do e=65535&Rt[--n],Rt[n]=e>=St?e-St:0;while(0!==--t);t=St,n=t;do e=65535&Mt[--n],Mt[n]=e>=St?e-St:0;while(0!==--t);r+=St}if(0===xt.avail_in)return;t=xt.read_buf(At,qt+zt,r),zt+=t,zt>=tt&&(Pt=255&At[qt],Pt=(Pt<<Nt^255&At[qt+1])&It)}while(nt>zt&&0!==xt.avail_in)}function mt(t){var e,n=65535;for(n>Tt-5&&(n=Tt-5);;){if(1>=zt){if(gt(),0===zt&&t==E)return q;if(0===zt)break}if(qt+=zt,zt=0,e=Bt+n,(0===qt||qt>=e)&&(zt=qt-e,qt=e,pt(!1),0===xt.avail_out))return q;if(qt-Bt>=St-nt&&(pt(!1),0===xt.avail_out))return q}return pt(t==_),0===xt.avail_out?t==_?z:q:t==_?W:j}function vt(t){var e,n,r=Ut,i=qt,o=Wt,a=qt>St-nt?qt-(St-nt):0,s=Zt,l=$t,u=qt+et,c=At[i+o-1],h=At[i+o];Wt>=Kt&&(r>>=2),s>zt&&(s=zt);do if(e=t,At[e+o]==h&&At[e+o-1]==c&&At[e]==At[i]&&At[++e]==At[i+1]){i+=2,e++;do;while(At[++i]==At[++e]&&At[++i]==At[++e]&&At[++i]==At[++e]&&At[++i]==At[++e]&&At[++i]==At[++e]&&At[++i]==At[++e]&&At[++i]==At[++e]&&At[++i]==At[++e]&&u>i);if(n=et-(u-i),i=u-et,n>o){if(jt=t,o=n,n>=s)break;c=At[i+o-1],h=At[i+o]}}while((t=65535&Mt[t&l])>a&&0!==--r);return zt>=o?o:zt}function yt(t){for(var e,n=0;;){if(nt>zt){if(gt(),nt>zt&&t==E)return q;if(0===zt)break}if(zt>=tt&&(Pt=(Pt<<Nt^255&At[qt+(tt-1)])&It,n=65535&Rt[Pt],Mt[qt&$t]=Rt[Pt],Rt[Pt]=qt),0!==n&&St-nt>=(qt-n&65535)&&Gt!=C&&(Ht=vt(n)),Ht>=tt)if(e=lt(qt-jt,Ht-tt),zt-=Ht,Yt>=Ht&&zt>=tt){Ht--;do qt++,Pt=(Pt<<Nt^255&At[qt+(tt-1)])&It,n=65535&Rt[Pt],Mt[qt&$t]=Rt[Pt],Rt[Pt]=qt;while(0!==--Ht);qt++}else qt+=Ht,Ht=0,Pt=255&At[qt],Pt=(Pt<<Nt^255&At[qt+1])&It;else e=lt(0,255&At[qt]),zt--,qt++;if(e&&(pt(!1),0===xt.avail_out))return q}return pt(t==_),0===xt.avail_out?t==_?z:q:t==_?W:j}function wt(t){for(var e,n,r=0;;){if(nt>zt){if(gt(),nt>zt&&t==E)return q;if(0===zt)break}if(zt>=tt&&(Pt=(Pt<<Nt^255&At[qt+(tt-1)])&It,r=65535&Rt[Pt],Mt[qt&$t]=Rt[Pt],Rt[Pt]=qt),Wt=Ht,Ft=jt,Ht=tt-1,0!==r&&Yt>Wt&&St-nt>=(qt-r&65535)&&(Gt!=C&&(Ht=vt(r)),5>=Ht&&(Gt==x||Ht==tt&&qt-jt>4096)&&(Ht=tt-1)),Wt>=tt&&Wt>=Ht){n=qt+zt-tt,e=lt(qt-1-Ft,Wt-tt),zt-=Wt-1,Wt-=2;do++qt<=n&&(Pt=(Pt<<Nt^255&At[qt+(tt-1)])&It,r=65535&Rt[Pt],Mt[qt&$t]=Rt[Pt],Rt[Pt]=qt);while(0!==--Wt);if(Vt=0,Ht=tt-1,qt++,e&&(pt(!1),0===xt.avail_out))return q}else if(0!==Vt){if(e=lt(0,255&At[qt-1]),e&&pt(!1),qt++,zt--,0===xt.avail_out)return q}else Vt=1,qt++,zt--}return 0!==Vt&&(e=lt(0,255&At[qt-1]),Vt=0),pt(t==_),0===xt.avail_out?t==_?z:q:t==_?W:j}function bt(e){return e.total_in=e.total_out=0,e.msg=null,ee.pending=0,ee.pending_out=0,Ct=X,kt=E,o(),t(),$}var xt,Ct,Tt,Et,kt,St,_t,$t,At,Dt,Mt,Rt,Pt,Ot,Lt,It,Nt,Bt,Ht,Ft,Vt,qt,jt,zt,Wt,Ut,Yt,Xt,Gt,Kt,Zt,Jt,Qt,te,ee=this,ne=new e,re=new e,ie=new e;ee.depth=[];var oe,ae,se,le,ue,ce,he,fe;ee.bl_count=[],ee.heap=[],Jt=[],Qt=[],te=[],ee.pqdownheap=function(t,e){for(var n=ee.heap,r=n[e],o=e<<1;o<=ee.heap_len&&(o<ee.heap_len&&i(t,n[o+1],n[o],ee.depth)&&o++,!i(t,r,n[o],ee.depth));)n[e]=n[o],e=o,o<<=1;n[e]=r},ee.deflateInit=function(t,e,n,r,i,o){return r||(r=K),i||(i=I),o||(o=T),t.msg=null,e==b&&(e=6),1>i||i>L||r!=K||9>n||n>15||0>e||e>9||0>o||o>C?M:(t.dstate=ee,_t=n,St=1<<_t,$t=St-1,Lt=i+7,Ot=1<<Lt,It=Ot-1,Nt=Math.floor((Lt+tt-1)/tt),At=new Uint8Array(2*St),Mt=[],Rt=[],ae=1<<i+6,ee.pending_buf=new Uint8Array(4*ae),Tt=4*ae,le=Math.floor(ae/2),oe=3*ae,Xt=e,Gt=o,Et=255&r,bt(t))},ee.deflateEnd=function(){return Ct!=Y&&Ct!=X&&Ct!=G?M:(ee.pending_buf=null,Rt=null,Mt=null,At=null,ee.dstate=null,Ct==X?R:$)},ee.deflateParams=function(t,e,n){var r=$;return e==b&&(e=6),0>e||e>9||0>n||n>C?M:(F[Xt].func!=F[e].func&&0!==t.total_in&&(r=t.deflate(k)),Xt!=e&&(Xt=e,Yt=F[Xt].max_lazy,Kt=F[Xt].good_length,Zt=F[Xt].nice_length,Ut=F[Xt].max_chain),Gt=n,r)},ee.deflateSetDictionary=function(t,e,n){var r,i=n,o=0;if(!e||Ct!=Y)return M;if(tt>i)return $;for(i>St-nt&&(i=St-nt,o=n-i),At.set(e.subarray(o,o+i),0),qt=i,Bt=i,Pt=255&At[0],Pt=(Pt<<Nt^255&At[1])&It,r=0;i-tt>=r;r++)Pt=(Pt<<Nt^255&At[r+(tt-1)])&It,Mt[r&$t]=Rt[Pt],Rt[Pt]=r;return $},ee.deflate=function(t,e){var n,r,i,o,a;if(e>_||0>e)return M;if(!t.next_out||!t.next_in&&0!==t.avail_in||Ct==G&&e!=_)return t.msg=V[D-M],M;if(0===t.avail_out)return t.msg=V[D-P],P;if(xt=t,o=kt,kt=e,Ct==Y&&(r=K+(_t-8<<4)<<8,i=(Xt-1&255)>>1,i>3&&(i=3),r|=i<<6,0!==qt&&(r|=U),r+=31-r%31,Ct=X,g(r)),0!==ee.pending){if(xt.flush_pending(),0===xt.avail_out)return kt=-1,$}else if(0===xt.avail_in&&o>=e&&e!=_)return xt.msg=V[D-P],P;if(Ct==G&&0!==xt.avail_in)return t.msg=V[D-P],P;if(0!==xt.avail_in||0!==zt||e!=E&&Ct!=G){switch(a=-1,F[Xt].func){case N:a=mt(e);break;case B:a=yt(e);break;case H:a=wt(e)}if((a==z||a==W)&&(Ct=G),a==q||a==z)return 0===xt.avail_out&&(kt=-1),$;if(a==j){if(e==k)st();else if(ft(0,0,!1),e==S)for(n=0;Ot>n;n++)Rt[n]=0;if(xt.flush_pending(),0===xt.avail_out)return kt=-1,$}}return e!=_?$:A}}function a(){var t=this;t.next_in_index=0,t.next_out_index=0,t.avail_in=0,t.total_in=0,t.avail_out=0,t.total_out=0}var s=15,l=30,u=19,c=29,h=256,f=h+1+c,d=2*f+1,p=256,g=7,m=16,v=17,y=18,w=16,b=-1,x=1,C=2,T=0,E=0,k=1,S=3,_=4,$=0,A=1,D=2,M=-2,R=-3,P=-5,O=[0,1,2,3,4,4,5,5,6,6,6,6,7,7,7,7,8,8,8,8,8,8,8,8,9,9,9,9,9,9,9,9,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,10,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,11,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,14,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,15,0,0,16,17,18,18,19,19,20,20,20,20,21,21,21,21,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29,29];e._length_code=[0,1,2,3,4,5,6,7,8,8,9,9,10,10,11,11,12,12,12,12,13,13,13,13,14,14,14,14,15,15,15,15,16,16,16,16,16,16,16,16,17,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,25,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,26,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,27,28],e.base_length=[0,1,2,3,4,5,6,7,8,10,12,14,16,20,24,28,32,40,48,56,64,80,96,112,128,160,192,224,0],e.base_dist=[0,1,2,3,4,6,8,12,16,24,32,48,64,96,128,192,256,384,512,768,1024,1536,2048,3072,4096,6144,8192,12288,16384,24576],e.d_code=function(t){return 256>t?O[t]:O[256+(t>>>7)]},e.extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],e.extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],e.extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],e.bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],n.static_ltree=[12,8,140,8,76,8,204,8,44,8,172,8,108,8,236,8,28,8,156,8,92,8,220,8,60,8,188,8,124,8,252,8,2,8,130,8,66,8,194,8,34,8,162,8,98,8,226,8,18,8,146,8,82,8,210,8,50,8,178,8,114,8,242,8,10,8,138,8,74,8,202,8,42,8,170,8,106,8,234,8,26,8,154,8,90,8,218,8,58,8,186,8,122,8,250,8,6,8,134,8,70,8,198,8,38,8,166,8,102,8,230,8,22,8,150,8,86,8,214,8,54,8,182,8,118,8,246,8,14,8,142,8,78,8,206,8,46,8,174,8,110,8,238,8,30,8,158,8,94,8,222,8,62,8,190,8,126,8,254,8,1,8,129,8,65,8,193,8,33,8,161,8,97,8,225,8,17,8,145,8,81,8,209,8,49,8,177,8,113,8,241,8,9,8,137,8,73,8,201,8,41,8,169,8,105,8,233,8,25,8,153,8,89,8,217,8,57,8,185,8,121,8,249,8,5,8,133,8,69,8,197,8,37,8,165,8,101,8,229,8,21,8,149,8,85,8,213,8,53,8,181,8,117,8,245,8,13,8,141,8,77,8,205,8,45,8,173,8,109,8,237,8,29,8,157,8,93,8,221,8,61,8,189,8,125,8,253,8,19,9,275,9,147,9,403,9,83,9,339,9,211,9,467,9,51,9,307,9,179,9,435,9,115,9,371,9,243,9,499,9,11,9,267,9,139,9,395,9,75,9,331,9,203,9,459,9,43,9,299,9,171,9,427,9,107,9,363,9,235,9,491,9,27,9,283,9,155,9,411,9,91,9,347,9,219,9,475,9,59,9,315,9,187,9,443,9,123,9,379,9,251,9,507,9,7,9,263,9,135,9,391,9,71,9,327,9,199,9,455,9,39,9,295,9,167,9,423,9,103,9,359,9,231,9,487,9,23,9,279,9,151,9,407,9,87,9,343,9,215,9,471,9,55,9,311,9,183,9,439,9,119,9,375,9,247,9,503,9,15,9,271,9,143,9,399,9,79,9,335,9,207,9,463,9,47,9,303,9,175,9,431,9,111,9,367,9,239,9,495,9,31,9,287,9,159,9,415,9,95,9,351,9,223,9,479,9,63,9,319,9,191,9,447,9,127,9,383,9,255,9,511,9,0,7,64,7,32,7,96,7,16,7,80,7,48,7,112,7,8,7,72,7,40,7,104,7,24,7,88,7,56,7,120,7,4,7,68,7,36,7,100,7,20,7,84,7,52,7,116,7,3,8,131,8,67,8,195,8,35,8,163,8,99,8,227,8],n.static_dtree=[0,5,16,5,8,5,24,5,4,5,20,5,12,5,28,5,2,5,18,5,10,5,26,5,6,5,22,5,14,5,30,5,1,5,17,5,9,5,25,5,5,5,21,5,13,5,29,5,3,5,19,5,11,5,27,5,7,5,23,5],n.static_l_desc=new n(n.static_ltree,e.extra_lbits,h+1,f,s),n.static_d_desc=new n(n.static_dtree,e.extra_dbits,0,l,s),n.static_bl_desc=new n(null,e.extra_blbits,0,u,g);var L=9,I=8,N=0,B=1,H=2,F=[new r(0,0,0,0,N),new r(4,4,8,4,B),new r(4,5,16,8,B),new r(4,6,32,32,B),new r(4,4,16,16,H),new r(8,16,32,32,H),new r(8,16,128,128,H),new r(8,32,128,256,H),new r(32,128,258,1024,H),new r(32,258,258,4096,H)],V=["need dictionary","stream end","","","stream error","data error","","buffer error","",""],q=0,j=1,z=2,W=3,U=32,Y=42,X=113,G=666,K=8,Z=0,J=1,Q=2,tt=3,et=258,nt=et+tt+1;return a.prototype={deflateInit:function(t,e){var n=this;return n.dstate=new o,e||(e=s),n.dstate.deflateInit(n,t,e)},deflate:function(t){var e=this;return e.dstate?e.dstate.deflate(e,t):M},deflateEnd:function(){var t=this;if(!t.dstate)return M;var e=t.dstate.deflateEnd();return t.dstate=null,e},deflateParams:function(t,e){var n=this;return n.dstate?n.dstate.deflateParams(n,t,e):M},deflateSetDictionary:function(t,e){var n=this;return n.dstate?n.dstate.deflateSetDictionary(n,t,e):M},read_buf:function(t,e,n){var r=this,i=r.avail_in;return i>n&&(i=n),0===i?0:(r.avail_in-=i,t.set(r.next_in.subarray(r.next_in_index,r.next_in_index+i),e),r.next_in_index+=i,r.total_in+=i,i)},flush_pending:function(){var t=this,e=t.dstate.pending;e>t.avail_out&&(e=t.avail_out),0!==e&&(t.next_out.set(t.dstate.pending_buf.subarray(t.dstate.pending_out,t.dstate.pending_out+e),t.next_out_index),t.next_out_index+=e,t.dstate.pending_out+=e,t.total_out+=e,t.avail_out-=e,t.dstate.pending-=e,0===t.dstate.pending&&(t.dstate.pending_out=0))}},function(t){var e=this,n=new a,r=512,i=E,o=new Uint8Array(r);"undefined"==typeof t&&(t=b),n.deflateInit(t),n.next_out=o,e.append=function(t,e){var a,s,l=[],u=0,c=0,h=0;if(t.length){n.next_in_index=0,n.next_in=t,n.avail_in=t.length;do{if(n.next_out_index=0,n.avail_out=r,a=n.deflate(i),a!=$)throw"deflating: "+n.msg;n.next_out_index&&l.push(n.next_out_index==r?new Uint8Array(o):new Uint8Array(o.subarray(0,n.next_out_index))),h+=n.next_out_index,e&&n.next_in_index>0&&n.next_in_index!=u&&(e(n.next_in_index),u=n.next_in_index)}while(n.avail_in>0||0===n.avail_out);return s=new Uint8Array(h),l.forEach(function(t){s.set(t,c),c+=t.length}),s}},e.flush=function(){var t,e,i=[],a=0,s=0;do{if(n.next_out_index=0,n.avail_out=r,t=n.deflate(_),t!=A&&t!=$)throw"deflating: "+n.msg;r-n.avail_out>0&&i.push(new Uint8Array(o.subarray(0,n.next_out_index))),s+=n.next_out_index}while(n.avail_in>0||0===n.avail_out);return n.deflateEnd(),e=new Uint8Array(s),i.forEach(function(t){e.set(t,a),a+=t.length}),e}}}(this);/*
# PNG.js
# Copyright (c) 2011 Devon Govett
# MIT LICENSE
# 
# Permission is hereby granted, free of charge, to any person obtaining a copy of this 
# software and associated documentation files (the "Software"), to deal in the Software 
# without restriction, including without limitation the rights to use, copy, modify, merge, 
# publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons 
# to whom the Software is furnished to do so, subject to the following conditions:
# 
# The above copyright notice and this permission notice shall be included in all copies or 
# substantial portions of the Software.
# 
# THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING 
# BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND 
# NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, 
# DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, 
# OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
*/
!function(t){var e;e=function(){function e(t){var e,n,r,i,o,a,s,l,u,c,h,f,d,p,g;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},a=null;;){switch(e=this.readUInt32(),c=function(){var t,e;for(e=[],s=t=0;4>t;s=++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(e);break;case"fcTL":a&&this.animation.frames.push(a),this.pos+=4,a={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},o=this.readUInt16(),i=this.readUInt16()||100,a.delay=1e3*o/i,a.disposeOp=this.data[this.pos++],a.blendOp=this.data[this.pos++],a.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,e-=4),t=(null!=a?a.data:void 0)||this.imgData,s=d=0;e>=0?e>d:d>e;s=e>=0?++d:--d)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(e),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if(h=r-this.transparency.indexed.length,h>0)for(s=p=0;h>=0?h>p:p>h;s=h>=0?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":f=this.read(e),l=f.indexOf(0),u=String.fromCharCode.apply(String,f.slice(0,l)),this.text[u]=String.fromCharCode.apply(String,f.slice(l+1));break;case"IEND":return a&&this.animation.frames.push(a),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(g=this.colorType)||6===g,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}var n,r,i,o,a,s,l,u;e.load=function(t,n,r){var i;return"function"==typeof n&&(r=n),i=new XMLHttpRequest,i.open("GET",t,!0),i.responseType="arraybuffer",i.onload=function(){var t,o;return t=new Uint8Array(i.response||i.mozResponseArrayBuffer),o=new e(t),"function"==typeof(null!=n?n.getContext:void 0)&&o.render(n),"function"==typeof r?r(o):void 0},i.send(null)},o=0,i=1,a=2,r=0,n=1,e.prototype.read=function(t){var e,n,r;for(r=[],e=n=0;t>=0?t>n:n>t;e=t>=0?++n:--n)r.push(this.data[this.pos++]);return r},e.prototype.readUInt32=function(){var t,e,n,r;return t=this.data[this.pos++]<<24,e=this.data[this.pos++]<<16,n=this.data[this.pos++]<<8,r=this.data[this.pos++],t|e|n|r},e.prototype.readUInt16=function(){var t,e;return t=this.data[this.pos++]<<8,e=this.data[this.pos++],t|e},e.prototype.decodePixels=function(t){var e,n,r,i,o,a,s,l,u,c,h,f,d,p,g,m,v,y,w,b,x,C,T;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);for(t=new FlateStream(t),t=t.getBytes(),f=this.pixelBitlength/8,m=f*this.width,d=new Uint8Array(m*this.height),a=t.length,g=0,p=0,n=0;a>p;){switch(t[p++]){case 0:for(i=w=0;m>w;i=w+=1)d[n++]=t[p++];break;case 1:for(i=b=0;m>b;i=b+=1)e=t[p++],o=f>i?0:d[n-f],d[n++]=(e+o)%256;break;case 2:for(i=x=0;m>x;i=x+=1)e=t[p++],r=(i-i%f)/f,v=g&&d[(g-1)*m+r*f+i%f],d[n++]=(v+e)%256;break;case 3:for(i=C=0;m>C;i=C+=1)e=t[p++],r=(i-i%f)/f,o=f>i?0:d[n-f],v=g&&d[(g-1)*m+r*f+i%f],d[n++]=(e+Math.floor((o+v)/2))%256;break;case 4:for(i=T=0;m>T;i=T+=1)e=t[p++],r=(i-i%f)/f,o=f>i?0:d[n-f],0===g?v=y=0:(v=d[(g-1)*m+r*f+i%f],y=r&&d[(g-1)*m+(r-1)*f+i%f]),s=o+v-y,l=Math.abs(s-o),c=Math.abs(s-v),h=Math.abs(s-y),u=c>=l&&h>=l?o:h>=c?v:y,d[n++]=(e+u)%256;break;default:throw new Error("Invalid filter algorithm: "+t[p-1])}g++}return d},e.prototype.decodePalette=function(){var t,e,n,r,i,o,a,s,l,u;for(r=this.palette,a=this.transparency.indexed||[],o=new Uint8Array((a.length||0)+r.length),i=0,n=r.length,t=0,e=s=0,l=r.length;l>s;e=s+=3)o[i++]=r[e],o[i++]=r[e+1],o[i++]=r[e+2],o[i++]=null!=(u=a[t++])?u:255;return o},e.prototype.copyToImageData=function(t,e){var n,r,i,o,a,s,l,u,c,h,f;if(r=this.colors,c=null,n=this.hasAlphaChannel,this.palette.length&&(c=null!=(f=this._decodedPalette)?f:this._decodedPalette=this.decodePalette(),r=4,n=!0),i=t.data||t,u=i.length,a=c||e,o=s=0,1===r)for(;u>o;)l=c?4*e[o/4]:s,h=a[l++],i[o++]=h,i[o++]=h,i[o++]=h,i[o++]=n?a[l++]:255,s=l;else for(;u>o;)l=c?4*e[o/4]:s,i[o++]=a[l++],i[o++]=a[l++],i[o++]=a[l++],i[o++]=n?a[l++]:255,s=l},e.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t};try{l=t.document.createElement("canvas"),u=l.getContext("2d")}catch(c){return-1}return s=function(t){var e;return u.width=t.width,u.height=t.height,u.clearRect(0,0,t.width,t.height),u.putImageData(t,0,0),e=new Image,e.src=l.toDataURL(),e},e.prototype.decodeFrames=function(t){var e,n,r,i,o,a,l,u;if(this.animation){for(l=this.animation.frames,u=[],n=o=0,a=l.length;a>o;n=++o)e=l[n],r=t.createImageData(e.width,e.height),i=this.decodePixels(new Uint8Array(e.data)),this.copyToImageData(r,i),e.imageData=r,u.push(e.image=s(r));return u}},e.prototype.renderFrame=function(t,e){var n,o,s;return o=this.animation.frames,n=o[e],s=o[e-1],0===e&&t.clearRect(0,0,this.width,this.height),(null!=s?s.disposeOp:void 0)===i?t.clearRect(s.xOffset,s.yOffset,s.width,s.height):(null!=s?s.disposeOp:void 0)===a&&t.putImageData(s.imageData,s.xOffset,s.yOffset),n.blendOp===r&&t.clearRect(n.xOffset,n.yOffset,n.width,n.height),t.drawImage(n.image,n.xOffset,n.yOffset)},e.prototype.animate=function(t){var e,n,r,i,o,a,s=this;return n=0,a=this.animation,i=a.numFrames,r=a.frames,o=a.numPlays,(e=function(){var a,l;return a=n++%i,l=r[a],s.renderFrame(t,a),i>1&&o>n/i?s.animation._timeout=setTimeout(e,l.delay):void 0})()},e.prototype.stopAnimation=function(){var t;return clearTimeout(null!=(t=this.animation)?t._timeout:void 0)},e.prototype.render=function(t){var e,n;return t._png&&t._png.stopAnimation(),t._png=this,t.width=this.width,t.height=this.height,e=t.getContext("2d"),this.animation?(this.decodeFrames(e),this.animate(e)):(n=e.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),e.putImageData(n,0,0))},e}(),t.PNG=e}("undefined"!=typeof window&&window||this);/*
 * Extracted from pdf.js
 * https://github.com/andreasgal/pdf.js
 *
 * Copyright (c) 2011 Mozilla Foundation
 *
 * Contributors: Andreas Gal <gal@mozilla.com>
 *               Chris G Jones <cjones@mozilla.com>
 *               Shaon Barman <shaon.barman@gmail.com>
 *               Vivien Nicolas <21@vingtetun.org>
 *               Justin D'Arcangelo <justindarc@gmail.com>
 *               Yury Delendik
 *
 * Permission is hereby granted, free of charge, to any person obtaining a
 * copy of this software and associated documentation files (the "Software"),
 * to deal in the Software without restriction, including without limitation
 * the rights to use, copy, modify, merge, publish, distribute, sublicense,
 * and/or sell copies of the Software, and to permit persons to whom the
 * Software is furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL
 * THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
 * DEALINGS IN THE SOFTWARE.
 */
var DecodeStream=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,n=e?e.byteLength:0;if(n>t)return e;for(var r=512;t>r;)r<<=1;for(var i=new Uint8Array(r),o=0;n>o;++o)i[o]=e[o];return this.buffer=i},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var n=e+t;!this.eof&&this.bufferLength<n;)this.readBlock();var r=this.bufferLength;n>r&&(n=r)}else{for(;!this.eof;)this.readBlock();var n=this.bufferLength}return this.pos=n,this.buffer.subarray(e,n)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,n){for(var r=t+e;this.bufferLength<=r&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,n)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),FlateStream=function(){function t(t){throw new Error(t)}function e(e){var n=0,r=e[n++],i=e[n++];(-1==r||-1==i)&&t("Invalid header in flate stream"),8!=(15&r)&&t("Unknown compression method in flate stream"),((r<<8)+i)%31!=0&&t("Bad FCHECK in flate stream"),32&i&&t("FDICT bit set in flate stream"),this.bytes=e,this.bytesPos=n,this.codeSize=0,this.codeBuf=0,DecodeStream.call(this)}if("undefined"==typeof Uint32Array)return void 0;var n=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),r=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),i=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),o=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],a=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return e.prototype=Object.create(DecodeStream.prototype),e.prototype.getBits=function(e){for(var n,r=this.codeSize,i=this.codeBuf,o=this.bytes,a=this.bytesPos;e>r;)"undefined"==typeof(n=o[a++])&&t("Bad encoding in flate stream"),i|=n<<r,r+=8;return n=i&(1<<e)-1,this.codeBuf=i>>e,this.codeSize=r-=e,this.bytesPos=a,n},e.prototype.getCode=function(e){for(var n=e[0],r=e[1],i=this.codeSize,o=this.codeBuf,a=this.bytes,s=this.bytesPos;r>i;){var l;"undefined"==typeof(l=a[s++])&&t("Bad encoding in flate stream"),o|=l<<i,i+=8}var u=n[o&(1<<r)-1],c=u>>16,h=65535&u;return(0==i||c>i||0==c)&&t("Bad encoding in flate stream"),this.codeBuf=o>>c,this.codeSize=i-c,this.bytesPos=s,h},e.prototype.generateHuffmanTable=function(t){for(var e=t.length,n=0,r=0;e>r;++r)t[r]>n&&(n=t[r]);for(var i=1<<n,o=new Uint32Array(i),a=1,s=0,l=2;n>=a;++a,s<<=1,l<<=1)for(var u=0;e>u;++u)if(t[u]==a){for(var c=0,h=s,r=0;a>r;++r)c=c<<1|1&h,h>>=1;for(var r=c;i>r;r+=l)o[r]=a<<16|u;++s}return[o,n]},e.prototype.readBlock=function(){function e(t,e,n,r,i){for(var o=t.getBits(n)+r;o-->0;)e[T++]=i}var s=this.getBits(3);if(1&s&&(this.eof=!0),s>>=1,0==s){var l,u=this.bytes,c=this.bytesPos;"undefined"==typeof(l=u[c++])&&t("Bad block header in flate stream");var h=l;"undefined"==typeof(l=u[c++])&&t("Bad block header in flate stream"),h|=l<<8,"undefined"==typeof(l=u[c++])&&t("Bad block header in flate stream");var f=l;"undefined"==typeof(l=u[c++])&&t("Bad block header in flate stream"),f|=l<<8,f!=(65535&~h)&&t("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var d=this.bufferLength,p=this.ensureBuffer(d+h),g=d+h;this.bufferLength=g;for(var m=d;g>m;++m){if("undefined"==typeof(l=u[c++])){this.eof=!0;break}p[m]=l}return void(this.bytesPos=c)}var v,y;if(1==s)v=o,y=a;else if(2==s){for(var w=this.getBits(5)+257,b=this.getBits(5)+1,x=this.getBits(4)+4,C=Array(n.length),T=0;x>T;)C[n[T++]]=this.getBits(3);for(var E=this.generateHuffmanTable(C),k=0,T=0,S=w+b,_=new Array(S);S>T;){var $=this.getCode(E);16==$?e(this,_,2,3,k):17==$?e(this,_,3,3,k=0):18==$?e(this,_,7,11,k=0):_[T++]=k=$}v=this.generateHuffmanTable(_.slice(0,w)),y=this.generateHuffmanTable(_.slice(w,S))}else t("Unknown block type in flate stream");for(var p=this.buffer,A=p?p.length:0,D=this.bufferLength;;){var M=this.getCode(v);if(256>M)D+1>=A&&(p=this.ensureBuffer(D+1),A=p.length),p[D++]=M;else{if(256==M)return void(this.bufferLength=D);M-=257,M=r[M];var R=M>>16;R>0&&(R=this.getBits(R));var k=(65535&M)+R;M=this.getCode(y),M=i[M],R=M>>16,R>0&&(R=this.getBits(R));var P=(65535&M)+R;D+k>=A&&(p=this.ensureBuffer(D+k),A=p.length);for(var O=0;k>O;++O,++D)p[D]=p[D-P]}}},e}();!function(t){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";"undefined"==typeof t.btoa&&(t.btoa=function(t){var n,r,i,o,a,s,l,u,c=0,h=0,f="",d=[];if(!t)return t;do n=t.charCodeAt(c++),r=t.charCodeAt(c++),i=t.charCodeAt(c++),u=n<<16|r<<8|i,o=u>>18&63,a=u>>12&63,s=u>>6&63,l=63&u,d[h++]=e.charAt(o)+e.charAt(a)+e.charAt(s)+e.charAt(l);while(c<t.length);f=d.join("");var p=t.length%3;return(p?f.slice(0,p-3):f)+"===".slice(p||3)}),"undefined"==typeof t.atob&&(t.atob=function(t){var n,r,i,o,a,s,l,u,c=0,h=0,f="",d=[];if(!t)return t;t+="";do o=e.indexOf(t.charAt(c++)),a=e.indexOf(t.charAt(c++)),s=e.indexOf(t.charAt(c++)),l=e.indexOf(t.charAt(c++)),u=o<<18|a<<12|s<<6|l,n=u>>16&255,r=u>>8&255,i=255&u,d[h++]=64==s?String.fromCharCode(n):64==l?String.fromCharCode(n,r):String.fromCharCode(n,r,i);while(c<t.length);return f=d.join("")}),Array.prototype.map||(Array.prototype.map=function(t){if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;for(var e=Object(this),n=e.length>>>0,r=new Array(n),i=arguments.length>1?arguments[1]:void 0,o=0;n>o;o++)o in e&&(r[o]=t.call(i,e[o],o,e));return r}),Array.isArray||(Array.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)}),Array.prototype.forEach||(Array.prototype.forEach=function(t,e){"use strict";if(void 0===this||null===this||"function"!=typeof t)throw new TypeError;for(var n=Object(this),r=n.length>>>0,i=0;r>i;i++)i in n&&t.call(e,n[i],i,n)}),Object.keys||(Object.keys=function(){"use strict";var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError;var o,a,s=[];for(o in i)t.call(i,o)&&s.push(o);if(e)for(a=0;r>a;a++)t.call(i,n[a])&&s.push(n[a]);return s}}()),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^\s+|\s+$/g,"")}),String.prototype.trimLeft||(String.prototype.trimLeft=function(){return this.replace(/^\s+/g,"")}),String.prototype.trimRight||(String.prototype.trimRight=function(){return this.replace(/\s+$/g,"")})}("undefined"!=typeof self&&self||"undefined"!=typeof window&&window||this),/*!
 * ZeroClipboard
 * The ZeroClipboard library provides an easy way to copy text to the clipboard using an invisible Adobe Flash movie and a JavaScript interface.
 * Copyright (c) 2009-2014 Jon Rohan, James M. Greene
 * Licensed MIT
 * http://zeroclipboard.org/
 * v2.2.0
 */
function(t,e){"use strict";var n,r,i,o=t,a=o.document,s=o.navigator,l=o.setTimeout,u=o.clearTimeout,c=o.setInterval,h=o.clearInterval,f=o.getComputedStyle,d=o.encodeURIComponent,p=o.ActiveXObject,g=o.Error,m=o.Number.parseInt||o.parseInt,v=o.Number.parseFloat||o.parseFloat,y=o.Number.isNaN||o.isNaN,w=o.Date.now,b=o.Object.keys,x=o.Object.defineProperty,C=o.Object.prototype.hasOwnProperty,T=o.Array.prototype.slice,E=function(){var t=function(t){return t};if("function"==typeof o.wrap&&"function"==typeof o.unwrap)try{var e=a.createElement("div"),n=o.unwrap(e);1===e.nodeType&&n&&1===n.nodeType&&(t=o.unwrap)}catch(r){}return t}(),k=function(t){return T.call(t,0)},S=function(){var t,n,r,i,o,a,s=k(arguments),l=s[0]||{};for(t=1,n=s.length;n>t;t++)if(null!=(r=s[t]))for(i in r)C.call(r,i)&&(o=l[i],a=r[i],l!==a&&a!==e&&(l[i]=a));return l},_=function(t){var e,n,r,i;if("object"!=typeof t||null==t||"number"==typeof t.nodeType)e=t;else if("number"==typeof t.length)for(e=[],n=0,r=t.length;r>n;n++)C.call(t,n)&&(e[n]=_(t[n]));else{e={};for(i in t)C.call(t,i)&&(e[i]=_(t[i]))}return e},$=function(t,e){for(var n={},r=0,i=e.length;i>r;r++)e[r]in t&&(n[e[r]]=t[e[r]]);return n},A=function(t,e){var n={};for(var r in t)-1===e.indexOf(r)&&(n[r]=t[r]);return n},D=function(t){if(t)for(var e in t)C.call(t,e)&&delete t[e];return t},M=function(t,e){if(t&&1===t.nodeType&&t.ownerDocument&&e&&(1===e.nodeType&&e.ownerDocument&&e.ownerDocument===t.ownerDocument||9===e.nodeType&&!e.ownerDocument&&e===t.ownerDocument))do{if(t===e)return!0;t=t.parentNode}while(t);return!1},R=function(t){var e;return"string"==typeof t&&t&&(e=t.split("#")[0].split("?")[0],e=t.slice(0,t.lastIndexOf("/")+1)),e},P=function(t){var e,n;return"string"==typeof t&&t&&(n=t.match(/^(?:|[^:@]*@|.+\)@(?=http[s]?|file)|.+?\s+(?: at |@)(?:[^:\(]+ )*[\(]?)((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]?e=n[1]:(n=t.match(/\)@((?:http[s]?|file):\/\/[\/]?.+?\/[^:\)]*?)(?::\d+)(?::\d+)?/),n&&n[1]&&(e=n[1]))),e},O=function(){var t,e;try{throw new g}catch(n){e=n}return e&&(t=e.sourceURL||e.fileName||P(e.stack)),t},L=function(){var t,n,r;if(a.currentScript&&(t=a.currentScript.src))return t;if(n=a.getElementsByTagName("script"),1===n.length)return n[0].src||e;if("readyState"in n[0])for(r=n.length;r--;)if("interactive"===n[r].readyState&&(t=n[r].src))return t;return"loading"===a.readyState&&(t=n[n.length-1].src)?t:(t=O())?t:e},I=function(){var t,n,r,i=a.getElementsByTagName("script");for(t=i.length;t--;){if(!(r=i[t].src)){n=null;break}if(r=R(r),null==n)n=r;else if(n!==r){n=null;break}}return n||e},N=function(){var t=R(L())||I()||"";return t+"ZeroClipboard.swf"},B=function(){return null==t.opener&&(!!t.top&&t!=t.top||!!t.parent&&t!=t.parent)}(),H={bridge:null,version:"0.0.0",pluginType:"unknown",disabled:null,outdated:null,sandboxed:null,unavailable:null,degraded:null,deactivated:null,overdue:null,ready:null},F="11.0.0",V={},q={},j=null,z=0,W=0,U={ready:"Flash communication is established",error:{"flash-disabled":"Flash is disabled or not installed. May also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-outdated":"Flash is too outdated to support ZeroClipboard","flash-sandboxed":"Attempting to run Flash in a sandboxed iframe, which is impossible","flash-unavailable":"Flash is unable to communicate bidirectionally with JavaScript","flash-degraded":"Flash is unable to preserve data fidelity when communicating with JavaScript","flash-deactivated":"Flash is too outdated for your browser and/or is configured as click-to-activate.\nThis may also mean that the ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity.\nMay also be attempting to run Flash in a sandboxed iframe, which is impossible.","flash-overdue":"Flash communication was established but NOT within the acceptable time limit","version-mismatch":"ZeroClipboard JS version number does not match ZeroClipboard SWF version number","clipboard-error":"At least one error was thrown while ZeroClipboard was attempting to inject your data into the clipboard","config-mismatch":"ZeroClipboard configuration does not match Flash's reality","swf-not-found":"The ZeroClipboard SWF object could not be loaded, so please check your `swfPath` configuration and/or network connectivity"}},Y=["flash-unavailable","flash-degraded","flash-overdue","version-mismatch","config-mismatch","clipboard-error"],X=["flash-disabled","flash-outdated","flash-sandboxed","flash-unavailable","flash-degraded","flash-deactivated","flash-overdue"],G=new RegExp("^flash-("+X.map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),K=new RegExp("^flash-("+X.slice(1).map(function(t){return t.replace(/^flash-/,"")}).join("|")+")$"),Z={swfPath:N(),trustedDomains:t.location.host?[t.location.host]:[],cacheBust:!0,forceEnhancedClipboard:!1,flashLoadTimeout:3e4,autoActivate:!0,bubbleEvents:!0,containerId:"global-zeroclipboard-html-bridge",containerClass:"global-zeroclipboard-container",swfObjectId:"global-zeroclipboard-flash-bridge",hoverClass:"zeroclipboard-is-hover",activeClass:"zeroclipboard-is-active",forceHandCursor:!1,title:null,zIndex:999999999},J=function(t){if("object"==typeof t&&null!==t)for(var e in t)if(C.call(t,e))if(/^(?:forceHandCursor|title|zIndex|bubbleEvents)$/.test(e))Z[e]=t[e];else if(null==H.bridge)if("containerId"===e||"swfObjectId"===e){if(!dt(t[e]))throw new Error("The specified `"+e+"` value is not valid as an HTML4 Element ID");Z[e]=t[e]}else Z[e]=t[e];{if("string"!=typeof t||!t)return _(Z);if(C.call(Z,t))return Z[t]}},Q=function(){return Wt(),{browser:$(s,["userAgent","platform","appName"]),flash:A(H,["bridge"]),zeroclipboard:{version:Yt.version,config:Yt.config()}}},tt=function(){return!!(H.disabled||H.outdated||H.sandboxed||H.unavailable||H.degraded||H.deactivated)},et=function(t,r){var i,o,a,s={};if("string"==typeof t&&t)a=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof r)for(i in t)C.call(t,i)&&"string"==typeof i&&i&&"function"==typeof t[i]&&Yt.on(i,t[i]);if(a&&a.length){for(i=0,o=a.length;o>i;i++)t=a[i].replace(/^on/,""),s[t]=!0,V[t]||(V[t]=[]),V[t].push(r);if(s.ready&&H.ready&&Yt.emit({type:"ready"}),s.error){for(i=0,o=X.length;o>i;i++)if(H[X[i].replace(/^flash-/,"")]===!0){Yt.emit({type:"error",name:X[i]});break}n!==e&&Yt.version!==n&&Yt.emit({type:"error",name:"version-mismatch",jsVersion:Yt.version,swfVersion:n})}}return Yt},nt=function(t,e){var n,r,i,o,a;if(0===arguments.length)o=b(V);else if("string"==typeof t&&t)o=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)C.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&Yt.off(n,t[n]);if(o&&o.length)for(n=0,r=o.length;r>n;n++)if(t=o[n].toLowerCase().replace(/^on/,""),a=V[t],a&&a.length)if(e)for(i=a.indexOf(e);-1!==i;)a.splice(i,1),i=a.indexOf(e,i);else a.length=0;return Yt},rt=function(t){var e;return e="string"==typeof t&&t?_(V[t])||null:_(V)},it=function(t){var e,n,r;return t=pt(t),t&&!xt(t)?"ready"===t.type&&H.overdue===!0?Yt.emit({type:"error",name:"flash-overdue"}):(e=S({},t),wt.call(this,e),"copy"===t.type&&(r=At(q),n=r.data,j=r.formatMap),n):void 0},ot=function(){var t=H.sandboxed;if(Wt(),"boolean"!=typeof H.ready&&(H.ready=!1),H.sandboxed!==t&&H.sandboxed===!0)H.ready=!1,Yt.emit({type:"error",name:"flash-sandboxed"});else if(!Yt.isFlashUnusable()&&null===H.bridge){var e=Z.flashLoadTimeout;"number"==typeof e&&e>=0&&(z=l(function(){"boolean"!=typeof H.deactivated&&(H.deactivated=!0),H.deactivated===!0&&Yt.emit({type:"error",name:"flash-deactivated"})},e)),H.overdue=!1,_t()}},at=function(){Yt.clearData(),Yt.blur(),Yt.emit("destroy"),$t(),Yt.off()},st=function(t,e){var n;if("object"==typeof t&&t&&"undefined"==typeof e)n=t,Yt.clearData();else{if("string"!=typeof t||!t)return;n={},n[t]=e}for(var r in n)"string"==typeof r&&r&&C.call(n,r)&&"string"==typeof n[r]&&n[r]&&(q[r]=n[r])},lt=function(t){"undefined"==typeof t?(D(q),j=null):"string"==typeof t&&C.call(q,t)&&delete q[t]},ut=function(t){return"undefined"==typeof t?_(q):"string"==typeof t&&C.call(q,t)?q[t]:void 0},ct=function(t){if(t&&1===t.nodeType){r&&(Nt(r,Z.activeClass),r!==t&&Nt(r,Z.hoverClass)),r=t,It(t,Z.hoverClass);var e=t.getAttribute("title")||Z.title;if("string"==typeof e&&e){var n=St(H.bridge);n&&n.setAttribute("title",e)}var i=Z.forceHandCursor===!0||"pointer"===Bt(t,"cursor");jt(i),qt()}},ht=function(){var t=St(H.bridge);t&&(t.removeAttribute("title"),t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px"),r&&(Nt(r,Z.hoverClass),Nt(r,Z.activeClass),r=null)},ft=function(){return r||null},dt=function(t){return"string"==typeof t&&t&&/^[A-Za-z][A-Za-z0-9_:\-\.]*$/.test(t)},pt=function(t){var e;if("string"==typeof t&&t?(e=t,t={}):"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(e=t.type),e){e=e.toLowerCase(),!t.target&&(/^(copy|aftercopy|_click)$/.test(e)||"error"===e&&"clipboard-error"===t.name)&&(t.target=i),S(t,{type:e,target:t.target||r||null,relatedTarget:t.relatedTarget||null,currentTarget:H&&H.bridge||null,timeStamp:t.timeStamp||w()||null});var n=U[t.type];return"error"===t.type&&t.name&&n&&(n=n[t.name]),n&&(t.message=n),"ready"===t.type&&S(t,{target:null,version:H.version}),"error"===t.type&&(G.test(t.name)&&S(t,{target:null,minimumVersion:F}),K.test(t.name)&&S(t,{version:H.version})),"copy"===t.type&&(t.clipboardData={setData:Yt.setData,clearData:Yt.clearData}),"aftercopy"===t.type&&(t=Dt(t,j)),t.target&&!t.relatedTarget&&(t.relatedTarget=gt(t.target)),mt(t)}},gt=function(t){var e=t&&t.getAttribute&&t.getAttribute("data-clipboard-target");return e?a.getElementById(e):null},mt=function(t){if(t&&/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)){var n=t.target,r="_mouseover"===t.type&&t.relatedTarget?t.relatedTarget:e,i="_mouseout"===t.type&&t.relatedTarget?t.relatedTarget:e,s=Ht(n),l=o.screenLeft||o.screenX||0,u=o.screenTop||o.screenY||0,c=a.body.scrollLeft+a.documentElement.scrollLeft,h=a.body.scrollTop+a.documentElement.scrollTop,f=s.left+("number"==typeof t._stageX?t._stageX:0),d=s.top+("number"==typeof t._stageY?t._stageY:0),p=f-c,g=d-h,m=l+p,v=u+g,y="number"==typeof t.movementX?t.movementX:0,w="number"==typeof t.movementY?t.movementY:0;delete t._stageX,delete t._stageY,S(t,{srcElement:n,fromElement:r,toElement:i,screenX:m,screenY:v,pageX:f,pageY:d,clientX:p,clientY:g,x:p,y:g,movementX:y,movementY:w,offsetX:0,offsetY:0,layerX:0,layerY:0})}return t},vt=function(t){var e=t&&"string"==typeof t.type&&t.type||"";return!/^(?:(?:before)?copy|destroy)$/.test(e)},yt=function(t,e,n,r){r?l(function(){t.apply(e,n)},0):t.apply(e,n)},wt=function(t){if("object"==typeof t&&t&&t.type){var e=vt(t),n=V["*"]||[],r=V[t.type]||[],i=n.concat(r);if(i&&i.length){var a,s,l,u,c,h=this;for(a=0,s=i.length;s>a;a++)l=i[a],u=h,"string"==typeof l&&"function"==typeof o[l]&&(l=o[l]),"object"==typeof l&&l&&"function"==typeof l.handleEvent&&(u=l,l=l.handleEvent),"function"==typeof l&&(c=S({},t),yt(l,u,[c],e))}return this}},bt=function(t){var e=null;return(B===!1||t&&"error"===t.type&&t.name&&-1!==Y.indexOf(t.name))&&(e=!1),e},xt=function(t){var e=t.target||r||null,o="swf"===t._source;switch(delete t._source,t.type){case"error":var a="flash-sandboxed"===t.name||bt(t);"boolean"==typeof a&&(H.sandboxed=a),-1!==X.indexOf(t.name)?S(H,{disabled:"flash-disabled"===t.name,outdated:"flash-outdated"===t.name,unavailable:"flash-unavailable"===t.name,degraded:"flash-degraded"===t.name,deactivated:"flash-deactivated"===t.name,overdue:"flash-overdue"===t.name,ready:!1}):"version-mismatch"===t.name&&(n=t.swfVersion,S(H,{disabled:!1,outdated:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:!1,ready:!1})),Vt();break;case"ready":n=t.swfVersion;var s=H.deactivated===!0;S(H,{disabled:!1,outdated:!1,sandboxed:!1,unavailable:!1,degraded:!1,deactivated:!1,overdue:s,ready:!s}),Vt();break;case"beforecopy":i=e;break;case"copy":var l,u,c=t.relatedTarget;!q["text/html"]&&!q["text/plain"]&&c&&(u=c.value||c.outerHTML||c.innerHTML)&&(l=c.value||c.textContent||c.innerText)?(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",l),u!==l&&t.clipboardData.setData("text/html",u)):!q["text/plain"]&&t.target&&(l=t.target.getAttribute("data-clipboard-text"))&&(t.clipboardData.clearData(),t.clipboardData.setData("text/plain",l));break;case"aftercopy":Ct(t),Yt.clearData(),e&&e!==Lt()&&e.focus&&e.focus();break;case"_mouseover":Yt.focus(e),Z.bubbleEvents===!0&&o&&(e&&e!==t.relatedTarget&&!M(t.relatedTarget,e)&&Tt(S({},t,{type:"mouseenter",bubbles:!1,cancelable:!1})),Tt(S({},t,{type:"mouseover"})));break;case"_mouseout":Yt.blur(),Z.bubbleEvents===!0&&o&&(e&&e!==t.relatedTarget&&!M(t.relatedTarget,e)&&Tt(S({},t,{type:"mouseleave",bubbles:!1,cancelable:!1})),Tt(S({},t,{type:"mouseout"})));break;case"_mousedown":It(e,Z.activeClass),Z.bubbleEvents===!0&&o&&Tt(S({},t,{type:t.type.slice(1)}));break;case"_mouseup":Nt(e,Z.activeClass),Z.bubbleEvents===!0&&o&&Tt(S({},t,{type:t.type.slice(1)}));break;case"_click":i=null,Z.bubbleEvents===!0&&o&&Tt(S({},t,{type:t.type.slice(1)}));break;case"_mousemove":Z.bubbleEvents===!0&&o&&Tt(S({},t,{type:t.type.slice(1)}))}return/^_(?:click|mouse(?:over|out|down|up|move))$/.test(t.type)?!0:void 0},Ct=function(t){if(t.errors&&t.errors.length>0){var e=_(t);S(e,{type:"error",name:"clipboard-error"}),delete e.success,l(function(){Yt.emit(e)},0)}},Tt=function(t){if(t&&"string"==typeof t.type&&t){var e,n=t.target||null,r=n&&n.ownerDocument||a,i={view:r.defaultView||o,canBubble:!0,cancelable:!0,detail:"click"===t.type?1:0,button:"number"==typeof t.which?t.which-1:"number"==typeof t.button?t.button:r.createEvent?0:1},s=S(i,t);n&&r.createEvent&&n.dispatchEvent&&(s=[s.type,s.canBubble,s.cancelable,s.view,s.detail,s.screenX,s.screenY,s.clientX,s.clientY,s.ctrlKey,s.altKey,s.shiftKey,s.metaKey,s.button,s.relatedTarget],e=r.createEvent("MouseEvents"),e.initMouseEvent&&(e.initMouseEvent.apply(e,s),e._source="js",n.dispatchEvent(e)))}},Et=function(){var t=Z.flashLoadTimeout;if("number"==typeof t&&t>=0){var e=Math.min(1e3,t/10),n=Z.swfObjectId+"_fallbackContent";W=c(function(){var t=a.getElementById(n);Ft(t)&&(Vt(),H.deactivated=null,Yt.emit({type:"error",name:"swf-not-found"}))},e)}},kt=function(){var t=a.createElement("div");return t.id=Z.containerId,t.className=Z.containerClass,t.style.position="absolute",t.style.left="0px",t.style.top="-9999px",t.style.width="1px",t.style.height="1px",t.style.zIndex=""+zt(Z.zIndex),t},St=function(t){for(var e=t&&t.parentNode;e&&"OBJECT"===e.nodeName&&e.parentNode;)e=e.parentNode;return e||null},_t=function(){var t,e=H.bridge,n=St(e);if(!e){var r=Ot(o.location.host,Z),i="never"===r?"none":"all",s=Rt(S({jsVersion:Yt.version},Z)),l=Z.swfPath+Mt(Z.swfPath,Z);n=kt();var u=a.createElement("div");n.appendChild(u),a.body.appendChild(n);var c=a.createElement("div"),h="activex"===H.pluginType;c.innerHTML='<object id="'+Z.swfObjectId+'" name="'+Z.swfObjectId+'" width="100%" height="100%" '+(h?'classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000"':'type="application/x-shockwave-flash" data="'+l+'"')+">"+(h?'<param name="movie" value="'+l+'"/>':"")+'<param name="allowScriptAccess" value="'+r+'"/><param name="allowNetworking" value="'+i+'"/><param name="menu" value="false"/><param name="wmode" value="transparent"/><param name="flashvars" value="'+s+'"/><div id="'+Z.swfObjectId+'_fallbackContent">&nbsp;</div></object>',e=c.firstChild,c=null,E(e).ZeroClipboard=Yt,n.replaceChild(e,u),Et()}return e||(e=a[Z.swfObjectId],e&&(t=e.length)&&(e=e[t-1]),!e&&n&&(e=n.firstChild)),H.bridge=e||null,e},$t=function(){var t=H.bridge;if(t){var r=St(t);r&&("activex"===H.pluginType&&"readyState"in t?(t.style.display="none",function i(){if(4===t.readyState){for(var e in t)"function"==typeof t[e]&&(t[e]=null);t.parentNode&&t.parentNode.removeChild(t),r.parentNode&&r.parentNode.removeChild(r)}else l(i,10)}()):(t.parentNode&&t.parentNode.removeChild(t),r.parentNode&&r.parentNode.removeChild(r))),Vt(),H.ready=null,H.bridge=null,H.deactivated=null,n=e}},At=function(t){var e={},n={};if("object"==typeof t&&t){for(var r in t)if(r&&C.call(t,r)&&"string"==typeof t[r]&&t[r])switch(r.toLowerCase()){case"text/plain":case"text":case"air:text":case"flash:text":e.text=t[r],n.text=r;break;case"text/html":case"html":case"air:html":case"flash:html":e.html=t[r],n.html=r;break;case"application/rtf":case"text/rtf":case"rtf":case"richtext":case"air:rtf":case"flash:rtf":e.rtf=t[r],n.rtf=r}return{data:e,formatMap:n}}},Dt=function(t,e){if("object"!=typeof t||!t||"object"!=typeof e||!e)return t;var n={};for(var r in t)if(C.call(t,r))if("errors"===r){n[r]=t[r]?t[r].slice():[];for(var i=0,o=n[r].length;o>i;i++)n[r][i].format=e[n[r][i].format]}else if("success"!==r&&"data"!==r)n[r]=t[r];else{n[r]={};var a=t[r];for(var s in a)s&&C.call(a,s)&&C.call(e,s)&&(n[r][e[s]]=a[s])}return n},Mt=function(t,e){var n=null==e||e&&e.cacheBust===!0;return n?(-1===t.indexOf("?")?"?":"&")+"noCache="+w():""},Rt=function(t){var e,n,r,i,a="",s=[];if(t.trustedDomains&&("string"==typeof t.trustedDomains?i=[t.trustedDomains]:"object"==typeof t.trustedDomains&&"length"in t.trustedDomains&&(i=t.trustedDomains)),i&&i.length)for(e=0,n=i.length;n>e;e++)if(C.call(i,e)&&i[e]&&"string"==typeof i[e]){if(r=Pt(i[e]),!r)continue;if("*"===r){s.length=0,s.push(r);break}s.push.apply(s,[r,"//"+r,o.location.protocol+"//"+r])}return s.length&&(a+="trustedOrigins="+d(s.join(","))),t.forceEnhancedClipboard===!0&&(a+=(a?"&":"")+"forceEnhancedClipboard=true"),"string"==typeof t.swfObjectId&&t.swfObjectId&&(a+=(a?"&":"")+"swfObjectId="+d(t.swfObjectId)),"string"==typeof t.jsVersion&&t.jsVersion&&(a+=(a?"&":"")+"jsVersion="+d(t.jsVersion)),a},Pt=function(t){if(null==t||""===t)return null;if(t=t.replace(/^\s+|\s+$/g,""),""===t)return null;var e=t.indexOf("//");t=-1===e?t:t.slice(e+2);var n=t.indexOf("/");return t=-1===n?t:-1===e||0===n?null:t.slice(0,n),t&&".swf"===t.slice(-4).toLowerCase()?null:t||null},Ot=function(){var t=function(t){var e,n,r,i=[];if("string"==typeof t&&(t=[t]),"object"!=typeof t||!t||"number"!=typeof t.length)return i;for(e=0,n=t.length;n>e;e++)if(C.call(t,e)&&(r=Pt(t[e]))){if("*"===r){i.length=0,i.push("*");break}-1===i.indexOf(r)&&i.push(r)}return i};return function(e,n){var r=Pt(n.swfPath);null===r&&(r=e);var i=t(n.trustedDomains),o=i.length;if(o>0){if(1===o&&"*"===i[0])return"always";if(-1!==i.indexOf(e))return 1===o&&e===r?"sameDomain":"always"}return"never"}}(),Lt=function(){try{return a.activeElement}catch(t){return null}},It=function(t,e){var n,r,i,o=[];if("string"==typeof e&&e&&(o=e.split(/\s+/)),t&&1===t.nodeType&&o.length>0)if(t.classList)for(n=0,r=o.length;r>n;n++)t.classList.add(o[n]);else if(t.hasOwnProperty("className")){for(i=" "+t.className+" ",n=0,r=o.length;r>n;n++)-1===i.indexOf(" "+o[n]+" ")&&(i+=o[n]+" ");t.className=i.replace(/^\s+|\s+$/g,"")}return t},Nt=function(t,e){var n,r,i,o=[];if("string"==typeof e&&e&&(o=e.split(/\s+/)),t&&1===t.nodeType&&o.length>0)if(t.classList&&t.classList.length>0)for(n=0,r=o.length;r>n;n++)t.classList.remove(o[n]);else if(t.className){for(i=(" "+t.className+" ").replace(/[\r\n\t]/g," "),n=0,r=o.length;r>n;n++)i=i.replace(" "+o[n]+" "," ");t.className=i.replace(/^\s+|\s+$/g,"")}return t},Bt=function(t,e){var n=f(t,null).getPropertyValue(e);return"cursor"!==e||n&&"auto"!==n||"A"!==t.nodeName?n:"pointer"},Ht=function(t){var e={left:0,top:0,width:0,height:0};if(t.getBoundingClientRect){var n=t.getBoundingClientRect(),r=o.pageXOffset,i=o.pageYOffset,s=a.documentElement.clientLeft||0,l=a.documentElement.clientTop||0,u=0,c=0;if("relative"===Bt(a.body,"position")){var h=a.body.getBoundingClientRect(),f=a.documentElement.getBoundingClientRect();u=h.left-f.left||0,c=h.top-f.top||0}e.left=n.left+r-s-u,e.top=n.top+i-l-c,e.width="width"in n?n.width:n.right-n.left,e.height="height"in n?n.height:n.bottom-n.top}return e},Ft=function(t){if(!t)return!1;var e=f(t,null),n=v(e.height)>0,r=v(e.width)>0,i=v(e.top)>=0,o=v(e.left)>=0,a=n&&r&&i&&o,s=a?null:Ht(t),l="none"!==e.display&&"collapse"!==e.visibility&&(a||!!s&&(n||s.height>0)&&(r||s.width>0)&&(i||s.top>=0)&&(o||s.left>=0));return l},Vt=function(){u(z),z=0,h(W),W=0},qt=function(){var t;if(r&&(t=St(H.bridge))){var e=Ht(r);S(t.style,{width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px",zIndex:""+zt(Z.zIndex)})}},jt=function(t){H.ready===!0&&(H.bridge&&"function"==typeof H.bridge.setHandCursor?H.bridge.setHandCursor(t):H.ready=!1)},zt=function(t){if(/^(?:auto|inherit)$/.test(t))return t;var e;return"number"!=typeof t||y(t)?"string"==typeof t&&(e=zt(m(t,10))):e=t,"number"==typeof e?e:"auto"},Wt=function(e){var n,r,i,o=H.sandboxed,a=null;if(e=e===!0,B===!1)a=!1;else{try{r=t.frameElement||null}catch(s){i={name:s.name,message:s.message}}if(r&&1===r.nodeType&&"IFRAME"===r.nodeName)try{a=r.hasAttribute("sandbox")}catch(s){a=null}else{try{n=document.domain||null}catch(s){n=null}(null===n||i&&"SecurityError"===i.name&&/(^|[\s\(\[@])sandbox(es|ed|ing|[\s\.,!\)\]@]|$)/.test(i.message.toLowerCase()))&&(a=!0)}}return H.sandboxed=a,o===a||e||Ut(p),a},Ut=function(t){function e(t){var e=t.match(/[\d]+/g);return e.length=3,e.join(".")}function n(t){return!!t&&(t=t.toLowerCase())&&(/^(pepflashplayer\.dll|libpepflashplayer\.so|pepperflashplayer\.plugin)$/.test(t)||"chrome.plugin"===t.slice(-13))}function r(t){t&&(l=!0,t.version&&(h=e(t.version)),!h&&t.description&&(h=e(t.description)),t.filename&&(c=n(t.filename)))}var i,o,a,l=!1,u=!1,c=!1,h="";if(s.plugins&&s.plugins.length)i=s.plugins["Shockwave Flash"],r(i),s.plugins["Shockwave Flash 2.0"]&&(l=!0,h="2.0.0.11");else if(s.mimeTypes&&s.mimeTypes.length)a=s.mimeTypes["application/x-shockwave-flash"],i=a&&a.enabledPlugin,r(i);else if("undefined"!=typeof t){u=!0;try{o=new t("ShockwaveFlash.ShockwaveFlash.7"),l=!0,h=e(o.GetVariable("$version"))}catch(f){try{o=new t("ShockwaveFlash.ShockwaveFlash.6"),l=!0,h="6.0.21"}catch(d){try{o=new t("ShockwaveFlash.ShockwaveFlash"),l=!0,h=e(o.GetVariable("$version"))}catch(p){u=!1}}}}H.disabled=l!==!0,H.outdated=h&&v(h)<v(F),H.version=h||"0.0.0",H.pluginType=c?"pepper":u?"activex":l?"netscape":"unknown"};Ut(p),Wt(!0);var Yt=function(){return this instanceof Yt?void("function"==typeof Yt._createClient&&Yt._createClient.apply(this,k(arguments))):new Yt};x(Yt,"version",{value:"2.2.0",writable:!1,configurable:!0,enumerable:!0}),Yt.config=function(){return J.apply(this,k(arguments))},Yt.state=function(){return Q.apply(this,k(arguments))},Yt.isFlashUnusable=function(){return tt.apply(this,k(arguments))},Yt.on=function(){return et.apply(this,k(arguments))},Yt.off=function(){return nt.apply(this,k(arguments))},Yt.handlers=function(){return rt.apply(this,k(arguments))},Yt.emit=function(){return it.apply(this,k(arguments))},Yt.create=function(){return ot.apply(this,k(arguments))},Yt.destroy=function(){return at.apply(this,k(arguments))},Yt.setData=function(){return st.apply(this,k(arguments))},Yt.clearData=function(){return lt.apply(this,k(arguments))},Yt.getData=function(){return ut.apply(this,k(arguments))},Yt.focus=Yt.activate=function(){return ct.apply(this,k(arguments))},Yt.blur=Yt.deactivate=function(){return ht.apply(this,k(arguments))},Yt.activeElement=function(){return ft.apply(this,k(arguments))};var Xt=0,Gt={},Kt=0,Zt={},Jt={};S(Z,{autoActivate:!0});var Qt=function(t){var e=this;e.id=""+Xt++,Gt[e.id]={instance:e,elements:[],handlers:{}},t&&e.clip(t),Yt.on("*",function(t){return e.emit(t)}),Yt.on("destroy",function(){e.destroy()}),Yt.create()},te=function(t,r){var i,o,a,s={},l=Gt[this.id],u=l&&l.handlers;if(!l)throw new Error("Attempted to add new listener(s) to a destroyed ZeroClipboard client instance");if("string"==typeof t&&t)a=t.toLowerCase().split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof r)for(i in t)C.call(t,i)&&"string"==typeof i&&i&&"function"==typeof t[i]&&this.on(i,t[i]);if(a&&a.length){for(i=0,o=a.length;o>i;i++)t=a[i].replace(/^on/,""),s[t]=!0,u[t]||(u[t]=[]),u[t].push(r);if(s.ready&&H.ready&&this.emit({type:"ready",client:this}),s.error){for(i=0,o=X.length;o>i;i++)if(H[X[i].replace(/^flash-/,"")]){this.emit({type:"error",name:X[i],client:this});break}n!==e&&Yt.version!==n&&this.emit({type:"error",name:"version-mismatch",jsVersion:Yt.version,swfVersion:n})}}return this},ee=function(t,e){var n,r,i,o,a,s=Gt[this.id],l=s&&s.handlers;if(!l)return this;if(0===arguments.length)o=b(l);else if("string"==typeof t&&t)o=t.split(/\s+/);else if("object"==typeof t&&t&&"undefined"==typeof e)for(n in t)C.call(t,n)&&"string"==typeof n&&n&&"function"==typeof t[n]&&this.off(n,t[n]);if(o&&o.length)for(n=0,r=o.length;r>n;n++)if(t=o[n].toLowerCase().replace(/^on/,""),a=l[t],a&&a.length)if(e)for(i=a.indexOf(e);-1!==i;)a.splice(i,1),i=a.indexOf(e,i);else a.length=0;return this},ne=function(t){var e=null,n=Gt[this.id]&&Gt[this.id].handlers;return n&&(e="string"==typeof t&&t?n[t]?n[t].slice(0):[]:_(n)),e},re=function(t){if(le.call(this,t)){"object"==typeof t&&t&&"string"==typeof t.type&&t.type&&(t=S({},t));var e=S({},pt(t),{client:this});ue.call(this,e)}return this},ie=function(t){if(!Gt[this.id])throw new Error("Attempted to clip element(s) to a destroyed ZeroClipboard client instance");t=ce(t);for(var e=0;e<t.length;e++)if(C.call(t,e)&&t[e]&&1===t[e].nodeType){t[e].zcClippingId?-1===Zt[t[e].zcClippingId].indexOf(this.id)&&Zt[t[e].zcClippingId].push(this.id):(t[e].zcClippingId="zcClippingId_"+Kt++,Zt[t[e].zcClippingId]=[this.id],Z.autoActivate===!0&&he(t[e]));var n=Gt[this.id]&&Gt[this.id].elements;-1===n.indexOf(t[e])&&n.push(t[e])}return this},oe=function(t){var e=Gt[this.id];if(!e)return this;var n,r=e.elements;t="undefined"==typeof t?r.slice(0):ce(t);for(var i=t.length;i--;)if(C.call(t,i)&&t[i]&&1===t[i].nodeType){for(n=0;-1!==(n=r.indexOf(t[i],n));)r.splice(n,1);var o=Zt[t[i].zcClippingId];if(o){for(n=0;-1!==(n=o.indexOf(this.id,n));)o.splice(n,1);0===o.length&&(Z.autoActivate===!0&&fe(t[i]),delete t[i].zcClippingId)}}return this},ae=function(){var t=Gt[this.id];return t&&t.elements?t.elements.slice(0):[]},se=function(){Gt[this.id]&&(this.unclip(),this.off(),delete Gt[this.id])},le=function(t){if(!t||!t.type)return!1;if(t.client&&t.client!==this)return!1;var e=Gt[this.id],n=e&&e.elements,r=!!n&&n.length>0,i=!t.target||r&&-1!==n.indexOf(t.target),o=t.relatedTarget&&r&&-1!==n.indexOf(t.relatedTarget),a=t.client&&t.client===this;return e&&(i||o||a)?!0:!1},ue=function(t){var e=Gt[this.id];if("object"==typeof t&&t&&t.type&&e){var n=vt(t),r=e&&e.handlers["*"]||[],i=e&&e.handlers[t.type]||[],a=r.concat(i);if(a&&a.length){var s,l,u,c,h,f=this;for(s=0,l=a.length;l>s;s++)u=a[s],c=f,"string"==typeof u&&"function"==typeof o[u]&&(u=o[u]),"object"==typeof u&&u&&"function"==typeof u.handleEvent&&(c=u,u=u.handleEvent),"function"==typeof u&&(h=S({},t),yt(u,c,[h],n))}}},ce=function(t){return"string"==typeof t&&(t=[]),"number"!=typeof t.length?[t]:t},he=function(t){if(t&&1===t.nodeType){var e=function(t){(t||(t=o.event))&&("js"!==t._source&&(t.stopImmediatePropagation(),t.preventDefault()),delete t._source)},n=function(n){(n||(n=o.event))&&(e(n),Yt.focus(t))};t.addEventListener("mouseover",n,!1),t.addEventListener("mouseout",e,!1),t.addEventListener("mouseenter",e,!1),t.addEventListener("mouseleave",e,!1),t.addEventListener("mousemove",e,!1),Jt[t.zcClippingId]={mouseover:n,mouseout:e,mouseenter:e,mouseleave:e,mousemove:e}}},fe=function(t){if(t&&1===t.nodeType){var e=Jt[t.zcClippingId];if("object"==typeof e&&e){for(var n,r,i=["move","leave","enter","out","over"],o=0,a=i.length;a>o;o++)n="mouse"+i[o],r=e[n],"function"==typeof r&&t.removeEventListener(n,r,!1);delete Jt[t.zcClippingId]}}};Yt._createClient=function(){Qt.apply(this,k(arguments))},Yt.prototype.on=function(){return te.apply(this,k(arguments))},Yt.prototype.off=function(){return ee.apply(this,k(arguments))},Yt.prototype.handlers=function(){return ne.apply(this,k(arguments))},Yt.prototype.emit=function(){return re.apply(this,k(arguments))},Yt.prototype.clip=function(){return ie.apply(this,k(arguments))},Yt.prototype.unclip=function(){return oe.apply(this,k(arguments))},Yt.prototype.elements=function(){return ae.apply(this,k(arguments))},Yt.prototype.destroy=function(){return se.apply(this,k(arguments))},Yt.prototype.setText=function(t){if(!Gt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Yt.setData("text/plain",t),this},Yt.prototype.setHtml=function(t){if(!Gt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Yt.setData("text/html",t),this},Yt.prototype.setRichText=function(t){if(!Gt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Yt.setData("application/rtf",t),this},Yt.prototype.setData=function(){if(!Gt[this.id])throw new Error("Attempted to set pending clipboard data from a destroyed ZeroClipboard client instance");return Yt.setData.apply(this,k(arguments)),this},Yt.prototype.clearData=function(){if(!Gt[this.id])throw new Error("Attempted to clear pending clipboard data from a destroyed ZeroClipboard client instance");return Yt.clearData.apply(this,k(arguments)),this},Yt.prototype.getData=function(){if(!Gt[this.id])throw new Error("Attempted to get pending clipboard data from a destroyed ZeroClipboard client instance");return Yt.getData.apply(this,k(arguments))},"function"==typeof define&&define.amd?define(function(){return Yt}):"object"==typeof module&&module&&"object"==typeof module.exports&&module.exports?module.exports=Yt:t.ZeroClipboard=Yt}(function(){return this||window}()),/*!
 * Pikaday
 *
 * Copyright © 2014 David Bushell | BSD & MIT license | https://github.com/dbushell/Pikaday
 */
function(t,e){"use strict";var n;if("object"==typeof exports){try{n=require("moment")}catch(r){}module.exports=e(n)}else"function"==typeof define&&define.amd?define(function(t){var r="moment";try{n=t(r)}catch(i){}return e(n)}):t.Pikaday=e(t.moment)}(this,function(t){"use strict";var e="function"==typeof t,n=!!window.addEventListener,r=window.document,i=window.setTimeout,o=function(t,e,r,i){n?t.addEventListener(e,r,!!i):t.attachEvent("on"+e,r)},a=function(t,e,r,i){n?t.removeEventListener(e,r,!!i):t.detachEvent("on"+e,r)},s=function(t,e,n){var i;r.createEvent?(i=r.createEvent("HTMLEvents"),i.initEvent(e,!0,!1),i=y(i,n),t.dispatchEvent(i)):r.createEventObject&&(i=r.createEventObject(),i=y(i,n),t.fireEvent("on"+e,i))},l=function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},u=function(t,e){return-1!==(" "+t.className+" ").indexOf(" "+e+" ")},c=function(t,e){u(t,e)||(t.className=""===t.className?e:t.className+" "+e)},h=function(t,e){t.className=l((" "+t.className+" ").replace(" "+e+" "," "))},f=function(t){return/Array/.test(Object.prototype.toString.call(t))},d=function(t){return/Date/.test(Object.prototype.toString.call(t))&&!isNaN(t.getTime())},p=function(t){return t%4===0&&t%100!==0||t%400===0},g=function(t,e){return[31,p(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},m=function(t){d(t)&&t.setHours(0,0,0,0)},v=function(t,e){return t.getTime()===e.getTime()},y=function(t,e,n){var r,i;for(r in e)i=void 0!==t[r],i&&"object"==typeof e[r]&&null!==e[r]&&void 0===e[r].nodeName?d(e[r])?n&&(t[r]=new Date(e[r].getTime())):f(e[r])?n&&(t[r]=e[r].slice(0)):t[r]=y({},e[r],n):(n||!i)&&(t[r]=e[r]);return t},w=function(t){return t.month<0&&(t.year-=Math.ceil(Math.abs(t.month)/12),t.month+=12),t.month>11&&(t.year+=Math.floor(Math.abs(t.month)/12),t.month-=12),t},b={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},onSelect:null,onOpen:null,onClose:null,onDraw:null},x=function(t,e,n){for(e+=t.firstDay;e>=7;)e-=7;return n?t.i18n.weekdaysShort[e]:t.i18n.weekdays[e]},C=function(t,e,n,r,i,o,a){if(a)return'<td class="is-empty"></td>';var s=[];return o&&s.push("is-disabled"),i&&s.push("is-today"),r&&s.push("is-selected"),'<td data-day="'+t+'" class="'+s.join(" ")+'"><button class="pika-button pika-day" type="button" data-pika-year="'+n+'" data-pika-month="'+e+'" data-pika-day="'+t+'">'+t+"</button></td>"},T=function(t,e,n){var r=new Date(n,0,1),i=Math.ceil(((new Date(n,e,t)-r)/864e5+r.getDay()+1)/7);return'<td class="pika-week">'+i+"</td>"},E=function(t,e){return"<tr>"+(e?t.reverse():t).join("")+"</tr>"},k=function(t){return"<tbody>"+t.join("")+"</tbody>"},S=function(t){var e,n=[];for(t.showWeekNumber&&n.push("<th></th>"),e=0;7>e;e++)n.push('<th scope="col"><abbr title="'+x(t,e)+'">'+x(t,e,!0)+"</abbr></th>");return"<thead>"+(t.isRTL?n.reverse():n).join("")+"</thead>"},_=function(t,e,n,r,i){var o,a,s,l,u,c=t._o,h=n===c.minYear,d=n===c.maxYear,p='<div class="pika-title">',g=!0,m=!0;for(s=[],o=0;12>o;o++)s.push('<option value="'+(n===i?o-e:12+o-e)+'"'+(o===r?" selected":"")+(h&&o<c.minMonth||d&&o>c.maxMonth?"disabled":"")+">"+c.i18n.months[o]+"</option>");for(l='<div class="pika-label">'+c.i18n.months[r]+'<select class="pika-select pika-select-month">'+s.join("")+"</select></div>",f(c.yearRange)?(o=c.yearRange[0],a=c.yearRange[1]+1):(o=n-c.yearRange,a=1+n+c.yearRange),s=[];a>o&&o<=c.maxYear;o++)o>=c.minYear&&s.push('<option value="'+o+'"'+(o===n?" selected":"")+">"+o+"</option>");return u='<div class="pika-label">'+n+c.yearSuffix+'<select class="pika-select pika-select-year">'+s.join("")+"</select></div>",p+=c.showMonthAfterYear?u+l:l+u,h&&(0===r||c.minMonth>=r)&&(g=!1),d&&(11===r||c.maxMonth<=r)&&(m=!1),0===e&&(p+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+c.i18n.previousMonth+"</button>"),e===t._o.numberOfMonths-1&&(p+='<button class="pika-next'+(m?"":" is-disabled")+'" type="button">'+c.i18n.nextMonth+"</button>"),p+="</div>"},$=function(t,e){return'<table cellpadding="0" cellspacing="0" class="pika-table">'+S(t)+k(e)+"</table>"},A=function(a){var s=this,l=s.config(a);s._onMouseDown=function(t){if(s._v){t=t||window.event;var e=t.target||t.srcElement;if(e){if(!u(e,"is-disabled")){if(u(e,"pika-button")&&!u(e,"is-empty"))return s.setDate(new Date(e.getAttribute("data-pika-year"),e.getAttribute("data-pika-month"),e.getAttribute("data-pika-day"))),void(l.bound&&i(function(){s.hide(),l.field&&l.field.blur()},100));u(e,"pika-prev")?s.prevMonth():u(e,"pika-next")&&s.nextMonth()}if(u(e,"pika-select"))s._c=!0;else{if(!t.preventDefault)return t.returnValue=!1,!1;t.preventDefault()}}}},s._onChange=function(t){t=t||window.event;var e=t.target||t.srcElement;e&&(u(e,"pika-select-month")?s.gotoMonth(e.value):u(e,"pika-select-year")&&s.gotoYear(e.value))},s._onInputChange=function(n){var r;n.firedBy!==s&&(e?(r=t(l.field.value,l.format),r=r&&r.isValid()?r.toDate():null):r=new Date(Date.parse(l.field.value)),s.setDate(d(r)?r:null),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){s._c||(s._b=i(function(){s.hide()},50)),s._c=!1},s._onClick=function(t){t=t||window.event;var e=t.target||t.srcElement,r=e;if(e){!n&&u(e,"pika-select")&&(e.onchange||(e.setAttribute("onchange","return;"),o(e,"change",s._onChange)));do if(r===l.trigger)return;while(r=r.parentNode);s._v&&r!==l.trigger&&s.hide()}},s.el=r.createElement("div"),s.el.className="pika-single"+(l.isRTL?" is-rtl":""),o(s.el,"mousedown",s._onMouseDown,!0),o(s.el,"change",s._onChange),l.field&&(l.container?l.container.appendChild(s.el):l.bound?r.body.appendChild(s.el):l.field.parentNode.insertBefore(s.el,l.field.nextSibling),o(l.field,"change",s._onInputChange),l.defaultDate||(l.defaultDate=e&&l.field.value?t(l.field.value,l.format).toDate():new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var c=l.defaultDate;d(c)?l.setDefaultDate?s.setDate(c,!0):s.gotoDate(c):s.gotoDate(new Date),l.bound?(this.hide(),s.el.className+=" is-bound",o(l.trigger,"click",s._onInputClick),o(l.trigger,"focus",s._onInputFocus),o(l.trigger,"blur",s._onInputBlur)):this.show()};return A.prototype={config:function(t){this._o||(this._o=y({},b,!0));var e=y(this._o,t,!0);e.isRTL=!!e.isRTL,e.field=e.field&&e.field.nodeName?e.field:null,e.bound=!!(void 0!==e.bound?e.field&&e.bound:e.field),e.trigger=e.trigger&&e.trigger.nodeName?e.trigger:e.field;var n=parseInt(e.numberOfMonths,10)||1;if(e.numberOfMonths=n>4?4:n,d(e.minDate)||(e.minDate=!1),d(e.maxDate)||(e.maxDate=!1),e.minDate&&e.maxDate&&e.maxDate<e.minDate&&(e.maxDate=e.minDate=!1),e.minDate&&(m(e.minDate),e.minYear=e.minDate.getFullYear(),e.minMonth=e.minDate.getMonth()),e.maxDate&&(m(e.maxDate),e.maxYear=e.maxDate.getFullYear(),e.maxMonth=e.maxDate.getMonth()),f(e.yearRange)){var r=(new Date).getFullYear()-10;e.yearRange[0]=parseInt(e.yearRange[0],10)||r,e.yearRange[1]=parseInt(e.yearRange[1],10)||r}else e.yearRange=Math.abs(parseInt(e.yearRange,10))||b.yearRange,e.yearRange>100&&(e.yearRange=100);return e},toString:function(n){return d(this._d)?e?t(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return e?t(this._d):null},setMoment:function(n,r){e&&t.isMoment(n)&&this.setDate(n.toDate(),r)},getDate:function(){return d(this._d)?new Date(this._d.getTime()):null},setDate:function(t,e){if(!t)return this._d=null,this._o.field&&(this._o.field.value="",s(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof t&&(t=new Date(Date.parse(t))),d(t)){var n=this._o.minDate,r=this._o.maxDate;d(n)&&n>t?t=n:d(r)&&t>r&&(t=r),this._d=new Date(t.getTime()),m(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),s(this._o.field,"change",{firedBy:this})),e||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(t){var e=!0;if(d(t)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),r=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=t.getTime();r.setMonth(r.getMonth()+1),r.setDate(r.getDate()-1),e=i<n.getTime()||r.getTime()<i}e&&(this.calendars=[{month:t.getMonth(),year:t.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustCalendars:function(){this.calendars[0]=w(this.calendars[0]);for(var t=1;t<this._o.numberOfMonths;t++)this.calendars[t]=w({month:this.calendars[0].month+t,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(t){isNaN(t)||(this.calendars[0].month=parseInt(t,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(t){isNaN(t)||(this.calendars[0].year=parseInt(t,10),this.adjustCalendars())},setMinDate:function(t){this._o.minDate=t},setMaxDate:function(t){this._o.maxDate=t},draw:function(t){if(this._v||t){var e=this._o,n=e.minYear,r=e.maxYear,o=e.minMonth,a=e.maxMonth,s="";this._y<=n&&(this._y=n,!isNaN(o)&&this._m<o&&(this._m=o)),this._y>=r&&(this._y=r,!isNaN(a)&&this._m>a&&(this._m=a));for(var l=0;l<e.numberOfMonths;l++)s+='<div class="pika-lendar">'+_(this,l,this.calendars[l].year,this.calendars[l].month,this.calendars[0].year)+this.render(this.calendars[l].year,this.calendars[l].month)+"</div>";if(this.el.innerHTML=s,e.bound&&"hidden"!==e.field.type&&i(function(){e.trigger.focus()},1),"function"==typeof this._o.onDraw){var u=this;i(function(){u._o.onDraw.call(u)},0)}}},adjustPosition:function(){if(!this._o.container){var t,e,n,i=this._o.trigger,o=i,a=this.el.offsetWidth,s=this.el.offsetHeight,l=window.innerWidth||r.documentElement.clientWidth,u=window.innerHeight||r.documentElement.clientHeight,c=window.pageYOffset||r.body.scrollTop||r.documentElement.scrollTop;if("function"==typeof i.getBoundingClientRect)n=i.getBoundingClientRect(),t=n.left+window.pageXOffset,e=n.bottom+window.pageYOffset;else for(t=o.offsetLeft,e=o.offsetTop+o.offsetHeight;o=o.offsetParent;)t+=o.offsetLeft,e+=o.offsetTop;(this._o.reposition&&t+a>l||this._o.position.indexOf("right")>-1&&t-a+i.offsetWidth>0)&&(t=t-a+i.offsetWidth),(this._o.reposition&&e+s>u+c||this._o.position.indexOf("top")>-1&&e-s-i.offsetHeight>0)&&(e=e-s-i.offsetHeight),this.el.style.cssText=["position: absolute","left: "+t+"px","top: "+e+"px"].join(";")}},render:function(t,e){var n=this._o,r=new Date,i=g(t,e),o=new Date(t,e,1).getDay(),a=[],s=[];m(r),n.firstDay>0&&(o-=n.firstDay,0>o&&(o+=7));for(var l=i+o,u=l;u>7;)u-=7;l+=7-u;for(var c=0,h=0;l>c;c++){var f=new Date(t,e,1+(c-o)),p=n.minDate&&f<n.minDate||n.maxDate&&f>n.maxDate,y=d(this._d)?v(f,this._d):!1,w=v(f,r),b=o>c||c>=i+o;s.push(C(1+(c-o),e,t,y,w,p,b)),7===++h&&(n.showWeekNumber&&s.unshift(T(c-o,e,t)),a.push(E(s,n.isRTL)),s=[],h=0)}return $(n,a)},isVisible:function(){return this._v},show:function(){this._v||(h(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(o(r,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var t=this._v;t!==!1&&(this._o.bound&&a(r,"click",this._onClick),this.el.style.cssText="",c(this.el,"is-hidden"),this._v=!1,void 0!==t&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),a(this.el,"mousedown",this._onMouseDown,!0),a(this.el,"change",this._onChange),this._o.field&&(a(this._o.field,"change",this._onInputChange),this._o.bound&&(a(this._o.trigger,"click",this._onInputClick),a(this._o.trigger,"focus",this._onInputFocus),a(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},A});/*!
 * Handsontable 0.12.6
 * Handsontable is a JavaScript library for editable tables with basic copy-paste compatibility with Excel and Google Docs
 *
 * Copyright 2012-2015 Marcin Warpechowski
 * Licensed under the MIT license.
 * http://handsontable.com/
 *
 * Date: Thu Feb 19 2015 14:25:57 GMT+0100 (CET)
 */
var Handsontable=function(t,e){e=e||{};var n=new Handsontable.Core(t,e);return n.init(),n};Handsontable.plugins={},function(t,e){"use strict";function n(){this.refCounter=0,this.init()}function r(){function t(){var t=this;t._registerTimeout(setTimeout(function(){t.updateSettings({observeChanges:!0})},0))}function n(t){return function(e,n){return"string"==typeof e[1]&&(e[1]=e[1].toLowerCase()),"string"==typeof n[1]&&(n[1]=n[1].toLowerCase()),e[1]===n[1]?0:null===e[1]||""===e[1]?1:null===n[1]||""===n[1]?-1:e[1]<n[1]?t?-1:1:e[1]>n[1]?t?1:-1:0}}function r(t){return function(e,n){if(e[1]===n[1])return 0;if(null===e[1])return 1;if(null===n[1])return-1;var r=new Date(e[1]),i=new Date(n[1]);return i>r?t?-1:1:r>i?t?1:-1:0}}function i(t){return"undefined"!=typeof t.sortColumn}var o=this;this.init=function(e){var n,r,i=this,a=i.getSettings().columnSorting;if(i.sortingEnabled=!!a,i.sortingEnabled){i.sortIndex=[];var u=s.call(i);"undefined"!=typeof u?(n=u.sortColumn,r=u.sortOrder):(n=a.column,r=a.sortOrder),o.sortByColumn.call(i,n,r),i.sort=function(){var t=Array.prototype.slice.call(arguments);return o.sortByColumn.apply(i,t)},"undefined"==typeof i.getSettings().observeChanges&&t.call(i),"afterInit"==e&&(l.call(i),i.addHook("afterCreateRow",o.afterCreateRow),i.addHook("afterRemoveRow",o.afterRemoveRow),i.addHook("afterLoadData",o.init))}else delete i.sort,i.removeHook("afterCreateRow",o.afterCreateRow),i.removeHook("afterRemoveRow",o.afterRemoveRow),i.removeHook("afterLoadData",o.init)},this.setSortingColumn=function(t,e){var n=this;return"undefined"==typeof t?(delete n.sortColumn,void delete n.sortOrder):(n.sortOrder=n.sortColumn===t&&"undefined"==typeof e?!n.sortOrder:"undefined"!=typeof e?e:!0,void(n.sortColumn=t))},this.sortByColumn=function(t,n){var r=this;o.setSortingColumn.call(r,t,n),"undefined"!=typeof r.sortColumn&&(e.hooks.run(r,"beforeColumnSort",r.sortColumn,r.sortOrder),o.sort.call(r),r.render(),a.call(r),e.hooks.run(r,"afterColumnSort",r.sortColumn,r.sortOrder))};var a=function(){var t=this,n={};"undefined"!=typeof t.sortColumn&&(n.sortColumn=t.sortColumn),"undefined"!=typeof t.sortOrder&&(n.sortOrder=t.sortOrder),(n.hasOwnProperty("sortColumn")||n.hasOwnProperty("sortOrder"))&&e.hooks.run(t,"persistentStateSave","columnSorting",n)},s=function(){var t=this,n={};return e.hooks.run(t,"persistentStateLoad","columnSorting",n),n.value},l=function(){function t(){var t=r.view.TBODY.querySelector("tr").querySelectorAll("th");return t.length}function n(n){var r=e.Dom.closest(n,"TH");return e.Dom.index(r)-t()}var r=this,i=e.eventManager(r);i.addEventListener(r.rootElement,"click",function(t){if(e.Dom.hasClass(t.target,"columnSorting")){var i=n(t.target);o.sortByColumn.call(r,i)}})};this.sort=function(){var t=this;if("undefined"!=typeof t.sortOrder){t.sortingEnabled=!1,t.sortIndex.length=0;for(var e=this.colOffset(),i=0,o=this.countRows()-t.getSettings().minSpareRows;o>i;i++)this.sortIndex.push([i,t.getDataAtCell(i,this.sortColumn+e)]);var a,s=t.getCellMeta(0,t.sortColumn);switch(s.type){case"date":a=r;break;default:a=n}this.sortIndex.sort(a(t.sortOrder));for(var i=this.sortIndex.length;i<t.countRows();i++)this.sortIndex.push([i,t.getDataAtCell(i,this.sortColumn+e)]);t.sortingEnabled=!0}},this.translateRow=function(t){var e=this;return e.sortingEnabled&&e.sortIndex&&e.sortIndex.length&&e.sortIndex[t]?e.sortIndex[t][0]:t},this.untranslateRow=function(t){var e=this;if(e.sortingEnabled&&e.sortIndex&&e.sortIndex.length)for(var n=0;n<e.sortIndex.length;n++)if(e.sortIndex[n][0]==t)return n},this.getColHeader=function(t,n){this.getSettings().columnSorting&&t>=0&&e.Dom.addClass(n.querySelector(".colHeader"),"columnSorting")},this.afterCreateRow=function(t,e){var n=this;if(i(n)){for(var r=0;r<n.sortIndex.length;r++)n.sortIndex[r][0]>=t&&(n.sortIndex[r][0]+=e);for(var r=0;e>r;r++)n.sortIndex.splice(t+r,0,[t+r,n.getData()[t+r][n.sortColumn+n.colOffset()]]);a.call(n)}},this.afterRemoveRow=function(t,e){var n=this;if(i(n)){var r=o.translateRow.call(n,t);n.sortIndex.splice(t,e);for(var s=0;s<n.sortIndex.length;s++)n.sortIndex[s][0]>r&&(n.sortIndex[s][0]-=e);a.call(n)}},this.afterChangeSort=function(t){var e=this,n=!1,r={};if(t){for(var i=0;i<t.length;i++)if(t[i][1]==e.sortColumn){n=!0,r.row=o.translateRow.call(e,t[i][0]),r.col=t[i][1];break}n&&e._registerTimeout(setTimeout(function(){o.sort.call(e),e.render(),e.selectCell(o.untranslateRow.call(e,r.row),r.col)},0))}}}function i(t){var n=e.eventManager(t),r=function(t,e,n,r){r.setCellMeta(t,e,"comment",n),r.render()},i=function(t,e,n){r(t.from.row,t.from.col,e,n)},o=function(){var t=u();t.style.display="none",t.value=""},a=function(r){function a(e){if(n.removeEventListener(document,"mouseover"),"htCommentTextArea"!=e.target.className&&-1==e.target.innerHTML.indexOf("Comment")){var a=document.querySelector(".htCommentTextArea").value;a.trim().length>1&&i(r,a,t),s(),o()}}n.addEventListener(document,"mousedown",e.helper.proxy(a))},s=function(){n.removeEventListener(document,"mousedown"),n.addEventListener(document,"mousedown",e.helper.proxy(c))},l=function(n,r){var i=t.view.wt.wtTable.getCell(n.from),o=e.Dom.offset(i),s=t.getColWidth(n.from.col);r.style.position="absolute",r.style.left=o.left+s+"px",r.style.top=o.top+"px",r.style.zIndex=2,a(n,r)},u=function(t){var n=document.querySelector(".htComments");if(!n){n=document.createElement("DIV");var r=document.createElement("TEXTAREA");e.Dom.addClass(r,"htCommentTextArea"),n.appendChild(r),e.Dom.addClass(n,"htComments"),document.getElementsByTagName("body")[0].appendChild(n)}return t=t||"",document.querySelector(".htCommentTextArea").value=t,n},c=function(n){if(-1!=n.target.className.indexOf("htCommentCell")){s();var r=t.view.wt.wtTable.getCoords(n.target),i={from:new h(r.row,r.col)};e.Comments.showComment(i)}else"htCommentTextArea"!=n.target.className&&o()};return{init:function(){n.addEventListener(document,"mouseover",e.helper.proxy(c))},showComment:function(e){var n=t.getCellMeta(e.from.row,e.from.col),r="";n.comment&&(r=n.comment);var i=u(r);i.style.display="block",l(e,i)},removeComment:function(e,n){t.removeCellMeta(e,n,"comment"),t.render()},checkSelectionCommentsConsistency:function(){var e=!1,n=t.getSelectedRange().from;return t.getCellMeta(n.row,n.col).comment&&(e=!0),e}}}function o(e){var n,r=function(){t.localStorage[e+"__persistentStateKeys"]=JSON.stringify(n)},i=function(){var r=t.localStorage[e+"__persistentStateKeys"],i="string"==typeof r?JSON.parse(r):void 0;n=i?i:[]},o=function(){n=[],r()};i(),this.saveValue=function(i,o){t.localStorage[e+"_"+i]=JSON.stringify(o),-1==n.indexOf(i)&&(n.push(i),r())},this.loadValue=function(n,r){n="undefined"!=typeof n?n:r;var i=t.localStorage[e+"_"+n];return"undefined"==typeof i?void 0:JSON.parse(i)},this.reset=function(n){t.localStorage.removeItem(e+"_"+n)},this.resetAll=function(){for(var r=0;r<n.length;r++)t.localStorage.removeItem(e+"_"+n[r]);o()}}function a(){this.boundaries=null,this.callback=null}function s(){var t=[];return t.getInfo=function(t,e){for(var n=0,r=this.length;r>n;n++)if(this[n].row<=t&&this[n].row+this[n].rowspan-1>=t&&this[n].col<=e&&this[n].col+this[n].colspan-1>=e)return this[n]},t.setInfo=function(t){for(var e=0,n=this.length;n>e;e++)if(this[e].row===t.row&&this[e].col===t.col)return void(this[e]=t);this.push(t)},t.removeInfo=function(t,e){for(var n=0,r=this.length;r>n;n++)if(this[n].row===t&&this[n].col===e){this.splice(n,1);break}},t}function l(t){if(this.mergedCellInfoCollection=new s,Array.isArray(t))for(var e=0,n=t.length;n>e;e++)this.mergedCellInfoCollection.setInfo(t[e])}function u(){}function c(t,n){var r,i=function(){this.selectionHandles={topLeft:document.createElement("DIV"),topLeftHitArea:document.createElement("DIV"),bottomRight:document.createElement("DIV"),bottomRightHitArea:document.createElement("DIV")};var t=10,e=40;this.selectionHandles.topLeft.className="topLeftSelectionHandle",this.selectionHandles.topLeftHitArea.className="topLeftSelectionHandle-HitArea",this.selectionHandles.bottomRight.className="bottomRightSelectionHandle",this.selectionHandles.bottomRightHitArea.className="bottomRightSelectionHandle-HitArea",this.selectionHandles.styles={topLeft:this.selectionHandles.topLeft.style,topLeftHitArea:this.selectionHandles.topLeftHitArea.style,bottomRight:this.selectionHandles.bottomRight.style,bottomRightHitArea:this.selectionHandles.bottomRightHitArea.style};var n={position:"absolute",height:e+"px",width:e+"px","border-radius":parseInt(e/1.5,10)+"px"};for(var r in n)n.hasOwnProperty(r)&&(this.selectionHandles.styles.bottomRightHitArea[r]=n[r],this.selectionHandles.styles.topLeftHitArea[r]=n[r]);var i={position:"absolute",height:t+"px",width:t+"px","border-radius":parseInt(t/1.5,10)+"px",background:"#F5F5FF",border:"1px solid #4285c8"};for(var r in i)i.hasOwnProperty(r)&&(this.selectionHandles.styles.bottomRight[r]=i[r],this.selectionHandles.styles.topLeft[r]=i[r]);this.main.appendChild(this.selectionHandles.topLeft),this.main.appendChild(this.selectionHandles.bottomRight),this.main.appendChild(this.selectionHandles.topLeftHitArea),this.main.appendChild(this.selectionHandles.bottomRightHitArea)};if(n){var o=e.eventManager(t);this.instance=t,this.settings=n,this.main=document.createElement("div"),r=this.main.style,r.position="absolute",r.top=0,r.left=0;for(var a=["top","left","bottom","right","corner"],s=0;5>s;s++){var l=a[s],u=document.createElement("DIV");u.className="wtBorder "+(this.settings.className||""),this.settings[l]&&this.settings[l].hide&&(u.className+=" hidden"),r=u.style,r.backgroundColor=this.settings[l]&&this.settings[l].color?this.settings[l].color:n.border.color,r.height=this.settings[l]&&this.settings[l].width?this.settings[l].width+"px":n.border.width+"px",r.width=this.settings[l]&&this.settings[l].width?this.settings[l].width+"px":n.border.width+"px",this.main.appendChild(u)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.cornerDefaultStyle={width:"5px",height:"5px",borderWidth:"2px",borderStyle:"solid",borderColor:"#FFF"},this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.height=this.cornerDefaultStyle.height,this.cornerStyle.border=[this.cornerDefaultStyle.borderWidth,this.cornerDefaultStyle.borderStyle,this.cornerDefaultStyle.borderColor].join(" "),e.mobileBrowser&&i.call(this),this.disappear(),t.wtTable.bordersHolder||(t.wtTable.bordersHolder=document.createElement("div"),t.wtTable.bordersHolder.className="htBorders",t.wtTable.hider.appendChild(t.wtTable.bordersHolder)),t.wtTable.bordersHolder.insertBefore(this.main,t.wtTable.bordersHolder.firstChild);var c=!1;o.addEventListener(document.body,"mousedown",function(){c=!0}),o.addEventListener(document.body,"mouseup",function(){c=!1});for(var h=0,f=this.main.childNodes.length;f>h;h++)o.addEventListener(this.main.childNodes[h],"mouseenter",function(e){if(c&&t.getSetting("hideBorderOnMouseDownOver")){e.preventDefault(),e.stopImmediatePropagation();var n=this.getBoundingClientRect();this.style.display="none";var r=function(t){return t.clientY<Math.floor(n.top)?!0:t.clientY>Math.ceil(n.top+n.height)?!0:t.clientX<Math.floor(n.left)?!0:t.clientX>Math.ceil(n.left+n.width)?!0:void 0},i=function(t){r(t)&&(o.removeEventListener(document.body,"mousemove",i),this.style.display="block")};o.addEventListener(document.body,"mousemove",i)}})}}function h(t,e){"undefined"!=typeof t&&"undefined"!=typeof e?(this.row=t,this.col=e):(this.row=null,this.col=null)}function f(t,e,n){this.highlight=t,this.from=e,this.to=n}function d(t,e,n){this.offset=t,this.total=e,this.countTH=n}function p(t,e,n,r){var i,o=0;for(this.instance=t,this.containerSizeFn=e,this.cellSizesSum=0,this.cellSizes=[],this.cellStretch=[],this.cellCount=0,this.visibleCellCount=0,this.remainingSize=0,this.strategy=r;;){if(i=n(o),void 0===i)break;this.cellSizesSum<this.getContainerSize()&&this.visibleCellCount++,this.cellSizes.push(i),this.cellSizesSum+=i,this.cellCount++,o++}var a=this.getContainerSize();this.remainingSize=this.cellSizesSum-a}function g(t){var n=[];if(this.guid="wt_"+y(),t.cloneSource?(this.cloneSource=t.cloneSource,this.cloneOverlay=t.cloneOverlay,this.wtSettings=t.cloneSource.wtSettings,this.wtTable=new _(this,t.table),this.wtScroll=new b(this),this.wtViewport=t.cloneSource.wtViewport,this.wtEvent=new v(this),this.selections=this.cloneSource.selections):(this.wtSettings=new S(this,t),this.wtTable=new _(this,t.table),this.wtScroll=new b(this),this.wtViewport=new A(this),this.wtEvent=new v(this),this.selections=this.getSetting("selections"),this.wtScrollbars=new E(this)),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var r=0,i=this.wtTable.THEAD.childNodes[0].childNodes.length;i>r;r++)n.push(this.wtTable.THEAD.childNodes[0].childNodes[r].innerHTML);this.getSetting("columnHeaders").length||this.update("columnHeaders",[function(t,r){e.Dom.fastInnerText(r,n[t])}])}this.drawn=!1,this.drawInterrupted=!1}function m(t){this.instance=t,this.init(),this.clone=this.makeClone("debug"),this.clone.wtTable.holder.style.opacity=.4,this.clone.wtTable.holder.style.textShadow="0 0 2px #ff0000",this.lastTimeout=null,e.Dom.addClass(this.clone.wtTable.holder.parentNode,"wtDebugVisible")}function v(n){var r=this,i=e.eventManager(n);this.instance=n;var o=[null,null];this.dblClickTimeout=[null,null];var a,s,l=function(t){var n=r.parentCell(t.target);e.Dom.hasClass(t.target,"corner")?r.instance.getSetting("onCellCornerMouseDown",t,t.target):n.TD&&r.instance.hasSetting("onCellMouseDown")&&r.instance.getSetting("onCellMouseDown",t,n.coords,n.TD,r.instance),2!==t.button&&n.TD&&(o[0]=n.TD,clearTimeout(r.dblClickTimeout[0]),r.dblClickTimeout[0]=setTimeout(function(){o[0]=null},1e3))},u=function(t){r.instance.touchMoving=!0},c=function(t){i.addEventListener(this,"touchmove",u),r.checkIfTouchMove=setTimeout(function(){return r.instance.touchMoving===!0?(r.instance.touchMoving=void 0,void i.removeEventListener("touchmove",u,!1)):void l(t)},30)},h=function(t){if(r.instance.hasSetting("onCellMouseOver")){var n=r.instance.wtTable.TABLE,i=e.Dom.closest(t.target,["TD","TH"],n);i&&i!==s&&e.Dom.isChildOf(i,n)&&(s=i,r.instance.getSetting("onCellMouseOver",t,r.instance.wtTable.getCoords(i),i,r.instance))}},f=function(t){if(2!==t.button){var n=r.parentCell(t.target);n.TD===o[0]&&n.TD===o[1]?(e.Dom.hasClass(t.target,"corner")?r.instance.getSetting("onCellCornerDblClick",t,n.coords,n.TD,r.instance):r.instance.getSetting("onCellDblClick",t,n.coords,n.TD,r.instance),o[0]=null,o[1]=null):n.TD===o[0]&&(o[1]=n.TD,clearTimeout(r.dblClickTimeout[1]),r.dblClickTimeout[1]=setTimeout(function(){o[1]=null},500))}},d=function(t){clearTimeout(a),t.preventDefault(),f(t)};if(i.addEventListener(this.instance.wtTable.holder,"mousedown",l),i.addEventListener(this.instance.wtTable.TABLE,"mouseover",h),i.addEventListener(this.instance.wtTable.holder,"mouseup",f),this.instance.wtTable.holder.parentNode.parentNode&&e.mobileBrowser){var p="."+this.instance.wtTable.holder.parentNode.className.split(" ").join(".");i.addEventListener(this.instance.wtTable.holder.parentNode.parentNode,"touchstart",function(t){r.instance.touchApplied=!0,e.Dom.isChildOf(t.target,p)&&c.call(t.target,t)}),i.addEventListener(this.instance.wtTable.holder.parentNode.parentNode,"touchend",function(t){r.instance.touchApplied=!1,e.Dom.isChildOf(t.target,p)&&d.call(t.target,t)}),r.instance.momentumScrolling||(r.instance.momentumScrolling={}),i.addEventListener(this.instance.wtTable.holder.parentNode.parentNode,"scroll",function(t){clearTimeout(r.instance.momentumScrolling._timeout),r.instance.momentumScrolling.ongoing||r.instance.getSetting("onBeforeTouchScroll"),r.instance.momentumScrolling.ongoing=!0,r.instance.momentumScrolling._timeout=setTimeout(function(){r.instance.touchApplied||(r.instance.momentumScrolling.ongoing=!1,r.instance.getSetting("onAfterMomentumScroll"))},200)})}i.addEventListener(t,"resize",function(){r.instance.draw()}),this.destroy=function(){clearTimeout(this.dblClickTimeout[0]),clearTimeout(this.dblClickTimeout[1]),i.clear()}}function y(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()}function w(t,e,n){this.offset=t,this.total=e,this.countTH=n}function b(t){this.instance=t}function x(t){this.instance=t,this.type="corner",this.init(),this.clone=this.makeClone("corner")}function C(t){this.instance=t,this.type="horizontal",this.offset=0,this.init(),this.clone=this.makeClone("left")}function T(t){this.instance=t,this.type="vertical",this.init(),this.clone=this.makeClone("top")}function E(t){this.instance=t,t.update("scrollbarWidth",e.Dom.getScrollbarWidth()),t.update("scrollbarHeight",e.Dom.getScrollbarWidth()),this.vertical=new T(t),this.horizontal=new C(t),this.corner=new x(t),t.getSetting("debug")&&(this.debug=new m(t)),this.registerListeners()}function k(t,e){this.settings=t,this.cellRange=e||null,this.instanceBorders={}}function S(t,n){var r=this;this.instance=t,this.defaults={table:void 0,debug:!1,stretchH:"none",currentRowClassName:null,currentColumnClassName:null,data:void 0,fixedColumnsLeft:0,fixedRowsTop:0,rowHeaders:function(){return[]},columnHeaders:function(){return[]},totalRows:void 0,totalColumns:void 0,cellRenderer:function(t,n,i){var o=r.getSetting("data",t,n);e.Dom.fastInnerText(i,void 0===o||null===o?"":o)},columnWidth:function(t){},rowHeight:function(t){},defaultRowHeight:23,defaultColumnWidth:50,selections:null,hideBorderOnMouseDownOver:!1,viewportRowCalculatorOverride:null,viewportColumnCalculatorOverride:null,onCellMouseDown:null,onCellMouseOver:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,beforeDraw:null,onDraw:null,onBeforeDrawBorders:null,onScrollVertically:null,onScrollHorizontally:null,onBeforeTouchScroll:null,onAfterMomentumScroll:null,scrollbarWidth:10,scrollbarHeight:10,renderAllRows:!1,groups:!1},this.settings={};for(var i in this.defaults)if(this.defaults.hasOwnProperty(i))if(void 0!==n[i])this.settings[i]=n[i];else{if(void 0===this.defaults[i])throw new Error('A required setting "'+i+'" was not provided');this.settings[i]=this.defaults[i]}}function _(t,n){this.instance=t,this.TABLE=n,e.Dom.removeTextNodes(this.TABLE);var r=this.TABLE.parentNode;if(!r||1!==r.nodeType||!e.Dom.hasClass(r,"wtHolder")){var i=document.createElement("DIV");i.className="wtSpreader",r&&r.insertBefore(i,this.TABLE),i.appendChild(this.TABLE)}if(this.spreader=this.TABLE.parentNode,r=this.spreader.parentNode,!r||1!==r.nodeType||!e.Dom.hasClass(r,"wtHolder")){var o=document.createElement("DIV");o.className="wtHider",r&&r.insertBefore(o,this.spreader),o.appendChild(this.spreader)}if(this.hider=this.spreader.parentNode,this.hiderStyle=this.hider.style,this.hiderStyle.position="relative",r=this.hider.parentNode,!r||1!==r.nodeType||!e.Dom.hasClass(r,"wtHolder")){var a=document.createElement("DIV");a.style.position="relative",a.className="wtHolder",t.cloneSource||(a.className+=" ht_master"),r&&r.insertBefore(a,this.hider),a.appendChild(this.hider)}if(this.holder=this.hider.parentNode,this.isWorkingOnClone()||(this.holder.parentNode.style.position="relative"),this.TBODY=this.TABLE.getElementsByTagName("TBODY")[0],this.TBODY||(this.TBODY=document.createElement("TBODY"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.getElementsByTagName("THEAD")[0],this.THEAD||(this.THEAD=document.createElement("THEAD"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.getElementsByTagName("COLGROUP")[0],this.COLGROUP||(this.COLGROUP=document.createElement("COLGROUP"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.instance.getSetting("columnHeaders").length&&!this.THEAD.childNodes.length){var s=document.createElement("TR");this.THEAD.appendChild(s)}this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length,this.rowFilter=null,this.columnFilter=null}function $(t){this.wtTable=t,this.instance=t.instance,this.rowFilter=t.rowFilter,this.columnFilter=t.columnFilter,this.TABLE=t.TABLE,this.THEAD=t.THEAD,this.TBODY=t.TBODY,this.COLGROUP=t.COLGROUP,this.utils=$.utils}function A(n){this.instance=n,this.oversizedRows=[],this.oversizedCols=[],this.oversizedColumnHeaders=[];var r=this,i=e.eventManager(n);i.addEventListener(t,"resize",function(){r.clientHeight=r.getWorkspaceHeight()})}function D(t,e,n,r,i,o,a){function s(t,e){var r=0;if(f.stretchAllColumnsWidth[t]||(f.stretchAllColumnsWidth[t]=Math.round(e*f.stretchAllRatio)),f.stretchAllColumnsWidth.length===n&&f.needVerifyLastColumnWidth){f.needVerifyLastColumnWidth=!1;for(var i=0;i<f.stretchAllColumnsWidth.length;i++)r+=f.stretchAllColumnsWidth[i];r!=f.totalTargetWidth&&(f.stretchAllColumnsWidth[f.stretchAllColumnsWidth.length-1]+=f.totalTargetWidth-r)}return f.stretchAllColumnsWidth[t]}function l(t,e){return t===n-1?f.stretchLastWidth:null}var u,c,h,f=this,d=1,p=0,g=!0,m=50,v=[];for(this.scrollOffset=e,this.startColumn=null,this.endColumn=null,this.startPosition=null,this.count=0,this.stretchAllRatio=0,this.stretchLastWidth=0,this.stretch=a,this.totalTargetWidth=0,this.needVerifyLastColumnWidth=!0,this.stretchAllColumnsWidth=[],u=function(t){var e=r(t);return d=d||1,void 0===e&&(e=m),e},this.refreshStretching=function(t){for(var e,r,i=0,o=0;n>o;o++)e=u(o),i+=e;this.totalTargetWidth=t,r=i-t,"all"===this.stretch&&0>r?(this.stretchAllRatio=t/i,this.stretchAllColumnsWidth=[],this.needVerifyLastColumnWidth=!0):"last"===this.stretch&&t!==1/0&&(this.stretchLastWidth=-r+u(n-1))},this.getStretchedColumnWidth=function(t,e){var n=null;return"all"===this.stretch&&0!==this.stretchAllRatio?n=s(t,e):"last"===this.stretch&&0!==this.stretchLastWidth&&(n=l(t,e)),n},h=0;n>h;h++)if(c=u(h),e>=p&&!o&&(this.startColumn=h),p>=e&&e+t>=p+c&&(null==this.startColumn&&(this.startColumn=h),this.endColumn=h),v.push(p),p+=c,o||(this.endColumn=h),p>=e+t){g=!1;break}if(this.endColumn==n-1&&g)for(this.startColumn=this.endColumn;this.startColumn>0;){var y=v[this.endColumn]+c-v[this.startColumn-1];if((t>=y||!o)&&this.startColumn--,y>t)break}null!==this.startColumn&&i&&i(this),this.startPosition=v[this.startColumn],void 0==this.startPosition&&(this.startPosition=null),null!=this.startColumn&&(this.count=this.endColumn-this.startColumn+1)}function M(t,e,n,r,i,o){this.scrollOffset=e,this.startRow=null,this.startPosition=null,this.endRow=null,this.count=0;for(var a,s=0,l=!0,u=23,c=[],h=0;n>h;h++)if(a=r(h),void 0===a&&(a=u),e>=s&&!o&&(this.startRow=h),s>=e&&e+t>=s+a&&(null==this.startRow&&(this.startRow=h),this.endRow=h),c.push(s),s+=a,o||(this.endRow=h),s>=e+t){l=!1;break}if(this.endRow==n-1&&l)for(this.startRow=this.endRow;this.startRow>0;){var f=c[this.endRow]+a-c[this.startRow-1];if((t>=f||!o)&&this.startRow--,f>=t)break}null!==this.startRow&&i&&i(this),this.startPosition=c[this.startRow],void 0==this.startPosition&&(this.startPosition=null),null!=this.startRow&&(this.count=this.endRow-this.startRow+1)}Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,n=Number(arguments[1])||0;for(n=0>n?Math.ceil(n):Math.floor(n),0>n&&(n+=e);e>n;n++)if(n in this&&this[n]===t)return n;return-1}),Array.prototype.filter||(Array.prototype.filter=function(t,e){function n(t){return/NodeList/i.test(t.item)}function r(t){for(var e=[],n=0,r=t.length;r>n;n++)e[n]=t[n];return e}if("undefined"==typeof this||null===this)throw new TypeError;if("function"!=typeof t)throw new TypeError;e=e||this,n(e)&&(e=r(e));var i,o,a=e.length,s=[];for(i=0;a>i;i+=1)e.hasOwnProperty(i)&&(o=e[i],t.call(e,o,i,e)&&s.push(o));return s}),Array.isArray||(Array.isArray=function(t){return"[object Array]"==toString.call(t)}),
// License CC-BY-SA v2.5
Object.keys||(Object.keys=function(){var t=Object.prototype.hasOwnProperty,e=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(i){if("object"!=typeof i&&("function"!=typeof i||null===i))throw new TypeError("Object.keys called on non-object");var o,a,s=[];for(o in i)t.call(i,o)&&s.push(o);if(e)for(a=0;r>a;a++)t.call(i,n[a])&&s.push(n[a]);return s}}()),/*
 * Copyright 2012 The Polymer Authors. All rights reserved.
 * Use of this source code is governed by a BSD-style
 * license that can be found in the LICENSE file.
 */
"undefined"==typeof WeakMap&&!function(){var e=Object.defineProperty;try{var n=!0;e(function(){},"foo",{})}catch(r){n=!1}var i=+new Date%1e9,o=function(){this.name="__st"+(1e9*Math.random()>>>0)+(i++ +"__"),n||(this._wmCache=[])};o.prototype=n?{set:function(t,n){var r=t[this.name];r&&r[0]===t?r[1]=n:e(t,this.name,{value:[t,n],writable:!0})},get:function(t){var e;return(e=t[this.name])&&e[0]===t?e[1]:void 0},"delete":function(t){this.set(t,void 0)}}:{set:function(t,e){if("undefined"!=typeof t&&"undefined"!=typeof e){for(var n=0,r=this._wmCache.length;r>n;n++)if(this._wmCache[n].key==t)return void(this._wmCache[n].value=e);this._wmCache.push({key:t,value:e})}},get:function(t){if("undefined"!=typeof t)for(var e=0,n=this._wmCache.length;n>e;e++)if(this._wmCache[e].key==t)return this._wmCache[e].value},"delete":function(t){if("undefined"!=typeof t)for(var e=0,n=this._wmCache.length;n>e;e++)this._wmCache[e].key==t&&Array.prototype.slice.call(this._wmCache,e,1)}},t.WeakMap=o}(),e.activeGuid=null,e.Core=function(t,n){function r(){var t=!1;return{validatorsInQueue:0,addValidatorToQueue:function(){this.validatorsInQueue++,t=!1},removeValidatorFormQueue:function(){this.validatorsInQueue=this.validatorsInQueue-1<0?0:this.validatorsInQueue-1,this.checkIfQueueIsEmpty()},onQueueEmpty:function(){},checkIfQueueIsEmpty:function(){0==this.validatorsInQueue&&0==t&&(t=!0,this.onQueueEmpty())}}}function i(t,n,i){function o(){var r;t.length&&(r=e.hooks.run(y,"beforeChange",t,n),"function"==typeof r?console.warn("Your beforeChange callback returns a function. It's not supported since Handsontable 0.12.1 (and the returned function will not be executed)."):r===!1&&t.splice(0,t.length)),i()}var a=new r;a.onQueueEmpty=o;for(var s=t.length-1;s>=0;s--)if(null===t[s])t.splice(s,1);else{var l=t[s][0],u=p.propToCol(t[s][1]),c=y.runHooks("modifyCol",u),h=y.getCellMeta(l,c);if("numeric"===h.type&&"string"==typeof t[s][3]&&t[s][3].length>0&&(/^-?[\d\s]*(\.|\,)?\d*$/.test(t[s][3])||h.format)){var f=t[s][3].length;numeral.language("undefined"==typeof h.language?"en":t[s][3].indexOf(".")===f-3&&-1===t[s][3].indexOf(",")?"en":h.language),numeral.validate(t[s][3])&&(t[s][3]=numeral().unformat(t[s][3]))}y.getCellValidator(h)&&(a.addValidatorToQueue(),y.validateCell(t[s][3],h,function(e,n){return function(r){if("boolean"!=typeof r)throw new Error("Validation error: result is not boolean");r===!1&&n.allowInvalid===!1&&(t.splice(e,1),n.valid=!0,--e),a.removeValidatorFormQueue()}}(s,h),n))}a.checkIfQueueIsEmpty()}function o(t,n){var r=t.length-1;if(!(0>r)){for(;r>=0;r--)if(null!==t[r]){if(null!=t[r][2]||null!=t[r][3]){if(d.settings.allowInsertRow)for(;t[r][0]>y.countRows()-1;)p.createRow();if("array"===y.dataType&&d.settings.allowInsertColumn)for(;p.propToCol(t[r][1])>y.countCols()-1;)p.createCol();p.set(t[r][0],t[r][1],t[r][3])}}else t.splice(r,1);y.forceFullRender=!0,g.adjustRowsAndCols(),e.hooks.run(y,"beforeChangeRender",t,n),m.refreshBorders(null,!0),e.hooks.run(y,"afterChange",t,n||"edit")}}function a(t,e,n){return"object"==typeof t?t:[[t,e,n]]}function s(t){if(t.hasOwnProperty("type")){var n,r={};if("object"==typeof t.type)n=t.type;else if("string"==typeof t.type&&(n=e.cellTypes[t.type],void 0===n))throw new Error('You declared cell type "'+t.type+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');for(var i in n)n.hasOwnProperty(i)&&!t.hasOwnProperty(i)&&(r[i]=n[i]);return r}}function l(t){return e.hooks.run(y,"modifyRow",t)}function u(t){return e.hooks.run(y,"modifyCol",t)}function c(){throw new Error("This method cannot be called because this Handsontable instance has been destroyed")}var d,p,g,m,v,y=this,w=function(){},b=e.eventManager(y);e.helper.extend(w.prototype,R.prototype),e.helper.extend(w.prototype,n),e.helper.extend(w.prototype,s(n)),this.rootElement=t,this.container=document.createElement("DIV"),this.container.className="htContainer",t.insertBefore(this.container,t.firstChild),this.guid="ht_"+e.helper.randomString(),this.rootElement.id&&"ht_"!==this.rootElement.id.substring(0,3)||(this.rootElement.id=this.guid),d={cellSettings:[],columnSettings:[],columnsSettingConflicts:["data","width"],settings:new w,selRange:null,isPopulated:null,scrollable:null,firstRun:!0},g={alter:function(t,e,n,r,i){var o;switch(n=n||1,t){case"insert_row":o=p.createRow(e,n),o&&(m.isSelected()&&d.selRange.from.row>=e?(d.selRange.from.row=d.selRange.from.row+o,m.transformEnd(o,0)):m.refreshBorders());break;case"insert_col":if(o=p.createCol(e,n)){if(Array.isArray(y.getSettings().colHeaders)){var a=[e,0];a.length+=o,Array.prototype.splice.apply(y.getSettings().colHeaders,a)}m.isSelected()&&d.selRange.from.col>=e?(d.selRange.from.col=d.selRange.from.col+o,m.transformEnd(0,o)):m.refreshBorders()}break;case"remove_row":e=y.runHooks("modifyCol",e),p.removeRow(e,n),d.cellSettings.splice(e,n);var s=y.getSettings().fixedRowsTop;s>=e+1&&(y.getSettings().fixedRowsTop-=Math.min(n,s-e)),g.adjustRowsAndCols(),m.refreshBorders();break;case"remove_col":p.removeCol(e,n);for(var l=0,u=p.getAll().length;u>l;l++)l in d.cellSettings&&d.cellSettings[l].splice(e,n);var c=y.getSettings().fixedColumnsLeft;c>=e+1&&(y.getSettings().fixedColumnsLeft-=Math.min(n,c-e)),Array.isArray(y.getSettings().colHeaders)&&("undefined"==typeof e&&(e=-1),y.getSettings().colHeaders.splice(e,n)),g.adjustRowsAndCols(),m.refreshBorders();break;default:throw new Error('There is no such action "'+t+'"')}i||g.adjustRowsAndCols()},adjustRowsAndCols:function(){var t,e,n,r;if(e=y.countRows(),e<d.settings.minRows)for(t=0;t<d.settings.minRows-e;t++)p.createRow(y.countRows(),1,!0);if(n=y.countEmptyRows(!0),n<d.settings.minSpareRows)for(;n<d.settings.minSpareRows&&y.countRows()<d.settings.maxRows;n++)p.createRow(y.countRows(),1,!0);if(r=y.countEmptyCols(!0),!d.settings.columns&&y.countCols()<d.settings.minCols)for(;y.countCols()<d.settings.minCols;r++)p.createCol(y.countCols(),1,!0);if(!d.settings.columns&&"array"===y.dataType&&r<d.settings.minSpareCols)for(;r<d.settings.minSpareCols&&y.countCols()<d.settings.maxCols;r++)p.createCol(y.countCols(),1,!0);var i=y.countRows(),o=y.countCols();if((0===i||0===o)&&m.deselect(),m.isSelected()){var a,s=d.selRange.from.row,l=d.selRange.from.col,u=d.selRange.to.row,c=d.selRange.to.col;s>i-1?(s=i-1,a=!0,u>s&&(u=s)):u>i-1&&(u=i-1,a=!0,s>u&&(s=u)),l>o-1?(l=o-1,a=!0,c>l&&(c=l)):c>o-1&&(c=o-1,a=!0,l>c&&(l=c)),a&&y.selectCell(s,l,u,c)}},populateFromArray:function(t,n,r,i,o,a,s){var l,u,c,h,f=[],p={};if(u=n.length,0===u)return!1;var g,m,v,w;switch(o){case"shift_down":for(g=r?r.col-t.col+1:0,m=r?r.row-t.row+1:0,n=e.helper.translateRowsToColumns(n),c=0,h=n.length,v=Math.max(h,g);v>c;c++)if(h>c){for(l=0,u=n[c].length;m-u>l;l++)n[c].push(n[c][l%u]);n[c].unshift(t.col+c,t.row,0),y.spliceCol.apply(y,n[c])}else n[c%h][0]=t.col+c,y.spliceCol.apply(y,n[c%h]);break;case"shift_right":for(g=r?r.col-t.col+1:0,m=r?r.row-t.row+1:0,l=0,u=n.length,w=Math.max(u,m);w>l;l++)if(u>l){for(c=0,h=n[l].length;g-h>c;c++)n[l].push(n[l][c%h]);n[l].unshift(t.row+l,t.col,0),y.spliceRow.apply(y,n[l])}else n[l%u][0]=t.row+l,y.spliceRow.apply(y,n[l%u]);break;case"overwrite":default:p.row=t.row,p.col=t.col;var b={row:0,col:0},x={row:r&&t?r.row-t.row+1:1,col:r&&t?r.col-t.col+1:1};for(-1!==["up","left"].indexOf(a)?b={row:Math.ceil(x.row/u)||1,col:Math.ceil(x.col/n[0].length)||1}:-1!==["down","right"].indexOf(a)&&(b={row:1,col:1}),l=0;u>l&&!(r&&p.row>r.row||!d.settings.allowInsertRow&&p.row>y.countRows()-1||p.row>=d.settings.maxRows);l++){for(p.col=t.col,h=n[l]?n[l].length:0,c=0;h>c&&!(r&&p.col>r.col||!d.settings.allowInsertColumn&&p.col>y.countCols()-1||p.col>=d.settings.maxCols);c++){if(!y.getCellMeta(p.row,p.col).readOnly){var C,T=n[l][c],E={row:l,col:c};"autofill"===i&&(C=y.runHooks("beforeAutofillInsidePopulate",E,a,n,s,b,x),C&&(b="undefined"!=typeof C.iterators?C.iterators:b,T="undefined"!=typeof C.value?C.value:T)),f.push([p.row,p.col,T])}p.col++,r&&c===h-1&&(c=-1,-1!==["down","right"].indexOf(a)?b.col++:-1!==["up","left"].indexOf(a)&&b.col>1&&b.col--)}p.row++,b.col=1,r&&l===u-1&&(l=-1,-1!==["down","right"].indexOf(a)?b.row++:-1!==["up","left"].indexOf(a)&&b.row>1&&b.row--)}y.setDataAtCell(f,null,null,i||"populateFromArray")}}},this.selection=m={inProgress:!1,selectedHeader:{cols:!1,rows:!1},setSelectedHeaders:function(t,e){y.selection.selectedHeader.rows=t,y.selection.selectedHeader.cols=e},begin:function(){y.selection.inProgress=!0},finish:function(){var t=y.getSelected();e.hooks.run(y,"afterSelectionEnd",t[0],t[1],t[2],t[3]),e.hooks.run(y,"afterSelectionEndByProp",t[0],y.colToProp(t[1]),t[2],y.colToProp(t[3])),y.selection.inProgress=!1},isInProgress:function(){return y.selection.inProgress},setRangeStart:function(t,n){e.hooks.run(y,"beforeSetRangeStart",t),d.selRange=new f(t,t,t),m.setRangeEnd(t,null,n)},setRangeEnd:function(t,n,r){e.hooks.run(y,"beforeSetRangeEnd",t),y.selection.begin(),d.selRange.to=new h(t.row,t.col),d.settings.multiSelect||(d.selRange.from=t),y.view.wt.selections.current.clear(),y.view.wt.selections.current.add(d.selRange.highlight),y.view.wt.selections.area.clear(),m.isMultiple()&&(y.view.wt.selections.area.add(d.selRange.from),y.view.wt.selections.area.add(d.selRange.to)),(d.settings.currentRowClassName||d.settings.currentColClassName)&&(y.view.wt.selections.highlight.clear(),y.view.wt.selections.highlight.add(d.selRange.from),y.view.wt.selections.highlight.add(d.selRange.to)),e.hooks.run(y,"afterSelection",d.selRange.from.row,d.selRange.from.col,d.selRange.to.row,d.selRange.to.col),e.hooks.run(y,"afterSelectionByProp",d.selRange.from.row,p.colToProp(d.selRange.from.col),d.selRange.to.row,p.colToProp(d.selRange.to.col)),n!==!1&&y.view.mainViewIsActive()&&y.view.scrollViewport(d.selRange.from&&!m.isMultiple()?d.selRange.from:t),m.refreshBorders(null,r)},refreshBorders:function(t,e){e||v.destroyEditor(t),y.view.render(),m.isSelected()&&!e&&v.prepareEditor()},isMultiple:function(){var t=!(d.selRange.to.col===d.selRange.from.col&&d.selRange.to.row===d.selRange.from.row),n=e.hooks.run(y,"afterIsMultipleSelection",t);return t?n:void 0},transformStart:function(t,e,n,r){var i=new h(t,e);y.runHooks("modifyTransformStart",i),d.selRange.highlight.row+t>y.countRows()-1?n&&d.settings.minSpareRows>0?y.alter("insert_row",y.countRows()):d.settings.autoWrapCol&&(i.row=1-y.countRows(),i.col=d.selRange.highlight.col+i.col==y.countCols()-1?1-y.countCols():1):d.settings.autoWrapCol&&d.selRange.highlight.row+i.row<0&&d.selRange.highlight.col+i.col>=0&&(i.row=y.countRows()-1,i.col=d.selRange.highlight.col+i.col==0?y.countCols()-1:-1),d.selRange.highlight.col+i.col>y.countCols()-1?n&&d.settings.minSpareCols>0?y.alter("insert_col",y.countCols()):d.settings.autoWrapRow&&(i.row=d.selRange.highlight.row+i.row==y.countRows()-1?1-y.countRows():1,i.col=1-y.countCols()):d.settings.autoWrapRow&&d.selRange.highlight.col+i.col<0&&d.selRange.highlight.row+i.row>=0&&(i.row=d.selRange.highlight.row+i.row==0?y.countRows()-1:-1,i.col=y.countCols()-1);var o=y.countRows(),a=y.countCols(),s=new h(d.selRange.highlight.row+i.row,d.selRange.highlight.col+i.col);s.row<0?s.row=0:s.row>0&&s.row>=o&&(s.row=o-1),s.col<0?s.col=0:s.col>0&&s.col>=a&&(s.col=a-1),m.setRangeStart(s,r)},transformEnd:function(t,e){var n=new h(t,e);y.runHooks("modifyTransformEnd",n);var r=y.countRows(),i=y.countCols(),o=new h(d.selRange.to.row+n.row,d.selRange.to.col+n.col);o.row<0?o.row=0:o.row>0&&o.row>=r&&(o.row=r-1),o.col<0?o.col=0:o.col>0&&o.col>=i&&(o.col=i-1),m.setRangeEnd(o,!0)},isSelected:function(){return null!==d.selRange},inInSelection:function(t){return m.isSelected()?d.selRange.includes(t):!1},deselect:function(){m.isSelected()&&(y.selection.inProgress=!1,d.selRange=null,y.view.wt.selections.current.clear(),y.view.wt.selections.area.clear(),(d.settings.currentRowClassName||d.settings.currentColClassName)&&y.view.wt.selections.highlight.clear(),v.destroyEditor(),m.refreshBorders(),e.hooks.run(y,"afterDeselect"))},selectAll:function(){d.settings.multiSelect&&(m.setRangeStart(new h(0,0)),m.setRangeEnd(new h(y.countRows()-1,y.countCols()-1),!1))},empty:function(){if(m.isSelected()){var t,e,n=d.selRange.getTopLeftCorner(),r=d.selRange.getBottomRightCorner(),i=[];for(t=n.row;t<=r.row;t++)for(e=n.col;e<=r.col;e++)y.getCellMeta(t,e).readOnly||i.push([t,e,""]);y.setDataAtCell(i)}}},this.init=function(){e.hooks.run(y,"beforeInit"),e.mobileBrowser&&e.Dom.addClass(y.rootElement,"mobile"),this.updateSettings(d.settings,!0),this.view=new e.TableView(this),v=new e.EditorManager(y,d,m,p),this.forceFullRender=!0,this.view.render(),"object"==typeof d.firstRun&&(e.hooks.run(y,"afterChange",d.firstRun[0],d.firstRun[1]),d.firstRun=!1),e.hooks.run(y,"afterInit")},this.validateCell=function(t,n,r,i){var o=y.getCellValidator(n);"[object RegExp]"===Object.prototype.toString.call(o)&&(o=function(t){return function(e,n){n(t.test(e))}}(o)),"function"==typeof o?(t=e.hooks.run(y,"beforeValidate",t,n.row,n.prop,i),y._registerTimeout(setTimeout(function(){o.call(n,t,function(o){o=e.hooks.run(y,"afterValidate",o,t,n.row,n.prop,i),n.valid=o,r(o),e.hooks.run(y,"postAfterValidate",o,t,n.row,n.prop,i)})},0))):(n.valid=!0,r(!0))},this.setDataAtCell=function(t,e,n,r){var s,l,u,c=a(t,e,n),h=[];for(s=0,l=c.length;l>s;s++){if("object"!=typeof c[s])throw new Error("Method `setDataAtCell` accepts row number or changes array of arrays as its first parameter");if("number"!=typeof c[s][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");u=p.colToProp(c[s][1]),h.push([c[s][0],u,p.get(c[s][0],u),c[s][2]])}r||"object"!=typeof t||(r=e),i(h,r,function(){o(h,r)})},this.setDataAtRowProp=function(t,e,n,r){var s,l,u=a(t,e,n),c=[];for(s=0,l=u.length;l>s;s++)c.push([u[s][0],u[s][1],p.get(u[s][0],u[s][1]),u[s][2]]);r||"object"!=typeof t||(r=e),i(c,r,function(){o(c,r)})},this.listen=function(){e.activeGuid=y.guid,document.activeElement&&document.activeElement!==document.body?document.activeElement.blur():document.activeElement||document.body.focus()},this.unlisten=function(){e.activeGuid=null},this.isListening=function(){return e.activeGuid===y.guid},this.destroyEditor=function(t){m.refreshBorders(t)},this.populateFromArray=function(t,e,n,r,i,o,a,s,l){var u;if("object"!=typeof n||"object"!=typeof n[0])throw new Error("populateFromArray parameter `input` must be an array of arrays");return u="number"==typeof r?new h(r,i):null,g.populateFromArray(new h(t,e),n,u,o,a,s,l)},this.spliceCol=function(t,e,n){return p.spliceCol.apply(p,arguments)},this.spliceRow=function(t,e,n){return p.spliceRow.apply(p,arguments)},this.getSelected=function(){return m.isSelected()?[d.selRange.from.row,d.selRange.from.col,d.selRange.to.row,d.selRange.to.col]:void 0},this.getSelectedRange=function(){return m.isSelected()?d.selRange:void 0},this.render=function(){y.view&&(y.forceFullRender=!0,m.refreshBorders(null,!0))},this.loadData=function(t){function n(){d.cellSettings.length=0}if("object"==typeof t&&null!==t)t.push&&t.splice||(t=[t]);else{if(null!==t)throw new Error("loadData only accepts array of objects or array of arrays ("+typeof t+" given)");t=[];for(var r,i=0,o=d.settings.startRows;o>i;i++){r=[];for(var a=0,s=d.settings.startCols;s>a;a++)r.push(null);t.push(r)}}d.isPopulated=!1,w.prototype.data=t,y.dataType=Array.isArray(d.settings.dataSchema)||Array.isArray(t[0])?"array":"function"==typeof d.settings.dataSchema?"function":"object",p=new e.DataMap(y,d,w),n(),g.adjustRowsAndCols(),e.hooks.run(y,"afterLoadData"),d.firstRun?d.firstRun=[null,"loadData"]:(e.hooks.run(y,"afterChange",null,"loadData"),y.render()),d.isPopulated=!0},this.getData=function(t,e,n,r){return"undefined"==typeof t?p.getAll():p.getRange(new h(t,e),new h(n,r),p.DESTINATION_RENDERER)},this.getCopyableData=function(t,e,n,r){return p.getCopyableText(new h(t,e),new h(n,r))},this.updateSettings=function(t,n){var r,i;if("undefined"!=typeof t.rows)throw new Error("'rows' setting is no longer supported. do you mean startRows, minRows or maxRows?");if("undefined"!=typeof t.cols)throw new Error("'cols' setting is no longer supported. do you mean startCols, minCols or maxCols?");for(r in t)"data"!==r&&(void 0!==e.hooks.hooks[r]||void 0!==e.hooks.legacy[r]?("function"==typeof t[r]||Array.isArray(t[r]))&&y.addHook(r,t[r]):!n&&t.hasOwnProperty(r)&&(w.prototype[r]=t[r]));if(void 0===t.data&&void 0===d.settings.data?y.loadData(null):void 0!==t.data?y.loadData(t.data):void 0!==t.columns&&p.createMap(),i=y.countCols(),d.cellSettings.length=0,i>0){var o,a;for(r=0;i>r;r++)d.columnSettings[r]=e.helper.columnFactory(w,d.columnsSettingConflicts),o=d.columnSettings[r].prototype,w.prototype.columns&&(a=w.prototype.columns[r],e.helper.extend(o,a),e.helper.extend(o,s(a)))}if("undefined"!=typeof t.cell)for(r in t.cell){var l=t.cell[r];y.setCellMetaObject(l.row,l.col,l)}if(e.hooks.run(y,"afterCellMetaReset"),"undefined"!=typeof t.className&&(w.prototype.className&&e.Dom.removeClass(y.rootElement,w.prototype.className),t.className&&e.Dom.addClass(y.rootElement,t.className)),"undefined"!=typeof t.height){var u=t.height;"function"==typeof u&&(u=u()),y.rootElement.style.height=u+"px"}if("undefined"!=typeof t.width){var c=t.width;"function"==typeof c&&(c=c()),y.rootElement.style.width=c+"px"}u&&(y.rootElement.style.overflow="auto"),n||e.hooks.run(y,"afterUpdateSettings"),g.adjustRowsAndCols(),y.view&&!d.firstRun&&(y.forceFullRender=!0,m.refreshBorders(null,!0))},this.getValue=function(){var t=y.getSelected();if(w.prototype.getValue){if("function"==typeof w.prototype.getValue)return w.prototype.getValue.call(y);if(t)return y.getData()[t[0]][w.prototype.getValue]}else if(t)return y.getDataAtCell(t[0],t[1])},this.getSettings=function(){return d.settings},this.clear=function(){m.selectAll(),m.empty()},this.alter=function(t,e,n,r,i){g.alter(t,e,n,r,i)},this.getCell=function(t,e,n){return y.view.getCellAtCoords(new h(t,e),n)},this.getCoords=function(t){return this.view.wt.wtTable.getCoords.call(this.view.wt.wtTable,t)},this.colToProp=function(t){return p.colToProp(t)},this.propToCol=function(t){return p.propToCol(t)},this.getDataAtCell=function(t,e){return p.get(t,p.colToProp(e))},this.getDataAtRowProp=function(t,e){return p.get(t,e)},this.getDataAtCol=function(t){var e=[];return e.concat.apply(e,p.getRange(new h(0,t),new h(d.settings.data.length-1,t),p.DESTINATION_RENDERER))},this.getDataAtProp=function(t){var e,n=[];return e=p.getRange(new h(0,p.propToCol(t)),new h(d.settings.data.length-1,p.propToCol(t)),p.DESTINATION_RENDERER),n.concat.apply(n,e)},this.getSourceDataAtCol=function(t){for(var e=[],n=d.settings.data,r=0;r<n.length;r++)e.push(n[r][t]);return e},this.getSourceDataAtRow=function(t){return d.settings.data[t]},this.getDataAtRow=function(t){var e=p.getRange(new h(t,0),new h(t,this.countCols()-1),p.DESTINATION_RENDERER);return e[0]},this.removeCellMeta=function(t,e,n){var r=y.getCellMeta(t,e);void 0!=r[n]&&delete d.cellSettings[t][e][n]},this.setCellMetaObject=function(t,e,n){if("object"==typeof n)for(var r in n){var i=n[r];this.setCellMeta(t,e,r,i)}},this.setCellMeta=function(t,n,r,i){d.cellSettings[t]||(d.cellSettings[t]=[]),d.cellSettings[t][n]||(d.cellSettings[t][n]=new d.columnSettings[n]),d.cellSettings[t][n][r]=i,e.hooks.run(y,"afterSetCellMeta",t,n,r,i)},this.getCellMeta=function(t,n){var r,i=p.colToProp(n);if(t=l(t),n=u(n),d.columnSettings[n]||(d.columnSettings[n]=e.helper.columnFactory(w,d.columnsSettingConflicts)),d.cellSettings[t]||(d.cellSettings[t]=[]),d.cellSettings[t][n]||(d.cellSettings[t][n]=new d.columnSettings[n]),r=d.cellSettings[t][n],r.row=t,r.col=n,r.prop=i,r.instance=y,e.hooks.run(y,"beforeGetCellMeta",t,n,r),e.helper.extend(r,s(r)),r.cells){var o=r.cells.call(r,t,n,i);o&&(e.helper.extend(r,o),e.helper.extend(r,s(o)))}return e.hooks.run(y,"afterGetCellMeta",t,n,r),r};var x=e.helper.cellMethodLookupFactory("renderer");this.getCellRenderer=function(t,n){var r=x.call(this,t,n);return e.renderers.getRenderer(r)},this.getCellEditor=e.helper.cellMethodLookupFactory("editor"),this.getCellValidator=e.helper.cellMethodLookupFactory("validator"),this.validateCells=function(t){var e=new r;e.onQueueEmpty=t;for(var n=y.countRows()-1;n>=0;){for(var i=y.countCols()-1;i>=0;)e.addValidatorToQueue(),y.validateCell(y.getDataAtCell(n,i),y.getCellMeta(n,i),function(){e.removeValidatorFormQueue()},"validateCells"),i--;n--}e.checkIfQueueIsEmpty()},this.getRowHeader=function(t){if(void 0===t){for(var e=[],n=0,r=y.countRows();r>n;n++)e.push(y.getRowHeader(n));return e}return Array.isArray(d.settings.rowHeaders)&&void 0!==d.settings.rowHeaders[t]?d.settings.rowHeaders[t]:"function"==typeof d.settings.rowHeaders?d.settings.rowHeaders(t):d.settings.rowHeaders&&"string"!=typeof d.settings.rowHeaders&&"number"!=typeof d.settings.rowHeaders?t+1:d.settings.rowHeaders},this.hasRowHeaders=function(){return!!d.settings.rowHeaders},this.hasColHeaders=function(){if(void 0!==d.settings.colHeaders&&null!==d.settings.colHeaders)return!!d.settings.colHeaders;for(var t=0,e=y.countCols();e>t;t++)if(y.getColHeader(t))return!0;return!1},this.getColHeader=function(t){if(void 0===t){for(var n=[],r=0,i=y.countCols();i>r;r++)n.push(y.getColHeader(r));return n}var o=t;return t=e.hooks.run(y,"modifyCol",t),d.settings.columns&&d.settings.columns[t]&&d.settings.columns[t].title?d.settings.columns[t].title:Array.isArray(d.settings.colHeaders)&&void 0!==d.settings.colHeaders[t]?d.settings.colHeaders[t]:"function"==typeof d.settings.colHeaders?d.settings.colHeaders(t):d.settings.colHeaders&&"string"!=typeof d.settings.colHeaders&&"number"!=typeof d.settings.colHeaders?e.helper.spreadsheetColumnLabel(o):d.settings.colHeaders},this._getColWidthFromSettings=function(t){var e=y.getCellMeta(0,t),n=e.width;if((void 0===n||n===d.settings.width)&&(n=e.colWidths),void 0!==n&&null!==n){switch(typeof n){case"object":n=n[t];break;case"function":n=n(t)}"string"==typeof n&&(n=parseInt(n,10))}return n},this.getColWidth=function(t){var n=y._getColWidthFromSettings(t);return n||(n=50),n=e.hooks.run(y,"modifyColWidth",n,t)},this._getRowHeightFromSettings=function(t){var e=d.settings.rowHeights;if(void 0!==e&&null!==e){switch(typeof e){case"object":e=e[t];break;case"function":e=e(t)}"string"==typeof e&&(e=parseInt(e,10))}return e},this.getRowHeight=function(t){var n=y._getRowHeightFromSettings(t);return n=e.hooks.run(y,"modifyRowHeight",n,t)},this.countRows=function(){return d.settings.data.length},this.countCols=function(){return"object"===y.dataType||"function"===y.dataType?d.settings.columns&&d.settings.columns.length?d.settings.columns.length:p.colToPropCache.length:"array"===y.dataType?d.settings.columns&&d.settings.columns.length?d.settings.columns.length:d.settings.data&&d.settings.data[0]&&d.settings.data[0].length?d.settings.data[0].length:0:void 0},this.rowOffset=function(){return y.view.wt.wtTable.getFirstRenderedRow()},this.colOffset=function(){return y.view.wt.wtTable.getFirstRenderedColumn()},this.countRenderedRows=function(){return y.view.wt.drawn?y.view.wt.wtTable.getRenderedRowsCount():-1},this.countVisibleRows=function(){return y.view.wt.drawn?y.view.wt.wtTable.getVisibleRowsCount():-1},this.countRenderedCols=function(){return y.view.wt.drawn?y.view.wt.wtTable.getRenderedColumnsCount():-1},this.countVisibleCols=function(){return y.view.wt.drawn?y.view.wt.wtTable.getVisibleColumnsCount():-1},this.countEmptyRows=function(t){for(var n,r=y.countRows()-1,i=0;r>=0;){if(n=e.hooks.run(this,"modifyRow",r),y.isEmptyRow(n))i++;else if(t)break;r--}return i},this.countEmptyCols=function(t){if(y.countRows()<1)return 0;for(var e=y.countCols()-1,n=0;e>=0;){if(y.isEmptyCol(e))n++;else if(t)break;e--}return n},this.isEmptyRow=function(t){return d.settings.isEmptyRow.call(y,t)},this.isEmptyCol=function(t){return d.settings.isEmptyCol.call(y,t)},this.selectCell=function(t,e,n,r,i){if("number"!=typeof t||0>t||t>=y.countRows())return!1;if("number"!=typeof e||0>e||e>=y.countCols())return!1;if("undefined"!=typeof n){if("number"!=typeof n||0>n||n>=y.countRows())return!1;if("number"!=typeof r||0>r||r>=y.countCols())return!1}var o=new h(t,e);return d.selRange=new f(o,o,o),document.activeElement&&document.activeElement!==document.documentElement&&document.activeElement!==document.body&&document.activeElement.blur(),y.listen(),"undefined"==typeof n?m.setRangeEnd(d.selRange.from,i):m.setRangeEnd(new h(n,r),i),y.selection.finish(),!0},this.selectCellByProp=function(t,e,n,r,i){return arguments[1]=p.propToCol(arguments[1]),"undefined"!=typeof arguments[3]&&(arguments[3]=p.propToCol(arguments[3])),y.selectCell.apply(y,arguments)},this.deselectCell=function(){m.deselect()},this.destroy=function(){y._clearTimeouts(),y.view&&y.view.destroy(),e.Dom.empty(y.rootElement),b.clear(),e.hooks.run(y,"afterDestroy"),e.hooks.destroy(y);for(var t in y)y.hasOwnProperty(t)&&("function"==typeof y[t]?"runHooks"!==t&&(y[t]=c):"guid"!==t&&(y[t]=null));d=null,p=null,g=null,m=null,v=null,y=null,w=null},this.getActiveEditor=function(){return v.getActiveEditor()},this.getInstance=function(){return y},this.addHook=function(t,n){e.hooks.add(t,n,y)},this.addHookOnce=function(t,n){e.hooks.once(t,n,y)},this.removeHook=function(t,n){e.hooks.remove(t,n,y)},this.runHooks=function(t,n,r,i,o,a,s){return e.hooks.run(y,t,n,r,i,o,a,s)},this.timeouts=[],this._registerTimeout=function(t){this.timeouts.push(t)},this._clearTimeouts=function(){for(var t=0,e=this.timeouts.length;e>t;t++)clearTimeout(this.timeouts[t])},this.version="0.12.6"};var R=function(){};if(R.prototype={data:void 0,dataSchema:void 0,width:void 0,height:void 0,startRows:5,startCols:5,rowHeaders:null,colHeaders:null,colWidths:void 0,columns:void 0,cells:void 0,cell:[],minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,allowInsertRow:!0,allowInsertColumn:!0,allowRemoveRow:!0,allowRemoveColumn:!0,multiSelect:!0,fillHandle:!0,fixedRowsTop:0,fixedColumnsLeft:0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,copyRowsLimit:1e3,copyColsLimit:1e3,pasteMode:"overwrite",currentRowClassName:void 0,currentColClassName:void 0,stretchH:"none",isEmptyRow:function(t){for(var e,n=0,r=this.countCols();r>n;n++)if(e=this.getDataAtCell(t,n),""!==e&&null!==e&&"undefined"!=typeof e)return!1;return!0},isEmptyCol:function(t){for(var e,n=0,r=this.countRows();r>n;n++)if(e=this.getDataAtCell(n,t),""!==e&&null!==e&&"undefined"!=typeof e)return!1;return!0},observeDOMVisibility:!0,allowInvalid:!0,invalidCellClassName:"htInvalid",placeholder:!1,placeholderCellClassName:"htPlaceholder",readOnlyCellClassName:"htDimmed",commentedCellClassName:"htCommentCell",fragmentSelection:!1,readOnly:!1,type:"text",copyable:!0,debug:!1,wordWrap:!0,noWordWrapClassName:"htNoWrap",contextMenu:void 0,undo:void 0,columnSorting:void 0,manualColumnMove:void 0,manualColumnResize:void 0,manualRowMove:void 0,manualRowResize:void 0,manualColumnFreeze:void 0,viewportRowRenderingOffset:10,viewportColumnRenderingOffset:10,groups:void 0,trimWhitespace:!0,settings:void 0,source:void 0,title:void 0,checkedTemplate:void 0,uncheckedTemplate:void 0,renderer:void 0,format:void 0},e.DefaultSettings=R,function(t){function e(){function t(t){return null!==t&&!n(t)&&("string"==typeof t||"number"==typeof t)}function e(t){return null!==t&&("object"==typeof t||"function"==typeof t)}function n(t){return t!==t}var r={arrayMap:[],weakMap:new WeakMap};return{get:function(n){return t(n)?r.arrayMap[n]:e(n)?r.weakMap.get(n):void 0},set:function(n,i){if(t(n))r.arrayMap[n]=i;else{if(!e(n))throw new Error("Invalid key type");r.weakMap.set(n,i)}},"delete":function(n){t(n)?delete r.arrayMap[n]:e(n)&&r.weakMap["delete"](n)}}}t.MultiMap||(t.MultiMap=e)}(t),!t.Handsontable)var e={};if(e.Dom={},e.Dom.enableImmediatePropagation=function(t){null!=t&&null==t.isImmediatePropagationEnabled&&(t.stopImmediatePropagation=function(){this.isImmediatePropagationEnabled=!1,this.cancelBubble=!0},t.isImmediatePropagationEnabled=!0,t.isImmediatePropagationStopped=function(){return!this.isImmediatePropagationEnabled})},e.Dom.closest=function(t,e,n){for(;null!=t&&t!==n;){if(1===t.nodeType&&e.indexOf(t.nodeName)>-1)return t;t=t.parentNode}return null},e.Dom.isChildOf=function(t,e){var n=t.parentNode,r=[];for("string"==typeof e?r=Array.prototype.slice.call(document.querySelectorAll(e),0):r.push(e);null!=n;){if(r.indexOf(n)>-1)return!0;n=n.parentNode}return!1},e.Dom.index=function(t){var e=0;if(t.previousSibling)for(;t=t.previousSibling;)++e;return e},document.documentElement.classList?(e.Dom.hasClass=function(t,e){return t.classList.contains(e)},e.Dom.addClass=function(t,e){e&&t.classList.add(e)},e.Dom.removeClass=function(t,e){t.classList.remove(e)}):(e.Dom.hasClass=function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},e.Dom.addClass=function(t,e){""===t.className?t.className=e:this.hasClass(t,e)||(t.className+=" "+e)},e.Dom.removeClass=function(t,e){if(this.hasClass(t,e)){var n=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(n," ").trim()}}),e.Dom.removeTextNodes=function(t,e){if(3===t.nodeType)e.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1)for(var n=t.childNodes,r=n.length-1;r>=0;r--)this.removeTextNodes(n[r],t)},e.Dom.empty=function(t){for(var e;e=t.lastChild;)t.removeChild(e)},e.Dom.HTML_CHARACTERS=/(<(.*)>|&(.*);)/,e.Dom.fastInnerHTML=function(t,e){this.HTML_CHARACTERS.test(e)?t.innerHTML=e:this.fastInnerText(t,e)},e.Dom.fastInnerText=document.createTextNode("test").textContent?function(t,e){var n=t.firstChild;n&&3===n.nodeType&&null===n.nextSibling?n.textContent=e:(this.empty(t),t.appendChild(document.createTextNode(e)))}:function(t,e){var n=t.firstChild;n&&3===n.nodeType&&null===n.nextSibling?n.data=e:(this.empty(t),t.appendChild(document.createTextNode(e)))},e.Dom.isVisible=function(t){function n(t){return"undefined"!=typeof ShadowDOMPolyfill&&ShadowDOMPolyfill.unwrapIfNeeded?ShadowDOMPolyfill.unwrapIfNeeded(t):t}for(var r=t;n(r)!==document.documentElement;){if(null===r)return!1;if(11===r.nodeType){if(r.host){if(r.host.impl)return e.Dom.isVisible(r.host.impl);if(r.host)return e.Dom.isVisible(r.host);throw new Error("Lost in Web Components world")}return!1}if("none"===r.style.display)return!1;r=r.parentNode}return!0},e.Dom.offset=function(e){var n,r,i,o,a;if(o=document.documentElement,this.hasCaptionProblem()&&e.firstChild&&"CAPTION"===e.firstChild.nodeName)return a=e.getBoundingClientRect(),{top:a.top+(t.pageYOffset||o.scrollTop)-(o.clientTop||0),left:a.left+(t.pageXOffset||o.scrollLeft)-(o.clientLeft||0)};for(n=e.offsetLeft,r=e.offsetTop,i=e;(e=e.offsetParent)&&e!==document.body;)n+=e.offsetLeft,r+=e.offsetTop,i=e;return i&&"fixed"===i.style.position&&(n+=t.pageXOffset||o.scrollLeft,r+=t.pageYOffset||o.scrollTop),{left:n,top:r}},e.Dom.getWindowScrollTop=function(){var e=t.scrollY;return void 0==e&&(e=document.documentElement.scrollTop),e},e.Dom.getWindowScrollLeft=function(){var e=t.scrollX;return void 0==e&&(e=document.documentElement.scrollLeft),e},e.Dom.getScrollTop=function(n){return n===t?e.Dom.getWindowScrollTop(n):n.scrollTop},e.Dom.getScrollLeft=function(n){return n===t?e.Dom.getWindowScrollLeft(n):n.scrollLeft},e.Dom.getScrollableElement=function(e){for(var n,r,i,o=e.parentNode,a=["auto","scroll"];o&&o.style;){if(n=o.style.overflow,r=o.style.overflowX,i=o.style.overflowY,"scroll"==n||"scroll"==r||"scroll"==i)return o;if(o.clientHeight<o.scrollHeight&&(-1!==a.indexOf(i)||-1!==a.indexOf(n)))return o;if(o.clientWidth<o.scrollWidth&&(-1!==a.indexOf(r)||-1!==a.indexOf(n)))return o;o=o.parentNode}return t},e.Dom.getComputedStyle=function(t){return t.currentStyle||document.defaultView.getComputedStyle(t)},e.Dom.outerWidth=function(t){return t.offsetWidth},e.Dom.outerHeight=function(t){return this.hasCaptionProblem()&&t.firstChild&&"CAPTION"===t.firstChild.nodeName?t.offsetHeight+t.firstChild.offsetHeight:t.offsetHeight},e.Dom.innerHeight=function(t){
return t.clientHeight||t.innerHeight},e.Dom.innerWidth=function(t){return t.clientWidth||t.innerWidth},e.Dom.addEvent=function(e,n,r){t.addEventListener?e.addEventListener(n,r,!1):e.attachEvent("on"+n,r)},e.Dom.removeEvent=function(e,n,r){t.removeEventListener?e.removeEventListener(n,r,!1):e.detachEvent("on"+n,r)},function(){function t(){var t=document.createElement("TABLE");t.style.borderSpacing=0,t.style.borderWidth=0,t.style.padding=0;var e=document.createElement("TBODY");t.appendChild(e),e.appendChild(document.createElement("TR")),e.firstChild.appendChild(document.createElement("TD")),e.firstChild.firstChild.innerHTML="<tr><td>t<br>t</td></tr>";var n=document.createElement("CAPTION");n.innerHTML="c<br>c<br>c<br>c",n.style.padding=0,n.style.margin=0,t.insertBefore(n,e),document.body.appendChild(t),r=t.offsetHeight<2*t.lastChild.offsetHeight,document.body.removeChild(t)}function n(){var t=document.createElement("p");t.style.width="100%",t.style.height="200px";var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.visibility="hidden",e.style.width="200px",e.style.height="150px",e.style.overflow="hidden",e.appendChild(t),(document.body||document.documentElement).appendChild(e);var n=t.offsetWidth;e.style.overflow="scroll";var r=t.offsetWidth;return n==r&&(r=e.clientWidth),(document.body||document.documentElement).removeChild(e),n-r}var r;e.Dom.hasCaptionProblem=function(){return void 0===r&&t(),r},e.Dom.getCaretPosition=function(t){if(t.selectionStart)return t.selectionStart;if(document.selection){t.focus();var e=document.selection.createRange();if(null==e)return 0;var n=t.createTextRange(),r=n.duplicate();return n.moveToBookmark(e.getBookmark()),r.setEndPoint("EndToStart",n),r.text.length}return 0},e.Dom.getSelectionEndPosition=function(t){if(t.selectionEnd)return t.selectionEnd;if(document.selection){var e=document.selection.createRange();if(null==e)return 0;var n=t.createTextRange();return n.text.indexOf(e.text)+e.text.length}},e.Dom.setCaretPosition=function(t,e,n){if(void 0===n&&(n=e),t.setSelectionRange)t.focus(),t.setSelectionRange(e,n);else if(t.createTextRange){var r=t.createTextRange();r.collapse(!0),r.moveEnd("character",n),r.moveStart("character",e),r.select()}};var i;e.Dom.getScrollbarWidth=function(){return void 0===i&&(i=n()),i};var o=!document.createTextNode("test").textContent;e.Dom.isIE8=function(){return o};var a=!!document.documentMode;e.Dom.isIE9=function(){return a};var s=/Safari/.test(navigator.userAgent)&&/Apple Computer/.test(navigator.vendor);e.Dom.isSafari=function(){return s},e.Dom.setOverlayPosition=function(t,e,n){o||a?(t.style.top=n,t.style.left=e):s?t.style["-webkit-transform"]="translate3d("+e+","+n+",0)":t.style.transform="translate3d("+e+","+n+",0)"},e.Dom.getCssTransform=function(t){var e;return t.style.transform&&""!=(e=t.style.transform)?["transform",e]:t.style["-webkit-transform"]&&""!=(e=t.style["-webkit-transform"])?["-webkit-transform",e]:-1},e.Dom.resetCssTransform=function(t){t.transform&&""!=t.transform?t.transform="":t["-webkit-transform"]&&""!=t["-webkit-transform"]&&(t["-webkit-transform"]="")}}(),!t.Handsontable)var e={};e.countEventManagerListeners=0,e.eventManager=function(n){var r,i,o,a;if(!n)throw new Error("instance not defined");return n.eventListeners||(n.eventListeners=[]),r=function(r,o,a){var s;return s=function(t){var n;void 0==t.target&&void 0!=t.srcElement&&(t.definePoperty?t.definePoperty("target",{value:t.srcElement}):t.target=t.srcElement),void 0==t.preventDefault&&(t.definePoperty?t.definePoperty("preventDefault",{value:function(){this.returnValue=!1}}):t.preventDefault=function(){this.returnValue=!1}),t.realTarget=t.target,t.isTargetWebComponent=!1,e.helper.isWebComponent(t.target)?(t.isTargetWebComponent=!0,n=Object.create(t,{target:{value:t.path[0]},constructor:{value:t.constructor}}),n.preventDefault=function(){t.preventDefault.apply(t,arguments)},n.stopPropagation=function(){t.stopPropagation.apply(t,arguments)},n.stopImmediatePropagation=function(){t.stopImmediatePropagation.apply(t,arguments)},a.call(this,n)):a.call(this,t)},n.eventListeners.push({element:r,event:o,callback:a,callbackProxy:s}),t.addEventListener?r.addEventListener(o,s,!1):r.attachEvent("on"+o,s),e.countEventManagerListeners++,function(){i(r,o,a)}},i=function(t,r,i){for(var o,a=n.eventListeners.length;a--;)if(o=n.eventListeners[a],o.event==r&&o.element==t){if(i&&i!=o.callback)continue;n.eventListeners.splice(a,1),o.element.removeEventListener?o.element.removeEventListener(o.event,o.callbackProxy,!1):o.element.detachEvent("on"+o.event,o.callbackProxy),e.countEventManagerListeners--}},o=function(){for(var t,e=n.eventListeners.length;e--;)t=n.eventListeners[e],t&&i(t.element,t.event,t.callback)},a=function(e,n){var r,i;r={bubbles:!0,cancelable:"mousemove"!==n,view:t,detail:0,screenX:0,screenY:0,clientX:1,clientY:1,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,button:0,relatedTarget:void 0},document.createEvent?(i=document.createEvent("MouseEvents"),i.initMouseEvent(n,r.bubbles,r.cancelable,r.view,r.detail,r.screenX,r.screenY,r.clientX,r.clientY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,r.relatedTarget||document.body.parentNode)):i=document.createEventObject(),e.dispatchEvent?e.dispatchEvent(i):e.fireEvent("on"+n,i)},{addEventListener:r,removeEventListener:i,clear:o,fireEvent:a}},e.TableView=function(n){var r=this;this.eventManager=e.eventManager(n),this.instance=n,this.settings=n.getSettings();var i=n.rootElement.getAttribute("style");i&&n.rootElement.setAttribute("data-originalstyle",i),e.Dom.addClass(n.rootElement,"handsontable");var o=document.createElement("TABLE");o.className="htCore",this.THEAD=document.createElement("THEAD"),o.appendChild(this.THEAD),this.TBODY=document.createElement("TBODY"),o.appendChild(this.TBODY),n.table=o,n.container.insertBefore(o,n.container.firstChild),this.eventManager.addEventListener(n.rootElement,"mousedown",function(e){r.isTextSelectionAllowed(e.target)||(s(),e.preventDefault(),t.focus())}),this.eventManager.addEventListener(document.documentElement,"keyup",function(t){n.selection.isInProgress()&&!t.shiftKey&&n.selection.finish()});var a;this.isMouseDown=function(){return a},this.eventManager.addEventListener(document.documentElement,"mouseup",function(t){n.selection.isInProgress()&&1===t.which&&n.selection.finish(),a=!1,e.helper.isOutsideInput(document.activeElement)&&n.unlisten()}),this.eventManager.addEventListener(document.documentElement,"mousedown",function(t){var e=t.target;if(!a){if(e!==r.instance.container)for(;e!==document.documentElement;){if(null===e){if(t.isTargetWebComponent)break;return}if(e===n.rootElement)return;e=e.parentNode}r.settings.outsideClickDeselects?n.deselectCell():n.destroyEditor()}}),this.eventManager.addEventListener(o,"selectstart",function(t){r.settings.fragmentSelection||t.preventDefault()});var s=function(){t.getSelection?t.getSelection().empty?t.getSelection().empty():t.getSelection().removeAllRanges&&t.getSelection().removeAllRanges():document.selection&&document.selection.empty()},l=[new k({className:"current",border:{width:2,color:"#5292F7",cornerVisible:function(){return r.settings.fillHandle&&!r.isCellEdited()&&!n.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!r.isCellEdited()&&!n.selection.isMultiple()}}}),new k({className:"area",border:{width:1,color:"#89AFF9",cornerVisible:function(){return r.settings.fillHandle&&!r.isCellEdited()&&n.selection.isMultiple()},multipleSelectionHandlesVisible:function(){return!r.isCellEdited()&&n.selection.isMultiple()}}}),new k({className:"highlight",highlightRowClassName:r.settings.currentRowClassName,highlightColumnClassName:r.settings.currentColClassName}),new k({className:"fill",border:{width:1,color:"red"}})];l.current=l[0],l.area=l[1],l.highlight=l[2],l.fill=l[3];var u={debug:function(){return r.settings.debug},table:o,stretchH:this.settings.stretchH,data:n.getDataAtCell,totalRows:n.countRows,totalColumns:n.countCols,fixedColumnsLeft:function(){return r.settings.fixedColumnsLeft},fixedRowsTop:function(){return r.settings.fixedRowsTop},renderAllRows:r.settings.renderAllRows,rowHeaders:function(){var t=[];return n.hasRowHeaders()&&t.push(function(t,e){r.appendRowHeader(t,e)}),e.hooks.run(n,"afterGetRowHeaderRenderers",t),t},columnHeaders:function(){var t=[];return n.hasColHeaders()&&t.push(function(t,e){r.appendColHeader(t,e)}),e.hooks.run(n,"afterGetColumnHeaderRenderers",t),t},columnWidth:n.getColWidth,rowHeight:n.getRowHeight,cellRenderer:function(t,n,i){var o=r.instance.colToProp(n),a=r.instance.getCellMeta(t,n),s=r.instance.getCellRenderer(a),l=r.instance.getDataAtRowProp(t,o);s(r.instance,i,t,n,o,l,a),e.hooks.run(r.instance,"afterRenderer",i,t,n,o,l,a)},selections:l,hideBorderOnMouseDownOver:function(){return r.settings.fragmentSelection},onCellMouseDown:function(t,i,o,s){n.listen(),r.activeWt=s,a=!0,e.Dom.enableImmediatePropagation(t),e.hooks.run(n,"beforeOnCellMouseDown",t,i,o),t.isImmediatePropagationStopped()||(2===t.button&&n.selection.inInSelection(i)||(t.shiftKey?i.row>=0&&i.col>=0&&n.selection.setRangeEnd(i):(i.row<0||i.col<0)&&(i.row>=0||i.col>=0)?(i.row<0&&(n.selectCell(0,i.col,n.countRows()-1,i.col),n.selection.setSelectedHeaders(!1,!0)),i.col<0&&(n.selectCell(i.row,0,i.row,n.countCols()-1),n.selection.setSelectedHeaders(!0,!1))):(i.row=i.row<0?0:i.row,i.col=i.col<0?0:i.col,n.selection.setRangeStart(i))),e.hooks.run(n,"afterOnCellMouseDown",t,i,o),r.activeWt=r.wt)},onCellMouseOver:function(t,i,o,s){r.activeWt=s,i.row>=0&&i.col>=0?a&&n.selection.setRangeEnd(i):a&&(i.row<0&&(n.selection.setRangeEnd(new h(n.countRows()-1,i.col)),n.selection.setSelectedHeaders(!1,!0)),i.col<0&&(n.selection.setRangeEnd(new h(i.row,n.countCols()-1)),n.selection.setSelectedHeaders(!0,!1))),e.hooks.run(n,"afterOnCellMouseOver",t,i,o),r.activeWt=r.wt},onCellCornerMouseDown:function(t){t.preventDefault(),e.hooks.run(n,"afterOnCellCornerMouseDown",t)},beforeDraw:function(t){r.beforeRender(t)},onDraw:function(t){r.onDraw(t)},onScrollVertically:function(){n.runHooks("afterScrollVertically")},onScrollHorizontally:function(){n.runHooks("afterScrollHorizontally")},onBeforeDrawBorders:function(t,e){n.runHooks("beforeDrawBorders",t,e)},onBeforeTouchScroll:function(){n.runHooks("beforeTouchScroll")},onAfterMomentumScroll:function(){n.runHooks("afterMomentumScroll")},viewportRowCalculatorOverride:function(t){r.settings.viewportRowRenderingOffset&&(t.startRow=Math.max(t.startRow-r.settings.viewportRowRenderingOffset,0),t.endRow=Math.min(t.endRow+r.settings.viewportRowRenderingOffset,n.countRows()-1)),n.runHooks("afterViewportRowCalculatorOverride",t)},viewportColumnCalculatorOverride:function(t){r.settings.viewportColumnRenderingOffset&&(t.startColumn=Math.max(t.startColumn-r.settings.viewportColumnRenderingOffset,0),t.endColumn=Math.min(t.endColumn+r.settings.viewportColumnRenderingOffset,n.countCols()-1)),n.runHooks("afterViewportColumnCalculatorOverride",t)}};e.hooks.run(n,"beforeInitWalkontable",u),this.wt=new g(u),this.activeWt=this.wt,this.eventManager.addEventListener(r.wt.wtTable.spreader,"mousedown",function(t){t.target===r.wt.wtTable.spreader&&3===t.which&&e.helper.stopPropagation(t)}),this.eventManager.addEventListener(r.wt.wtTable.spreader,"contextmenu",function(t){t.target===r.wt.wtTable.spreader&&3===t.which&&e.helper.stopPropagation(t)}),this.eventManager.addEventListener(document.documentElement,"click",function(){r.settings.observeDOMVisibility&&r.wt.drawInterrupted&&(r.instance.forceFullRender=!0,r.render())})},e.TableView.prototype.isTextSelectionAllowed=function(t){return e.helper.isInput(t)?!0:this.settings.fragmentSelection&&e.Dom.isChildOf(t,this.TBODY)?!0:!1},e.TableView.prototype.isCellEdited=function(){var t=this.instance.getActiveEditor();return t&&t.isOpened()},e.TableView.prototype.beforeRender=function(t){t&&e.hooks.run(this.instance,"beforeRender",this.instance.forceFullRender)},e.TableView.prototype.onDraw=function(t){t&&e.hooks.run(this.instance,"afterRender",this.instance.forceFullRender)},e.TableView.prototype.render=function(){this.wt.draw(!this.instance.forceFullRender),this.instance.forceFullRender=!1},e.TableView.prototype.getCellAtCoords=function(t,e){var n=this.wt.getCell(t,e);return 0>n?null:n},e.TableView.prototype.scrollViewport=function(t){this.wt.scrollViewport(t)},e.TableView.prototype.appendRowHeader=function(t,n){var r=document.createElement("DIV"),i=document.createElement("SPAN");r.className="relative",i.className="rowHeader",t>-1?e.Dom.fastInnerHTML(i,this.instance.getRowHeader(t)):e.Dom.fastInnerText(i,String.fromCharCode(160)),r.appendChild(i),e.Dom.empty(n),n.appendChild(r),e.hooks.run(this.instance,"afterGetRowHeader",t,n)},e.TableView.prototype.appendColHeader=function(t,n){var r=document.createElement("DIV"),i=document.createElement("SPAN");r.className="relative",i.className="colHeader",t>-1?e.Dom.fastInnerHTML(i,this.instance.getColHeader(t)):(e.Dom.fastInnerText(i,String.fromCharCode(160)),e.Dom.addClass(i,"cornerHeader")),r.appendChild(i),e.Dom.empty(n),n.appendChild(r),e.hooks.run(this.instance,"afterGetColHeader",t,n)},e.TableView.prototype.maximumVisibleElementWidth=function(t){var e=this.wt.wtViewport.getWorkspaceWidth(),n=e-t;return n>0?n:0},e.TableView.prototype.maximumVisibleElementHeight=function(t){var e=this.wt.wtViewport.getWorkspaceHeight(),n=e-t;return n>0?n:0},e.TableView.prototype.mainViewIsActive=function(){return this.wt===this.activeWt},e.TableView.prototype.destroy=function(){this.wt.destroy(),this.eventManager.clear()},function(t){function e(t){var e,n;n={},e=t,this.getInstance=function(t){return t.guid in n||(n[t.guid]=new e(t)),n[t.guid]}}var n={},r=new WeakMap;t.editors={registerEditor:function(t,i){var o=new e(i);"string"==typeof t&&(n[t]=o),r.set(i,o)},getEditor:function(t,e){var i;if("function"==typeof t)r.get(t)||this.registerEditor(null,t),i=r.get(t);else{if("string"!=typeof t)throw Error('Only strings and functions can be passed as "editor" parameter ');i=n[t]}if(!i)throw Error('No editor registered under name "'+t+'"');return i.getInstance(e)}}}(e),function(t){t.EditorManager=function(e,n,r){var i,o=this,a=t.helper.keyCode,s=!1,l=t.eventManager(e),u=function(){function u(l){if(e.isListening()&&(t.hooks.run(e,"beforeKeyDown",l),!s&&(t.Dom.enableImmediatePropagation(l),!l.isImmediatePropagationStopped()&&(n.lastKeyCode=l.keyCode,r.isSelected())))){var u=(l.ctrlKey||l.metaKey)&&!l.altKey;if(!(i.isWaiting()||t.helper.isMetaKey(l.keyCode)||u||o.isEditorOpened()))return void o.openEditor("");var c=l.shiftKey?r.setRangeEnd:r.setRangeStart;switch(l.keyCode){case a.A:u&&(r.selectAll(),l.preventDefault(),t.helper.stopPropagation(l));break;case a.ARROW_UP:o.isEditorOpened()&&!i.isWaiting()&&o.closeEditorAndSaveChanges(u),d(l.shiftKey),l.preventDefault(),t.helper.stopPropagation(l);break;case a.ARROW_DOWN:o.isEditorOpened()&&!i.isWaiting()&&o.closeEditorAndSaveChanges(u),p(l.shiftKey),l.preventDefault(),t.helper.stopPropagation(l);break;case a.ARROW_RIGHT:o.isEditorOpened()&&!i.isWaiting()&&o.closeEditorAndSaveChanges(u),g(l.shiftKey),l.preventDefault(),t.helper.stopPropagation(l);break;case a.ARROW_LEFT:o.isEditorOpened()&&!i.isWaiting()&&o.closeEditorAndSaveChanges(u),m(l.shiftKey),l.preventDefault(),t.helper.stopPropagation(l);break;case a.TAB:var v="function"==typeof n.settings.tabMoves?n.settings.tabMoves(l):n.settings.tabMoves;l.shiftKey?r.transformStart(-v.row,-v.col):r.transformStart(v.row,v.col,!0),l.preventDefault(),t.helper.stopPropagation(l);break;case a.BACKSPACE:case a.DELETE:r.empty(l),o.prepareEditor(),l.preventDefault();break;case a.F2:o.openEditor(),l.preventDefault();break;case a.ENTER:o.isEditorOpened()?(i.state!==t.EditorState.WAITING&&o.closeEditorAndSaveChanges(u),f(l.shiftKey)):e.getSettings().enterBeginsEditing?o.openEditor():f(l.shiftKey),l.preventDefault(),l.stopImmediatePropagation();break;case a.ESCAPE:o.isEditorOpened()&&o.closeEditorAndRestoreOriginalValue(u),l.preventDefault();break;case a.HOME:c(l.ctrlKey||l.metaKey?new h(0,n.selRange.from.col):new h(n.selRange.from.row,0)),l.preventDefault(),t.helper.stopPropagation(l);break;case a.END:c(l.ctrlKey||l.metaKey?new h(e.countRows()-1,n.selRange.from.col):new h(n.selRange.from.row,e.countCols()-1)),l.preventDefault(),t.helper.stopPropagation(l);break;case a.PAGE_UP:r.transformStart(-e.countVisibleRows(),0),l.preventDefault(),t.helper.stopPropagation(l);break;case a.PAGE_DOWN:r.transformStart(e.countVisibleRows(),0),l.preventDefault(),t.helper.stopPropagation(l)}}}function c(t,e,n){"TD"==n.nodeName&&o.openEditor()}function f(t){var e="function"==typeof n.settings.enterMoves?n.settings.enterMoves(event):n.settings.enterMoves;t?r.transformStart(-e.row,-e.col):r.transformStart(e.row,e.col,!0)}function d(t){t?r.transformEnd(-1,0):r.transformStart(-1,0)}function p(t){t?r.transformEnd(1,0):r.transformStart(1,0)}function g(t){t?r.transformEnd(0,1):r.transformStart(0,1)}function m(t){t?r.transformEnd(0,-1):r.transformStart(0,-1)}e.addHook("afterDocumentKeyDown",function(t){u(t)}),l.addEventListener(document.documentElement,"keydown",function(t){e.runHooks("afterDocumentKeyDown",t)}),e.view.wt.update("onCellDblClick",c),e.addHook("afterDestroy",function(){s=!0})};this.destroyEditor=function(t){this.closeEditor(t)},this.getActiveEditor=function(){return i},this.prepareEditor=function(){if(i&&i.isWaiting())return void this.closeEditor(!1,!1,function(t){t&&o.prepareEditor()});var r=n.selRange.highlight.row,a=n.selRange.highlight.col,s=e.colToProp(a),l=e.getCell(r,a),u=e.getDataAtCell(r,a),c=e.getCellMeta(r,a),h=e.getCellEditor(c);i=t.editors.getEditor(h,e),i.prepare(r,a,s,l,u,c)},this.isEditorOpened=function(){return i.isOpened()},this.openEditor=function(t){i.cellProperties.readOnly||i.beginEditing(t)},this.closeEditor=function(t,e,n){i?i.finishEditing(t,e,n):n&&n(!1)},this.closeEditorAndSaveChanges=function(t){return this.closeEditor(!1,t)},this.closeEditorAndRestoreOriginalValue=function(t){return this.closeEditor(!0,t)},u()}}(e),function(t){var e={};t.renderers={registerRenderer:function(t,n){e[t]=n},getRenderer:function(t){if("function"==typeof t)return t;if("string"!=typeof t)throw Error('Only strings and functions can be passed as "renderer" parameter ');if(!(t in e))throw Error('No editor registered under name "'+t+'"');return e[t]}}}(e),e.helper={},e.helper.isPrintableChar=function(t){return 32==t||t>=48&&57>=t||t>=96&&111>=t||t>=186&&192>=t||t>=219&&222>=t||t>=226||t>=65&&90>=t},e.helper.isMetaKey=function(t){var n=e.helper.keyCode,r=[n.ARROW_DOWN,n.ARROW_UP,n.ARROW_LEFT,n.ARROW_RIGHT,n.HOME,n.END,n.DELETE,n.BACKSPACE,n.F1,n.F2,n.F3,n.F4,n.F5,n.F6,n.F7,n.F8,n.F9,n.F10,n.F11,n.F12,n.TAB,n.PAGE_DOWN,n.PAGE_UP,n.ENTER,n.ESCAPE,n.SHIFT,n.CAPS_LOCK,n.ALT];return-1!=r.indexOf(t)},e.helper.isCtrlKey=function(t){var n=e.helper.keyCode;return-1!=[n.CONTROL_LEFT,224,n.COMMAND_LEFT,n.COMMAND_RIGHT].indexOf(t)},e.helper.stringify=function(t){switch(typeof t){case"string":case"number":return t+"";case"object":return null===t?"":t.toString();case"undefined":return"";default:return t.toString()}},e.helper.spreadsheetColumnLabel=function(t){for(var e,n=t+1,r="";n>0;)e=(n-1)%26,r=String.fromCharCode(65+e)+r,n=parseInt((n-e)/26,10);return r},e.helper.createSpreadsheetData=function(t,n){t="number"==typeof t?t:100,n="number"==typeof n?n:4;var r,i,o=[];for(r=0;t>r;r++){var a=[];for(i=0;n>i;i++)a.push(e.helper.spreadsheetColumnLabel(i)+(r+1));o.push(a)}return o},e.helper.createSpreadsheetObjectData=function(t,n){t="number"==typeof t?t:100,n="number"==typeof n?n:4;var r,i,o=[];for(r=0;t>r;r++){var a={};for(i=0;n>i;i++)a["prop"+i]=e.helper.spreadsheetColumnLabel(i)+(r+1);o.push(a)}return o},e.helper.isNumeric=function(t){var e=typeof t;return"number"==e?!isNaN(t)&&isFinite(t):"string"==e?t.length?1==t.length?/\d/.test(t):/^\s*[+-]?\s*(?:(?:\d+(?:\.\d+)?(?:e[+-]?\d+)?)|(?:0x[a-f\d]+))\s*$/i.test(t):!1:"object"==e?!(!t||"number"!=typeof t.valueOf()||t instanceof Date):!1},e.helper.randomString=function(){return y()},e.helper.inherit=function(t,e){return e.prototype.constructor=e,t.prototype=new e,t.prototype.constructor=t,t},e.helper.extend=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},e.helper.deepExtend=function(t,n){for(var r in n)n.hasOwnProperty(r)&&(n[r]&&"object"==typeof n[r]?(t[r]||(t[r]=Array.isArray(n[r])?[]:{}),e.helper.deepExtend(t[r],n[r])):t[r]=n[r])},e.helper.deepClone=function(t){return"object"==typeof t?JSON.parse(JSON.stringify(t)):t},e.helper.getPrototypeOf=function(t){var e;if("object"==typeof t.__proto__)e=t.__proto__;else{var n,r=t.constructor;"function"==typeof t.constructor&&(n=r,delete t.constructor&&(r=t.constructor,t.constructor=n)),e=r?r.prototype:null}return e},e.helper.columnFactory=function(t,n){function r(){}e.helper.inherit(r,t);for(var i=0,o=n.length;o>i;i++)r.prototype[n[i]]=void 0;return r},e.helper.translateRowsToColumns=function(t){var e,n,r,i,o=[],a=0;for(e=0,n=t.length;n>e;e++)for(r=0,i=t[e].length;i>r;r++)r==a&&(o.push([]),a++),o[r].push(t[e][r]);return o},e.helper.to2dArray=function(t){for(var e=0,n=t.length;n>e;)t[e]=[t[e]],e++},e.helper.extendArray=function(t,e){for(var n=0,r=e.length;r>n;)t.push(e[n]),n++},e.helper.isInput=function(t){var e=["INPUT","SELECT","TEXTAREA"];return e.indexOf(t.nodeName)>-1},e.helper.isOutsideInput=function(t){return e.helper.isInput(t)&&-1==t.className.indexOf("handsontableInput")},e.helper.keyCode={MOUSE_LEFT:1,MOUSE_RIGHT:3,MOUSE_MIDDLE:2,BACKSPACE:8,COMMA:188,INSERT:45,DELETE:46,END:35,ENTER:13,ESCAPE:27,CONTROL_LEFT:91,COMMAND_LEFT:17,COMMAND_RIGHT:93,ALT:18,HOME:36,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,SPACE:32,SHIFT:16,CAPS_LOCK:20,TAB:9,ARROW_RIGHT:39,ARROW_LEFT:37,ARROW_UP:38,ARROW_DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,A:65,X:88,C:67,V:86},e.helper.isObject=function(t){return"[object Object]"==Object.prototype.toString.call(t)},e.helper.pivot=function(t){var e=[];if(!t||0===t.length||!t[0]||0===t[0].length)return e;for(var n=t.length,r=t[0].length,i=0;n>i;i++)for(var o=0;r>o;o++)e[o]||(e[o]=[]),e[o][i]=t[i][o];return e},e.helper.proxy=function(t,e){return function(){return t.apply(e,arguments)}},e.helper.cellMethodLookupFactory=function(t,n){function r(t){var n=e.cellTypes[t];if("undefined"==typeof n)throw new Error('You declared cell type "'+t+'" as a string that is not mapped to a known object. Cell type must be an object or a string mapped to an object in Handsontable.cellTypes');return n}return n="undefined"==typeof n?!0:n,function(i,o){return function a(i){if(i){if(i.hasOwnProperty(t)&&void 0!==i[t])return i[t];if(i.hasOwnProperty("type")&&i.type){var o;if("string"!=typeof i.type)throw new Error("Cell type must be a string ");if(o=r(i.type),o.hasOwnProperty(t))return o[t];if(n)return}return a(e.helper.getPrototypeOf(i))}}("number"==typeof i?this.getCellMeta(i,o):i)}},e.helper.isMobileBrowser=function(t){return t||(t=navigator.userAgent),/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(t)},e.helper.isTouchSupported=function(){return"ontouchstart"in t},e.helper.stopPropagation=function(t){"function"==typeof t.stopPropagation?t.stopPropagation():t.cancelBubble=!0},e.helper.pageX=function(t){if(t.pageX)return t.pageX;var n=e.Dom.getWindowScrollLeft(),r=t.clientX+n;return r},e.helper.pageY=function(t){if(t.pageY)return t.pageY;var n=e.Dom.getWindowScrollTop(),r=t.clientY+n;return r},e.helper.isWebComponent=function(t){return t.shadowRoot?!0:!1},function(t){t.DataMap=function(t,e,n){this.instance=t,this.priv=e,this.GridSettings=n,this.dataSource=this.instance.getSettings().data,this.duckSchema=this.dataSource[0]?this.recursiveDuckSchema(this.dataSource[0]):{},this.createMap()},t.DataMap.prototype.DESTINATION_RENDERER=1,t.DataMap.prototype.DESTINATION_CLIPBOARD_GENERATOR=2,t.DataMap.prototype.recursiveDuckSchema=function(t){var e;if(Array.isArray(t))e=[];else{e={};for(var n in t)t.hasOwnProperty(n)&&(e[n]="object"!=typeof t[n]||Array.isArray(t[n])?null:this.recursiveDuckSchema(t[n]))}return e},t.DataMap.prototype.recursiveDuckColumns=function(t,e,n){var r,i;if("undefined"==typeof e&&(e=0,n=""),"object"==typeof t&&!Array.isArray(t))for(i in t)t.hasOwnProperty(i)&&(null===t[i]?(r=n+i,this.colToPropCache.push(r),this.propToColCache.set(r,e),e++):e=this.recursiveDuckColumns(t[i],e,i+"."));return e},t.DataMap.prototype.createMap=function(){var t,e,n=this.getSchema();if("undefined"==typeof n)throw new Error("trying to create `columns` definition but you didnt' provide `schema` nor `data`");this.colToPropCache=[],this.propToColCache=new MultiMap;var r=this.instance.getSettings().columns;if(r)for(t=0,e=r.length;e>t;t++)"undefined"!=typeof r[t].data&&(this.colToPropCache[t]=r[t].data,this.propToColCache.set(r[t].data,t));else this.recursiveDuckColumns(n)},t.DataMap.prototype.colToProp=function(e){return e=t.hooks.run(this.instance,"modifyCol",e),this.colToPropCache&&"undefined"!=typeof this.colToPropCache[e]?this.colToPropCache[e]:e},t.DataMap.prototype.propToCol=function(e){var n;return n="undefined"!=typeof this.propToColCache.get(e)?this.propToColCache.get(e):e,n=t.hooks.run(this.instance,"modifyCol",n)},t.DataMap.prototype.getSchema=function(){var t=this.instance.getSettings().dataSchema;return t?"function"==typeof t?t():t:this.duckSchema},t.DataMap.prototype.createRow=function(e,n,r){var i,o,a=this.instance.countCols(),s=0;n||(n=1),("number"!=typeof e||e>=this.instance.countRows())&&(e=this.instance.countRows()),o=e;for(var l=this.instance.getSettings().maxRows;n>s&&this.instance.countRows()<l;){if("array"===this.instance.dataType){i=[];for(var u=0;a>u;u++)i.push(null)}else"function"===this.instance.dataType?i=this.instance.getSettings().dataSchema(e):(i={},t.helper.deepExtend(i,this.getSchema()));e===this.instance.countRows()?this.dataSource.push(i):this.dataSource.splice(e,0,i),s++,o++}return t.hooks.run(this.instance,"afterCreateRow",e,s,r),this.instance.forceFullRender=!0,s},t.DataMap.prototype.createCol=function(e,n,r){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting.If you want to be able to add new columns, you have to use array datasource.");var i,o,a=this.instance.countRows(),s=this.dataSource,l=0;n||(n=1),o=e;for(var u=this.instance.getSettings().maxCols;n>l&&this.instance.countCols()<u;){if(i=t.helper.columnFactory(this.GridSettings,this.priv.columnsSettingConflicts),"number"!=typeof e||e>=this.instance.countCols()){for(var c=0;a>c;c++)"undefined"==typeof s[c]&&(s[c]=[]),s[c].push(null);this.priv.columnSettings.push(i)}else{for(var c=0;a>c;c++)s[c].splice(o,0,null);this.priv.columnSettings.splice(o,0,i)}l++,o++}return t.hooks.run(this.instance,"afterCreateCol",e,l,r),this.instance.forceFullRender=!0,l},t.DataMap.prototype.removeRow=function(e,n){n||(n=1),"number"!=typeof e&&(e=-n),e=(this.instance.countRows()+e)%this.instance.countRows();var r=this.physicalRowsToLogical(e,n),i=t.hooks.run(this.instance,"beforeRemoveRow",e,n);if(i!==!1){var o=this.dataSource,a=o.filter(function(t,e){return-1==r.indexOf(e)});o.length=0,Array.prototype.push.apply(o,a),t.hooks.run(this.instance,"afterRemoveRow",e,n),this.instance.forceFullRender=!0}},t.DataMap.prototype.removeCol=function(e,n){if("object"===this.instance.dataType||this.instance.getSettings().columns)throw new Error("cannot remove column with object data source or columns option specified");n||(n=1),"number"!=typeof e&&(e=-n),e=(this.instance.countCols()+e)%this.instance.countCols();var r=t.hooks.run(this.instance,"beforeRemoveCol",e,n);if(r!==!1){for(var i=this.dataSource,o=0,a=this.instance.countRows();a>o;o++)i[o].splice(e,n);this.priv.columnSettings.splice(e,n),t.hooks.run(this.instance,"afterRemoveCol",e,n),this.instance.forceFullRender=!0}},t.DataMap.prototype.spliceCol=function(e,n,r){var i=4<=arguments.length?[].slice.call(arguments,3):[],o=this.instance.getDataAtCol(e),a=o.slice(n,n+r),s=o.slice(n+r);t.helper.extendArray(i,s);for(var l=0;r>l;)i.push(null),l++;return t.helper.to2dArray(i),this.instance.populateFromArray(n,e,i,null,null,"spliceCol"),a},t.DataMap.prototype.spliceRow=function(e,n,r){var i=4<=arguments.length?[].slice.call(arguments,3):[],o=this.instance.getSourceDataAtRow(e),a=o.slice(n,n+r),s=o.slice(n+r);t.helper.extendArray(i,s);for(var l=0;r>l;)i.push(null),l++;return this.instance.populateFromArray(e,n,[i],null,null,"spliceRow"),a},t.DataMap.prototype.get=function(e,n){if(e=t.hooks.run(this.instance,"modifyRow",e),"string"==typeof n&&n.indexOf(".")>-1){var r=n.split("."),i=this.dataSource[e];if(!i)return null;for(var o=0,a=r.length;a>o;o++)if(i=i[r[o]],"undefined"==typeof i)return null;return i}return"function"==typeof n?n(this.dataSource.slice(e,e+1)[0]):this.dataSource[e]?this.dataSource[e][n]:null};var e=t.helper.cellMethodLookupFactory("copyable",!1);t.DataMap.prototype.getCopyable=function(t,n){return e.call(this.instance,t,this.propToCol(n))?this.get(t,n):""},t.DataMap.prototype.set=function(e,n,r,i){if(e=t.hooks.run(this.instance,"modifyRow",e,i||"datamapGet"),"string"==typeof n&&n.indexOf(".")>-1){for(var o=n.split("."),a=this.dataSource[e],s=0,l=o.length-1;l>s;s++)"undefined"==typeof a[o[s]]&&(a[o[s]]={}),a=a[o[s]];a[o[s]]=r}else"function"==typeof n?n(this.dataSource.slice(e,e+1)[0],r):this.dataSource[e][n]=r},t.DataMap.prototype.physicalRowsToLogical=function(e,n){for(var r,i=this.instance.countRows(),o=(i+e)%i,a=[],s=n;i>o&&s;)r=t.hooks.run(this.instance,"modifyRow",o),a.push(r),s--,o++;return a},t.DataMap.prototype.clear=function(){for(var t=0;t<this.instance.countRows();t++)for(var e=0;e<this.instance.countCols();e++)this.set(t,this.colToProp(e),"")},t.DataMap.prototype.getAll=function(){return this.dataSource},t.DataMap.prototype.getRange=function(t,e,n){var r,i,o,a,s,l=[],u=n===this.DESTINATION_CLIPBOARD_GENERATOR?this.getCopyable:this.get;for(i=Math.max(t.row,e.row),a=Math.max(t.col,e.col),r=Math.min(t.row,e.row);i>=r;r++){for(s=[],o=Math.min(t.col,e.col);a>=o;o++)s.push(u.call(this,r,this.colToProp(o)));l.push(s)}return l},t.DataMap.prototype.getText=function(t,e){return SheetClip.stringify(this.getRange(t,e,this.DESTINATION_RENDERER))},t.DataMap.prototype.getCopyableText=function(t,e){return SheetClip.stringify(this.getRange(t,e,this.DESTINATION_CLIPBOARD_GENERATOR))}}(e),function(t){t.renderers.cellDecorator=function(e,n,r,i,o,a,s){s.className&&(n.className=n.className?n.className+" "+s.className:s.className),s.readOnly&&t.Dom.addClass(n,s.readOnlyCellClassName),s.valid===!1&&s.invalidCellClassName&&t.Dom.addClass(n,s.invalidCellClassName),s.wordWrap===!1&&s.noWordWrapClassName&&t.Dom.addClass(n,s.noWordWrapClassName),!a&&s.placeholder&&t.Dom.addClass(n,s.placeholderCellClassName)}}(e),function(t){var e=function(e,n,r,i,o,a,s){t.renderers.cellDecorator.apply(this,arguments),!a&&s.placeholder&&(a=s.placeholder);var l=t.helper.stringify(a);if(e.getSettings().trimWhitespace||(l=l.replace(/ /g,String.fromCharCode(160))),s.rendererTemplate){t.Dom.empty(n);var u=document.createElement("TEMPLATE");u.setAttribute("bind","{{}}"),u.innerHTML=s.rendererTemplate,HTMLTemplateElement.decorate(u),u.model=e.getSourceDataAtRow(r),n.appendChild(u)}else t.Dom.fastInnerText(n,l)};t.renderers.TextRenderer=e,t.renderers.registerRenderer("text",e)}(e),function(t){var e=document.createElement("DIV");e.className="htAutocompleteWrapper";var n=document.createElement("DIV");n.className="htAutocompleteArrow",n.appendChild(document.createTextNode(String.fromCharCode(9660)));var r=function(r,i,o,a,s,l,u){var c=(e.cloneNode(!0),n.cloneNode(!0));if(t.renderers.TextRenderer(r,i,o,a,s,l,u),i.appendChild(c),t.Dom.addClass(i,"htAutocomplete"),i.firstChild||i.appendChild(document.createTextNode(String.fromCharCode(160))),!r.acArrowListener){var f=t.eventManager(r);r.acArrowListener=function(e){t.Dom.hasClass(e.target,"htAutocompleteArrow")&&r.view.wt.getSetting("onCellDblClick",null,new h(o,a),i);

},f.addEventListener(r.rootElement,"mousedown",r.acArrowListener),r.addHookOnce("afterDestroy",function(){f.clear()})}};t.AutocompleteRenderer=r,t.renderers.AutocompleteRenderer=r,t.renderers.registerRenderer("autocomplete",r)}(e),function(t){var e=document.createElement("INPUT");e.className="htCheckboxRendererInput",e.type="checkbox",e.setAttribute("autocomplete","off");var n=function(n,r,i,o,a,s,l){var u=t.eventManager(n);"undefined"==typeof l.checkedTemplate&&(l.checkedTemplate=!0),"undefined"==typeof l.uncheckedTemplate&&(l.uncheckedTemplate=!1),t.Dom.empty(r);var c=e.cloneNode(!1);s===l.checkedTemplate||s===t.helper.stringify(l.checkedTemplate)?(c.checked=!0,r.appendChild(c)):s===l.uncheckedTemplate||s===t.helper.stringify(l.uncheckedTemplate)?r.appendChild(c):null===s?(c.className+=" noValue",r.appendChild(c)):t.Dom.fastInnerText(r,"#bad value#"),l.readOnly?u.addEventListener(c,"click",function(t){t.preventDefault()}):(u.addEventListener(c,"mousedown",function(e){t.helper.stopPropagation(e)}),u.addEventListener(c,"mouseup",function(e){t.helper.stopPropagation(e)}),u.addEventListener(c,"change",function(){this.checked?n.setDataAtRowProp(i,a,l.checkedTemplate):n.setDataAtRowProp(i,a,l.uncheckedTemplate)})),n.CheckboxRenderer&&n.CheckboxRenderer.beforeKeyDownHookBound||(n.CheckboxRenderer={beforeKeyDownHookBound:!0},n.addHook("beforeKeyDown",function(e){if(t.Dom.enableImmediatePropagation(e),e.keyCode==t.helper.keyCode.SPACE||e.keyCode==t.helper.keyCode.ENTER)for(var r,i,o,a=n.getSelectedRange(),s=a.getTopLeftCorner(),l=a.getBottomRightCorner(),c=s.row;c<=l.row;c++)for(var h=s.col;h<=l.col;h++)if(r=n.getCell(c,h),o=n.getCellMeta(c,h),i=r.querySelectorAll("input[type=checkbox]"),i.length>0&&!o.readOnly){e.isImmediatePropagationStopped()||(e.stopImmediatePropagation(),e.preventDefault());for(var f=0,d=i.length;d>f;f++)i[f].checked=!i[f].checked,u.fireEvent(i[f],"change")}}))};t.CheckboxRenderer=n,t.renderers.CheckboxRenderer=n,t.renderers.registerRenderer("checkbox",n)}(e),function(t){var e=function(e,n,r,i,o,a,s){t.helper.isNumeric(a)&&("undefined"!=typeof s.language&&numeral.language(s.language),a=numeral(a).format(s.format||"0"),t.Dom.addClass(n,"htNumeric")),t.renderers.TextRenderer(e,n,r,i,o,a,s)};t.NumericRenderer=e,t.renderers.NumericRenderer=e,t.renderers.registerRenderer("numeric",e)}(e),function(t){var e=function(e,n,r,i,o,a,s){t.renderers.TextRenderer.apply(this,arguments),a=n.innerHTML;var l,u=s.hashLength||a.length,c=s.hashSymbol||"*";for(l="";l.split(c).length-1<u;l+=c);t.Dom.fastInnerHTML(n,l)};t.PasswordRenderer=e,t.renderers.PasswordRenderer=e,t.renderers.registerRenderer("password",e)}(e),function(t){function e(e,n,r,i,o,a,s){t.renderers.cellDecorator.apply(this,arguments),t.Dom.fastInnerHTML(n,a)}t.renderers.registerRenderer("html",e),t.renderers.HtmlRenderer=e}(e),function(t){function e(e){this.instance=e,this.state=t.EditorState.VIRGIN,this._opened=!1,this._closeCallback=null,this.init()}t.EditorState={VIRGIN:"STATE_VIRGIN",EDITING:"STATE_EDITING",WAITING:"STATE_WAITING",FINISHED:"STATE_FINISHED"},e.prototype._fireCallbacks=function(t){this._closeCallback&&(this._closeCallback(t),this._closeCallback=null)},e.prototype.init=function(){},e.prototype.getValue=function(){throw Error("Editor getValue() method unimplemented")},e.prototype.setValue=function(t){throw Error("Editor setValue() method unimplemented")},e.prototype.open=function(){throw Error("Editor open() method unimplemented")},e.prototype.close=function(){throw Error("Editor close() method unimplemented")},e.prototype.prepare=function(e,n,r,i,o,a){this.TD=i,this.row=e,this.col=n,this.prop=r,this.originalValue=o,this.cellProperties=a,this.state=t.EditorState.VIRGIN},e.prototype.extend=function(){function t(){n.apply(this,arguments)}function e(t,e){function n(){}return n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t,t}var n=this.constructor;return e(t,n)},e.prototype.saveValue=function(t,e){if(e){var n,r=this.instance.getSelected();r[0]>r[2]&&(n=r[0],r[0]=r[2],r[2]=n),r[1]>r[3]&&(n=r[1],r[1]=r[3],r[3]=n),this.instance.populateFromArray(r[0],r[1],t,r[2],r[3],"edit")}else this.instance.populateFromArray(this.row,this.col,t,null,null,"edit")},e.prototype.beginEditing=function(e){this.state==t.EditorState.VIRGIN&&(this.instance.view.scrollViewport(new h(this.row,this.col)),this.instance.view.render(),this.state=t.EditorState.EDITING,e="string"==typeof e?e:this.originalValue,this.setValue(t.helper.stringify(e)),this.open(),this._opened=!0,this.focus(),this.instance.view.render())},e.prototype.finishEditing=function(e,n,r){var i,o=this;if(r){var a=this._closeCallback;this._closeCallback=function(t){a&&a(t),r(t)}}if(!this.isWaiting()){if(this.state==t.EditorState.VIRGIN)return void this.instance._registerTimeout(setTimeout(function(){o._fireCallbacks(!0)},0));if(this.state==t.EditorState.EDITING){if(e)return this.cancelChanges(),void this.instance.view.render();i=this.instance.getSettings().trimWhitespace?[[String.prototype.trim.call(this.getValue())]]:[[this.getValue()]],this.state=t.EditorState.WAITING,this.saveValue(i,n),this.instance.getCellValidator(this.cellProperties)?this.instance.addHookOnce("postAfterValidate",function(e){o.state=t.EditorState.FINISHED,o.discardEditor(e)}):(this.state=t.EditorState.FINISHED,this.discardEditor(!0))}}},e.prototype.cancelChanges=function(){this.state=t.EditorState.FINISHED,this.discardEditor()},e.prototype.discardEditor=function(e){this.state===t.EditorState.FINISHED&&(e===!1&&this.cellProperties.allowInvalid!==!0?(this.instance.selectCell(this.row,this.col),this.focus(),this.state=t.EditorState.EDITING,this._fireCallbacks(!1)):(this.close(),this._opened=!1,this.state=t.EditorState.VIRGIN,this._fireCallbacks(!0)))},e.prototype.isOpened=function(){return this._opened},e.prototype.isWaiting=function(){return this.state===t.EditorState.WAITING},t.editors.BaseEditor=e}(e),function(t){var e=t.editors.BaseEditor.prototype.extend();e.prototype.init=function(){var e=this;this.createElements(),this.eventManager=new t.eventManager(this),this.bindEvents(),this.autoResize=L(),this.instance.addHook("afterDestroy",function(){e.destroy()})},e.prototype.getValue=function(){return this.TEXTAREA.value},e.prototype.setValue=function(t){this.TEXTAREA.value=t};var n=function(e){var n,r,i=this,o=i.getActiveEditor();if(n=t.helper.keyCode,r=(e.ctrlKey||e.metaKey)&&!e.altKey,t.Dom.enableImmediatePropagation(e),e.target===o.TEXTAREA&&!e.isImmediatePropagationStopped()){if(17===e.keyCode||224===e.keyCode||91===e.keyCode||93===e.keyCode)return void e.stopImmediatePropagation();switch(e.keyCode){case n.ARROW_RIGHT:t.Dom.getCaretPosition(o.TEXTAREA)!==o.TEXTAREA.value.length&&e.stopImmediatePropagation();break;case n.ARROW_LEFT:0!==t.Dom.getCaretPosition(o.TEXTAREA)&&e.stopImmediatePropagation();break;case n.ENTER:var a=o.instance.getSelected(),s=!(a[0]===a[2]&&a[1]===a[3]);if(r&&!s||e.altKey){if(o.isOpened()){var l=t.Dom.getCaretPosition(o.TEXTAREA),u=o.getValue(),c=u.slice(0,l)+"\n"+u.slice(l);o.setValue(c),t.Dom.setCaretPosition(o.TEXTAREA,l+1)}else o.beginEditing(o.originalValue+"\n");e.stopImmediatePropagation()}e.preventDefault();break;case n.A:case n.X:case n.C:case n.V:r&&e.stopImmediatePropagation();break;case n.BACKSPACE:case n.DELETE:case n.HOME:case n.END:e.stopImmediatePropagation()}o.autoResize.resize(String.fromCharCode(e.keyCode))}};e.prototype.open=function(){this.refreshDimensions(),this.instance.addHook("beforeKeyDown",n)},e.prototype.close=function(){this.textareaParentStyle.display="none",this.autoResize.unObserve(),document.activeElement===this.TEXTAREA&&this.instance.listen(),this.instance.removeHook("beforeKeyDown",n)},e.prototype.focus=function(){this.TEXTAREA.focus(),t.Dom.setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length)},e.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA"),t.Dom.addClass(this.TEXTAREA,"handsontableInput"),this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.TEXTAREA_PARENT=document.createElement("DIV"),t.Dom.addClass(this.TEXTAREA_PARENT,"handsontableInputHolder"),this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement.appendChild(this.TEXTAREA_PARENT);var e=this;this.instance._registerTimeout(setTimeout(function(){e.refreshDimensions()},0))},e.prototype.checkEditorSection=function(){return this.row<this.instance.getSettings().fixedRowsTop?this.col<this.instance.getSettings().fixedColumnsLeft?"corner":"top":this.col<this.instance.getSettings().fixedColumnsLeft?"left":void 0},e.prototype.getEditedCell=function(){var t,e=this.checkEditorSection();switch(e){case"top":t=this.instance.view.wt.wtScrollbars.vertical.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=101;break;case"corner":t=this.instance.view.wt.wtScrollbars.corner.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=103;break;case"left":t=this.instance.view.wt.wtScrollbars.horizontal.clone.wtTable.getCell({row:this.row,col:this.col}),this.textareaParentStyle.zIndex=102;break;default:t=this.instance.getCell(this.row,this.col),this.textareaParentStyle.zIndex=""}return-1!=t&&-2!=t?t:void 0},e.prototype.refreshDimensions=function(){if(this.state===t.EditorState.EDITING&&(this.TD=this.getEditedCell(),this.TD)){var e,n=t.Dom.offset(this.TD),r=t.Dom.offset(this.instance.rootElement),i=n.top-r.top-1,o=n.left-r.left-1,a=this.instance.getSettings(),s=a.rowHeaders===!1?0:1,l=a.colHeaders===!1?0:1,u=this.checkEditorSection();switch(u){case"top":e=t.Dom.getCssTransform(this.instance.view.wt.wtScrollbars.vertical.clone.wtTable.holder.parentNode);break;case"left":e=t.Dom.getCssTransform(this.instance.view.wt.wtScrollbars.horizontal.clone.wtTable.holder.parentNode);break;case"corner":e=t.Dom.getCssTransform(this.instance.view.wt.wtScrollbars.corner.clone.wtTable.holder.parentNode)}0>i&&(i=0),0>o&&(o=0),s>0&&parseInt(this.TD.style.borderTopWidth,10)>0&&(i+=1),l>0&&parseInt(this.TD.style.borderLeftWidth,10)>0&&(o+=1),s&&0===this.instance.getSelected()[0]&&(i+=1),e&&-1!=e?this.textareaParentStyle[e[0]]=e[1]:t.Dom.resetCssTransform(this.textareaParentStyle),this.textareaParentStyle.top=i+"px",this.textareaParentStyle.left=o+"px";var c=this.TD.offsetTop-this.instance.view.wt.wtScrollbars.vertical.getScrollPosition(),h=this.TD.offsetLeft-this.instance.view.wt.wtScrollbars.horizontal.getScrollPosition(),f=t.Dom.innerWidth(this.TD)-8,d=this.instance.view.maximumVisibleElementWidth(h)-10,p=t.Dom.outerHeight(this.TD)-4,g=this.instance.view.maximumVisibleElementHeight(c)-2;parseInt(this.TD.style.borderTopWidth,10)>0&&(p-=1),parseInt(this.TD.style.borderLeftWidth,10)>0&&s>0&&(f-=1),this.TEXTAREA.style.fontSize=t.Dom.getComputedStyle(this.TD).fontSize,this.TEXTAREA.style.fontFamily=t.Dom.getComputedStyle(this.TD).fontFamily,this.autoResize.init(this.TEXTAREA,{minHeight:Math.min(p,g),maxHeight:g,minWidth:Math.min(f,d),maxWidth:d},!0),this.textareaParentStyle.display="block"}},e.prototype.bindEvents=function(){var e=this;this.eventManager.addEventListener(this.TEXTAREA,"cut",function(e){t.helper.stopPropagation(e)}),this.eventManager.addEventListener(this.TEXTAREA,"paste",function(e){t.helper.stopPropagation(e)}),this.instance.addHook("afterScrollVertically",function(){e.refreshDimensions()}),this.instance.addHook("afterColumnResize",function(){e.refreshDimensions(),e.focus()}),this.instance.addHook("afterRowResize",function(){e.refreshDimensions(),e.focus()}),this.instance.addHook("afterDestroy",function(){e.eventManager.clear()})},e.prototype.destroy=function(){this.eventManager.clear()},t.editors.TextEditor=e,t.editors.registerEditor("text",t.editors.TextEditor)}(e),function(e){var n=e.editors.BaseEditor.prototype.extend(),r={},i=function(){this.controls={},this.controls.leftButton=document.createElement("DIV"),this.controls.leftButton.className="leftButton",this.controls.rightButton=document.createElement("DIV"),this.controls.rightButton.className="rightButton",this.controls.upButton=document.createElement("DIV"),this.controls.upButton.className="upButton",this.controls.downButton=document.createElement("DIV"),this.controls.downButton.className="downButton";for(var t in this.controls)this.controls.hasOwnProperty(t)&&this.positionControls.appendChild(this.controls[t])};n.prototype.valueChanged=function(){return this.initValue!=this.getValue()},n.prototype.init=function(){var t=this;this.eventManager=new e.eventManager(this.instance),this.createElements(),this.bindEvents(),this.instance.addHook("afterDestroy",function(){t.destroy()})},n.prototype.getValue=function(){return this.TEXTAREA.value},n.prototype.setValue=function(t){this.initValue=t,this.TEXTAREA.value=t},n.prototype.createElements=function(){this.editorContainer=document.createElement("DIV"),this.editorContainer.className="htMobileEditorContainer",this.cellPointer=document.createElement("DIV"),this.cellPointer.className="cellPointer",this.moveHandle=document.createElement("DIV"),this.moveHandle.className="moveHandle",this.inputPane=document.createElement("DIV"),this.inputPane.className="inputs",this.positionControls=document.createElement("DIV"),this.positionControls.className="positionControls",this.TEXTAREA=document.createElement("TEXTAREA"),e.Dom.addClass(this.TEXTAREA,"handsontableInput"),this.inputPane.appendChild(this.TEXTAREA),this.editorContainer.appendChild(this.cellPointer),this.editorContainer.appendChild(this.moveHandle),this.editorContainer.appendChild(this.inputPane),this.editorContainer.appendChild(this.positionControls),i.call(this),document.body.appendChild(this.editorContainer)},n.prototype.onBeforeKeyDown=function(t){var n=this,r=n.getActiveEditor();if(e.Dom.enableImmediatePropagation(t),t.target===r.TEXTAREA&&!t.isImmediatePropagationStopped()){var i=e.helper.keyCode;switch(t.keyCode){case i.ENTER:r.close(),t.preventDefault();break;case i.BACKSPACE:t.stopImmediatePropagation()}}},n.prototype.open=function(){this.instance.addHook("beforeKeyDown",this.onBeforeKeyDown),e.Dom.addClass(this.editorContainer,"active"),e.Dom.removeClass(this.cellPointer,"hidden"),this.updateEditorPosition()},n.prototype.focus=function(){this.TEXTAREA.focus(),e.Dom.setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length)},n.prototype.close=function(){this.TEXTAREA.blur(),this.instance.removeHook("beforeKeyDown",this.onBeforeKeyDown),e.Dom.removeClass(this.editorContainer,"active")},n.prototype.scrollToView=function(){var t=this.instance.getSelectedRange().highlight;this.instance.view.scrollViewport(t)},n.prototype.hideCellPointer=function(){e.Dom.hasClass(this.cellPointer,"hidden")||e.Dom.addClass(this.cellPointer,"hidden")},n.prototype.updateEditorPosition=function(n,i){if(n&&i)n=parseInt(n,10),i=parseInt(i,10),this.editorContainer.style.top=i+"px",this.editorContainer.style.left=n+"px";else{var o=this.instance.getSelected(),a=this.instance.getCell(o[0],o[1]);if(r.cellPointer||(r.cellPointer={height:e.Dom.outerHeight(this.cellPointer),width:e.Dom.outerWidth(this.cellPointer)}),r.editorContainer||(r.editorContainer={width:e.Dom.outerWidth(this.editorContainer)}),void 0!==a){var s=this.instance.view.wt.wtScrollbars.horizontal.scrollHandler==t?0:e.Dom.getScrollLeft(this.instance.view.wt.wtScrollbars.horizontal.scrollHandler),l=this.instance.view.wt.wtScrollbars.vertical.scrollHandler==t?0:e.Dom.getScrollTop(this.instance.view.wt.wtScrollbars.vertical.scrollHandler),u=e.Dom.offset(a),c=e.Dom.outerWidth(a),h={x:s,y:l};this.editorContainer.style.top=parseInt(u.top+e.Dom.outerHeight(a)-h.y+r.cellPointer.height,10)+"px",this.editorContainer.style.left=parseInt(t.innerWidth/2-r.editorContainer.width/2,10)+"px",u.left+c/2>parseInt(this.editorContainer.style.left,10)+r.editorContainer.width?this.editorContainer.style.left=t.innerWidth-r.editorContainer.width+"px":u.left+c/2<parseInt(this.editorContainer.style.left,10)+20&&(this.editorContainer.style.left="0px"),this.cellPointer.style.left=parseInt(u.left-r.cellPointer.width/2-e.Dom.offset(this.editorContainer).left+c/2-h.x,10)+"px"}}},n.prototype.updateEditorData=function(){var t=this.instance.getSelected(),e=this.instance.getDataAtCell(t[0],t[1]);this.row=t[0],this.col=t[1],this.setValue(e),this.updateEditorPosition()},n.prototype.prepareAndSave=function(){var t;return this.valueChanged()?(t=this.instance.getSettings().trimWhitespace?[[String.prototype.trim.call(this.getValue())]]:[[this.getValue()]],void this.saveValue(t)):!0},n.prototype.bindEvents=function(){var n=this;this.eventManager.addEventListener(this.controls.leftButton,"touchend",function(t){n.prepareAndSave(),n.instance.selection.transformStart(0,-1,null,!0),n.updateEditorData(),t.preventDefault()}),this.eventManager.addEventListener(this.controls.rightButton,"touchend",function(t){n.prepareAndSave(),n.instance.selection.transformStart(0,1,null,!0),n.updateEditorData(),t.preventDefault()}),this.eventManager.addEventListener(this.controls.upButton,"touchend",function(t){n.prepareAndSave(),n.instance.selection.transformStart(-1,0,null,!0),n.updateEditorData(),t.preventDefault()}),this.eventManager.addEventListener(this.controls.downButton,"touchend",function(t){n.prepareAndSave(),n.instance.selection.transformStart(1,0,null,!0),n.updateEditorData(),t.preventDefault()}),this.eventManager.addEventListener(this.moveHandle,"touchstart",function(t){if(1==t.touches.length){var e=t.touches[0],r={x:n.editorContainer.offsetLeft,y:n.editorContainer.offsetTop},i={x:e.pageX-r.x,y:e.pageY-r.y};n.eventManager.addEventListener(this,"touchmove",function(t){var e=t.touches[0];n.updateEditorPosition(e.pageX-i.x,e.pageY-i.y),n.hideCellPointer(),t.preventDefault()})}}),this.eventManager.addEventListener(document.body,"touchend",function(t){e.Dom.isChildOf(t.target,n.editorContainer)||e.Dom.isChildOf(t.target,n.instance.rootElement)||n.close()}),this.eventManager.addEventListener(this.instance.view.wt.wtScrollbars.horizontal.scrollHandler,"scroll",function(e){n.instance.view.wt.wtScrollbars.horizontal.scrollHandler!=t&&n.hideCellPointer()}),this.eventManager.addEventListener(this.instance.view.wt.wtScrollbars.vertical.scrollHandler,"scroll",function(e){n.instance.view.wt.wtScrollbars.vertical.scrollHandler!=t&&n.hideCellPointer()})},n.prototype.destroy=function(){this.eventManager.clear(),this.editorContainer.parentNode.removeChild(this.editorContainer)},e.editors.MobileTextEditor=n,e.editors.registerEditor("mobile",e.editors.MobileTextEditor)}(e),function(t){var e=t.editors.BaseEditor.prototype.extend();e.prototype.beginEditing=function(){var t=this.TD.querySelector('input[type="checkbox"]');t&&t.click()},e.prototype.finishEditing=function(){},e.prototype.init=function(){},e.prototype.open=function(){},e.prototype.close=function(){},e.prototype.getValue=function(){},e.prototype.setValue=function(){},e.prototype.focus=function(){},t.editors.CheckboxEditor=e,t.editors.registerEditor("checkbox",e)}(e),function(e){var n=e.editors.TextEditor.prototype.extend();n.prototype.init=function(){if("function"!=typeof moment)throw new Error("You need to include moment.js to your project.");if("function"!=typeof Pikaday)throw new Error("You need to include Pikaday to your project.");e.editors.TextEditor.prototype.init.apply(this,arguments),this.isCellEdited=!1;var t=this;this.instance.addHook("afterDestroy",function(){t.parentDestroyed=!0,t.destroyElements()})},n.prototype.createElements=function(){e.editors.TextEditor.prototype.createElements.apply(this,arguments),this.defaultDatepickerTrigger=document.querySelector(".handsontableInput"),this.defaultDateFormat="MM/DD/YYYY",this.datePicker=document.createElement("DIV"),e.Dom.addClass(this.datePicker,"htDatepickerHolder"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=99,document.body.appendChild(this.datePicker);var t=this,n={format:t.defaultDateFormat,field:document.querySelector(".handsontableInput"),trigger:document.querySelector(".handsontableInput"),container:t.datePicker,reposition:!1,onSelect:function(e){isNaN(e.getTime())||(e=moment(e).format(t.cellProperties.dateFormat||t.defaultDateFormat)),t.setValue(e)},onClose:function(){t.parentDestroyed||t.finishEditing(!1)}};this.$datePicker=new Pikaday(n);var r=e.eventManager(this);r.addEventListener(this.datePicker,"mousedown",function(t){e.helper.stopPropagation(t)}),this.hideDatepicker()},n.prototype.destroyElements=function(){this.$datePicker.destroy()},n.prototype.prepare=function(){this._opened=!1,e.editors.TextEditor.prototype.prepare.apply(this,arguments)},n.prototype.open=function(){e.editors.TextEditor.prototype.open.call(this),this.showDatepicker()},n.prototype.close=function(){this._opened=!1,e.editors.TextEditor.prototype.close.apply(this,arguments)},n.prototype.finishEditing=function(t,n){this.hideDatepicker(),e.editors.TextEditor.prototype.finishEditing.apply(this,arguments)},n.prototype.showDatepicker=function(){var n=this.TD.getBoundingClientRect(),r=this;this.datePickerStyle.top=t.pageYOffset+n.top+e.Dom.outerHeight(this.TD)+"px",this.datePickerStyle.left=t.pageXOffset+n.left+"px",this.originalValue&&(this.$datePicker.setDate(this.originalValue,!0),this.setValue(this.originalValue)),this.$datePicker.config().trigger=document.querySelector(".htAutocomplete.current"),this.datePickerStyle.display="block",this.$datePicker.show(),this.instance._registerTimeout(setTimeout(function(){r.$datePicker.config().trigger=r.defaultDatepickerTrigger},50))},n.prototype.hideDatepicker=function(){this.datePickerStyle.display="none",this.$datePicker.hide()},e.editors.DateEditor=n,e.editors.registerEditor("date",n)}(e),function(t){var e=t.editors.TextEditor.prototype.extend();e.prototype.createElements=function(){t.editors.TextEditor.prototype.createElements.apply(this,arguments);var e=document.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.htContainer=e,this.htEditor=new t(e),this.assignHooks()},e.prototype.prepare=function(e,n,r,i,o,a){t.editors.TextEditor.prototype.prepare.apply(this,arguments);var s=this,l={startRows:0,startCols:0,minRows:0,minCols:0,className:"listbox",copyPaste:!1,cells:function(){return{readOnly:!0}},fillHandle:!1,afterOnCellMouseDown:function(){var t=this.getValue();void 0!==t&&s.setValue(t),s.instance.destroyEditor()}};this.cellProperties.handsontable&&t.helper.extend(l,a.handsontable),this.htEditor&&this.htEditor.destroy(),this.htEditor=new t(this.htContainer,l)};var n=function(e){if(null!=e&&null==e.isImmediatePropagationEnabled&&(e.stopImmediatePropagation=function(){this.isImmediatePropagationEnabled=!1,this.cancelBubble=!0},e.isImmediatePropagationEnabled=!0,e.isImmediatePropagationStopped=function(){return!this.isImmediatePropagationEnabled}),!e.isImmediatePropagationStopped()){var n,r=this.getActiveEditor(),i=r.htEditor.getInstance();if(e.keyCode==t.helper.keyCode.ARROW_DOWN)if(i.getSelected()){var o=i.getSelected()[0],a=i.countRows()-1;n=Math.min(a,o+1)}else n=0;else if(e.keyCode==t.helper.keyCode.ARROW_UP&&i.getSelected()){var o=i.getSelected()[0];n=o-1}void 0!==n&&(0>n?i.deselectCell():i.selectCell(n,0),e.preventDefault(),e.stopImmediatePropagation(),r.instance.listen(),r.TEXTAREA.focus())}};e.prototype.open=function(){this.instance.addHook("beforeKeyDown",n),t.editors.TextEditor.prototype.open.apply(this,arguments),this.htEditor.render(),this.cellProperties.strict?(this.htEditor.selectCell(0,0),this.TEXTAREA.style.visibility="hidden"):(this.htEditor.deselectCell(),this.TEXTAREA.style.visibility="visible"),t.Dom.setCaretPosition(this.TEXTAREA,0,this.TEXTAREA.value.length)},e.prototype.close=function(){this.instance.removeHook("beforeKeyDown",n),this.instance.listen(),t.editors.TextEditor.prototype.close.apply(this,arguments)},e.prototype.focus=function(){this.instance.listen(),t.editors.TextEditor.prototype.focus.apply(this,arguments)},e.prototype.beginEditing=function(e){var n=this.instance.getSettings().onBeginEditing;n&&n()===!1||t.editors.TextEditor.prototype.beginEditing.apply(this,arguments)},e.prototype.finishEditing=function(e,n){if(this.htEditor.isListening()&&this.instance.listen(),this.htEditor.getSelected()){var r=this.htEditor.getInstance().getValue();void 0!==r&&this.setValue(r)}return t.editors.TextEditor.prototype.finishEditing.apply(this,arguments)},e.prototype.assignHooks=function(){var t=this;this.instance.addHook("afterDestroy",function(){t.htEditor&&t.htEditor.destroy()})},t.editors.HandsontableEditor=e,t.editors.registerEditor("handsontable",e)}(e),function(e){var n=e.editors.HandsontableEditor.prototype.extend();n.prototype.init=function(){e.editors.HandsontableEditor.prototype.init.apply(this,arguments);var t=this.htEditor.getInstance();t.updateSettings({height:1}),this.query=null,this.choices=[]},n.prototype.createElements=function(){e.editors.HandsontableEditor.prototype.createElements.apply(this,arguments);var n=function(){return-1!=t.navigator.platform.indexOf("Mac")?"htMacScroll":""};e.Dom.addClass(this.htContainer,"autocompleteEditor"),e.Dom.addClass(this.htContainer,n())};var r=!1,i=function(t){r=!1;var n=this.getActiveEditor(),i=e.helper.keyCode;if(e.helper.isPrintableChar(t.keyCode)||t.keyCode===i.BACKSPACE||t.keyCode===i.DELETE||t.keyCode===i.INSERT){var o=0;if(t.keyCode===i.C&&(t.ctrlKey||t.metaKey))return;n.isOpened()||(o+=10),n.instance._registerTimeout(setTimeout(function(){n.queryChoices(n.TEXTAREA.value),r=!0},o))}};n.prototype.prepare=function(){this.instance.addHook("beforeKeyDown",i),e.editors.HandsontableEditor.prototype.prepare.apply(this,arguments)},n.prototype.open=function(){e.editors.HandsontableEditor.prototype.open.apply(this,arguments),this.TEXTAREA.style.visibility="visible",this.focus(),this.htContainer.style.overflow="hidden";var t=this.htEditor.getInstance(),n=this;t.updateSettings({colWidths:[e.Dom.outerWidth(this.TEXTAREA)-2],afterRenderer:function(t,e,r,i,o){var a=this.getCellMeta(e,r).filteringCaseSensitive===!0;if(o){var s=a?o.indexOf(this.query):o.toLowerCase().indexOf(n.query.toLowerCase());if(-1!=s){var l=o.substr(s,n.query.length);t.innerHTML=o.replace(l,"<strong>"+l+"</strong>")}}}}),r&&(r=!1),n.instance._registerTimeout(setTimeout(function(){n.queryChoices(n.TEXTAREA.value),n.htContainer.style.overflow="auto"},0))},n.prototype.close=function(){e.editors.HandsontableEditor.prototype.close.apply(this,arguments)},n.prototype.queryChoices=function(t){if(this.query=t,"function"==typeof this.cellProperties.source){var e=this;this.cellProperties.source(t,function(t){e.updateChoicesList(t)})}else if(Array.isArray(this.cellProperties.source)){var n;if(t&&this.cellProperties.filter!==!1){var r=this.cellProperties.filteringCaseSensitive===!0,i=t.toLowerCase();n=this.cellProperties.source.filter(function(e){return r?-1!=e.indexOf(t):-1!=e.toLowerCase().indexOf(i)})}else n=this.cellProperties.source;this.updateChoicesList(n)}else this.updateChoicesList([])},n.prototype.updateChoicesList=function(t){var r,i=e.Dom.getCaretPosition(this.TEXTAREA),o=e.Dom.getSelectionEndPosition(this.TEXTAREA),a=n.sortByRelevance(this.getValue(),t,this.cellProperties.filteringCaseSensitive);if(0!=this.cellProperties.filter){for(var s=[],l=0,u=a.length;u>l;l++)s.push(t[a[l]]);r=0,t=s}else r=a[0];this.choices=t,this.htEditor.loadData(e.helper.pivot([t])),this.htEditor.updateSettings({height:this.getDropdownHeight()}),this.cellProperties.strict===!0&&this.highlightBestMatchingChoice(r),this.instance.listen(),this.TEXTAREA.focus(),e.Dom.setCaretPosition(this.TEXTAREA,i,i!=o?o:void 0)},n.prototype.finishEditing=function(t){t||this.instance.removeHook("beforeKeyDown",i),e.editors.HandsontableEditor.prototype.finishEditing.apply(this,arguments)},n.prototype.highlightBestMatchingChoice=function(t){"number"==typeof t?this.htEditor.selectCell(t,0):this.htEditor.deselectCell()},n.sortByRelevance=function(t,e,n){var r,i,o,a,s,l=[],u=t.length,c=[];if(0===u){for(a=0,s=e.length;s>a;a++)c.push(a);return c}for(a=0,s=e.length;s>a;a++)r=e[a],i=n?r.indexOf(t):r.toLowerCase().indexOf(t.toLowerCase()),-1!=i&&(o=r.length-i-u,l.push({baseIndex:a,index:i,charsLeft:o,value:r}));for(l.sort(function(t,e){return-1===e.index?-1:-1===t.index?1:t.index<e.index?-1:e.index<t.index?1:t.index===e.index?t.charsLeft<e.charsLeft?-1:t.charsLeft>e.charsLeft?1:0:void 0}),a=0,s=l.length;s>a;a++)c.push(l[a].baseIndex);return c},n.prototype.getDropdownHeight=function(){var t=this.htEditor.getInstance().getRowHeight(0)||23;return this.choices.length>=10?10*t:this.choices.length*t+8},e.editors.AutocompleteEditor=n,e.editors.registerEditor("autocomplete",n)}(e),function(t){var e=t.editors.TextEditor.prototype.extend();e.prototype.createElements=function(){t.editors.TextEditor.prototype.createElements.apply(this,arguments),this.TEXTAREA=document.createElement("input"),this.TEXTAREA.setAttribute("type","password"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,t.Dom.empty(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA)},t.editors.PasswordEditor=e,t.editors.registerEditor("password",e)}(e),function(t){var e=t.editors.BaseEditor.prototype.extend();e.prototype.init=function(){this.select=document.createElement("SELECT"),t.Dom.addClass(this.select,"htSelectEditor"),this.select.style.display="none",this.instance.rootElement.appendChild(this.select)},e.prototype.prepare=function(){t.editors.BaseEditor.prototype.prepare.apply(this,arguments);var e,n=this.cellProperties.selectOptions;e=this.prepareOptions("function"==typeof n?n(this.row,this.col,this.prop):n),t.Dom.empty(this.select);for(var r in e)if(e.hasOwnProperty(r)){var i=document.createElement("OPTION");i.value=r,t.Dom.fastInnerHTML(i,e[r]),this.select.appendChild(i)}},e.prototype.prepareOptions=function(t){var e={};if(Array.isArray(t))for(var n=0,r=t.length;r>n;n++)e[t[n]]=t[n];else"object"==typeof t&&(e=t);return e},e.prototype.getValue=function(){return this.select.value},e.prototype.setValue=function(t){this.select.value=t};var n=function(e){var n=this,r=n.getActiveEditor();switch(e.keyCode){case t.helper.keyCode.ARROW_UP:var i=r.select.find("option:selected").prev();1==i.length&&i.prop("selected",!0),e.stopImmediatePropagation(),e.preventDefault();break;case t.helper.keyCode.ARROW_DOWN:var o=r.select.find("option:selected").next();1==o.length&&o.prop("selected",!0),e.stopImmediatePropagation(),e.preventDefault()}};e.prototype.checkEditorSection=function(){return this.row<this.instance.getSettings().fixedRowsTop?this.col<this.instance.getSettings().fixedColumnsLeft?"corner":"top":this.col<this.instance.getSettings().fixedColumnsLeft?"left":void 0},e.prototype.open=function(){var e,r=t.Dom.outerWidth(this.TD),i=t.Dom.outerHeight(this.TD),o=t.Dom.offset(this.instance.rootElement),a=t.Dom.offset(this.TD),s=this.checkEditorSection();switch(s){case"top":e=t.Dom.getCssTransform(this.instance.view.wt.wtScrollbars.vertical.clone.wtTable.holder.parentNode);break;case"left":e=t.Dom.getCssTransform(this.instance.view.wt.wtScrollbars.horizontal.clone.wtTable.holder.parentNode);break;case"corner":e=t.Dom.getCssTransform(this.instance.view.wt.wtScrollbars.corner.clone.wtTable.holder.parentNode)}var l=this.select.style;e&&-1!=e?l[e[0]]=e[1]:t.Dom.resetCssTransform(this.select),l.height=i+"px",l.minWidth=r+"px",l.top=a.top-o.top+"px",l.left=a.left-o.left+"px",l.margin="0px",l.display="",this.instance.addHook("beforeKeyDown",n)},e.prototype.close=function(){this.select.style.display="none",this.instance.removeHook("beforeKeyDown",n)},e.prototype.focus=function(){this.select.focus()},t.editors.SelectEditor=e,t.editors.registerEditor("select",e)}(e),function(t){var e=t.editors.AutocompleteEditor.prototype.extend();e.prototype.prepare=function(){
t.editors.AutocompleteEditor.prototype.prepare.apply(this,arguments),this.cellProperties.filter=!1,this.cellProperties.strict=!0},t.editors.DropdownEditor=e,t.editors.registerEditor("dropdown",e)}(e),function(t){var e=t.editors.TextEditor.prototype.extend();e.prototype.beginEditing=function(e){var n=t.editors.TextEditor.prototype;if("undefined"==typeof e&&this.originalValue){var r=""+this.originalValue;"undefined"!=typeof this.cellProperties.language&&numeral.language(this.cellProperties.language);var i=numeral.languageData().delimiters.decimal;r=r.replace(".",i),n.beginEditing.apply(this,[r])}else n.beginEditing.apply(this,arguments)},t.editors.NumericEditor=e,t.editors.registerEditor("numeric",e)}(e),e.NumericValidator=function(t,e){null===t&&(t=""),e(/^-?\d*(\.|\,)?\d*$/.test(t))},e.DateValidator=function(t,n){var r=null,i=!0,o=e.editors.getEditor("date",this.instance);null===t&&(t="");var a=moment(new Date(t)).isValid(),s=moment(t,this.dateFormat||o.defaultDateFormat,!0).isValid();a||(i=!1),!a&&s&&(i=!0),a&&!s&&(this.correctFormat===!0?(r=P(t,this.dateFormat),this.instance.setDataAtCell(this.row,this.col,r,"dateValidator"),i=!0):i=!1),n(i)};var P=function(t,e){return t=moment(new Date(t)).format(e)},O=function(t,e){var n=t,r="string"==typeof n?n.toLowerCase():null;return function(t){for(var i=!1,o=0,a=t.length;a>o;o++){if(n===t[o]){i=!0;break}if(r===t[o].toLowerCase()){i=!0;break}}e(i)}};e.AutocompleteValidator=function(t,e){this.strict&&this.source?"function"==typeof this.source?this.source(t,O(t,e)):O(t,e)(this.source):e(!0)},e.mobileBrowser=e.helper.isMobileBrowser(),e.AutocompleteCell={editor:e.editors.AutocompleteEditor,renderer:e.renderers.AutocompleteRenderer,validator:e.AutocompleteValidator},e.CheckboxCell={editor:e.editors.CheckboxEditor,renderer:e.renderers.CheckboxRenderer},e.TextCell={editor:e.mobileBrowser?e.editors.MobileTextEditor:e.editors.TextEditor,renderer:e.renderers.TextRenderer},e.NumericCell={editor:e.editors.NumericEditor,renderer:e.renderers.NumericRenderer,validator:e.NumericValidator,dataType:"number"},e.DateCell={editor:e.editors.DateEditor,validator:e.DateValidator,renderer:e.renderers.AutocompleteRenderer},e.HandsontableCell={editor:e.editors.HandsontableEditor,renderer:e.renderers.AutocompleteRenderer},e.PasswordCell={editor:e.editors.PasswordEditor,renderer:e.renderers.PasswordRenderer,copyable:!1},e.DropdownCell={editor:e.editors.DropdownEditor,renderer:e.renderers.AutocompleteRenderer,validator:e.AutocompleteValidator},e.cellTypes={text:e.TextCell,date:e.DateCell,numeric:e.NumericCell,checkbox:e.CheckboxCell,autocomplete:e.AutocompleteCell,handsontable:e.HandsontableCell,password:e.PasswordCell,dropdown:e.DropdownCell},e.cellLookup={validator:{numeric:e.NumericValidator,autocomplete:e.AutocompleteValidator}};/**
 * autoResize - resizes a DOM element to the width and height of another DOM element
 *
 * Copyright 2014, Marcin Warpechowski
 * Licensed under the MIT license
 */
var L=function(){var n,r={minHeight:200,maxHeight:300,minWidth:100,maxWidth:300},i=document.body,o=document.createTextNode(""),a=document.createElement("SPAN"),s=function(e,n,r){t.attachEvent?e.attachEvent("on"+n,r):e.addEventListener(n,r,!1)},l=function(e,n,r){t.removeEventListener?e.removeEventListener(n,r,!1):e.detachEvent("on"+n,r)},u=function(t){var s,l;t?/^[a-zA-Z \.,\\\/\|0-9]$/.test(t)||(t="."):t="",void 0!==o.textContent?o.textContent=n.value+t:o.data=n.value+t,a.style.fontSize=e.Dom.getComputedStyle(n).fontSize,a.style.fontFamily=e.Dom.getComputedStyle(n).fontFamily,a.style.whiteSpace="pre",i.appendChild(a),s=a.clientWidth+2,i.removeChild(a),n.style.height=r.minHeight+"px",n.style.width=r.minWidth>s?r.minWidth+"px":s>r.maxWidth?r.maxWidth+"px":s+"px",l=n.scrollHeight?n.scrollHeight-1:0,r.minHeight>l?n.style.height=r.minHeight+"px":r.maxHeight<l?(n.style.height=r.maxHeight+"px",n.style.overflowY="visible"):n.style.height=l+"px"},c=function(){t.setTimeout(u,0)},h=function(t){if(t&&t.minHeight)if("inherit"==t.minHeight)r.minHeight=n.clientHeight;else{var e=parseInt(t.minHeight);isNaN(e)||(r.minHeight=e)}if(t&&t.maxHeight)if("inherit"==t.maxHeight)r.maxHeight=n.clientHeight;else{var i=parseInt(t.maxHeight);isNaN(i)||(r.maxHeight=i)}if(t&&t.minWidth)if("inherit"==t.minWidth)r.minWidth=n.clientWidth;else{var s=parseInt(t.minWidth);isNaN(s)||(r.minWidth=s)}if(t&&t.maxWidth)if("inherit"==t.maxWidth)r.maxWidth=n.clientWidth;else{var l=parseInt(t.maxWidth);isNaN(l)||(r.maxWidth=l)}a.firstChild||(a.className="autoResize",a.style.display="inline-block",a.appendChild(o))},f=function(t,e,i){n=t,h(e),"TEXTAREA"==n.nodeName&&(n.style.resize="none",n.style.overflowY="",n.style.height=r.minHeight+"px",n.style.minWidth=r.minWidth+"px",n.style.maxWidth=r.maxWidth+"px",n.style.overflowY="hidden"),i&&(s(n,"change",u),s(n,"cut",c),s(n,"paste",c),s(n,"drop",c),s(n,"keydown",c)),u()};return{init:function(t,e,n){f(t,e,n)},unObserve:function(){l(n,"change",u),l(n,"cut",c),l(n,"paste",c),l(n,"drop",c),l(n,"keydown",c)},resize:u}};/**
 * SheetClip - Spreadsheet Clipboard Parser
 * version 0.2
 *
 * This tiny library transforms JavaScript arrays to strings that are pasteable by LibreOffice, OpenOffice,
 * Google Docs and Microsoft Excel.
 *
 * Copyright 2012, Marcin Warpechowski
 * Licensed under the MIT license.
 * http://github.com/warpech/sheetclip/
 */
!function(t){function e(t){return t.split('"').length-1}t.SheetClip={parse:function(t){var n,r,i,o,a,s,l,u=[],c=0;for(i=t.split("\n"),i.length>1&&""===i[i.length-1]&&i.pop(),n=0,r=i.length;r>n;n+=1){for(i[n]=i[n].split("	"),o=0,a=i[n].length;a>o;o+=1)u[c]||(u[c]=[]),s&&0===o?(l=u[c].length-1,u[c][l]=u[c][l]+"\n"+i[n][0],s&&1&e(i[n][0])&&(s=!1,u[c][l]=u[c][l].substring(0,u[c][l].length-1).replace(/""/g,'"'))):o===a-1&&0===i[n][o].indexOf('"')?(u[c].push(i[n][o].substring(1).replace(/""/g,'"')),s=!0):(u[c].push(i[n][o].replace(/""/g,'"')),s=!1);s||(c+=1)}return u},stringify:function(t){var e,n,r,i,o,a="";for(e=0,n=t.length;n>e;e+=1){for(i=t[e].length,r=0;i>r;r+=1)r>0&&(a+="	"),o=t[e][r],a+="string"==typeof o?o.indexOf("\n")>-1?'"'+o.replace(/"/g,'""')+'"':o:null===o||void 0===o?"":o;a+="\n"}return a}}}(t);var I=function(){var t;return{getInstance:function(){return t?t.hasBeenDestroyed()&&t.init():t=new n,t.refCounter++,t}}}();n.prototype.init=function(){var t,n;this.copyCallbacks=[],this.cutCallbacks=[],this.pasteCallbacks=[],this._eventManager=e.eventManager(this),n=document.body,document.getElementById("CopyPasteDiv")?(this.elDiv=document.getElementById("CopyPasteDiv"),this.elTextarea=this.elDiv.firstChild):(this.elDiv=document.createElement("DIV"),this.elDiv.id="CopyPasteDiv",t=this.elDiv.style,t.position="fixed",t.top="-10000px",t.left="-10000px",n.appendChild(this.elDiv),this.elTextarea=document.createElement("TEXTAREA"),this.elTextarea.className="copyPaste",this.elTextarea.onpaste=function(t){return"WebkitAppearance"in document.documentElement.style?(this.value=t.clipboardData.getData("Text"),!1):void 0},t=this.elTextarea.style,t.width="10000px",t.height="10000px",t.overflow="hidden",this.elDiv.appendChild(this.elTextarea),"undefined"!=typeof t.opacity&&(t.opacity=0)),this.keyDownRemoveEvent=this._eventManager.addEventListener(document.documentElement,"keydown",this.onKeyDown.bind(this),!1)},n.prototype.onKeyDown=function(t){var e=this,n=!1;if(t.metaKey?n=!0:t.ctrlKey&&-1===navigator.userAgent.indexOf("Mac")&&(n=!0),n){if(document.activeElement!==this.elTextarea&&(""!==this.getSelectionText()||-1!==["INPUT","SELECT","TEXTAREA"].indexOf(document.activeElement.nodeName)))return;this.selectNodeText(this.elTextarea),setTimeout(function(){e.selectNodeText(e.elTextarea)},0)}!n||67!==t.keyCode&&86!==t.keyCode&&88!==t.keyCode||(88===t.keyCode?setTimeout(function(){e.triggerCut(t)},0):86===t.keyCode&&setTimeout(function(){e.triggerPaste(t)},0))},n.prototype.selectNodeText=function(t){t&&t.select()},n.prototype.getSelectionText=function(){var e="";return t.getSelection?e=t.getSelection().toString():document.selection&&"Control"!=document.selection.type&&(e=document.selection.createRange().text),e},n.prototype.copyable=function(t){if("string"!=typeof t&&void 0===t.toString)throw new Error("copyable requires string parameter");this.elTextarea.value=t},n.prototype.onCut=function(t){this.cutCallbacks.push(t)},n.prototype.onPaste=function(t){this.pasteCallbacks.push(t)},n.prototype.removeCallback=function(t){var e,n;for(e=0,n=this.copyCallbacks.length;n>e;e++)if(this.copyCallbacks[e]===t)return this.copyCallbacks.splice(e,1),!0;for(e=0,n=this.cutCallbacks.length;n>e;e++)if(this.cutCallbacks[e]===t)return this.cutCallbacks.splice(e,1),!0;for(e=0,n=this.pasteCallbacks.length;n>e;e++)if(this.pasteCallbacks[e]===t)return this.pasteCallbacks.splice(e,1),!0;return!1},n.prototype.triggerCut=function(t){var e=this;e.cutCallbacks&&setTimeout(function(){for(var n=0,r=e.cutCallbacks.length;r>n;n++)e.cutCallbacks[n](t)},50)},n.prototype.triggerPaste=function(t,e){var n=this;n.pasteCallbacks&&setTimeout(function(){for(var r=e||n.elTextarea.value,i=0,o=n.pasteCallbacks.length;o>i;i++)n.pasteCallbacks[i](r,t)},50)},n.prototype.destroy=function(){this.hasBeenDestroyed()||0!==--this.refCounter||(this.elDiv&&this.elDiv.parentNode&&(this.elDiv.parentNode.removeChild(this.elDiv),this.elDiv=null,this.elTextarea=null),this.keyDownRemoveEvent())},n.prototype.hasBeenDestroyed=function(){return!this.refCounter};
// (c) 2013 Joachim Wester
// MIT license
var N;!function(e){function n(t){return-1===t.indexOf("/")&&-1===t.indexOf("~")?t:t.replace(/~/g,"~0").replace(/\//g,"~1")}function r(t,e){var i;for(var o in t)if(t.hasOwnProperty(o)){if(t[o]===e)return n(o)+"/";if("object"==typeof t[o]&&(i=r(t[o],e),""!=i))return n(o)+"/"+i}return""}function i(t,e){if(t===e)return"/";var n=r(t,e);if(""===n)throw new Error("Object not found in root");return"/"+n}function o(t){for(var e=0,n=y.length;n>e;e++)if(y[e].obj===t)return y[e]}function a(t,e){for(var n=0,r=t.observers.length;r>n;n++)if(t.observers[n].callback===e)return t.observers[n].observer}function s(t,e){for(var n=0,r=t.observers.length;r>n;n++)if(t.observers[n].observer===e)return void t.observers.splice(n,1)}function l(t,e){f(e),Object.observe?h(e,t):clearTimeout(e.next);var n=o(t);s(n,e)}function u(e,n){var r,s=[],l=e,u=o(e);if(u?r=a(u,n):(u=new w(e),y.push(u)),r)return r;if(Object.observe)r=function(t){h(r,e),c(r,e);for(var o=0,a=t.length;a>o;){if(("length"!==t[o].name||!C(t[o].object))&&"__Jasmine_been_here_before__"!==t[o].name){var u=t[o].type;switch(u){case"new":u="add";break;case"deleted":u="delete";break;case"updated":u="update"}v[u].call(t[o],s,i(l,t[o].object))}o++}s&&n&&n(s),r.patches=s,s=[]};else if(r={},u.value=JSON.parse(JSON.stringify(e)),n){r.callback=n,r.next=null;var d=this.intervals||[100,1e3,1e4,6e4],p=0,g=function(){f(r)},m=function(){clearTimeout(r.next),r.next=setTimeout(function(){g(),p=0,r.next=setTimeout(x,d[p++])},0)},x=function(){g(),p==d.length&&(p=d.length-1),r.next=setTimeout(x,d[p++])};"undefined"!=typeof t&&(t.addEventListener?(t.addEventListener("mousedown",m),t.addEventListener("mouseup",m),t.addEventListener("keydown",m)):(t.attachEvent("onmousedown",m),t.attachEvent("onmouseup",m),t.attachEvent("onkeydown",m))),r.next=setTimeout(x,d[p++])}return r.patches=s,r.object=e,u.observers.push(new b(n,r)),c(r,e)}function c(t,e){if(Object.observe){Object.observe(e,t);for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];r&&"object"==typeof r&&c(t,r)}}return t}function h(t,e){if(Object.observe){Object.unobserve(e,t);for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];r&&"object"==typeof r&&h(t,r)}}return t}function f(t){if(Object.observe)Object.deliverChangeRecords(t);else{for(var e,n=0,r=y.length;r>n;n++)if(y[n].obj===t.object){e=y[n];break}d(e.value,t.object,t.patches,"")}var i=t.patches;return i.length>0&&(t.patches=[],t.callback&&t.callback(i)),i}function d(t,e,r,i){for(var o=x(e),a=x(t),s=!1,l=!1,u=a.length-1;u>=0;u--){var c=a[u],h=t[c];if(e.hasOwnProperty(c)){var f=e[c];h instanceof Object?d(h,f,r,i+"/"+n(c)):h!=f&&(s=!0,r.push({op:"replace",path:i+"/"+n(c),value:f}),t[c]=f)}else r.push({op:"remove",path:i+"/"+n(c)}),delete t[c],l=!0}if(l||o.length!=a.length)for(var u=0;u<o.length;u++){var c=o[u];t.hasOwnProperty(c)||(r.push({op:"add",path:i+"/"+n(c),value:e[c]}),t[c]=JSON.parse(JSON.stringify(e[c])))}}function p(t,e){for(var n,r=!1,i=0,o=e.length;o>i;){n=e[i];for(var a=n.path.split("/"),s=t,l=1,u=a.length;;)if(C(s)){var c=parseInt(a[l],10);if(l++,l>=u){r=m[n.op].call(n,s,c,t);break}s=s[c]}else{var h=a[l];if(-1!=h.indexOf("~")&&(h=h.replace(/~1/g,"/").replace(/~0/g,"~")),l++,l>=u){r=g[n.op].call(n,s,h,t);break}s=s[h]}i++}return r}var g={add:function(t,e){return t[e]=this.value,!0},remove:function(t,e){return delete t[e],!0},replace:function(t,e){return t[e]=this.value,!0},move:function(t,e,n){var r={op:"_get",path:this.from};return p(n,[r]),p(n,[{op:"remove",path:this.from}]),p(n,[{op:"add",path:this.path,value:r.value}]),!0},copy:function(t,e,n){var r={op:"_get",path:this.from};return p(n,[r]),p(n,[{op:"add",path:this.path,value:r.value}]),!0},test:function(t,e){return JSON.stringify(t[e])===JSON.stringify(this.value)},_get:function(t,e){this.value=t[e]}},m={add:function(t,e){return t.splice(e,0,this.value),!0},remove:function(t,e){return t.splice(e,1),!0},replace:function(t,e){return t[e]=this.value,!0},move:g.move,copy:g.copy,test:g.test,_get:g._get},v={add:function(t,e){var r={op:"add",path:e+n(this.name),value:this.object[this.name]};t.push(r)},"delete":function(t,e){var r={op:"remove",path:e+n(this.name)};t.push(r)},update:function(t,e){var r={op:"replace",path:e+n(this.name),value:this.object[this.name]};t.push(r)}},y=[];e.intervals;var w=function(){function t(t){this.observers=[],this.obj=t}return t}(),b=function(){function t(t,e){this.callback=t,this.observer=e}return t}();e.unobserve=l,e.observe=u,e.generate=f;var x;x=Object.keys?Object.keys:function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};var C;C=Array.isArray?Array.isArray:function(t){return t.push&&"number"==typeof t.length},e.apply=p}(N||(N={})),"undefined"!=typeof exports&&(exports.apply=N.apply,exports.observe=N.observe,exports.unobserve=N.unobserve,exports.generate=N.generate),e.PluginHookClass=function(){function t(){this.hooks=e(),this.globalBucket={},this.legacy=n}var e=function(){return{beforeInitWalkontable:[],beforeInit:[],beforeRender:[],beforeSetRangeEnd:[],beforeDrawBorders:[],beforeChange:[],beforeChangeRender:[],beforeRemoveCol:[],beforeRemoveRow:[],beforeValidate:[],beforeGetCellMeta:[],beforeAutofill:[],beforeKeyDown:[],beforeOnCellMouseDown:[],beforeTouchScroll:[],afterInit:[],afterLoadData:[],afterUpdateSettings:[],afterRender:[],afterRenderer:[],afterChange:[],afterValidate:[],afterGetCellMeta:[],afterSetCellMeta:[],afterGetColHeader:[],afterGetRowHeader:[],afterDestroy:[],afterRemoveRow:[],afterCreateRow:[],afterRemoveCol:[],afterCreateCol:[],afterDeselect:[],afterSelection:[],afterSelectionByProp:[],afterSelectionEnd:[],afterSelectionEndByProp:[],afterOnCellMouseDown:[],afterOnCellMouseOver:[],afterOnCellCornerMouseDown:[],afterScrollVertically:[],afterScrollHorizontally:[],afterCellMetaReset:[],afterIsMultipleSelectionCheck:[],afterDocumentKeyDown:[],afterMomentumScroll:[],beforeCellAlignment:[],modifyColWidth:[],modifyRowHeight:[],modifyRow:[],modifyCol:[]}},n={onBeforeChange:"beforeChange",onChange:"afterChange",onCreateRow:"afterCreateRow",onCreateCol:"afterCreateCol",onSelection:"afterSelection",onCopyLimit:"afterCopyLimit",onSelectionEnd:"afterSelectionEnd",onSelectionByProp:"afterSelectionByProp",onSelectionEndByProp:"afterSelectionEndByProp"};return t.prototype.getBucket=function(t){return t?(t.pluginHookBucket||(t.pluginHookBucket={}),t.pluginHookBucket):this.globalBucket},t.prototype.add=function(t,e,r){if(Array.isArray(e))for(var i=0,o=e.length;o>i;i++)this.add(t,e[i]);else{t in n&&(t=n[t]);var a=this.getBucket(r);"undefined"==typeof a[t]&&(a[t]=[]),e.skip=!1,-1==a[t].indexOf(e)&&a[t].push(e)}return this},t.prototype.once=function(t,e,n){if(Array.isArray(e))for(var r=0,i=e.length;i>r;r++)e[r].runOnce=!0,this.add(t,e[r],n);else e.runOnce=!0,this.add(t,e,n)},t.prototype.remove=function(t,e,r){var i=!1;t in n&&(t=n[t]);var o=this.getBucket(r);if("undefined"!=typeof o[t])for(var a=0,s=o[t].length;s>a;a++)if(o[t][a]==e){o[t][a].skip=!0,i=!0;break}return i},t.prototype.destroy=function(t){var e=this.getBucket(t);for(var n in e)if(e.hasOwnProperty(n))for(var r=0,i=e[n].length;i>r;r++)this.remove(n,e[n],t)},t.prototype.run=function(t,e,r,i,o,a,s,l){return e in n&&(e=n[e]),r=this._runBucket(this.globalBucket,t,e,r,i,o,a,s,l),r=this._runBucket(this.getBucket(t),t,e,r,i,o,a,s,l)},t.prototype._runBucket=function(t,e,n,r,i,o,a,s,l){var u,c,h,f=t[n];if(f)for(c=0,h=f.length;h>c;c++)f[c].skip||(u=f[c].call(e,r,i,o,a,s,l),void 0!==u&&(r=u),f[c].runOnce&&this.remove(n,f[c],t===this.globalBucket?null:e));return r},t.prototype.register=function(t){this.isRegistered(t)||(this.hooks[t]=[])},t.prototype.deregister=function(t){delete this.hooks[t]},t.prototype.isRegistered=function(t){return"undefined"!=typeof this.hooks[t]},t.prototype.getRegistered=function(){return Object.keys(this.hooks)},t}(),e.hooks=new e.PluginHookClass,e.PluginHooks=e.hooks,function(t){function e(){function e(t){var e=document,n=this;n.table=e.createElement("table"),n.theadTh=e.createElement("th"),n.table.appendChild(e.createElement("thead")).appendChild(e.createElement("tr")).appendChild(n.theadTh),n.tableStyle=n.table.style,n.tableStyle.tableLayout="auto",n.tableStyle.width="auto",n.tbody=e.createElement("tbody"),n.table.appendChild(n.tbody),n.container=e.createElement("div"),n.container.className=t.rootElement.className+" hidden",n.containerStyle=n.container.style,n.container.appendChild(n.table)}var r=this,i=5;this.beforeInit=function(){var t=this;t.autoColumnWidths=[],t.getSettings().autoColumnSize!==!1?t.autoColumnSizeTmp||(t.autoColumnSizeTmp={table:null,tableStyle:null,theadTh:null,tbody:null,container:null,containerStyle:null,determineBeforeNextRender:!0},t.addHook("beforeRender",n.determineIfChanged),t.addHook("modifyColWidth",n.modifyColWidth),t.addHook("afterDestroy",n.afterDestroy),t.determineColumnWidth=r.determineColumnWidth):t.autoColumnSizeTmp&&(t.removeHook("beforeRender",n.determineIfChanged),t.removeHook("modifyColWidth",n.modifyColWidth),t.removeHook("afterDestroy",n.afterDestroy),delete t.determineColumnWidth,r.afterDestroy.call(t))},this.determineIfChanged=function(t){t&&n.determineColumnsWidth.apply(this,arguments)},this.determineColumnWidth=function(n){var r=this,o=r.autoColumnSizeTmp;o.container||e.call(o,r),o.container.className=r.rootElement.className+" htAutoColumnSize",o.table.className=r.table.className;for(var a=r.countRows(),s={},l=0,u=0;a>u;u++){var c=t.helper.stringify(r.getDataAtCell(u,n)),h=c.length;h>l&&(l=h),s[h]||(s[h]={needed:i,strings:[]}),s[h].needed&&(s[h].strings.push({value:c,row:u}),s[h].needed--)}var f=r.getSettings();f.colHeaders&&r.view.appendColHeader(n,o.theadTh),t.Dom.empty(o.tbody);for(var d in s)if(s.hasOwnProperty(d))for(var p=0,g=s[d].strings.length;g>p;p++){var m=s[d].strings[p].row,v=r.getCellMeta(m,n);v.col=n,v.row=m;var y=r.getCellRenderer(v),w=document.createElement("tr"),b=document.createElement("td");y(r,b,m,n,r.colToProp(n),s[d].strings[p].value,v),u++,w.appendChild(b),o.tbody.appendChild(w)}var x=r.rootElement.parentNode;x.appendChild(o.container);var C=t.Dom.outerWidth(o.table);return x.removeChild(o.container),C},this.determineColumnsWidth=function(){var t=this,e=this.getSettings();if(e.autoColumnSize||!e.colWidths)for(var n=this.countCols(),i=0;n>i;i++)t._getColWidthFromSettings(i)||(this.autoColumnWidths[i]=r.determineColumnWidth.call(t,i))},this.modifyColWidth=function(t,e){return this.autoColumnWidths[e]&&this.autoColumnWidths[e]>t?this.autoColumnWidths[e]:t},this.afterDestroy=function(){var t=this;t.autoColumnSizeTmp&&t.autoColumnSizeTmp.container&&t.autoColumnSizeTmp.container.parentNode&&t.autoColumnSizeTmp.container.parentNode.removeChild(t.autoColumnSizeTmp.container),t.autoColumnSizeTmp=null}}var n=new e;t.hooks.add("beforeInit",n.beforeInit),t.hooks.add("afterUpdateSettings",n.beforeInit)}(e);var B=new r;e.hooks.add("afterInit",function(){B.init.call(this,"afterInit")}),e.hooks.add("afterUpdateSettings",function(){B.init.call(this,"afterUpdateSettings")}),e.hooks.add("modifyRow",B.translateRow),e.hooks.add("afterGetColHeader",B.getColHeader),e.hooks.register("beforeColumnSort"),e.hooks.register("afterColumnSort"),function(t){function e(t,e){return-1!=t.indexOf(e)?t:(t=t.replace("htTop","").replace("htMiddle","").replace("htBottom","").replace("  ",""),t+=" "+e)}function n(t,e){return-1!=t.indexOf(e)?t:(t=t.replace("htLeft","").replace("htCenter","").replace("htRight","").replace("htJustify","").replace("  ",""),t+=" "+e)}function r(t){for(var e={},n=t.from.row;n<=t.to.row;n++)for(var r=t.from.col;r<=t.to.col;r++)e[n]||(e[n]=[]),e[n][r]=this.getCellMeta(n,r).className;return e}function i(t,r,i,o){var a=this.getCellMeta(t,r),s=o;a.className&&(s="vertical"===i?e(a.className,o):n(a.className,o)),this.setCellMeta(t,r,"className",s)}function o(t,e,n){var o=r.call(this,t);if(this.runHooks("beforeCellAlignment",o,t,e,n),t.from.row==t.to.row&&t.from.col==t.to.col)i.call(this,t.from.row,t.from.col,e,n);else for(var a=t.from.row;a<=t.to.row;a++)for(var s=t.from.col;s<=t.to.col;s++)i.call(this,a,s,e,n);this.render()}function a(e,n){this.instance=e;var r=this;if(r.menus=[],r.htMenus={},r.triggerRows=[],r.eventManager=t.eventManager(r),this.enabled=!0,this.instance.addHook("afterDestroy",function(){r.destroy()}),this.defaultOptions={items:[{key:"row_above",name:"Insert row above",callback:function(t,e){this.alter("insert_row",e.start.row)},disabled:function(){var t=this.getSelected(),e=[0,t[1],this.countRows()-1,t[1]],n=e.join(",")==t.join(",");return t[0]<0||this.countRows()>=this.getSettings().maxRows||n}},{key:"row_below",name:"Insert row below",callback:function(t,e){this.alter("insert_row",e.end.row+1)},disabled:function(){var t=this.getSelected(),e=[0,t[1],this.countRows()-1,t[1]],n=e.join(",")==t.join(",");return this.getSelected()[0]<0||this.countRows()>=this.getSettings().maxRows||n}},a.SEPARATOR,{key:"col_left",name:"Insert column on the left",callback:function(t,e){this.alter("insert_col",e.start.col)},disabled:function(){var t=this.getSelected(),e=[t[0],0,t[0],this.countCols()-1],n=e.join(",")==t.join(",");return this.getSelected()[1]<0||this.countCols()>=this.getSettings().maxCols||n}},{key:"col_right",name:"Insert column on the right",callback:function(t,e){this.alter("insert_col",e.end.col+1)},disabled:function(){var t=this.getSelected(),e=[t[0],0,t[0],this.countCols()-1],n=e.join(",")==t.join(",");return t[1]<0||this.countCols()>=this.getSettings().maxCols||n}},a.SEPARATOR,{key:"remove_row",name:"Remove row",callback:function(t,e){var n=e.end.row-e.start.row+1;this.alter("remove_row",e.start.row,n)},disabled:function(){var t=this.getSelected(),e=[0,t[1],this.countRows()-1,t[1]],n=e.join(",")==t.join(",");return t[0]<0||n}},{key:"remove_col",name:"Remove column",callback:function(t,e){var n=e.end.col-e.start.col+1;this.alter("remove_col",e.start.col,n)},disabled:function(){var t=this.getSelected(),e=[t[0],0,t[0],this.countCols()-1],n=e.join(",")==t.join(",");return t[1]<0||n}},a.SEPARATOR,{key:"undo",name:"Undo",callback:function(){this.undo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isUndoAvailable()}},{key:"redo",name:"Redo",callback:function(){this.redo()},disabled:function(){return this.undoRedo&&!this.undoRedo.isRedoAvailable()}},a.SEPARATOR,{key:"make_read_only",name:function(){var t="Read only",e=r.checkSelectionReadOnlyConsistency(this);return e&&(t=r.markSelected(t)),t},callback:function(){var t=r.checkSelectionReadOnlyConsistency(this),e=this;this.getSelectedRange().forAll(function(n,r){e.getCellMeta(n,r).readOnly=t?!1:!0}),this.render()}},a.SEPARATOR,{key:"alignment",name:"Alignment",submenu:{items:[{name:function(){var t="Left",e=r.checkSelectionAlignment(this,"htLeft");return e&&(t=r.markSelected(t)),t},callback:function(){o.call(this,this.getSelectedRange(),"horizontal","htLeft")},disabled:!1},{name:function(){var t="Center",e=r.checkSelectionAlignment(this,"htCenter");return e&&(t=r.markSelected(t)),t},callback:function(){o.call(this,this.getSelectedRange(),"horizontal","htCenter")},disabled:!1},{name:function(){var t="Right",e=r.checkSelectionAlignment(this,"htRight");return e&&(t=r.markSelected(t)),t},callback:function(){o.call(this,this.getSelectedRange(),"horizontal","htRight")},disabled:!1},{name:function(){var t="Justify",e=r.checkSelectionAlignment(this,"htJustify");return e&&(t=r.markSelected(t)),t},callback:function(){o.call(this,this.getSelectedRange(),"horizontal","htJustify")},disabled:!1},a.SEPARATOR,{name:function(){var t="Top",e=r.checkSelectionAlignment(this,"htTop");return e&&(t=r.markSelected(t)),t},callback:function(){o.call(this,this.getSelectedRange(),"vertical","htTop")},disabled:!1},{name:function(){var t="Middle",e=r.checkSelectionAlignment(this,"htMiddle");return e&&(t=r.markSelected(t)),t},callback:function(){o.call(this,this.getSelectedRange(),"vertical","htMiddle")},disabled:!1},{name:function(){var t="Bottom",e=r.checkSelectionAlignment(this,"htBottom");return e&&(t=r.markSelected(t)),t},callback:function(){o.call(this,this.getSelectedRange(),"vertical","htBottom")},disabled:!1}]}}]},r.options={},t.helper.extend(r.options,this.options),this.bindMouseEvents(),this.markSelected=function(t){return"<span class='selected'>"+String.fromCharCode(10003)+"</span>"+t},this.checkSelectionAlignment=function(t,e){var n=!1;return t.getSelectedRange().forAll(function(r,i){var o=t.getCellMeta(r,i).className;return o&&-1!=o.indexOf(e)?(n=!0,!1):void 0}),n},!this.instance.getSettings().allowInsertRow){var i=l(this.defaultOptions.items,"row_above");this.defaultOptions.items.splice(i,1);var s=l(this.defaultOptions.items,"row_above");this.defaultOptions.items.splice(s,1),this.defaultOptions.items.splice(s,1)}if(!this.instance.getSettings().allowInsertColumn){var u=l(this.defaultOptions.items,"col_left");this.defaultOptions.items.splice(u,1);var c=l(this.defaultOptions.items,"col_right");this.defaultOptions.items.splice(c,1),this.defaultOptions.items.splice(c,1)}var h,f,d=!1,p=!1;this.instance.getSettings().allowRemoveRow||(h=l(this.defaultOptions.items,"remove_row"),this.defaultOptions.items.splice(h,1),d=!0),this.instance.getSettings().allowRemoveColumn||(f=l(this.defaultOptions.items,"remove_col"),this.defaultOptions.items.splice(f,1),p=!0),d&&p&&this.defaultOptions.items.splice(f,1),this.checkSelectionReadOnlyConsistency=function(t){var e=!1;return t.getSelectedRange().forAll(function(n,r){return t.getCellMeta(n,r).readOnly?(e=!0,!1):void 0}),e},t.hooks.run(e,"afterContextMenuDefaultOptions",this.defaultOptions)}function s(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n].key===e)return t[n]}function l(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n].key===e)return n}function u(){if(!this.rootElement.className.indexOf("htContextMenu")){for(var t=0,e=0,n=this.getSettings().data.length,r=0;n>r;r++)this.getSettings().data[r].name==a.SEPARATOR.name?t+=2:e+=26;this.view.wt.wtScrollbars.vertical.fixedContainer.style.height=e+t+"px"}}function c(){var e=this,n=e.getSettings().contextMenu,r=t.helper.isObject(n)?n:{};n?(e.contextMenu||(e.contextMenu=new a(e,r)),e.contextMenu.enable()):e.contextMenu&&(e.contextMenu.destroy(),delete e.contextMenu)}a.prototype.createMenu=function(e,n){e&&(e=e.replace(/ /g,"_"),e="htContextSubMenu_"+e);var r;return r=document.querySelector(e?".htContextMenu."+e:".htContextMenu"),r||(r=document.createElement("DIV"),t.Dom.addClass(r,"htContextMenu"),e&&t.Dom.addClass(r,e),document.getElementsByTagName("body")[0].appendChild(r)),this.menus.indexOf(r)<0&&(this.menus.push(r),n=n||0,this.triggerRows.push(n)),r},a.prototype.bindMouseEvents=function(){function e(e){var n=this.instance.getSettings();this.closeAll(),e.preventDefault(),t.helper.stopPropagation(e);var r=this.instance.getSettings().rowHeaders,i=this.instance.getSettings().colHeaders;if(r||i){if(r&&i){var o=e.target.parentNode.querySelectorAll(".cornerHeader").length>0;if(o)return}}else if(!("TD"==e.target.nodeName||t.Dom.hasClass(e.target,"current")&&t.Dom.hasClass(e.target,"wtBorder")))return;var s=this.createMenu(),l=this.getItems(n.contextMenu);this.show(s,l),this.setMenuPosition(e,s),this.eventManager.addEventListener(document.documentElement,"mousedown",t.helper.proxy(a.prototype.closeAll,this))}var n=t.eventManager(this.instance);n.addEventListener(this.instance.rootElement,"contextmenu",t.helper.proxy(e,this))},a.prototype.bindTableEvents=function(){this._afterScrollCallback=function(){},this.instance.addHook("afterScrollVertically",this._afterScrollCallback),this.instance.addHook("afterScrollHorizontally",this._afterScrollCallback)},a.prototype.unbindTableEvents=function(){this._afterScrollCallback&&(this.instance.removeHook("afterScrollVertically",this._afterScrollCallback),this.instance.removeHook("afterScrollHorizontally",this._afterScrollCallback),this._afterScrollCallback=null)},a.prototype.performAction=function(t,e){var n=this,r=e.getSelected()[0],i=e.getData()[r];if(i.disabled!==!0&&("function"!=typeof i.disabled||i.disabled.call(this.instance)!==!0)&&!i.hasOwnProperty("submenu")){if("function"!=typeof i.callback)return;var o=this.instance.getSelectedRange(),s=a.utils.normalizeSelection(o);i.callback.call(this.instance,i.key,s,t),n.closeAll()}},a.prototype.unbindMouseEvents=function(){this.eventManager.clear();var e=t.eventManager(this.instance);e.removeEventListener(this.instance.rootElement,"contextmenu")},a.prototype.show=function(e,n){var r=this;e.removeAttribute("style"),e.style.display="block";var i={data:n,colHeaders:!1,colWidths:[200],readOnly:!0,copyPaste:!1,columns:[{data:"name",renderer:t.helper.proxy(this.renderer,this)}],renderAllRows:!0,beforeKeyDown:function(t){r.onBeforeKeyDown(t,o)},afterOnCellMouseOver:function(t,e,n){r.onCellMouseOver(t,e,n,o)}},o=new t(e,i);this.eventManager.removeEventListener(e,"mousedown"),this.eventManager.addEventListener(e,"mousedown",function(t){r.performAction(t,o)}),this.bindTableEvents(),o.listen(),this.htMenus[o.guid]=o},a.prototype.close=function(t){this.hide(t),this.eventManager.clear(),this.unbindTableEvents(),this.instance.listen()},a.prototype.closeAll=function(){for(;this.menus.length>0;){var t=this.menus.pop();t&&this.close(t)}this.triggerRows=[]},a.prototype.closeLastOpenedSubMenu=function(){var t=this.menus.pop();t&&this.hide(t)},a.prototype.hide=function(t){t.style.display="none";var e=this.htMenus[t.id];e.destroy(),delete this.htMenus[t.id]},a.prototype.renderer=function(e,n,r,i,o,s){function l(t){return t.hasOwnProperty("submenu")}function u(t){return new RegExp(a.SEPARATOR.name,"i").test(t.name)}function c(t){return t.disabled===!0||"function"==typeof t.disabled&&t.disabled.call(h.instance)===!0}var h=this,f=e.getData()[r],d=document.createElement("DIV");"function"==typeof s&&(s=s.call(this.instance)),t.Dom.empty(n),n.appendChild(d),u(f)?t.Dom.addClass(n,"htSeparator"):t.Dom.fastInnerHTML(d,s),c(f)?(t.Dom.addClass(n,"htDisabled"),this.eventManager.addEventListener(d,"mouseenter",function(){e.deselectCell()})):l(f)?(t.Dom.addClass(n,"htSubmenu"),this.eventManager.addEventListener(d,"mouseenter",function(){e.selectCell(r,i)})):(t.Dom.removeClass(n,"htSubmenu"),t.Dom.removeClass(n,"htDisabled"),this.eventManager.addEventListener(d,"mouseenter",function(){e.selectCell(r,i)}))},a.prototype.onCellMouseOver=function(t,e,n,r){var i=this.menus.length;if(i>0){var o=this.menus[i-1];o.id!=r.guid&&this.closeLastOpenedSubMenu()}else this.closeLastOpenedSubMenu();if(-1!=n.className.indexOf("htSubmenu")){var a=r.getData()[e.row],s=this.getItems(a.submenu),l=this.createMenu(a.name,e.row),u=n.getBoundingClientRect();this.show(l,s),this.setSubMenuPosition(u,l)}},a.prototype.onBeforeKeyDown=function(e,n){function r(t){var e=t.getCell(0,0);a.utils.isSeparator(e)||a.utils.isDisabled(e)?o(0,0,t):t.selectCell(0,0)}function i(t){var e=t.countRows()-1,n=t.getCell(e,0);a.utils.isSeparator(n)||a.utils.isDisabled(n)?s(e,0,t):t.selectCell(e,0)}function o(t,e,n){var r=t+1,i=r<n.countRows()?n.getCell(r,e):null;i&&(a.utils.isSeparator(i)||a.utils.isDisabled(i)?o(r,e,n):n.selectCell(r,e))}function s(t,e,n){var r=t-1,i=r>=0?n.getCell(r,e):null;i&&(a.utils.isSeparator(i)||a.utils.isDisabled(i)?s(r,e,n):n.selectCell(r,e))}function l(t,e,n,r){var i=t.getData()[r],o=e.getItems(i.submenu),a=e.createMenu(i.name,r),s=n.getBoundingClientRect(),l=e.show(a,o);e.setSubMenuPosition(s,a),l.selectCell(0,0)}t.Dom.enableImmediatePropagation(e);var u=this,c=n.getSelected();switch(e.keyCode){case t.helper.keyCode.ESCAPE:u.closeAll(),e.preventDefault(),e.stopImmediatePropagation();break;case t.helper.keyCode.ENTER:c&&u.performAction(e,n);break;case t.helper.keyCode.ARROW_DOWN:c?o(c[0],c[1],n,u):r(n,u),e.preventDefault(),e.stopImmediatePropagation();break;case t.helper.keyCode.ARROW_UP:c?s(c[0],c[1],n,u):i(n,u),e.preventDefault(),e.stopImmediatePropagation();break;case t.helper.keyCode.ARROW_RIGHT:if(c){var h=c[0],f=n.getCell(c[0],0);a.utils.hasSubMenu(f)&&l(n,u,f,h)}e.preventDefault(),e.stopImmediatePropagation();break;case t.helper.keyCode.ARROW_LEFT:if(c){if(-1!=n.rootElement.className.indexOf("htContextSubMenu_")){u.closeLastOpenedSubMenu();var d=u.menus.length;if(d>0){var p=u.menus[d-1],g=u.triggerRows.pop();n=this.htMenus[p.id],n.selectCell(g,0)}}e.preventDefault(),e.stopImmediatePropagation()}}},a.prototype.getItems=function(e){function n(e){"string"==typeof e?this.name=e:t.helper.extend(this,e)}var r,i;n.prototype=e,e&&e.items&&(e=e.items),e===!0&&(e=this.defaultOptions.items),r=[];for(var o in e)e.hasOwnProperty(o)&&(i="string"==typeof e[o]?s(this.defaultOptions.items,e[o]):s(this.defaultOptions.items,o),i||(i=e[o]),i=new n(i),"object"==typeof e[o]&&t.helper.extend(i,e[o]),i.key||(i.key=o),r.push(i));return r},a.prototype.setSubMenuPosition=function(e,n){var r=t.Dom.getWindowScrollTop(),i=t.Dom.getWindowScrollLeft(),o={top:r+e.top,topRelative:e.top,left:e.left,leftRelative:e.left-i,scrollTop:r,scrollLeft:i,cellHeight:e.height,cellWidth:e.width};this.menuFitsBelowCursor(o,n,document.body.clientWidth)?this.positionMenuBelowCursor(o,n,!0):this.menuFitsAboveCursor(o,n)?this.positionMenuAboveCursor(o,n,!0):this.positionMenuBelowCursor(o,n,!0),this.menuFitsOnRightOfCursor(o,n,document.body.clientWidth)?this.positionMenuOnRightOfCursor(o,n,!0):this.positionMenuOnLeftOfCursor(o,n,!0)},a.prototype.setMenuPosition=function(e,n){var r=t.Dom.getWindowScrollTop(),i=t.Dom.getWindowScrollLeft(),o=e.pageY||e.clientY+r,a=e.pageX||e.clientX+i,s={top:o,topRelative:o-r,left:a,leftRelative:a-i,scrollTop:r,scrollLeft:i,cellHeight:e.target.clientHeight,cellWidth:e.target.clientWidth};this.menuFitsBelowCursor(s,n,document.body.clientHeight)?this.positionMenuBelowCursor(s,n):this.menuFitsAboveCursor(s,n)?this.positionMenuAboveCursor(s,n):this.positionMenuBelowCursor(s,n),this.menuFitsOnRightOfCursor(s,n,document.body.clientWidth)?this.positionMenuOnRightOfCursor(s,n):this.positionMenuOnLeftOfCursor(s,n)},a.prototype.menuFitsAboveCursor=function(t,e){return t.topRelative>=e.offsetHeight},a.prototype.menuFitsBelowCursor=function(t,e,n){return t.topRelative+e.offsetHeight<=n},a.prototype.menuFitsOnRightOfCursor=function(t,e,n){return t.leftRelative+e.offsetWidth<=n},a.prototype.positionMenuBelowCursor=function(t,e){e.style.top=t.top+"px"},a.prototype.positionMenuAboveCursor=function(t,e,n){e.style.top=n?t.top+t.cellHeight-e.offsetHeight+"px":t.top-e.offsetHeight+"px"},a.prototype.positionMenuOnRightOfCursor=function(t,e,n){e.style.left=n?1+t.left+t.cellWidth+"px":1+t.left+"px"},a.prototype.positionMenuOnLeftOfCursor=function(t,e,n){e.style.left=n?t.left-e.offsetWidth+"px":t.left-e.offsetWidth+"px"},a.utils={},a.utils.normalizeSelection=function(t){return{start:t.getTopLeftCorner(),end:t.getBottomRightCorner()}},a.utils.isSeparator=function(e){return t.Dom.hasClass(e,"htSeparator")},a.utils.hasSubMenu=function(e){return t.Dom.hasClass(e,"htSubmenu")},a.utils.isDisabled=function(e){return t.Dom.hasClass(e,"htDisabled")},a.prototype.enable=function(){this.enabled||(this.enabled=!0,this.bindMouseEvents())},a.prototype.disable=function(){this.enabled&&(this.enabled=!1,this.closeAll(),this.unbindMouseEvents(),this.unbindTableEvents())},a.prototype.destroy=function(){for(this.closeAll();this.menus.length>0;){var t=this.menus.pop();this.triggerRows.pop(),t&&(this.close(t),this.isMenuEnabledByOtherHotInstance()||this.removeMenu(t))}this.unbindMouseEvents(),this.unbindTableEvents()},a.prototype.isMenuEnabledByOtherHotInstance=function(){for(var t=document.querySelectorAll(".handsontable"),e=!1,n=0,r=t.length;r>n;n++){var i=this.htMenus[t[n].id];if(i&&i.getSettings().contextMenu){e=!0;break}}return e},a.prototype.removeMenu=function(t){t.parentNode&&this.menu.parentNode.removeChild(t)},a.prototype.align=function(t,e,n){o.call(this,t,e,n)},a.SEPARATOR={name:"---------"},t.hooks.add("afterInit",c),t.hooks.add("afterUpdateSettings",c),t.hooks.add("afterInit",u),t.PluginHooks.register("afterContextMenuDefaultOptions"),t.ContextMenu=a}(e);var H=function(){var t=this,n=t.getSettings().comments;n&&(e.Comments=new i(t),e.Comments.init())},F=function(t,n,r,i,o,a){a.comment&&e.Dom.addClass(t,a.commentedCellClassName)},V=function(t){var n=this;n.getSettings().comments&&(t.items.push(e.ContextMenu.SEPARATOR),t.items.push({key:"commentsAddEdit",name:function(){var t=e.Comments.checkSelectionCommentsConsistency();return t?"Edit Comment":"Add Comment"},callback:function(t,n,r){e.Comments.showComment(this.getSelectedRange())},disabled:function(){return!1}}),t.items.push({key:"commentsRemove",name:function(){return"Delete Comment"},callback:function(t,n,r){e.Comments.removeComment(n.start.row,n.start.col)},disabled:function(){var t=e.Comments.checkSelectionCommentsConsistency();return!t}}))};e.hooks.add("beforeInit",H),e.hooks.add("afterContextMenuDefaultOptions",V),e.hooks.add("afterRenderer",F),function(e){function n(){function n(t){f=this,d=t;var e=this.view.wt.wtTable.getCoords(t).col;if(e>=0){h=e;var n=d.getBoundingClientRect();c=n.left,p.style.top=n.top+"px",p.style.left=c+"px",f.rootElement.appendChild(p)}}function r(t,e){var n=t.getBoundingClientRect(),r=6;p.style.left=e>0?n.left+n.width-r+"px":n.left+"px"}function i(){var t=this;e.Dom.addClass(p,"active"),e.Dom.addClass(g,"active");var n=d.getBoundingClientRect();g.style.width=n.width+"px",g.style.height=t.view.maximumVisibleElementHeight(0)+"px",g.style.top=p.style.top,g.style.left=c+"px",t.rootElement.appendChild(g)}function o(t){g.style.left=c+t+"px"}function a(){e.Dom.removeClass(p,"active"),e.Dom.removeClass(g,"active")}var s,l,u,c,h,f,d,p=document.createElement("DIV"),g=document.createElement("DIV"),m=e.eventManager(this);p.className="manualColumnMover",g.className="manualColumnMoverGuide";var v=function(){var t=this;e.hooks.run(t,"persistentStateSave","manualColumnPositions",t.manualColumnPositions)},y=function(){var t=this,n={};return e.hooks.run(t,"persistentStateLoad","manualColumnPositions",n),n.value},w=function(t){return"BODY"!=t.tagName?"THEAD"==t.parentNode.tagName?!0:(t=t.parentNode,w(t)):!1},b=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:b(t.parentNode):null},x=function(){var c,f=this;m.addEventListener(f.rootElement,"mouseover",function(t){if(w(t.target)){var e=b(t.target);if(e)if(c){var i=f.view.wt.wtTable.getCoords(e).col;i>=0&&(l=i,r(t.target,l-s))}else n.call(f,e)}}),m.addEventListener(f.rootElement,"mousedown",function(t){e.Dom.hasClass(t.target,"manualColumnMover")&&(u=e.helper.pageX(t),i.call(f),c=f,s=h,l=h)}),m.addEventListener(t,"mousemove",function(t){c&&o(e.helper.pageX(t)-u)}),m.addEventListener(t,"mouseup",function(t){c&&(a(),c=!1,T(f.manualColumnPositions,f.countCols()),f.manualColumnPositions.splice(l,0,f.manualColumnPositions.splice(s,1)[0]),f.forceFullRender=!0,f.view.render(),v.call(f),e.hooks.run(f,"afterColumnMove",s,l),n.call(f,d))}),f.addHook("afterDestroy",C)},C=function(){m.clear()},T=function(t,e){if(t.length<e)for(var n=t.length;e>n;n++)t[n]=n};this.beforeInit=function(){this.manualColumnPositions=[]},this.init=function(t){var e=this,n=!!this.getSettings().manualColumnMove;if(n){var r=this.getSettings().manualColumnMove,i=y.call(e);this.manualColumnPositions="undefined"!=typeof i?i:Array.isArray(r)?r:[],"afterInit"==t&&("undefined"!=typeof e.manualColumnPositionsPluginUsages?e.manualColumnPositionsPluginUsages.push("manualColumnMove"):e.manualColumnPositionsPluginUsages=["manualColumnMove"],x.call(this),this.manualColumnPositions.length>0&&(this.forceFullRender=!0,this.render()))}else{var o=e.manualColumnPositionsPluginUsages?e.manualColumnPositionsPluginUsages.indexOf("manualColumnMove"):-1;o>-1&&(C.call(this),this.manualColumnPositions=[],e.manualColumnPositionsPluginUsages[o]=void 0)}},this.modifyCol=function(t){return this.getSettings().manualColumnMove?("undefined"==typeof this.manualColumnPositions[t]&&T(this.manualColumnPositions,t+1),this.manualColumnPositions[t]):t},this.afterRemoveCol=function(t,e){if(this.getSettings().manualColumnMove){var n,r=this.manualColumnPositions;n=r.splice(t,e),r=r.map(function(t){var e,r=t;for(e=0;e<n.length;e++)t>n[e]&&r--;return r}),this.manualColumnPositions=r}},this.afterCreateCol=function(t,e){
if(this.getSettings().manualColumnMove){var n=this.manualColumnPositions;if(n.length){for(var r=[],i=0;e>i;i++)r.push(t+i);t>=n.length?n.concat(r):(n=n.map(function(n){return n>=t?n+e:n}),n.splice.apply(n,[t,0].concat(r))),this.manualColumnPositions=n}}}}var r=new n;e.hooks.add("beforeInit",r.beforeInit),e.hooks.add("afterInit",function(){r.init.call(this,"afterInit")}),e.hooks.add("afterUpdateSettings",function(){r.init.call(this,"afterUpdateSettings")}),e.hooks.add("modifyCol",r.modifyCol),e.hooks.add("afterRemoveCol",r.afterRemoveCol),e.hooks.add("afterCreateCol",r.afterCreateCol),e.hooks.register("afterColumnMove")}(e),function(e){function n(){function n(t){c=this,s=t;var e=this.view.wt.wtTable.getCoords(t).col;if(e>=0){l=e;var n=s.getBoundingClientRect();p=n.left-6,d=parseInt(n.width,10),g.style.top=n.top+"px",g.style.left=p+d+"px",c.rootElement.appendChild(g)}}function r(){g.style.left=p+u+"px"}function i(){var t=this;e.Dom.addClass(g,"active"),e.Dom.addClass(m,"active"),m.style.top=g.style.top,m.style.left=g.style.left,m.style.height=t.view.maximumVisibleElementHeight(0)+"px",t.rootElement.appendChild(m)}function o(){m.style.left=g.style.left}function a(){e.Dom.removeClass(g,"active"),e.Dom.removeClass(m,"active")}var s,l,u,c,h,f,d,p,g=document.createElement("DIV"),m=document.createElement("DIV"),v=e.eventManager(this);g.className="manualColumnResizer",m.className="manualColumnResizerGuide";var y=function(){var t=this;e.hooks.run(t,"persistentStateSave","manualColumnWidths",t.manualColumnWidths)},w=function(){var t=this,n={};return e.hooks.run(t,"persistentStateLoad","manualColumnWidths",n),n.value},b=function(t){return"BODY"!=t.tagName?"THEAD"==t.parentNode.tagName?!0:(t=t.parentNode,b(t)):!1},x=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:x(t.parentNode):null},C=function(){var c,p=this,g=0,m=null;v.addEventListener(p.rootElement,"mouseover",function(t){if(b(t.target)){var e=x(t.target);e&&(c||n.call(p,e))}}),v.addEventListener(p.rootElement,"mousedown",function(t){e.Dom.hasClass(t.target,"manualColumnResizer")&&(i.call(p),c=p,null==m&&(m=setTimeout(function(){g>=2&&(h=p.determineColumnWidth.call(p,l),E(l,h),p.forceFullRender=!0,p.view.render(),e.hooks.run(p,"afterColumnResize",l,h)),g=0,m=null},500),p._registerTimeout(m)),g++,f=e.helper.pageX(t),h=d)}),v.addEventListener(t,"mousemove",function(t){c&&(u=d+(e.helper.pageX(t)-f),h=E(l,u),r(),o())}),v.addEventListener(t,"mouseup",function(){c&&(a(),c=!1,h!=d&&(p.forceFullRender=!0,p.view.render(),y.call(p),e.hooks.run(p,"afterColumnResize",l,h)),n.call(p,s))}),p.addHook("afterDestroy",T)},T=function(){v.clear()};this.beforeInit=function(){this.manualColumnWidths=[]},this.init=function(t){var e=this,n=!!this.getSettings().manualColumnResize;if(n){var r=this.getSettings().manualColumnResize,i=w.call(e);"undefined"!=typeof e.manualColumnWidthsPluginUsages?e.manualColumnWidthsPluginUsages.push("manualColumnResize"):e.manualColumnWidthsPluginUsages=["manualColumnResize"],this.manualColumnWidths="undefined"!=typeof i?i:Array.isArray(r)?r:[],"afterInit"==t&&(C.call(this),this.manualColumnWidths.length>0&&(this.forceFullRender=!0,this.render()))}else{var o=e.manualColumnWidthsPluginUsages?e.manualColumnWidthsPluginUsages.indexOf("manualColumnResize"):-1;o>-1&&(T.call(this),this.manualColumnWidths=[])}};var E=function(t,n){return n=Math.max(n,20),t=e.hooks.run(c,"modifyCol",t),c.manualColumnWidths[t]=n,n};this.modifyColWidth=function(t,e){return e=this.runHooks("modifyCol",e),this.getSettings().manualColumnResize&&this.manualColumnWidths[e]?this.manualColumnWidths[e]:t}}var r=new n;e.hooks.add("beforeInit",r.beforeInit),e.hooks.add("afterInit",function(){r.init.call(this,"afterInit")}),e.hooks.add("afterUpdateSettings",function(){r.init.call(this,"afterUpdateSettings")}),e.hooks.add("modifyColWidth",r.modifyColWidth),e.hooks.register("afterColumnResize")}(e),function(e){function n(){function n(t){c=this,s=t;var e=this.view.wt.wtTable.getCoords(t).row;if(e>=0){l=e;var n=s.getBoundingClientRect();p=n.top-6,d=parseInt(n.height,10),g.style.left=n.left+"px",g.style.top=p+d+"px",c.rootElement.appendChild(g)}}function r(){g.style.top=p+u+"px"}function i(){var t=this;e.Dom.addClass(g,"active"),e.Dom.addClass(m,"active"),m.style.top=g.style.top,m.style.left=g.style.left,m.style.width=t.view.maximumVisibleElementWidth(0)+"px",t.rootElement.appendChild(m)}function o(){m.style.top=g.style.top}function a(){e.Dom.removeClass(g,"active"),e.Dom.removeClass(m,"active")}var s,l,u,c,h,f,d,p,g=document.createElement("DIV"),m=document.createElement("DIV"),v=e.eventManager(this);g.className="manualRowResizer",m.className="manualRowResizerGuide";var y=function(){var t=this;e.hooks.run(t,"persistentStateSave","manualRowHeights",t.manualRowHeights)},w=function(){var t=this,n={};return e.hooks.run(t,"persistentStateLoad","manualRowHeights",n),n.value},b=function(t){return"BODY"!=t.tagName?"TBODY"==t.parentNode.tagName?!0:(t=t.parentNode,b(t)):!1},x=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:x(t.parentNode):null},C=function(){var c,p=this,g=0,m=null;v.addEventListener(p.rootElement,"mouseover",function(t){if(b(t.target)){var e=x(t.target);e&&(c||n.call(p,e))}}),v.addEventListener(p.rootElement,"mousedown",function(t){e.Dom.hasClass(t.target,"manualRowResizer")&&(i.call(p),c=p,null==m&&(m=setTimeout(function(){g>=2&&(E(l,null),p.forceFullRender=!0,p.view.render(),e.hooks.run(p,"afterRowResize",l,h)),g=0,m=null},500),p._registerTimeout(m)),g++,f=e.helper.pageY(t),h=d)}),v.addEventListener(t,"mousemove",function(t){c&&(u=d+(e.helper.pageY(t)-f),h=E(l,u),r(),o())}),v.addEventListener(t,"mouseup",function(t){c&&(a(),c=!1,h!=d&&(p.forceFullRender=!0,p.view.render(),y.call(p),e.hooks.run(p,"afterRowResize",l,h)),n.call(p,s))}),p.addHook("afterDestroy",T)},T=function(){v.clear()};this.beforeInit=function(){this.manualRowHeights=[]},this.init=function(t){var e=this,n=!!this.getSettings().manualRowResize;if(n){var r=this.getSettings().manualRowResize,i=w.call(e);"undefined"!=typeof e.manualRowHeightsPluginUsages?e.manualRowHeightsPluginUsages.push("manualRowResize"):e.manualRowHeightsPluginUsages=["manualRowResize"],this.manualRowHeights="undefined"!=typeof i?i:Array.isArray(r)?r:[],"afterInit"===t?(C.call(this),this.manualRowHeights.length>0&&(this.forceFullRender=!0,this.render())):(this.forceFullRender=!0,this.render())}else{var o=e.manualRowHeightsPluginUsages?e.manualRowHeightsPluginUsages.indexOf("manualRowResize"):-1;o>-1&&(T.call(this),this.manualRowHeights=[],e.manualRowHeightsPluginUsages[o]=void 0)}};var E=function(t,n){return t=e.hooks.run(c,"modifyRow",t),c.manualRowHeights[t]=n,n};this.modifyRowHeight=function(t,e){return this.getSettings().manualRowResize&&(e=this.runHooks("modifyRow",e),void 0!==this.manualRowHeights[e])?this.manualRowHeights[e]:t}}var r=new n;e.hooks.add("beforeInit",r.beforeInit),e.hooks.add("afterInit",function(){r.init.call(this,"afterInit")}),e.hooks.add("afterUpdateSettings",function(){r.init.call(this,"afterUpdateSettings")}),e.hooks.add("modifyRowHeight",r.modifyRowHeight),e.hooks.register("afterRowResize")}(e),function(){function t(){var t=this,e=t.getSettings().observeChanges;e?(t.observer&&i.call(t),n.call(t),a.call(t)):e||i.call(t)}function n(){var t=this;t.observeChangesActive=!0,t.pauseObservingChanges=function(){t.observeChangesActive=!1},t.resumeObservingChanges=function(){t.observeChangesActive=!0},t.observedData=t.getData(),t.observer=N.observe(t.observedData,function(e){t.observeChangesActive&&(r.call(t,e),t.render()),t.runHooks("afterChangesObserved")})}function r(t){function e(t){var e;return e=r(t),e=n(e)}function n(t){var e=[];return t.filter(function(t){var n=i(t.path);if(-1!=["add","remove"].indexOf(t.op)&&!isNaN(n.col)){if(-1!=e.indexOf(n.col))return!1;e.push(n.col)}return!0})}function r(t){return t.filter(function(t){return!/[/]length/gi.test(t.path)})}function i(t){var e=t.match(/^\/(\d+)\/?(.*)?$/);return{row:parseInt(e[1],10),col:/^\d*$/.test(e[2])?parseInt(e[2],10):e[2]}}for(var o=this,a=e(t),s=0,l=a.length;l>s;s++){var u=a[s],c=i(u.path);switch(u.op){case"add":isNaN(c.col)?o.runHooks("afterCreateRow",c.row):o.runHooks("afterCreateCol",c.col);break;case"remove":isNaN(c.col)?o.runHooks("afterRemoveRow",c.row,1):o.runHooks("afterRemoveCol",c.col,1);break;case"replace":o.runHooks("afterChange",[c.row,c.col,null,u.value],"external")}}}function i(){var t=this;t.observer&&(o.call(t),s.call(t))}function o(){var t=this;N.unobserve(t.observedData,t.observer),delete t.observeChangesActive,delete t.pauseObservingChanges,delete t.resumeObservingChanges}function a(){var t=this;t.addHook("afterDestroy",i),t.addHook("afterCreateRow",l),t.addHook("afterRemoveRow",l),t.addHook("afterCreateCol",l),t.addHook("afterRemoveCol",l),t.addHook("afterChange",function(t,e){"loadData"!=e&&l.call(this)})}function s(){var t=this;t.removeHook("afterDestroy",i),t.removeHook("afterCreateRow",l),t.removeHook("afterRemoveRow",l),t.removeHook("afterCreateCol",l),t.removeHook("afterRemoveCol",l),t.removeHook("afterChange",l)}function l(){var t=this;t.pauseObservingChanges(),t.addHookOnce("afterChangesObserved",function(){t.resumeObservingChanges()})}e.hooks.add("afterLoadData",t),e.hooks.add("afterUpdateSettings",t),e.hooks.register("afterChangesObserved")}(),function(t){function n(){function n(){var t=this;for(var e in o)o.hasOwnProperty(e)&&t.addHook(e,o[e])}function r(){var t=this;for(var e in o)o.hasOwnProperty(e)&&t.removeHook(e,o[e])}var i=this;this.init=function(){var e=this,o=e.getSettings().persistentState;return i.enabled=!!o,i.enabled?(e.storage||(e.storage=new t(e.rootElement.id)),e.resetState=i.resetValue,void n.call(e)):void r.call(e)},this.saveValue=function(t,e){var n=this;n.storage.saveValue(t,e)},this.loadValue=function(t,e){var n=this;e.value=n.storage.loadValue(t)},this.resetValue=function(t){var e=this;"undefined"!=typeof t?e.storage.reset(t):e.storage.resetAll()};var o={persistentStateSave:i.saveValue,persistentStateLoad:i.loadValue,persistentStateReset:i.resetValue};for(var a in o)o.hasOwnProperty(a)&&e.hooks.register(a)}var r=new n;e.hooks.add("beforeInit",r.init),e.hooks.add("afterUpdateSettings",r.init)}(o),function(t){t.UndoRedo=function(e){var n=this;this.instance=e,this.doneActions=[],this.undoneActions=[],this.ignoreNewActions=!1,e.addHook("afterChange",function(e,r){if(e){var i=new t.UndoRedo.ChangeAction(e);n.done(i)}}),e.addHook("afterCreateRow",function(e,r,i){if(!i){var o=new t.UndoRedo.CreateRowAction(e,r);n.done(o)}}),e.addHook("beforeRemoveRow",function(e,r){var i=n.instance.getData();e=(i.length+e)%i.length;var o=i.slice(e,e+r),a=new t.UndoRedo.RemoveRowAction(e,o);n.done(a)}),e.addHook("afterCreateCol",function(e,r,i){if(!i){var o=new t.UndoRedo.CreateColumnAction(e,r);n.done(o)}}),e.addHook("beforeRemoveCol",function(r,i){var o=n.instance.getData();r=(n.instance.countCols()+r)%n.instance.countCols();for(var a=[],s=0,l=o.length;l>s;s++)a[s]=o[s].slice(r,r+i);var u;Array.isArray(e.getSettings().colHeaders)&&(u=e.getSettings().colHeaders.slice(r,r+a.length));var c=new t.UndoRedo.RemoveColumnAction(r,a,u);n.done(c)}),e.addHook("beforeCellAlignment",function(e,r,i,o){var a=new t.UndoRedo.CellAlignmentAction(e,r,i,o);n.done(a)})},t.UndoRedo.prototype.done=function(t){this.ignoreNewActions||(this.doneActions.push(t),this.undoneActions.length=0)},t.UndoRedo.prototype.undo=function(){if(this.isUndoAvailable()){var t=this.doneActions.pop();this.ignoreNewActions=!0;var e=this;t.undo(this.instance,function(){e.ignoreNewActions=!1,e.undoneActions.push(t)})}},t.UndoRedo.prototype.redo=function(){if(this.isRedoAvailable()){var t=this.undoneActions.pop();this.ignoreNewActions=!0;var e=this;t.redo(this.instance,function(){e.ignoreNewActions=!1,e.doneActions.push(t)})}},t.UndoRedo.prototype.isUndoAvailable=function(){return this.doneActions.length>0},t.UndoRedo.prototype.isRedoAvailable=function(){return this.undoneActions.length>0},t.UndoRedo.prototype.clear=function(){this.doneActions.length=0,this.undoneActions.length=0},t.UndoRedo.Action=function(){},t.UndoRedo.Action.prototype.undo=function(){},t.UndoRedo.Action.prototype.redo=function(){},t.UndoRedo.ChangeAction=function(t){this.changes=t},t.helper.inherit(t.UndoRedo.ChangeAction,t.UndoRedo.Action),t.UndoRedo.ChangeAction.prototype.undo=function(e,n){for(var r=t.helper.deepClone(this.changes),i=e.countEmptyRows(!0),o=e.countEmptyCols(!0),a=0,s=r.length;s>a;a++)r[a].splice(3,1);e.addHookOnce("afterChange",n),e.setDataAtRowProp(r,null,null,"undo");for(var a=0,s=r.length;s>a;a++)e.getSettings().minSpareRows&&r[a][0]+1+e.getSettings().minSpareRows===e.countRows()&&i==e.getSettings().minSpareRows&&(e.alter("remove_row",parseInt(r[a][0]+1,10),e.getSettings().minSpareRows),e.undoRedo.doneActions.pop()),e.getSettings().minSpareCols&&r[a][1]+1+e.getSettings().minSpareCols===e.countCols()&&o==e.getSettings().minSpareCols&&(e.alter("remove_col",parseInt(r[a][1]+1,10),e.getSettings().minSpareCols),e.undoRedo.doneActions.pop())},t.UndoRedo.ChangeAction.prototype.redo=function(e,n){for(var r=t.helper.deepClone(this.changes),i=0,o=r.length;o>i;i++)r[i].splice(2,1);e.addHookOnce("afterChange",n),e.setDataAtRowProp(r,null,null,"redo")},t.UndoRedo.CreateRowAction=function(t,e){this.index=t,this.amount=e},t.helper.inherit(t.UndoRedo.CreateRowAction,t.UndoRedo.Action),t.UndoRedo.CreateRowAction.prototype.undo=function(t,e){var n=t.countRows(),r=t.getSettings().minSpareRows;this.index>=n&&this.index-r<n&&(this.index-=r),t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.amount)},t.UndoRedo.CreateRowAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateRow",e),t.alter("insert_row",this.index+1,this.amount)},t.UndoRedo.RemoveRowAction=function(t,e){this.index=t,this.data=e},t.helper.inherit(t.UndoRedo.RemoveRowAction,t.UndoRedo.Action),t.UndoRedo.RemoveRowAction.prototype.undo=function(t,e){var n=[this.index,0];Array.prototype.push.apply(n,this.data),Array.prototype.splice.apply(t.getData(),n),t.addHookOnce("afterRender",e),t.render()},t.UndoRedo.RemoveRowAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveRow",e),t.alter("remove_row",this.index,this.data.length)},t.UndoRedo.CreateColumnAction=function(t,e){this.index=t,this.amount=e},t.helper.inherit(t.UndoRedo.CreateColumnAction,t.UndoRedo.Action),t.UndoRedo.CreateColumnAction.prototype.undo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount)},t.UndoRedo.CreateColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterCreateCol",e),t.alter("insert_col",this.index+1,this.amount)},t.UndoRedo.CellAlignmentAction=function(t,e,n,r){this.stateBefore=t,this.range=e,this.type=n,this.alignment=r},t.UndoRedo.CellAlignmentAction.prototype.undo=function(t,e){if(t.contextMenu){for(var n=this.range.from.row;n<=this.range.to.row;n++)for(var r=this.range.from.col;r<=this.range.to.col;r++)t.setCellMeta(n,r,"className",this.stateBefore[n][r]||" htLeft");t.addHookOnce("afterRender",e),t.render()}},t.UndoRedo.CellAlignmentAction.prototype.redo=function(t,e){if(t.contextMenu){for(var n=this.range.from.row;n<=this.range.to.row;n++)for(var r=this.range.from.col;r<=this.range.to.col;r++)t.contextMenu.align.call(t,this.range,this.type,this.alignment);t.addHookOnce("afterRender",e),t.render()}},t.UndoRedo.RemoveColumnAction=function(t,e,n){this.index=t,this.data=e,this.amount=this.data[0].length,this.headers=n},t.helper.inherit(t.UndoRedo.RemoveColumnAction,t.UndoRedo.Action),t.UndoRedo.RemoveColumnAction.prototype.undo=function(t,e){for(var n,r,i=0,o=t.getData().length;o>i;i++)n=t.getSourceDataAtRow(i),r=[this.index,0],Array.prototype.push.apply(r,this.data[i]),Array.prototype.splice.apply(n,r);"undefined"!=typeof this.headers&&(r=[this.index,0],Array.prototype.push.apply(r,this.headers),Array.prototype.splice.apply(t.getSettings().colHeaders,r)),t.addHookOnce("afterRender",e),t.render()},t.UndoRedo.RemoveColumnAction.prototype.redo=function(t,e){t.addHookOnce("afterRemoveCol",e),t.alter("remove_col",this.index,this.amount)}}(e),function(t){function e(){var e=this,a="undefined"==typeof e.getSettings().undo||e.getSettings().undo;a?e.undoRedo||(e.undoRedo=new t.UndoRedo(e),i(e),e.addHook("beforeKeyDown",n),e.addHook("afterChange",r)):e.undoRedo&&(delete e.undoRedo,o(e),e.removeHook("beforeKeyDown",n),e.removeHook("afterChange",r))}function n(t){var e=this,n=(t.ctrlKey||t.metaKey)&&!t.altKey;n&&(89===t.keyCode||t.shiftKey&&90===t.keyCode?(e.undoRedo.redo(),t.stopImmediatePropagation()):90===t.keyCode&&(e.undoRedo.undo(),t.stopImmediatePropagation()))}function r(t,e){var n=this;return"loadData"==e?n.undoRedo.clear():void 0}function i(t){t.undo=function(){return t.undoRedo.undo()},t.redo=function(){return t.undoRedo.redo()},t.isUndoAvailable=function(){return t.undoRedo.isUndoAvailable()},t.isRedoAvailable=function(){return t.undoRedo.isRedoAvailable()},t.clearUndo=function(){return t.undoRedo.clear()}}function o(t){delete t.undo,delete t.redo,delete t.isUndoAvailable,delete t.isRedoAvailable,delete t.clearUndo}t.hooks.add("afterInit",e),t.hooks.add("afterUpdateSettings",e)}(e),a.prototype.setBoundaries=function(t){this.boundaries=t},a.prototype.setCallback=function(t){this.callback=t},a.prototype.check=function(t,e){var n=0,r=0;e<this.boundaries.top?r=e-this.boundaries.top:e>this.boundaries.bottom&&(r=e-this.boundaries.bottom),t<this.boundaries.left?n=t-this.boundaries.left:t>this.boundaries.right&&(n=t-this.boundaries.right),this.callback(n,r)};var q,j;if("undefined"!=typeof e){var z=function(e){e.dragToScrollListening=!1;var n=e.view.wt.wtScrollbars.vertical.scrollHandler;q=new a,n!==t&&(q.setBoundaries(n.getBoundingClientRect()),q.setCallback(function(t,e){0>t?n.scrollLeft-=50:t>0&&(n.scrollLeft+=50),0>e?n.scrollTop-=20:e>0&&(n.scrollTop+=20)}),e.dragToScrollListening=!0)};e.hooks.add("afterInit",function(){var t=this,n=e.eventManager(this);n.addEventListener(document,"mouseup",function(){t.dragToScrollListening=!1}),n.addEventListener(document,"mousemove",function(e){t.dragToScrollListening&&q.check(e.clientX,e.clientY)})}),e.hooks.add("afterDestroy",function(){var t=e.eventManager(this);t.clear()}),e.hooks.add("afterOnCellMouseDown",function(){z(this)}),e.hooks.add("afterOnCellCornerMouseDown",function(){z(this)}),e.plugins.DragToScroll=a}if(function(t,e,n){function r(r){function i(){r.isListening()&&r.selection.empty()}function o(t){var e,i,o,a,s,l,u,c,d,p;r.isListening()&&r.selection.isSelected()&&(e=t,i=n.parse(e),o=r.getSelected(),a=new h(o[0],o[1]),s=new h(o[2],o[3]),l=new f(a,a,s),u=l.getTopLeftCorner(),c=l.getBottomRightCorner(),d=u,p=new h(Math.max(c.row,i.length-1+u.row),Math.max(c.col,i[0].length-1+u.col)),r.addHookOnce("afterChange",function(t,e){t&&t.length&&this.selectCell(d.row,d.col,p.row,p.col)}),r.populateFromArray(d.row,d.col,i,p.row,p.col,"paste",r.getSettings().pasteMode))}function a(e){var n;if(r.getSelected()){if(t.helper.isCtrlKey(e.keyCode))return s.setCopyableText(),void e.stopImmediatePropagation();n=(e.ctrlKey||e.metaKey)&&!e.altKey,e.keyCode==t.helper.keyCode.A&&n&&r._registerTimeout(setTimeout(t.helper.proxy(s.setCopyableText,s),0))}}var s=this;this.copyPasteInstance=e.getInstance(),this.copyPasteInstance.onCut(i),this.copyPasteInstance.onPaste(o),r.addHook("beforeKeyDown",a),this.destroy=function(){this.copyPasteInstance.removeCallback(i),this.copyPasteInstance.removeCallback(o),this.copyPasteInstance.destroy(),r.removeHook("beforeKeyDown",a)},r.addHook("afterDestroy",t.helper.proxy(this.destroy,this)),this.triggerPaste=t.helper.proxy(this.copyPasteInstance.triggerPaste,this.copyPasteInstance),this.triggerCut=t.helper.proxy(this.copyPasteInstance.triggerCut,this.copyPasteInstance),this.setCopyableText=function(){var e=r.getSettings(),n=e.copyRowsLimit,i=e.copyColsLimit,o=r.getSelectedRange(),a=o.getTopLeftCorner(),s=o.getBottomRightCorner(),l=a.row,u=a.col,c=s.row,h=s.col,f=Math.min(c,l+n-1),d=Math.min(h,u+i-1);r.copyPaste.copyPasteInstance.copyable(r.getCopyableData(l,u,f,d)),(c!==f||h!==d)&&t.hooks.run(r,"afterCopyLimit",c-l+1,h-u+1,n,i)}}function i(){var t=this,e=t.getSettings().copyPaste!==!1;e&&!t.copyPaste?t.copyPaste=new r(t):!e&&t.copyPaste&&(t.copyPaste.destroy(),delete t.copyPaste)}t.hooks.add("afterInit",i),t.hooks.add("afterUpdateSettings",i),t.hooks.register("afterCopyLimit")}(e,I,SheetClip),function(t){function e(){var e=this,n=!!e.getSettings().search;n?e.search=new t.Search(e):delete e.search}t.Search=function(e){this.query=function(n,r,i){var o=e.countRows(),a=e.countCols(),s=[];r||(r=t.Search.global.getDefaultCallback()),i||(i=t.Search.global.getDefaultQueryMethod());for(var l=0;o>l;l++)for(var u=0;a>u;u++){var c=e.getDataAtCell(l,u),h=e.getCellMeta(l,u),f=h.search.callback||r,d=h.search.queryMethod||i,p=d(n,c);if(p){var g={row:l,col:u,data:c};s.push(g)}f&&f(e,l,u,c,p)}return s}},t.Search.DEFAULT_CALLBACK=function(t,e,n,r,i){t.getCellMeta(e,n).isSearchResult=i},t.Search.DEFAULT_QUERY_METHOD=function(t,e){return"undefined"!=typeof t&&null!=t&&t.toLowerCase&&0!==t.length?"undefined"==typeof e||null==e?!1:-1!=e.toString().toLowerCase().indexOf(t.toLowerCase()):!1},t.Search.DEFAULT_SEARCH_RESULT_CLASS="htSearchResult",t.Search.global=function(){var e=t.Search.DEFAULT_CALLBACK,n=t.Search.DEFAULT_QUERY_METHOD,r=t.Search.DEFAULT_SEARCH_RESULT_CLASS;return{getDefaultCallback:function(){return e},setDefaultCallback:function(t){e=t},getDefaultQueryMethod:function(){return n},setDefaultQueryMethod:function(t){n=t},getDefaultSearchResultClass:function(){return r},setDefaultSearchResultClass:function(t){r=t}}}(),t.SearchCellDecorator=function(e,n,r,i,o,a,s){var l="object"==typeof s.search&&s.search.searchResultClass||t.Search.global.getDefaultSearchResultClass();s.isSearchResult?t.Dom.addClass(n,l):t.Dom.removeClass(n,l)};var n=t.renderers.cellDecorator;t.renderers.cellDecorator=function(e,r,i,o,a,s,l){n.apply(this,arguments),t.SearchCellDecorator.apply(this,arguments)},t.hooks.add("afterInit",e),t.hooks.add("afterUpdateSettings",e)}(e),l.prototype.canMergeRange=function(t){return!t.isSingle()},l.prototype.mergeRange=function(t){if(this.canMergeRange(t)){var e=t.getTopLeftCorner(),n=t.getBottomRightCorner(),r={};r.row=e.row,r.col=e.col,r.rowspan=n.row-e.row+1,r.colspan=n.col-e.col+1,this.mergedCellInfoCollection.setInfo(r)}},l.prototype.mergeOrUnmergeSelection=function(t){var e=this.mergedCellInfoCollection.getInfo(t.from.row,t.from.col);e?this.unmergeSelection(t.from):this.mergeSelection(t)},l.prototype.mergeSelection=function(t){this.mergeRange(t)},l.prototype.unmergeSelection=function(t){var e=this.mergedCellInfoCollection.getInfo(t.row,t.col);this.mergedCellInfoCollection.removeInfo(e.row,e.col)},l.prototype.applySpanProperties=function(t,e,n){var r=this.mergedCellInfoCollection.getInfo(e,n);r?r.row===e&&r.col===n?(t.setAttribute("rowspan",r.rowspan),t.setAttribute("colspan",r.colspan)):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"),t.style.display="none"):(t.removeAttribute("rowspan"),t.removeAttribute("colspan"))},l.prototype.modifyTransform=function(t,e,n){var r=function(t,e){return e.row>=t.row&&e.row<=t.row+t.rowspan-1?!0:!1},i=function(t,e){return e.col>=t.col&&e.col<=t.col+t.colspan-1?!0:!1},o=function(t){return new h(e.to.row+t.row,e.to.col+t.col)},a={row:n.row,col:n.col};if("modifyTransformStart"==t){this.lastDesiredCoords||(this.lastDesiredCoords=new h(null,null));for(var s,l=new h(e.highlight.row,e.highlight.col),u=this.mergedCellInfoCollection.getInfo(l.row,l.col),c=0,d=this.mergedCellInfoCollection.length;d>c;c++){var p=this.mergedCellInfoCollection[c];if(p=new h(p.row+p.rowspan-1,p.col+p.colspan-1),e.includes(p)){s=!0;break}}if(u){var g=new h(u.row,u.col),m=new h(u.row+u.rowspan-1,u.col+u.colspan-1),v=new f(g,g,m);v.includes(this.lastDesiredCoords)||(this.lastDesiredCoords=new h(null,null)),a.row=this.lastDesiredCoords.row?this.lastDesiredCoords.row-l.row:a.row,a.col=this.lastDesiredCoords.col?this.lastDesiredCoords.col-l.col:a.col,n.row>0?a.row=u.row+u.rowspan-1-l.row+n.row:n.row<0&&(a.row=l.row-u.row+n.row),n.col>0?a.col=u.col+u.colspan-1-l.col+n.col:n.col<0&&(a.col=l.col-u.col+n.col)}var y=new h(e.highlight.row+a.row,e.highlight.col+a.col),w=this.mergedCellInfoCollection.getInfo(y.row,y.col);w&&(this.lastDesiredCoords=y,a={row:w.row-l.row,col:w.col-l.col})}else if("modifyTransformEnd"==t)for(var c=0,d=this.mergedCellInfoCollection.length;d>c;c++){var b=this.mergedCellInfoCollection[c],g=new h(b.row,b.col),m=new h(b.row+b.rowspan-1,b.col+b.colspan-1),x=new f(g,g,m),C=e.getBordersSharedWith(x);if(x.isEqual(e))e.setDirection("NW-SE");else if(C.length>0){var T=e.highlight.isEqual(x.from);C.indexOf("top")>-1?e.to.isSouthEastOf(x.from)&&T?e.setDirection("NW-SE"):e.to.isSouthWestOf(x.from)&&T&&e.setDirection("NE-SW"):C.indexOf("bottom")>-1&&(e.to.isNorthEastOf(x.from)&&T?e.setDirection("SW-NE"):e.to.isNorthWestOf(x.from)&&T&&e.setDirection("SE-NW"))}var y=o(a),E=r(b,y),k=i(b,y);e.includesRange(x)&&(x.includes(y)||E||k)&&(E&&(a.row<0?a.row-=b.rowspan-1:a.row>0&&(a.row+=b.rowspan-1)),k&&(a.col<0?a.col-=b.colspan-1:a.col>0&&(a.col+=b.colspan-1)))}0!==a.row&&(n.row=a.row),0!==a.col&&(n.col=a.col)},"undefined"==typeof e)throw new Error("Handsontable is not defined");var W=function(){var t=this,e=t.getSettings().mergeCells;e&&(t.mergeCells||(t.mergeCells=new l(e)))},U=function(){var t=this;t.mergeCells&&(t.view.wt.wtTable.getCell=function(e){if(t.getSettings().mergeCells){var n=t.mergeCells.mergedCellInfoCollection.getInfo(e.row,e.col);n&&(e=n)}return _.prototype.getCell.call(this,e)})},Y=function(t){if(this.mergeCells){var e=(t.ctrlKey||t.metaKey)&&!t.altKey;e&&77===t.keyCode&&(this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render(),t.stopImmediatePropagation())}},X=function(t){this.getSettings().mergeCells&&(t.items.push(e.ContextMenu.SEPARATOR),t.items.push({key:"mergeCells",name:function(){var t=this.getSelected(),e=this.mergeCells.mergedCellInfoCollection.getInfo(t[0],t[1]);return e?"Unmerge cells":"Merge cells"},callback:function(){this.mergeCells.mergeOrUnmergeSelection(this.getSelectedRange()),this.render()},disabled:function(){return!1}}))},F=function(t,e,n,r,i,o){this.mergeCells&&this.mergeCells.applySpanProperties(t,e,n)},G=function(t){return function(e){var n=this.getSettings().mergeCells;if(n){var r=this.getSelectedRange();if(this.mergeCells.modifyTransform(t,r,e),"modifyTransformEnd"===t){var i=this.countRows(),o=this.countCols();r.from.row<0?r.from.row=0:r.from.row>0&&r.from.row>=i&&(r.from.row=r.from-1),r.from.col<0?r.from.col=0:r.from.col>0&&r.from.col>=o&&(r.from.col=o-1)}}}},K=function(t){this.lastDesiredCoords=null;var e=this.getSettings().mergeCells;if(e){var n=this.getSelectedRange();n.highlight=new h(n.highlight.row,n.highlight.col),n.to=t;var r=!1;do{r=!1;for(var i=0,o=this.mergeCells.mergedCellInfoCollection.length;o>i;i++){var a=this.mergeCells.mergedCellInfoCollection[i],s=new h(a.row,a.col),l=new h(a.row+a.rowspan-1,a.col+a.colspan-1),u=new f(s,s,l);n.expandByRange(u)&&(t.row=n.to.row,t.col=n.to.col,r=!0)}}while(r)}},Z=function(t,e){if(e&&"area"==e){var n=this.getSettings().mergeCells;if(n)for(var r=this.getSelectedRange(),i=new f(r.from,r.from,r.from),o=new f(r.to,r.to,r.to),a=0,s=this.mergeCells.mergedCellInfoCollection.length;s>a;a++){var l=this.mergeCells.mergedCellInfoCollection[a],u=new h(l.row,l.col),c=new h(l.row+l.rowspan-1,l.col+l.colspan-1),d=new f(u,u,c);i.expandByRange(d)&&(t[0]=i.from.row,t[1]=i.from.col),o.expandByRange(d)&&(t[2]=o.from.row,t[3]=o.from.col)}}},J=function(t,e,n){var r=this.getSettings().mergeCells;if(r){var i=this.mergeCells.mergedCellInfoCollection.getInfo(t,e);!i||i.row==t&&i.col==e||(n.copyable=!1)}},Q=function(t){var e=this.getSettings().mergeCells;if(e)for(var n,r=this.countCols(),i=0;r>i;i++){if(n=this.mergeCells.mergedCellInfoCollection.getInfo(t.startRow,i),n&&n.row<t.startRow)return t.startRow=n.row,Q.call(this,t);if(n=this.mergeCells.mergedCellInfoCollection.getInfo(t.endRow,i)){var o=n.row+n.rowspan-1;if(o>t.endRow)return t.endRow=o,Q.call(this,t)}}},tt=function(t){var e=this.getSettings().mergeCells;if(e)for(var n,r=this.countRows(),i=0;r>i;i++){if(n=this.mergeCells.mergedCellInfoCollection.getInfo(i,t.startColumn),n&&n.col<t.startColumn)return t.startColumn=n.col,tt.call(this,t);if(n=this.mergeCells.mergedCellInfoCollection.getInfo(i,t.endColumn)){var o=n.col+n.colspan-1;if(o>t.endColumn)return t.endColumn=o,tt.call(this,t)}}},et=function(t){if(t&&this.mergeCells){var e=this.mergeCells.mergedCellInfoCollection,n=this.getSelectedRange();for(var r in e)if(n.highlight.row==e[r].row&&n.highlight.col==e[r].col&&n.to.row==e[r].row+e[r].rowspan-1&&n.to.col==e[r].col+e[r].colspan-1)return!1}return t};e.hooks.add("beforeInit",W),e.hooks.add("afterInit",U),e.hooks.add("beforeKeyDown",Y),e.hooks.add("modifyTransformStart",G("modifyTransformStart")),e.hooks.add("modifyTransformEnd",G("modifyTransformEnd")),e.hooks.add("beforeSetRangeEnd",K),e.hooks.add("beforeDrawBorders",Z),e.hooks.add("afterIsMultipleSelection",et),e.hooks.add("afterRenderer",F),e.hooks.add("afterContextMenuDefaultOptions",X),e.hooks.add("afterGetCellMeta",J),e.hooks.add("afterViewportRowCalculatorOverride",Q),e.hooks.add("afterViewportColumnCalculatorOverride",tt),e.MergeCells=l,function(){function t(){}var n,r=function(t){return"boolean"==typeof t&&t===!0?!0:"object"==typeof t&&t.length>0?!0:!1},i=function(){r(this.getSettings().customBorders)&&(this.customBorders||(n=this,this.customBorders=new t))},o=function(t){for(var e=0;e<n.view.wt.selections.length;e++)if(n.view.wt.selections[e].settings.className==t)return e;return-1},a=function(t){var e={row:t.row,col:t.col},r=new k(t,new f(e,e,e)),i=o(t.className);i>=0?n.view.wt.selections[i]=r:n.view.wt.selections.push(r)},s=function(t,e,n){var r=p(t,e);r=g(r,n),this.setCellMeta(t,e,"borders",r),a(r)},l=function(t){for(var e=t.range,n=e.from.row;n<=e.to.row;n++)for(var r=e.from.col;r<=e.to.col;r++){var i=p(n,r),o=0;n==e.from.row&&(o++,t.hasOwnProperty("top")&&(i.top=t.top)),n==e.to.row&&(o++,t.hasOwnProperty("bottom")&&(i.bottom=t.bottom)),r==e.from.col&&(o++,t.hasOwnProperty("left")&&(i.left=t.left)),r==e.to.col&&(o++,t.hasOwnProperty("right")&&(i.right=t.right)),o>0&&(this.setCellMeta(n,r,"borders",i),a(i))}},u=function(t,e){return"border_row"+t+"col"+e},c=function(){return{width:1,color:"#000"}},h=function(){return{hide:!0}},d=function(){return{width:1,color:"#000",cornerVisible:!1}},p=function(t,e){return{className:u(t,e),border:d(),row:t,col:e,top:h(),right:h(),bottom:h(),left:h()}},g=function(t,e){return e.hasOwnProperty("border")&&(t.border=e.border),e.hasOwnProperty("top")&&(t.top=e.top),e.hasOwnProperty("right")&&(t.right=e.right),e.hasOwnProperty("bottom")&&(t.bottom=e.bottom),e.hasOwnProperty("left")&&(t.left=e.left),t},m=function(t){for(var e=document.querySelectorAll("."+t),n=0;n<e.length;n++)if(e[n]&&"TD"!=e[n].nodeName){var r=e[n].parentNode;r.parentNode&&r.parentNode.removeChild(r)}},v=function(t,e){var n=u(t,e);m(n),this.removeCellMeta(t,e,"borders")},y=function(t,e,n,r){var i=this.getCellMeta(t,e).borders;i&&void 0!=i.border||(i=p(t,e)),i[n]=r?h():c(),this.setCellMeta(t,e,"borders",i);var o=u(t,e);m(o),a(i),this.render()},w=function(t,e,n){if(t.from.row==t.to.row&&t.from.col==t.to.col)"noBorders"==e?v.call(this,t.from.row,t.from.col):y.call(this,t.from.row,t.from.col,e,n);else switch(e){case"noBorders":for(var r=t.from.col;r<=t.to.col;r++)for(var i=t.from.row;i<=t.to.row;i++)v.call(this,i,r);break;case"top":for(var o=t.from.col;o<=t.to.col;o++)y.call(this,t.from.row,o,e,n);break;case"right":for(var a=t.from.row;a<=t.to.row;a++)y.call(this,a,t.to.col,e);break;case"bottom":for(var s=t.from.col;s<=t.to.col;s++)y.call(this,t.to.row,s,e);break;case"left":for(var l=t.from.row;l<=t.to.row;l++)y.call(this,l,t.from.col,e)}},b=function(t,e){var n=!1;return t.getSelectedRange().forAll(function(r,i){var o=t.getCellMeta(r,i).borders;if(o){if(!e)return n=!0,!1;if(!o[e].hasOwnProperty("hide"))return n=!0,
!1}}),n},x=function(t){return"<span class='selected'>"+String.fromCharCode(10003)+"</span>"+t},C=function(t){this.getSettings().customBorders&&(t.items.push(e.ContextMenu.SEPARATOR),t.items.push({key:"borders",name:"Borders",submenu:{items:{top:{name:function(){var t="Top",e=b(this,"top");return e&&(t=x(t)),t},callback:function(){var t=b(this,"top");w.call(this,this.getSelectedRange(),"top",t)},disabled:!1},right:{name:function(){var t="Right",e=b(this,"right");return e&&(t=x(t)),t},callback:function(){var t=b(this,"right");w.call(this,this.getSelectedRange(),"right",t)},disabled:!1},bottom:{name:function(){var t="Bottom",e=b(this,"bottom");return e&&(t=x(t)),t},callback:function(){var t=b(this,"bottom");w.call(this,this.getSelectedRange(),"bottom",t)},disabled:!1},left:{name:function(){var t="Left",e=b(this,"left");return e&&(t=x(t)),t},callback:function(){var t=b(this,"left");w.call(this,this.getSelectedRange(),"left",t)},disabled:!1},remove:{name:"Remove border(s)",callback:function(){w.call(this,this.getSelectedRange(),"noBorders")},disabled:function(){return!b(this)}}}}}))};e.hooks.add("beforeInit",i),e.hooks.add("afterContextMenuDefaultOptions",C),e.hooks.add("afterInit",function(){var t=this.getSettings().customBorders;if(t){for(var e=0;e<t.length;e++)t[e].range?l.call(this,t[e]):s.call(this,t[e].row,t[e].col,t[e]);this.render(),this.view.wt.draw(!0)}}),e.CustomBorders=t}(),function(e){function n(){function n(t){j=this,f=t;var e=this.view.wt.wtTable.getCoords(t).row;if(e>=0){h=e;var n=f.getBoundingClientRect();c=n.top,d.style.top=c+"px",d.style.left=n.left+"px",j.rootElement.appendChild(d)}}function r(t,e){var n=t.getBoundingClientRect(),r=6;d.style.top=e>0?n.top+n.height-r+"px":n.top+"px"}function i(){var t=this;e.Dom.addClass(d,"active"),e.Dom.addClass(p,"active");var n=f.getBoundingClientRect();p.style.width=t.view.maximumVisibleElementWidth(0)+"px",p.style.height=n.height+"px",p.style.top=c+"px",p.style.left=d.style.left,t.rootElement.appendChild(p)}function o(t){p.style.top=c+t+"px"}function a(){e.Dom.removeClass(d,"active"),e.Dom.removeClass(p,"active")}var s,l,u,c,h,f,d=document.createElement("DIV"),p=document.createElement("DIV"),g=e.eventManager(this);d.className="manualRowMover",p.className="manualRowMoverGuide";var m=function(){var t=this;e.hooks.run(t,"persistentStateSave","manualRowPositions",t.manualRowPositions)},v=function(){var t=this,n={};return e.hooks.run(t,"persistentStateLoad","manualRowPositions",n),n.value},y=function(t){return"BODY"!=t.tagName?"TBODY"==t.parentNode.tagName?!0:(t=t.parentNode,y(t)):!1},w=function(t){return"TABLE"!=t.tagName?"TH"==t.tagName?t:w(t.parentNode):null},b=function(){var c,d=this;g.addEventListener(d.rootElement,"mouseover",function(t){if(y(t.target)){var e=w(t.target);e&&(c?(l=d.view.wt.wtTable.getCoords(e).row,r(e,l-s)):n.call(d,e))}}),g.addEventListener(d.rootElement,"mousedown",function(t){e.Dom.hasClass(t.target,"manualRowMover")&&(u=e.helper.pageY(t),i.call(d),c=d,s=h,l=h)}),g.addEventListener(t,"mousemove",function(t){c&&o(e.helper.pageY(t)-u)}),g.addEventListener(t,"mouseup",function(t){c&&(a(),c=!1,C(d.manualRowPositions,d.countRows()),d.manualRowPositions.splice(l,0,d.manualRowPositions.splice(s,1)[0]),d.forceFullRender=!0,d.view.render(),m.call(d),e.hooks.run(d,"afterRowMove",s,l),n.call(d,f))}),d.addHook("afterDestroy",x)},x=function(){g.clear()},C=function(t,e){if(t.length<e)for(var n=t.length;e>n;n++)t[n]=n};this.beforeInit=function(){this.manualRowPositions=[]},this.init=function(t){var e=this,n=!!e.getSettings().manualRowMove;if(n){var r=e.getSettings().manualRowMove,i=v.call(e);"undefined"!=typeof e.manualRowPositionsPluginUsages?e.manualRowPositionsPluginUsages.push("manualColumnMove"):e.manualRowPositionsPluginUsages=["manualColumnMove"],this.manualRowPositions="undefined"!=typeof i?i:Array.isArray(r)?r:[],"afterInit"===t&&(b.call(this),this.manualRowPositions.length>0&&(e.forceFullRender=!0,e.render()))}else{var o=e.manualRowPositionsPluginUsages?e.manualRowPositionsPluginUsages.indexOf("manualColumnMove"):-1;o>-1&&(x.call(this),e.manualRowPositions=[],e.manualRowPositionsPluginUsages[o]=void 0)}},this.modifyRow=function(t){var e=this;return e.getSettings().manualRowMove?("undefined"==typeof e.manualRowPositions[t]&&C(this.manualRowPositions,t+1),e.manualRowPositions[t]):t}}var r=new n;e.hooks.add("beforeInit",r.beforeInit),e.hooks.add("afterInit",function(){r.init.call(this,"afterInit")}),e.hooks.add("afterUpdateSettings",function(){r.init.call(this,"afterUpdateSettings")}),e.hooks.add("modifyRow",r.modifyRow),e.hooks.register("afterRowMove")}(e),function(e){function n(n){this.instance=n,this.addingStarted=!1;var r,i,o=!1,a=this,s=e.eventManager(n),l=function(t){return n.autofill?void(n.autofill.handle&&n.autofill.handle.isDragged&&(n.autofill.handle.isDragged>1&&n.autofill.apply(),n.autofill.handle.isDragged=0,o=!1)):!0};s.addEventListener(document,"mouseup",function(t){l(t)}),s.addEventListener(document,"mousemove",function(n){if(!a.instance.autofill)return 0;var r=e.Dom.offset(a.instance.table).top-(t.pageYOffset||document.documentElement.scrollTop)+e.Dom.outerHeight(a.instance.table),i=e.Dom.offset(a.instance.table).left-(t.pageXOffset||document.documentElement.scrollLeft)+e.Dom.outerWidth(a.instance.table);a.addingStarted===!1&&a.instance.autofill.handle.isDragged>0&&n.clientY>r&&n.clientX<=i?(this.mouseDragOutside=!0,a.addingStarted=!0):this.mouseDragOutside=!1,this.mouseDragOutside&&setTimeout(function(){a.addingStarted=!1,a.instance.alter("insert_row")},200)}),r=this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown,this.instance.view.wt.wtSettings.settings.onCellCornerMouseDown=function(t){n.autofill.handle.isDragged=1,o=!0,r(t)},i=this.instance.view.wt.wtSettings.settings.onCellMouseOver,this.instance.view.wt.wtSettings.settings.onCellMouseOver=function(t,e,r,a){n.autofill&&o&&!n.view.isMouseDown()&&n.autofill.handle&&n.autofill.handle.isDragged&&(n.autofill.handle.isDragged++,n.autofill.showBorder(e),n.autofill.checkIfNewRowNeeded()),i(t,e,r,a)},this.instance.view.wt.wtSettings.settings.onCellCornerDblClick=function(){n.autofill.selectAdjacent()}}n.prototype.init=function(){this.handle={}},n.prototype.disable=function(){this.handle.disabled=!0},n.prototype.selectAdjacent=function(){var t,e,n,r,i;t=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners(),e=this.instance.getData();t:for(n=t[2]+1;n<this.instance.countRows();n++){for(i=t[1];i<=t[3];i++)if(e[n][i])break t;(e[n][t[1]-1]||e[n][t[3]+1])&&(r=n)}r&&(this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(new h(t[0],t[1])),this.instance.view.wt.selections.fill.add(new h(r,t[3])),this.apply())},n.prototype.apply=function(){var t,n,r,i,o;if(this.handle.isDragged=0,t=this.instance.view.wt.selections.fill.getCorners()){var a=function(t,e,n,r){var i,o,a,s=n.length,l=n?n[0].length:0,u=[],c=e.row-t.row,h=e.col-t.col,f=[];if(-1!==["down","up"].indexOf(r)){for(var d=0;h>=d;d++)i=parseInt(n[0][d],10),o=parseInt(n[s-1][d],10),a=("down"===r?o-i:i-o)/(s-1)||0,f.push(a);u.push(f)}if(-1!==["right","left"].indexOf(r))for(var p=0;c>=p;p++)i=parseInt(n[p][0],10),o=parseInt(n[p][l-1],10),a=("right"===r?o-i:i-o)/(l-1)||0,f=[],f.push(a),u.push(f);return u};this.instance.view.wt.selections.fill.clear(),n=this.instance.selection.isMultiple()?this.instance.view.wt.selections.area.getCorners():this.instance.view.wt.selections.current.getCorners();var s;if(t[0]===n[0]&&t[1]<n[1]?(s="left",r=new h(t[0],t[1]),i=new h(t[2],n[1]-1)):t[0]===n[0]&&t[3]>n[3]?(s="right",r=new h(t[0],n[3]+1),i=new h(t[2],t[3])):t[0]<n[0]&&t[1]===n[1]?(s="up",r=new h(t[0],t[1]),i=new h(n[0]-1,t[3])):t[2]>n[2]&&t[1]===n[1]&&(s="down",r=new h(n[2]+1,t[1]),i=new h(t[2],t[3])),r&&r.row>-1&&r.col>-1){var l={from:this.instance.getSelectedRange().from,to:this.instance.getSelectedRange().to};o=this.instance.getData(l.from.row,l.from.col,l.to.row,l.to.col);var u=a(r,i,o,s);e.hooks.run(this.instance,"beforeAutofill",r,i,o),this.instance.populateFromArray(r.row,r.col,o,i.row,i.col,"autofill",null,s,u),this.instance.selection.setRangeStart(new h(t[0],t[1])),this.instance.selection.setRangeEnd(new h(t[2],t[3]))}else this.instance.selection.refreshBorders()}},n.prototype.showBorder=function(t){var e=this.instance.getSelectedRange().getTopLeftCorner(),n=this.instance.getSelectedRange().getBottomRightCorner();if("horizontal"!==this.instance.getSettings().fillHandle&&(n.row<t.row||e.row>t.row))t=new h(t.row,n.col);else{if("vertical"===this.instance.getSettings().fillHandle)return;t=new h(n.row,t.col)}this.instance.view.wt.selections.fill.clear(),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().from),this.instance.view.wt.selections.fill.add(this.instance.getSelectedRange().to),this.instance.view.wt.selections.fill.add(t),this.instance.view.render()},n.prototype.checkIfNewRowNeeded=function(){var t,e,n=this.instance.countRows(),r=this;this.instance.view.wt.selections.fill.cellRange&&this.addingStarted===!1&&(e=this.instance.getSelected(),t=this.instance.view.wt.selections.fill.getCorners(),e[2]<n-1&&t[2]===n-1&&(this.addingStarted=!0,this.instance._registerTimeout(setTimeout(function(){r.instance.alter("insert_row"),r.addingStarted=!1},200))))},e.hooks.add("afterInit",function(){var t=new n(this);"undefined"!=typeof this.getSettings().fillHandle&&(t.handle&&this.getSettings().fillHandle===!1?t.disable():t.handle||this.getSettings().fillHandle===!1||(this.autofill=t,this.autofill.init()))}),e.Autofill=n}(e);var nt=function(t){var n=[],r={rows:0,cols:0},i={rows:0,cols:0},o=[],a=[],s={groupIndicatorContainer:"htGroupIndicatorContainer",groupIndicator:function(t){return"ht"+t+"Group"},groupStart:"htGroupStart",collapseButton:"htCollapseButton",expandButton:"htExpandButton",collapseGroupId:function(t){return"htCollapse-"+t},collapseFromLevel:function(t,e){return"htCollapse"+t+"FromLevel-"+e},clickable:"clickable",levelTrigger:"htGroupLevelTrigger"},l=function(t,e){return function(n,r){return"undefined"==typeof e||"asc"===e?n[t]-r[t]:r[t]-n[t]}},u=function(t,e){for(var n=[];e>=t;)n.push(t++);return n},c=function(t,e,n){var r=[],i={row:null,col:null};if("cols"==t)for(;n>=e;)i={row:-1,col:e++},r.push(i);else for(;n>=e;)i={row:e++,col:-1},r.push(i);for(var o=f(r),a=0,s=0,l=0;l<o.length;l++)a+=o[l].filter(function(t){return t.rows}).length,s+=o[l].filter(function(t){return t.cols}).length;return{total:{rows:a,cols:s},groups:o}},f=function(t){for(var e=[],n=0;n<t.length;n++)e.push(d(t[n]));return e},d=function(t,e,r){for(var i=t.row,o=t.col,a=-1===i?0:i,s=-1===o?0:o,l=[],u=0;u<n.length;u++){var c=n[u],h=c.id,f=(c.level,c.rows||[]),d=c.cols||[];-1===l.indexOf(h)&&(-1!==f.indexOf(a)||-1!==d.indexOf(s))&&l.push(c)}-1===o?l=l.concat(v()):-1===i&&(l=l.concat(w())),e&&(l=l.filter(function(t){return t.level===e})),r&&("cols"===r?l=l.filter(function(t){return t.cols}):"rows"===r&&(l=l.filter(function(t){return t.rows})));var p=[];return l.filter(function(t){return-1===p.indexOf(t.id)?(p.push(t.id),t):void 0})},p=function(t){for(var e=0,r=n.length;r>e;e++)if(n[e].id==t)return n[e];return!1},g=function(t,e){for(var r=0,i=n.length;i>r;r++)if(n[r].level==e&&n[r].rows&&n[r].rows.indexOf(t)>-1)return n[r];return!1},m=function(t,e){for(var r=0,i=n.length;i>r;r++)if(n[r].level==e&&n[r].cols&&n[r].cols.indexOf(t)>-1)return n[r];return!1},v=function(){for(var t=[],e=0,r=n.length;r>e;e++)Array.isArray(n[e].cols)&&t.push(n[e]);return t},y=function(t){for(var e=[],r=0,i=n.length;i>r;r++)n[r].cols&&n[r].level===t&&e.push(n[r]);return e},w=function(){for(var t=[],e=0,r=n.length;r>e;e++)Array.isArray(n[e].rows)&&t.push(n[e]);return t},b=function(t){for(var e=[],r=0,i=n.length;i>r;r++)n[r].rows&&n[r].level===t&&e.push(n[r]);return e},x=function(t){var e=0;return t.length&&t.forEach(function(t){if(t=t.filter(function(t){return t.cols}),t.length){var n=t.sort(l("level","desc")),r=n[0].level;r>e&&(e=r)}}),e},C=function(t){var e=0;return t.length&&t.forEach(function(t){if(t=t.filter(function(t){return t.rows}),t.length){var n=t.sort(l("level","desc")),r=n[0].level;r>e&&(e=r)}}),e},T=function(t,e){var o=c("cols",t,e),a=x(o.groups);a===i.cols?i.cols++:a>i.cols&&(i.cols=a+1),r.cols||(r.cols=v().length),r.cols++,n.push({id:"c"+r.cols,level:a+1,cols:u(t,e),hidden:0})},E=function(t,e){var o=c("rows",t,e),a=C(o.groups);i.rows=Math.max(i.rows,a+1),r.rows||(r.rows=w().length),r.rows++,n.push({id:"r"+r.rows,level:a+1,rows:u(t,e),hidden:0})},k=function(t,e){for(var n,r=0,i=e.length;i>r;r++)if(e[r].hidden=t,n=e[r].level,o[n]||(o[n]=[]),a[n]||(a[n]=[]),e[r].rows)for(var s=0,l=e[r].rows.length;l>s;s++)o[n][e[r].rows[s]]=t>0?!0:void 0;else if(e[r].cols)for(var s=0,u=e[r].cols.length;u>s;s++)a[n][e[r].cols[s]]=t>0?!0:void 0},S=function(t,n,r,i){var o,a;switch(t){case"rows":o=g(n+1,r).id,a=e.Grouping.getGroupLevelsByRows();break;case"cols":o=m(n+1,r).id,a=e.Grouping.getGroupLevelsByCols()}return!!(a[n+1]&&a[n+1].indexOf(r)>-1&&i==o)},_=function(t,n,r,i){var o,a;switch(t){case"rows":o=g(n-1,r).id,a=e.Grouping.getGroupLevelsByRows();break;case"cols":o=m(n-1,r).id,a=e.Grouping.getGroupLevelsByCols()}return!!(a[n-1]&&a[n-1].indexOf(r)>-1&&i==o)},$=function(n,r,s,l){if(0===r)return!1;var u,c,h=_(n,r,s,l),f=S(n,r,s,l),d=!1;switch(n){case"rows":u=e.Grouping.getGroupLevelsByRows(),c=t.countRows();for(var p=0;p<=i.rows;p++)if(o[p]&&o[p][r+1]){d=!0;break}break;case"cols":u=e.Grouping.getGroupLevelsByCols(),c=t.countCols();for(var p=0;p<=i.cols;p++)if(a[p]&&a[p][r+1]){d=!0;break}}if(h){if(r==c-1)return!0;if(!f||f&&d)return!0;if(!u[r+1])return!0}return!1},A=function(e){var n;switch(e){case"rows":n=i.rows;for(var r=0;n>=r;r++)if(o[r]&&o[r][t.countRows()-1])return!0;break;case"cols":n=i.cols;for(var r=0;n>=r;r++)if(a[r]&&a[r][t.countCols()-1])return!0}return!1},D=function(n,r,s,l){var u,c,h,f=p(l),d=!1,g=function(t){for(var e=!1,n="rows"==t?o:a,s=0;s<=i[t];s++){for(h=r;f[t].indexOf(h)>-1;)e=!(!n[s]||!n[s][h]),h--;if(e)break}return e},m=_(n,r,s,l),v=S(n,r,s,l);switch(n){case"rows":u=e.Grouping.getGroupLevelsByRows(),c=t.countRows(),d=g(n);break;case"cols":u=e.Grouping.getGroupLevelsByCols(),c=t.countCols(),d=g(n)}if(r==c-1)return!1;if(0===r){if(v)return!0}else if(!m||m&&d){if(v)return!0}else if(!u[r-1]&&v)return!0;return!1},M=function(t,n,r,i,o){var a;switch(t){case"rows":a=g(n-1,r).id;break;case"cols":a=m(n-1,r).id}if(!a)return null;if(n>0&&_(t,n-1,r,a)&&a!=i){var l=document.createElement("DIV");return e.Dom.addClass(l,s.expandButton),l.id="htExpand-"+a,l.appendChild(document.createTextNode("+")),l.setAttribute("data-level",r),l.setAttribute("data-type",t),l.setAttribute("data-hidden","1"),o.appendChild(l),l}return null},R=function(t){for(var e=w(),n=v(),r=0,i=e.length;i>r;r++)if(e[r].rows.indexOf(t.row)>-1&&e[r].hidden)return!0;if(null===t.col)return!1;for(var r=0,o=n.length;o>r;r++)if(n[r].cols.indexOf(t.col)>-1&&n[r].hidden)return!0;return!1};return{getGroups:function(){return n},getLevels:function(){return i},instance:t,baseSpareRows:t.getSettings().minSpareRows,baseSpareCols:t.getSettings().minSpareCols,getRowGroups:w,getColGroups:v,init:function(){var n=t.getSettings().groups;n&&Array.isArray(n)&&e.Grouping.initGroups(n)},initGroups:function(t){n=[],t.forEach(function(t){var e=[],n=!1,r=!1;Array.isArray(t.rows)?(e=t.rows,n=!0):Array.isArray(t.cols)&&(e=t.cols,r=!0);var i=e[0],o=e[e.length-1];n?E(i,o):r&&T(i,o)})},resetGroups:function(){n=[],r={rows:0,cols:0},i={rows:0,cols:0};var t;for(var o in s)if("function"!=typeof s[o]){t=document.querySelectorAll("."+s[o]);for(var a=0,l=t.length;l>a;a++)e.Dom.removeClass(t[a],s[o])}for(var u=["htGroupColClosest","htGroupCol"],o=0,c=u.length;c>o;o++){t=document.querySelectorAll("."+u[o]);for(var a=0,l=t.length;l>a;a++)e.Dom.removeClass(t[a],u[o])}},updateGroups:function(){var t=this.getSettings().groups;e.Grouping.resetGroups(),e.Grouping.initGroups(t)},afterGetRowHeader:function(t,n){for(var r=!1,i=0,a=o.length;a>i;i++)o[i]&&o[i][t]===!0&&(r=!0);r?e.Dom.addClass(n.parentNode,"hidden"):!r&&e.Dom.hasClass(n.parentNode,"hidden")&&e.Dom.removeClass(n.parentNode,"hidden")},afterGetColHeader:function(n,r){var i=this.view.wt.wtSettings.getSetting("rowHeaders").length,o=t.rootElement.querySelectorAll("colgroup col:nth-child("+parseInt(n+i+1,10)+")");if(0!==o.length){for(var s=!1,l=0,u=a.length;u>l;l++)a[l]&&a[l][n]===!0&&(s=!0);if(s)for(var l=0,c=o.length;c>l;l++)e.Dom.addClass(o[l],"hidden");else if(!s&&e.Dom.hasClass(o[0],"hidden"))for(var l=0,c=o.length;c>l;l++)e.Dom.removeClass(o[l],"hidden")}},groupIndicatorsFactory:function(t,n){var o,a,l,u,c,h,f,d;switch(n){case"horizontal":o=e.Grouping.getGroupLevelsByCols(),a=function(t){return Array.prototype.indexOf.call(t.parentNode.parentNode.childNodes,t.parentNode)+1},l=function(t,e){return m(t,e).id},u="cols",c=function(t,e){return m(t-1,e)},h="columnHeaders",f=function(t){if(1===t.length){var n=t[0];t[0]=function(t,r,i){-1>t?v()(t,r,i):(e.Dom.removeClass(r,s.groupIndicatorContainer),n(t,r,i))}}return function(){return t}},d=!0;break;case"vertical":o=e.Grouping.getGroupLevelsByRows(),a=function(t){return e.Dom.index(t)+1},l=function(t,e){return g(t,e).id},u="rows",c=function(t,e){return g(t-1,e)},h="rowHeaders",f=function(t){return t}}var p=function(t){var n=document.createElement("div");return t.appendChild(n),{button:n,addClass:function(t){e.Dom.addClass(n,t)}}},v=function(){var t=n.charAt(0).toUpperCase()+n.slice(1);return function(n,r,i){i++;for(var a,h;a=r.lastChild;)r.removeChild(a);e.Dom.addClass(r,s.groupIndicatorContainer);var f=l(n,i);if(n>-1&&o[n]&&o[n].indexOf(i)>-1&&(h=p(r),h.addClass(s.groupIndicator(t)),D(u,n,i,f)&&h.addClass(s.groupStart),$(u,n,i,f)&&(h.button.appendChild(document.createTextNode("-")),h.addClass(s.collapseButton),h.button.id=s.collapseGroupId(f),h.button.setAttribute("data-level",i),h.button.setAttribute("data-type",u))),d){var g=e.Dom.index(r.parentNode);if(-1===n||-1>n&&g===e.Grouping.getLevels().cols+1||0===g&&0===e.Grouping.getLevels().cols)if(h=p(r),h.addClass(s.levelTrigger),-1===n)h.button.id=s.collapseFromLevel("Cols",i),h.button.appendChild(document.createTextNode(i));else if(-1>n&&g===e.Grouping.getLevels().cols+1||0===g&&0===e.Grouping.getLevels().cols){var m=e.Dom.index(r)+1;h.button.id=s.collapseFromLevel("Rows",m),h.button.appendChild(document.createTextNode(m))}}var v=M(u,n,i,f,r);if(n>0){var y=c(n-1,i);v&&y.hidden&&e.Dom.addClass(v,s.clickable)}rt()}};if(t=f(t),r[u]>0)for(var y=0;y<i[u]+1;y++)Array.isArray(t)||(t="function"==typeof t?t():new Array(t)),t.unshift(v())},getGroupLevelsByRows:function(){for(var t=w(),e=[],n=0,r=t.length;r>n;n++)if(t[n].rows)for(var i=0,o=t[n].rows.length;o>i;i++)e[t[n].rows[i]]||(e[t[n].rows[i]]=[]),e[t[n].rows[i]].push(t[n].level);return e},getGroupLevelsByCols:function(){for(var t=v(),e=[],n=0,r=t.length;r>n;n++)if(t[n].cols)for(var i=0,o=t[n].cols.length;o>i;i++)e[t[n].cols[i]]||(e[t[n].cols[i]]=[]),e[t[n].cols[i]].push(t[n].level);return e},toggleGroupVisibility:function(n,r,o){if(e.Dom.hasClass(n.target,s.expandButton)||e.Dom.hasClass(n.target,s.collapseButton)||e.Dom.hasClass(n.target,s.levelTrigger)){var a,l,u,c,h=n.target,f=h.id.split("-"),d=[],g=function(t){t&&(h=t),f=h.id.split("-"),a=f[1],l=parseInt(h.getAttribute("data-level"),10),u=h.getAttribute("data-type"),c=parseInt(h.getAttribute("data-hidden")),c=isNaN(c)?1:c?0:1,h.setAttribute("data-hidden",c.toString()),d.push(p(a))};if(h.className.indexOf(s.levelTrigger)>-1){for(var m,v=[],w=[],x=h.id.indexOf("Rows")>-1?"rows":"cols",C=1,T=i[x];T>=C;C++)if(m="rows"==x?b(C):y(C),C>=parseInt(f[1],10))for(var E=0,S=m.length;S>E;E++)w.push(m[E]);else for(var E=0,S=m.length;S>E;E++)v.push(m[E]);k(!0,w),k(!1,v)}else g(),k(c,d);u=u||x;var _=A(u),$=u.charAt(0).toUpperCase()+u.slice(1),D=e.Grouping["baseSpare"+$];_?0==D&&(t.alter("insert_"+u.slice(0,-1),t["count"+$]()),e.Grouping["dummy"+u.slice(0,-1)]=!0):0==D&&e.Grouping["dummy"+u.slice(0,-1)]&&(t.alter("remove_"+u.slice(0,-1),t["count"+$]()-1),e.Grouping["dummy"+u.slice(0,-1)]=!1),t.render(),n.stopImmediatePropagation()}},modifySelectionFactory:function(t){var e,n=this.instance,r=new h(0,0),i=function(t,e){var n=0;switch(t){case"down":for(;R(e);)n++,e.row+=1;break;case"up":for(;R(e);)n--,e.row-=1;break;case"right":for(;R(e);)n++,e.col+=1;break;case"left":for(;R(e);)n--,e.col-=1}return n},o=function(t,e){t.row>0?R(e)&&(t.row+=i("down",e)):t.row<0&&R(e)&&(t.row+=i("up",e)),t.col>0?R(e)&&(t.col+=i("right",e)):t.col<0&&R(e)&&(t.col+=i("left",e))};switch(t){case"start":return function(t){e=n.getSelected(),r.row=e[0]+t.row,r.col=e[1]+t.col,o(t,r)};case"end":return function(t){e=n.getSelected(),r.row=e[2]+t.row,r.col=e[3]+t.col,o(t,r)}}},modifyRowHeight:function(e,n){return t.view.wt.wtTable.rowFilter&&R({row:n,col:null})?0:void 0},validateGroups:function(){for(var e=function(t,e){return t[0]<e[0]&&t[1]<e[1]&&e[0]<=t[1]||t[0]>e[0]&&e[1]<t[1]&&t[0]<=e[1]?!0:void 0},n=t.getSettings().groups,r=[],i=[],o=0,a=n.length;a>o;o++)if(n[o].rows){if(1===n[o].rows.length)throw new Error("Grouping error:  Group {"+n[o].rows[0]+"} is invalid. Cannot define single-entry groups.");if(0===n[o].rows.length)throw new Error("Grouping error:  Cannot define empty groups.");i.push(n[o].rows);for(var s=0,l=i.length;l>s;s++)if(e(n[o].rows,i[s]))throw new Error("Grouping error:  ranges {"+n[o].rows[0]+", "+n[o].rows[1]+"} and {"+i[s][0]+", "+i[s][1]+"} are overlapping.")}else if(n[o].cols){if(1===n[o].cols.length)throw new Error("Grouping error:  Group {"+n[o].cols[0]+"} is invalid. Cannot define single-entry groups.");if(0===n[o].cols.length)throw new Error("Grouping error:  Cannot define empty groups.");r.push(n[o].cols);for(var s=0,u=r.length;u>s;s++)if(e(n[o].cols,r[s]))throw new Error("Grouping error:  ranges {"+n[o].cols[0]+", "+n[o].cols[1]+"} and {"+r[s][0]+", "+r[s][1]+"} are overlapping.")}return!0},afterGetRowHeaderRenderers:function(t){e.Grouping.groupIndicatorsFactory(t,"vertical")},afterGetColumnHeaderRenderers:function(t){e.Grouping.groupIndicatorsFactory(t,"horizontal")},hookProxy:function(n,r){return function(){return t.getSettings().groups?r?e.Grouping[n](r).apply(this,arguments):e.Grouping[n].apply(this,arguments):void 0}}}},H=function(){var t=this,n=!!t.getSettings().groups;if(n){var r={};e.Grouping=new nt(t),t.getSettings().rowHeaders||(r.rowHeaders=!0),t.getSettings().colHeaders||(r.colHeaders=!0),(r.colHeaders||r.rowHeaders)&&t.updateSettings(r);var i=e.Grouping.validateGroups();if(!i)return;t.addHook("beforeInit",e.Grouping.hookProxy("init")),t.addHook("afterUpdateSettings",e.Grouping.hookProxy("updateGroups")),t.addHook("afterGetColumnHeaderRenderers",e.Grouping.hookProxy("afterGetColumnHeaderRenderers")),t.addHook("afterGetRowHeaderRenderers",e.Grouping.hookProxy("afterGetRowHeaderRenderers")),t.addHook("afterGetRowHeader",e.Grouping.hookProxy("afterGetRowHeader")),t.addHook("afterGetColHeader",e.Grouping.hookProxy("afterGetColHeader")),t.addHook("beforeOnCellMouseDown",e.Grouping.hookProxy("toggleGroupVisibility")),t.addHook("modifyTransformStart",e.Grouping.hookProxy("modifySelectionFactory","start")),t.addHook("modifyTransformEnd",e.Grouping.hookProxy("modifySelectionFactory","end")),t.addHook("modifyRowHeight",e.Grouping.hookProxy("modifyRowHeight"))}},rt=function(){for(var t=document.querySelectorAll("colgroup"),n=0,r=t.length;r>n;n++){var i=t[n].querySelectorAll("col.rowHeader");if(0===i.length)return;for(var o=0,a=i.length+1;a>o;o++){if(2==a)return;o<e.Grouping.getLevels().rows+1&&(o==e.Grouping.getLevels().rows?e.Dom.addClass(i[o],"htGroupColClosest"):e.Dom.addClass(i[o],"htGroupCol"))}}};e.hooks.add("beforeInit",H),e.hooks.add("afterUpdateSettings",function(){this.getSettings().groups&&!e.Grouping?H.call(this,arguments):!this.getSettings().groups&&e.Grouping&&(e.Grouping.resetGroups(),e.Grouping=void 0)}),e.plugins.Grouping=nt,function(t){function e(){this.zeroClipboardInstance=null,this.instance=null}e.prototype.prepareZeroClipboard=function(){this.swfPath&&ZeroClipboard.config({swfPath:this.swfPath})},e.prototype.copy=function(){return this.instance.copyPaste.setCopyableText(),this.instance.copyPaste.copyPasteInstance.elTextarea.value},e.prototype.addToContextMenu=function(e){this.getSettings().contextMenuCopyPaste&&e.items.unshift({key:"copy",name:"Copy"},{key:"paste",name:"Paste",callback:function(){this.copyPaste.triggerPaste()}},t.ContextMenu.SEPARATOR)},e.prototype.setupZeroClipboard=function(e){var r=this;if(this.cmInstance=e,t.Dom.hasClass(this.cmInstance.rootElement,"htContextMenu"))for(var i=e.getData(),o=0,a=i.length;a>o;o++)if("copy"===i[o].key){this.zeroClipboardInstance=new ZeroClipboard(e.getCell(o,0)),this.zeroClipboardInstance.off(),this.zeroClipboardInstance.on("copy",function(t){var e=t.clipboardData;e.setData("text/plain",r.copy()),r.instance.getSettings().outsideClickDeselects=r.outsideClickDeselectsCache}),n.bindEvents();break}},e.prototype.bindEvents=function(){var e=this;if(e.cmInstance){var n=new t.eventManager(this.instance),r=function(n){var r=e.cmInstance.rootElement.querySelector("td.current");r&&t.Dom.removeClass(r,"current"),e.outsideClickDeselectsCache=e.instance.getSettings().outsideClickDeselects,e.instance.getSettings().outsideClickDeselects=!1},i=function(n){var r=e.cmInstance.rootElement.querySelector("td.zeroclipboard-is-hover");r&&t.Dom.removeClass(r,"zeroclipboard-is-hover"),e.instance.getSettings().outsideClickDeselects=e.outsideClickDeselectsCache};n.removeEventListener(document,"mouseenter",function(){r()}),n.addEventListener(document,"mouseenter",function(t){r()}),n.removeEventListener(document,"mouseleave",function(){i()}),n.addEventListener(document,"mouseleave",function(t){i()})}},e.prototype.init=function(){if(this.getSettings().contextMenuCopyPaste){if("object"==typeof this.getSettings().contextMenuCopyPaste&&(n.swfPath=this.getSettings().contextMenuCopyPaste.swfPath),"undefined"==typeof ZeroClipboard)throw new Error("To be able to use the Copy/Paste feature from the context menu, you need to manualy include ZeroClipboard.js file to your website.");try{{new ActiveXObject("ShockwaveFlash.ShockwaveFlash")}}catch(t){if("undefined"==typeof navigator.mimeTypes["application/x-shockwave-flash"])throw new Error("To be able to use the Copy/Paste feature from the context menu, your browser needs to have Flash Plugin installed.")}n.instance=this,n.prepareZeroClipboard()}};var n=new e;t.hooks.add("afterRender",function(){n.setupZeroClipboard(this)}),t.hooks.add("afterInit",n.init),t.hooks.add("afterContextMenuDefaultOptions",n.addToContextMenu),t.ContextMenuCopyPaste=e}(e),function(t){function e(e){this.instance=e,this.dragged=[],this.eventManager=t.eventManager(e),this.bindTouchEvents()}e.prototype.getCurrentRangeCoords=function(t,e,n,r,i){var o=t.getTopLeftCorner(),a=t.getBottomRightCorner(),s=t.getBottomLeftCorner(),l=t.getTopRightCorner(),u={start:null,end:null};switch(n){case"NE-SW":switch(r){case"NE-SW":case"NW-SE":u="topLeft"==i?{start:new h(e.row,t.highlight.col),end:new h(s.row,e.col)}:{start:new h(t.highlight.row,e.col),end:new h(e.row,o.col)};break;case"SE-NW":"bottomRight"==i&&(u={start:new h(a.row,e.col),end:new h(e.row,o.col)})}break;case"NW-SE":switch(r){case"NE-SW":"topLeft"==i?u={start:e,end:s}:u.end=e;break;case"NW-SE":"topLeft"==i?u={start:e,end:a}:u.end=e;break;case"SE-NW":"topLeft"==i?u={start:e,end:o}:u.end=e;break;case"SW-NE":"topLeft"==i?u={start:e,end:l}:u.end=e}break;case"SW-NE":switch(r){case"NW-SE":u="bottomRight"==i?{start:new h(e.row,o.col),end:new h(s.row,e.col)}:{start:new h(o.row,e.col),end:new h(e.row,a.col)};break;case"SW-NE":u="topLeft"==i?{start:new h(t.highlight.row,e.col),end:new h(e.row,a.col)}:{start:new h(e.row,o.col),end:new h(o.row,e.col)};break;case"SE-NW":"bottomRight"==i?u={start:new h(e.row,l.col),end:new h(o.row,e.col)}:"topLeft"==i&&(u={start:s,end:e})}break;case"SE-NW":switch(r){case"NW-SE":case"NE-SW":case"SW-NE":"topLeft"==i&&(u.end=e);break;case"SE-NW":"topLeft"==i?u.end=e:u={start:e,end:o}}}return u},e.prototype.bindTouchEvents=function(){var e=this,n=function(t){if(1==this.dragged.length)return this.dragged=[],!0;var e=this.dragged.indexOf(t);return-1==e?!1:void(0===e?this.dragged=this.dragged.slice(0,1):1==e&&(this.dragged=this.dragged.slice(-1)))};this.eventManager.addEventListener(this.instance.rootElement,"touchstart",function(n){if(t.Dom.hasClass(n.target,"topLeftSelectionHandle-HitArea")){e.dragged.push("topLeft");var r=e.instance.getSelectedRange();return e.touchStartRange={width:r.getWidth(),height:r.getHeight(),direction:r.getDirection()},n.preventDefault(),!1}if(t.Dom.hasClass(n.target,"bottomRightSelectionHandle-HitArea")){e.dragged.push("bottomRight");var r=e.instance.getSelectedRange();return e.touchStartRange={width:r.getWidth(),height:r.getHeight(),direction:r.getDirection()},n.preventDefault(),!1}}),this.eventManager.addEventListener(this.instance.rootElement,"touchend",function(r){return t.Dom.hasClass(r.target,"topLeftSelectionHandle-HitArea")?(n.call(e,"topLeft"),e.touchStartRange=void 0,r.preventDefault(),!1):t.Dom.hasClass(r.target,"bottomRightSelectionHandle-HitArea")?(n.call(e,"bottomRight"),e.touchStartRange=void 0,r.preventDefault(),!1):void 0}),this.eventManager.addEventListener(this.instance.rootElement,"touchmove",function(n){var r=t.Dom.getWindowScrollTop(),i=t.Dom.getWindowScrollLeft();if(e.dragged.length>0){var o=document.elementFromPoint(n.touches[0].screenX-i,n.touches[0].screenY-r);if(!o)return;if("TD"==o.nodeName||"TH"==o.nodeName){var a=e.instance.getCoords(o);-1==a.col&&(a.col=0);var s=e.instance.getSelectedRange(),l=s.getWidth(),u=s.getHeight(),c=s.getDirection();1==l&&1==u&&e.instance.selection.setRangeEnd(a);var h=e.getCurrentRangeCoords(s,a,e.touchStartRange.direction,c,e.dragged[0]);null!=h.start&&e.instance.selection.setRangeStart(h.start),e.instance.selection.setRangeEnd(h.end)}n.preventDefault()}})},e.prototype.isDragged=function(){return 0===this.dragged.length?!1:!0};var n=function(){var n=this;t.plugins.multipleSelectionHandles=new e(n)};t.hooks.add("afterInit",n)}(e);var it=function(t){function n(t){}return n.prototype.init=function(t){this.instance=t,this.bindEvents(),this.scrollbars=[this.instance.view.wt.wtScrollbars.vertical,this.instance.view.wt.wtScrollbars.horizontal,this.instance.view.wt.wtScrollbars.corner],this.clones=[this.instance.view.wt.wtScrollbars.vertical.clone.wtTable.holder.parentNode,this.instance.view.wt.wtScrollbars.horizontal.clone.wtTable.holder.parentNode,this.instance.view.wt.wtScrollbars.corner.clone.wtTable.holder.parentNode]},n.prototype.bindEvents=function(){var t=this;this.instance.addHook("beforeTouchScroll",function(){e.freezeOverlays=!0;for(var n=0,r=t.clones.length;r>n;n++)e.Dom.addClass(t.clones[n],"hide-tween")}),this.instance.addHook("afterMomentumScroll",function(){e.freezeOverlays=!1;for(var n=0,r=t.clones.length;r>n;n++)e.Dom.removeClass(t.clones[n],"hide-tween");for(var n=0,r=t.clones.length;r>n;n++)e.Dom.addClass(t.clones[n],"show-tween");setTimeout(function(){for(var n=0,r=t.clones.length;r>n;n++)e.Dom.removeClass(t.clones[n],"show-tween")},400);for(var n=0,r=t.scrollbars.length;r>n;n++)t.scrollbars[n].refresh(),t.scrollbars[n].resetFixedPosition()})},n}(),ot=new it;if(e.hooks.add("afterInit",function(){ot.init.call(ot,this)}),function(t){function e(e){function n(n){n.items.push(t.ContextMenu.SEPARATOR,{key:"freeze_column",name:function(){var t=e.getSelected()[1];return t>p-1?"Freeze this column":"Unfreeze this column"},disabled:function(){var t=e.getSelected();return t[1]!==t[3]},callback:function(){var t=e.getSelected()[1];t>p-1?u(t):c(t)}})}function r(){e.updateSettings({fixedColumnsLeft:p+1}),p++}function i(){e.updateSettings({fixedColumnsLeft:p-1}),p--}function o(t){e.manualColumnPositions&&0!==e.manualColumnPositions.length||e.manualColumnPositions||(e.manualColumnPositions=[]),t?e.manualColumnPositions[t]||a(t+1):a(e.countCols())}function a(t){if(e.manualColumnPositions.length<t)for(var n=e.manualColumnPositions.length;t>n;n++)e.manualColumnPositions[n]=n;

}function s(t,n,r,i){null==r&&(r=t),"freeze"===i?e.manualColumnPositions.splice(p,0,e.manualColumnPositions.splice(n,1)[0]):"unfreeze"===i&&e.manualColumnPositions.splice(r,0,e.manualColumnPositions.splice(n,1)[0])}function l(t){for(var e=p,n=h(e),r=h(t);r>n;)e++,n=h(e);return e-1}function u(t){if(!(p-1>=t)){var e=h(t)||t;o(e),s(e,t,null,"freeze"),r()}}function c(t){if(!(t>p-1)){var e=l(t),n=h(t)||t;o(n),s(n,t,e,"unfreeze"),i()}}function h(t){return e.manualColumnPositions[t]}function f(t){return this.manualColumnPositionsPluginUsages.length>1?t:h(t)}function d(){e.addHook("modifyCol",f),e.addHook("afterContextMenuDefaultOptions",n)}var p=e.getSettings().fixedColumnsLeft,g=function(){"undefined"!=typeof e.manualColumnPositionsPluginUsages?e.manualColumnPositionsPluginUsages.push("manualColumnFreeze"):e.manualColumnPositionsPluginUsages=["manualColumnFreeze"],d()};return{init:g,freezeColumn:u,unfreezeColumn:c,helpers:{addFixedColumn:r,removeFixedColumn:i,checkPositionData:o,modifyColumnOrder:s,getBestColumnReturnPosition:l}}}var n=function(){if(this.getSettings().manualColumnFreeze){var n;t.plugins.manualColumnFreeze=e,this.manualColumnFreeze=new e(this),n=this.manualColumnFreeze,n.init.call(this)}};t.hooks.add("beforeInit",n)}(e),u.prototype.init=function(){this.TABLE=this.instance.wtTable.TABLE,this.fixed=this.instance.wtTable.hider,this.fixedContainer=this.instance.wtTable.holder,this.scrollHandler=this.getScrollableElement(this.TABLE)},u.prototype.makeClone=function(t){var e=document.createElement("DIV");e.className="ht_clone_"+t+" handsontable",e.style.position="absolute",e.style.top=0,e.style.left=0,e.style.overflow="hidden";var n=document.createElement("TABLE");return n.className=this.instance.wtTable.TABLE.className,e.appendChild(n),this.instance.wtTable.holder.parentNode.appendChild(e),new g({cloneSource:this.instance,cloneOverlay:this,table:n})},u.prototype.getScrollableElement=function(e){for(var n=e.parentNode;n&&n.style&&document.body!==n;){if("visible"!==n.style.overflow&&""!==n.style.overflow)return n;if(t.getComputedStyle){var r=t.getComputedStyle(n);if("visible"!==r.getPropertyValue("overflow")&&""!==r.getPropertyValue("overflow"))return n}if(this instanceof C&&"visible"!==n.style.overflowX&&""!==n.style.overflowX)return n;n=n.parentNode}return t},u.prototype.refresh=function(t){this.clone&&this.clone.draw(t)},u.prototype.destroy=function(){var t=e.eventManager(this.clone);t.clear()},c.prototype.appear=function(t){var n,r,i,o,a,s,l,u,c,f,d,p;if(!this.disabled){var g,m,v,y,w,b,C,E=this.instance,k=function(){return!this.instance.selections.area.cellRange||v==this.instance.selections.area.cellRange.to.row&&y==this.instance.selections.area.cellRange.to.col?!1:!0},S=function(t,e,n,r){var i=parseInt(this.selectionHandles.styles.topLeft.width,10),o=parseInt(this.selectionHandles.styles.topLeftHitArea.width,10);this.selectionHandles.styles.topLeft.top=parseInt(t-i,10)+"px",this.selectionHandles.styles.topLeft.left=parseInt(e-i,10)+"px",this.selectionHandles.styles.topLeftHitArea.top=parseInt(t-o/4*3,10)+"px",this.selectionHandles.styles.topLeftHitArea.left=parseInt(e-o/4*3,10)+"px",this.selectionHandles.styles.bottomRight.top=parseInt(t+r,10)+"px",this.selectionHandles.styles.bottomRight.left=parseInt(e+n,10)+"px",this.selectionHandles.styles.bottomRightHitArea.top=parseInt(t+r-o/4,10)+"px",this.selectionHandles.styles.bottomRightHitArea.left=parseInt(e+n-o/4,10)+"px",this.settings.border.multipleSelectionHandlesVisible&&this.settings.border.multipleSelectionHandlesVisible()?(this.selectionHandles.styles.topLeft.display="block",this.selectionHandles.styles.topLeftHitArea.display="block",k.call(this)?(this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"):(this.selectionHandles.styles.bottomRight.display="block",this.selectionHandles.styles.bottomRightHitArea.display="block")):(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none",this.selectionHandles.styles.topLeftHitArea.display="none",this.selectionHandles.styles.bottomRightHitArea.display="none"),g==this.instance.wtSettings.getSetting("fixedRowsTop")||m==this.instance.wtSettings.getSetting("fixedColumnsLeft")?(this.selectionHandles.styles.topLeft.zIndex="9999",this.selectionHandles.styles.topLeftHitArea.zIndex="9999"):(this.selectionHandles.styles.topLeft.zIndex="",this.selectionHandles.styles.topLeftHitArea.zIndex="")};for(b=E.cloneOverlay instanceof T||E.cloneOverlay instanceof x?E.getSetting("fixedRowsTop"):E.wtTable.getRenderedRowsCount(),w=0;b>w;w++)if(C=E.wtTable.rowFilter.renderedToSource(w),C>=t[0]&&C<=t[2]){g=C;break}for(w=b-1;w>=0;w--)if(C=E.wtTable.rowFilter.renderedToSource(w),C>=t[0]&&C<=t[2]){v=C;break}for(b=E.wtTable.getRenderedColumnsCount(),w=0;b>w;w++)if(C=E.wtTable.columnFilter.renderedToSource(w),C>=t[1]&&C<=t[3]){m=C;break}for(w=b-1;w>=0;w--)if(C=E.wtTable.columnFilter.renderedToSource(w),C>=t[1]&&C<=t[3]){y=C;break}if(void 0===g||void 0===m)return void this.disappear();n=g!==v||m!==y,r=E.wtTable.getCell(new h(g,m)),i=n?E.wtTable.getCell(new h(v,y)):r,o=e.Dom.offset(r),a=n?e.Dom.offset(i):o,s=e.Dom.offset(E.wtTable.TABLE),u=o.top,d=a.top+e.Dom.outerHeight(i)-u,f=o.left,p=a.left+e.Dom.outerWidth(i)-f,l=u-s.top-1,c=f-s.left-1;var _=e.Dom.getComputedStyle(r);parseInt(_.borderTopWidth,10)>0&&(l+=1,d=d>0?d-1:0),parseInt(_.borderLeftWidth,10)>0&&(c+=1,p=p>0?p-1:0),this.topStyle.top=l+"px",this.topStyle.left=c+"px",this.topStyle.width=p+"px",this.topStyle.display="block",this.leftStyle.top=l+"px",this.leftStyle.left=c+"px",this.leftStyle.height=d+"px",this.leftStyle.display="block";var $=Math.floor(this.settings.border.width/2);if(this.bottomStyle.top=l+d-$+"px",this.bottomStyle.left=c+"px",this.bottomStyle.width=p+"px",this.bottomStyle.display="block",this.rightStyle.top=l+"px",this.rightStyle.left=c+p-$+"px",this.rightStyle.height=d+1+"px",this.rightStyle.display="block",e.mobileBrowser||!this.hasSetting(this.settings.border.cornerVisible)||k.call(this))this.cornerStyle.display="none";else if(this.cornerStyle.top=l+d-4+"px",this.cornerStyle.left=c+p-4+"px",this.cornerStyle.borderRightWidth=this.cornerDefaultStyle.borderWidth,this.cornerStyle.width=this.cornerDefaultStyle.width,this.cornerStyle.display="block",y===this.instance.getSetting("totalColumns")-1){var A=e.Dom.getScrollableElement(E.wtTable.TABLE),D=i.offsetLeft+e.Dom.outerWidth(i)>=e.Dom.innerWidth(A);D&&(this.cornerStyle.left=Math.floor(c+p-3-parseInt(this.cornerDefaultStyle.width)/2)+"px",this.cornerStyle.borderRightWidth=0)}e.mobileBrowser&&S.call(this,l,c,p,d)}},c.prototype.disappear=function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none",e.mobileBrowser&&(this.selectionHandles.styles.topLeft.display="none",this.selectionHandles.styles.bottomRight.display="none")},c.prototype.hasSetting=function(t){return"function"==typeof t?t():!!t},h.prototype.isValid=function(t){return this.row<0||this.col<0?!1:this.row>=t.getSetting("totalRows")||this.col>=t.getSetting("totalColumns")?!1:!0},h.prototype.isEqual=function(t){return t===this?!0:this.row===t.row&&this.col===t.col},h.prototype.isSouthEastOf=function(t){return this.row>=t.row&&this.col>=t.col},h.prototype.isNorthWestOf=function(t){return this.row<=t.row&&this.col<=t.col},h.prototype.isSouthWestOf=function(t){return this.row>=t.row&&this.col<=t.col},h.prototype.isNorthEastOf=function(t){return this.row<=t.row&&this.col>=t.col},t.WalkontableCellCoords=h,f.prototype.isValid=function(t){return this.from.isValid(t)&&this.to.isValid(t)},f.prototype.isSingle=function(){return this.from.row===this.to.row&&this.from.col===this.to.col},f.prototype.getHeight=function(){return Math.max(this.from.row,this.to.row)-Math.min(this.from.row,this.to.row)+1},f.prototype.getWidth=function(){return Math.max(this.from.col,this.to.col)-Math.min(this.from.col,this.to.col)+1},f.prototype.includes=function(t){var e=this.getTopLeftCorner(),n=this.getBottomRightCorner();return t.row<0&&(t.row=0),t.col<0&&(t.col=0),e.row<=t.row&&n.row>=t.row&&e.col<=t.col&&n.col>=t.col},f.prototype.includesRange=function(t){return this.includes(t.getTopLeftCorner())&&this.includes(t.getBottomRightCorner())},f.prototype.isEqual=function(t){return Math.min(this.from.row,this.to.row)==Math.min(t.from.row,t.to.row)&&Math.max(this.from.row,this.to.row)==Math.max(t.from.row,t.to.row)&&Math.min(this.from.col,this.to.col)==Math.min(t.from.col,t.to.col)&&Math.max(this.from.col,this.to.col)==Math.max(t.from.col,t.to.col)},f.prototype.overlaps=function(t){return t.isSouthEastOf(this.getTopLeftCorner())&&t.isNorthWestOf(this.getBottomRightCorner())},f.prototype.isSouthEastOf=function(t){return this.getTopLeftCorner().isSouthEastOf(t)||this.getBottomRightCorner().isSouthEastOf(t)},f.prototype.isNorthWestOf=function(t){return this.getTopLeftCorner().isNorthWestOf(t)||this.getBottomRightCorner().isNorthWestOf(t)},f.prototype.expand=function(t){var e=this.getTopLeftCorner(),n=this.getBottomRightCorner();return t.row<e.row||t.col<e.col||t.row>n.row||t.col>n.col?(this.from=new h(Math.min(e.row,t.row),Math.min(e.col,t.col)),this.to=new h(Math.max(n.row,t.row),Math.max(n.col,t.col)),!0):!1},f.prototype.expandByRange=function(t){if(this.includesRange(t)||!this.overlaps(t))return!1;var e=this.getTopLeftCorner(),n=this.getBottomRightCorner(),r=(this.getTopRightCorner(),this.getBottomLeftCorner(),t.getTopLeftCorner()),i=t.getBottomRightCorner(),o=Math.min(e.row,r.row),a=Math.min(e.col,r.col),s=Math.max(n.row,i.row),l=Math.max(n.col,i.col),u=new h(o,a),c=new h(s,l),d=new f(u,u,c).isCorner(this.from,t),p=t.isEqual(new f(u,u,c));return d&&!p&&(this.from.col>u.col&&(u.col=l,c.col=a),this.from.row>u.row&&(u.row=s,c.row=o)),this.from=u,this.to=c,!0},f.prototype.getDirection=function(){return this.from.isNorthWestOf(this.to)?"NW-SE":this.from.isNorthEastOf(this.to)?"NE-SW":this.from.isSouthEastOf(this.to)?"SE-NW":this.from.isSouthWestOf(this.to)?"SW-NE":void 0},f.prototype.setDirection=function(t){switch(t){case"NW-SE":this.from=this.getTopLeftCorner(),this.to=this.getBottomRightCorner();break;case"NE-SW":this.from=this.getTopRightCorner(),this.to=this.getBottomLeftCorner();break;case"SE-NW":this.from=this.getBottomRightCorner(),this.to=this.getTopLeftCorner();break;case"SW-NE":this.from=this.getBottomLeftCorner(),this.to=this.getTopRightCorner()}},f.prototype.getTopLeftCorner=function(){return new h(Math.min(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},f.prototype.getBottomRightCorner=function(){return new h(Math.max(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},f.prototype.getTopRightCorner=function(){return new h(Math.min(this.from.row,this.to.row),Math.max(this.from.col,this.to.col))},f.prototype.getBottomLeftCorner=function(){return new h(Math.max(this.from.row,this.to.row),Math.min(this.from.col,this.to.col))},f.prototype.isCorner=function(t,e){return e&&e.includes(t)&&(this.getTopLeftCorner().isEqual(new h(e.from.row,e.from.col))||this.getTopRightCorner().isEqual(new h(e.from.row,e.to.col))||this.getBottomLeftCorner().isEqual(new h(e.to.row,e.from.col))||this.getBottomRightCorner().isEqual(new h(e.to.row,e.to.col)))?!0:t.isEqual(this.getTopLeftCorner())||t.isEqual(this.getTopRightCorner())||t.isEqual(this.getBottomLeftCorner())||t.isEqual(this.getBottomRightCorner())},f.prototype.getOppositeCorner=function(t,e){if(!(t instanceof h))return!1;if(e&&e.includes(t)){if(this.getTopLeftCorner().isEqual(new h(e.from.row,e.from.col)))return this.getBottomRightCorner();if(this.getTopRightCorner().isEqual(new h(e.from.row,e.to.col)))return this.getBottomLeftCorner();if(this.getBottomLeftCorner().isEqual(new h(e.to.row,e.from.col)))return this.getTopRightCorner();if(this.getBottomRightCorner().isEqual(new h(e.to.row,e.to.col)))return this.getTopLeftCorner()}return t.isEqual(this.getBottomRightCorner())?this.getTopLeftCorner():t.isEqual(this.getTopLeftCorner())?this.getBottomRightCorner():t.isEqual(this.getTopRightCorner())?this.getBottomLeftCorner():t.isEqual(this.getBottomLeftCorner())?this.getTopRightCorner():void 0},f.prototype.getBordersSharedWith=function(t){if(!this.includesRange(t))return[];var e={top:Math.min(this.from.row,this.to.row),bottom:Math.max(this.from.row,this.to.row),left:Math.min(this.from.col,this.to.col),right:Math.max(this.from.col,this.to.col)},n={top:Math.min(t.from.row,t.to.row),bottom:Math.max(t.from.row,t.to.row),left:Math.min(t.from.col,t.to.col),right:Math.max(t.from.col,t.to.col)},r=[];return e.top==n.top&&r.push("top"),e.right==n.right&&r.push("right"),e.bottom==n.bottom&&r.push("bottom"),e.left==n.left&&r.push("left"),r},f.prototype.getInner=function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),n=[],r=t.row;r<=e.row;r++)for(var i=t.col;i<=e.col;i++)this.from.row===r&&this.from.col===i||this.to.row===r&&this.to.col===i||n.push(new h(r,i));return n},f.prototype.getAll=function(){for(var t=this.getTopLeftCorner(),e=this.getBottomRightCorner(),n=[],r=t.row;r<=e.row;r++)for(var i=t.col;i<=e.col;i++)n.push(t.row===r&&t.col===i?t:e.row===r&&e.col===i?e:new h(r,i));return n},f.prototype.forAll=function(t){for(var e=this.getTopLeftCorner(),n=this.getBottomRightCorner(),r=e.row;r<=n.row;r++)for(var i=e.col;i<=n.col;i++){var o=t(r,i);if(o===!1)return}},t.WalkontableCellRange=f,d.prototype.offsetted=function(t){return t+this.offset},d.prototype.unOffsetted=function(t){return t-this.offset},d.prototype.renderedToSource=function(t){return this.offsetted(t)},d.prototype.sourceToRendered=function(t){return this.unOffsetted(t)},d.prototype.offsettedTH=function(t){return t-this.countTH},d.prototype.unOffsettedTH=function(t){return t+this.countTH},d.prototype.visibleRowHeadedColumnToSourceColumn=function(t){return this.renderedToSource(this.offsettedTH(t))},d.prototype.sourceColumnToVisibleRowHeadedColumn=function(t){return this.unOffsettedTH(this.sourceToRendered(t))},p.prototype.getContainerSize=function(){return"function"==typeof this.containerSizeFn?this.containerSizeFn():this.containerSizeFn},p.prototype.getSize=function(t){return this.cellSizes[t]+(this.cellStretch[t]||0)},p.prototype.stretch=function(){var t=this.getContainerSize(),e=0;if(this.remainingSize=this.cellSizesSum-t,this.cellStretch.length=0,"all"===this.strategy){if(this.remainingSize<0){for(var n,r=t/this.cellSizesSum;e<this.cellCount-1;)n=Math.floor(r*this.cellSizes[e]),this.remainingSize+=n-this.cellSizes[e],this.cellStretch[e]=n-this.cellSizes[e],e++;this.cellStretch[this.cellCount-1]=-this.remainingSize,this.remainingSize=0}}else"last"===this.strategy&&this.remainingSize<0&&t!==1/0&&(this.cellStretch[this.cellCount-1]=-this.remainingSize,this.remainingSize=0)},p.prototype.countVisible=function(){return this.visibleCellCount},p.prototype.isLastIncomplete=function(){var t=this.instance.wtTable.getFirstVisibleRow(),n=this.instance.wtTable.getLastVisibleColumn(),r=this.instance.wtTable.getCell(new h(t,n)),i=e.Dom.offset(r),o=e.Dom.outerWidth(r),a=i.left+o,s=this.instance.wtScrollbars.vertical.getScrollPosition(),l=this.instance.wtViewport.getViewportWidth(),u=s+l;return u>=a},g.prototype.draw=function(t){return this.drawInterrupted=!1,t||e.Dom.isVisible(this.wtTable.TABLE)?(this.wtTable.draw(t),this):void(this.drawInterrupted=!0)},g.prototype.getCell=function(t,e){if(e){var n=this.wtSettings.getSetting("fixedRowsTop"),r=this.wtSettings.getSetting("fixedColumnsLeft");return t.row<n&&t.col<r?this.wtScrollbars.corner.clone.wtTable.getCell(t):t.row<n?this.wtScrollbars.vertical.clone.wtTable.getCell(t):t.col<r?this.wtScrollbars.horizontal.clone.wtTable.getCell(t):this.wtTable.getCell(t)}return this.wtTable.getCell(t)},g.prototype.update=function(t,e){return this.wtSettings.update(t,e)},g.prototype.scrollVertical=function(t){return this.wtScrollbars.vertical.scrollTo(t),this.getSetting("onScrollVertically"),this},g.prototype.scrollHorizontal=function(t){return this.wtScrollbars.horizontal.scrollTo(t),this.getSetting("onScrollHorizontally"),this},g.prototype.scrollViewport=function(t){return this.wtScroll.scrollViewport(t),this},g.prototype.getViewport=function(){return[this.wtTable.getFirstVisibleRow(),this.wtTable.getFirstVisibleColumn(),this.wtTable.getLastVisibleRow(),this.wtTable.getLastVisibleColumn()]},g.prototype.getSetting=function(t,e,n,r,i){return this.wtSettings.getSetting(t,e,n,r,i)},g.prototype.hasSetting=function(t){return this.wtSettings.has(t)},g.prototype.destroy=function(){this.wtScrollbars.destroy(),this.wtEvent&&this.wtEvent.destroy()},m.prototype=new u,m.prototype.destroy=function(){u.prototype.destroy.call(this),clearTimeout(this.lastTimeout)},v.prototype.parentCell=function(t){var n={},r=this.instance.wtTable.TABLE,i=e.Dom.closest(t,["TD","TH"],r);return i&&e.Dom.isChildOf(i,r)?(n.coords=this.instance.wtTable.getCoords(i),n.TD=i):e.Dom.hasClass(t,"wtBorder")&&e.Dom.hasClass(t,"current")?(n.coords=this.instance.selections.current.cellRange.highlight,n.TD=this.instance.wtTable.getCell(n.coords)):e.Dom.hasClass(t,"wtBorder")&&e.Dom.hasClass(t,"area")&&this.instance.selections.area.cellRange&&(n.coords=this.instance.selections.area.cellRange.to,n.TD=this.instance.wtTable.getCell(n.coords)),n},t.requestAnimFrame=function(){return t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e,n){return t.setTimeout(e,1e3/60)}}(),t.cancelRequestAnimFrame=function(){return t.cancelAnimationFrame||t.webkitCancelRequestAnimationFrame||t.mozCancelRequestAnimationFrame||t.oCancelRequestAnimationFrame||t.msCancelRequestAnimationFrame||clearTimeout}(),t.getComputedStyle||!function(){var e,n={getPropertyValue:function(t){return"float"==t&&(t="styleFloat"),e.currentStyle[t.toUpperCase()]||null}};t.getComputedStyle=function(t){return e=t,n}}(),!String.prototype.trim){var at=/^\s+|\s+$/g;String.prototype.trim=function(){return this.replace(at,"")}}w.prototype.offsetted=function(t){return t+this.offset},w.prototype.unOffsetted=function(t){return t-this.offset},w.prototype.renderedToSource=function(t){return this.offsetted(t)},w.prototype.sourceToRendered=function(t){return this.unOffsetted(t)},w.prototype.offsettedTH=function(t){return t-this.countTH},w.prototype.visibleColHeadedRowToSourceRow=function(t){return this.renderedToSource(this.offsettedTH(t))},w.prototype.sourceRowToVisibleColHeadedRow=function(t){return this.unOffsettedTH(this.sourceToRendered(t))},b.prototype.scrollViewport=function(t){if(this.instance.drawn){var e=this.instance.getSetting("totalRows"),n=this.instance.getSetting("totalColumns");if(t.row<0||t.row>e-1)throw new Error("row "+t.row+" does not exist");if(t.col<0||t.col>n-1)throw new Error("column "+t.col+" does not exist");t.row>this.instance.wtTable.getLastVisibleRow()?this.instance.wtScrollbars.vertical.scrollTo(t.row,!0):t.row>=this.instance.getSetting("fixedRowsTop")&&t.row<this.instance.wtTable.getFirstVisibleRow()&&this.instance.wtScrollbars.vertical.scrollTo(t.row),t.col>this.instance.wtTable.getLastVisibleColumn()?this.instance.wtScrollbars.horizontal.scrollTo(t.col,!0):t.col>=this.instance.getSetting("fixedColumnsLeft")&&t.col<this.instance.wtTable.getFirstVisibleColumn()&&this.instance.wtScrollbars.horizontal.scrollTo(t.col)}},x.prototype=new u,x.prototype.resetFixedPosition=function(){if(this.instance.wtTable.holder.parentNode){var n,r,i=this.clone.wtTable.holder.parentNode;if(this.scrollHandler===t){var o=this.instance.wtTable.holder.getBoundingClientRect(),a=Math.ceil(o.top),s=Math.ceil(o.left),l=Math.ceil(o.bottom),u=Math.ceil(o.right);n=0>s&&u-i.offsetWidth>0?-s+"px":"0",r=0>a&&l-i.offsetHeight>0?-a+"px":"0"}else e.freezeOverlays||(n=this.instance.wtScrollbars.horizontal.getScrollPosition()+"px",r=this.instance.wtScrollbars.vertical.getScrollPosition()+"px");e.Dom.setOverlayPosition(i,n,r),i.style.width=e.Dom.outerWidth(this.clone.wtTable.TABLE)+4+"px",i.style.height=e.Dom.outerHeight(this.clone.wtTable.TABLE)+4+"px"}},C.prototype=new u,C.prototype.resetFixedPosition=function(){var n,r;if(this.instance.wtTable.holder.parentNode){var i=this.clone.wtTable.holder.parentNode;if(this.scrollHandler===t){var o=this.instance.wtTable.holder.getBoundingClientRect(),a=Math.ceil(o.left),s=Math.ceil(o.right);n=0>a&&s-i.offsetWidth>0?-a+"px":"0",r=this.instance.wtTable.hider.style.top}else e.freezeOverlays||(n=this.getScrollPosition()+"px",r=this.instance.wtTable.hider.style.top);e.Dom.setOverlayPosition(i,n,r),i.style.height=e.Dom.outerHeight(this.clone.wtTable.TABLE)+"px",i.style.width=e.Dom.outerWidth(this.clone.wtTable.TABLE)+4+"px"}},C.prototype.refresh=function(t){this.applyToDOM(),u.prototype.refresh.call(this,t)},C.prototype.getScrollPosition=function(){return e.Dom.getScrollLeft(this.scrollHandler)},C.prototype.setScrollPosition=function(n){this.scrollHandler===t?t.scrollTo(n,e.Dom.getWindowScrollTop()):this.scrollHandler.scrollLeft=n},C.prototype.onScroll=function(){this.instance.getSetting("onScrollHorizontally")},C.prototype.sumCellSizes=function(t,e){for(var n=0;e>t;)n+=this.instance.wtTable.getStretchedColumnWidth(t)||this.instance.wtSettings.defaultColumnWidth,t++;return n},C.prototype.applyToDOM=function(){var t=this.instance.getSetting("totalColumns"),e=this.instance.wtViewport.getRowHeaderWidth();if(this.fixedContainer.style.width=e+this.sumCellSizes(0,t)+"px","number"==typeof this.instance.wtViewport.columnsRenderCalculator.startPosition)this.fixed.style.left=this.instance.wtViewport.columnsRenderCalculator.startPosition+"px";else{if(0!==t)throw new Error("Incorrect value of the columnsRenderCalculator");this.fixed.style.left="0"}this.fixed.style.right=""},C.prototype.scrollTo=function(t,e){var n=this.getTableParentOffset();if(e)n+=this.sumCellSizes(0,t+1),n-=this.instance.wtViewport.getViewportWidth();else{var r=this.instance.getSetting("fixedColumnsLeft");n+=this.sumCellSizes(r,t)}this.setScrollPosition(n)},C.prototype.getTableParentOffset=function(){return this.scrollHandler===t?this.instance.wtTable.holderOffset.left:0},T.prototype=new u,T.prototype.resetFixedPosition=function(){var n,r;if(this.instance.wtTable.holder.parentNode){var i=this.clone.wtTable.holder.parentNode;if(this.scrollHandler===t){var o=this.instance.wtTable.holder.getBoundingClientRect(),a=Math.ceil(o.top),s=Math.ceil(o.bottom);n=this.instance.wtTable.hider.style.left,r=0>a&&s-i.offsetHeight>0?-a+"px":"0"}else e.freezeOverlays||(r=this.getScrollPosition()+"px",n=this.instance.wtTable.hider.style.left);e.Dom.setOverlayPosition(i,n,r),i.style.width=this.instance.wtScrollbars.horizontal.scrollHandler===t?this.instance.wtViewport.getWorkspaceActualWidth()+"px":e.Dom.outerWidth(this.clone.wtTable.TABLE)+"px",i.style.height=e.Dom.outerHeight(this.clone.wtTable.TABLE)+4+"px"}},T.prototype.getScrollPosition=function(){return e.Dom.getScrollTop(this.scrollHandler)},T.prototype.setScrollPosition=function(n){this.scrollHandler===t?t.scrollTo(e.Dom.getWindowScrollLeft(),n):this.scrollHandler.scrollTop=n},T.prototype.onScroll=function(){this.instance.getSetting("onScrollVertically")},T.prototype.sumCellSizes=function(t,e){for(var n=0;e>t;)n+=this.instance.wtTable.getRowHeight(t)||this.instance.wtSettings.settings.defaultRowHeight,t++;return n},T.prototype.refresh=function(t){this.applyToDOM(),u.prototype.refresh.call(this,t)},T.prototype.applyToDOM=function(){var t=this.instance.getSetting("totalRows"),e=this.instance.wtViewport.getColumnHeaderHeight();if(this.fixedContainer.style.height=e+this.sumCellSizes(0,t)+"px","number"==typeof this.instance.wtViewport.rowsRenderCalculator.startPosition)this.fixed.style.top=this.instance.wtViewport.rowsRenderCalculator.startPosition+"px";else{if(0!==t)throw new Error("Incorrect value of the rowsRenderCalculator");this.fixed.style.top="0"}this.fixed.style.bottom=""},T.prototype.scrollTo=function(t,e){var n=this.getTableParentOffset();if(e)n+=this.sumCellSizes(0,t+1),n-=this.instance.wtViewport.getViewportHeight(),n+=1;else{var r=this.instance.getSetting("fixedRowsTop");n+=this.sumCellSizes(r,t)}this.setScrollPosition(n)},T.prototype.getTableParentOffset=function(){return this.scrollHandler===t?this.instance.wtTable.holderOffset.top:0},E.prototype.registerListeners=function(){var n=this;this.refreshAll=function(){if(n.instance.drawn){if(!n.instance.wtTable.holder.parentNode)return void n.destroy();n.instance.draw(!0),n.vertical.onScroll(),n.horizontal.onScroll()}};var r=e.eventManager(n.instance);r.addEventListener(this.vertical.scrollHandler,"scroll",this.refreshAll),this.vertical.scrollHandler!==this.horizontal.scrollHandler&&r.addEventListener(this.horizontal.scrollHandler,"scroll",this.refreshAll),this.vertical.scrollHandler!==t&&this.horizontal.scrollHandler!==t&&r.addEventListener(t,"scroll",this.refreshAll)},E.prototype.destroy=function(){var n=e.eventManager(this.instance);this.vertical&&(this.vertical.destroy(),n.removeEventListener(this.vertical.scrollHandler,"scroll",this.refreshAll)),this.horizontal&&(this.horizontal.destroy(),n.removeEventListener(this.horizontal.scrollHandler,"scroll",this.refreshAll)),n.removeEventListener(t,"scroll",this.refreshAll),this.corner&&this.corner.destroy(),this.debug&&this.debug.destroy()},E.prototype.refresh=function(t){this.horizontal&&this.horizontal.refresh(t),this.vertical&&this.vertical.refresh(t),this.corner&&this.corner.refresh(t),this.debug&&this.debug.refresh(t)},E.prototype.applyToDOM=function(){this.horizontal&&this.horizontal.applyToDOM(),this.vertical&&this.vertical.applyToDOM()},k.prototype.getBorder=function(t){return this.instanceBorders[t.guid]?this.instanceBorders[t.guid]:void(this.instanceBorders[t.guid]=new c(t,this.settings))},k.prototype.isEmpty=function(){return null===this.cellRange},k.prototype.add=function(t){this.isEmpty()?this.cellRange=new f(t,t,t):this.cellRange.expand(t)},k.prototype.replace=function(t,e){if(!this.isEmpty()){if(this.cellRange.from.isEqual(t))return this.cellRange.from=e,!0;if(this.cellRange.to.isEqual(t))return this.cellRange.to=e,!0}return!1},k.prototype.clear=function(){this.cellRange=null},k.prototype.getCorners=function(){var t=this.cellRange.getTopLeftCorner(),e=this.cellRange.getBottomRightCorner();return[t.row,t.col,e.row,e.col]},k.prototype.addClassAtCoords=function(t,n,r,i){var o=t.wtTable.getCell(new h(n,r));"object"==typeof o&&e.Dom.addClass(o,i)},k.prototype.draw=function(t){var n,r,i,o,a,s=this,l=t.wtTable.getRenderedRowsCount(),u=t.wtTable.getRenderedColumnsCount();if(this.isEmpty())return void(this.settings.border&&(o=this.getBorder(t),o&&o.disappear()));n=this.getCorners();for(var c=0;u>c;c++)i=t.wtTable.columnFilter.renderedToSource(c),i>=n[1]&&i<=n[3]&&(a=t.wtTable.getColumnHeader(i),a&&s.settings.highlightColumnClassName&&e.Dom.addClass(a,s.settings.highlightColumnClassName));for(var h=0;l>h;h++){r=t.wtTable.rowFilter.renderedToSource(h),r>=n[0]&&r<=n[2]&&(a=t.wtTable.getRowHeader(r),a&&s.settings.highlightRowClassName&&e.Dom.addClass(a,s.settings.highlightRowClassName));for(var c=0;u>c;c++)i=t.wtTable.columnFilter.renderedToSource(c),r>=n[0]&&r<=n[2]&&i>=n[1]&&i<=n[3]?s.settings.className&&s.addClassAtCoords(t,r,i,s.settings.className):r>=n[0]&&r<=n[2]?s.settings.highlightRowClassName&&s.addClassAtCoords(t,r,i,s.settings.highlightRowClassName):i>=n[1]&&i<=n[3]&&s.settings.highlightColumnClassName&&s.addClassAtCoords(t,r,i,s.settings.highlightColumnClassName)}t.getSetting("onBeforeDrawBorders",n,this.settings.className),this.settings.border&&(o=this.getBorder(t),o&&o.appear(n))},S.prototype.update=function(t,e){if(void 0===e)for(var n in t)t.hasOwnProperty(n)&&(this.settings[n]=t[n]);else this.settings[t]=e;return this.instance},S.prototype.getSetting=function(t,e,n,r,i){return"function"==typeof this.settings[t]?this.settings[t](e,n,r,i):void 0!==e&&Array.isArray(this.settings[t])?this.settings[t][e]:this.settings[t]},S.prototype.has=function(t){return!!this.settings[t]},_.prototype.isWorkingOnClone=function(){return!!this.instance.cloneSource},_.prototype.draw=function(t){if(this.isWorkingOnClone()||(this.holderOffset=e.Dom.offset(this.holder),t=this.instance.wtViewport.createRenderCalculators(t)),t)this.isWorkingOnClone()||this.instance.wtViewport.createVisibleCalculators(),this.instance.wtScrollbars&&this.instance.wtScrollbars.refresh(!0);else{this.tableOffset=this.isWorkingOnClone()?this.instance.cloneSource.wtTable.tableOffset:e.Dom.offset(this.TABLE);var n;n=this.instance.cloneOverlay instanceof m||this.instance.cloneOverlay instanceof T||this.instance.cloneOverlay instanceof x?0:this.instance.wtViewport.rowsRenderCalculator.startRow;var r;r=this.instance.cloneOverlay instanceof m||this.instance.cloneOverlay instanceof C||this.instance.cloneOverlay instanceof x?0:this.instance.wtViewport.columnsRenderCalculator.startColumn,this.rowFilter=new w(n,this.instance.getSetting("totalRows"),this.instance.getSetting("columnHeaders").length),this.columnFilter=new d(r,this.instance.getSetting("totalColumns"),this.instance.getSetting("rowHeaders").length),this._doDraw()}return this.refreshSelections(t),this.isWorkingOnClone()||(this.instance.wtScrollbars.vertical.resetFixedPosition(),this.instance.wtScrollbars.horizontal.resetFixedPosition(),this.instance.wtScrollbars.corner.resetFixedPosition()),this.instance.drawn=!0,this},_.prototype._doDraw=function(){var t=new $(this);t.render()},_.prototype.removeClassFromCells=function(t){for(var n=this.TABLE.querySelectorAll("."+t),r=0,i=n.length;i>r;r++)e.Dom.removeClass(n[r],t)},_.prototype.refreshSelections=function(t){var e,n;if(this.instance.selections){if(n=this.instance.selections.length,t)for(e=0;n>e;e++)this.instance.selections[e].settings.className&&this.removeClassFromCells(this.instance.selections[e].settings.className),this.instance.selections[e].settings.highlightRowClassName&&this.removeClassFromCells(this.instance.selections[e].settings.highlightRowClassName),this.instance.selections[e].settings.highlightColumnClassName&&this.removeClassFromCells(this.instance.selections[e].settings.highlightColumnClassName);for(e=0;n>e;e++)this.instance.selections[e].draw(this.instance,t)}},_.prototype.getCell=function(t){if(this.isRowBeforeRenderedRows(t.row))return-1;if(this.isRowAfterRenderedRows(t.row))return-2;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t.row)];return e?e.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t.col)]:void 0},_.prototype.getColumnHeader=function(t,e){e||(e=0);var n=this.THEAD.childNodes[e];return n?n.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(t)]:void 0},_.prototype.getRowHeader=function(t){if(0===this.columnFilter.sourceColumnToVisibleRowHeadedColumn(0))return null;var e=this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)];return e?e.childNodes[0]:void 0},_.prototype.getCoords=function(t){var n=t.parentNode,r=e.Dom.index(n);return r=n.parentNode===this.THEAD?this.rowFilter.visibleColHeadedRowToSourceRow(r):this.rowFilter.renderedToSource(r),new h(r,this.columnFilter.visibleRowHeadedColumnToSourceColumn(t.cellIndex))},_.prototype.getTrForRow=function(t){return this.TBODY.childNodes[this.rowFilter.sourceToRendered(t)]},_.prototype.getFirstRenderedRow=function(){return this.instance.wtViewport.rowsRenderCalculator.startRow},_.prototype.getFirstVisibleRow=function(){return this.instance.wtViewport.rowsVisibleCalculator.startRow},_.prototype.getFirstRenderedColumn=function(){return this.instance.wtViewport.columnsRenderCalculator.startColumn},_.prototype.getFirstVisibleColumn=function(){return this.instance.wtViewport.columnsVisibleCalculator.startColumn},_.prototype.getLastRenderedRow=function(){return this.instance.wtViewport.rowsRenderCalculator.endRow},_.prototype.getLastVisibleRow=function(){return this.instance.wtViewport.rowsVisibleCalculator.endRow},_.prototype.getLastRenderedColumn=function(){return this.instance.wtViewport.columnsRenderCalculator.endColumn;

},_.prototype.getLastVisibleColumn=function(){return this.instance.wtViewport.columnsVisibleCalculator.endColumn},_.prototype.isRowBeforeRenderedRows=function(t){return this.rowFilter.sourceToRendered(t)<0&&t>=0},_.prototype.isRowAfterViewport=function(t){return t>this.getLastVisibleRow()},_.prototype.isRowAfterRenderedRows=function(t){return t>this.getLastRenderedRow()},_.prototype.isColumnBeforeViewport=function(t){return this.columnFilter.sourceToRendered(t)<0&&t>=0},_.prototype.isColumnAfterViewport=function(t){return t>this.getLastVisibleColumn()},_.prototype.isLastRowFullyVisible=function(){return this.getLastVisibleRow()===this.getLastRenderedRow()},_.prototype.isLastColumnFullyVisible=function(){return this.getLastVisibleColumn()===this.getLastRenderedColumn},_.prototype.getRenderedColumnsCount=function(){return this.instance.cloneOverlay instanceof m?this.instance.getSetting("totalColumns"):this.instance.cloneOverlay instanceof C||this.instance.cloneOverlay instanceof x?this.instance.getSetting("fixedColumnsLeft"):this.instance.wtViewport.columnsRenderCalculator.count},_.prototype.getRenderedRowsCount=function(){return this.instance.cloneOverlay instanceof m?this.instance.getSetting("totalRows"):this.instance.cloneOverlay instanceof T||this.instance.cloneOverlay instanceof x?this.instance.getSetting("fixedRowsTop"):this.instance.wtViewport.rowsRenderCalculator.count},_.prototype.getVisibleRowsCount=function(){return this.instance.wtViewport.rowsVisibleCalculator.count},_.prototype.allRowsInViewport=function(){return this.instance.getSetting("totalRows")==this.getVisibleRowsCount()},_.prototype.getRowHeight=function(t){var e=this.instance.wtSettings.settings.rowHeight(t),n=this.instance.wtViewport.oversizedRows[t];return void 0!==n&&(e=e?Math.max(e,n):n),e},_.prototype.getColumnHeaderHeight=function(t){var e=this.instance.wtSettings.settings.defaultRowHeight,n=this.instance.wtViewport.oversizedColumnHeaders[t];return void 0!==n&&(e=e?Math.max(e,n):n),e},_.prototype.getVisibleColumnsCount=function(){return this.instance.wtViewport.columnsVisibleCalculator.count},_.prototype.allColumnsInViewport=function(){return this.instance.getSetting("totalColumns")==this.getVisibleColumnsCount()},_.prototype.getColumnWidth=function(t){var e=this.instance.wtSettings.settings.columnWidth;"function"==typeof e?e=e(t):"object"==typeof e&&(e=e[t]);var n=this.instance.wtViewport.oversizedCols[t];return void 0!==n&&(e=e?Math.max(e,n):n),e},_.prototype.getStretchedColumnWidth=function(t){var e,n=this.getColumnWidth(t)||this.instance.wtSettings.settings.defaultColumnWidth,r=this.instance.wtViewport.columnsRenderCalculator;return r&&(e=r.getStretchedColumnWidth(t,n),e&&(n=e)),n},$.prototype.render=function(){this.wtTable.isWorkingOnClone()||this.instance.getSetting("beforeDraw",!0),this.rowHeaders=this.instance.getSetting("rowHeaders"),this.rowHeaderCount=this.rowHeaders.length,this.fixedRowsTop=this.instance.getSetting("fixedRowsTop"),this.columnHeaders=this.instance.getSetting("columnHeaders"),this.columnHeaderCount=this.columnHeaders.length;var t,e,n=this.instance.getSetting("totalRows"),r=this.instance.getSetting("totalColumns"),i=!1,o=this.wtTable.getRenderedRowsCount();if(r>0&&(this.adjustAvailableNodes(),i=!0,this.renderColGroups(),this.renderColumnHeaders(),t=this.wtTable.getRenderedColumnsCount(),this.renderRows(n,o,t),this.wtTable.isWorkingOnClone()?this.adjustColumnHeaderHeights():(e=this.instance.wtViewport.getWorkspaceWidth(),this.instance.wtViewport.containerWidth=null),this.adjustColumnWidths(t)),i||this.adjustAvailableNodes(),this.removeRedundantRows(o),!this.wtTable.isWorkingOnClone()){if(this.markOversizedRows(),this.instance.wtViewport.createVisibleCalculators(),this.instance.wtScrollbars.applyToDOM(),e!==this.instance.wtViewport.getWorkspaceWidth()){this.instance.wtViewport.containerWidth=null;for(var a=this.wtTable.getFirstRenderedColumn(),s=this.wtTable.getLastRenderedColumn(),l=a;s>l;l++){var u=this.wtTable.getStretchedColumnWidth(l),c=this.columnFilter.sourceToRendered(l);this.COLGROUP.childNodes[c+this.rowHeaderCount].style.width=u+"px"}}this.instance.wtScrollbars.refresh(!1),this.instance.getSetting("onDraw",!0)}},$.prototype.removeRedundantRows=function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--},$.prototype.renderRows=function(t,e,n){for(var r,i,o=0,a=this.rowFilter.renderedToSource(o),s=this.wtTable.isWorkingOnClone();t>a&&a>=0;){if(o>1e3)throw new Error("Security brake: Too much TRs. Please define height for your table, which will enforce scrollbars.");if(void 0!==e&&o===e)break;if(i=this.getOrCreateTrForRow(o,i),this.renderRowHeaders(a,i),this.adjustColumns(i,n+this.rowHeaderCount),r=this.renderCells(a,i,n),s||this.resetOversizedRow(a),i.firstChild){var l=this.instance.wtTable.getRowHeight(a);i.firstChild.style.height=l?l+"px":""}o++,a=this.rowFilter.renderedToSource(o)}},$.prototype.resetOversizedRow=function(t){this.instance.wtViewport.oversizedRows&&this.instance.wtViewport.oversizedRows[t]&&(this.instance.wtViewport.oversizedRows[t]=void 0)},$.prototype.markOversizedRows=function(){for(var t,n,r,i,o=this.instance.wtTable.TBODY.childNodes.length;o;)o--,r=this.instance.wtTable.rowFilter.renderedToSource(o),t=this.instance.wtTable.getRowHeight(r),i=this.instance.wtTable.getTrForRow(r),n=e.Dom.innerHeight(i)-1,(!t&&this.instance.wtSettings.settings.defaultRowHeight<n||n>t)&&(this.instance.wtViewport.oversizedRows[r]=n)},$.prototype.adjustColumnHeaderHeights=function(){for(var t=this.instance.getSetting("columnHeaders"),e=0,n=t.length;n>e;e++)if(this.instance.wtViewport.oversizedColumnHeaders[e]){if(0===this.instance.wtTable.THEAD.childNodes[e].childNodes.length)return;this.instance.wtTable.THEAD.childNodes[e].childNodes[0].style.height=this.instance.wtViewport.oversizedColumnHeaders[e]+"px"}},$.prototype.markIfOversizedColumnHeader=function(t){var n,r,i,o,a=(0!==this.instance.wtTable.THEAD.childNodes.length?this.instance.wtTable.THEAD.childNodes[0].childNodes.length:0,this.instance.getSetting("columnHeaders")),s=a.length,l=s;for(n=this.instance.wtTable.columnFilter.renderedToSource(t);l;)l--,r=this.instance.wtTable.getColumnHeaderHeight(l),i=this.instance.wtTable.getColumnHeader(n,l),i&&(o=e.Dom.innerHeight(i)-1,(!r&&this.instance.wtSettings.settings.defaultRowHeight<o||o>r)&&(this.instance.wtViewport.oversizedColumnHeaders[l]=o))},$.prototype.renderCells=function(t,n,r){for(var i,o,a=0;r>a;a++)o=this.columnFilter.renderedToSource(a),i=0===a?n.childNodes[this.columnFilter.sourceColumnToVisibleRowHeadedColumn(o)]:i.nextSibling,"TH"==i.nodeName&&(i=this.utils.replaceThWithTd(i,n)),e.Dom.hasClass(i,"hide")||(i.className=""),i.removeAttribute("style"),this.instance.wtSettings.settings.cellRenderer(t,o,i);return i},$.prototype.adjustColumnWidths=function(t){var e;this.instance.wtViewport.columnsRenderCalculator.refreshStretching(this.instance.wtViewport.getViewportWidth());for(var n=0;t>n;n++)e=this.wtTable.getStretchedColumnWidth(this.columnFilter.renderedToSource(n)),this.COLGROUP.childNodes[n+this.rowHeaderCount].style.width=e+"px"},$.prototype.appendToTbody=function(t){this.TBODY.appendChild(t),this.wtTable.tbodyChildrenLength++},$.prototype.getOrCreateTrForRow=function(t,e){var n;return t>=this.wtTable.tbodyChildrenLength?(n=this.createRow(),this.appendToTbody(n)):n=0===t?this.TBODY.firstChild:e.nextSibling,n},$.prototype.createRow=function(){for(var t=document.createElement("TR"),e=0;e<this.rowHeaderCount;e++)t.appendChild(document.createElement("TH"));return t},$.prototype.renderRowHeader=function(t,e,n){n.className="",n.removeAttribute("style"),this.rowHeaders[e](t,n,e)},$.prototype.renderRowHeaders=function(t,e){for(var n=e.firstChild,r=0;r<this.rowHeaderCount;r++)n?"TD"==n.nodeName&&(n=this.utils.replaceTdWithTh(n,e)):(n=document.createElement("TH"),e.appendChild(n)),this.renderRowHeader(t,r,n),n=n.nextSibling},$.prototype.adjustAvailableNodes=function(){this.adjustColGroups(),this.adjustThead()},$.prototype.renderColumnHeaders=function(){if(this.columnHeaderCount)for(var t,e,n=this.wtTable.getRenderedColumnsCount(),r=0;r<this.columnHeaderCount;r++)for(t=this.getTrForColumnHeaders(r),e=-1*this.rowHeaderCount;n>e;e++){var i=this.columnFilter.renderedToSource(e);this.renderColumnHeader(r,i,t.childNodes[e+this.rowHeaderCount]),this.wtTable.isWorkingOnClone()||this.markIfOversizedColumnHeader(e)}},$.prototype.adjustColGroups=function(){for(var t=this.wtTable.getRenderedColumnsCount();this.wtTable.colgroupChildrenLength<t+this.rowHeaderCount;)this.COLGROUP.appendChild(document.createElement("COL")),this.wtTable.colgroupChildrenLength++;for(;this.wtTable.colgroupChildrenLength>t+this.rowHeaderCount;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.wtTable.colgroupChildrenLength--},$.prototype.adjustThead=function(){var t=this.wtTable.getRenderedColumnsCount(),n=this.THEAD.firstChild;if(this.columnHeaders.length){for(var r=0,i=this.columnHeaders.length;i>r;r++){for(n=this.THEAD.childNodes[r],n||(n=document.createElement("TR"),this.THEAD.appendChild(n)),this.theadChildrenLength=n.childNodes.length;this.theadChildrenLength<t+this.rowHeaderCount;)n.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>t+this.rowHeaderCount;)n.removeChild(n.lastChild),this.theadChildrenLength--}var o=this.THEAD.childNodes.length;if(o>this.columnHeaders.length)for(var r=this.columnHeaders.length;o>r;r++)this.THEAD.removeChild(this.THEAD.lastChild)}else n&&e.Dom.empty(n)},$.prototype.getTrForColumnHeaders=function(t){var e=this.THEAD.childNodes[t];return e},$.prototype.renderColumnHeader=function(t,e,n){return n.className="",n.removeAttribute("style"),this.columnHeaders[t](e,n,t)},$.prototype.renderColGroups=function(){for(var t=0;t<this.wtTable.colgroupChildrenLength;t++)t<this.rowHeaderCount?e.Dom.addClass(this.COLGROUP.childNodes[t],"rowHeader"):e.Dom.removeClass(this.COLGROUP.childNodes[t],"rowHeader")},$.prototype.adjustColumns=function(t,e){for(var n=t.childNodes.length;e>n;){var r=document.createElement("TD");t.appendChild(r),n++}for(;n>e;)t.removeChild(t.lastChild),n--},$.prototype.removeRedundantColumns=function(t){for(;this.wtTable.tbodyChildrenLength>t;)this.TBODY.removeChild(this.TBODY.lastChild),this.wtTable.tbodyChildrenLength--},$.utils={},$.utils.replaceTdWithTh=function(t,e){var n;return n=document.createElement("TH"),e.insertBefore(n,t),e.removeChild(t),n},$.utils.replaceThWithTd=function(t,e){var n=document.createElement("TD");return e.insertBefore(n,t),e.removeChild(t),n},A.prototype.getWorkspaceHeight=function(){var n=this.instance.wtScrollbars.vertical.scrollHandler;if(n===t)return document.documentElement.clientHeight;var r=e.Dom.outerHeight(n),i=r>0&&n.clientHeight>0?n.clientHeight:1/0;return i},A.prototype.getWorkspaceWidth=function(){var n,r,i=this.instance.getSetting("totalColumns"),o=this.instance.wtScrollbars.horizontal.scrollHandler,a=this.instance.getSetting("stretchH");return n=e.freezeOverlays?Math.min(document.documentElement.offsetWidth-this.getWorkspaceOffset().left,document.documentElement.offsetWidth):Math.min(this.getContainerFillWidth(),document.documentElement.offsetWidth-this.getWorkspaceOffset().left,document.documentElement.offsetWidth),o===t&&i>0&&this.sumColumnWidths(0,i-1)>n?document.documentElement.clientWidth:o!==t&&(r=this.instance.wtScrollbars.horizontal.scrollHandler.style.overflow,"scroll"==r||"hidden"==r||"auto"==r)?Math.max(n,o.clientWidth):"none"!==a&&a?n:Math.max(n,e.Dom.outerWidth(this.instance.wtTable.TABLE))},A.prototype.sumColumnWidths=function(t,e){for(var n=0;e>t;)n+=this.instance.wtTable.getColumnWidth(t)||this.instance.wtSettings.defaultColumnWidth,t++;return n},A.prototype.getContainerFillWidth=function(){if(this.containerWidth)return this.containerWidth;for(var t,e,n=this.instance.wtTable.holder;n.parentNode!=document.body&&null!=n.parentNode&&-1===n.className.indexOf("handsontable");)n=n.parentNode;return e=document.createElement("DIV"),e.style.width="100%",e.style.height="1px",n.appendChild(e),t=e.offsetWidth,this.containerWidth=t,n.removeChild(e),t},A.prototype.getWorkspaceOffset=function(){return e.Dom.offset(this.instance.wtTable.TABLE)},A.prototype.getWorkspaceActualHeight=function(){return e.Dom.outerHeight(this.instance.wtTable.TABLE)},A.prototype.getWorkspaceActualWidth=function(){return e.Dom.outerWidth(this.instance.wtTable.TABLE)||e.Dom.outerWidth(this.instance.wtTable.TBODY)||e.Dom.outerWidth(this.instance.wtTable.THEAD)},A.prototype.getColumnHeaderHeight=function(){return isNaN(this.columnHeaderHeight)&&(this.columnHeaderHeight=e.Dom.outerHeight(this.instance.wtTable.THEAD)),this.columnHeaderHeight},A.prototype.getViewportHeight=function(){var t=this.getWorkspaceHeight();if(t===1/0)return t;var e=this.getColumnHeaderHeight();return e>0&&(t-=e),t},A.prototype.getRowHeaderWidth=function(){if(this.instance.cloneSource)return this.instance.cloneSource.wtViewport.getRowHeaderWidth();if(isNaN(this.rowHeaderWidth)){var t=this.instance.getSetting("rowHeaders");if(t.length){var n=this.instance.wtTable.TABLE.querySelector("TH");this.rowHeaderWidth=0;for(var r=0,i=t.length;i>r;r++)n?(this.rowHeaderWidth+=e.Dom.outerWidth(n),n=n.nextSibling):this.rowHeaderWidth+=50}else this.rowHeaderWidth=0}return this.rowHeaderWidth},A.prototype.getViewportWidth=function(){var t,e=this.getWorkspaceWidth();return e===1/0?e:(t=this.getRowHeaderWidth(),t>0?e-t:e)},A.prototype.createRowsCalculator=function(t){this.rowHeaderWidth=0/0;var e;e=this.instance.wtSettings.settings.renderAllRows?1/0:this.getViewportHeight();var n=this.instance.wtScrollbars.vertical.getScrollPosition()-this.instance.wtScrollbars.vertical.getTableParentOffset();0>n&&(n=0);var r=this.instance.getSetting("fixedRowsTop");if(r){var i=this.instance.wtScrollbars.vertical.sumCellSizes(0,r);n+=i,e-=i}var o=this;return new M(e,n,this.instance.getSetting("totalRows"),function(t){return o.instance.wtTable.getRowHeight(t)},t?null:this.instance.wtSettings.settings.viewportRowCalculatorOverride,t?!0:!1)},A.prototype.createColumnsCalculator=function(t){this.columnHeaderHeight=0/0;var e=this.getViewportWidth(),n=this.instance.wtScrollbars.horizontal.getScrollPosition()-this.instance.wtScrollbars.vertical.getTableParentOffset();0>n&&(n=0);var r=this.instance.getSetting("fixedColumnsLeft");if(r){var i=this.instance.wtScrollbars.horizontal.sumCellSizes(0,r);n+=i,e-=i}var o=this;return new D(e,n,this.instance.getSetting("totalColumns"),function(t){return o.instance.wtTable.getColumnWidth(t)},t?null:this.instance.wtSettings.settings.viewportColumnCalculatorOverride,t?!0:!1,this.instance.getSetting("stretchH"))},A.prototype.createRenderCalculators=function(t){if(t){var e=this.createRowsCalculator(!0),n=this.createColumnsCalculator(!0);this.areAllProposedVisibleRowsAlreadyRendered(e)&&this.areAllProposedVisibleColumnsAlreadyRendered(n)||(t=!1)}return t||(this.rowsRenderCalculator=this.createRowsCalculator(),this.columnsRenderCalculator=this.createColumnsCalculator()),this.rowsVisibleCalculator=null,this.columnsVisibleCalculator=null,t},A.prototype.createVisibleCalculators=function(){this.rowsVisibleCalculator=this.createRowsCalculator(!0),this.columnsVisibleCalculator=this.createColumnsCalculator(!0)},A.prototype.areAllProposedVisibleRowsAlreadyRendered=function(t){return this.rowsVisibleCalculator?t.startRow<this.rowsRenderCalculator.startRow||t.startRow===this.rowsRenderCalculator.startRow&&t.startRow>0?!1:t.endRow>this.rowsRenderCalculator.endRow||t.endRow===this.rowsRenderCalculator.endRow&&t.endRow<this.instance.getSetting("totalRows")-1?!1:!0:!1},A.prototype.areAllProposedVisibleColumnsAlreadyRendered=function(t){return this.columnsVisibleCalculator?t.startColumn<this.columnsRenderCalculator.startColumn||t.startColumn===this.columnsRenderCalculator.startColumn&&t.startColumn>0?!1:t.endColumn>this.columnsRenderCalculator.endColumn||t.endColumn===this.columnsRenderCalculator.endColumn&&t.endColumn<this.instance.getSetting("totalColumns")-1?!1:!0:!1},t.jQuery&&!function(t,e,n){e.fn.handsontable=function(t){var e,r,i,o,a,s=this.first(),l=s.data("handsontable");if("string"!=typeof t)return a=t||{},l?l.updateSettings(a):(l=new n.Core(s[0],a),s.data("handsontable",l),l.init()),s;if(i=[],arguments.length>1)for(e=1,r=arguments.length;r>e;e++)i.push(arguments[e]);if(l){if("undefined"==typeof l[t])throw new Error("Handsontable do not provide action: "+t);o=l[t].apply(l,i),"destroy"===t&&s.removeData()}return o}}(t,jQuery,e)}(window,Handsontable),/*!
 * numeral.js
 * version : 1.5.3
 * author : Adam Draper
 * license : MIT
 * http://adamwdraper.github.com/Numeral-js/
 */
function(){function t(t){this._value=t}function e(t,e,n,r){var i,o,a=Math.pow(10,e);return o=(n(t*a)/a).toFixed(e),r&&(i=new RegExp("0{1,"+r+"}$"),o=o.replace(i,"")),o}function n(t,e,n){var r;return r=e.indexOf("$")>-1?i(t,e,n):e.indexOf("%")>-1?o(t,e,n):e.indexOf(":")>-1?a(t,e):l(t._value,e,n)}function r(t,e){var n,r,i,o,a,l=e,u=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1;if(e.indexOf(":")>-1)t._value=s(e);else if(e===m)t._value=0;else{for("."!==p[g].delimiters.decimal&&(e=e.replace(/\./g,"").replace(p[g].delimiters.decimal,".")),n=new RegExp("[^a-zA-Z]"+p[g].abbreviations.thousand+"(?:\\)|(\\"+p[g].currency.symbol+")?(?:\\))?)?$"),r=new RegExp("[^a-zA-Z]"+p[g].abbreviations.million+"(?:\\)|(\\"+p[g].currency.symbol+")?(?:\\))?)?$"),i=new RegExp("[^a-zA-Z]"+p[g].abbreviations.billion+"(?:\\)|(\\"+p[g].currency.symbol+")?(?:\\))?)?$"),o=new RegExp("[^a-zA-Z]"+p[g].abbreviations.trillion+"(?:\\)|(\\"+p[g].currency.symbol+")?(?:\\))?)?$"),a=0;a<=u.length&&!(c=e.indexOf(u[a])>-1?Math.pow(1024,a+1):!1);a++);t._value=(c?c:1)*(l.match(n)?Math.pow(10,3):1)*(l.match(r)?Math.pow(10,6):1)*(l.match(i)?Math.pow(10,9):1)*(l.match(o)?Math.pow(10,12):1)*(e.indexOf("%")>-1?.01:1)*((e.split("-").length+Math.min(e.split("(").length-1,e.split(")").length-1))%2?1:-1)*Number(e.replace(/[^0-9\.]+/g,"")),t._value=c?Math.ceil(t._value):t._value}return t._value}function i(t,e,n){var r,i,o=e.indexOf("$"),a=e.indexOf("("),s=e.indexOf("-"),u="";return e.indexOf(" $")>-1?(u=" ",e=e.replace(" $","")):e.indexOf("$ ")>-1?(u=" ",e=e.replace("$ ","")):e=e.replace("$",""),i=l(t._value,e,n),1>=o?i.indexOf("(")>-1||i.indexOf("-")>-1?(i=i.split(""),r=1,(a>o||s>o)&&(r=0),i.splice(r,0,p[g].currency.symbol+u),i=i.join("")):i=p[g].currency.symbol+u+i:i.indexOf(")")>-1?(i=i.split(""),i.splice(-1,0,u+p[g].currency.symbol),i=i.join("")):i=i+u+p[g].currency.symbol,i}function o(t,e,n){var r,i="",o=100*t._value;return e.indexOf(" %")>-1?(i=" ",e=e.replace(" %","")):e=e.replace("%",""),r=l(o,e,n),r.indexOf(")")>-1?(r=r.split(""),r.splice(-1,0,i+"%"),r=r.join("")):r=r+i+"%",r}function a(t){var e=Math.floor(t._value/60/60),n=Math.floor((t._value-60*e*60)/60),r=Math.round(t._value-60*e*60-60*n);return e+":"+(10>n?"0"+n:n)+":"+(10>r?"0"+r:r)}function s(t){var e=t.split(":"),n=0;return 3===e.length?(n+=60*Number(e[0])*60,n+=60*Number(e[1]),n+=Number(e[2])):2===e.length&&(n+=60*Number(e[0]),n+=Number(e[1])),Number(n)}function l(t,n,r){var i,o,a,s,l,u,c=!1,h=!1,f=!1,d="",v=!1,y=!1,w=!1,b=!1,x=!1,C="",T="",E=Math.abs(t),k=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],S="",_=!1;if(0===t&&null!==m)return m;if(n.indexOf("(")>-1?(c=!0,n=n.slice(1,-1)):n.indexOf("+")>-1&&(h=!0,n=n.replace(/\+/g,"")),n.indexOf("a")>-1&&(v=n.indexOf("aK")>=0,y=n.indexOf("aM")>=0,w=n.indexOf("aB")>=0,b=n.indexOf("aT")>=0,x=v||y||w||b,n.indexOf(" a")>-1?(d=" ",n=n.replace(" a","")):n=n.replace("a",""),E>=Math.pow(10,12)&&!x||b?(d+=p[g].abbreviations.trillion,t/=Math.pow(10,12)):E<Math.pow(10,12)&&E>=Math.pow(10,9)&&!x||w?(d+=p[g].abbreviations.billion,t/=Math.pow(10,9)):E<Math.pow(10,9)&&E>=Math.pow(10,6)&&!x||y?(d+=p[g].abbreviations.million,t/=Math.pow(10,6)):(E<Math.pow(10,6)&&E>=Math.pow(10,3)&&!x||v)&&(d+=p[g].abbreviations.thousand,t/=Math.pow(10,3))),n.indexOf("b")>-1)for(n.indexOf(" b")>-1?(C=" ",n=n.replace(" b","")):n=n.replace("b",""),a=0;a<=k.length;a++)if(i=Math.pow(1024,a),o=Math.pow(1024,a+1),t>=i&&o>t){C+=k[a],i>0&&(t/=i);break}return n.indexOf("o")>-1&&(n.indexOf(" o")>-1?(T=" ",n=n.replace(" o","")):n=n.replace("o",""),T+=p[g].ordinal(t)),n.indexOf("[.]")>-1&&(f=!0,n=n.replace("[.]",".")),s=t.toString().split(".")[0],l=n.split(".")[1],u=n.indexOf(","),l?(l.indexOf("[")>-1?(l=l.replace("]",""),l=l.split("["),S=e(t,l[0].length+l[1].length,r,l[1].length)):S=e(t,l.length,r),s=S.split(".")[0],S=S.split(".")[1].length?p[g].delimiters.decimal+S.split(".")[1]:"",f&&0===Number(S.slice(1))&&(S="")):s=e(t,null,r),s.indexOf("-")>-1&&(s=s.slice(1),_=!0),u>-1&&(s=s.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+p[g].delimiters.thousands)),0===n.indexOf(".")&&(s=""),(c&&_?"(":"")+(!c&&_?"-":"")+(!_&&h?"+":"")+s+S+(T?T:"")+(d?d:"")+(C?C:"")+(c&&_?")":"")}function u(t,e){p[t]=e}function c(t){var e=t.toString().split(".");return e.length<2?1:Math.pow(10,e[1].length)}function h(){var t=Array.prototype.slice.call(arguments);return t.reduce(function(t,e){var n=c(t),r=c(e);return n>r?n:r},-(1/0))}var f,d="1.5.3",p={},g="en",m=null,v="0,0",y="undefined"!=typeof module&&module.exports;f=function(e){return f.isNumeral(e)?e=e.value():0===e||"undefined"==typeof e?e=0:Number(e)||(e=f.fn.unformat(e)),new t(Number(e))},f.version=d,f.isNumeral=function(e){return e instanceof t},f.language=function(t,e){if(!t)return g;if(t=t.toLowerCase(),t&&!e){if(!p[t])throw new Error("Unknown language : "+t);g=t}return(e||!p[t])&&u(t,e),f},f.languageData=function(t){if(!t)return p[g];if(!p[t])throw new Error("Unknown language : "+t);return p[t]},f.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),f.zeroFormat=function(t){m="string"==typeof t?t:null},f.defaultFormat=function(t){v="string"==typeof t?t:"0.0"},f.validate=function(t,e){var n,r,i,o,a,s,l,u;if("string"!=typeof t&&(t+="",console.warn&&console.warn("Numeral.js: Value is not string. It has been co-erced to: ",t)),t=t.trim(),""===t)return!1;t=t.replace(/^[+-]?/,"");try{l=f.languageData(e)}catch(c){l=f.languageData(f.language())}return i=l.currency.symbol,a=l.abbreviations,n=l.delimiters.decimal,r="."===l.delimiters.thousands?"\\.":l.delimiters.thousands,u=t.match(/^[^\d]+/),null!==u&&(t=t.substr(1),u[0]!==i)?!1:(u=t.match(/[^\d]+$/),null!==u&&(t=t.slice(0,-1),u[0]!==a.thousand&&u[0]!==a.million&&u[0]!==a.billion&&u[0]!==a.trillion)?!1:t.match(/^\d+$/)?!0:(s=new RegExp(r+"{2}"),t.match(/[^\d.,]/g)?!1:(o=t.split(n),o.length>2?!1:o.length<2?!!o[0].match(/^\d+.*\d$/)&&!o[0].match(s):1===o[0].length?!!o[0].match(/^\d+$/)&&!o[0].match(s)&&!!o[1].match(/^\d+$/):!!o[0].match(/^\d+.*\d$/)&&!o[0].match(s)&&!!o[1].match(/^\d+$/))))},"function"!=typeof Array.prototype.reduce&&(Array.prototype.reduce=function(t,e){"use strict";if(null===this||"undefined"==typeof this)throw new TypeError("Array.prototype.reduce called on null or undefined");if("function"!=typeof t)throw new TypeError(t+" is not a function");var n,r,i=this.length>>>0,o=!1;for(1<arguments.length&&(r=e,o=!0),n=0;i>n;++n)this.hasOwnProperty(n)&&(o?r=t(r,this[n],n,this):(r=this[n],o=!0));if(!o)throw new TypeError("Reduce of empty array with no initial value");return r}),f.fn=t.prototype={clone:function(){return f(this)},format:function(t,e){return n(this,t?t:v,void 0!==e?e:Math.round)},unformat:function(t){return"[object Number]"===Object.prototype.toString.call(t)?t:r(this,t?t:v)},value:function(){return this._value},valueOf:function(){return this._value},set:function(t){return this._value=Number(t),this},add:function(t){function e(t,e,r,i){return t+n*e}var n=h.call(null,this._value,t);return this._value=[this._value,t].reduce(e,0)/n,this},subtract:function(t){function e(t,e,r,i){return t-n*e}var n=h.call(null,this._value,t);return this._value=[t].reduce(e,this._value*n)/n,this},multiply:function(t){function e(t,e,n,r){var i=h(t,e);return t*i*e*i/(i*i)}return this._value=[this._value,t].reduce(e,1),this},divide:function(t){function e(t,e,n,r){var i=h(t,e);return t*i/(e*i)}return this._value=[this._value,t].reduce(e),this},difference:function(t){return Math.abs(f(this._value).subtract(t).value())}},y&&(module.exports=f),"undefined"==typeof ender&&(this.numeral=f),"function"==typeof define&&define.amd&&define([],function(){return f})}.call(this),/**
 * ngHandsontable 0.5.2
 * 
 * Copyright 2012-2015 Marcin Warpechowski
 * Licensed under the MIT license.
 * https://github.com/handsontable/ngHandsontable
 * Date: Wed Apr 08 2015 16:48:57 GMT+0200 (Środkowoeuropejski czas letni)
*/
document.all&&!document.addEventListener&&(document.createElement("hot-table"),document.createElement("hot-column"),document.createElement("hot-autocomplete")),angular.module("ngHandsontable",["ngHandsontable.services","ngHandsontable.directives"]),angular.module("ngHandsontable.services",[]).factory("settingFactory",[function(){return{containerClassName:"handsontable-container",initializeHandsontable:function(t,e){var n=document.createElement("DIV");return n.className=this.containerClassName,t[0].appendChild(n),new Handsontable(n,e)},updateHandsontableSettings:function(t,e){t&&t.updateSettings(e)},renderHandsontable:function(t){t&&t.render()},setHandsontableSettingsFromScope:function(t,e){var n,r={},i=angular.extend({},e);angular.extend(i,e.settings);for(n in t)t.hasOwnProperty(n)&&"undefined"!=typeof i[t[n]]&&(r[t[n]]=i[t[n]]);return r},getScopeDefinition:function(t){for(var e={datarows:"=",settings:"="},n=0,r=t.length;r>n;n++)e[t[n]]="="+t[n].toLowerCase();return e}}}]).factory("autoCompleteFactory",[function(){return{parseAutoComplete:function(t,e,n,r){e.source=function(i,o){var a=t.getSelected()[0],s=[],l=n[a];if(l){var u=e.optionList;if(u.object){if(angular.isArray(u.object))s=u.object;else{for(var c=u.object.split("."),h=l;c.length>0;){var f=c.shift();h=h[f]}if(r)for(var d=0,p=h.length;p>d;d++)s.push(h[d][u.property]);else s=h}o(s)}}}}}}]),angular.module("ngHandsontable.directives",[]).directive("hotTable",["settingFactory","autoCompleteFactory","$rootScope","$parse",function(t,e,n,r){var i=Object.keys(Handsontable.DefaultSettings.prototype),o=Object.keys(Handsontable.PluginHooks.hooks),a=i.concat(o);return{restrict:"EA",scope:t.getScopeDefinition(a),controller:["$scope",function(t){this.setColumnSetting=function(e){t.htSettings||(t.htSettings={}),t.htSettings.columns||(t.htSettings.columns=[]),t.htSettings.columns.push(e)}}],link:function(i,o,s){if(i.htSettings||(i.htSettings={}),i.htSettings.data=i.datarows,angular.extend(i.htSettings,t.setHandsontableSettingsFromScope(a,i)),i.hotInstance=t.initializeHandsontable(o,i.htSettings),i.htSettings.columns){for(var l=0,u=i.htSettings.columns.length;u>l;l++)if("autocomplete"==i.htSettings.columns[l].type){if("string"==typeof i.htSettings.columns[l].optionList){var c={},h=i.htSettings.columns[l].optionList.match(/^\s*(.+)\s+in\s+(.*)\s*$/);h?(c.property=h[1],c.object=h[2]):c.object=c,i.htSettings.columns[l].optionList=c}e.parseAutoComplete(i.hotInstance,i.htSettings.columns[l],i.datarows,!0)}i.hotInstance.updateSettings(i.htSettings)}i.htSettings.afterChange=function(){n.$$phase||i.$apply()};var f=s.columns;i.$parent.$watch(function(){var t=i.$parent;return f?angular.toJson(r(f)(t)):void 0},function(){angular.extend(i.htSettings,t.setHandsontableSettingsFromScope(a,i.$parent)),t.updateHandsontableSettings(i.hotInstance,i.htSettings)}),i.$parent.$watch(function(){var t=i.$parent;return angular.toJson(r(s.datarows)(t))},function(){t.renderHandsontable(i.hotInstance)}),i.$watch("datarows",function(e,n){n.length==i.htSettings.minSpareRows&&e.length!=i.htSettings.minSpareRows&&(i.htSettings.data=i.datarows,t.updateHandsontableSettings(i.hotInstance,i.htSettings))})}}}]).directive("hotColumn",[function(){return{restrict:"E",require:"^hotTable",scope:{},controller:["$scope",function(t){this.setColumnOptionList=function(e){t.column||(t.column={});var n={},r=e.match(/^\s*(.+)\s+in\s+(.*)\s*$/);r?(n.property=r[1],n.object=r[2]):n.object=e.split(","),t.column.optionList=n}}],link:function(t,e,n,r){var i={};for(var o in n)n.hasOwnProperty(o)&&"$"!==o.charAt(0)&&"undefined"==typeof i[o]&&("data"===o?i.data=n[o]:i[o]=t.$eval(n[o]));switch(i.type){case"checkbox":"undefined"!=typeof n.checkedtemplate&&(i.checkedTemplate=t.$eval(n.checkedtemplate)),"undefined"!=typeof n.uncheckedtemplate&&(i.uncheckedTemplate=t.$eval(n.uncheckedtemplate))}"undefined"!=typeof n.readonly&&(i.readOnly=!0),t.column||(t.column={}),angular.extend(t.column,i),r.setColumnSetting(t.column)}}}]).directive("hotAutocomplete",[function(){return{restrict:"E",scope:!0,require:"^hotColumn",link:function(t,e,n,r){var i=n.datarows;r.setColumnOptionList(i)}}}]),/**
 * An Angular module that gives you access to the browsers local storage
 * @version v0.2.2 - 2015-05-29
 * @link https://github.com/grevory/angular-local-storage
 * @author grevory <greg@gregpike.ca>
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
function(t,e,n){"use strict";var r=e.isDefined,i=e.isUndefined,o=e.isNumber,a=e.isObject,s=e.isArray,l=e.extend,u=e.toJson,c=e.module("LocalStorageModule",[]);c.provider("localStorageService",function(){this.prefix="ls",this.storageType="localStorage",this.cookie={expiry:30,path:"/"},this.notify={setItem:!0,removeItem:!1},this.setPrefix=function(t){return this.prefix=t,this},this.setStorageType=function(t){return this.storageType=t,this},this.setStorageCookie=function(t,e){return this.cookie.expiry=t,this.cookie.path=e,this},this.setStorageCookieDomain=function(t){return this.cookie.domain=t,this},this.setNotify=function(t,e){return this.notify={setItem:t,removeItem:e},this},this.$get=["$rootScope","$window","$document","$parse",function(t,e,n,c){var h,f=this,d=f.prefix,p=f.cookie,g=f.notify,m=f.storageType;n?n[0]&&(n=n[0]):n=document,"."!==d.substr(-1)&&(d=d?d+".":"");var v=function(t){return d+t},y=function(){try{var n=m in e&&null!==e[m],r=v("__"+Math.round(1e7*Math.random()));return n&&(h=e[m],h.setItem(r,""),h.removeItem(r)),n}catch(i){return m="cookie",t.$broadcast("LocalStorageModule.notification.error",i.message),!1}}(),w=function(e,n){if(n=i(n)?null:u(n),!y||"cookie"===f.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:"cookie"}),k(e,n);try{h&&h.setItem(v(e),n),g.setItem&&t.$broadcast("LocalStorageModule.notification.setitem",{key:e,newvalue:n,storageType:f.storageType})}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.message),k(e,n)}return!0},b=function(e){if(!y||"cookie"===f.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),S(e);var n=h?h.getItem(v(e)):null;if(!n||"null"===n)return null;try{return JSON.parse(n)}catch(r){return n}},x=function(){var e,n;for(e=0;e<arguments.length;e++)if(n=arguments[e],y&&"cookie"!==f.storageType)try{h.removeItem(v(n)),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:f.storageType})}catch(r){t.$broadcast("LocalStorageModule.notification.error",r.message),_(n)}else y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),g.removeItem&&t.$broadcast("LocalStorageModule.notification.removeitem",{key:n,storageType:"cookie"}),_(n)},C=function(){if(!y)return t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),!1;var e=d.length,n=[];for(var r in h)if(r.substr(0,e)===d)try{n.push(r.substr(e))}catch(i){return t.$broadcast("LocalStorageModule.notification.error",i.Description),[]}return n},T=function(e){var n=d?new RegExp("^"+d):new RegExp,r=e?new RegExp(e):new RegExp;if(!y||"cookie"===f.storageType)return y||t.$broadcast("LocalStorageModule.notification.warning","LOCAL_STORAGE_NOT_SUPPORTED"),$();var i=d.length;for(var o in h)if(n.test(o)&&r.test(o.substr(i)))try{x(o.substr(i))}catch(a){return t.$broadcast("LocalStorageModule.notification.error",a.message),$()}return!0},E=function(){try{return e.navigator.cookieEnabled||"cookie"in n&&(n.cookie.length>0||(n.cookie="test").indexOf.call(n.cookie,"test")>-1)}catch(r){return t.$broadcast("LocalStorageModule.notification.error",r.message),!1}}(),k=function(e,r,l){if(i(r))return!1;if((s(r)||a(r))&&(r=u(r)),!E)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;try{var c="",h=new Date,f="";if(null===r?(h.setTime(h.getTime()+-864e5),c="; expires="+h.toGMTString(),r=""):o(l)&&0!==l?(h.setTime(h.getTime()+24*l*60*60*1e3),c="; expires="+h.toGMTString()):0!==p.expiry&&(h.setTime(h.getTime()+24*p.expiry*60*60*1e3),c="; expires="+h.toGMTString()),e){var d="; path="+p.path;p.domain&&(f="; domain="+p.domain),n.cookie=v(e)+"="+encodeURIComponent(r)+c+d+f}}catch(g){return t.$broadcast("LocalStorageModule.notification.error",g.message),!1}return!0},S=function(e){if(!E)return t.$broadcast("LocalStorageModule.notification.error","COOKIES_NOT_SUPPORTED"),!1;for(var r=n.cookie&&n.cookie.split(";")||[],i=0;i<r.length;i++){for(var o=r[i];" "===o.charAt(0);)o=o.substring(1,o.length);if(0===o.indexOf(v(e)+"=")){var a=decodeURIComponent(o.substring(d.length+e.length+1,o.length));try{return JSON.parse(a)}catch(s){return a}}}return null},_=function(t){k(t,null)},$=function(){for(var t=null,e=d.length,r=n.cookie.split(";"),i=0;i<r.length;i++){for(t=r[i];" "===t.charAt(0);)t=t.substring(1,t.length);var o=t.substring(e,t.indexOf("="));_(o)}},A=function(){return m},D=function(t,e,n,i){i=i||e;var o=b(i);return null===o&&r(n)?o=n:a(o)&&a(n)&&(o=l(n,o)),c(e).assign(t,o),t.$watch(e,function(t){w(i,t)},a(t[e]))},M=function(){for(var t=0,n=e[m],r=0;r<n.length;r++)0===n.key(r).indexOf(d)&&t++;return t};return{isSupported:y,getStorageType:A,set:w,add:w,get:b,keys:C,remove:x,clearAll:T,bind:D,deriveKey:v,length:M,cookie:{isSupported:E,set:k,add:k,get:S,remove:_,clearAll:$}}}]})}(window,window.angular),/*
 * angular-ui-bootstrap
 * http://angular-ui.github.io/bootstrap/

 * Version: 0.12.1 - 2015-02-20
 * License: MIT
 */
angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.dateparser","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdown","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/day.html","template/datepicker/month.html","template/datepicker/popup.html","template/datepicker/year.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function(t,e,n){function r(t){for(var e in t)if(void 0!==o.style[e])return t[e]}var i=function(r,o,a){a=a||{};var s=t.defer(),l=i[a.animation?"animationEndEventName":"transitionEndEventName"],u=function(t){n.$apply(function(){r.unbind(l,u),s.resolve(r)})};return l&&r.bind(l,u),e(function(){angular.isString(o)?r.addClass(o):angular.isFunction(o)?o(r):angular.isObject(o)&&r.css(o),l||s.resolve(r)}),s.promise.cancel=function(){l&&r.unbind(l,u),s.reject("Transition cancelled")},s.promise},o=document.createElement("trans"),a={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},s={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return i.transitionEndEventName=r(a),i.animationEndEventName=r(s),i}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function(t){return{link:function(e,n,r){function i(e){function r(){u===i&&(u=void 0)}var i=t(n,e);return u&&u.cancel(),u=i,i.then(r,r),i}function o(){c?(c=!1,a()):(n.removeClass("collapse").addClass("collapsing"),i({height:n[0].scrollHeight+"px"}).then(a))}function a(){n.removeClass("collapsing"),n.addClass("collapse in"),n.css({height:"auto"})}function s(){if(c)c=!1,l(),n.css({height:0});else{n.css({height:n[0].scrollHeight+"px"});{n[0].offsetWidth}n.removeClass("collapse in").addClass("collapsing"),i({height:0}).then(l)}}function l(){n.removeClass("collapsing"),n.addClass("collapse")}var u,c=!0;e.$watch(r.collapse,function(t){t?s():o()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function(t,e,n){this.groups=[],this.closeOthers=function(r){var i=angular.isDefined(e.closeOthers)?t.$eval(e.closeOthers):n.closeOthers;i&&angular.forEach(this.groups,function(t){t!==r&&(t.isOpen=!1)})},this.addGroup=function(t){var e=this;this.groups.push(t),t.$on("$destroy",function(n){e.removeGroup(t)})},this.removeGroup=function(t){var e=this.groups.indexOf(t);-1!==e&&this.groups.splice(e,1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",function(){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@",isOpen:"=?",isDisabled:"=?"},controller:function(){this.setHeading=function(t){this.heading=t}},link:function(t,e,n,r){r.addGroup(t),t.$watch("isOpen",function(e){e&&r.closeOthers(t)}),t.toggleOpen=function(){t.isDisabled||(t.isOpen=!t.isOpen)}}}}).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",link:function(t,e,n,r,i){r.setHeading(i(t,function(){}))}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(t,e,n,r){t.$watch(function(){return r[n.accordionTransclude]},function(t){t&&(e.html(""),e.append(t))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function(t,e){t.closeable="close"in e,this.close=t.close}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"@",close:"&"}}}).directive("dismissOnTimeout",["$timeout",function(t){return{require:"alert",link:function(e,n,r,i){t(function(){i.close()},parseInt(r.dismissOnTimeout,10))}}}]),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(t,e,n){e.addClass("ng-binding").data("$binding",n.bindHtmlUnsafe),t.$watch(n.bindHtmlUnsafe,function(t){e.html(t||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(t){this.activeClass=t.activeClass||"active",this.toggleEvent=t.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(t,e,n,r){var i=r[0],o=r[1];o.$render=function(){e.toggleClass(i.activeClass,angular.equals(o.$modelValue,t.$eval(n.btnRadio)))},e.bind(i.toggleEvent,function(){var r=e.hasClass(i.activeClass);(!r||angular.isDefined(n.uncheckable))&&t.$apply(function(){o.$setViewValue(r?null:t.$eval(n.btnRadio)),o.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(t,e,n,r){function i(){return a(n.btnCheckboxTrue,!0)}function o(){return a(n.btnCheckboxFalse,!1)}function a(e,n){var r=t.$eval(e);return angular.isDefined(r)?r:n}var s=r[0],l=r[1];l.$render=function(){e.toggleClass(s.activeClass,angular.equals(l.$modelValue,i()))},e.bind(s.toggleEvent,function(){t.$apply(function(){l.$setViewValue(e.hasClass(s.activeClass)?o():i()),l.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$interval","$transition",function(t,e,n,r){function i(){o();var e=+t.interval;!isNaN(e)&&e>0&&(s=n(a,e))}function o(){s&&(n.cancel(s),s=null)}function a(){var e=+t.interval;l&&!isNaN(e)&&e>0?t.next():t.pause()}var s,l,u=this,c=u.slides=t.slides=[],h=-1;u.currentSlide=null;var f=!1;u.select=t.select=function(n,o){function a(){if(!f){if(u.currentSlide&&angular.isString(o)&&!t.noTransition&&n.$element){n.$element.addClass(o);{n.$element[0].offsetWidth}angular.forEach(c,function(t){angular.extend(t,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(n,{direction:o,active:!0,entering:!0}),angular.extend(u.currentSlide||{},{direction:o,leaving:!0}),t.$currentTransition=r(n.$element,{}),function(e,n){t.$currentTransition.then(function(){s(e,n)},function(){s(e,n)})}(n,u.currentSlide)}else s(n,u.currentSlide);u.currentSlide=n,h=l,i()}}function s(e,n){angular.extend(e,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(n||{},{direction:"",active:!1,leaving:!1,entering:!1}),t.$currentTransition=null}var l=c.indexOf(n);void 0===o&&(o=l>h?"next":"prev"),n&&n!==u.currentSlide&&(t.$currentTransition?(t.$currentTransition.cancel(),e(a)):a())},t.$on("$destroy",function(){f=!0}),u.indexOfSlide=function(t){return c.indexOf(t)},t.next=function(){var e=(h+1)%c.length;return t.$currentTransition?void 0:u.select(c[e],"next")},t.prev=function(){var e=0>h-1?c.length-1:h-1;return t.$currentTransition?void 0:u.select(c[e],"prev")},t.isActive=function(t){return u.currentSlide===t},t.$watch("interval",i),t.$on("$destroy",o),t.play=function(){l||(l=!0,i())},t.pause=function(){t.noPause||(l=!1,o())},u.addSlide=function(e,n){e.$element=n,c.push(e),1===c.length||e.active?(u.select(c[c.length-1]),1==c.length&&t.play()):e.active=!1},u.removeSlide=function(t){var e=c.indexOf(t);c.splice(e,1),c.length>0&&t.active?u.select(e>=c.length?c[e-1]:c[e]):h>e&&h--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",function(){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{active:"=?"},link:function(t,e,n,r){r.addSlide(t,e),t.$on("$destroy",function(){r.removeSlide(t)}),t.$watch("active",function(e){e&&r.select(t)})}}}),angular.module("ui.bootstrap.dateparser",[]).service("dateParser",["$locale","orderByFilter",function(t,e){function n(t){var n=[],r=t.split("");return angular.forEach(i,function(e,i){var o=t.indexOf(i);if(o>-1){t=t.split(""),r[o]="("+e.regex+")",t[o]="$";for(var a=o+1,s=o+i.length;s>a;a++)r[a]="",t[a]="$";t=t.join(""),n.push({index:o,apply:e.apply})}}),{regex:new RegExp("^"+r.join("")+"$"),map:e(n,"index")}}function r(t,e,n){return 1===e&&n>28?29===n&&(t%4===0&&t%100!==0||t%400===0):3===e||5===e||8===e||10===e?31>n:!0}this.parsers={};var i={yyyy:{regex:"\\d{4}",apply:function(t){this.year=+t}},yy:{regex:"\\d{2}",apply:function(t){this.year=+t+2e3}},y:{regex:"\\d{1,4}",apply:function(t){this.year=+t}},MMMM:{regex:t.DATETIME_FORMATS.MONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.MONTH.indexOf(e)}},MMM:{regex:t.DATETIME_FORMATS.SHORTMONTH.join("|"),apply:function(e){this.month=t.DATETIME_FORMATS.SHORTMONTH.indexOf(e)}},MM:{regex:"0[1-9]|1[0-2]",apply:function(t){this.month=t-1}},M:{regex:"[1-9]|1[0-2]",apply:function(t){this.month=t-1}},dd:{regex:"[0-2][0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},d:{regex:"[1-2]?[0-9]{1}|3[0-1]{1}",apply:function(t){this.date=+t}},EEEE:{regex:t.DATETIME_FORMATS.DAY.join("|")},EEE:{regex:t.DATETIME_FORMATS.SHORTDAY.join("|")}};this.parse=function(e,i){if(!angular.isString(e)||!i)return e;i=t.DATETIME_FORMATS[i]||i,this.parsers[i]||(this.parsers[i]=n(i));var o=this.parsers[i],a=o.regex,s=o.map,l=e.match(a);if(l&&l.length){for(var u,c={year:1900,month:0,date:1,hours:0},h=1,f=l.length;f>h;h++){var d=s[h-1];d.apply&&d.apply.call(c,l[h])}return r(c.year,c.month,c.date)&&(u=new Date(c.year,c.month,c.date,c.hours)),u}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function(t,e){function n(t,n){return t.currentStyle?t.currentStyle[n]:e.getComputedStyle?e.getComputedStyle(t)[n]:t.style[n]}function r(t){return"static"===(n(t,"position")||"static")}var i=function(e){for(var n=t[0],i=e.offsetParent||n;i&&i!==n&&r(i);)i=i.offsetParent;return i||n};return{position:function(e){var n=this.offset(e),r={top:0,left:0},o=i(e[0]);o!=t[0]&&(r=this.offset(angular.element(o)),r.top+=o.clientTop-o.scrollTop,r.left+=o.clientLeft-o.scrollLeft);var a=e[0].getBoundingClientRect();return{width:a.width||e.prop("offsetWidth"),height:a.height||e.prop("offsetHeight"),top:n.top-r.top,left:n.left-r.left}},offset:function(n){var r=n[0].getBoundingClientRect();return{width:r.width||n.prop("offsetWidth"),height:r.height||n.prop("offsetHeight"),top:r.top+(e.pageYOffset||t[0].documentElement.scrollTop),left:r.left+(e.pageXOffset||t[0].documentElement.scrollLeft)}},positionElements:function(t,e,n,r){var i,o,a,s,l=n.split("-"),u=l[0],c=l[1]||"center";i=r?this.offset(t):this.position(t),o=e.prop("offsetWidth"),a=e.prop("offsetHeight");var h={center:function(){return i.left+i.width/2-o/2},left:function(){return i.left},right:function(){return i.left+i.width}},f={center:function(){return i.top+i.height/2-a/2},top:function(){return i.top},bottom:function(){return i.top+i.height}};switch(u){case"right":s={top:f[c](),left:h[u]()};break;case"left":s={top:f[c](),left:i.left-o};break;case"bottom":s={top:f[u](),left:h[c]()};break;default:s={top:i.top-a,left:h[c]()}}return s}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.dateparser","ui.bootstrap.position"]).constant("datepickerConfig",{formatDay:"dd",formatMonth:"MMMM",formatYear:"yyyy",formatDayHeader:"EEE",formatDayTitle:"MMMM yyyy",formatMonthTitle:"yyyy",datepickerMode:"day",minMode:"day",maxMode:"year",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","$parse","$interpolate","$timeout","$log","dateFilter","datepickerConfig",function(t,e,n,r,i,o,a,s){var l=this,u={$setViewValue:angular.noop};this.modes=["day","month","year"],angular.forEach(["formatDay","formatMonth","formatYear","formatDayHeader","formatDayTitle","formatMonthTitle","minMode","maxMode","showWeeks","startingDay","yearRange"],function(n,i){l[n]=angular.isDefined(e[n])?8>i?r(e[n])(t.$parent):t.$parent.$eval(e[n]):s[n]}),angular.forEach(["minDate","maxDate"],function(r){e[r]?t.$parent.$watch(n(e[r]),function(t){l[r]=t?new Date(t):null,l.refreshView()}):l[r]=s[r]?new Date(s[r]):null}),t.datepickerMode=t.datepickerMode||s.datepickerMode,t.uniqueId="datepicker-"+t.$id+"-"+Math.floor(1e4*Math.random()),this.activeDate=angular.isDefined(e.initDate)?t.$parent.$eval(e.initDate):new Date,t.isActive=function(e){return 0===l.compare(e.date,l.activeDate)?(t.activeDateId=e.uid,!0):!1},this.init=function(t){u=t,u.$render=function(){l.render()}},this.render=function(){if(u.$modelValue){var t=new Date(u.$modelValue),e=!isNaN(t);e?this.activeDate=t:o.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.'),u.$setValidity("date",e)}this.refreshView()},this.refreshView=function(){if(this.element){this._refreshView();var t=u.$modelValue?new Date(u.$modelValue):null;u.$setValidity("date-disabled",!t||this.element&&!this.isDisabled(t))}},this.createDateObject=function(t,e){var n=u.$modelValue?new Date(u.$modelValue):null;return{date:t,label:a(t,e),selected:n&&0===this.compare(t,n),disabled:this.isDisabled(t),current:0===this.compare(t,new Date)}},this.isDisabled=function(n){return this.minDate&&this.compare(n,this.minDate)<0||this.maxDate&&this.compare(n,this.maxDate)>0||e.dateDisabled&&t.dateDisabled({date:n,mode:t.datepickerMode})},this.split=function(t,e){for(var n=[];t.length>0;)n.push(t.splice(0,e));return n},t.select=function(e){if(t.datepickerMode===l.minMode){var n=u.$modelValue?new Date(u.$modelValue):new Date(0,0,0,0,0,0,0);n.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),u.$setViewValue(n),u.$render()}else l.activeDate=e,t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)-1]},t.move=function(t){var e=l.activeDate.getFullYear()+t*(l.step.years||0),n=l.activeDate.getMonth()+t*(l.step.months||0);l.activeDate.setFullYear(e,n,1),l.refreshView()},t.toggleMode=function(e){e=e||1,t.datepickerMode===l.maxMode&&1===e||t.datepickerMode===l.minMode&&-1===e||(t.datepickerMode=l.modes[l.modes.indexOf(t.datepickerMode)+e])},t.keys={13:"enter",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down"};var c=function(){i(function(){l.element[0].focus()},0,!1)};t.$on("datepicker.focus",c),t.keydown=function(e){var n=t.keys[e.which];if(n&&!e.shiftKey&&!e.altKey)if(e.preventDefault(),e.stopPropagation(),"enter"===n||"space"===n){if(l.isDisabled(l.activeDate))return;t.select(l.activeDate),c()}else!e.ctrlKey||"up"!==n&&"down"!==n?(l.handleKeyDown(n,e),l.refreshView()):(t.toggleMode("up"===n?1:-1),c())}}]).directive("datepicker",function(){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{datepickerMode:"=?",dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(t,e,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}).directive("daypicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/day.html",require:"^datepicker",link:function(e,n,r,i){function o(t,e){return 1!==e||t%4!==0||t%100===0&&t%400!==0?l[e]:29}function a(t,e){var n=new Array(e),r=new Date(t),i=0;for(r.setHours(12);e>i;)n[i++]=new Date(r),r.setDate(r.getDate()+1);return n}function s(t){var e=new Date(t);e.setDate(e.getDate()+4-(e.getDay()||7));var n=e.getTime();return e.setMonth(0),e.setDate(1),Math.floor(Math.round((n-e)/864e5)/7)+1}e.showWeeks=i.showWeeks,i.step={months:1},i.element=n;var l=[31,28,31,30,31,30,31,31,30,31,30,31];i._refreshView=function(){var n=i.activeDate.getFullYear(),r=i.activeDate.getMonth(),o=new Date(n,r,1),l=i.startingDay-o.getDay(),u=l>0?7-l:-l,c=new Date(o);u>0&&c.setDate(-u+1);for(var h=a(c,42),f=0;42>f;f++)h[f]=angular.extend(i.createDateObject(h[f],i.formatDay),{secondary:h[f].getMonth()!==r,uid:e.uniqueId+"-"+f});e.labels=new Array(7);for(var d=0;7>d;d++)e.labels[d]={abbr:t(h[d].date,i.formatDayHeader),full:t(h[d].date,"EEEE")};if(e.title=t(i.activeDate,i.formatDayTitle),e.rows=i.split(h,7),e.showWeeks){e.weekNumbers=[];for(var p=s(e.rows[0][0].date),g=e.rows.length;e.weekNumbers.push(p++)<g;);}},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth(),t.getDate())-new Date(e.getFullYear(),e.getMonth(),e.getDate())},i.handleKeyDown=function(t,e){var n=i.activeDate.getDate();if("left"===t)n-=1;else if("up"===t)n-=7;else if("right"===t)n+=1;else if("down"===t)n+=7;else if("pageup"===t||"pagedown"===t){var r=i.activeDate.getMonth()+("pageup"===t?-1:1);i.activeDate.setMonth(r,1),n=Math.min(o(i.activeDate.getFullYear(),i.activeDate.getMonth()),n)}else"home"===t?n=1:"end"===t&&(n=o(i.activeDate.getFullYear(),i.activeDate.getMonth()));i.activeDate.setDate(n)},i.refreshView()}}}]).directive("monthpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/month.html",require:"^datepicker",link:function(e,n,r,i){i.step={years:1},i.element=n,i._refreshView=function(){for(var n=new Array(12),r=i.activeDate.getFullYear(),o=0;12>o;o++)n[o]=angular.extend(i.createDateObject(new Date(r,o,1),i.formatMonth),{uid:e.uniqueId+"-"+o});e.title=t(i.activeDate,i.formatMonthTitle),e.rows=i.split(n,3)},i.compare=function(t,e){return new Date(t.getFullYear(),t.getMonth())-new Date(e.getFullYear(),e.getMonth())},i.handleKeyDown=function(t,e){var n=i.activeDate.getMonth();if("left"===t)n-=1;else if("up"===t)n-=3;else if("right"===t)n+=1;else if("down"===t)n+=3;else if("pageup"===t||"pagedown"===t){var r=i.activeDate.getFullYear()+("pageup"===t?-1:1);i.activeDate.setFullYear(r)}else"home"===t?n=0:"end"===t&&(n=11);i.activeDate.setMonth(n)},i.refreshView()}}}]).directive("yearpicker",["dateFilter",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/year.html",require:"^datepicker",link:function(t,e,n,r){function i(t){return parseInt((t-1)/o,10)*o+1}var o=r.yearRange;r.step={years:o},r.element=e,r._refreshView=function(){for(var e=new Array(o),n=0,a=i(r.activeDate.getFullYear());o>n;n++)e[n]=angular.extend(r.createDateObject(new Date(a+n,0,1),r.formatYear),{uid:t.uniqueId+"-"+n});t.title=[e[0].label,e[o-1].label].join(" - "),t.rows=r.split(e,5)},r.compare=function(t,e){return t.getFullYear()-e.getFullYear()},r.handleKeyDown=function(t,e){var n=r.activeDate.getFullYear();"left"===t?n-=1:"up"===t?n-=5:"right"===t?n+=1:"down"===t?n+=5:"pageup"===t||"pagedown"===t?n+=("pageup"===t?-1:1)*r.step.years:"home"===t?n=i(r.activeDate.getFullYear()):"end"===t&&(n=i(r.activeDate.getFullYear())+o-1),r.activeDate.setFullYear(n)},r.refreshView()}}}]).constant("datepickerPopupConfig",{datepickerPopup:"yyyy-MM-dd",currentText:"Today",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","dateParser","datepickerPopupConfig",function(t,e,n,r,i,o,a){return{restrict:"EA",require:"ngModel",scope:{isOpen:"=?",currentText:"@",clearText:"@",closeText:"@",dateDisabled:"&"},link:function(s,l,u,c){function h(t){return t.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}function f(t){if(t){if(angular.isDate(t)&&!isNaN(t))return c.$setValidity("date",!0),t;if(angular.isString(t)){var e=o.parse(t,d)||new Date(t);return isNaN(e)?void c.$setValidity("date",!1):(c.$setValidity("date",!0),e)}return void c.$setValidity("date",!1)}return c.$setValidity("date",!0),null}var d,p=angular.isDefined(u.closeOnDateSelection)?s.$parent.$eval(u.closeOnDateSelection):a.closeOnDateSelection,g=angular.isDefined(u.datepickerAppendToBody)?s.$parent.$eval(u.datepickerAppendToBody):a.appendToBody;s.showButtonBar=angular.isDefined(u.showButtonBar)?s.$parent.$eval(u.showButtonBar):a.showButtonBar,s.getText=function(t){return s[t+"Text"]||a[t+"Text"]},u.$observe("datepickerPopup",function(t){d=t||a.datepickerPopup,c.$render()});var m=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");m.attr({"ng-model":"date","ng-change":"dateSelection()"});var v=angular.element(m.children()[0]);u.datepickerOptions&&angular.forEach(s.$parent.$eval(u.datepickerOptions),function(t,e){v.attr(h(e),t)}),s.watchData={},angular.forEach(["minDate","maxDate","datepickerMode"],function(t){if(u[t]){var n=e(u[t]);if(s.$parent.$watch(n,function(e){s.watchData[t]=e}),v.attr(h(t),"watchData."+t),"datepickerMode"===t){var r=n.assign;s.$watch("watchData."+t,function(t,e){t!==e&&r(s.$parent,t)})}}}),u.dateDisabled&&v.attr("date-disabled","dateDisabled({ date: date, mode: mode })"),c.$parsers.unshift(f),s.dateSelection=function(t){angular.isDefined(t)&&(s.date=t),c.$setViewValue(s.date),c.$render(),p&&(s.isOpen=!1,l[0].focus())},l.bind("input change keyup",function(){s.$apply(function(){s.date=c.$modelValue})}),c.$render=function(){var t=c.$viewValue?i(c.$viewValue,d):"";l.val(t),s.date=f(c.$modelValue)};var y=function(t){s.isOpen&&t.target!==l[0]&&s.$apply(function(){s.isOpen=!1})},w=function(t,e){s.keydown(t)};l.bind("keydown",w),s.keydown=function(t){27===t.which?(t.preventDefault(),t.stopPropagation(),s.close()):40!==t.which||s.isOpen||(s.isOpen=!0)},s.$watch("isOpen",function(t){t?(s.$broadcast("datepicker.focus"),s.position=g?r.offset(l):r.position(l),s.position.top=s.position.top+l.prop("offsetHeight"),n.bind("click",y)):n.unbind("click",y)}),s.select=function(t){if("today"===t){var e=new Date;angular.isDate(c.$modelValue)?(t=new Date(c.$modelValue),t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate())):t=new Date(e.setHours(0,0,0,0))}s.dateSelection(t)},s.close=function(){s.isOpen=!1,l[0].focus()};var b=t(m)(s);m.remove(),g?n.find("body").append(b):l.after(b),s.$on("$destroy",function(){b.remove(),l.unbind("keydown",w),n.unbind("click",y)})}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(t,e,n){e.bind("click",function(t){t.preventDefault(),t.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdown",[]).constant("dropdownConfig",{openClass:"open"}).service("dropdownService",["$document",function(t){var e=null;this.open=function(i){e||(t.bind("click",n),t.bind("keydown",r)),e&&e!==i&&(e.isOpen=!1),e=i},this.close=function(i){e===i&&(e=null,t.unbind("click",n),t.unbind("keydown",r))};var n=function(t){if(e){var n=e.getToggleElement();t&&n&&n[0].contains(t.target)||e.$apply(function(){e.isOpen=!1})}},r=function(t){27===t.which&&(e.focusToggleElement(),n())}}]).controller("DropdownController",["$scope","$attrs","$parse","dropdownConfig","dropdownService","$animate",function(t,e,n,r,i,o){var a,s=this,l=t.$new(),u=r.openClass,c=angular.noop,h=e.onToggle?n(e.onToggle):angular.noop;this.init=function(r){s.$element=r,e.isOpen&&(a=n(e.isOpen),c=a.assign,t.$watch(a,function(t){l.isOpen=!!t}))},this.toggle=function(t){return l.isOpen=arguments.length?!!t:!l.isOpen},this.isOpen=function(){return l.isOpen},l.getToggleElement=function(){return s.toggleElement},l.focusToggleElement=function(){s.toggleElement&&s.toggleElement[0].focus()},l.$watch("isOpen",function(e,n){o[e?"addClass":"removeClass"](s.$element,u),e?(l.focusToggleElement(),i.open(l)):i.close(l),c(t,e),angular.isDefined(e)&&e!==n&&h(t,{open:!!e})}),t.$on("$locationChangeSuccess",function(){l.isOpen=!1}),t.$on("$destroy",function(){l.$destroy()})}]).directive("dropdown",function(){return{controller:"DropdownController",link:function(t,e,n,r){r.init(e)}}}).directive("dropdownToggle",function(){return{require:"?^dropdown",link:function(t,e,n,r){if(r){r.toggleElement=e;var i=function(i){i.preventDefault(),e.hasClass("disabled")||n.disabled||t.$apply(function(){r.toggle()})};e.bind("click",i),e.attr({"aria-haspopup":!0,"aria-expanded":!1}),t.$watch(r.isOpen,function(t){e.attr("aria-expanded",!!t)}),t.$on("$destroy",function(){e.unbind("click",i)})}}}}),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var t=[];return{add:function(e,n){t.push({key:e,value:n})},get:function(e){for(var n=0;n<t.length;n++)if(e==t[n].key)return t[n]},keys:function(){for(var e=[],n=0;n<t.length;n++)e.push(t[n].key);return e},top:function(){return t[t.length-1]},remove:function(e){for(var n=-1,r=0;r<t.length;r++)if(e==t[r].key){n=r;break}return t.splice(n,1)[0]},removeTop:function(){return t.splice(t.length-1,1)[0]},length:function(){return t.length}}}}}).directive("modalBackdrop",["$timeout",function(t){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(e,n,r){e.backdropClass=r.backdropClass||"",e.animate=!1,t(function(){e.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function(t,e){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:function(t,e){return e.templateUrl||"template/modal/window.html"},link:function(n,r,i){r.addClass(i.windowClass||""),n.size=i.size,e(function(){n.animate=!0,r[0].querySelectorAll("[autofocus]").length||r[0].focus()}),n.close=function(e){var n=t.getTop();n&&n.value.backdrop&&"static"!=n.value.backdrop&&e.target===e.currentTarget&&(e.preventDefault(),e.stopPropagation(),t.dismiss(n.key,"backdrop click"))}}}}]).directive("modalTransclude",function(){return{link:function(t,e,n,r,i){i(t.$parent,function(t){e.empty(),e.append(t)})}}}).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function(t,e,n,r,i,o){function a(){for(var t=-1,e=d.keys(),n=0;n<e.length;n++)d.get(e[n]).value.backdrop&&(t=n);return t}function s(t){var e=n.find("body").eq(0),r=d.get(t).value;d.remove(t),u(r.modalDomEl,r.modalScope,300,function(){r.modalScope.$destroy(),e.toggleClass(f,d.length()>0),l()})}function l(){if(c&&-1==a()){var t=h;u(c,h,150,function(){t.$destroy(),t=null}),c=void 0,h=void 0}}function u(n,r,i,o){function a(){a.done||(a.done=!0,n.remove(),o&&o())}r.animate=!1;var s=t.transitionEndEventName;if(s){var l=e(a,i);n.bind(s,function(){e.cancel(l),a(),r.$apply()})}else e(a)}var c,h,f="modal-open",d=o.createNew(),p={};return i.$watch(a,function(t){h&&(h.index=t)}),n.bind("keydown",function(t){var e;27===t.which&&(e=d.top(),e&&e.value.keyboard&&(t.preventDefault(),i.$apply(function(){p.dismiss(e.key,"escape key press")})))}),p.open=function(t,e){d.add(t,{deferred:e.deferred,modalScope:e.scope,backdrop:e.backdrop,keyboard:e.keyboard});var o=n.find("body").eq(0),s=a();if(s>=0&&!c){h=i.$new(!0),h.index=s;var l=angular.element("<div modal-backdrop></div>");l.attr("backdrop-class",e.backdropClass),c=r(l)(h),o.append(c)}var u=angular.element("<div modal-window></div>");u.attr({"template-url":e.windowTemplateUrl,"window-class":e.windowClass,size:e.size,index:d.length()-1,animate:"animate"}).html(e.content);var p=r(u)(e.scope);d.top().value.modalDomEl=p,o.append(p),o.addClass(f)},p.close=function(t,e){var n=d.get(t);n&&(n.value.deferred.resolve(e),s(t))},p.dismiss=function(t,e){var n=d.get(t);n&&(n.value.deferred.reject(e),s(t))},p.dismissAll=function(t){for(var e=this.getTop();e;)this.dismiss(e.key,t),e=this.getTop()},p.getTop=function(){return d.top()},p}]).provider("$modal",function(){var t={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function(e,n,r,i,o,a,s){function l(t){return t.template?r.when(t.template):i.get(angular.isFunction(t.templateUrl)?t.templateUrl():t.templateUrl,{cache:o}).then(function(t){return t.data})}function u(t){var n=[];return angular.forEach(t,function(t){(angular.isFunction(t)||angular.isArray(t))&&n.push(r.when(e.invoke(t)))}),n}var c={};return c.open=function(e){var i=r.defer(),o=r.defer(),c={result:i.promise,opened:o.promise,close:function(t){s.close(c,t)},dismiss:function(t){s.dismiss(c,t)}};if(e=angular.extend({},t.options,e),e.resolve=e.resolve||{},!e.template&&!e.templateUrl)throw new Error("One of template or templateUrl options is required.");var h=r.all([l(e)].concat(u(e.resolve)));return h.then(function(t){var r=(e.scope||n).$new();r.$close=c.close,r.$dismiss=c.dismiss;var o,l={},u=1;e.controller&&(l.$scope=r,l.$modalInstance=c,angular.forEach(e.resolve,function(e,n){l[n]=t[u++]}),o=a(e.controller,l),e.controllerAs&&(r[e.controllerAs]=o)),s.open(c,{scope:r,deferred:i,content:t[0],backdrop:e.backdrop,keyboard:e.keyboard,backdropClass:e.backdropClass,windowClass:e.windowClass,windowTemplateUrl:e.windowTemplateUrl,size:e.size})},function(t){i.reject(t)}),h.then(function(){o.resolve(!0)},function(){o.reject(!1)}),c},c}]};return t}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse",function(t,e,n){var r=this,i={$setViewValue:angular.noop},o=e.numPages?n(e.numPages).assign:angular.noop;this.init=function(o,a){i=o,this.config=a,i.$render=function(){r.render()},e.itemsPerPage?t.$parent.$watch(n(e.itemsPerPage),function(e){r.itemsPerPage=parseInt(e,10),t.totalPages=r.calculateTotalPages()}):this.itemsPerPage=a.itemsPerPage},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.render=function(){t.page=parseInt(i.$viewValue,10)||1},t.selectPage=function(e){t.page!==e&&e>0&&e<=t.totalPages&&(i.$setViewValue(e),i.$render())},t.getText=function(e){return t[e+"Text"]||r.config[e+"Text"]},t.noPrevious=function(){return 1===t.page},t.noNext=function(){return t.page===t.totalPages},t.$watch("totalItems",function(){t.totalPages=r.calculateTotalPages()}),t.$watch("totalPages",function(e){o(t.$parent,e),t.page>e?t.selectPage(e):i.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"=",firstText:"@",previousText:"@",nextText:"@",lastText:"@"},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(n,r,i,o){function a(t,e,n){return{number:t,text:e,active:n}}function s(t,e){var n=[],r=1,i=e,o=angular.isDefined(c)&&e>c;o&&(h?(r=Math.max(t-Math.floor(c/2),1),i=r+c-1,i>e&&(i=e,r=i-c+1)):(r=(Math.ceil(t/c)-1)*c+1,i=Math.min(r+c-1,e)));for(var s=r;i>=s;s++){var l=a(s,s,s===t);n.push(l)}if(o&&!h){if(r>1){var u=a(r-1,"...",!1);n.unshift(u)}if(e>i){var f=a(i+1,"...",!1);n.push(f)}}return n}var l=o[0],u=o[1];if(u){var c=angular.isDefined(i.maxSize)?n.$parent.$eval(i.maxSize):e.maxSize,h=angular.isDefined(i.rotate)?n.$parent.$eval(i.rotate):e.rotate;n.boundaryLinks=angular.isDefined(i.boundaryLinks)?n.$parent.$eval(i.boundaryLinks):e.boundaryLinks,
n.directionLinks=angular.isDefined(i.directionLinks)?n.$parent.$eval(i.directionLinks):e.directionLinks,l.init(u,e),i.maxSize&&n.$parent.$watch(t(i.maxSize),function(t){c=parseInt(t,10),l.render()});var f=l.render;l.render=function(){f(),n.page>0&&n.page<=n.totalPages&&(n.pages=s(n.page,n.totalPages))}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"=",previousText:"@",nextText:"@"},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,n,r,i){var o=i[0],a=i[1];a&&(e.align=angular.isDefined(r.align)?e.$parent.$eval(r.align):t.align,o.init(a,t))}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function t(t){var e=/[A-Z]/g,n="-";return t.replace(e,function(t,e){return(e?n:"")+t.toLowerCase()})}var e={placement:"top",animation:!0,popupDelay:0},n={mouseenter:"mouseleave",click:"click",focus:"blur"},r={};this.options=function(t){angular.extend(r,t)},this.setTriggers=function(t){angular.extend(n,t)},this.$get=["$window","$compile","$timeout","$document","$position","$interpolate",function(i,o,a,s,l,u){return function(i,c,h){function f(t){var e=t||d.trigger||h,r=n[e]||e;return{show:e,hide:r}}var d=angular.extend({},e,r),p=t(i),g=u.startSymbol(),m=u.endSymbol(),v="<div "+p+'-popup title="'+g+"title"+m+'" content="'+g+"content"+m+'" placement="'+g+"placement"+m+'" animation="animation" is-open="isOpen"></div>';return{restrict:"EA",compile:function(t,e){var n=o(v);return function(t,e,r){function o(){A.isOpen?h():u()}function u(){(!$||t.$eval(r[c+"Enable"]))&&(y(),A.popupDelay?k||(k=a(p,A.popupDelay,!1),k.then(function(t){t()})):p()())}function h(){t.$apply(function(){g()})}function p(){return k=null,E&&(a.cancel(E),E=null),A.content?(m(),C.css({top:0,left:0,display:"block"}),A.$digest(),D(),A.isOpen=!0,A.$digest(),D):angular.noop}function g(){A.isOpen=!1,a.cancel(k),k=null,A.animation?E||(E=a(v,500)):v()}function m(){C&&v(),T=A.$new(),C=n(T,function(t){S?s.find("body").append(t):e.after(t)})}function v(){E=null,C&&(C.remove(),C=null),T&&(T.$destroy(),T=null)}function y(){w(),b()}function w(){var t=r[c+"Placement"];A.placement=angular.isDefined(t)?t:d.placement}function b(){var t=r[c+"PopupDelay"],e=parseInt(t,10);A.popupDelay=isNaN(e)?d.popupDelay:e}function x(){var t=r[c+"Trigger"];M(),_=f(t),_.show===_.hide?e.bind(_.show,o):(e.bind(_.show,u),e.bind(_.hide,h))}var C,T,E,k,S=angular.isDefined(d.appendToBody)?d.appendToBody:!1,_=f(void 0),$=angular.isDefined(r[c+"Enable"]),A=t.$new(!0),D=function(){var t=l.positionElements(e,C,A.placement,S);t.top+="px",t.left+="px",C.css(t)};A.isOpen=!1,r.$observe(i,function(t){A.content=t,!t&&A.isOpen&&g()}),r.$observe(c+"Title",function(t){A.title=t});var M=function(){e.unbind(_.show,u),e.unbind(_.hide,h)};x();var R=t.$eval(r[c+"Animation"]);A.animation=angular.isDefined(R)?!!R:d.animation;var P=t.$eval(r[c+"AppendToBody"]);S=angular.isDefined(P)?P:S,S&&t.$on("$locationChangeSuccess",function(){A.isOpen&&g()}),t.$on("$destroy",function(){a.cancel(E),a.cancel(k),M(),v(),A=null})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function(t){return t("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function(t){return t("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function(t){return t("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",[]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig",function(t,e,n){var r=this,i=angular.isDefined(e.animate)?t.$parent.$eval(e.animate):n.animate;this.bars=[],t.max=angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max,this.addBar=function(e,n){i||n.css({transition:"none"}),this.bars.push(e),e.$watch("value",function(n){e.percent=+(100*n/t.max).toFixed(2)}),e.$on("$destroy",function(){n=null,r.removeBar(e)})},this.removeBar=function(t){this.bars.splice(this.bars.indexOf(t),1)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},templateUrl:"template/progressbar/progress.html"}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(t,e,n,r){r.addBar(t,e)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(t,e,n,r){r.addBar(t,angular.element(e.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","ratingConfig",function(t,e,n){var r={$setViewValue:angular.noop};this.init=function(i){r=i,r.$render=this.render,this.stateOn=angular.isDefined(e.stateOn)?t.$parent.$eval(e.stateOn):n.stateOn,this.stateOff=angular.isDefined(e.stateOff)?t.$parent.$eval(e.stateOff):n.stateOff;var o=angular.isDefined(e.ratingStates)?t.$parent.$eval(e.ratingStates):new Array(angular.isDefined(e.max)?t.$parent.$eval(e.max):n.max);t.range=this.buildTemplateObjects(o)},this.buildTemplateObjects=function(t){for(var e=0,n=t.length;n>e;e++)t[e]=angular.extend({index:e},{stateOn:this.stateOn,stateOff:this.stateOff},t[e]);return t},t.rate=function(e){!t.readonly&&e>=0&&e<=t.range.length&&(r.$setViewValue(e),r.$render())},t.enter=function(e){t.readonly||(t.value=e),t.onHover({value:e})},t.reset=function(){t.value=r.$viewValue,t.onLeave()},t.onKeydown=function(e){/(37|38|39|40)/.test(e.which)&&(e.preventDefault(),e.stopPropagation(),t.rate(t.value+(38===e.which||39===e.which?1:-1)))},this.render=function(){t.value=r.$viewValue}}]).directive("rating",function(){return{restrict:"EA",require:["rating","ngModel"],scope:{readonly:"=?",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0,link:function(t,e,n,r){var i=r[0],o=r[1];o&&i.init(o)}}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function(t){var e=this,n=e.tabs=t.tabs=[];e.select=function(t){angular.forEach(n,function(e){e.active&&e!==t&&(e.active=!1,e.onDeselect())}),t.active=!0,t.onSelect()},e.addTab=function(t){n.push(t),1===n.length?t.active=!0:t.active&&e.select(t)},e.removeTab=function(t){var i=n.indexOf(t);if(t.active&&n.length>1&&!r){var o=i==n.length-1?i-1:i+1;e.select(n[o])}n.splice(i,1)};var r;t.$on("$destroy",function(){r=!0})}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{type:"@"},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(t,e,n){t.vertical=angular.isDefined(n.vertical)?t.$parent.$eval(n.vertical):!1,t.justified=angular.isDefined(n.justified)?t.$parent.$eval(n.justified):!1}}}).directive("tab",["$parse",function(t){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{active:"=?",heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(e,n,r){return function(e,n,i,o){e.$watch("active",function(t){t&&o.select(e)}),e.disabled=!1,i.disabled&&e.$parent.$watch(t(i.disabled),function(t){e.disabled=!!t}),e.select=function(){e.disabled||(e.active=!0)},o.addTab(e),e.$on("$destroy",function(){o.removeTab(e)}),e.$transcludeFn=r}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(t,e,n,r){t.$watch("headingElement",function(t){t&&(e.html(""),e.append(t))})}}}]).directive("tabContentTransclude",function(){function t(t){return t.tagName&&(t.hasAttribute("tab-heading")||t.hasAttribute("data-tab-heading")||"tab-heading"===t.tagName.toLowerCase()||"data-tab-heading"===t.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(e,n,r){var i=e.$eval(r.tabContentTransclude);i.$transcludeFn(i.$parent,function(e){angular.forEach(e,function(e){t(e)?i.headingElement=e:n.append(e)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).controller("TimepickerController",["$scope","$attrs","$parse","$log","$locale","timepickerConfig",function(t,e,n,r,i,o){function a(){var e=parseInt(t.hours,10),n=t.showMeridian?e>0&&13>e:e>=0&&24>e;return n?(t.showMeridian&&(12===e&&(e=0),t.meridian===g[1]&&(e+=12)),e):void 0}function s(){var e=parseInt(t.minutes,10);return e>=0&&60>e?e:void 0}function l(t){return angular.isDefined(t)&&t.toString().length<2?"0"+t:t}function u(t){c(),p.$setViewValue(new Date(d)),h(t)}function c(){p.$setValidity("time",!0),t.invalidHours=!1,t.invalidMinutes=!1}function h(e){var n=d.getHours(),r=d.getMinutes();t.showMeridian&&(n=0===n||12===n?12:n%12),t.hours="h"===e?n:l(n),t.minutes="m"===e?r:l(r),t.meridian=d.getHours()<12?g[0]:g[1]}function f(t){var e=new Date(d.getTime()+6e4*t);d.setHours(e.getHours(),e.getMinutes()),u()}var d=new Date,p={$setViewValue:angular.noop},g=angular.isDefined(e.meridians)?t.$parent.$eval(e.meridians):o.meridians||i.DATETIME_FORMATS.AMPMS;this.init=function(n,r){p=n,p.$render=this.render;var i=r.eq(0),a=r.eq(1),s=angular.isDefined(e.mousewheel)?t.$parent.$eval(e.mousewheel):o.mousewheel;s&&this.setupMousewheelEvents(i,a),t.readonlyInput=angular.isDefined(e.readonlyInput)?t.$parent.$eval(e.readonlyInput):o.readonlyInput,this.setupInputEvents(i,a)};var m=o.hourStep;e.hourStep&&t.$parent.$watch(n(e.hourStep),function(t){m=parseInt(t,10)});var v=o.minuteStep;e.minuteStep&&t.$parent.$watch(n(e.minuteStep),function(t){v=parseInt(t,10)}),t.showMeridian=o.showMeridian,e.showMeridian&&t.$parent.$watch(n(e.showMeridian),function(e){if(t.showMeridian=!!e,p.$error.time){var n=a(),r=s();angular.isDefined(n)&&angular.isDefined(r)&&(d.setHours(n),u())}else h()}),this.setupMousewheelEvents=function(e,n){var r=function(t){t.originalEvent&&(t=t.originalEvent);var e=t.wheelDelta?t.wheelDelta:-t.deltaY;return t.detail||e>0};e.bind("mousewheel wheel",function(e){t.$apply(r(e)?t.incrementHours():t.decrementHours()),e.preventDefault()}),n.bind("mousewheel wheel",function(e){t.$apply(r(e)?t.incrementMinutes():t.decrementMinutes()),e.preventDefault()})},this.setupInputEvents=function(e,n){if(t.readonlyInput)return t.updateHours=angular.noop,void(t.updateMinutes=angular.noop);var r=function(e,n){p.$setViewValue(null),p.$setValidity("time",!1),angular.isDefined(e)&&(t.invalidHours=e),angular.isDefined(n)&&(t.invalidMinutes=n)};t.updateHours=function(){var t=a();angular.isDefined(t)?(d.setHours(t),u("h")):r(!0)},e.bind("blur",function(e){!t.invalidHours&&t.hours<10&&t.$apply(function(){t.hours=l(t.hours)})}),t.updateMinutes=function(){var t=s();angular.isDefined(t)?(d.setMinutes(t),u("m")):r(void 0,!0)},n.bind("blur",function(e){!t.invalidMinutes&&t.minutes<10&&t.$apply(function(){t.minutes=l(t.minutes)})})},this.render=function(){var t=p.$modelValue?new Date(p.$modelValue):null;isNaN(t)?(p.$setValidity("time",!1),r.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(t&&(d=t),c(),h())},t.incrementHours=function(){f(60*m)},t.decrementHours=function(){f(60*-m)},t.incrementMinutes=function(){f(v)},t.decrementMinutes=function(){f(-v)},t.toggleMeridian=function(){f(720*(d.getHours()<12?1:-1))}}]).directive("timepicker",function(){return{restrict:"EA",require:["timepicker","?^ngModel"],controller:"TimepickerController",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(t,e,n,r){var i=r[0],o=r[1];o&&i.init(o,e.find("input"))}}}),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function(t){var e=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+([\s\S]+?)$/;return{parse:function(n){var r=n.match(e);if(!r)throw new Error('Expected typeahead specification in form of "_modelValue_ (as _label_)? for _item_ in _collection_" but got "'+n+'".');return{itemName:r[3],source:t(r[4]),viewMapper:t(r[2]||r[1]),modelMapper:t(r[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function(t,e,n,r,i,o,a){var s=[9,13,27,38,40];return{require:"ngModel",link:function(l,u,c,h){var f,d=l.$eval(c.typeaheadMinLength)||1,p=l.$eval(c.typeaheadWaitMs)||0,g=l.$eval(c.typeaheadEditable)!==!1,m=e(c.typeaheadLoading).assign||angular.noop,v=e(c.typeaheadOnSelect),y=c.typeaheadInputFormatter?e(c.typeaheadInputFormatter):void 0,w=c.typeaheadAppendToBody?l.$eval(c.typeaheadAppendToBody):!1,b=l.$eval(c.typeaheadFocusFirst)!==!1,x=e(c.ngModel).assign,C=a.parse(c.typeahead),T=l.$new();l.$on("$destroy",function(){T.$destroy()});var E="typeahead-"+T.$id+"-"+Math.floor(1e4*Math.random());u.attr({"aria-autocomplete":"list","aria-expanded":!1,"aria-owns":E});var k=angular.element("<div typeahead-popup></div>");k.attr({id:E,matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(c.typeaheadTemplateUrl)&&k.attr("template-url",c.typeaheadTemplateUrl);var S=function(){T.matches=[],T.activeIdx=-1,u.attr("aria-expanded",!1)},_=function(t){return E+"-option-"+t};T.$watch("activeIdx",function(t){0>t?u.removeAttr("aria-activedescendant"):u.attr("aria-activedescendant",_(t))});var $=function(t){var e={$viewValue:t};m(l,!0),n.when(C.source(l,e)).then(function(n){var r=t===h.$viewValue;if(r&&f)if(n.length>0){T.activeIdx=b?0:-1,T.matches.length=0;for(var i=0;i<n.length;i++)e[C.itemName]=n[i],T.matches.push({id:_(i),label:C.viewMapper(T,e),model:n[i]});T.query=t,T.position=w?o.offset(u):o.position(u),T.position.top=T.position.top+u.prop("offsetHeight"),u.attr("aria-expanded",!0)}else S();r&&m(l,!1)},function(){S(),m(l,!1)})};S(),T.query=void 0;var A,D=function(t){A=r(function(){$(t)},p)},M=function(){A&&r.cancel(A)};h.$parsers.unshift(function(t){return f=!0,t&&t.length>=d?p>0?(M(),D(t)):$(t):(m(l,!1),M(),S()),g?t:t?void h.$setValidity("editable",!1):(h.$setValidity("editable",!0),t)}),h.$formatters.push(function(t){var e,n,r={};return y?(r.$model=t,y(l,r)):(r[C.itemName]=t,e=C.viewMapper(l,r),r[C.itemName]=void 0,n=C.viewMapper(l,r),e!==n?e:t)}),T.select=function(t){var e,n,i={};i[C.itemName]=n=T.matches[t].model,e=C.modelMapper(l,i),x(l,e),h.$setValidity("editable",!0),v(l,{$item:n,$model:e,$label:C.viewMapper(l,i)}),S(),r(function(){u[0].focus()},0,!1)},u.bind("keydown",function(t){0!==T.matches.length&&-1!==s.indexOf(t.which)&&(-1!=T.activeIdx||13!==t.which&&9!==t.which)&&(t.preventDefault(),40===t.which?(T.activeIdx=(T.activeIdx+1)%T.matches.length,T.$digest()):38===t.which?(T.activeIdx=(T.activeIdx>0?T.activeIdx:T.matches.length)-1,T.$digest()):13===t.which||9===t.which?T.$apply(function(){T.select(T.activeIdx)}):27===t.which&&(t.stopPropagation(),S(),T.$digest()))}),u.bind("blur",function(t){f=!1});var R=function(t){u[0]!==t.target&&(S(),T.$digest())};i.bind("click",R),l.$on("$destroy",function(){i.unbind("click",R),w&&P.remove()});var P=t(k)(T);w?i.find("body").append(P):u.after(P)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(t,e,n){t.templateUrl=n.templateUrl,t.isOpen=function(){return t.matches.length>0},t.isActive=function(e){return t.active==e},t.selectActive=function(e){t.active=e},t.selectMatch=function(e){t.select({activeIdx:e})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function(t,e,n,r){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(i,o,a){var s=r(a.templateUrl)(i.$parent)||"template/typeahead/typeahead-match.html";t.get(s,{cache:e}).success(function(t){o.replaceWith(n(t.trim())(i))})}}}]).filter("typeaheadHighlight",function(){function t(t){return t.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(e,n){return n?(""+e).replace(new RegExp(t(n),"gi"),"<strong>$&</strong>"):e}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a href class="accordion-toggle" ng-click="toggleOpen()" accordion-transclude="heading"><span ng-class="{\'text-muted\': isDisabled}">{{heading}}</span></a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>\n')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function(t){t.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function(t){t.put("template/alert/alert.html",'<div class="alert" ng-class="[\'alert-\' + (type || \'warning\'), closeable ? \'alert-dismissable\' : null]" role="alert">\n    <button ng-show="closeable" type="button" class="close" ng-click="close()">\n        <span aria-hidden="true">&times;</span>\n        <span class="sr-only">Close</span>\n    </button>\n    <div ng-transclude></div>\n</div>\n')}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function(t){t.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel" ng-swipe-right="prev()" ng-swipe-left="next()">\n    <ol class="carousel-indicators" ng-show="slides.length > 1">\n        <li ng-repeat="slide in slides track by $index" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-left"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides.length > 1"><span class="glyphicon glyphicon-chevron-right"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function(t){t.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/datepicker.html",'<div ng-switch="datepickerMode" role="application" ng-keydown="keydown($event)">\n  <daypicker ng-switch-when="day" tabindex="0"></daypicker>\n  <monthpicker ng-switch-when="month" tabindex="0"></monthpicker>\n  <yearpicker ng-switch-when="year" tabindex="0"></yearpicker>\n</div>')}]),angular.module("template/datepicker/day.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/day.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{5 + showWeeks}}"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr>\n      <th ng-show="showWeeks" class="text-center"></th>\n      <th ng-repeat="label in labels track by $index" class="text-center"><small aria-label="{{label.full}}">{{label.abbr}}</small></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-show="showWeeks" class="text-center h6"><em>{{ weekNumbers[$index] }}</em></td>\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-muted\': dt.secondary, \'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/month.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/month.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/popup.html",'<ul class="dropdown-menu" ng-style="{display: (isOpen && \'block\') || \'none\', top: position.top+\'px\', left: position.left+\'px\'}" ng-keydown="keydown($event)">\n	<li ng-transclude></li>\n	<li ng-if="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group pull-left">\n			<button type="button" class="btn btn-sm btn-info" ng-click="select(\'today\')">{{ getText(\'current\') }}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="select(null)">{{ getText(\'clear\') }}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="close()">{{ getText(\'close\') }}</button>\n	</li>\n</ul>\n')}]),angular.module("template/datepicker/year.html",[]).run(["$templateCache",function(t){t.put("template/datepicker/year.html",'<table role="grid" aria-labelledby="{{uniqueId}}-title" aria-activedescendant="{{activeDateId}}">\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="3"><button id="{{uniqueId}}-title" role="heading" aria-live="assertive" aria-atomic="true" type="button" class="btn btn-default btn-sm" ng-click="toggleMode()" tabindex="-1" style="width:100%;"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)" tabindex="-1"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows track by $index">\n      <td ng-repeat="dt in row track by dt.date" class="text-center" role="gridcell" id="{{dt.uid}}" aria-disabled="{{!!dt.disabled}}">\n        <button type="button" style="width:100%;" class="btn btn-default" ng-class="{\'btn-info\': dt.selected, active: isActive(dt)}" ng-click="select(dt.date)" ng-disabled="dt.disabled" tabindex="-1"><span ng-class="{\'text-info\': dt.current}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function(t){t.put("template/modal/backdrop.html",'<div class="modal-backdrop fade {{ backdropClass }}"\n     ng-class="{in: animate}"\n     ng-style="{\'z-index\': 1040 + (index && 1 || 0) + index*10}"\n></div>\n')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function(t){t.put("template/modal/window.html",'<div tabindex="-1" role="dialog" class="modal fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog" ng-class="{\'modal-sm\': size == \'sm\', \'modal-lg\': size == \'lg\'}"><div class="modal-content" modal-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-class="{disabled: noPrevious(), previous: align}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-class="{disabled: noNext(), next: align}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function(t){t.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-if="boundaryLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(1)">{{getText(\'first\')}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noPrevious()}"><a href ng-click="selectPage(page - 1)">{{getText(\'previous\')}}</a></li>\n  <li ng-repeat="page in pages track by $index" ng-class="{active: page.active}"><a href ng-click="selectPage(page.number)">{{page.text}}</a></li>\n  <li ng-if="directionLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(page + 1)">{{getText(\'next\')}}</a></li>\n  <li ng-if="boundaryLinks" ng-class="{disabled: noNext()}"><a href ng-click="selectPage(totalPages)">{{getText(\'last\')}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function(t){t.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function(t){t.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function(t){t.put("template/progressbar/progressbar.html",'<div class="progress">\n  <div class="progress-bar" ng-class="type && \'progress-bar-\' + type" role="progressbar" aria-valuenow="{{value}}" aria-valuemin="0" aria-valuemax="{{max}}" ng-style="{width: percent + \'%\'}" aria-valuetext="{{percent | number:0}}%" ng-transclude></div>\n</div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function(t){t.put("template/rating/rating.html",'<span ng-mouseleave="reset()" ng-keydown="onKeydown($event)" tabindex="0" role="slider" aria-valuemin="0" aria-valuemax="{{range.length}}" aria-valuenow="{{value}}">\n    <i ng-repeat="r in range track by $index" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < value && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')">\n        <span class="sr-only">({{ $index < value ? \'*\' : \' \' }})</span>\n    </i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a href ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function(t){t.put("template/tabs/tabset.html",'<div>\n  <ul class="nav nav-{{type || \'tabs\'}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function(t){t.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n');

}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function(t){t.put("template/typeahead/typeahead-popup.html",'<ul class="dropdown-menu" ng-show="isOpen()" ng-style="{top: position.top+\'px\', left: position.left+\'px\'}" style="display: block;" role="listbox" aria-hidden="{{!isOpen()}}">\n    <li ng-repeat="match in matches track by $index" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)" role="option" id="{{match.id}}">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>\n')}]),/*!
 * angular-aside - v1.1.2
 * https://github.com/dbtek/angular-aside
 * 2015-03-04
 * Copyright (c) 2015 İsmail Demirbilek
 * License: MIT
 */
function(){angular.module("ngAside",["ui.bootstrap.modal"])}(),function(){function t(t){var e=this.defaults={placement:"left"},n={open:function(n){var r=angular.extend({},e,n);-1===["left","right","bottom","top"].indexOf(r.placement)&&(r.placement=e.placement);var i=-1===["left","right"].indexOf(r.placement)?"vertical":"horizontal";return r.windowClass="ng-aside "+i+" "+r.placement+(r.windowClass?" "+r.windowClass:""),delete r.placement,t.open(r)}},r=angular.extend({},t,n);return r}angular.module("ngAside").factory("$aside",t),t.$inject=["$modal"]}(),/*!
 * angular-translate - v2.7.2 - 2015-06-01
 * http://github.com/angular-translate/angular-translate
 * Copyright (c) 2015 ; Licensed MIT
 */
function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t){"use strict";var e=t.storageKey(),n=t.storage(),r=function(){var r=t.preferredLanguage();angular.isString(r)?t.use(r):n.put(e,t.use())};r.displayName="fallbackFromIncorrectStorageValue",n?n.get(e)?t.use(n.get(e))["catch"](r):r():angular.isString(t.preferredLanguage())&&t.use(t.preferredLanguage())}function e(){"use strict";var t,e,n=null,r=!1,i=!1;e={sanitize:function(t,e){return"text"===e&&(t=a(t)),t},escape:function(t,e){return"text"===e&&(t=o(t)),t},sanitizeParameters:function(t,e){return"params"===e&&(t=s(t,a)),t},escapeParameters:function(t,e){return"params"===e&&(t=s(t,o)),t}},e.escaped=e.escapeParameters,this.addStrategy=function(t,n){return e[t]=n,this},this.removeStrategy=function(t){return delete e[t],this},this.useStrategy=function(t){return r=!0,n=t,this},this.$get=["$injector","$log",function(o,a){var s=function(t,n,r){return angular.forEach(r,function(r){if(angular.isFunction(r))t=r(t,n);else{if(!angular.isFunction(e[r]))throw new Error("pascalprecht.translate.$translateSanitization: Unknown sanitization strategy: '"+r+"'");t=e[r](t,n)}}),t},l=function(){r||i||(a.warn("pascalprecht.translate.$translateSanitization: No sanitization strategy has been configured. This can have serious security implications. See http://angular-translate.github.io/docs/#/guide/19_security for details."),i=!0)};return o.has("$sanitize")&&(t=o.get("$sanitize")),{useStrategy:function(t){return function(e){t.useStrategy(e)}}(this),sanitize:function(t,e,r){if(n||l(),arguments.length<3&&(r=n),!r)return t;var i=angular.isArray(r)?r:[r];return s(t,e,i)}}}];var o=function(t){var e=angular.element("<div></div>");return e.text(t),e.html()},a=function(e){if(!t)throw new Error("pascalprecht.translate.$translateSanitization: Error cannot find $sanitize service. Either include the ngSanitize module (https://docs.angularjs.org/api/ngSanitize) or use a sanitization strategy which does not depend on $sanitize, such as 'escape'.");return t(e)},s=function(t,e){if(angular.isObject(t)){var n=angular.isArray(t)?[]:{};return angular.forEach(t,function(t,r){n[r]=s(t,e)}),n}return angular.isNumber(t)?t:e(t)}}function n(t,e,n,r){"use strict";var i,o,a,s,l,u,c,h,f,d,p,g,m,v,y,w={},b=[],x=t,C=[],T="translate-cloak",E=!1,k=!1,S=".",_=0,$=!0,A="default",D={"default":function(t){return(t||"").split("-").join("_")},java:function(t){var e=(t||"").split("-").join("_"),n=e.split("_");return n.length>1?n[0].toLowerCase()+"_"+n[1].toUpperCase():e},bcp47:function(t){var e=(t||"").split("_").join("-"),n=e.split("-");return n.length>1?n[0].toLowerCase()+"-"+n[1].toUpperCase():e}},M="2.7.2",R=function(){if(angular.isFunction(r.getLocale))return r.getLocale();var t,n,i=e.$get().navigator,o=["language","browserLanguage","systemLanguage","userLanguage"];if(angular.isArray(i.languages))for(t=0;t<i.languages.length;t++)if(n=i.languages[t],n&&n.length)return n;for(t=0;t<o.length;t++)if(n=i[o[t]],n&&n.length)return n;return null};R.displayName="angular-translate/service: getFirstBrowserLanguage";var P=function(){var t=R()||"";return D[A]&&(t=D[A](t)),t};P.displayName="angular-translate/service: getLocale";var O=function(t,e){for(var n=0,r=t.length;r>n;n++)if(t[n]===e)return n;return-1},L=function(){return this.toString().replace(/^\s+|\s+$/g,"")},I=function(t){for(var e=[],n=angular.lowercase(t),r=0,i=b.length;i>r;r++)e.push(angular.lowercase(b[r]));if(O(e,n)>-1)return t;if(o){var a;for(var s in o){var l=!1,u=Object.prototype.hasOwnProperty.call(o,s)&&angular.lowercase(s)===angular.lowercase(t);if("*"===s.slice(-1)&&(l=s.slice(0,-1)===t.slice(0,s.length-1)),(u||l)&&(a=o[s],O(e,angular.lowercase(a))>-1))return a}}if(t){var c=t.split("_");if(c.length>1&&O(e,angular.lowercase(c[0]))>-1)return c[0]}return t},N=function(t,e){if(!t&&!e)return w;if(t&&!e){if(angular.isString(t))return w[t]}else angular.isObject(w[t])||(w[t]={}),angular.extend(w[t],B(e));return this};this.translations=N,this.cloakClassName=function(t){return t?(T=t,this):T};var B=function(t,e,n,r){var i,o,a,s;e||(e=[]),n||(n={});for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(s=t[i],angular.isObject(s)?B(s,e.concat(i),n,i):(o=e.length?""+e.join(S)+S+i:i,e.length&&i===r&&(a=""+e.join(S),n[a]="@:"+o),n[o]=s));return n};B.displayName="flatObject",this.addInterpolation=function(t){return C.push(t),this},this.useMessageFormatInterpolation=function(){return this.useInterpolation("$translateMessageFormatInterpolation")},this.useInterpolation=function(t){return d=t,this},this.useSanitizeValueStrategy=function(t){return n.useStrategy(t),this},this.preferredLanguage=function(t){return H(t),this};var H=function(t){return t&&(i=t),i};this.translationNotFoundIndicator=function(t){return this.translationNotFoundIndicatorLeft(t),this.translationNotFoundIndicatorRight(t),this},this.translationNotFoundIndicatorLeft=function(t){return t?(m=t,this):m},this.translationNotFoundIndicatorRight=function(t){return t?(v=t,this):v},this.fallbackLanguage=function(t){return F(t),this};var F=function(t){return t?(angular.isString(t)?(s=!0,a=[t]):angular.isArray(t)&&(s=!1,a=t),angular.isString(i)&&O(a,i)<0&&a.push(i),this):s?a[0]:a};this.use=function(t){if(t){if(!w[t]&&!p)throw new Error("$translateProvider couldn't find translationTable for langKey: '"+t+"'");return l=t,this}return l};var V=function(t){return t?(x=t,this):h?h+x:x};this.storageKey=V,this.useUrlLoader=function(t,e){return this.useLoader("$translateUrlLoader",angular.extend({url:t},e))},this.useStaticFilesLoader=function(t){return this.useLoader("$translateStaticFilesLoader",t)},this.useLoader=function(t,e){return p=t,g=e||{},this},this.useLocalStorage=function(){return this.useStorage("$translateLocalStorage")},this.useCookieStorage=function(){return this.useStorage("$translateCookieStorage")},this.useStorage=function(t){return c=t,this},this.storagePrefix=function(t){return t?(h=t,this):t},this.useMissingTranslationHandlerLog=function(){return this.useMissingTranslationHandler("$translateMissingTranslationHandlerLog")},this.useMissingTranslationHandler=function(t){return f=t,this},this.usePostCompiling=function(t){return E=!!t,this},this.forceAsyncReload=function(t){return k=!!t,this},this.uniformLanguageTag=function(t){return t?angular.isString(t)&&(t={standard:t}):t={},A=t.standard,this},this.determinePreferredLanguage=function(t){var e=t&&angular.isFunction(t)?t():P();return i=b.length?I(e):e,this},this.registerAvailableLanguageKeys=function(t,e){return t?(b=t,e&&(o=e),this):b},this.useLoaderCache=function(t){return t===!1?y=void 0:t===!0?y=!0:"undefined"==typeof t?y="$translationCache":t&&(y=t),this},this.directivePriority=function(t){return void 0===t?_:(_=t,this)},this.statefulFilter=function(t){return void 0===t?$:($=t,this)},this.$get=["$log","$injector","$rootScope","$q",function(t,e,n,r){var o,h,b,S=e.get(d||"$translateDefaultInterpolation"),A=!1,D={},R={},P=function(t,e,n,s){if(angular.isArray(t)){var u=function(t){for(var i={},o=[],a=function(t){var o=r.defer(),a=function(e){i[t]=e,o.resolve([t,e])};return P(t,e,n,s).then(a,a),o.promise},l=0,u=t.length;u>l;l++)o.push(a(t[l]));return r.all(o).then(function(){return i})};return u(t)}var f=r.defer();t&&(t=L.apply(t));var d=function(){var t=i?R[i]:R[l];if(h=0,c&&!t){var e=o.get(x);if(t=R[e],a&&a.length){var n=O(a,e);h=0===n?1:0,O(a,i)<0&&a.push(i)}}return t}();if(d){var p=function(){tt(t,e,n,s).then(f.resolve,f.reject)};p.displayName="promiseResolved",d["finally"](p,f.reject)}else tt(t,e,n,s).then(f.resolve,f.reject);return f.promise},q=function(t){return m&&(t=[m,t].join(" ")),v&&(t=[t,v].join(" ")),t},j=function(t){l=t,n.$emit("$translateChangeSuccess",{language:t}),c&&o.put(P.storageKey(),l),S.setLocale(l);var e=function(t,e){D[e].setLocale(l)};e.displayName="eachInterpolatorLocaleSetter",angular.forEach(D,e),n.$emit("$translateChangeEnd",{language:t})},z=function(t){if(!t)throw"No language key specified for loading.";var i=r.defer();n.$emit("$translateLoadingStart",{language:t}),A=!0;var o=y;"string"==typeof o&&(o=e.get(o));var a=angular.extend({},g,{key:t,$http:angular.extend({},{cache:o},g.$http)}),s=function(e){var r={};n.$emit("$translateLoadingSuccess",{language:t}),angular.isArray(e)?angular.forEach(e,function(t){angular.extend(r,B(t))}):angular.extend(r,B(e)),A=!1,i.resolve({key:t,table:r}),n.$emit("$translateLoadingEnd",{language:t})};s.displayName="onLoaderSuccess";var l=function(t){n.$emit("$translateLoadingError",{language:t}),i.reject(t),n.$emit("$translateLoadingEnd",{language:t})};return l.displayName="onLoaderError",e.get(p)(a).then(s,l),i.promise};if(c&&(o=e.get(c),!o.get||!o.put))throw new Error("Couldn't use storage '"+c+"', missing get() or put() method!");if(C.length){var W=function(t){var n=e.get(t);n.setLocale(i||l),D[n.getInterpolationIdentifier()]=n};W.displayName="interpolationFactoryAdder",angular.forEach(C,W)}var U=function(t){var e=r.defer();if(Object.prototype.hasOwnProperty.call(w,t))e.resolve(w[t]);else if(R[t]){var n=function(t){N(t.key,t.table),e.resolve(t.table)};n.displayName="translationTableResolver",R[t].then(n,e.reject)}else e.reject();return e.promise},Y=function(t,e,n,i){var o=r.defer(),a=function(r){if(Object.prototype.hasOwnProperty.call(r,e)){i.setLocale(t);var a=r[e];"@:"===a.substr(0,2)?Y(t,a.substr(2),n,i).then(o.resolve,o.reject):o.resolve(i.interpolate(r[e],n)),i.setLocale(l)}else o.reject()};return a.displayName="fallbackTranslationResolver",U(t).then(a,o.reject),o.promise},X=function(t,e,n,r){var i,o=w[t];if(o&&Object.prototype.hasOwnProperty.call(o,e)){if(r.setLocale(t),i=r.interpolate(o[e],n),"@:"===i.substr(0,2))return X(t,i.substr(2),n,r);r.setLocale(l)}return i},G=function(t,n){if(f){var r=e.get(f)(t,l,n);return void 0!==r?r:t}return t},K=function(t,e,n,i,o){var s=r.defer();if(t<a.length){var l=a[t];Y(l,e,n,i).then(s.resolve,function(){K(t+1,e,n,i,o).then(s.resolve)})}else s.resolve(o?o:G(e,n));return s.promise},Z=function(t,e,n,r){var i;if(t<a.length){var o=a[t];i=X(o,e,n,r),i||(i=Z(t+1,e,n,r))}return i},J=function(t,e,n,r){return K(b>0?b:h,t,e,n,r)},Q=function(t,e,n){return Z(b>0?b:h,t,e,n)},tt=function(t,e,n,i){var o=r.defer(),s=l?w[l]:w,u=n?D[n]:S;if(s&&Object.prototype.hasOwnProperty.call(s,t)){var c=s[t];"@:"===c.substr(0,2)?P(c.substr(2),e,n,i).then(o.resolve,o.reject):o.resolve(u.interpolate(c,e))}else{var h;f&&!A&&(h=G(t,e)),l&&a&&a.length?J(t,e,u,i).then(function(t){o.resolve(t)},function(t){o.reject(q(t))}):f&&!A&&h?o.resolve(i?i:h):i?o.resolve(i):o.reject(q(t))}return o.promise},et=function(t,e,n){var r,i=l?w[l]:w,o=S;if(D&&Object.prototype.hasOwnProperty.call(D,n)&&(o=D[n]),i&&Object.prototype.hasOwnProperty.call(i,t)){var s=i[t];r="@:"===s.substr(0,2)?et(s.substr(2),e,n):o.interpolate(s,e)}else{var u;f&&!A&&(u=G(t,e)),l&&a&&a.length?(h=0,r=Q(t,e,o)):r=f&&!A&&u?u:q(t)}return r},nt=function(t){u===t&&(u=void 0),R[t]=void 0};if(P.preferredLanguage=function(t){return t&&H(t),i},P.cloakClassName=function(){return T},P.fallbackLanguage=function(t){if(void 0!==t&&null!==t){if(F(t),p&&a&&a.length)for(var e=0,n=a.length;n>e;e++)R[a[e]]||(R[a[e]]=z(a[e]));P.use(P.use())}return s?a[0]:a},P.useFallbackLanguage=function(t){if(void 0!==t&&null!==t)if(t){var e=O(a,t);e>-1&&(b=e)}else b=0},P.proposedLanguage=function(){return u},P.storage=function(){return o},P.use=function(t){if(!t)return l;var e=r.defer();n.$emit("$translateChangeStart",{language:t});var i=I(t);return i&&(t=i),!k&&w[t]||!p||R[t]?u===t&&R[t]?R[t].then(function(t){return e.resolve(t.key),t},function(t){return e.reject(t),r.reject(t)}):(e.resolve(t),j(t)):(u=t,R[t]=z(t).then(function(t){return N(t.key,t.table),e.resolve(t.key),j(t.key),t},function(t){return n.$emit("$translateChangeError",{language:t}),e.reject(t),n.$emit("$translateChangeEnd",{language:t}),r.reject(t)}),R[t]["finally"](function(){nt(t)})),e.promise},P.storageKey=function(){return V()},P.isPostCompilingEnabled=function(){return E},P.isForceAsyncReloadEnabled=function(){return k},P.refresh=function(t){function e(){o.resolve(),n.$emit("$translateRefreshEnd",{language:t})}function i(){o.reject(),n.$emit("$translateRefreshEnd",{language:t})}if(!p)throw new Error("Couldn't refresh translation table, no loader registered!");var o=r.defer();if(n.$emit("$translateRefreshStart",{language:t}),t)if(w[t]){var s=function(n){N(n.key,n.table),t===l&&j(l),e()};s.displayName="refreshPostProcessor",z(t).then(s,i)}else i();else{var u=[],c={};if(a&&a.length)for(var h=0,f=a.length;f>h;h++)u.push(z(a[h])),c[a[h]]=!0;l&&!c[l]&&u.push(z(l));var d=function(t){w={},angular.forEach(t,function(t){N(t.key,t.table)}),l&&j(l),e()};d.displayName="refreshPostProcessor",r.all(u).then(d,i)}return o.promise},P.instant=function(t,e,n){if(null===t||angular.isUndefined(t))return t;if(angular.isArray(t)){for(var r={},o=0,s=t.length;s>o;o++)r[t[o]]=P.instant(t[o],e,n);return r}if(angular.isString(t)&&t.length<1)return t;t&&(t=L.apply(t));var u,c=[];i&&c.push(i),l&&c.push(l),a&&a.length&&(c=c.concat(a));for(var h=0,d=c.length;d>h;h++){var p=c[h];if(w[p]&&("undefined"!=typeof w[p][t]?u=et(t,e,n):(m||v)&&(u=q(t))),"undefined"!=typeof u)break}return u||""===u||(u=S.interpolate(t,e),f&&!A&&(u=G(t,e))),u},P.versionInfo=function(){return M},P.loaderCache=function(){return y},P.directivePriority=function(){return _},P.statefulFilter=function(){return $},p&&(angular.equals(w,{})&&P.use(P.use()),a&&a.length))for(var rt=function(t){return N(t.key,t.table),n.$emit("$translateChangeEnd",{language:t.key}),t},it=0,ot=a.length;ot>it;it++){var at=a[it];(k||!w[at])&&(R[at]=z(at).then(rt))}return P}]}function r(t,e){"use strict";var n,r={},i="default";return r.setLocale=function(t){n=t},r.getInterpolationIdentifier=function(){return i},r.useSanitizeValueStrategy=function(t){return e.useStrategy(t),this},r.interpolate=function(n,r){r=r||{},r=e.sanitize(r,"params");var i=t(n)(r);return i=e.sanitize(i,"text")},r}function i(t,e,n,r,i,o){"use strict";var a=function(){return this.toString().replace(/^\s+|\s+$/g,"")};return{restrict:"AE",scope:!0,priority:t.directivePriority(),compile:function(e,s){var l=s.translateValues?s.translateValues:void 0,u=s.translateInterpolation?s.translateInterpolation:void 0,c=e[0].outerHTML.match(/translate-value-+/i),h="^(.*)("+n.startSymbol()+".*"+n.endSymbol()+")(.*)",f="^(.*)"+n.startSymbol()+"(.*)"+n.endSymbol()+"(.*)";return function(e,d,p){e.interpolateParams={},e.preText="",e.postText="";var g={},m=function(t,n,r){if(n.translateValues&&angular.extend(t,i(n.translateValues)(e.$parent)),c)for(var o in r)if(Object.prototype.hasOwnProperty.call(n,o)&&"translateValue"===o.substr(0,14)&&"translateValues"!==o){var a=angular.lowercase(o.substr(14,1))+o.substr(15);t[a]=r[o]}},v=function(t){if(angular.isFunction(v._unwatchOld)&&(v._unwatchOld(),v._unwatchOld=void 0),angular.equals(t,"")||!angular.isDefined(t)){var r=a.apply(d.text()).match(h);if(angular.isArray(r)){e.preText=r[1],e.postText=r[3],g.translate=n(r[2])(e.$parent);var i=d.text().match(f);angular.isArray(i)&&i[2]&&i[2].length&&(v._unwatchOld=e.$watch(i[2],function(t){g.translate=t,T()}))}else g.translate=d.text().replace(/^\s+|\s+$/g,"")}else g.translate=t;T()},y=function(t){p.$observe(t,function(e){g[t]=e,T()})};m(e.interpolateParams,p,s);var w=!0;p.$observe("translate",function(t){"undefined"==typeof t?v(""):""===t&&w||(g.translate=t,T()),w=!1});for(var b in p)p.hasOwnProperty(b)&&"translateAttr"===b.substr(0,13)&&y(b);if(p.$observe("translateDefault",function(t){e.defaultText=t}),l&&p.$observe("translateValues",function(t){t&&e.$parent.$watch(function(){angular.extend(e.interpolateParams,i(t)(e.$parent))})}),c){var x=function(t){p.$observe(t,function(n){var r=angular.lowercase(t.substr(14,1))+t.substr(15);e.interpolateParams[r]=n})};for(var C in p)Object.prototype.hasOwnProperty.call(p,C)&&"translateValue"===C.substr(0,14)&&"translateValues"!==C&&x(C)}var T=function(){for(var t in g)g.hasOwnProperty(t)&&void 0!==g[t]&&E(t,g[t],e,e.interpolateParams,e.defaultText)},E=function(e,n,r,i,o){n?t(n,i,u,o).then(function(t){k(t,r,!0,e)},function(t){k(t,r,!1,e)}):k(n,r,!1,e)},k=function(e,n,i,o){if("translate"===o){i||"undefined"==typeof n.defaultText||(e=n.defaultText),d.html(n.preText+e+n.postText);var a=t.isPostCompilingEnabled(),l="undefined"!=typeof s.translateCompile,u=l&&"false"!==s.translateCompile;(a&&!l||u)&&r(d.contents())(n)}else{i||"undefined"==typeof n.defaultText||(e=n.defaultText);var c=p.$attr[o];"data-"===c.substr(0,5)&&(c=c.substr(5)),c=c.substr(15),d.attr(c,e)}};(l||c||p.translateDefault)&&e.$watch("interpolateParams",T,!0);var S=o.$on("$translateChangeSuccess",T);d.text().length?v(p.translate?p.translate:""):p.translate&&v(p.translate),T(),e.$on("$destroy",S)}}}}function o(t,e){"use strict";return{compile:function(n){var r=function(){n.addClass(e.cloakClassName())},i=function(){n.removeClass(e.cloakClassName())},o=t.$on("$translateChangeEnd",function(){i(),o(),o=null});return r(),function(t,n,o){o.translateCloak&&o.translateCloak.length&&o.$observe("translateCloak",function(t){e(t).then(i,r)})}}}}function a(t,e){"use strict";var n=function(n,r,i){return angular.isObject(r)||(r=t(r)(this)),e.instant(n,r,i)};return e.statefulFilter()&&(n.$stateful=!0),n}function s(t){"use strict";return t("translations")}return angular.module("pascalprecht.translate",["ng"]).run(t),t.$inject=["$translate"],t.displayName="runTranslate",angular.module("pascalprecht.translate").provider("$translateSanitization",e),angular.module("pascalprecht.translate").constant("pascalprechtTranslateOverrider",{}).provider("$translate",n),n.$inject=["$STORAGE_KEY","$windowProvider","$translateSanitizationProvider","pascalprechtTranslateOverrider"],n.displayName="displayName",angular.module("pascalprecht.translate").factory("$translateDefaultInterpolation",r),r.$inject=["$interpolate","$translateSanitization"],r.displayName="$translateDefaultInterpolation",angular.module("pascalprecht.translate").constant("$STORAGE_KEY","NG_TRANSLATE_LANG_KEY"),angular.module("pascalprecht.translate").directive("translate",i),i.$inject=["$translate","$q","$interpolate","$compile","$parse","$rootScope"],i.displayName="translateDirective",angular.module("pascalprecht.translate").directive("translateCloak",o),o.$inject=["$rootScope","$translate"],o.displayName="translateCloakDirective",angular.module("pascalprecht.translate").filter("translate",a),a.$inject=["$parse","$translate"],a.displayName="translateFilterFactory",angular.module("pascalprecht.translate").factory("$translationCache",s),s.$inject=["$cacheFactory"],s.displayName="$translationCache","pascalprecht.translate"}),/*!
 * angular-translate - v2.7.2 - 2015-06-01
 * http://github.com/angular-translate/angular-translate
 * Copyright (c) 2015 ; Licensed MIT
 */
function(t,e){"function"==typeof define&&define.amd?define([],function(){return e()}):"object"==typeof exports?module.exports=e():e()}(this,function(){function t(t,e){"use strict";return function(n){if(!(n&&(angular.isArray(n.files)||angular.isString(n.prefix)&&angular.isString(n.suffix))))throw new Error("Couldn't load static files, no files and prefix or suffix specified!");n.files||(n.files=[{prefix:n.prefix,suffix:n.suffix}]);for(var r=function(r){if(!r||!angular.isString(r.prefix)||!angular.isString(r.suffix))throw new Error("Couldn't load static file, no prefix or suffix specified!");var i=t.defer();return e(angular.extend({url:[r.prefix,n.key,r.suffix].join(""),method:"GET",params:""},n.$http)).success(function(t){i.resolve(t)}).error(function(){i.reject(n.key)}),i.promise},i=t.defer(),o=[],a=n.files.length,s=0;a>s;s++)o.push(r({prefix:n.files[s].prefix,key:n.key,suffix:n.files[s].suffix}));return t.all(o).then(function(t){for(var e=t.length,n={},r=0;e>r;r++)for(var o in t[r])n[o]=t[r][o];i.resolve(n)},function(t){i.reject(t)}),i.promise}}return angular.module("pascalprecht.translate").factory("$translateStaticFilesLoader",t),t.$inject=["$q","$http"],t.displayName="$translateStaticFilesLoader","pascalprecht.translate"});